[{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453647443","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453647443","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453647443,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY0NzQ0Mw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T20:27:49Z","updated_at":"2019-01-11T20:27:49Z","author_association":"CONTRIBUTOR","body":"Good catch @potiuk \r\n\r\nSince the `dag_stats` is gone, we should also remove all the migrations:\r\n```\r\nMacBook-Pro-van-Fokko:incubator-airflow fokkodriesprong$ grep -R \"dag_stats\" airflow/migrations/\r\nairflow/migrations//versions/a56c9515abdc_remove_dag_stat_table.py:    op.drop_table(\"dag_stats\")\r\nairflow/migrations//versions/a56c9515abdc_remove_dag_stat_table.py:    op.create_table('dag_stats',\r\nBinary file airflow/migrations//versions/__pycache__/f2ca10b85618_add_dag_stats_table.cpython-37.pyc matches\r\nBinary file airflow/migrations//versions/__pycache__/f2ca10b85618_add_dag_stats_table.cpython-36.pyc matches\r\nairflow/migrations//versions/f2ca10b85618_add_dag_stats_table.py:\"\"\"add dag_stats table\r\nairflow/migrations//versions/f2ca10b85618_add_dag_stats_table.py:    op.create_table('dag_stats',\r\nairflow/migrations//versions/f2ca10b85618_add_dag_stats_table.py:    op.drop_table('dag_stats')\r\n```","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453647443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453648050","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453648050","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453648050,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY0ODA1MA==","user":{"login":"ashb","id":34150,"node_id":"MDQ6VXNlcjM0MTUw","avatar_url":"https://avatars.githubusercontent.com/u/34150?v=4","gravatar_id":"","url":"https://api.github.com/users/ashb","html_url":"https://github.com/ashb","followers_url":"https://api.github.com/users/ashb/followers","following_url":"https://api.github.com/users/ashb/following{/other_user}","gists_url":"https://api.github.com/users/ashb/gists{/gist_id}","starred_url":"https://api.github.com/users/ashb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashb/subscriptions","organizations_url":"https://api.github.com/users/ashb/orgs","repos_url":"https://api.github.com/users/ashb/repos","events_url":"https://api.github.com/users/ashb/events{/privacy}","received_events_url":"https://api.github.com/users/ashb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T20:31:16Z","updated_at":"2019-01-11T20:31:16Z","author_association":"MEMBER","body":"Ah I'm out of date. Remove the migrations or introduce a migration to drop the table?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453648050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453648469","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453648469","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453648469,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY0ODQ2OQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T20:33:48Z","updated_at":"2019-01-11T20:33:48Z","author_association":"CONTRIBUTOR","body":"I think Github is out of date: https://status.github.com/messages\n\nOp vr 11 jan. 2019 om 21:32 schreef Ash Berlin-Taylor <\nnotifications@github.com>:\n\n> Ah I'm out of date. Remove the migrations or introduce a migration to drop\n> the table?\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/airflow/pull/4488#issuecomment-453648050>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ABFOqGW5g2-0_FrokmbolOVoEE-4IU4Uks5vCPTEgaJpZM4Z7v9G>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453648469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453649024","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453649024","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453649024,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY0OTAyNA==","user":{"login":"ashb","id":34150,"node_id":"MDQ6VXNlcjM0MTUw","avatar_url":"https://avatars.githubusercontent.com/u/34150?v=4","gravatar_id":"","url":"https://api.github.com/users/ashb","html_url":"https://github.com/ashb","followers_url":"https://api.github.com/users/ashb/followers","following_url":"https://api.github.com/users/ashb/following{/other_user}","gists_url":"https://api.github.com/users/ashb/gists{/gist_id}","starred_url":"https://api.github.com/users/ashb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashb/subscriptions","organizations_url":"https://api.github.com/users/ashb/orgs","repos_url":"https://api.github.com/users/ashb/repos","events_url":"https://api.github.com/users/ashb/events{/privacy}","received_events_url":"https://api.github.com/users/ashb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T20:36:17Z","updated_at":"2019-01-11T20:36:17Z","author_association":"MEMBER","body":"I meant my knowledge :D","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453649024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453651122","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453651122","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453651122,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY1MTEyMg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T20:44:49Z","updated_at":"2019-01-11T20:44:49Z","author_association":"CONTRIBUTOR","body":"Just kidding :-)\n\nIf the table is completely removed, as in\nhttps://github.com/apache/airflow/pull/4368 the migrations will break. The\ndag_stats is now replaced by a group by query to simplify Airflow and also\nthe dag_stats wasn't always correct. Therefore it has been removed for\nAirflow 2.0. My suggestion would be to remove all the migrations as well.\nIn existing Airflow setups the dag_stats table will persist, but won't be\nused anymore. In new setups, the table won't be created anymore (because\nthe model is removed). What do you think?\n\nOp vr 11 jan. 2019 om 21:36 schreef Ash Berlin-Taylor <\nnotifications@github.com>:\n\n> I meant my knowledge :D\n>\n> —\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/airflow/pull/4488#issuecomment-453649024>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ABFOqFLcv5jbvSTCqGEtGwgezs5C0_HHks5vCPXOgaJpZM4Z7v9G>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453651122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453675025","html_url":"https://github.com/apache/airflow/pull/4483#issuecomment-453675025","issue_url":"https://api.github.com/repos/apache/airflow/issues/4483","id":453675025,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY3NTAyNQ==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T22:18:05Z","updated_at":"2019-01-11T22:18:34Z","author_association":"MEMBER","body":"I created a Multi-Layered Dockerfile pull request from my private repo : https://github.com/ffinfo/incubator-airflow/pull/1 (https://github.com/potiuk/incubator-airflow/commit/f7e3e2646823122c05f0075e5b019b21426a90fa) . This improves the original Dockerfile in the following ways:\r\n* there are several layers of the image:\r\n  * two apt-get layers for basic/complex dependencie\r\n  * upgrade apt-get layer for future upgrades in apt-get dependencies\r\n  * layer with pip airflow dependencies installed\r\n  * layer with source changes of airflow\r\n  * layer with additional pip dependencies\r\n* Cassandra driver install time is vastly decreased - no CYTHON compilation is done which shortens the build time by 10 minutes or so. Also automatically multi-processor build (8 processors) is enabled. This all can be changed by simply changing the default values. also it can be overwritten by --build-arg flag of `docker build`\r\n\r\nThis should work as follows (if caching is enabled in dockerhub):\r\n- if only airflow sources change without setup.py dependencies (which is most common case) only the last layer is rebuild, all the other layers are taken from the cache. This should not only speed up the build time but also amount of data downloaded by the users/developers. This can also be forced by increasing value of FORCE_REINSTALL_AIRFLOW_SOURCES env in the Dockerfile\r\n- if dependencies are changed in setup.py, then last two layers are invalidated and rebuilt - all dependencies will be installed from scratch. This can also be forced by increasing the value of FORCE_REINSTALL_ALL_PIP_DEPENDENCIES\r\n- if we want to upgrade all apt-get dependencies we can increase the value of FORCE_UPGRADE_OF_APT_GET variable in the Dockerfile - this will invalidate the cache and force \"apt-get upgrade\"\r\n- if we want to force reinstalling of everything from the scratch we can increase the value of FORCE_REINSTALL_APT_GET_DEPENDENCIES variable in the Dockerfile\r\n\r\nAs result - if we just push code to airflow repo, the image built in Dockerhub will be prepared in optimal way and users will only download incremental updates to the base image they already have. We also have a way to force rebuilding of parts or the whole image if we choose to.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453675025/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453678575","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453678575","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453678575,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY3ODU3NQ==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T22:33:58Z","updated_at":"2019-01-11T22:33:58Z","author_association":"MEMBER","body":"I am happy to remove dag_stat tables from historical migrations if this is fine for everyone :). Please let me know that it's ok for you (now after Microsoft^H^H^H^H^H^H^H^H^HGithub is back operating normally)\r\n\r\nBTW. You might also be interested that I also wanted to solve this problem because I am working on a Proof-Of-Concept to implement Google Cloud Spanner python dbapi + sqlalchemy Spanner driver + alembic Spanner Implementation (minimal implementation so that Airflow can use Spanner as meta-data backend).\r\n\r\nI have already reached the state that I can run \"initdb\" of Airflow's migrations and I get pretty much full schema of airflow created in Spanner. Here is the POC code: https://github.com/PolideaInternal/airflow/commits/SQLALCHEMY (with a few small workarounds/fixes). I should have basic working Airflow on Spanner (without Kubernetes support yet as the Kubernetes tables are using some features not supported by Spanner) in a matter of days rather than weeks now.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453678575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453690436","html_url":"https://github.com/apache/airflow/pull/4492#issuecomment-453690436","issue_url":"https://api.github.com/repos/apache/airflow/issues/4492","id":453690436,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY5MDQzNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T23:32:23Z","updated_at":"2019-01-11T23:48:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4492?src=pr&el=h1) Report\n> Merging [#4492](https://codecov.io/gh/apache/airflow/pull/4492?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/2142cdf90f5c3966360958ede9e5692d3dc526eb?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `91.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4492/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4492?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4492      +/-   ##\n==========================================\n+ Coverage   74.73%   74.74%   +<.01%     \n==========================================\n  Files         429      429              \n  Lines       29606    29616      +10     \n==========================================\n+ Hits        22127    22136       +9     \n- Misses       7479     7480       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4492?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/www\\_rbac/views.py](https://codecov.io/gh/apache/airflow/pull/4492/diff?src=pr&el=tree#diff-YWlyZmxvdy93d3dfcmJhYy92aWV3cy5weQ==) | `75.36% <100%> (+0.08%)` | :arrow_up: |\n| [airflow/www/views.py](https://codecov.io/gh/apache/airflow/pull/4492/diff?src=pr&el=tree#diff-YWlyZmxvdy93d3cvdmlld3MucHk=) | `70.16% <83.33%> (+0.03%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4492?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4492?src=pr&el=footer). Last update [2142cdf...2e87a7c](https://codecov.io/gh/apache/airflow/pull/4492?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453690436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453694944","html_url":"https://github.com/apache/airflow/pull/4493#issuecomment-453694944","issue_url":"https://api.github.com/repos/apache/airflow/issues/4493","id":453694944,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzY5NDk0NA==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-11T23:56:56Z","updated_at":"2019-01-11T23:56:56Z","author_association":"MEMBER","body":"@jmcarp  -> you might be interested in this one. I agreed with @kaxil that we should merge all the optional project id change for all 30+ GCP operators in single PR. This PR is now ready to be opened (https://github.com/PolideaInternal/airflow/pull/35) but we need to merge this \"consistency\" update first. \r\n\r\nThis \"consistency\" PR is really all about changing test variables and consistent approach for system testing for all GCP operators and aligning naming (integration vs. system tests). When this is merged we can very easily tests (I've done that already) that the project_id change can pass all the system tests with real GCP project. \r\n\r\nThis change touches some variable names in operators you were involved with so I think it's good if you are aware of that @jmcarp ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453694944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453702161","html_url":"https://github.com/apache/airflow/pull/4494#issuecomment-453702161","issue_url":"https://api.github.com/repos/apache/airflow/issues/4494","id":453702161,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcwMjE2MQ==","user":{"login":"mik-laj","id":12058428,"node_id":"MDQ6VXNlcjEyMDU4NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12058428?v=4","gravatar_id":"","url":"https://api.github.com/users/mik-laj","html_url":"https://github.com/mik-laj","followers_url":"https://api.github.com/users/mik-laj/followers","following_url":"https://api.github.com/users/mik-laj/following{/other_user}","gists_url":"https://api.github.com/users/mik-laj/gists{/gist_id}","starred_url":"https://api.github.com/users/mik-laj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mik-laj/subscriptions","organizations_url":"https://api.github.com/users/mik-laj/orgs","repos_url":"https://api.github.com/users/mik-laj/repos","events_url":"https://api.github.com/users/mik-laj/events{/privacy}","received_events_url":"https://api.github.com/users/mik-laj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T00:41:41Z","updated_at":"2019-01-12T00:41:51Z","author_association":"MEMBER","body":"Why we need this operator? \r\n> Azure Batch AI is being retired.\r\nSource: https://docs.microsoft.com/en-gb/azure/batch-ai/overview-what-happened-batch-ai\r\n\r\nIs there any reason why you should not use new services?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453702161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453705229","html_url":"https://github.com/apache/airflow/pull/4492#issuecomment-453705229","issue_url":"https://api.github.com/repos/apache/airflow/issues/4492","id":453705229,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcwNTIyOQ==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T01:06:16Z","updated_at":"2019-01-12T01:06:16Z","author_association":"MEMBER","body":"Thanks @seelmann ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453705229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453707519","html_url":"https://github.com/apache/airflow/pull/4493#issuecomment-453707519","issue_url":"https://api.github.com/repos/apache/airflow/issues/4493","id":453707519,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcwNzUxOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T01:29:51Z","updated_at":"2019-01-12T12:11:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4493?src=pr&el=h1) Report\n> Merging [#4493](https://codecov.io/gh/apache/airflow/pull/4493?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/92db3fbe5850f3c402a741246295af6b92243f4d?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `9.09%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4493/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4493?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4493      +/-   ##\n==========================================\n- Coverage   74.74%   74.74%   -0.01%     \n==========================================\n  Files         429      428       -1     \n  Lines       29620    29634      +14     \n==========================================\n+ Hits        22139    22149      +10     \n- Misses       7481     7485       +4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4493?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...irflow/contrib/example\\_dags/example\\_gcp\\_spanner.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9zcGFubmVyLnB5) | `0% <ø> (ø)` | :arrow_up: |\n| [...rib/example\\_dags/example\\_gcp\\_bigtable\\_operators.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9iaWd0YWJsZV9vcGVyYXRvcnMucHk=) | `0% <ø> (ø)` | :arrow_up: |\n| [airflow/contrib/hooks/gcp\\_function\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL2djcF9mdW5jdGlvbl9ob29rLnB5) | `35.41% <ø> (+0.12%)` | :arrow_up: |\n| [...ow/contrib/example\\_dags/example\\_gcp\\_compute\\_igm.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9jb21wdXRlX2lnbS5weQ==) | `0% <0%> (ø)` | :arrow_up: |\n| [...rflow/contrib/example\\_dags/example\\_gcp\\_function.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9mdW5jdGlvbi5weQ==) | `0% <0%> (ø)` | |\n| [airflow/contrib/example\\_dags/example\\_gcp\\_sql.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9zcWwucHk=) | `0% <0%> (ø)` | :arrow_up: |\n| [...irflow/contrib/example\\_dags/example\\_gcp\\_compute.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9jb21wdXRlLnB5) | `0% <0%> (ø)` | :arrow_up: |\n| [...flow/contrib/example\\_dags/example\\_gcp\\_sql\\_query.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9zcWxfcXVlcnkucHk=) | `0% <0%> (ø)` | :arrow_up: |\n| [airflow/contrib/operators/gcp\\_function\\_operator.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL29wZXJhdG9ycy9nY3BfZnVuY3Rpb25fb3BlcmF0b3IucHk=) | `97.76% <100%> (ø)` | :arrow_up: |\n| [airflow/contrib/hooks/gcp\\_api\\_base\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL2djcF9hcGlfYmFzZV9ob29rLnB5) | `68% <0%> (-5.08%)` | :arrow_down: |\n| ... and [2 more](https://codecov.io/gh/apache/airflow/pull/4493/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4493?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4493?src=pr&el=footer). Last update [92db3fb...5ac496a](https://codecov.io/gh/apache/airflow/pull/4493?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453707519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453712264","html_url":"https://github.com/apache/airflow/pull/4493#issuecomment-453712264","issue_url":"https://api.github.com/repos/apache/airflow/issues/4493","id":453712264,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcxMjI2NA==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T02:30:54Z","updated_at":"2019-01-12T02:30:54Z","author_association":"MEMBER","body":"@kaxil : I removed all breeze references - indeed it was easy to Generalize. Namely I replaced airflow-breeze-config to become 'config' and you can store the variables.env and keys there and you do  not need breeze to run tests for that. I also rebased and resolved latest conflict.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453712264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453712511","html_url":"https://github.com/apache/airflow/pull/4376#issuecomment-453712511","issue_url":"https://api.github.com/repos/apache/airflow/issues/4376","id":453712511,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcxMjUxMQ==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T02:34:28Z","updated_at":"2019-01-12T03:16:01Z","author_association":"MEMBER","body":"**Notes of the local tests I have done (commits will be updated later):**\r\n1. For the plugin view for RBAC, `default_view` in the class MUST be specified, and it should be the name of the method user creates inside the class. Otherwise there will be error when we try to open the UI (default `default_view` is `list`):\r\n\r\n```\r\nwerkzeug.routing.BuildError: Could not build url for endpoint 'thisisatest.list'. Did you mean 'thisisatest.test' instead?\r\n```\r\n\r\n2. The URL to be exposed is decided by the plugin class name. Let's say the plugin class (for RBAC) is:\r\n\r\n```python\r\nclass TestAppBuilderBaseView(AppBuilderBaseView):\r\n    ......\r\n```\r\nthe plugin view will be exposed with URL https://<airflow_host>/testappbuilderbaseview`\r\n\r\n3. The example plugin in https://github.com/apache/airflow/blob/master/tests/plugins/test_plugin.py is actually partially wrong. `flask_appbuilder.BaseView` (imported as `AppBuilderBaseView`) doesn't have attribute `'render'` at all. I tried to run it but got exception `AttributeError: 'TestAppBuilderBaseView' object has no attribute 'render'`. It should be `render_template` instead, but where the html templates should be put seems different and needs to be figured out.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453712511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453712583","html_url":"https://github.com/apache/airflow/pull/4332#issuecomment-453712583","issue_url":"https://api.github.com/repos/apache/airflow/issues/4332","id":453712583,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcxMjU4Mw==","user":{"login":"feluelle","id":23282078,"node_id":"MDQ6VXNlcjIzMjgyMDc4","avatar_url":"https://avatars.githubusercontent.com/u/23282078?v=4","gravatar_id":"","url":"https://api.github.com/users/feluelle","html_url":"https://github.com/feluelle","followers_url":"https://api.github.com/users/feluelle/followers","following_url":"https://api.github.com/users/feluelle/following{/other_user}","gists_url":"https://api.github.com/users/feluelle/gists{/gist_id}","starred_url":"https://api.github.com/users/feluelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feluelle/subscriptions","organizations_url":"https://api.github.com/users/feluelle/orgs","repos_url":"https://api.github.com/users/feluelle/repos","events_url":"https://api.github.com/users/feluelle/events{/privacy}","received_events_url":"https://api.github.com/users/feluelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T02:35:29Z","updated_at":"2019-01-12T02:35:29Z","author_association":"MEMBER","body":"No, but maybe @ashb can take a look.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453712583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453713374","html_url":"https://github.com/apache/airflow/pull/4373#issuecomment-453713374","issue_url":"https://api.github.com/repos/apache/airflow/issues/4373","id":453713374,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcxMzM3NA==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T02:46:41Z","updated_at":"2019-01-12T02:46:41Z","author_association":"MEMBER","body":"Hi @ashb , a gentle ping: may you advise on this UI change PR? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453713374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453713925","html_url":"https://github.com/apache/airflow/pull/4493#issuecomment-453713925","issue_url":"https://api.github.com/repos/apache/airflow/issues/4493","id":453713925,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcxMzkyNQ==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T02:55:32Z","updated_at":"2019-01-12T02:55:32Z","author_association":"MEMBER","body":"@kaxil - all comments addressed","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453713925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453721922","html_url":"https://github.com/apache/airflow/pull/3684#issuecomment-453721922","issue_url":"https://api.github.com/repos/apache/airflow/issues/3684","id":453721922,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcyMTkyMg==","user":{"login":"caddac","id":5695743,"node_id":"MDQ6VXNlcjU2OTU3NDM=","avatar_url":"https://avatars.githubusercontent.com/u/5695743?v=4","gravatar_id":"","url":"https://api.github.com/users/caddac","html_url":"https://github.com/caddac","followers_url":"https://api.github.com/users/caddac/followers","following_url":"https://api.github.com/users/caddac/following{/other_user}","gists_url":"https://api.github.com/users/caddac/gists{/gist_id}","starred_url":"https://api.github.com/users/caddac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caddac/subscriptions","organizations_url":"https://api.github.com/users/caddac/orgs","repos_url":"https://api.github.com/users/caddac/repos","events_url":"https://api.github.com/users/caddac/events{/privacy}","received_events_url":"https://api.github.com/users/caddac/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T05:43:40Z","updated_at":"2019-01-12T05:43:40Z","author_association":"CONTRIBUTOR","body":"I see 5 tests failing, 1 of which is my `test_delete_connection` test. This test succeeds locally (on docker) for both python 2.7 and 3.6. The other tests also fail locally for me (on docker) from master. Not sure where to go from here, any suggestions @ashb ?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453721922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453726387","html_url":"https://github.com/apache/airflow/pull/4376#issuecomment-453726387","issue_url":"https://api.github.com/repos/apache/airflow/issues/4376","id":453726387,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcyNjM4Nw==","user":{"login":"feng-tao","id":3223098,"node_id":"MDQ6VXNlcjMyMjMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3223098?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-tao","html_url":"https://github.com/feng-tao","followers_url":"https://api.github.com/users/feng-tao/followers","following_url":"https://api.github.com/users/feng-tao/following{/other_user}","gists_url":"https://api.github.com/users/feng-tao/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-tao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-tao/subscriptions","organizations_url":"https://api.github.com/users/feng-tao/orgs","repos_url":"https://api.github.com/users/feng-tao/repos","events_url":"https://api.github.com/users/feng-tao/events{/privacy}","received_events_url":"https://api.github.com/users/feng-tao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T07:19:17Z","updated_at":"2019-01-12T07:19:17Z","author_association":"MEMBER","body":"@XD-DENG  good find. Do you want to submit a follow up pr to fix the test?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453726387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453727190","html_url":"https://github.com/apache/airflow/pull/4376#issuecomment-453727190","issue_url":"https://api.github.com/repos/apache/airflow/issues/4376","id":453727190,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzcyNzE5MA==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T07:34:21Z","updated_at":"2019-01-12T07:34:21Z","author_association":"MEMBER","body":"Thanks @feng-tao . Yes I will need to add a follow-up PR for this, since I realised more details should be clearer in this doc. It is somehow misleading, especially for RBAC part.\r\n\r\nOf course will also try to fix the test accordingly as you advised.\r\n\r\nWill tag you  after the follow-up PR is ready. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453727190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453730564","html_url":"https://github.com/apache/airflow/pull/4484#issuecomment-453730564","issue_url":"https://api.github.com/repos/apache/airflow/issues/4484","id":453730564,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczMDU2NA==","user":{"login":"feng-tao","id":3223098,"node_id":"MDQ6VXNlcjMyMjMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3223098?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-tao","html_url":"https://github.com/feng-tao","followers_url":"https://api.github.com/users/feng-tao/followers","following_url":"https://api.github.com/users/feng-tao/following{/other_user}","gists_url":"https://api.github.com/users/feng-tao/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-tao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-tao/subscriptions","organizations_url":"https://api.github.com/users/feng-tao/orgs","repos_url":"https://api.github.com/users/feng-tao/repos","events_url":"https://api.github.com/users/feng-tao/events{/privacy}","received_events_url":"https://api.github.com/users/feng-tao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T08:37:12Z","updated_at":"2019-01-12T08:37:12Z","author_association":"MEMBER","body":"lgtm, do we need to update our setup.py to remove apiclient dependency?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453730564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453730795","html_url":"https://github.com/apache/airflow/pull/4494#issuecomment-453730795","issue_url":"https://api.github.com/repos/apache/airflow/issues/4494","id":453730795,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczMDc5NQ==","user":{"login":"mik-laj","id":12058428,"node_id":"MDQ6VXNlcjEyMDU4NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12058428?v=4","gravatar_id":"","url":"https://api.github.com/users/mik-laj","html_url":"https://github.com/mik-laj","followers_url":"https://api.github.com/users/mik-laj/followers","following_url":"https://api.github.com/users/mik-laj/following{/other_user}","gists_url":"https://api.github.com/users/mik-laj/gists{/gist_id}","starred_url":"https://api.github.com/users/mik-laj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mik-laj/subscriptions","organizations_url":"https://api.github.com/users/mik-laj/orgs","repos_url":"https://api.github.com/users/mik-laj/repos","events_url":"https://api.github.com/users/mik-laj/events{/privacy}","received_events_url":"https://api.github.com/users/mik-laj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T08:41:13Z","updated_at":"2019-01-12T08:50:03Z","author_association":"MEMBER","body":"I would like to inform you that we(@Polidea) are working on system tests for the Google Cloud Platform. I therefore suggest that you also introduce system tests in this PR.\r\n\r\nhttps://cwiki.apache.org/confluence/display/AIRFLOW/AIP-4+Support+for+System+Tests+for+external+systems","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453730795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453731039","html_url":"https://github.com/apache/airflow/pull/4474#issuecomment-453731039","issue_url":"https://api.github.com/repos/apache/airflow/issues/4474","id":453731039,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczMTAzOQ==","user":{"login":"feng-tao","id":3223098,"node_id":"MDQ6VXNlcjMyMjMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3223098?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-tao","html_url":"https://github.com/feng-tao","followers_url":"https://api.github.com/users/feng-tao/followers","following_url":"https://api.github.com/users/feng-tao/following{/other_user}","gists_url":"https://api.github.com/users/feng-tao/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-tao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-tao/subscriptions","organizations_url":"https://api.github.com/users/feng-tao/orgs","repos_url":"https://api.github.com/users/feng-tao/repos","events_url":"https://api.github.com/users/feng-tao/events{/privacy}","received_events_url":"https://api.github.com/users/feng-tao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T08:45:57Z","updated_at":"2019-01-12T08:45:57Z","author_association":"MEMBER","body":"lgtm","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453731039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453731656","html_url":"https://github.com/apache/airflow/pull/4484#issuecomment-453731656","issue_url":"https://api.github.com/repos/apache/airflow/issues/4484","id":453731656,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczMTY1Ng==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T08:58:01Z","updated_at":"2019-01-12T08:58:45Z","author_association":"MEMBER","body":"No need @feng-tao - apiclient is an \"alias\" package now pulled in as transient dependency by googleapiclient and we don't have setup.py dependency for it.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453731656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453731661","html_url":"https://github.com/apache/airflow/pull/4496#issuecomment-453731661","issue_url":"https://api.github.com/repos/apache/airflow/issues/4496","id":453731661,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczMTY2MQ==","user":{"login":"feng-tao","id":3223098,"node_id":"MDQ6VXNlcjMyMjMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3223098?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-tao","html_url":"https://github.com/feng-tao","followers_url":"https://api.github.com/users/feng-tao/followers","following_url":"https://api.github.com/users/feng-tao/following{/other_user}","gists_url":"https://api.github.com/users/feng-tao/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-tao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-tao/subscriptions","organizations_url":"https://api.github.com/users/feng-tao/orgs","repos_url":"https://api.github.com/users/feng-tao/repos","events_url":"https://api.github.com/users/feng-tao/events{/privacy}","received_events_url":"https://api.github.com/users/feng-tao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T08:58:07Z","updated_at":"2019-01-12T08:58:07Z","author_association":"MEMBER","body":"PTAL @kaxil , @Fokko ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453731661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453732228","html_url":"https://github.com/apache/airflow/pull/4484#issuecomment-453732228","issue_url":"https://api.github.com/repos/apache/airflow/issues/4484","id":453732228,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczMjIyOA==","user":{"login":"feng-tao","id":3223098,"node_id":"MDQ6VXNlcjMyMjMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3223098?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-tao","html_url":"https://github.com/feng-tao","followers_url":"https://api.github.com/users/feng-tao/followers","following_url":"https://api.github.com/users/feng-tao/following{/other_user}","gists_url":"https://api.github.com/users/feng-tao/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-tao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-tao/subscriptions","organizations_url":"https://api.github.com/users/feng-tao/orgs","repos_url":"https://api.github.com/users/feng-tao/repos","events_url":"https://api.github.com/users/feng-tao/events{/privacy}","received_events_url":"https://api.github.com/users/feng-tao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T09:07:58Z","updated_at":"2019-01-12T09:07:58Z","author_association":"MEMBER","body":"thanks @potiuk ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453732228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453733096","html_url":"https://github.com/apache/airflow/pull/4496#issuecomment-453733096","issue_url":"https://api.github.com/repos/apache/airflow/issues/4496","id":453733096,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczMzA5Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T09:24:33Z","updated_at":"2019-01-12T20:13:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4496?src=pr&el=h1) Report\n> Merging [#4496](https://codecov.io/gh/apache/airflow/pull/4496?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/417b8a5f98b3dd753aecde08d78508366dbd5ee8?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `79.31%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4496/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4496?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4496      +/-   ##\n==========================================\n+ Coverage   74.75%   74.75%   +<.01%     \n==========================================\n  Files         428      429       +1     \n  Lines       29612    29641      +29     \n==========================================\n+ Hits        22136    22159      +23     \n- Misses       7476     7482       +6\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4496?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/contrib/sensors/celery\\_queue\\_sensor.py](https://codecov.io/gh/apache/airflow/pull/4496/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL3NlbnNvcnMvY2VsZXJ5X3F1ZXVlX3NlbnNvci5weQ==) | `79.31% <79.31%> (ø)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4496?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4496?src=pr&el=footer). Last update [417b8a5...3a6680b](https://codecov.io/gh/apache/airflow/pull/4496?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453733096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453738780","html_url":"https://github.com/apache/airflow/pull/4475#issuecomment-453738780","issue_url":"https://api.github.com/repos/apache/airflow/issues/4475","id":453738780,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczODc4MA==","user":{"login":"feluelle","id":23282078,"node_id":"MDQ6VXNlcjIzMjgyMDc4","avatar_url":"https://avatars.githubusercontent.com/u/23282078?v=4","gravatar_id":"","url":"https://api.github.com/users/feluelle","html_url":"https://github.com/feluelle","followers_url":"https://api.github.com/users/feluelle/followers","following_url":"https://api.github.com/users/feluelle/following{/other_user}","gists_url":"https://api.github.com/users/feluelle/gists{/gist_id}","starred_url":"https://api.github.com/users/feluelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feluelle/subscriptions","organizations_url":"https://api.github.com/users/feluelle/orgs","repos_url":"https://api.github.com/users/feluelle/repos","events_url":"https://api.github.com/users/feluelle/events{/privacy}","received_events_url":"https://api.github.com/users/feluelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T11:04:58Z","updated_at":"2019-01-12T11:04:58Z","author_association":"MEMBER","body":"PTAL @kaxil I would really like to have this in 1.10.2 if possible. Or what do you actually think of this PR?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453738780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453738901","html_url":"https://github.com/apache/airflow/pull/4483#issuecomment-453738901","issue_url":"https://api.github.com/repos/apache/airflow/issues/4483","id":453738901,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczODkwMQ==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T11:07:21Z","updated_at":"2019-01-12T11:07:21Z","author_association":"MEMBER","body":"@Fokko @ffinfo -> what do you think about the layering approach I proposed? \r\n\r\nDo you think of any reason where it might bring problems?\r\n\r\n I think it's really bad to build the whole image as one layer. It's a best practice to leverage layer caching:  https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#leverage-build-cache . It used to be that you should minimize number of layers (https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#minimize-the-number-of-layers) but that was back in the old days where every single line in Dockerfile created new layer (which is not the case any more).\r\n\r\nWith the proposal I have you not only minimize one-time image download but most of all you think about your users and minimize size of any future versions/incremental downloads. \r\n\r\nEven if you minimize the image to 500 MB it's not really helping users because with the current approach every time you pull new airflow image you will have 500 MB extra taken in your local docker storage (unless you run `docker system prune` this space will not be reclaimed). ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453738901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453739396","html_url":"https://github.com/apache/airflow/pull/4483#issuecomment-453739396","issue_url":"https://api.github.com/repos/apache/airflow/issues/4483","id":453739396,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzczOTM5Ng==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T11:16:07Z","updated_at":"2019-01-12T11:16:07Z","author_association":"CONTRIBUTOR","body":"@potiuk I'm not really convinced right now. Having caching in the Dockerhub will speed up the build process, but also, for how long will this be cached. If it builds on top of an old cached layer, and for example, an `apt` package is being updated, we won't notice it. Therefore the Dockerhub CI might run fine, but on people's local machine it might break.\r\n\r\nWhile looking at other official images, I see a lot of commands combined in a few `RUN` statements:\r\nPHP: https://github.com/docker-library/php/blob/b4aeb948e2e240c732d78890ff03285b16e8edda/5.6/Dockerfile\r\nPython: https://github.com/docker-library/python/blob/3e5826ad0c6e29f07f6dc7ff8f30b4c54385d1bb/3.4/Dockerfile\r\nRuby: https://github.com/docker-library/ruby/blob/e34b201a0f0b49818fc8373f6a9148e13d546bdf/2.2/Dockerfile\r\n\r\nIn the end, the layer that you will redownload is 60% (600mb) of the image. The current image by @ffinfo is 877MB:\r\n```\r\nMacBook-Pro-van-Fokko:incubator-airflow fokkodriesprong$ docker images airflow-jarek\r\nREPOSITORY          TAG                 IMAGE ID            CREATED             SIZE\r\nairflow-jarek       latest              e8ae4090d00d        10 minutes ago      1.04GB\r\nMacBook-Pro-van-Fokko:incubator-airflow fokkodriesprong$ docker history airflow-jarek\r\nIMAGE               CREATED             CREATED BY                                      SIZE                COMMENT\r\ne8ae4090d00d        10 minutes ago      /bin/bash -c #(nop)  CMD [\"--help\"]             0B                  \r\n6ae4a2a2e1f4        10 minutes ago      /bin/bash -c #(nop)  ENTRYPOINT [\"/docker-en…   0B                  \r\nc3cb4448969f        10 minutes ago      /bin/bash -c #(nop) COPY file:0d53d67240ab83…   105B                \r\nc3180143551f        11 minutes ago      |4 ADDITIONAL_PYTHON_DEPS= AIRFLOW_EXTRAS=al…   0B                  \r\n001f197fc49b        11 minutes ago      /bin/bash -c #(nop)  ARG ADDITIONAL_PYTHON_D…   0B                  \r\n8abe93e681f3        11 minutes ago      |3 AIRFLOW_EXTRAS=all AIRFLOW_HOME=/usr/loca…   50.5kB              \r\n68bc9494193a        11 minutes ago      /bin/bash -c #(nop) COPY dir:3864bf4d7954e65…   10.4MB              \r\nc79384f5054c        11 minutes ago      |3 AIRFLOW_EXTRAS=all AIRFLOW_HOME=/usr/loca…   607MB               \r\nb0e483941ae8        15 minutes ago      /bin/bash -c #(nop) WORKDIR /opt/airflow        0B                  \r\nd11de3d9d9eb        15 minutes ago      /bin/bash -c #(nop)  ENV FORCE_REINSTALL_AIR…   0B                  \r\n2aa8a9f441d1        15 minutes ago      /bin/bash -c #(nop) COPY file:143db2e76b8f16…   1.26kB              \r\n92be30663ae7        15 minutes ago      /bin/bash -c #(nop) COPY file:590340f7066102…   3.04kB              \r\n42a5d2e39a70        15 minutes ago      /bin/bash -c #(nop) COPY file:3e78814fb55a47…   838B                \r\n21e6013ecff7        15 minutes ago      /bin/bash -c #(nop) COPY multi:9a7d03f641d42…   15kB                \r\n56085757672b        15 minutes ago      /bin/bash -c #(nop)  ENV SLUGIFY_USES_TEXT_U…   0B                  \r\n2e170dabdab7        15 minutes ago      /bin/bash -c #(nop)  ENV CASS_DRIVER_NO_CYTH…   0B                  \r\n7557c5518ec7        15 minutes ago      /bin/bash -c #(nop)  ENV CASS_DRIVER_BUILD_C…   0B                  \r\nb979faff6f0c        15 minutes ago      /bin/bash -c #(nop)  ARG CASS_DRIVER_NO_CYTH…   0B                  \r\n85bbf27ce200        15 minutes ago      /bin/bash -c #(nop)  ENV FORCE_REINSTALL_ALL…   0B                  \r\nbe7abae62e4b        15 minutes ago      /bin/bash -c #(nop)  ARG AIRFLOW_EXTRAS=all     0B                  \r\n9c913c49db39        15 minutes ago      |1 AIRFLOW_HOME=/usr/local/airflow /bin/bash…   0B                  \r\na5b0a864d7ce        15 minutes ago      /bin/bash -c #(nop)  ARG AIRFLOW_HOME=/usr/l…   0B                  \r\ne2135a58f7aa        15 minutes ago      /bin/bash -c apt-get update     && apt-get u…   5.04MB              \r\n09d11dcdd0a5        16 minutes ago      /bin/bash -c #(nop)  ENV FORCE_UPGRADE_OF_AP…   0B                  \r\na5347df6b818        16 minutes ago      /bin/bash -c apt-get update     && apt-get i…   155MB               \r\n17642cef8b50        16 minutes ago      /bin/bash -c apt-get update     && apt-get i…   127MB               \r\n4d583a89cee6        16 minutes ago      /bin/bash -c #(nop)  ENV FORCE_REINSTALL_APT…   0B                  \r\nfc78f0a6a9ad        16 minutes ago      /bin/bash -c #(nop)  ENV DEBIAN_FRONTEND=non…   0B                  \r\n6f4b3293aa89        16 minutes ago      /bin/bash -c #(nop)  SHELL [/bin/bash -c]       0B                  \r\nea57895cf3f9        8 weeks ago         /bin/sh -c #(nop)  CMD [\"python3\"]              0B                  \r\n<missing>           8 weeks ago         /bin/sh -c set -ex;   savedAptMark=\"$(apt-ma…   7.13MB              \r\n<missing>           8 weeks ago         /bin/sh -c #(nop)  ENV PYTHON_PIP_VERSION=18…   0B                  \r\n<missing>           8 weeks ago         /bin/sh -c cd /usr/local/bin  && ln -s idle3…   32B                 \r\n<missing>           8 weeks ago         /bin/sh -c set -ex   && savedAptMark=\"$(apt-…   69.1MB              \r\n<missing>           8 weeks ago         /bin/sh -c #(nop)  ENV PYTHON_VERSION=3.6.7     0B                  \r\n<missing>           8 weeks ago         /bin/sh -c #(nop)  ENV GPG_KEY=0D96DF4D4110E…   0B                  \r\n<missing>           8 weeks ago         /bin/sh -c apt-get update && apt-get install…   6.45MB              \r\n<missing>           8 weeks ago         /bin/sh -c #(nop)  ENV LANG=C.UTF-8             0B                  \r\n<missing>           8 weeks ago         /bin/sh -c #(nop)  ENV PATH=/usr/local/bin:/…   0B                  \r\n<missing>           8 weeks ago         /bin/sh -c #(nop)  CMD [\"bash\"]                 0B                  \r\n<missing>           8 weeks ago         /bin/sh -c #(nop) ADD file:dab9baf938799c515…   55.3MB \r\n```","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453739396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453741235","html_url":"https://github.com/apache/airflow/pull/4465#issuecomment-453741235","issue_url":"https://api.github.com/repos/apache/airflow/issues/4465","id":453741235,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0MTIzNQ==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T11:46:50Z","updated_at":"2019-01-12T11:46:50Z","author_association":"MEMBER","body":"Can you update https://github.com/apache/airflow/blob/master/airflow/contrib/operators/emr_terminate_job_flow_operator.py#L42 as well?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453741235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453743161","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453743161","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453743161,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0MzE2MQ==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T12:20:05Z","updated_at":"2019-01-12T12:20:05Z","author_association":"MEMBER","body":"OK. I know the exact scenario it happened and I know why you have not seen it, and I think my fix is the *correct* workaround in fact.\r\n\r\nThe scenario:\r\n- We run our tests in our own Docker environment which has been prepared before dag_stat table was removed. This means that the table is there, created in the DB. \r\n- We update to latest version of the code and rather than upgradedb we run resetdb - just to make sure that the database is \"fresh\"\r\n- If we would run upgradedb before the dag_stat table would have been deleted by migration script. The problem is that resetdb drops only the \"current\" tables - not those that we have in the database but those which are in the latest version of the code. That's why dag_stat table was not deleted on reset and subsequently failed when it was created with old migration script.\r\n\r\nThis is pretty much heavy corner case that depends on many things to happen (old version of db, new version of code and running resetdb without earlier upgrade). However I think it is somehow valid. I think you should expect that resetdb will actually recreate the database no matter what. Running upgradedb first should not be a prerequisite.\r\n\r\nI don't think we should remove old migrations, it's quite disruptive and it can cause some side effects - for example the dag_stat table might remain in someone's database forever in the case described above. \r\n\r\nThe conditional creation of the table which I implemented actually solves the problem nicely. Resetdb will eventually drop the table when the migration is complete and desired state of the DB is as expected. Otherwise it is harmless. Even if you decide to recreate the table later on with the same name - everything will be fine - the table will dropped on migration and recreated.\r\n\r\nI think it might simply be a good practice to do conditional creation of tables (I saw several other tables are created in current_schema for one) and for sure when we decide to drop a table we should add this conditional creation in the migration where the table is created and it will solve the problem.\r\n\r\nI have amended my proposal and I added such conditional creation for all tables.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453743161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453744518","html_url":"https://github.com/apache/airflow/pull/4497#issuecomment-453744518","issue_url":"https://api.github.com/repos/apache/airflow/issues/4497","id":453744518,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NDUxOA==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T12:43:03Z","updated_at":"2019-01-12T12:43:17Z","author_association":"MEMBER","body":"+1 this is a good change. Approved. Waiting for the CI to pass.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453744518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453744689","html_url":"https://github.com/apache/airflow/pull/4497#issuecomment-453744689","issue_url":"https://api.github.com/repos/apache/airflow/issues/4497","id":453744689,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NDY4OQ==","user":{"login":"BasPH","id":6249654,"node_id":"MDQ6VXNlcjYyNDk2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6249654?v=4","gravatar_id":"","url":"https://api.github.com/users/BasPH","html_url":"https://github.com/BasPH","followers_url":"https://api.github.com/users/BasPH/followers","following_url":"https://api.github.com/users/BasPH/following{/other_user}","gists_url":"https://api.github.com/users/BasPH/gists{/gist_id}","starred_url":"https://api.github.com/users/BasPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BasPH/subscriptions","organizations_url":"https://api.github.com/users/BasPH/orgs","repos_url":"https://api.github.com/users/BasPH/repos","events_url":"https://api.github.com/users/BasPH/events{/privacy}","received_events_url":"https://api.github.com/users/BasPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T12:45:42Z","updated_at":"2019-01-12T12:45:42Z","author_association":"CONTRIBUTOR","body":"Wow what a coincidence... I was just about to push the PR button and see this. https://issues.apache.org/jira/browse/AIRFLOW-3686","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453744689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453744832","html_url":"https://github.com/apache/airflow/pull/4497#issuecomment-453744832","issue_url":"https://api.github.com/repos/apache/airflow/issues/4497","id":453744832,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NDgzMg==","user":{"login":"BasPH","id":6249654,"node_id":"MDQ6VXNlcjYyNDk2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6249654?v=4","gravatar_id":"","url":"https://api.github.com/users/BasPH","html_url":"https://github.com/BasPH","followers_url":"https://api.github.com/users/BasPH/followers","following_url":"https://api.github.com/users/BasPH/following{/other_user}","gists_url":"https://api.github.com/users/BasPH/gists{/gist_id}","starred_url":"https://api.github.com/users/BasPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BasPH/subscriptions","organizations_url":"https://api.github.com/users/BasPH/orgs","repos_url":"https://api.github.com/users/BasPH/repos","events_url":"https://api.github.com/users/BasPH/events{/privacy}","received_events_url":"https://api.github.com/users/BasPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T12:48:03Z","updated_at":"2019-01-12T12:48:03Z","author_association":"CONTRIBUTOR","body":"My branch is a bit more explicit: https://github.com/apache/airflow/compare/master...BasPH:bash-split-license-ci-check. The license check is a separate stage since it's not related to Flake8 IMO:\r\n\r\n![image](https://user-images.githubusercontent.com/6249654/51073403-aa404e00-1670-11e9-8f55-0d6dfb7a994e.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453744832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453745032","html_url":"https://github.com/apache/airflow/pull/4497#issuecomment-453745032","issue_url":"https://api.github.com/repos/apache/airflow/issues/4497","id":453745032,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NTAzMg==","user":{"login":"ffinfo","id":2419555,"node_id":"MDQ6VXNlcjI0MTk1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2419555?v=4","gravatar_id":"","url":"https://api.github.com/users/ffinfo","html_url":"https://github.com/ffinfo","followers_url":"https://api.github.com/users/ffinfo/followers","following_url":"https://api.github.com/users/ffinfo/following{/other_user}","gists_url":"https://api.github.com/users/ffinfo/gists{/gist_id}","starred_url":"https://api.github.com/users/ffinfo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ffinfo/subscriptions","organizations_url":"https://api.github.com/users/ffinfo/orgs","repos_url":"https://api.github.com/users/ffinfo/repos","events_url":"https://api.github.com/users/ffinfo/events{/privacy}","received_events_url":"https://api.github.com/users/ffinfo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T12:51:38Z","updated_at":"2019-01-12T12:51:38Z","author_association":"CONTRIBUTOR","body":"This is my version, in this case flake8 and check licence can run in parallel.\r\nMay this best one win ;)\r\n\r\n<img width=\"1310\" alt=\"screenshot 2019-01-12 at 13 49 43\" src=\"https://user-images.githubusercontent.com/2419555/51073429-0acf8b00-1671-11e9-9f79-eab35e5a38cc.png\">","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453745032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453745798","html_url":"https://github.com/apache/airflow/pull/4483#issuecomment-453745798","issue_url":"https://api.github.com/repos/apache/airflow/issues/4483","id":453745798,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NTc5OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T13:02:30Z","updated_at":"2019-01-12T13:02:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4483?src=pr&el=h1) Report\n> Merging [#4483](https://codecov.io/gh/apache/airflow/pull/4483?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/486b3a20a848b22f6be1d4f17ded17e8fe779dfa?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4483/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4483?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4483      +/-   ##\n==========================================\n- Coverage   74.73%   74.72%   -0.01%     \n==========================================\n  Files         429      429              \n  Lines       29620    29620              \n==========================================\n- Hits        22136    22135       -1     \n- Misses       7484     7485       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4483?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/models/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4483/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMvX19pbml0X18ucHk=) | `92.5% <0%> (-0.05%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4483?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4483?src=pr&el=footer). Last update [486b3a2...f867daa](https://codecov.io/gh/apache/airflow/pull/4483?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453745798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453746036","html_url":"https://github.com/apache/airflow/pull/4483#issuecomment-453746036","issue_url":"https://api.github.com/repos/apache/airflow/issues/4483","id":453746036,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NjAzNg==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T13:05:58Z","updated_at":"2019-01-12T13:05:58Z","author_association":"CONTRIBUTOR","body":" I'm going to merge this for now so that the CI is okay again.\r\n\r\n@potiuk Feel free to open up a PR to make the Dockerfile nicer.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453746036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453746149","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453746149","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453746149,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NjE0OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T13:07:55Z","updated_at":"2019-01-12T13:07:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4488?src=pr&el=h1) Report\n> Merging [#4488](https://codecov.io/gh/apache/airflow/pull/4488?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/e71bdd528c5cc60f7889a86d4a4d5cca8813b45c?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4488/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4488?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4488      +/-   ##\n==========================================\n+ Coverage   74.72%   74.73%   +<.01%     \n==========================================\n  Files         429      429              \n  Lines       29620    29620              \n==========================================\n+ Hits        22135    22136       +1     \n+ Misses       7485     7484       -1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4488?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/models/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4488/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMvX19pbml0X18ucHk=) | `92.54% <0%> (+0.04%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4488?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4488?src=pr&el=footer). Last update [e71bdd5...4b2a363](https://codecov.io/gh/apache/airflow/pull/4488?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453746149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453746599","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453746599","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453746599,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NjU5OQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T13:14:53Z","updated_at":"2019-01-12T13:14:53Z","author_association":"CONTRIBUTOR","body":"This is targetted at Airflow 2.0. I still think we should completely remove `dag_stat` from the codebase otherwise this will be around forever. \r\nIf people still upgrade from Airflow 1.x to 2.0, then this table would be there indeed. We could create a `DROP TABLE IF EXISTS` to make sure that it is dropped. I think the conditional statement can be tricky since there are two sources of the table then:\r\n- the table can be created from the models code, \r\n- the conditional statement. \r\nIn such a case you would have two sources of truth. ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453746599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453747040","html_url":"https://github.com/apache/airflow/pull/4475#issuecomment-453747040","issue_url":"https://api.github.com/repos/apache/airflow/issues/4475","id":453747040,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NzA0MA==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T13:21:38Z","updated_at":"2019-01-12T13:21:38Z","author_association":"MEMBER","body":"I think we can raise a warning but we shouldn't raise an exception.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453747040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453747576","html_url":"https://github.com/apache/airflow/pull/4497#issuecomment-453747576","issue_url":"https://api.github.com/repos/apache/airflow/issues/4497","id":453747576,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0NzU3Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T13:29:11Z","updated_at":"2019-01-12T14:13:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4497?src=pr&el=h1) Report\n> Merging [#4497](https://codecov.io/gh/apache/airflow/pull/4497?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/e2c22fe70a488feea0cfecde890c20f8c984c09c?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4497/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4497?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master    #4497   +/-   ##\n=======================================\n  Coverage   74.75%   74.75%           \n=======================================\n  Files         428      428           \n  Lines       29611    29611           \n=======================================\n  Hits        22135    22135           \n  Misses       7476     7476\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4497?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4497?src=pr&el=footer). Last update [e2c22fe...9851ff6](https://codecov.io/gh/apache/airflow/pull/4497?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453747576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453748482","html_url":"https://github.com/apache/airflow/pull/4483#issuecomment-453748482","issue_url":"https://api.github.com/repos/apache/airflow/issues/4483","id":453748482,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc0ODQ4Mg==","user":{"login":"mik-laj","id":12058428,"node_id":"MDQ6VXNlcjEyMDU4NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12058428?v=4","gravatar_id":"","url":"https://api.github.com/users/mik-laj","html_url":"https://github.com/mik-laj","followers_url":"https://api.github.com/users/mik-laj/followers","following_url":"https://api.github.com/users/mik-laj/following{/other_user}","gists_url":"https://api.github.com/users/mik-laj/gists{/gist_id}","starred_url":"https://api.github.com/users/mik-laj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mik-laj/subscriptions","organizations_url":"https://api.github.com/users/mik-laj/orgs","repos_url":"https://api.github.com/users/mik-laj/repos","events_url":"https://api.github.com/users/mik-laj/events{/privacy}","received_events_url":"https://api.github.com/users/mik-laj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T13:41:37Z","updated_at":"2019-01-12T13:41:37Z","author_association":"MEMBER","body":"@Fokko You took very specific cases. Your images are basic images that are selected once and used for a very long time without updating. No one updates the execution environment every month, so they are not analyzed how to increase user experience.\r\n\r\nI suggest to look at real application files. Sentry is a good example: \r\nhttps://github.com/getsentry/docker-sentry/blob/f648178adf33bec68be47550a82850e18deb0cd8/9.0/Dockerfile","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453748482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453752491","html_url":"https://github.com/apache/airflow/pull/4475#issuecomment-453752491","issue_url":"https://api.github.com/repos/apache/airflow/issues/4475","id":453752491,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc1MjQ5MQ==","user":{"login":"feluelle","id":23282078,"node_id":"MDQ6VXNlcjIzMjgyMDc4","avatar_url":"https://avatars.githubusercontent.com/u/23282078?v=4","gravatar_id":"","url":"https://api.github.com/users/feluelle","html_url":"https://github.com/feluelle","followers_url":"https://api.github.com/users/feluelle/followers","following_url":"https://api.github.com/users/feluelle/following{/other_user}","gists_url":"https://api.github.com/users/feluelle/gists{/gist_id}","starred_url":"https://api.github.com/users/feluelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feluelle/subscriptions","organizations_url":"https://api.github.com/users/feluelle/orgs","repos_url":"https://api.github.com/users/feluelle/repos","events_url":"https://api.github.com/users/feluelle/events{/privacy}","received_events_url":"https://api.github.com/users/feluelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T14:37:42Z","updated_at":"2019-01-12T14:40:41Z","author_association":"MEMBER","body":"But then the task won't fail if there is no attachment.\r\nAnd how do you know then if, for example, the transfer for this attachment works. I don't think it belongs to the transfer operator to check whether there is an attachment or not.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453752491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453753200","html_url":"https://github.com/apache/airflow/pull/4338#issuecomment-453753200","issue_url":"https://api.github.com/repos/apache/airflow/issues/4338","id":453753200,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc1MzIwMA==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T14:48:41Z","updated_at":"2019-01-12T14:48:41Z","author_association":"MEMBER","body":"@feng-tao @jgao54 @Fokko  Can you guys take a look at this, please to see if this is an issue or not?\r\n\r\nthere has been a good discussion on the jira as well https://issues.apache.org/jira/browse/AIRFLOW-3172","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453753200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453771555","html_url":"https://github.com/apache/airflow/pull/4499#issuecomment-453771555","issue_url":"https://api.github.com/repos/apache/airflow/issues/4499","id":453771555,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc3MTU1NQ==","user":{"login":"mik-laj","id":12058428,"node_id":"MDQ6VXNlcjEyMDU4NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12058428?v=4","gravatar_id":"","url":"https://api.github.com/users/mik-laj","html_url":"https://github.com/mik-laj","followers_url":"https://api.github.com/users/mik-laj/followers","following_url":"https://api.github.com/users/mik-laj/following{/other_user}","gists_url":"https://api.github.com/users/mik-laj/gists{/gist_id}","starred_url":"https://api.github.com/users/mik-laj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mik-laj/subscriptions","organizations_url":"https://api.github.com/users/mik-laj/orgs","repos_url":"https://api.github.com/users/mik-laj/repos","events_url":"https://api.github.com/users/mik-laj/events{/privacy}","received_events_url":"https://api.github.com/users/mik-laj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T18:44:57Z","updated_at":"2019-01-12T18:44:57Z","author_association":"MEMBER","body":"Before:  `3 min 37 sec`\r\nAfter: `2 min 35 sec`","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453771555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453771824","html_url":"https://github.com/apache/airflow/pull/2306#issuecomment-453771824","issue_url":"https://api.github.com/repos/apache/airflow/issues/2306","id":453771824,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc3MTgyNA==","user":{"login":"Rotemlofer","id":46278208,"node_id":"MDQ6VXNlcjQ2Mjc4MjA4","avatar_url":"https://avatars.githubusercontent.com/u/46278208?v=4","gravatar_id":"","url":"https://api.github.com/users/Rotemlofer","html_url":"https://github.com/Rotemlofer","followers_url":"https://api.github.com/users/Rotemlofer/followers","following_url":"https://api.github.com/users/Rotemlofer/following{/other_user}","gists_url":"https://api.github.com/users/Rotemlofer/gists{/gist_id}","starred_url":"https://api.github.com/users/Rotemlofer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rotemlofer/subscriptions","organizations_url":"https://api.github.com/users/Rotemlofer/orgs","repos_url":"https://api.github.com/users/Rotemlofer/repos","events_url":"https://api.github.com/users/Rotemlofer/events{/privacy}","received_events_url":"https://api.github.com/users/Rotemlofer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T18:48:41Z","updated_at":"2019-01-12T18:48:41Z","author_association":"NONE","body":"@dlackty\r\nIs there an update on this? ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453771824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453775167","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453775167","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453775167,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc3NTE2Nw==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T19:36:00Z","updated_at":"2019-01-12T19:36:00Z","author_association":"MEMBER","body":"OK. I think I will close it for now as it's not really needed at least for me and the corner case is rather obscure. I moved our docker file to after dag_state table deletion and everything works fine. For sure something to consider in 2.0. \r\nBut I would say maybe what should happen rather than deleting old scripts is to generate an initial 2.0 script that all the future installations can start from (and continue with alembic migrations). Currently we have a long history of migrations and for example for Spanner (where DDL operations are slow) it takes 40+ minutes to run the migrations. I am not sure Alembic has good support for such initial. Something at least worth considering - maybe I will be looking into it soon.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453775167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453775811","html_url":"https://github.com/apache/airflow/pull/4500#issuecomment-453775811","issue_url":"https://api.github.com/repos/apache/airflow/issues/4500","id":453775811,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc3NTgxMQ==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T19:45:53Z","updated_at":"2019-01-12T19:45:53Z","author_association":"MEMBER","body":"@jmcarp  -> this is the PR to change all GCP operators to have optional project_id. You might be interested.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453775811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453776176","html_url":"https://github.com/apache/airflow/pull/4496#issuecomment-453776176","issue_url":"https://api.github.com/repos/apache/airflow/issues/4496","id":453776176,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc3NjE3Ng==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T19:51:27Z","updated_at":"2019-01-12T19:51:27Z","author_association":"MEMBER","body":"Waiting for the CI to pass. ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453776176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453777063","html_url":"https://github.com/apache/airflow/pull/4500#issuecomment-453777063","issue_url":"https://api.github.com/repos/apache/airflow/issues/4500","id":453777063,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc3NzA2Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T20:05:20Z","updated_at":"2019-01-14T22:17:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4500?src=pr&el=h1) Report\n> Merging [#4500](https://codecov.io/gh/apache/airflow/pull/4500?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/b8c475704a33b155ea4415c94657f62d37bc9f5e?src=pr&el=desc) will **decrease** coverage by `62.4%`.\n> The diff coverage is `0%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4500/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4500?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #4500       +/-   ##\n===========================================\n- Coverage   73.44%   11.03%   -62.41%     \n===========================================\n  Files         421      421               \n  Lines       27538    27644      +106     \n===========================================\n- Hits        20225     3051    -17174     \n- Misses       7313    24593    +17280\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4500?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ow/contrib/example\\_dags/example\\_gcp\\_compute\\_igm.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9jb21wdXRlX2lnbS5weQ==) | `0% <ø> (ø)` | :arrow_up: |\n| [...irflow/contrib/example\\_dags/example\\_gcp\\_compute.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9jb21wdXRlLnB5) | `0% <ø> (ø)` | :arrow_up: |\n| [airflow/contrib/hooks/gcs\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL2djc19ob29rLnB5) | `0% <ø> (-49.14%)` | :arrow_down: |\n| [...irflow/contrib/example\\_dags/example\\_gcp\\_spanner.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9zcGFubmVyLnB5) | `0% <0%> (ø)` | :arrow_up: |\n| [...rib/example\\_dags/example\\_gcp\\_bigtable\\_operators.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9iaWd0YWJsZV9vcGVyYXRvcnMucHk=) | `0% <0%> (ø)` | :arrow_up: |\n| [airflow/contrib/operators/gcp\\_bigtable\\_operator.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL29wZXJhdG9ycy9nY3BfYmlndGFibGVfb3BlcmF0b3IucHk=) | `0% <0%> (-100%)` | :arrow_down: |\n| [airflow/contrib/hooks/gcp\\_spanner\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL2djcF9zcGFubmVyX2hvb2sucHk=) | `0% <0%> (-22.12%)` | :arrow_down: |\n| [...rflow/contrib/example\\_dags/example\\_gcp\\_function.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2V4YW1wbGVfZGFncy9leGFtcGxlX2djcF9mdW5jdGlvbi5weQ==) | `0% <0%> (ø)` | :arrow_up: |\n| [airflow/contrib/operators/gcp\\_function\\_operator.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL29wZXJhdG9ycy9nY3BfZnVuY3Rpb25fb3BlcmF0b3IucHk=) | `0% <0%> (-97.77%)` | :arrow_down: |\n| [airflow/contrib/hooks/gcp\\_api\\_base\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL2djcF9hcGlfYmFzZV9ob29rLnB5) | `0% <0%> (-73.08%)` | :arrow_down: |\n| ... and [341 more](https://codecov.io/gh/apache/airflow/pull/4500/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4500?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4500?src=pr&el=footer). Last update [b8c4757...697819a](https://codecov.io/gh/apache/airflow/pull/4500?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453777063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453778598","html_url":"https://github.com/apache/airflow/pull/4483#issuecomment-453778598","issue_url":"https://api.github.com/repos/apache/airflow/issues/4483","id":453778598,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzc3ODU5OA==","user":{"login":"potiuk","id":595491,"node_id":"MDQ6VXNlcjU5NTQ5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/595491?v=4","gravatar_id":"","url":"https://api.github.com/users/potiuk","html_url":"https://github.com/potiuk","followers_url":"https://api.github.com/users/potiuk/followers","following_url":"https://api.github.com/users/potiuk/following{/other_user}","gists_url":"https://api.github.com/users/potiuk/gists{/gist_id}","starred_url":"https://api.github.com/users/potiuk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/potiuk/subscriptions","organizations_url":"https://api.github.com/users/potiuk/orgs","repos_url":"https://api.github.com/users/potiuk/repos","events_url":"https://api.github.com/users/potiuk/events{/privacy}","received_events_url":"https://api.github.com/users/potiuk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-12T20:29:02Z","updated_at":"2019-01-12T20:29:02Z","author_association":"MEMBER","body":"@Fokko @ffinfo  -> i see this is merged now. I will still try to convince you anyway :)\r\n\r\nI will soon open the PR to the main apache line with some detailed calculations.  I will prepare some numbers and analysis including times to download and simulation of usage by the users - in order to show that rather than simply 'state' it.\r\n\r\nBut just for now to answer your concerns @fokko:\r\n\r\n1) Docker caching is basically forever. It wont 'expire' until you change a line in Dockerfile / Docker and part of the context that are added in Dockerfile (for example sources of Airflow). What DockerHub is doing (well at least this is best practice and I am sure we can double check with them) is they are pulling the latest image from the same branch, use it as --cache-from and this way they will always reuse the layers that were already published. This is not a local machine caching - it is using published image layers as cache.\r\n\r\n2) Updates to apt-get packages:\r\n\r\nI've added these lines  below in my Docker image. Currently those need to be manually triggered, but if updates to latest versions of apt-get installed packages is a concern, this can be moved. Those lines can be always added after setup.py changes or sources added - this way latest versions will be upgraded frequently (or very frequently). And you will get the same as if you installed it from the scratch.\r\n\r\n'RUN apt-get update \\\r\n    && apt-get upgrade -y --no-install-recommends \\\r\n    && apt-get clean'\r\n\r\nThis layer will grow over time - of course - but then periodically it's worth to rebuild it from the scratch (and that's what I also implemented - if you increase FORCE_REINSTALL_APT_GET_DEPENDENCIES env value the apt-get dependencies will be installed from the scratch). This way the apt-get install layer will be rebuild from scratch with latest dependencies (say every official release or every quarter). \r\n\r\n3) Other images: PHP/Python/Ruby are actually \"Baseline\" kind of images. They have almost no \"external\" dependencies different than \"core OS\" - unlike Airfloe (which has quite a lot of them in fact).\r\n\r\n4) I think you looked at different layer than the one I was vocal about. The 600 MB layer is exactly the one that will NOT be re-downloaded very frequently in my solution. Those are installed dependencies for airflow (without the actual airflow sources!). They don't change with every commit.\r\n\r\nWith every commit where the sources are changed you will only re-download the '68bc9494193a' image from your example (10.4MB) which is a bit more than 10% of the full image. This is because the 600MB layer will only be rebuilt when setup.py changes - otherwise it's taken from cache. Setup.py changes far less frequently than the sources - sources change every time but the setup.py around once every 2 weeks or so. Sometimes even there are 3 weeks where it remains unchanged. This means that during those two -three weeks anyone syncing last image will save significant amount of time/bandwidth. \r\n\r\nLater on we could even split it even further  - using the already existing setup.py split to core (more stable)  and non-core (changing more frequently) dependencies. This way the big pip-install layer will be split even further and core part will be downloaded even less frequently.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453778598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453804404","html_url":"https://github.com/apache/airflow/pull/2256#issuecomment-453804404","issue_url":"https://api.github.com/repos/apache/airflow/issues/2256","id":453804404,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgwNDQwNA==","user":{"login":"ron819","id":40163787,"node_id":"MDQ6VXNlcjQwMTYzNzg3","avatar_url":"https://avatars.githubusercontent.com/u/40163787?v=4","gravatar_id":"","url":"https://api.github.com/users/ron819","html_url":"https://github.com/ron819","followers_url":"https://api.github.com/users/ron819/followers","following_url":"https://api.github.com/users/ron819/following{/other_user}","gists_url":"https://api.github.com/users/ron819/gists{/gist_id}","starred_url":"https://api.github.com/users/ron819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron819/subscriptions","organizations_url":"https://api.github.com/users/ron819/orgs","repos_url":"https://api.github.com/users/ron819/repos","events_url":"https://api.github.com/users/ron819/events{/privacy}","received_events_url":"https://api.github.com/users/ron819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T05:52:59Z","updated_at":"2019-01-13T05:52:59Z","author_association":"CONTRIBUTOR","body":"@ashb @Fokko @kaxil pending for review","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453804404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453806054","html_url":"https://github.com/apache/airflow/pull/4434#issuecomment-453806054","issue_url":"https://api.github.com/repos/apache/airflow/issues/4434","id":453806054,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgwNjA1NA==","user":{"login":"feng-tao","id":3223098,"node_id":"MDQ6VXNlcjMyMjMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3223098?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-tao","html_url":"https://github.com/feng-tao","followers_url":"https://api.github.com/users/feng-tao/followers","following_url":"https://api.github.com/users/feng-tao/following{/other_user}","gists_url":"https://api.github.com/users/feng-tao/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-tao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-tao/subscriptions","organizations_url":"https://api.github.com/users/feng-tao/orgs","repos_url":"https://api.github.com/users/feng-tao/repos","events_url":"https://api.github.com/users/feng-tao/events{/privacy}","received_events_url":"https://api.github.com/users/feng-tao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T06:31:30Z","updated_at":"2019-01-13T06:31:30Z","author_association":"MEMBER","body":"PTAL @dimberman ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453806054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453806537","html_url":"https://github.com/apache/airflow/pull/2906#issuecomment-453806537","issue_url":"https://api.github.com/repos/apache/airflow/issues/2906","id":453806537,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgwNjUzNw==","user":{"login":"ron819","id":40163787,"node_id":"MDQ6VXNlcjQwMTYzNzg3","avatar_url":"https://avatars.githubusercontent.com/u/40163787?v=4","gravatar_id":"","url":"https://api.github.com/users/ron819","html_url":"https://github.com/ron819","followers_url":"https://api.github.com/users/ron819/followers","following_url":"https://api.github.com/users/ron819/following{/other_user}","gists_url":"https://api.github.com/users/ron819/gists{/gist_id}","starred_url":"https://api.github.com/users/ron819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron819/subscriptions","organizations_url":"https://api.github.com/users/ron819/orgs","repos_url":"https://api.github.com/users/ron819/repos","events_url":"https://api.github.com/users/ron819/events{/privacy}","received_events_url":"https://api.github.com/users/ron819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T06:41:52Z","updated_at":"2019-01-13T06:41:52Z","author_association":"CONTRIBUTOR","body":"This can be relevant but it requires also to apply the fixes to https://github.com/apache/airflow/tree/master/airflow/www_rbac ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453806537/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453806651","html_url":"https://github.com/apache/airflow/pull/4315#issuecomment-453806651","issue_url":"https://api.github.com/repos/apache/airflow/issues/4315","id":453806651,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgwNjY1MQ==","user":{"login":"ron819","id":40163787,"node_id":"MDQ6VXNlcjQwMTYzNzg3","avatar_url":"https://avatars.githubusercontent.com/u/40163787?v=4","gravatar_id":"","url":"https://api.github.com/users/ron819","html_url":"https://github.com/ron819","followers_url":"https://api.github.com/users/ron819/followers","following_url":"https://api.github.com/users/ron819/following{/other_user}","gists_url":"https://api.github.com/users/ron819/gists{/gist_id}","starred_url":"https://api.github.com/users/ron819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron819/subscriptions","organizations_url":"https://api.github.com/users/ron819/orgs","repos_url":"https://api.github.com/users/ron819/repos","events_url":"https://api.github.com/users/ron819/events{/privacy}","received_events_url":"https://api.github.com/users/ron819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T06:44:46Z","updated_at":"2019-01-13T06:44:46Z","author_association":"CONTRIBUTOR","body":"@ashb you reviewed the previous PR :) ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453806651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453806674","html_url":"https://github.com/apache/airflow/pull/2906#issuecomment-453806674","issue_url":"https://api.github.com/repos/apache/airflow/issues/2906","id":453806674,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgwNjY3NA==","user":{"login":"Licht-T","id":1455030,"node_id":"MDQ6VXNlcjE0NTUwMzA=","avatar_url":"https://avatars.githubusercontent.com/u/1455030?v=4","gravatar_id":"","url":"https://api.github.com/users/Licht-T","html_url":"https://github.com/Licht-T","followers_url":"https://api.github.com/users/Licht-T/followers","following_url":"https://api.github.com/users/Licht-T/following{/other_user}","gists_url":"https://api.github.com/users/Licht-T/gists{/gist_id}","starred_url":"https://api.github.com/users/Licht-T/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Licht-T/subscriptions","organizations_url":"https://api.github.com/users/Licht-T/orgs","repos_url":"https://api.github.com/users/Licht-T/repos","events_url":"https://api.github.com/users/Licht-T/events{/privacy}","received_events_url":"https://api.github.com/users/Licht-T/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T06:45:07Z","updated_at":"2019-01-13T06:45:07Z","author_association":"CONTRIBUTOR","body":"Okay, I'll fix.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453806674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453809643","html_url":"https://github.com/apache/airflow/pull/4503#issuecomment-453809643","issue_url":"https://api.github.com/repos/apache/airflow/issues/4503","id":453809643,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgwOTY0Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T07:53:09Z","updated_at":"2019-01-13T07:53:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4503?src=pr&el=h1) Report\n> Merging [#4503](https://codecov.io/gh/apache/airflow/pull/4503?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/5ce1899c06dd67dff33fd6a1de87329a0045bc41?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4503/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4503?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4503      +/-   ##\n==========================================\n- Coverage   74.76%   74.76%   -0.01%     \n==========================================\n  Files         429      429              \n  Lines       29649    29649              \n==========================================\n- Hits        22167    22166       -1     \n- Misses       7482     7483       +1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4503?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/models/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4503/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMvX19pbml0X18ucHk=) | `92.5% <0%> (-0.05%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4503?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4503?src=pr&el=footer). Last update [5ce1899...8e106e7](https://codecov.io/gh/apache/airflow/pull/4503?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453809643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453810047","html_url":"https://github.com/apache/airflow/pull/4503#issuecomment-453810047","issue_url":"https://api.github.com/repos/apache/airflow/issues/4503","id":453810047,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgxMDA0Nw==","user":{"login":"feng-tao","id":3223098,"node_id":"MDQ6VXNlcjMyMjMwOTg=","avatar_url":"https://avatars.githubusercontent.com/u/3223098?v=4","gravatar_id":"","url":"https://api.github.com/users/feng-tao","html_url":"https://github.com/feng-tao","followers_url":"https://api.github.com/users/feng-tao/followers","following_url":"https://api.github.com/users/feng-tao/following{/other_user}","gists_url":"https://api.github.com/users/feng-tao/gists{/gist_id}","starred_url":"https://api.github.com/users/feng-tao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feng-tao/subscriptions","organizations_url":"https://api.github.com/users/feng-tao/orgs","repos_url":"https://api.github.com/users/feng-tao/repos","events_url":"https://api.github.com/users/feng-tao/events{/privacy}","received_events_url":"https://api.github.com/users/feng-tao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T08:02:07Z","updated_at":"2019-01-13T08:02:07Z","author_association":"MEMBER","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453810047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453810488","html_url":"https://github.com/apache/airflow/pull/4504#issuecomment-453810488","issue_url":"https://api.github.com/repos/apache/airflow/issues/4504","id":453810488,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgxMDQ4OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T08:11:10Z","updated_at":"2019-01-13T08:11:10Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4504?src=pr&el=h1) Report\n> Merging [#4504](https://codecov.io/gh/apache/airflow/pull/4504?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/5ce1899c06dd67dff33fd6a1de87329a0045bc41?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4504/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4504?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4504      +/-   ##\n==========================================\n- Coverage   74.76%   74.76%   -0.01%     \n==========================================\n  Files         429      429              \n  Lines       29649    29648       -1     \n==========================================\n- Hits        22167    22166       -1     \n  Misses       7482     7482\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4504?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/api/common/experimental/mark\\_tasks.py](https://codecov.io/gh/apache/airflow/pull/4504/diff?src=pr&el=tree#diff-YWlyZmxvdy9hcGkvY29tbW9uL2V4cGVyaW1lbnRhbC9tYXJrX3Rhc2tzLnB5) | `97.58% <ø> (-0.02%)` | :arrow_down: |\n| [airflow/models/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4504/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMvX19pbml0X18ucHk=) | `92.5% <0%> (-0.05%)` | :arrow_down: |\n| [airflow/utils/dag\\_processing.py](https://codecov.io/gh/apache/airflow/pull/4504/diff?src=pr&el=tree#diff-YWlyZmxvdy91dGlscy9kYWdfcHJvY2Vzc2luZy5weQ==) | `59.92% <0%> (+0.17%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4504?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4504?src=pr&el=footer). Last update [5ce1899...7af58f1](https://codecov.io/gh/apache/airflow/pull/4504?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453810488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453811591","html_url":"https://github.com/apache/airflow/pull/3533#issuecomment-453811591","issue_url":"https://api.github.com/repos/apache/airflow/issues/3533","id":453811591,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgxMTU5MQ==","user":{"login":"ron819","id":40163787,"node_id":"MDQ6VXNlcjQwMTYzNzg3","avatar_url":"https://avatars.githubusercontent.com/u/40163787?v=4","gravatar_id":"","url":"https://api.github.com/users/ron819","html_url":"https://github.com/ron819","followers_url":"https://api.github.com/users/ron819/followers","following_url":"https://api.github.com/users/ron819/following{/other_user}","gists_url":"https://api.github.com/users/ron819/gists{/gist_id}","starred_url":"https://api.github.com/users/ron819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron819/subscriptions","organizations_url":"https://api.github.com/users/ron819/orgs","repos_url":"https://api.github.com/users/ron819/repos","events_url":"https://api.github.com/users/ron819/events{/privacy}","received_events_url":"https://api.github.com/users/ron819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T08:33:23Z","updated_at":"2019-01-13T08:33:23Z","author_association":"CONTRIBUTOR","body":"The failure doesn't seem to be related to the PR?\r\n\r\nERROR [airflow.models.DagBag] Failed to import: /app/tests/dags/test_impersonation_custom.py\r\nTraceback (most recent call last):\r\n  File \"/app/airflow/models/__init__.py\", line 382, in process_file\r\n    m = imp.load_source(mod_name, filepath)\r\n  File \"/app/tests/dags/test_impersonation_custom.py\", line 31, in <module>\r\n    from tests.test_utils.fake_datetime import FakeDatetime\r\n  File \"/app/tests/__init__.py\", line 26, in <module>\r\n    from .models import *\r\n  File \"/app/tests/models.py\", line 53, in <module>\r\n    from airflow.operators import BaseOperator\r\nImportError: cannot import name BaseOperator","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453811591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453811707","html_url":"https://github.com/apache/airflow/pull/3584#issuecomment-453811707","issue_url":"https://api.github.com/repos/apache/airflow/issues/3584","id":453811707,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgxMTcwNw==","user":{"login":"ron819","id":40163787,"node_id":"MDQ6VXNlcjQwMTYzNzg3","avatar_url":"https://avatars.githubusercontent.com/u/40163787?v=4","gravatar_id":"","url":"https://api.github.com/users/ron819","html_url":"https://github.com/ron819","followers_url":"https://api.github.com/users/ron819/followers","following_url":"https://api.github.com/users/ron819/following{/other_user}","gists_url":"https://api.github.com/users/ron819/gists{/gist_id}","starred_url":"https://api.github.com/users/ron819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron819/subscriptions","organizations_url":"https://api.github.com/users/ron819/orgs","repos_url":"https://api.github.com/users/ron819/repos","events_url":"https://api.github.com/users/ron819/events{/privacy}","received_events_url":"https://api.github.com/users/ron819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T08:35:50Z","updated_at":"2019-01-13T08:35:50Z","author_association":"CONTRIBUTOR","body":"@Eronarn ping","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453811707/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453825054","html_url":"https://github.com/apache/airflow/pull/4506#issuecomment-453825054","issue_url":"https://api.github.com/repos/apache/airflow/issues/4506","id":453825054,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgyNTA1NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T12:20:05Z","updated_at":"2019-01-13T12:20:05Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4506?src=pr&el=h1) Report\n> Merging [#4506](https://codecov.io/gh/apache/airflow/pull/4506?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/b031b82ceec34d998e8da4e4108e2d8b72577fe3?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4506/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4506?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master    #4506   +/-   ##\n=======================================\n  Coverage   74.76%   74.76%           \n=======================================\n  Files         429      429           \n  Lines       29649    29649           \n=======================================\n  Hits        22167    22167           \n  Misses       7482     7482\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4506?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4506?src=pr&el=footer). Last update [b031b82...fb43841](https://codecov.io/gh/apache/airflow/pull/4506?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453825054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453826017","html_url":"https://github.com/apache/airflow/pull/4506#issuecomment-453826017","issue_url":"https://api.github.com/repos/apache/airflow/issues/4506","id":453826017,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgyNjAxNw==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T12:34:06Z","updated_at":"2019-01-13T12:34:06Z","author_association":"MEMBER","body":"Thanks @bolkedebruin \r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453826017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453828299","html_url":"https://github.com/apache/airflow/pull/4504#issuecomment-453828299","issue_url":"https://api.github.com/repos/apache/airflow/issues/4504","id":453828299,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgyODI5OQ==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:07:06Z","updated_at":"2019-01-13T13:07:06Z","author_association":"MEMBER","body":"@XD-DENG I am not able to reproduce this issue. I am able to easily change the state of the task of a manually triggered DAG. Can you let me know the steps to reproduce this?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453828299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453828594","html_url":"https://github.com/apache/airflow/pull/4505#issuecomment-453828594","issue_url":"https://api.github.com/repos/apache/airflow/issues/4505","id":453828594,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgyODU5NA==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:11:18Z","updated_at":"2019-01-13T13:11:18Z","author_association":"MEMBER","body":"Thanks @XD-DENG ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453828594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453829304","html_url":"https://github.com/apache/airflow/pull/4505#issuecomment-453829304","issue_url":"https://api.github.com/repos/apache/airflow/issues/4505","id":453829304,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgyOTMwNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:21:24Z","updated_at":"2019-01-13T13:21:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4505?src=pr&el=h1) Report\n> Merging [#4505](https://codecov.io/gh/apache/airflow/pull/4505?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/5ce1899c06dd67dff33fd6a1de87329a0045bc41?src=pr&el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4505/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4505?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4505      +/-   ##\n==========================================\n- Coverage   74.76%   74.75%   -0.02%     \n==========================================\n  Files         429      429              \n  Lines       29649    29649              \n==========================================\n- Hits        22167    22164       -3     \n- Misses       7482     7485       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4505?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/jobs.py](https://codecov.io/gh/apache/airflow/pull/4505/diff?src=pr&el=tree#diff-YWlyZmxvdy9qb2JzLnB5) | `77.38% <0%> (-0.28%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4505?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4505?src=pr&el=footer). Last update [5ce1899...84be5c0](https://codecov.io/gh/apache/airflow/pull/4505?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453829304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453829419","html_url":"https://github.com/apache/airflow/pull/4504#issuecomment-453829419","issue_url":"https://api.github.com/repos/apache/airflow/issues/4504","id":453829419,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgyOTQxOQ==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:23:03Z","updated_at":"2019-01-13T13:23:03Z","author_association":"MEMBER","body":"Are you using Postgres backend, @XD-DENG ?","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453829419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453829553","html_url":"https://github.com/apache/airflow/pull/4504#issuecomment-453829553","issue_url":"https://api.github.com/repos/apache/airflow/issues/4504","id":453829553,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgyOTU1Mw==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:24:57Z","updated_at":"2019-01-13T13:24:57Z","author_association":"MEMBER","body":"@kaxil No. I understand you may be referring to another ticket in which the Postgres backend is causing some timestamp precision issue. For this one, I'm quite sure it's not.\r\n\r\nI'm trying using SQLite backend. Now I can still reproduce this issue. Preparing screenshots, will reply here shortly.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453829553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453829817","html_url":"https://github.com/apache/airflow/pull/4510#issuecomment-453829817","issue_url":"https://api.github.com/repos/apache/airflow/issues/4510","id":453829817,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgyOTgxNw==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:28:46Z","updated_at":"2019-01-13T13:28:46Z","author_association":"CONTRIBUTOR","body":"lgtm","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453829817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453830501","html_url":"https://github.com/apache/airflow/pull/4509#issuecomment-453830501","issue_url":"https://api.github.com/repos/apache/airflow/issues/4509","id":453830501,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgzMDUwMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:38:27Z","updated_at":"2019-01-13T13:38:27Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4509?src=pr&el=h1) Report\n> Merging [#4509](https://codecov.io/gh/apache/airflow/pull/4509?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/69adaee25c4d3ebaaa661c60136a20045a8163cb?src=pr&el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4509/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4509?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4509      +/-   ##\n==========================================\n- Coverage   74.76%   74.75%   -0.02%     \n==========================================\n  Files         429      429              \n  Lines       29649    29649              \n==========================================\n- Hits        22167    22164       -3     \n- Misses       7482     7485       +3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4509?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/contrib/operators/vertica\\_to\\_hive.py](https://codecov.io/gh/apache/airflow/pull/4509/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL29wZXJhdG9ycy92ZXJ0aWNhX3RvX2hpdmUucHk=) | `0% <ø> (ø)` | :arrow_up: |\n| [airflow/jobs.py](https://codecov.io/gh/apache/airflow/pull/4509/diff?src=pr&el=tree#diff-YWlyZmxvdy9qb2JzLnB5) | `77.38% <0%> (-0.28%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4509?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4509?src=pr&el=footer). Last update [69adaee...d451e6a](https://codecov.io/gh/apache/airflow/pull/4509?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453830501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453830922","html_url":"https://github.com/apache/airflow/pull/4504#issuecomment-453830922","issue_url":"https://api.github.com/repos/apache/airflow/issues/4504","id":453830922,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgzMDkyMg==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:44:16Z","updated_at":"2019-01-13T13:44:16Z","author_association":"MEMBER","body":"Hi @kaxil , please find the steps to reproduce the issue this PR is trying to solve.\r\n\r\n## **Step-1: Sample DAG Runs**\r\nUsing `example_bash_operator` as example, I have three DAG Runs, the first two are scheduled by the scheduler, and the 3rd one was manually triggered.\r\n<img width=\"366\" alt=\"screen shot 2019-01-13 at 9 22 38 pm\" src=\"https://user-images.githubusercontent.com/11539188/51085942-fa0b3c00-177a-11e9-8a1b-01e197818ec7.png\">\r\n<img width=\"602\" alt=\"screen shot 2019-01-13 at 9 34 29 pm\" src=\"https://user-images.githubusercontent.com/11539188/51085963-435b8b80-177b-11e9-8d24-09357fb687a5.png\">\r\n\r\n## **Step-2: Mark Failed for Task of Scheduled DAG Runs**\r\nI tried to click on the task `run_this_lat` of the 2nd DAG Run, which was scheduled by scheduler.\r\n<img width=\"597\" alt=\"screen shot 2019-01-13 at 9 22 58 pm\" src=\"https://user-images.githubusercontent.com/11539188/51085972-7bfb6500-177b-11e9-8287-82f3c3826b4e.png\">\r\n\r\nThen I could see the confirmation page, in which there is a list of task instances whose state will be changed.\r\n<img width=\"723\" alt=\"screen shot 2019-01-13 at 9 23 10 pm\" src=\"https://user-images.githubusercontent.com/11539188/51085979-90d7f880-177b-11e9-8fa5-4bc587e5b227.png\">\r\n\r\nClick on \"Ok!\", the state will be changed successfully.\r\n<img width=\"657\" alt=\"screen shot 2019-01-13 at 9 25 23 pm\" src=\"https://user-images.githubusercontent.com/11539188/51085984-a3eac880-177b-11e9-8d90-7311069230ce.png\">\r\n\r\n## **Step-3: Mark Failed for Task of Manually-Triggered DAG Runs**\r\n\r\nThen click on the task `run_this_lat` of the 3rd DAG Run, which was **manually-triggered**.\r\n<img width=\"599\" alt=\"screen shot 2019-01-13 at 9 25 29 pm\" src=\"https://user-images.githubusercontent.com/11539188/51086000-f6c48000-177b-11e9-992d-8c6ca1a23747.png\">\r\n\r\n<img width=\"720\" alt=\"screen shot 2019-01-13 at 9 25 35 pm\" src=\"https://user-images.githubusercontent.com/11539188/51086001-ff1cbb00-177b-11e9-9a36-25556e13bc2b.png\">\r\n\r\n<img width=\"707\" alt=\"screen shot 2019-01-13 at 9 25 42 pm\" src=\"https://user-images.githubusercontent.com/11539188/51086007-080d8c80-177c-11e9-8639-9a99efff90ca.png\">\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453830922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453831183","html_url":"https://github.com/apache/airflow/pull/4504#issuecomment-453831183","issue_url":"https://api.github.com/repos/apache/airflow/issues/4504","id":453831183,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgzMTE4Mw==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:47:36Z","updated_at":"2019-01-13T13:47:36Z","author_association":"MEMBER","body":"Hi @kaxil , please note this issue is applicable for `Mark Failed/Success for Task` only. `Mark Failed/Success for DAG Run` is working fine based on my observation.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453831183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453831934","html_url":"https://github.com/apache/airflow/pull/4504#issuecomment-453831934","issue_url":"https://api.github.com/repos/apache/airflow/issues/4504","id":453831934,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgzMTkzNA==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T13:57:26Z","updated_at":"2019-01-13T13:57:26Z","author_association":"MEMBER","body":"Hi @kaxil , supplementary information: when you try to repeat my Step-3, you may see the line below in your webserver log:\r\n```\r\n/Users/XD/anaconda3/envs/airflow_env/lib/python3.5/site-packages/sqlalchemy/sql/default_comparator.py:161:\r\nSAWarning: The IN-predicate on \"task_instance.execution_date\" was invoked with an empty sequence.\r\n This results in a contradiction, which nonetheless can be expensive to evaluate. \r\nConsider alternative strategies for improved performance.\r\n\r\n  'strategies for improved performance.' % expr)\r\n```\r\n\r\nThis was also one of the clues I used to trouble-shoot this.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453831934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453834713","html_url":"https://github.com/apache/airflow/pull/4504#issuecomment-453834713","issue_url":"https://api.github.com/repos/apache/airflow/issues/4504","id":453834713,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgzNDcxMw==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T14:33:48Z","updated_at":"2019-01-13T14:33:48Z","author_association":"MEMBER","body":"Thanks @XD-DENG ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453834713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453835864","html_url":"https://github.com/apache/airflow/pull/4510#issuecomment-453835864","issue_url":"https://api.github.com/repos/apache/airflow/issues/4510","id":453835864,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzgzNTg2NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T14:50:30Z","updated_at":"2019-01-13T14:50:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4510?src=pr&el=h1) Report\n> Merging [#4510](https://codecov.io/gh/apache/airflow/pull/4510?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/dba13d9bf09dbf273bc8e2e990002cc00ed57714?src=pr&el=desc) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4510/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4510?src=pr&el=tree)\n\n```diff\n@@           Coverage Diff           @@\n##           master    #4510   +/-   ##\n=======================================\n  Coverage   74.76%   74.76%           \n=======================================\n  Files         429      429           \n  Lines       29649    29649           \n=======================================\n  Hits        22167    22167           \n  Misses       7482     7482\n```\n\n\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4510?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4510?src=pr&el=footer). Last update [dba13d9...1cd1bfe](https://codecov.io/gh/apache/airflow/pull/4510?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453835864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453847182","html_url":"https://github.com/apache/airflow/pull/4508#issuecomment-453847182","issue_url":"https://api.github.com/repos/apache/airflow/issues/4508","id":453847182,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg0NzE4Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T17:10:02Z","updated_at":"2019-01-13T17:10:04Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4508?src=pr&el=h1) Report\n> Merging [#4508](https://codecov.io/gh/apache/airflow/pull/4508?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/69adaee25c4d3ebaaa661c60136a20045a8163cb?src=pr&el=desc) will **decrease** coverage by `0.13%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4508/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4508?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4508      +/-   ##\n==========================================\n- Coverage   74.76%   74.63%   -0.14%     \n==========================================\n  Files         429      429              \n  Lines       29649    29701      +52     \n==========================================\n  Hits        22167    22167              \n- Misses       7482     7534      +52\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4508?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/api/common/experimental/mark\\_tasks.py](https://codecov.io/gh/apache/airflow/pull/4508/diff?src=pr&el=tree#diff-YWlyZmxvdy9hcGkvY29tbW9uL2V4cGVyaW1lbnRhbC9tYXJrX3Rhc2tzLnB5) | `68.92% <0%> (-28.68%)` | :arrow_down: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4508?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4508?src=pr&el=footer). Last update [69adaee...d632fea](https://codecov.io/gh/apache/airflow/pull/4508?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453847182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453847975","html_url":"https://github.com/apache/airflow/pull/4321#issuecomment-453847975","issue_url":"https://api.github.com/repos/apache/airflow/issues/4321","id":453847975,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg0Nzk3NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T17:18:32Z","updated_at":"2019-01-25T11:54:01Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4321?src=pr&el=h1) Report\n> Merging [#4321](https://codecov.io/gh/apache/airflow/pull/4321?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/993779f93df172f5f774f1ea2634c55e9c1212c4?src=pr&el=desc) will **increase** coverage by `2.4%`.\n> The diff coverage is `77.67%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4321/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4321?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4321      +/-   ##\n==========================================\n+ Coverage   74.14%   76.55%    +2.4%     \n==========================================\n  Files         421      203     -218     \n  Lines       27724    16517   -11207     \n==========================================\n- Hits        20555    12644    -7911     \n+ Misses       7169     3873    -3296\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4321?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [...ample\\_dags/example\\_branch\\_python\\_dop\\_operator\\_3.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9leGFtcGxlX2RhZ3MvZXhhbXBsZV9icmFuY2hfcHl0aG9uX2RvcF9vcGVyYXRvcl8zLnB5) | `73.33% <ø> (ø)` | :arrow_up: |\n| [airflow/operators/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9vcGVyYXRvcnMvX19pbml0X18ucHk=) | `61.11% <ø> (-38.89%)` | :arrow_down: |\n| [airflow/hooks/hive\\_hooks.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9ob29rcy9oaXZlX2hvb2tzLnB5) | `73.42% <ø> (-1.85%)` | :arrow_down: |\n| [airflow/utils/email.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy91dGlscy9lbWFpbC5weQ==) | `100% <ø> (ø)` | :arrow_up: |\n| [airflow/operators/python\\_operator.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9vcGVyYXRvcnMvcHl0aG9uX29wZXJhdG9yLnB5) | `95.03% <ø> (-0.1%)` | :arrow_down: |\n| [airflow/example\\_dags/example\\_http\\_operator.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9leGFtcGxlX2RhZ3MvZXhhbXBsZV9odHRwX29wZXJhdG9yLnB5) | `100% <ø> (ø)` | :arrow_up: |\n| [airflow/hooks/druid\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9ob29rcy9kcnVpZF9ob29rLnB5) | `88% <ø> (ø)` | :arrow_up: |\n| [airflow/security/utils.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9zZWN1cml0eS91dGlscy5weQ==) | `26.92% <ø> (ø)` | :arrow_up: |\n| [airflow/hooks/base\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9ob29rcy9iYXNlX2hvb2sucHk=) | `92.15% <ø> (ø)` | :arrow_up: |\n| [...le\\_dags/example\\_passing\\_params\\_via\\_test\\_command.py](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree#diff-YWlyZmxvdy9leGFtcGxlX2RhZ3MvZXhhbXBsZV9wYXNzaW5nX3BhcmFtc192aWFfdGVzdF9jb21tYW5kLnB5) | `100% <ø> (ø)` | :arrow_up: |\n| ... and [257 more](https://codecov.io/gh/apache/airflow/pull/4321/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4321?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4321?src=pr&el=footer). Last update [993779f...deb6e2e](https://codecov.io/gh/apache/airflow/pull/4321?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453847975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453849309","html_url":"https://github.com/apache/airflow/pull/4502#issuecomment-453849309","issue_url":"https://api.github.com/repos/apache/airflow/issues/4502","id":453849309,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg0OTMwOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T17:32:15Z","updated_at":"2019-01-13T17:32:29Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4502?src=pr&el=h1) Report\n> Merging [#4502](https://codecov.io/gh/apache/airflow/pull/4502?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/d1ebf4d030075af961de363c6d8251f0df87775c?src=pr&el=desc) will **increase** coverage by `0.03%`.\n> The diff coverage is `55.55%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4502/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4502?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4502      +/-   ##\n==========================================\n+ Coverage   74.76%   74.79%   +0.03%     \n==========================================\n  Files         429      429              \n  Lines       29648    29638      -10     \n==========================================\n+ Hits        22165    22167       +2     \n+ Misses       7483     7471      -12\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4502?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/models/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4502/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMvX19pbml0X18ucHk=) | `92.51% <100%> (+0.01%)` | :arrow_up: |\n| [airflow/www/views.py](https://codecov.io/gh/apache/airflow/pull/4502/diff?src=pr&el=tree#diff-YWlyZmxvdy93d3cvdmlld3MucHk=) | `70.42% <33.33%> (+0.24%)` | :arrow_up: |\n| [airflow/www\\_rbac/views.py](https://codecov.io/gh/apache/airflow/pull/4502/diff?src=pr&el=tree#diff-YWlyZmxvdy93d3dfcmJhYy92aWV3cy5weQ==) | `75.67% <33.33%> (+0.31%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4502?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4502?src=pr&el=footer). Last update [d1ebf4d...b85a6f7](https://codecov.io/gh/apache/airflow/pull/4502?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453849309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453858677","html_url":"https://github.com/apache/airflow/pull/2753#issuecomment-453858677","issue_url":"https://api.github.com/repos/apache/airflow/issues/2753","id":453858677,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg1ODY3Nw==","user":{"login":"mik-laj","id":12058428,"node_id":"MDQ6VXNlcjEyMDU4NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12058428?v=4","gravatar_id":"","url":"https://api.github.com/users/mik-laj","html_url":"https://github.com/mik-laj","followers_url":"https://api.github.com/users/mik-laj/followers","following_url":"https://api.github.com/users/mik-laj/following{/other_user}","gists_url":"https://api.github.com/users/mik-laj/gists{/gist_id}","starred_url":"https://api.github.com/users/mik-laj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mik-laj/subscriptions","organizations_url":"https://api.github.com/users/mik-laj/orgs","repos_url":"https://api.github.com/users/mik-laj/repos","events_url":"https://api.github.com/users/mik-laj/events{/privacy}","received_events_url":"https://api.github.com/users/mik-laj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T19:35:51Z","updated_at":"2019-01-13T19:51:55Z","author_association":"MEMBER","body":"Related PR: https://github.com/apache/airflow/pull/4345","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453858677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453861168","html_url":"https://github.com/apache/airflow/pull/2526#issuecomment-453861168","issue_url":"https://api.github.com/repos/apache/airflow/issues/2526","id":453861168,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg2MTE2OA==","user":{"login":"mik-laj","id":12058428,"node_id":"MDQ6VXNlcjEyMDU4NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12058428?v=4","gravatar_id":"","url":"https://api.github.com/users/mik-laj","html_url":"https://github.com/mik-laj","followers_url":"https://api.github.com/users/mik-laj/followers","following_url":"https://api.github.com/users/mik-laj/following{/other_user}","gists_url":"https://api.github.com/users/mik-laj/gists{/gist_id}","starred_url":"https://api.github.com/users/mik-laj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mik-laj/subscriptions","organizations_url":"https://api.github.com/users/mik-laj/orgs","repos_url":"https://api.github.com/users/mik-laj/repos","events_url":"https://api.github.com/users/mik-laj/events{/privacy}","received_events_url":"https://api.github.com/users/mik-laj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T20:05:59Z","updated_at":"2019-01-13T20:05:59Z","author_association":"MEMBER","body":"Related PR:\r\nhttps://github.com/apache/airflow/pull/3992/files\r\nYour and this PR solves the same problem.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453861168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453871122","html_url":"https://github.com/apache/airflow/pull/4515#issuecomment-453871122","issue_url":"https://api.github.com/repos/apache/airflow/issues/4515","id":453871122,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg3MTEyMg==","user":{"login":"mik-laj","id":12058428,"node_id":"MDQ6VXNlcjEyMDU4NDI4","avatar_url":"https://avatars.githubusercontent.com/u/12058428?v=4","gravatar_id":"","url":"https://api.github.com/users/mik-laj","html_url":"https://github.com/mik-laj","followers_url":"https://api.github.com/users/mik-laj/followers","following_url":"https://api.github.com/users/mik-laj/following{/other_user}","gists_url":"https://api.github.com/users/mik-laj/gists{/gist_id}","starred_url":"https://api.github.com/users/mik-laj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mik-laj/subscriptions","organizations_url":"https://api.github.com/users/mik-laj/orgs","repos_url":"https://api.github.com/users/mik-laj/repos","events_url":"https://api.github.com/users/mik-laj/events{/privacy}","received_events_url":"https://api.github.com/users/mik-laj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T22:22:41Z","updated_at":"2019-01-13T22:22:41Z","author_association":"MEMBER","body":"I working on speed up flake8\r\nttps://github.com/apache/airflow/pull/4499\r\nHowever, our solution is better. When your PR is accepted, my PR should be closed.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453871122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453875836","html_url":"https://github.com/apache/airflow/pull/4511#issuecomment-453875836","issue_url":"https://api.github.com/repos/apache/airflow/issues/4511","id":453875836,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg3NTgzNg==","user":{"login":"feluelle","id":23282078,"node_id":"MDQ6VXNlcjIzMjgyMDc4","avatar_url":"https://avatars.githubusercontent.com/u/23282078?v=4","gravatar_id":"","url":"https://api.github.com/users/feluelle","html_url":"https://github.com/feluelle","followers_url":"https://api.github.com/users/feluelle/followers","following_url":"https://api.github.com/users/feluelle/following{/other_user}","gists_url":"https://api.github.com/users/feluelle/gists{/gist_id}","starred_url":"https://api.github.com/users/feluelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feluelle/subscriptions","organizations_url":"https://api.github.com/users/feluelle/orgs","repos_url":"https://api.github.com/users/feluelle/repos","events_url":"https://api.github.com/users/feluelle/events{/privacy}","received_events_url":"https://api.github.com/users/feluelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-13T23:28:42Z","updated_at":"2019-01-13T23:28:42Z","author_association":"MEMBER","body":"Hey @BasPH, I like your proposal  to use pylint to have cleaner code because like you said pylint has more strict rules by default but I actually would be even more strict in that sense that we would add it instead of replacing it and use both flake8 + pylint because flake8 has some checks that even pylint does not have I believe. At work we use both for our custom airflow plugins and it is working great.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453875836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453880447","html_url":"https://github.com/apache/airflow/pull/4513#issuecomment-453880447","issue_url":"https://api.github.com/repos/apache/airflow/issues/4513","id":453880447,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg4MDQ0Nw==","user":{"login":"kaxil","id":8811558,"node_id":"MDQ6VXNlcjg4MTE1NTg=","avatar_url":"https://avatars.githubusercontent.com/u/8811558?v=4","gravatar_id":"","url":"https://api.github.com/users/kaxil","html_url":"https://github.com/kaxil","followers_url":"https://api.github.com/users/kaxil/followers","following_url":"https://api.github.com/users/kaxil/following{/other_user}","gists_url":"https://api.github.com/users/kaxil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaxil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaxil/subscriptions","organizations_url":"https://api.github.com/users/kaxil/orgs","repos_url":"https://api.github.com/users/kaxil/repos","events_url":"https://api.github.com/users/kaxil/events{/privacy}","received_events_url":"https://api.github.com/users/kaxil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T00:37:04Z","updated_at":"2019-01-14T11:24:31Z","author_association":"MEMBER","body":"I would suggest if this needs more work and probably more time we can include it in the next release. We can have a patch release 1.10.3 after fixing this issue. Let me know your thoughts on this if you agree I will cut RCs for 1.10.2.\r\n\r\nCI fails with similar errors as below:\r\n\r\n```\r\n======================================================================\r\n1) ERROR: test_backfill (tests.CliTests)\r\n----------------------------------------------------------------------\r\n   Traceback (most recent call last):\r\n    tests/core.py line 1073 in setUp\r\n      self.app, self.appbuilder = application.create_app(session=Session, testing=True)\r\n    airflow/www_rbac/app.py line 163 in create_app\r\n      init_views(appbuilder)\r\n    airflow/www_rbac/app.py line 91 in init_views\r\n      from airflow.www_rbac import views\r\n    airflow/www_rbac/views.py line 65 in <module>\r\n      from airflow._vendor import nvd3\r\n    airflow/_vendor/nvd3/__init__.py line 19 in <module>\r\n      from .lineChart import lineChart\r\n    airflow/_vendor/nvd3/lineChart.py line 12 in <module>\r\n      from .NVD3Chart import NVD3Chart, TemplateMixin\r\n    airflow/_vendor/nvd3/NVD3Chart.py line 26 in <module>\r\n      pl = PackageLoader('nvd3', 'templates')\r\n    .tox/py27-backend_mysql-env_docker/lib/python2.7/site-packages/jinja2/loaders.py line 224 in __init__\r\n      provider = get_provider(package_name)\r\n    .tox/py27-backend_mysql-env_docker/lib/python2.7/site-packages/pkg_resources/__init__.py line 359 in get_provider\r\n      __import__(moduleOrReq)\r\n   ImportError: No module named nvd3\r\n\r\n======================================================================\r\n2) ERROR: test_cli_connections_add_delete (tests.CliTests)\r\n----------------------------------------------------------------------\r\n   Traceback (most recent call last):\r\n    tests/core.py line 1073 in setUp\r\n      self.app, self.appbuilder = application.create_app(session=Session, testing=True)\r\n    airflow/www_rbac/app.py line 163 in create_app\r\n      init_views(appbuilder)\r\n    airflow/www_rbac/app.py line 91 in init_views\r\n      from airflow.www_rbac import views\r\n    airflow/www_rbac/views.py line 65 in <module>\r\n      from airflow._vendor import nvd3\r\n    airflow/_vendor/nvd3/__init__.py line 19 in <module>\r\n      from .lineChart import lineChart\r\n    airflow/_vendor/nvd3/lineChart.py line 12 in <module>\r\n      from .NVD3Chart import NVD3Chart, TemplateMixin\r\n    airflow/_vendor/nvd3/NVD3Chart.py line 26 in <module>\r\n      pl = PackageLoader('nvd3', 'templates')\r\n    .tox/py27-backend_mysql-env_docker/lib/python2.7/site-packages/jinja2/loaders.py line 224 in __init__\r\n      provider = get_provider(package_name)\r\n    .tox/py27-backend_mysql-env_docker/lib/python2.7/site-packages/pkg_resources/__init__.py line 359 in get_provider\r\n      __import__(moduleOrReq)\r\n   ImportError: No module named nvd3\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453880447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453885641","html_url":"https://github.com/apache/airflow/pull/4517#issuecomment-453885641","issue_url":"https://api.github.com/repos/apache/airflow/issues/4517","id":453885641,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg4NTY0MQ==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T01:45:49Z","updated_at":"2019-01-14T02:18:16Z","author_association":"MEMBER","body":"Hi @kaxil , kindly consider adding this to 1.10.2. This change should not break anything while it improves security of Airflow. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453885641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453889539","html_url":"https://github.com/apache/airflow/pull/4517#issuecomment-453889539","issue_url":"https://api.github.com/repos/apache/airflow/issues/4517","id":453889539,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzg4OTUzOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T02:31:53Z","updated_at":"2019-01-14T02:31:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4517?src=pr&el=h1) Report\n> Merging [#4517](https://codecov.io/gh/apache/airflow/pull/4517?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/e990aef739dca476b03f5eb2445f2388c4179beb?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4517/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4517?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4517      +/-   ##\n==========================================\n- Coverage   74.76%   74.75%   -0.01%     \n==========================================\n  Files         429      429              \n  Lines       29648    29648              \n==========================================\n- Hits        22165    22163       -2     \n- Misses       7483     7485       +2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4517?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/jobs.py](https://codecov.io/gh/apache/airflow/pull/4517/diff?src=pr&el=tree#diff-YWlyZmxvdy9qb2JzLnB5) | `77.38% <0%> (-0.28%)` | :arrow_down: |\n| [airflow/models/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4517/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMvX19pbml0X18ucHk=) | `92.54% <0%> (+0.04%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4517?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4517?src=pr&el=footer). Last update [e990aef...8753177](https://codecov.io/gh/apache/airflow/pull/4517?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453889539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453915671","html_url":"https://github.com/apache/airflow/pull/4511#issuecomment-453915671","issue_url":"https://api.github.com/repos/apache/airflow/issues/4511","id":453915671,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzkxNTY3MQ==","user":{"login":"BasPH","id":6249654,"node_id":"MDQ6VXNlcjYyNDk2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6249654?v=4","gravatar_id":"","url":"https://api.github.com/users/BasPH","html_url":"https://github.com/BasPH","followers_url":"https://api.github.com/users/BasPH/followers","following_url":"https://api.github.com/users/BasPH/following{/other_user}","gists_url":"https://api.github.com/users/BasPH/gists{/gist_id}","starred_url":"https://api.github.com/users/BasPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BasPH/subscriptions","organizations_url":"https://api.github.com/users/BasPH/orgs","repos_url":"https://api.github.com/users/BasPH/repos","events_url":"https://api.github.com/users/BasPH/events{/privacy}","received_events_url":"https://api.github.com/users/BasPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T07:02:48Z","updated_at":"2019-01-14T07:02:48Z","author_association":"CONTRIBUTOR","body":"Whoops Pylint made the sensible choice to drop Python2 support with Pylint2 which I'm installing and now the tests are failing. Will check tonight.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453915671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453916287","html_url":"https://github.com/apache/airflow/pull/4511#issuecomment-453916287","issue_url":"https://api.github.com/repos/apache/airflow/issues/4511","id":453916287,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1MzkxNjI4Nw==","user":{"login":"BasPH","id":6249654,"node_id":"MDQ6VXNlcjYyNDk2NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6249654?v=4","gravatar_id":"","url":"https://api.github.com/users/BasPH","html_url":"https://github.com/BasPH","followers_url":"https://api.github.com/users/BasPH/followers","following_url":"https://api.github.com/users/BasPH/following{/other_user}","gists_url":"https://api.github.com/users/BasPH/gists{/gist_id}","starred_url":"https://api.github.com/users/BasPH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BasPH/subscriptions","organizations_url":"https://api.github.com/users/BasPH/orgs","repos_url":"https://api.github.com/users/BasPH/repos","events_url":"https://api.github.com/users/BasPH/events{/privacy}","received_events_url":"https://api.github.com/users/BasPH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T07:07:26Z","updated_at":"2019-01-14T07:07:26Z","author_association":"CONTRIBUTOR","body":"@feluelle I thought Flake8 checks only PEP8 + logic, and PyLint does that too + code smells + more. Will investigate more how they overlap tonight.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453916287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453943455","html_url":"https://github.com/apache/airflow/pull/4476#issuecomment-453943455","issue_url":"https://api.github.com/repos/apache/airflow/issues/4476","id":453943455,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk0MzQ1NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T09:29:45Z","updated_at":"2019-01-14T09:29:45Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4476?src=pr&el=h1) Report\n> Merging [#4476](https://codecov.io/gh/apache/airflow/pull/4476?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/e990aef739dca476b03f5eb2445f2388c4179beb?src=pr&el=desc) will **increase** coverage by `0.02%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4476/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4476?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4476      +/-   ##\n==========================================\n+ Coverage   74.76%   74.78%   +0.02%     \n==========================================\n  Files         429      430       +1     \n  Lines       29648    29670      +22     \n==========================================\n+ Hits        22165    22189      +24     \n+ Misses       7483     7481       -2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4476?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [.../contrib/operators/imap\\_to\\_s3\\_transfer\\_operator.py](https://codecov.io/gh/apache/airflow/pull/4476/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL29wZXJhdG9ycy9pbWFwX3RvX3MzX3RyYW5zZmVyX29wZXJhdG9yLnB5) | `100% <100%> (ø)` | |\n| [airflow/models/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4476/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMvX19pbml0X18ucHk=) | `92.54% <0%> (+0.04%)` | :arrow_up: |\n| [airflow/contrib/operators/ssh\\_operator.py](https://codecov.io/gh/apache/airflow/pull/4476/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL29wZXJhdG9ycy9zc2hfb3BlcmF0b3IucHk=) | `85% <0%> (+1.25%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4476?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4476?src=pr&el=footer). Last update [e990aef...b146d14](https://codecov.io/gh/apache/airflow/pull/4476?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453943455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453944867","html_url":"https://github.com/apache/airflow/pull/4516#issuecomment-453944867","issue_url":"https://api.github.com/repos/apache/airflow/issues/4516","id":453944867,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk0NDg2Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T09:35:05Z","updated_at":"2019-01-21T17:03:58Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4516?src=pr&el=h1) Report\n> Merging [#4516](https://codecov.io/gh/apache/airflow/pull/4516?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/c0949cbd4d9e57abf9d4c2f439d34b9703cb9a05?src=pr&el=desc) will **increase** coverage by `1.36%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4516/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4516?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4516      +/-   ##\n==========================================\n+ Coverage   73.81%   75.18%   +1.36%     \n==========================================\n  Files         421      421              \n  Lines       27662    29624    +1962     \n==========================================\n+ Hits        20418    22272    +1854     \n- Misses       7244     7352     +108\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4516?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/contrib/hooks/sagemaker\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL3NhZ2VtYWtlcl9ob29rLnB5) | `88.21% <100%> (+0.36%)` | :arrow_up: |\n| [airflow/contrib/hooks/datadog\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL2RhdGFkb2dfaG9vay5weQ==) | `77.55% <0%> (-22.45%)` | :arrow_down: |\n| [airflow/contrib/operators/spark\\_submit\\_operator.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL29wZXJhdG9ycy9zcGFya19zdWJtaXRfb3BlcmF0b3IucHk=) | `87.75% <0%> (-4.36%)` | :arrow_down: |\n| [airflow/contrib/hooks/snowflake\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL3Nub3dmbGFrZV9ob29rLnB5) | `69.81% <0%> (-3.88%)` | :arrow_down: |\n| [airflow/contrib/hooks/spark\\_submit\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL3NwYXJrX3N1Ym1pdF9ob29rLnB5) | `77.87% <0%> (-1.87%)` | :arrow_down: |\n| [airflow/contrib/hooks/gcp\\_function\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL2djcF9mdW5jdGlvbl9ob29rLnB5) | `71.42% <0%> (-1.65%)` | :arrow_down: |\n| [airflow/sensors/external\\_task\\_sensor.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9zZW5zb3JzL2V4dGVybmFsX3Rhc2tfc2Vuc29yLnB5) | `96.1% <0%> (-0.2%)` | :arrow_down: |\n| [airflow/www/views.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy93d3cvdmlld3MucHk=) | `76.41% <0%> (+0.67%)` | :arrow_up: |\n| [airflow/hooks/dbapi\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9ob29rcy9kYmFwaV9ob29rLnB5) | `79.03% <0%> (+0.8%)` | :arrow_up: |\n| [airflow/contrib/hooks/gcp\\_sql\\_hook.py](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree#diff-YWlyZmxvdy9jb250cmliL2hvb2tzL2djcF9zcWxfaG9vay5weQ==) | `70.69% <0%> (+1.48%)` | :arrow_up: |\n| ... and [9 more](https://codecov.io/gh/apache/airflow/pull/4516/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4516?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4516?src=pr&el=footer). Last update [c0949cb...c90b64d](https://codecov.io/gh/apache/airflow/pull/4516?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453944867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453946007","html_url":"https://github.com/apache/airflow/pull/4465#issuecomment-453946007","issue_url":"https://api.github.com/repos/apache/airflow/issues/4465","id":453946007,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk0NjAwNw==","user":{"login":"laakejs","id":33700709,"node_id":"MDQ6VXNlcjMzNzAwNzA5","avatar_url":"https://avatars.githubusercontent.com/u/33700709?v=4","gravatar_id":"","url":"https://api.github.com/users/laakejs","html_url":"https://github.com/laakejs","followers_url":"https://api.github.com/users/laakejs/followers","following_url":"https://api.github.com/users/laakejs/following{/other_user}","gists_url":"https://api.github.com/users/laakejs/gists{/gist_id}","starred_url":"https://api.github.com/users/laakejs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laakejs/subscriptions","organizations_url":"https://api.github.com/users/laakejs/orgs","repos_url":"https://api.github.com/users/laakejs/repos","events_url":"https://api.github.com/users/laakejs/events{/privacy}","received_events_url":"https://api.github.com/users/laakejs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T09:39:52Z","updated_at":"2019-01-14T09:39:52Z","author_association":"CONTRIBUTOR","body":"Applied change to aws_conn_id in emr_terminate_job_flow_operator as well and updated description in git and Jira.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453946007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453946236","html_url":"https://github.com/apache/airflow/pull/4513#issuecomment-453946236","issue_url":"https://api.github.com/repos/apache/airflow/issues/4513","id":453946236,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk0NjIzNg==","user":{"login":"ashb","id":34150,"node_id":"MDQ6VXNlcjM0MTUw","avatar_url":"https://avatars.githubusercontent.com/u/34150?v=4","gravatar_id":"","url":"https://api.github.com/users/ashb","html_url":"https://github.com/ashb","followers_url":"https://api.github.com/users/ashb/followers","following_url":"https://api.github.com/users/ashb/following{/other_user}","gists_url":"https://api.github.com/users/ashb/gists{/gist_id}","starred_url":"https://api.github.com/users/ashb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashb/subscriptions","organizations_url":"https://api.github.com/users/ashb/orgs","repos_url":"https://api.github.com/users/ashb/repos","events_url":"https://api.github.com/users/ashb/events{/privacy}","received_events_url":"https://api.github.com/users/ashb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T09:40:41Z","updated_at":"2019-01-14T09:40:41Z","author_association":"MEMBER","body":"I would like to see this as two _non-squashed_ commits:\r\n- The first commit vendorising the modules and using them,\r\n- The second commit that makes any local changes.\r\n\r\nThis will make any future maintenance or upgrading of these vendored modules easier. (This will mean that we can't merge via the GitHub button, but that's okay.)\r\n\r\nI'm happy to do this change if you don't have time (I will on Wednesday)","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453946236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453946524","html_url":"https://github.com/apache/airflow/pull/4465#issuecomment-453946524","issue_url":"https://api.github.com/repos/apache/airflow/issues/4465","id":453946524,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk0NjUyNA==","user":{"login":"ashb","id":34150,"node_id":"MDQ6VXNlcjM0MTUw","avatar_url":"https://avatars.githubusercontent.com/u/34150?v=4","gravatar_id":"","url":"https://api.github.com/users/ashb","html_url":"https://github.com/ashb","followers_url":"https://api.github.com/users/ashb/followers","following_url":"https://api.github.com/users/ashb/following{/other_user}","gists_url":"https://api.github.com/users/ashb/gists{/gist_id}","starred_url":"https://api.github.com/users/ashb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashb/subscriptions","organizations_url":"https://api.github.com/users/ashb/orgs","repos_url":"https://api.github.com/users/ashb/repos","events_url":"https://api.github.com/users/ashb/events{/privacy}","received_events_url":"https://api.github.com/users/ashb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T09:41:50Z","updated_at":"2019-01-14T09:41:50Z","author_association":"MEMBER","body":"This needs a note in UPDATING.md as it will change the behaviour of the operators.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453946524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453946709","html_url":"https://github.com/apache/airflow/pull/4517#issuecomment-453946709","issue_url":"https://api.github.com/repos/apache/airflow/issues/4517","id":453946709,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk0NjcwOQ==","user":{"login":"ron819","id":40163787,"node_id":"MDQ6VXNlcjQwMTYzNzg3","avatar_url":"https://avatars.githubusercontent.com/u/40163787?v=4","gravatar_id":"","url":"https://api.github.com/users/ron819","html_url":"https://github.com/ron819","followers_url":"https://api.github.com/users/ron819/followers","following_url":"https://api.github.com/users/ron819/following{/other_user}","gists_url":"https://api.github.com/users/ron819/gists{/gist_id}","starred_url":"https://api.github.com/users/ron819/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ron819/subscriptions","organizations_url":"https://api.github.com/users/ron819/orgs","repos_url":"https://api.github.com/users/ron819/repos","events_url":"https://api.github.com/users/ron819/events{/privacy}","received_events_url":"https://api.github.com/users/ron819/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T09:42:33Z","updated_at":"2019-01-14T09:42:33Z","author_association":"CONTRIBUTOR","body":"It should be noted that requests uses cryptography library but does not force minimal version (Only raises warning if you run version  1.3.4 or lower ) - the cryptography library had also several important security updates. However I doubt we have something to do with that as Airflow does not use cryptography directly. ","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453946709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453947413","html_url":"https://github.com/apache/airflow/pull/4515#issuecomment-453947413","issue_url":"https://api.github.com/repos/apache/airflow/issues/4515","id":453947413,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk0NzQxMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T09:45:16Z","updated_at":"2019-01-14T09:45:16Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/airflow/pull/4515?src=pr&el=h1) Report\n> Merging [#4515](https://codecov.io/gh/apache/airflow/pull/4515?src=pr&el=desc) into [master](https://codecov.io/gh/apache/airflow/commit/e990aef739dca476b03f5eb2445f2388c4179beb?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/airflow/pull/4515/graphs/tree.svg?width=650&token=WdLKlKHOAU&height=150&src=pr)](https://codecov.io/gh/apache/airflow/pull/4515?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #4515      +/-   ##\n==========================================\n+ Coverage   74.76%   74.76%   +<.01%     \n==========================================\n  Files         429      429              \n  Lines       29648    29648              \n==========================================\n+ Hits        22165    22166       +1     \n+ Misses       7483     7482       -1\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/airflow/pull/4515?src=pr&el=tree) | Coverage Δ | |\n|---|---|---|\n| [airflow/models/\\_\\_init\\_\\_.py](https://codecov.io/gh/apache/airflow/pull/4515/diff?src=pr&el=tree#diff-YWlyZmxvdy9tb2RlbHMvX19pbml0X18ucHk=) | `92.54% <0%> (+0.04%)` | :arrow_up: |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/airflow/pull/4515?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/airflow/pull/4515?src=pr&el=footer). Last update [e990aef...63907b5](https://codecov.io/gh/apache/airflow/pull/4515?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453947413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453950123","html_url":"https://github.com/apache/airflow/pull/4508#issuecomment-453950123","issue_url":"https://api.github.com/repos/apache/airflow/issues/4508","id":453950123,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk1MDEyMw==","user":{"login":"ashb","id":34150,"node_id":"MDQ6VXNlcjM0MTUw","avatar_url":"https://avatars.githubusercontent.com/u/34150?v=4","gravatar_id":"","url":"https://api.github.com/users/ashb","html_url":"https://github.com/ashb","followers_url":"https://api.github.com/users/ashb/followers","following_url":"https://api.github.com/users/ashb/following{/other_user}","gists_url":"https://api.github.com/users/ashb/gists{/gist_id}","starred_url":"https://api.github.com/users/ashb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashb/subscriptions","organizations_url":"https://api.github.com/users/ashb/orgs","repos_url":"https://api.github.com/users/ashb/repos","events_url":"https://api.github.com/users/ashb/events{/privacy}","received_events_url":"https://api.github.com/users/ashb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T09:55:39Z","updated_at":"2019-01-14T09:55:39Z","author_association":"MEMBER","body":"Shame, not having to have libpq and a C compiler was nice.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453950123/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453951348","html_url":"https://github.com/apache/airflow/pull/4488#issuecomment-453951348","issue_url":"https://api.github.com/repos/apache/airflow/issues/4488","id":453951348,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk1MTM0OA==","user":{"login":"ashb","id":34150,"node_id":"MDQ6VXNlcjM0MTUw","avatar_url":"https://avatars.githubusercontent.com/u/34150?v=4","gravatar_id":"","url":"https://api.github.com/users/ashb","html_url":"https://github.com/ashb","followers_url":"https://api.github.com/users/ashb/followers","following_url":"https://api.github.com/users/ashb/following{/other_user}","gists_url":"https://api.github.com/users/ashb/gists{/gist_id}","starred_url":"https://api.github.com/users/ashb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ashb/subscriptions","organizations_url":"https://api.github.com/users/ashb/orgs","repos_url":"https://api.github.com/users/ashb/repos","events_url":"https://api.github.com/users/ashb/events{/privacy}","received_events_url":"https://api.github.com/users/ashb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T10:00:09Z","updated_at":"2019-01-14T10:00:09Z","author_association":"MEMBER","body":"@Fokko We can keep the historic migrations but remove the code from the rest of code base - deleting migrations means adjusting things that have already been applied to databases and feels wrong to me.","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453951348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453953007","html_url":"https://github.com/apache/airflow/pull/4476#issuecomment-453953007","issue_url":"https://api.github.com/repos/apache/airflow/issues/4476","id":453953007,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk1MzAwNw==","user":{"login":"feluelle","id":23282078,"node_id":"MDQ6VXNlcjIzMjgyMDc4","avatar_url":"https://avatars.githubusercontent.com/u/23282078?v=4","gravatar_id":"","url":"https://api.github.com/users/feluelle","html_url":"https://github.com/feluelle","followers_url":"https://api.github.com/users/feluelle/followers","following_url":"https://api.github.com/users/feluelle/following{/other_user}","gists_url":"https://api.github.com/users/feluelle/gists{/gist_id}","starred_url":"https://api.github.com/users/feluelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feluelle/subscriptions","organizations_url":"https://api.github.com/users/feluelle/orgs","repos_url":"https://api.github.com/users/feluelle/repos","events_url":"https://api.github.com/users/feluelle/events{/privacy}","received_events_url":"https://api.github.com/users/feluelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T10:06:21Z","updated_at":"2019-01-14T10:06:21Z","author_association":"MEMBER","body":"@Fokko resolved and also added template fields.\r\nPlease take another look when you got the time. Thanks :)","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453953007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453953551","html_url":"https://github.com/apache/airflow/pull/4511#issuecomment-453953551","issue_url":"https://api.github.com/repos/apache/airflow/issues/4511","id":453953551,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk1MzU1MQ==","user":{"login":"feluelle","id":23282078,"node_id":"MDQ6VXNlcjIzMjgyMDc4","avatar_url":"https://avatars.githubusercontent.com/u/23282078?v=4","gravatar_id":"","url":"https://api.github.com/users/feluelle","html_url":"https://github.com/feluelle","followers_url":"https://api.github.com/users/feluelle/followers","following_url":"https://api.github.com/users/feluelle/following{/other_user}","gists_url":"https://api.github.com/users/feluelle/gists{/gist_id}","starred_url":"https://api.github.com/users/feluelle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/feluelle/subscriptions","organizations_url":"https://api.github.com/users/feluelle/orgs","repos_url":"https://api.github.com/users/feluelle/repos","events_url":"https://api.github.com/users/feluelle/events{/privacy}","received_events_url":"https://api.github.com/users/feluelle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T10:08:13Z","updated_at":"2019-01-14T10:08:13Z","author_association":"MEMBER","body":"@BasPH Thank you. Maybe I am wrong and we only need pylint. That would be great to know :)","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453953551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453953837","html_url":"https://github.com/apache/airflow/pull/4517#issuecomment-453953837","issue_url":"https://api.github.com/repos/apache/airflow/issues/4517","id":453953837,"node_id":"MDEyOklzc3VlQ29tbWVudDQ1Mzk1MzgzNw==","user":{"login":"XD-DENG","id":11539188,"node_id":"MDQ6VXNlcjExNTM5MTg4","avatar_url":"https://avatars.githubusercontent.com/u/11539188?v=4","gravatar_id":"","url":"https://api.github.com/users/XD-DENG","html_url":"https://github.com/XD-DENG","followers_url":"https://api.github.com/users/XD-DENG/followers","following_url":"https://api.github.com/users/XD-DENG/following{/other_user}","gists_url":"https://api.github.com/users/XD-DENG/gists{/gist_id}","starred_url":"https://api.github.com/users/XD-DENG/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XD-DENG/subscriptions","organizations_url":"https://api.github.com/users/XD-DENG/orgs","repos_url":"https://api.github.com/users/XD-DENG/repos","events_url":"https://api.github.com/users/XD-DENG/events{/privacy}","received_events_url":"https://api.github.com/users/XD-DENG/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-01-14T10:09:21Z","updated_at":"2019-01-14T10:09:21Z","author_association":"MEMBER","body":"> > upon receiving a same-hostname https-to-http redirect\r\n> \r\n> Who does that? o_O\r\n\r\nWe human get full potential to do anything ;-)\r\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/453953837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]