[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2145316505","html_url":"https://github.com/apache/accumulo/pull/4524#issuecomment-2145316505","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4524","id":2145316505,"node_id":"IC_kwDOACaFSM5_3u6Z","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-03T14:15:25Z","updated_at":"2024-06-03T17:05:24Z","author_association":"MEMBER","body":"I have made the following changes in https://github.com/apache/accumulo/pull/4524/commits/e6671fbb903da53014bd64e53ad125351add6a04:\r\n- Combined the LockID and reservation attempt UUID into one new object: FateReservation\r\n- Now cover edge case with tryReserve() where a write may make it to the server, but the server dies before a response is received\r\n- New FATE Thread: DeadReservationCleaner which deletes reservations held by Managers that have since died\r\n- Created new classes: ColumnValueMappingIterator and ReservationMappingIterator. ColumnValueMappingIterator abstracts out the common functionality of ReservationMappingIterator and StatusMappingIterator. ReservationMappingIterator is an iterator used for determining if the reservation column for a FateId has a FateReservation set or not\r\n- Expanded/improved/simplified MultipleStoresIT tests\r\n\r\nThere are also some comments/questions labeled \"TODO 4131\" that I would like input on.\r\n\r\nI also have to resolve the merge conflicts which I will do now. (edit: resolved)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2145316505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2146026188","html_url":"https://github.com/apache/accumulo/pull/4628#issuecomment-2146026188","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4628","id":2146026188,"node_id":"IC_kwDOACaFSM5_6cLM","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-03T20:07:40Z","updated_at":"2024-06-03T20:07:40Z","author_association":"CONTRIBUTOR","body":"While reviewing this noticed #4630 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2146026188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147697822","html_url":"https://github.com/apache/accumulo/pull/4623#issuecomment-2147697822","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4623","id":2147697822,"node_id":"IC_kwDOACaFSM6AA0Se","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T14:34:21Z","updated_at":"2024-06-04T14:34:21Z","author_association":"CONTRIBUTOR","body":"Closing in favor of #4628 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147697822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147707963","html_url":"https://github.com/apache/accumulo/pull/4628#issuecomment-2147707963","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4628","id":2147707963,"node_id":"IC_kwDOACaFSM6AA2w7","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T14:38:41Z","updated_at":"2024-06-04T14:38:41Z","author_association":"CONTRIBUTOR","body":"Ran all ExternalCompaction*IT tests","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147707963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147800769","html_url":"https://github.com/apache/accumulo/pull/4403#issuecomment-2147800769","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4403","id":2147800769,"node_id":"IC_kwDOACaFSM6ABNbB","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T15:17:59Z","updated_at":"2024-06-04T15:17:59Z","author_association":"CONTRIBUTOR","body":"This is waiting on #4273 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147800769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147821455","html_url":"https://github.com/apache/accumulo/pull/4400#issuecomment-2147821455","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4400","id":2147821455,"node_id":"IC_kwDOACaFSM6ABSeP","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T15:27:17Z","updated_at":"2024-06-04T15:27:17Z","author_association":"CONTRIBUTOR","body":"> The constructor may return before anything is initialized, so I don't believe the fields can be final. I did change locksHeld and locksWaiting to be declared unmodifiable in the constructor though\r\n\r\nLooking at the constructor the way it is currently structured it would require some sort of refactoring to use final.  That could be a nice improvement in a follow on PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147821455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147845485","html_url":"https://github.com/apache/accumulo/pull/4631#issuecomment-2147845485","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4631","id":2147845485,"node_id":"IC_kwDOACaFSM6ABYVt","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T15:37:38Z","updated_at":"2024-06-04T15:47:00Z","author_association":"CONTRIBUTOR","body":"> Changed FateSummaryIT.testFatePrintAndSummaryCommandsWithInProgressTxns number of transactions/number of compactions initiated from 250 down to 150. \r\n\r\n@kevinrr888  what time difference are you seeing w/ test runtime w/ this change?  Do you think it will make the total time (including reruns on flakes) less?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147845485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147888147","html_url":"https://github.com/apache/accumulo/pull/4631#issuecomment-2147888147","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4631","id":2147888147,"node_id":"IC_kwDOACaFSM6ABiwT","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T15:58:15Z","updated_at":"2024-06-04T19:57:11Z","author_association":"MEMBER","body":"@keith-turner Is the 6 minute timeout per run or for the test to pass? I assumed it was per run, but if not then it could be worse...\r\nThe time to delete the table (which is what it gets hung up on) decreases from 2-3 seconds down to about 1 second for me with this change.\r\n\r\nAnother thing I can do to about half the runtime is split this into two tests since I have them both testing \"--print\" and \"--summary\" (essentially running the same test twice). This might be a better fix.\r\nEdit: this might not have this effect since it was timing out at the first table delete anyways...","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147888147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147950878","html_url":"https://github.com/apache/accumulo/issues/4511#issuecomment-2147950878","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4511","id":2147950878,"node_id":"IC_kwDOACaFSM6AByEe","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T16:29:34Z","updated_at":"2024-06-04T16:30:30Z","author_association":"CONTRIBUTOR","body":"Looking at #3608 prompted me to revisit this.  Being able to drop the custom thrift stuff in the accumulo code that is only used by the monitor would improve the maintainability of the Accumulo code base IMO.  Adding table tags does increase cardinality and that is a valid concern.  Looking around there are multiple ways to deal w/ cardinality.    \r\n\r\nMicrometer supports [filters](https://docs.micrometer.io/micrometer/reference/concepts/meter-filters.html) that can be set on a registry.  The filter name is bit misleading because they also support transformation. Setting filters  in a [MeterRegistryFactory](https://github.com/apache/accumulo/blob/7e9bb4d603706b54452669bdde32f9c00d86fa61/core/src/main/java/org/apache/accumulo/core/spi/metrics/MeterRegistryFactory.java#L39)  implementation it would be possible to drop tableId tags or reduce their cardinality (like reduce them to two values \"system\" or \"user\").  The LoggingMeterRegistryFactory  could have an option for dropping table id tags as a form of documentation.\r\n\r\nAnother way too many table ids could be handled is on ingest into the metrics system.  Prometheus has relabeling as described [here](https://prometheus.io/docs/prometheus/latest/configuration/configuration/#relabel_config) and [here](https://grafana.com/blog/2022/03/21/how-relabeling-in-prometheus-works/) that can reduce tag cardinality on ingest.  Thought influxdb had a similar capability, but could not find it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2147950878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2148024534","html_url":"https://github.com/apache/accumulo/issues/4532#issuecomment-2148024534","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4532","id":2148024534,"node_id":"IC_kwDOACaFSM6ACEDW","user":{"login":"ArbaazKhan1","id":29344877,"node_id":"MDQ6VXNlcjI5MzQ0ODc3","avatar_url":"https://avatars.githubusercontent.com/u/29344877?v=4","gravatar_id":"","url":"https://api.github.com/users/ArbaazKhan1","html_url":"https://github.com/ArbaazKhan1","followers_url":"https://api.github.com/users/ArbaazKhan1/followers","following_url":"https://api.github.com/users/ArbaazKhan1/following{/other_user}","gists_url":"https://api.github.com/users/ArbaazKhan1/gists{/gist_id}","starred_url":"https://api.github.com/users/ArbaazKhan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArbaazKhan1/subscriptions","organizations_url":"https://api.github.com/users/ArbaazKhan1/orgs","repos_url":"https://api.github.com/users/ArbaazKhan1/repos","events_url":"https://api.github.com/users/ArbaazKhan1/events{/privacy}","received_events_url":"https://api.github.com/users/ArbaazKhan1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T17:12:19Z","updated_at":"2024-06-04T17:12:19Z","author_association":"CONTRIBUTOR","body":"It looks like in the elasticity branch [ConfigurableScanServerSelector](https://github.com/apache/accumulo/blob/elasticity/core/src/main/java/org/apache/accumulo/core/spi/scan/ConfigurableScanServerSelector.java#L347) has a check where it is waiting for scan servers to be present. Are you looking for an implementation along the lines of this for 2.1?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2148024534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2148230461","html_url":"https://github.com/apache/accumulo/issues/4532#issuecomment-2148230461","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4532","id":2148230461,"node_id":"IC_kwDOACaFSM6AC2U9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T19:16:24Z","updated_at":"2024-06-04T19:16:24Z","author_association":"CONTRIBUTOR","body":"> It looks like in the elasticity branch [ConfigurableScanServerSelector](https://github.com/apache/accumulo/blob/elasticity/core/src/main/java/org/apache/accumulo/core/spi/scan/ConfigurableScanServerSelector.java#L347) has a check where it is waiting for scan servers to be present. Are you looking for an implementation along the lines of this for 2.1?\r\n\r\nYeah, we want that feature back to 2.1. However need to change the boolean to a timeout value.   It might be best start w/ the elasticity branch and change its boolean to a timeout value. Once that change is made can use elasticity as guide for making the change in 2.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2148230461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2148301084","html_url":"https://github.com/apache/accumulo/issues/4532#issuecomment-2148301084","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4532","id":2148301084,"node_id":"IC_kwDOACaFSM6ADHkc","user":{"login":"ArbaazKhan1","id":29344877,"node_id":"MDQ6VXNlcjI5MzQ0ODc3","avatar_url":"https://avatars.githubusercontent.com/u/29344877?v=4","gravatar_id":"","url":"https://api.github.com/users/ArbaazKhan1","html_url":"https://github.com/ArbaazKhan1","followers_url":"https://api.github.com/users/ArbaazKhan1/followers","following_url":"https://api.github.com/users/ArbaazKhan1/following{/other_user}","gists_url":"https://api.github.com/users/ArbaazKhan1/gists{/gist_id}","starred_url":"https://api.github.com/users/ArbaazKhan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArbaazKhan1/subscriptions","organizations_url":"https://api.github.com/users/ArbaazKhan1/orgs","repos_url":"https://api.github.com/users/ArbaazKhan1/repos","events_url":"https://api.github.com/users/ArbaazKhan1/events{/privacy}","received_events_url":"https://api.github.com/users/ArbaazKhan1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T19:47:41Z","updated_at":"2024-06-04T19:47:41Z","author_association":"CONTRIBUTOR","body":"Thanks for the clarification.  I can go ahead and get the changes made in elasticity. Do we want to make another ticket for adding the changes to 2.1?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2148301084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2148443070","html_url":"https://github.com/apache/accumulo/pull/4635#issuecomment-2148443070","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4635","id":2148443070,"node_id":"IC_kwDOACaFSM6ADqO-","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T21:26:15Z","updated_at":"2024-06-04T21:26:15Z","author_association":"CONTRIBUTOR","body":"Still working on other changes for #3858, but did not want to put them all in the same commit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2148443070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2149672480","html_url":"https://github.com/apache/accumulo/pull/4628#issuecomment-2149672480","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4628","id":2149672480,"node_id":"IC_kwDOACaFSM6AIWYg","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-05T12:08:11Z","updated_at":"2024-06-05T12:08:11Z","author_association":"CONTRIBUTOR","body":"Full IT build passed","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2149672480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2150001638","html_url":"https://github.com/apache/accumulo/pull/4631#issuecomment-2150001638","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4631","id":2150001638,"node_id":"IC_kwDOACaFSM6AJmvm","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-05T13:46:32Z","updated_at":"2024-06-05T13:46:32Z","author_association":"CONTRIBUTOR","body":"> @keith-turner Is the 6 minute timeout per run or for the test to pass? \r\n\r\nI believe it's per test method\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2150001638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2150081332","html_url":"https://github.com/apache/accumulo/pull/4631#issuecomment-2150081332","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4631","id":2150081332,"node_id":"IC_kwDOACaFSM6AJ6M0","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-05T14:05:21Z","updated_at":"2024-06-05T14:06:31Z","author_association":"MEMBER","body":"> > @keith-turner Is the 6 minute timeout per run or for the test to pass?\r\n> \r\n> I believe it's per test method\r\n\r\nOkay, got it. \r\n\r\nI just noticed too that the last failure for this test in Jenkins was timing out at initiating a table compaction, not at deleting the table like it was before (which I don't quite understand)... I'm going to convert this to a WIP for now. Trying to rewrite this test for elasticity, hoping to get a better test written that will work for elasticity and also 2.1/3.1 that doesn't time out on Jenkins...\r\n\r\nMost recent Jenkins failure: https://ci-builds.apache.org/job/Accumulo/job/main/org.apache.accumulo$accumulo-test/697/testReport/junit/org.apache.accumulo.test/FateSummaryIT/testFatePrintAndSummaryCommandsWithInProgressTxns/","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2150081332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2150511740","html_url":"https://github.com/apache/accumulo/issues/4637#issuecomment-2150511740","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4637","id":2150511740,"node_id":"IC_kwDOACaFSM6ALjR8","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-05T16:44:57Z","updated_at":"2024-06-05T16:44:57Z","author_association":"MEMBER","body":"I will look into this","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2150511740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2150904964","html_url":"https://github.com/apache/accumulo/pull/4635#issuecomment-2150904964","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4635","id":2150904964,"node_id":"IC_kwDOACaFSM6ANDSE","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-05T20:25:00Z","updated_at":"2024-06-05T20:25:00Z","author_association":"CONTRIBUTOR","body":"While looking into #3858 I found there were two places in tablet server that were removing hosting request.  So I took the code from this PR and put it in a function to call in both places.  Did this in b4ecd1a and pushed that commit directly to elasticity branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2150904964/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2151053701","html_url":"https://github.com/apache/accumulo/issues/3858#issuecomment-2151053701","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3858","id":2151053701,"node_id":"IC_kwDOACaFSM6ANnmF","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-05T22:20:45Z","updated_at":"2024-06-05T22:32:55Z","author_association":"CONTRIBUTOR","body":"Reviewed usage of the following in the Accumulo code\r\n\r\n * AccumuloClient.createBatchWriter\r\n * Ample.mutateTablet()\r\n * Ample.mutateTablets()\r\n\r\nFound the following usages which do not need to use a conditional writer\r\n\r\n * Create, clone, and import table code.  This code is writing to tablets while the table state is NEW.  Since operations check the table state before making changes this is fine.  There can not be race conditions w/ the table state for this case because there is no table state before NEW.\r\n * The upgrade code directly writes to the metadata table w/o using a conditional writer.  This is probably ok because FATE is not running and the manager client service is not running.  \r\n * All writes to the non-tablet section of the metadata table use batch writer. This is ok as none of these rely on conditional mutations, only the tablet section does.\r\n * A lot of test code writes unconditionally to the metadata table.  This is ok because its test code.\r\n * Delete table uses a batch writer in its final step. This is ok for two reasons.  Before deleting tablets an opid is set on each tablet prevents any conditional writes.  When the tablet is deleted this should be atomic and most conditional writes require a prev end row column to be present.  Also the table state is set to DELETING, but this is racy because an operation could read the table state before it changes so its not enough alone.\r\n * repairmetadata uses a batchwriter and there is an issue opened about it already : #3888\r\n\r\nCould not find any more changes that are needed, so closing this issue.  If specific things are found in the future then more targeted issue can be opened for those.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2151053701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2151062921","html_url":"https://github.com/apache/accumulo/issues/3888#issuecomment-2151062921","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3888","id":2151062921,"node_id":"IC_kwDOACaFSM6ANp2J","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-05T22:30:16Z","updated_at":"2024-06-05T22:30:16Z","author_association":"CONTRIBUTOR","body":"Something that came out of a review of metadata updates in #3858 is that repairmetadata is using a batch writer and not a conditional writer. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2151062921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2152656105","html_url":"https://github.com/apache/accumulo/pull/4640#issuecomment-2152656105","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4640","id":2152656105,"node_id":"IC_kwDOACaFSM6ATuzp","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T14:16:07Z","updated_at":"2024-06-06T14:16:07Z","author_association":"CONTRIBUTOR","body":"This was causing a few ITs to fail","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2152656105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153094766","html_url":"https://github.com/apache/accumulo/issues/4597#issuecomment-2153094766","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4597","id":2153094766,"node_id":"IC_kwDOACaFSM6AVZ5u","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T17:55:10Z","updated_at":"2024-06-06T17:55:10Z","author_association":"CONTRIBUTOR","body":"Closing this as unable to reproduce","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153094766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153101241","html_url":"https://github.com/apache/accumulo/issues/4553#issuecomment-2153101241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4553","id":2153101241,"node_id":"IC_kwDOACaFSM6AVbe5","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T17:59:02Z","updated_at":"2024-06-06T17:59:02Z","author_association":"MEMBER","body":"Addressed in #4572","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153101241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153137226","html_url":"https://github.com/apache/accumulo/pull/4631#issuecomment-2153137226","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4631","id":2153137226,"node_id":"IC_kwDOACaFSM6AVkRK","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T18:22:04Z","updated_at":"2024-06-06T18:22:04Z","author_association":"MEMBER","body":"Rewrote the test to directly test the method where the ZK NoNodeException would occur. This will not have the same Jenkins timeout issues that the test previously had but will be more narrow in scope. This can also work in elasticity, which it previously could not. Since this test was previously dropped when merging to elasticity, it can now be added with some changes. Should be merged into `FateOpsCommandsIT` in elasticity.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153137226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153248796","html_url":"https://github.com/apache/accumulo/issues/4641#issuecomment-2153248796","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4641","id":2153248796,"node_id":"IC_kwDOACaFSM6AV_gc","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T19:21:06Z","updated_at":"2024-06-10T20:24:07Z","author_association":"CONTRIBUTOR","body":"I think `METRICS_COMPACTOR_BUSY` could be removed in `elasticity`. The `METRICS_SERVER_IDLE` metric is used by the Compactor, Scan Server, and Compactor and the changes in #4078 include a time based property to avoid flapping of busy/idle states.\r\n\r\nUpdate: Playing with the metrics, I'm thinking that `METRICS_SERVER_IDLE` should be changed to a gauge with values of 1 or zero.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153248796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153284419","html_url":"https://github.com/apache/accumulo/pull/4643#issuecomment-2153284419","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4643","id":2153284419,"node_id":"IC_kwDOACaFSM6AWIND","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T19:45:42Z","updated_at":"2024-06-06T19:45:42Z","author_association":"CONTRIBUTOR","body":"I manually verified that when the test runs that fate steps run twice by looking at the logs.  Saw logs like the following when doing this.  It would be good to verify this at run time during the test, but have not been able to figure out a good way to do this.\r\n\r\n```\r\n$ grep Running org.apache.accumulo.test.functional.MergeFlakyFateIT_merge/logs/FlakyFateManager_491616213.out | tail\r\n2024-06-06T15:03:22,813 109 [fate.Fate] DEBUG: Running DeleteTablets.isReady() FATE:USER:c0599ae5-9671-4118-977e-b5529fd93983 took 0 ms and returned 0\r\n2024-06-06T15:03:22,814 109 [fate.Fate] DEBUG: Running DeleteTablets.isReady() FATE:USER:c0599ae5-9671-4118-977e-b5529fd93983 took 0 ms and returned 0\r\n2024-06-06T15:03:22,822 109 [fate.Fate] DEBUG: Running DeleteTablets.call() FATE:USER:c0599ae5-9671-4118-977e-b5529fd93983 took 8 ms and returned FinishTableRangeOp\r\n2024-06-06T15:03:22,826 109 [fate.Fate] DEBUG: Running DeleteTablets.call() FATE:USER:c0599ae5-9671-4118-977e-b5529fd93983 took 4 ms and returned FinishTableRangeOp\r\n2024-06-06T15:03:22,833 109 [fate.Fate] DEBUG: Running FinishTableRangeOp.isReady() FATE:USER:c0599ae5-9671-4118-977e-b5529fd93983 took 0 ms and returned 0\r\n2024-06-06T15:03:22,833 109 [fate.Fate] DEBUG: Running FinishTableRangeOp.isReady() FATE:USER:c0599ae5-9671-4118-977e-b5529fd93983 took 0 ms and returned 0\r\n2024-06-06T15:03:22,860 109 [fate.Fate] DEBUG: Running FinishTableRangeOp.call() FATE:USER:c0599ae5-9671-4118-977e-b5529fd93983 took 26 ms and returned null\r\n2024-06-06T15:03:22,862 109 [fate.Fate] DEBUG: Running FinishTableRangeOp.call() FATE:USER:c0599ae5-9671-4118-977e-b5529fd93983 took 2 ms and returned null\r\n2024-06-06T15:03:23,447 105 [fate.Fate] DEBUG: Running RenameCompactionFile.isReady() FATE:META:6bff1bc6-09e0-30f8-9d48-b4d04e59c402 took 0 ms and returned 0\r\n2024-06-06T15:03:23,447 105 [fate.Fate] DEBUG: Running RenameCompactionFile.isReady() FATE:META:6bff1bc6-09e0-30f8-9d48-b4d04e59c402 took 0 ms and returned 0\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153284419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153287260","html_url":"https://github.com/apache/accumulo/pull/4643#issuecomment-2153287260","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4643","id":2153287260,"node_id":"IC_kwDOACaFSM6AWI5c","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T19:47:46Z","updated_at":"2024-06-06T19:47:59Z","author_association":"CONTRIBUTOR","body":"Could expand the usage of this new testing technique to cover more of the Fate operations like bulk import, tablet compaction, etc.  Will look into that after this, should be easy to do, just need to find the right existing test to extend.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153287260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153351451","html_url":"https://github.com/apache/accumulo/issues/4644#issuecomment-2153351451","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4644","id":2153351451,"node_id":"IC_kwDOACaFSM6AWYkb","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T20:27:16Z","updated_at":"2024-06-06T20:27:16Z","author_association":"CONTRIBUTOR","body":"This issue is about determining if tests that call the following method\r\n\r\nhttps://github.com/apache/accumulo/blob/f046289c1bf9d363ce51a8004510cd452e67167b/minicluster/src/main/java/org/apache/accumulo/miniclusterImpl/MiniAccumuloClusterControl.java#L131\r\n\r\ncould use the following pattern instead.\r\n\r\nhttps://github.com/apache/accumulo/blob/f046289c1bf9d363ce51a8004510cd452e67167b/test/src/main/java/org/apache/accumulo/test/functional/MergeFlakyFateIT.java#L33-L35\r\n\r\nProbably depends on if the test uses the normal server class that was started before it starts a test one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153351451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153359701","html_url":"https://github.com/apache/accumulo/issues/4644#issuecomment-2153359701","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4644","id":2153359701,"node_id":"IC_kwDOACaFSM6AWalV","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-06T20:32:55Z","updated_at":"2024-06-06T20:33:18Z","author_association":"CONTRIBUTOR","body":"> Probably depends on if the test uses the normal server class that was started before it starts a test one.\r\n\r\nIt probably only makes sense to use this new method when the test class *only* uses a single non-standard implementation. If the test class starts and stops different types of implementations, then this likely can't replace that functionality.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2153359701/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2154766730","html_url":"https://github.com/apache/accumulo/pull/4643#issuecomment-2154766730","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4643","id":2154766730,"node_id":"IC_kwDOACaFSM6AbyGK","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T12:47:05Z","updated_at":"2024-06-07T12:47:05Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I took a look over this fix this morning since I worked on no-chop merge and added the merge marker to handle the indempotent case in #3975 and it looks good to me. \r\n\r\nThis does not affect 2.1 since the merge code is entirely different, but I was curious about main because the merged marker and no-chop merge also exists there in #3957. I took a look and found the [following](https://github.com/apache/accumulo/blob/69584e2835c47e8dd66b781fcd97b64c82ddf244/server/manager/src/main/java/org/apache/accumulo/manager/TabletGroupWatcher.java#L867-L872) that I had added so I do not think this bug is currently an issue in main. In the merge code in main we are only checking if the last tablet in the merge range has the merged marker and then returning because we are assuming it is already merged if it does. We are not checking for a correct linked list. This makes sense as I tested the idempotent case manually when working on this and didn't see an issue.\r\n\r\nI guess the only outstanding question if if we should add a similar check to the merge code in main to verify the linked list or not worry about it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2154766730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2154898074","html_url":"https://github.com/apache/accumulo/issues/4647#issuecomment-2154898074","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4647","id":2154898074,"node_id":"IC_kwDOACaFSM6AcSKa","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T13:55:03Z","updated_at":"2024-06-07T13:55:03Z","author_association":"MEMBER","body":"Looking into this","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2154898074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2154901417","html_url":"https://github.com/apache/accumulo/issues/4647#issuecomment-2154901417","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4647","id":2154901417,"node_id":"IC_kwDOACaFSM6AcS-p","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T13:56:58Z","updated_at":"2024-06-26T13:13:07Z","author_association":"MEMBER","body":"- [ ] https://github.com/apache/accumulo/issues/4534 is one issue already opened related to this\r\n- [x] `UpgradeCoordinator.abortIfFateTransactions()` is another place where UFS should also be used\r\n- [x] `FunctionalTestUtils.getFateStatus()` should use both\r\n\r\nEverywhere else where `MetaFateStore` is used either correctly only uses `MetaFateStore` or correctly uses both: `FateConcurrencyIT`, `ExternalCompaction_1_IT`, `MetaFateStoreFateIT`, `MetaFateIT`, `MetaFateOpsCommandsIT`, `MetaFateInterleavingIT`, `Manager`, `Admin`, `AdminUtil`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2154901417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155071859","html_url":"https://github.com/apache/accumulo/pull/4646#issuecomment-2155071859","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4646","id":2155071859,"node_id":"IC_kwDOACaFSM6Ac8lz","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T15:29:51Z","updated_at":"2024-06-07T15:29:51Z","author_association":"CONTRIBUTOR","body":"> I took a quick peak and it appears this bug also applies to 2.1 and main as this code has not really changed for MoveExportedFiles. This makes me wonder if we should be backporting FlakyFate to main for testing. As we add more testing with FlakyFate we are likely to uncover more of these idempotent type bugs that probably apply to earlier accumulo versions too. Another option is to just keep FlakyFate only in elasticity but still do the fixes in earlier versions if they apply.\r\n\r\nGlad you looked in 2.1, I forgot to do that, so we need to open an issue for that.  Re backporting FlakyFate that makes sense, because we would need to test the bug fix.   Also re [this comment](https://github.com/apache/accumulo/pull/4643#issuecomment-2154766730) even though that exact bug does not exist in 2.1 and 3.1, the merge operation in those branches may fail the idempotence test for another reason because the code is so different.  We have made so many changes/improvements in elasticity that I am not sure how many of those FlakyFate relies on so not sure how hard or easy a backport would be. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155071859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155081837","html_url":"https://github.com/apache/accumulo/pull/4643#issuecomment-2155081837","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4643","id":2155081837,"node_id":"IC_kwDOACaFSM6Ac_Bt","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T15:35:44Z","updated_at":"2024-06-07T15:35:44Z","author_association":"CONTRIBUTOR","body":"> I guess the only outstanding question if if we should add a similar check to the merge code in main to verify the linked list or not worry about it.\r\n\r\nThe expectation is that the tablets being merged form a linked list.  Did not realize that was only checked in elasticity.  I think it would be good to add an issue for that.  If the persisted tablet metadata does not meet expectations its probably best to avoid proceeding w/ merge.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155081837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155087875","html_url":"https://github.com/apache/accumulo/pull/4643#issuecomment-2155087875","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4643","id":2155087875,"node_id":"IC_kwDOACaFSM6AdAgD","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T15:39:30Z","updated_at":"2024-06-07T15:39:30Z","author_association":"CONTRIBUTOR","body":"> This does not affect 2.1 since the merge code is entirely different, but I was curious about main because the merged marker and no-chop merge also exists there in https://github.com/apache/accumulo/pull/3957.\r\n\r\nThanks for looking into that.  Made a comment on #4646 that while this exact bug does not exist in earlier branches that other bugs related to idempotence may exists.  Your suggestion there about back porting FlakyFate would help test that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155087875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155181829","html_url":"https://github.com/apache/accumulo/pull/4643#issuecomment-2155181829","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4643","id":2155181829,"node_id":"IC_kwDOACaFSM6AdXcF","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T16:41:32Z","updated_at":"2024-06-07T16:41:32Z","author_association":"CONTRIBUTOR","body":"> The expectation is that the tablets being merged form a linked list. Did not realize that was only checked in elasticity. I think it would be good to add an issue for that. If the persisted tablet metadata does not meet expectations its probably best to avoid proceeding w/ merge.\r\n\r\nI created a new issue https://github.com/apache/accumulo/issues/4651","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155181829/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155595013","html_url":"https://github.com/apache/accumulo/issues/4653#issuecomment-2155595013","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4653","id":2155595013,"node_id":"IC_kwDOACaFSM6Ae8UF","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T21:38:36Z","updated_at":"2024-06-07T21:38:36Z","author_association":"CONTRIBUTOR","body":"Marked this issue for elasticity, but the problem exists in earlier versions.  However elasticity will be placing more memory pressure on the manager, so could be more important to address there.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155595013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155665788","html_url":"https://github.com/apache/accumulo/issues/4654#issuecomment-2155665788","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4654","id":2155665788,"node_id":"IC_kwDOACaFSM6AfNl8","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T22:48:29Z","updated_at":"2024-06-07T22:51:22Z","author_association":"CONTRIBUTOR","body":"Started experimenting with this here https://github.com/keith-turner/accumulo/tree/accumulo-4645 .  Those changes tried to bulk import around 1K files to 1 million tablets where each file covered about 1K tablets.  The test timed out after 10 mins stuck in the bulk import Fate code.  The manager did not seem to die w/ OOME, but not sure what it was doing.   Will probably table this for now and circle back to it later.  Thinking it would be good to get bulk import added to the test followed by export/import table.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155665788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155671747","html_url":"https://github.com/apache/accumulo/issues/4653#issuecomment-2155671747","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4653","id":2155671747,"node_id":"IC_kwDOACaFSM6AfPDD","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-07T22:57:42Z","updated_at":"2024-06-07T22:57:42Z","author_association":"CONTRIBUTOR","body":"Closing this in favor of #4654 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2155671747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2156086960","html_url":"https://github.com/apache/accumulo/pull/4656#issuecomment-2156086960","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4656","id":2156086960,"node_id":"IC_kwDOACaFSM6Ag0aw","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-08T16:02:28Z","updated_at":"2024-06-08T16:02:28Z","author_association":"CONTRIBUTOR","body":"@keith-turner - I just tested locally merging this forward into main to see what would happen with no-chop merge. The merge itself was pretty straight forward (only a couple easy conflicts to fix) and both ITs still passed which was good news and shows that the merged marker that was added in #3957 works as intended. I even did a quick check where i commented out the line of code that inserts the marker and it fails after that so this is a really nice test to add.\r\n\r\nWith FlakyFate being merged into 2.1 and main and these ITs added, it will make working on #4651 a lot easier as we can verify the new checks that get added in that PR for stronger validation do not cause issues when running twice.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2156086960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2158202838","html_url":"https://github.com/apache/accumulo/pull/4658#issuecomment-2158202838","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4658","id":2158202838,"node_id":"IC_kwDOACaFSM6Ao4_W","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T12:23:02Z","updated_at":"2024-06-10T12:23:02Z","author_association":"CONTRIBUTOR","body":"Thanks @keith-turner for catching that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2158202838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2158926980","html_url":"https://github.com/apache/accumulo/issues/4649#issuecomment-2158926980","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4649","id":2158926980,"node_id":"IC_kwDOACaFSM6ArpyE","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T17:30:23Z","updated_at":"2024-06-10T17:30:23Z","author_association":"MEMBER","body":"Fixed via #4658","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2158926980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2159221032","html_url":"https://github.com/apache/accumulo/issues/4660#issuecomment-2159221032","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4660","id":2159221032,"node_id":"IC_kwDOACaFSM6Asxko","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T20:25:40Z","updated_at":"2024-06-10T20:25:40Z","author_association":"CONTRIBUTOR","body":"I would be curious if we would lose any comparison functionality by having to query via regex/wildcard vs selecting an available tag value.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2159221032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2159276310","html_url":"https://github.com/apache/accumulo/issues/4660#issuecomment-2159276310","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4660","id":2159276310,"node_id":"IC_kwDOACaFSM6As_EW","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T21:01:11Z","updated_at":"2024-06-10T21:01:11Z","author_association":"CONTRIBUTOR","body":"So, we might not need to do this. I wouldn't suggest anyone work on this yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2159276310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2159402521","html_url":"https://github.com/apache/accumulo/issues/4660#issuecomment-2159402521","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4660","id":2159402521,"node_id":"IC_kwDOACaFSM6Atd4Z","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T22:18:14Z","updated_at":"2024-06-10T22:18:14Z","author_association":"CONTRIBUTOR","body":"Was curious if this could be done w/ a MeterFilter.  So tried writing the following which seems like it may work, but have not tested.  Just wanted to get some hands on experience w/ MeterFilters as I have never written one.\r\n\r\n```java\r\n        MeterFilter filter = new MeterFilter() {\r\n            @Override\r\n            public Meter.Id map(Meter.Id id) {\r\n                var hostVal = id.getTag(\"host\");\r\n                var portVal = id.getTag(\"port\");\r\n                if(hostVal != null && portVal != null) {\r\n                     var newTags = id.getTags().stream()\r\n                             .filter(tag->!tag.getKey().equals(\"host\") && !tag.getKey().equals(\"port\"))\r\n                             .collect(Collectors.toList()); \r\n                     newTags.add(new ImmutableTag(\"hostPort\", hostVal+\":\"+portVal));\r\n                     return id.replaceTags(newTags);\r\n                } else {\r\n                    return id;\r\n                }\r\n            }\r\n        };\r\n```\r\n\r\nWas just experimenting with this, we should make this change if its the best default.   Not sure what the best default is. I can not think of an use case for the stand alone port tag.  As mentioned earlier there may be a case for having a drop down of available severs w/o ports to choose from, which the standalone host tag would support.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2159402521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2159429167","html_url":"https://github.com/apache/accumulo/issues/4614#issuecomment-2159429167","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4614","id":2159429167,"node_id":"IC_kwDOACaFSM6AtkYv","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T22:40:31Z","updated_at":"2024-06-10T22:41:27Z","author_association":"CONTRIBUTOR","body":"@kevinrr888 the changes from #4631 were not merged in elasticity. I merged them to main and then from main to elasticity I did a merge -sours in commit 3c254d51614d6604cc4452da6385cec4206a6469.  When doing the merge -sours I made sure the changes from #4631 were the only outstanding changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2159429167/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2160760354","html_url":"https://github.com/apache/accumulo/issues/4660#issuecomment-2160760354","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4660","id":2160760354,"node_id":"IC_kwDOACaFSM6AypYi","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-11T13:24:01Z","updated_at":"2024-06-11T13:24:01Z","author_association":"CONTRIBUTOR","body":"I think that the standalone host tag provides value. The port tag seems extraneous. \r\nI agree with @keith-turner that there would be a valid use-case for having a drop-down list of hostnames that a user could select.\r\n\r\nThat's a pretty common pattern with grafana dashboards that show cross-application metrics filtered down to a single host.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2160760354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2160939783","html_url":"https://github.com/apache/accumulo/issues/3635#issuecomment-2160939783","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3635","id":2160939783,"node_id":"IC_kwDOACaFSM6AzVMH","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-11T14:40:29Z","updated_at":"2024-06-11T14:40:29Z","author_association":"CONTRIBUTOR","body":"To keep compactors busy a max queue size that is greater than the number of compactors would be needed.   Something to consider w/ this property.  The ideal max queue is probably a multiple of the number of compactors in the group.  For example if there are 100 compactors in a group then may want the max queue size to be 4x100 to ensure work is buffered when they ask for it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2160939783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2161495895","html_url":"https://github.com/apache/accumulo/issues/4641#issuecomment-2161495895","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4641","id":2161495895,"node_id":"IC_kwDOACaFSM6A1c9X","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-11T19:49:29Z","updated_at":"2024-06-11T19:49:29Z","author_association":"CONTRIBUTOR","body":"I talked with @keith-turner this afternoon and I think we talked about backporting #4078 to 2.1, modifying `METRICS_SERVER_IDLE` to be a gauge vs a counter, and removing `METRICS_COMPACTOR_BUSY`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2161495895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2163745113","html_url":"https://github.com/apache/accumulo/issues/1121#issuecomment-2163745113","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1121","id":2163745113,"node_id":"IC_kwDOACaFSM6A-CFZ","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-12T19:22:50Z","updated_at":"2024-06-12T19:22:50Z","author_association":"CONTRIBUTOR","body":"Work on this has been completed as part of the elasticity project https://github.com/orgs/apache/projects/164","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2163745113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2163843358","html_url":"https://github.com/apache/accumulo/pull/4667#issuecomment-2163843358","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4667","id":2163843358,"node_id":"IC_kwDOACaFSM6A-aEe","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-12T20:28:43Z","updated_at":"2024-06-12T20:28:43Z","author_association":"MEMBER","body":"One thing I noticed while working on this PR:\r\n* `FileCompactor.compactorStartTime` (renamed from `startTime`) is initialized in the constructor so measures the age of the `FileCompactor` object\r\n* The new `FileCompactor.currentCompactionStartTime` is set to `System.nanos` in `FileCompactor.call()`.\r\n\r\nThe only usage of `compactorStartTime` is in `CompactionInfo.toThrift()` when it is used to construct an `ActiveCompaction` object where it does `System.currentTimeMillis() - compactor.getStartTime()` to use as the `age` parameter. \r\n\r\nI haven't looked into it very much yet but it seems like using the new `currentCompactionStartTime` would more accurately represent the age of an active compaction. This would allow us to remove the other variable too.\r\n\r\nAny thoughts on this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2163843358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2163997256","html_url":"https://github.com/apache/accumulo/issues/3888#issuecomment-2163997256","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3888","id":2163997256,"node_id":"IC_kwDOACaFSM6A-_pI","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-12T22:22:38Z","updated_at":"2024-06-12T22:22:38Z","author_association":"CONTRIBUTOR","body":"I did research on why the code was added and found that reason it was added is no longer applicable, so decided to remove the code in #4668.  Thinking since the bug it was fixing no longer exists that the code could hide new bugs in elasticity.  We can always add the code back if we find new bugs and that is the best fix for them.  For now would like to see if duplicate locations do ever pop up in elasticity.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2163997256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2164013931","html_url":"https://github.com/apache/accumulo/pull/4668#issuecomment-2164013931","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4668","id":2164013931,"node_id":"IC_kwDOACaFSM6A_Dtr","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-12T22:40:02Z","updated_at":"2024-06-12T22:40:02Z","author_association":"CONTRIBUTOR","body":"While researching this found #1121 and closed it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2164013931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2164036387","html_url":"https://github.com/apache/accumulo/pull/4667#issuecomment-2164036387","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4667","id":2164036387,"node_id":"IC_kwDOACaFSM6A_JMj","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-12T23:04:57Z","updated_at":"2024-06-12T23:04:57Z","author_association":"CONTRIBUTOR","body":"Another approach, which may touch less files, would be to just track the start time in the Compactor itself vs in the FileCompactor. [FileCompactorRunnable.initialize](https://github.com/apache/accumulo/blob/2.1/server/compactor/src/main/java/org/apache/accumulo/compactor/Compactor.java#L521) could return the start time and use it in the STARTED status message. That method is called [here](https://github.com/apache/accumulo/blob/2.1/server/compactor/src/main/java/org/apache/accumulo/compactor/Compactor.java#L736) and most of the other status messages are sent from that method. The SUCCEEDED message is sent from FileCompactorRunnable, so the start time could be used there if it was a member variable of the object that was set by initialize. Just a thought.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2164036387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166543127","html_url":"https://github.com/apache/accumulo/pull/4669#issuecomment-2166543127","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4669","id":2166543127,"node_id":"IC_kwDOACaFSM6BItMX","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-13T18:46:45Z","updated_at":"2024-06-13T18:46:45Z","author_association":"CONTRIBUTOR","body":"These changes were motivated by this thread https://github.com/apache/accumulo/pull/4668#discussion_r1637202535","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166543127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166640558","html_url":"https://github.com/apache/accumulo/pull/4667#issuecomment-2166640558","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4667","id":2166640558,"node_id":"IC_kwDOACaFSM6BJE-u","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-13T19:43:29Z","updated_at":"2024-06-13T19:43:46Z","author_association":"CONTRIBUTOR","body":"> I haven't looked into it very much yet but it seems like using the new currentCompactionStartTime would more accurately represent the age of an active compaction. This would allow us to remove the other variable too.\r\n>\r\n>Any thoughts on this?\r\n\r\nStarting to track time in call() vs the constructor seems a bit better to me.  It would need to be set before [this line in call()](https://github.com/apache/accumulo/blob/751c549108aff51cf55d93861cc254b743d54e5a/server/base/src/main/java/org/apache/accumulo/server/compaction/FileCompactor.java#L283) so that it is visible to the code that inspects running compactions. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166640558/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166651739","html_url":"https://github.com/apache/accumulo/pull/4669#issuecomment-2166651739","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4669","id":2166651739,"node_id":"IC_kwDOACaFSM6BJHtb","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-13T19:51:25Z","updated_at":"2024-06-13T19:51:25Z","author_association":"CONTRIBUTOR","body":"While working on this, happened to discover three thrift methods that nothing was calling.  Wonder if there are other thrift methods like this, but not sure how they could be found.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166651739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166783289","html_url":"https://github.com/apache/accumulo/pull/4667#issuecomment-2166783289","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4667","id":2166783289,"node_id":"IC_kwDOACaFSM6BJn05","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-13T20:57:27Z","updated_at":"2024-06-13T20:57:27Z","author_association":"MEMBER","body":"> Another approach, which may touch less files, would be to just track the start time in the Compactor itself vs in the FileCompactor. [FileCompactorRunnable.initialize](https://github.com/apache/accumulo/blob/2.1/server/compactor/src/main/java/org/apache/accumulo/compactor/Compactor.java#L521) could return the start time and use it in the STARTED status message. That method is called [here](https://github.com/apache/accumulo/blob/2.1/server/compactor/src/main/java/org/apache/accumulo/compactor/Compactor.java#L736) and most of the other status messages are sent from that method. The SUCCEEDED message is sent from FileCompactorRunnable, so the start time could be used there if it was a member variable of the object that was set by initialize. Just a thought.\r\n\r\nI think it seems like a good idea to track the time in `FileCompactorRunnable` but this seems to also imply that we keep track and send the start time of the compaction as opposed to the changes that I made that send the duration of the compaction at the time of the update. To me it seems to make sense to send the duration but I am not sure if you had a reason it should be the other way?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166783289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166944709","html_url":"https://github.com/apache/accumulo/issues/4672#issuecomment-2166944709","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4672","id":2166944709,"node_id":"IC_kwDOACaFSM6BKPPF","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-13T23:22:39Z","updated_at":"2024-06-13T23:22:39Z","author_association":"CONTRIBUTOR","body":"Looking at the code, the behavior seems the same.  For table compactions initiated via API in  2.1 and elasticity both will call flush() table operation prior to initiated fate compation operation if flush is set on the compaction config.  For system initiated tablet compactions in 2.1 and elasticity neither will flush the corresponding tablet before starting to compact files.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2166944709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168319210","html_url":"https://github.com/apache/accumulo/pull/4667#issuecomment-2168319210","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4667","id":2168319210,"node_id":"IC_kwDOACaFSM6BPezq","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-14T15:56:20Z","updated_at":"2024-06-14T15:56:20Z","author_association":"MEMBER","body":"> > I haven't looked into it very much yet but it seems like using the new currentCompactionStartTime would more accurately represent the age of an active compaction. This would allow us to remove the other variable too.\r\n> > Any thoughts on this?\r\n> \r\n> Starting to track time in call() vs the constructor seems a bit better to me. It would need to be set before [this line in call()](https://github.com/apache/accumulo/blob/751c549108aff51cf55d93861cc254b743d54e5a/server/base/src/main/java/org/apache/accumulo/server/compaction/FileCompactor.java#L283) so that it is visible to the code that inspects running compactions.\r\n\r\nI made this change in 09a495c. Changed the method name and return type to force the calling code to explicitly deal with the time units.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168319210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168399551","html_url":"https://github.com/apache/accumulo/pull/4674#issuecomment-2168399551","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4674","id":2168399551,"node_id":"IC_kwDOACaFSM6BPya_","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-14T16:42:21Z","updated_at":"2024-06-14T16:42:21Z","author_association":"CONTRIBUTOR","body":"#4675 would improve the logging added in this PR","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168399551/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168496776","html_url":"https://github.com/apache/accumulo/pull/4676#issuecomment-2168496776","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4676","id":2168496776,"node_id":"IC_kwDOACaFSM6BQKKI","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-14T17:49:33Z","updated_at":"2024-06-14T17:49:33Z","author_association":"CONTRIBUTOR","body":"Oops, I meant to target 2.1 so I will cherry-pick it and merge forward.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168496776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168504390","html_url":"https://github.com/apache/accumulo/pull/4676#issuecomment-2168504390","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4676","id":2168504390,"node_id":"IC_kwDOACaFSM6BQMBG","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-14T17:54:52Z","updated_at":"2024-06-14T17:54:52Z","author_association":"CONTRIBUTOR","body":"Applied to 2.1 in https://github.com/apache/accumulo/commit/930a84188566f771d65ad36924cdada8dd5ad868","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168504390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168776687","html_url":"https://github.com/apache/accumulo/pull/4638#issuecomment-2168776687","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4638","id":2168776687,"node_id":"IC_kwDOACaFSM6BROfv","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-14T21:18:40Z","updated_at":"2024-06-14T21:18:40Z","author_association":"CONTRIBUTOR","body":"I think this is good to merge, just a few minor comments on the javadoc.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168776687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168793720","html_url":"https://github.com/apache/accumulo/issues/3888#issuecomment-2168793720","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3888","id":2168793720,"node_id":"IC_kwDOACaFSM6BRSp4","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-14T21:35:52Z","updated_at":"2024-06-14T21:35:52Z","author_association":"CONTRIBUTOR","body":"@keith-turner  - can this be closed now that #4668 is merged?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168793720/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168802350","html_url":"https://github.com/apache/accumulo/issues/4441#issuecomment-2168802350","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4441","id":2168802350,"node_id":"IC_kwDOACaFSM6BRUwu","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-14T21:44:55Z","updated_at":"2024-06-14T21:44:55Z","author_association":"CONTRIBUTOR","body":"I'm going to close this as it could be OBE. We can re-open or open a new issue if we see new errors in testing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168802350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168864039","html_url":"https://github.com/apache/accumulo/issues/4664#issuecomment-2168864039","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4664","id":2168864039,"node_id":"IC_kwDOACaFSM6BRj0n","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-14T23:04:45Z","updated_at":"2024-06-14T23:04:45Z","author_association":"CONTRIBUTOR","body":"I think long polling here should work. Ideally, being able to do pub/sub and push notifications to a listener is the best way so there isn't any polling but long polling is also viable and most messaging APIs support it. Both [Kafka](https://kafka.apache.org/37/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html#poll(java.time.Duration)) and [JMS](https://jakarta.ee/specifications/messaging/3.0/apidocs/jakarta/jms/messageconsumer#receive-long-) brokers (just as two examples) support long polling in their API and it works pretty well with similar behavior as here. The calls will wait for  messages/records to arrive and then if the timeout passes will return empty/null, etc and you can try again.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2168864039/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2174358835","html_url":"https://github.com/apache/accumulo/issues/4666#issuecomment-2174358835","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4666","id":2174358835,"node_id":"IC_kwDOACaFSM6BmhUz","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-17T20:24:06Z","updated_at":"2024-06-17T20:24:06Z","author_association":"CONTRIBUTOR","body":"Its possible that #4681 was a cause of this, but not sure.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2174358835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2174529112","html_url":"https://github.com/apache/accumulo/issues/3846#issuecomment-2174529112","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3846","id":2174529112,"node_id":"IC_kwDOACaFSM6BnK5Y","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-17T22:17:43Z","updated_at":"2024-06-18T01:14:08Z","author_association":"CONTRIBUTOR","body":"Not sure if things can safely be cleaned up when there is a failure.  It may be best to have a utility that can find tablets that have an opid set for which there is no live fate operation.  Looking under the admin command, there is a checkTablets command that currently looks for tablets that point to missing files and tablet that are not hosted when they should be.  Could add something to that command to find tablets w/ a dangling opid.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2174529112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2175907047","html_url":"https://github.com/apache/accumulo/pull/4638#issuecomment-2175907047","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4638","id":2175907047,"node_id":"IC_kwDOACaFSM6BsbTn","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T11:47:23Z","updated_at":"2024-06-18T11:47:23Z","author_association":"CONTRIBUTOR","body":"@ArbaazKhan1 - if you can merge address the latest comments, then I should be able to merge this in.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2175907047/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176213864","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2176213864","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2176213864,"node_id":"IC_kwDOACaFSM6BtmNo","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T14:14:38Z","updated_at":"2024-06-18T14:14:38Z","author_association":"CONTRIBUTOR","body":"I think I might need to pull the upgrade code changes out and merge them into 3.1.\r\n\r\nCleaning out the references makes upgrades easier as we are removing transitive info from the metadata table that shouldn't persist through an upgrade. However, removal of the old scan server ref metadata section has to happen in 3.1. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176213864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176215587","html_url":"https://github.com/apache/accumulo/pull/4596#issuecomment-2176215587","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4596","id":2176215587,"node_id":"IC_kwDOACaFSM6Btmoj","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T14:15:25Z","updated_at":"2024-06-18T14:15:25Z","author_association":"CONTRIBUTOR","body":"Implemented @keith-turner's suggestions in #4682. \r\nStill need to figure out exactly what should be done in terms of the upgrade code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176215587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176217490","html_url":"https://github.com/apache/accumulo/pull/4596#issuecomment-2176217490","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4596","id":2176217490,"node_id":"IC_kwDOACaFSM6BtnGS","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T14:16:17Z","updated_at":"2024-06-18T14:16:17Z","author_association":"CONTRIBUTOR","body":"I'm closing this draft as #4682 seems to be a better way forward. \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176217490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176222079","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2176222079","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2176222079,"node_id":"IC_kwDOACaFSM6BtoN_","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T14:18:16Z","updated_at":"2024-06-18T14:18:16Z","author_association":"CONTRIBUTOR","body":"This PR  closes #4493 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176222079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176276177","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2176276177","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2176276177,"node_id":"IC_kwDOACaFSM6Bt1bR","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T14:41:00Z","updated_at":"2024-06-18T14:41:00Z","author_association":"CONTRIBUTOR","body":"I'm wondering if #4650 (new scan server ref table) should be backported to 3.1. This would mean that in the upgrade from 2.1 to 3.1 the new table would be created and the old and new refs in the metadata table would be cleaned up.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176276177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176288386","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2176288386","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2176288386,"node_id":"IC_kwDOACaFSM6Bt4aC","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T14:45:55Z","updated_at":"2024-06-18T14:45:55Z","author_association":"CONTRIBUTOR","body":"> I'm wondering if #4650 (new scan server ref table) should be backported to 3.1. This would mean that in the upgrade from 2.1 to 3.1 the new table would be created and the old and new refs in the metadata table would be cleaned up.\r\n\r\nThat seems like a nice clean way to handle the transition. Are there any downsides to doing that?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176288386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176330967","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2176330967","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2176330967,"node_id":"IC_kwDOACaFSM6BuCzX","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T15:03:22Z","updated_at":"2024-06-18T15:03:22Z","author_association":"CONTRIBUTOR","body":"> > I'm wondering if #4650 (new scan server ref table) should be backported to 3.1. This would mean that in the upgrade from 2.1 to 3.1 the new table would be created and the old and new refs in the metadata table would be cleaned up.\r\n> \r\n> That seems like a nice clean way to handle the transition. Are there any downsides to doing that?\r\n\r\nI'm sure that it won't apply cleanly, but in theory should be do-able. Probably a good question for @cshannon .","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176330967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176399691","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2176399691","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2176399691,"node_id":"IC_kwDOACaFSM6BuTlL","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T15:34:41Z","updated_at":"2024-06-18T15:34:41Z","author_association":"CONTRIBUTOR","body":">>I'm wondering if https://github.com/apache/accumulo/pull/4650 (new scan server ref table) should be backported to 3.1. This would mean that in the upgrade from 2.1 to 3.1 the new table would be created and the old and new refs in the metadata table would be cleaned up.\r\n>\r\n>That seems like a nice clean way to handle the transition. Are there any downsides to doing that?\r\n\r\nI do not know of any downsides.  Backporting that does seems nice because it would avoid having slightly different ways of doing things in the three branches.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176399691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176805048","html_url":"https://github.com/apache/accumulo/issues/4614#issuecomment-2176805048","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4614","id":2176805048,"node_id":"IC_kwDOACaFSM6Bv2i4","user":{"login":"kevinrr888","id":43969518,"node_id":"MDQ6VXNlcjQzOTY5NTE4","avatar_url":"https://avatars.githubusercontent.com/u/43969518?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinrr888","html_url":"https://github.com/kevinrr888","followers_url":"https://api.github.com/users/kevinrr888/followers","following_url":"https://api.github.com/users/kevinrr888/following{/other_user}","gists_url":"https://api.github.com/users/kevinrr888/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinrr888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinrr888/subscriptions","organizations_url":"https://api.github.com/users/kevinrr888/orgs","repos_url":"https://api.github.com/users/kevinrr888/repos","events_url":"https://api.github.com/users/kevinrr888/events{/privacy}","received_events_url":"https://api.github.com/users/kevinrr888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T19:24:59Z","updated_at":"2024-06-18T19:24:59Z","author_association":"MEMBER","body":"@keith-turner Sounds good. I just rewrote the test for elasticity in the PR above","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176805048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176856667","html_url":"https://github.com/apache/accumulo/issues/4664#issuecomment-2176856667","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4664","id":2176856667,"node_id":"IC_kwDOACaFSM6BwDJb","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T19:57:57Z","updated_at":"2024-06-18T20:11:09Z","author_association":"CONTRIBUTOR","body":"Currently in the manager the same thread pool service fate, compaction coordinator, etc RPCs.  So this could cause a problem if its a fixed size thread pool and all of the threads are waiting on an empty compaction queue.  This would prevent fate RPCs from running or it could even block a compaction queue that has work (like all threads are waiting on queue A that has no work and compaction queue B has work, but nothing can get to it).\r\n\r\nOne simple way to solve this would be an unbounded thread pool to service manager RPCs.  However there is some limit (not sure what it is) where too many threads in a JVM start to cause problems.  Another possible solution is to make the server side processing for these messages async.  Thrift supports async server processing, but there is no documentation for it.  With async processing when an RPC request is waiting for a compaction job there would be no thread associated with it, which would be ideal.  Since there are no docs for thrift async servers I have not been able to determine if its possible to mix sync and async processing for RPCs in thrift, because we would probably not want to make everything async in the manager for code complexity reasons.  If they can not be mixed, maybe we could create a thrift service with its own port that only services  request for compaction jobs.  Maybe that could even be switched to using grpc as a trial run of grpc which also seems to support async. If we wait long enough would probably not need async processing for this as java virtual threads could be used instead.  Not sure what is the best course of action is here, just posting some notes from researching this a bit.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176856667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176863559","html_url":"https://github.com/apache/accumulo/issues/4664#issuecomment-2176863559","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4664","id":2176863559,"node_id":"IC_kwDOACaFSM6BwE1H","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T20:01:50Z","updated_at":"2024-06-18T20:01:50Z","author_association":"CONTRIBUTOR","body":"Some of the things I found while looking into async thrift\r\n\r\nhttps://issues.apache.org/jira/browse/THRIFT-1972\r\nhttps://issues.apache.org/jira/browse/THRIFT-2427","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176863559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176872103","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2176872103","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2176872103,"node_id":"IC_kwDOACaFSM6BwG6n","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T20:04:05Z","updated_at":"2024-06-18T20:04:05Z","author_association":"CONTRIBUTOR","body":"> I'm sure that it won't apply cleanly, but in theory should be do-able. Probably a good question for @cshannon .\r\n\r\nI can't really think of an issues with backporting the new table other than the merge conflicts as alluded to so would need to work through that.\r\n\r\nThe main thing would be seeing if there's stuff that only exists in elasticity that the new code uses and would also need to move. I would need to look more at it but the main thing off the top of my head is there were some changes to the table initialization code that was added for new table initialization and there might be some missing test stuff too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176872103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176937770","html_url":"https://github.com/apache/accumulo/issues/3670#issuecomment-2176937770","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3670","id":2176937770,"node_id":"IC_kwDOACaFSM6BwW8q","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-18T20:43:00Z","updated_at":"2024-06-18T20:45:58Z","author_association":"CONTRIBUTOR","body":"While working on trying to determine the best angle to get started with this, one important thing I realized is that a tablet only has the following types of threads that interact with it.\n\n * Scan thread\n * Write thread\n * Minor compaction thread\n * Refresh thread\n * Close thread\n * Instantiation thread that creates a tablet on a tserver\n\nPrior to elasticity there were more types of threads to worry about (bulk import, compaction, and split).  The threads above need to synchronize on different in memory state and this is interleaved with compute+I/O.  Started experimenting with [this structure](https://github.com/keith-turner/accumulo/blob/60b129d1f0999ff56942d793e74bab5ba012ee65/server/tserver/src/main/java/org/apache/accumulo/tserver/tablet/TabletState.java).  The idea behind this structure is that each of the thread type uses a coordination object to interact with the shared in memory state of the tablet.  Maybe this structure would cleanly separate the in memory state+sync from the I/O+compute  code, not sure though.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2176937770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2181130263","html_url":"https://github.com/apache/accumulo/issues/4684#issuecomment-2181130263","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4684","id":2181130263,"node_id":"IC_kwDOACaFSM6CAWgX","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-20T16:48:30Z","updated_at":"2024-06-20T16:48:30Z","author_association":"CONTRIBUTOR","body":"Reduced the calls to ZooCache in #4685, but was not able to remove all of them. Repopulating ZooCache with lots of tables is expensive, doing it in quick succession will progressively slow down. We might need a different code path, something like `TableOperations.createTables`, to create many tables vs creating a single table.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2181130263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2181306979","html_url":"https://github.com/apache/accumulo/issues/4687#issuecomment-2181306979","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4687","id":2181306979,"node_id":"IC_kwDOACaFSM6CBBpj","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-20T18:38:51Z","updated_at":"2024-06-20T18:38:51Z","author_association":"CONTRIBUTOR","body":"Opened this issue after working on #4686 and trying to determine where that new functionality should go.  The functionality added in #4686 could have gone under the existing `admin checkTablets` or `admin fate` command.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2181306979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2182523126","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2182523126","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2182523126,"node_id":"IC_kwDOACaFSM6CFqj2","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T10:58:01Z","updated_at":"2024-06-21T10:58:01Z","author_association":"CONTRIBUTOR","body":"@ddanielr and @dlmarion - I'm going to go start work on a PR today to back port the new table from https://github.com/apache/accumulo/pull/4650 to 3.1. I think it makes sense to do that for the upgrade.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2182523126/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2182537390","html_url":"https://github.com/apache/accumulo/issues/4687#issuecomment-2182537390","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4687","id":2182537390,"node_id":"IC_kwDOACaFSM6CFuCu","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T11:06:13Z","updated_at":"2024-06-21T11:06:13Z","author_association":"CONTRIBUTOR","body":"This looks like it would be a really good feature to add. It would be nice to also optionally be able to configure the checks to run on some schedule and generate a report or something without having to always manually run the command. I'm not sure how you would report problems other than logs (maybe in the monitor?) but that could be useful. Of course another option is someone could just configure the command to run periodically with cron or something like that so we may not need to build in the automated running portion.\r\n\r\nI could also see this command expanding with a few flags to make it more powerful such as being able to define which things to check, whether to automatically fix things, and probably plenty of other options that we would think of.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2182537390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2182559895","html_url":"https://github.com/apache/accumulo/pull/4679#issuecomment-2182559895","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4679","id":2182559895,"node_id":"IC_kwDOACaFSM6CFziX","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T11:22:00Z","updated_at":"2024-06-21T11:22:00Z","author_association":"CONTRIBUTOR","body":"Sounds good, I will revert the test changes and can merge this and just do the manual testing for now since it isn't possible to really test it effectively. I'll work on resolving the conflicts in main locally before merging this to make sure it will go ok.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2182559895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2182640407","html_url":"https://github.com/apache/accumulo/pull/4685#issuecomment-2182640407","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4685","id":2182640407,"node_id":"IC_kwDOACaFSM6CGHMX","user":{"login":"elahrvivaz","id":7715322,"node_id":"MDQ6VXNlcjc3MTUzMjI=","avatar_url":"https://avatars.githubusercontent.com/u/7715322?v=4","gravatar_id":"","url":"https://api.github.com/users/elahrvivaz","html_url":"https://github.com/elahrvivaz","followers_url":"https://api.github.com/users/elahrvivaz/followers","following_url":"https://api.github.com/users/elahrvivaz/following{/other_user}","gists_url":"https://api.github.com/users/elahrvivaz/gists{/gist_id}","starred_url":"https://api.github.com/users/elahrvivaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elahrvivaz/subscriptions","organizations_url":"https://api.github.com/users/elahrvivaz/orgs","repos_url":"https://api.github.com/users/elahrvivaz/repos","events_url":"https://api.github.com/users/elahrvivaz/events{/privacy}","received_events_url":"https://api.github.com/users/elahrvivaz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T12:16:24Z","updated_at":"2024-06-21T12:16:24Z","author_association":"NONE","body":"would it be possible to pre-populate the zoo cache when the table id first gets written to zookeeper?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2182640407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183089225","html_url":"https://github.com/apache/accumulo/pull/4690#issuecomment-2183089225","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4690","id":2183089225,"node_id":"IC_kwDOACaFSM6CH0xJ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T16:42:40Z","updated_at":"2024-06-21T16:42:40Z","author_association":"CONTRIBUTOR","body":"Sunny ITs passed for me locally, I just kicked off a full IT build as well","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183089225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183124532","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2183124532","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2183124532,"node_id":"IC_kwDOACaFSM6CH9Y0","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T17:06:24Z","updated_at":"2024-06-21T17:06:24Z","author_association":"CONTRIBUTOR","body":"PR for the backport is https://github.com/apache/accumulo/pull/4690","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183124532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183181201","html_url":"https://github.com/apache/accumulo/pull/4685#issuecomment-2183181201","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4685","id":2183181201,"node_id":"IC_kwDOACaFSM6CILOR","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T17:47:11Z","updated_at":"2024-06-21T17:47:11Z","author_association":"CONTRIBUTOR","body":"With my change in 10568c9 I was able to create 1000 tables in 180s (in CreateTableIT). The root of the problem here is the layers of caching that get invalidated and repopulated when there is a change in ZooKeeper. The summary of the changes in this PR so far are to not use the caching when not needed (we already have the information) or bypass it and go directly to the source to not pay the penalty for repopulating the caches. I think a larger, more general approach would be to fix the layers of caching.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183181201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183219707","html_url":"https://github.com/apache/accumulo/pull/4690#issuecomment-2183219707","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4690","id":2183219707,"node_id":"IC_kwDOACaFSM6CIUn7","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T18:14:46Z","updated_at":"2024-06-21T18:14:46Z","author_association":"CONTRIBUTOR","body":"Will the deleting of the scan server refs from the metadata table as part of the 3.1 upgrade be done in a separate issue / PR?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183219707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183225195","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2183225195","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2183225195,"node_id":"IC_kwDOACaFSM6CIV9r","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T18:18:23Z","updated_at":"2024-06-21T18:18:23Z","author_association":"CONTRIBUTOR","body":"When this is merged into 2.1, what's the merge strategy into `main` given #4690?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183225195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183269561","html_url":"https://github.com/apache/accumulo/pull/4690#issuecomment-2183269561","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4690","id":2183269561,"node_id":"IC_kwDOACaFSM6CIgy5","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T18:38:04Z","updated_at":"2024-06-21T18:38:04Z","author_association":"CONTRIBUTOR","body":"> Will the deleting of the scan server refs from the metadata table as part of the 3.1 upgrade be done in a separate issue / PR?\n\nI figured that would make the most sense, to just do that as another PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183269561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183276746","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2183276746","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2183276746,"node_id":"IC_kwDOACaFSM6CIijK","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T18:43:22Z","updated_at":"2024-06-21T18:43:22Z","author_association":"CONTRIBUTOR","body":"> When this is merged into 2.1, what's the merge strategy into `main` given #4690?\n\nI would suggest working out the merge conflicts in another branch for main before merging to 2.1 so it is ready to go and then the changes can be applied during the merge forward. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183276746/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183423223","html_url":"https://github.com/apache/accumulo/pull/4690#issuecomment-2183423223","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4690","id":2183423223,"node_id":"IC_kwDOACaFSM6CJGT3","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T20:38:20Z","updated_at":"2024-06-21T20:38:20Z","author_association":"CONTRIBUTOR","body":"> > Will the deleting of the scan server refs from the metadata table as part of the 3.1 upgrade be done in a separate issue / PR?\r\n> \r\n> I figured that would make the most sense, to just do that as another PR.\r\n\r\nI forgot I already created an issue for this https://github.com/apache/accumulo/issues/4652 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183423223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183425955","html_url":"https://github.com/apache/accumulo/issues/4599#issuecomment-2183425955","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4599","id":2183425955,"node_id":"IC_kwDOACaFSM6CJG-j","user":{"login":"ArbaazKhan1","id":29344877,"node_id":"MDQ6VXNlcjI5MzQ0ODc3","avatar_url":"https://avatars.githubusercontent.com/u/29344877?v=4","gravatar_id":"","url":"https://api.github.com/users/ArbaazKhan1","html_url":"https://github.com/ArbaazKhan1","followers_url":"https://api.github.com/users/ArbaazKhan1/followers","following_url":"https://api.github.com/users/ArbaazKhan1/following{/other_user}","gists_url":"https://api.github.com/users/ArbaazKhan1/gists{/gist_id}","starred_url":"https://api.github.com/users/ArbaazKhan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArbaazKhan1/subscriptions","organizations_url":"https://api.github.com/users/ArbaazKhan1/orgs","repos_url":"https://api.github.com/users/ArbaazKhan1/repos","events_url":"https://api.github.com/users/ArbaazKhan1/events{/privacy}","received_events_url":"https://api.github.com/users/ArbaazKhan1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T20:40:41Z","updated_at":"2024-06-21T20:40:41Z","author_association":"CONTRIBUTOR","body":"I can take a look at this","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183425955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183461097","html_url":"https://github.com/apache/accumulo/pull/4682#issuecomment-2183461097","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4682","id":2183461097,"node_id":"IC_kwDOACaFSM6CJPjp","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T21:02:55Z","updated_at":"2024-06-21T21:02:55Z","author_association":"CONTRIBUTOR","body":"Started working on the merge conflicts with #4690 and since that PR removes the prefix entirely, all of these changes to handle various prefixes aren't needed. \r\n\r\nSo the 2.1 -> main branch merge containing these changes will be a noop merge and I'll address the row format change with the new upgrade code in a PR to close out #4652.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183461097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183540726","html_url":"https://github.com/apache/accumulo/pull/4691#issuecomment-2183540726","issue_url":"https://api.github.com/repos/apache/accumulo/issues/4691","id":2183540726,"node_id":"IC_kwDOACaFSM6CJi_2","user":{"login":"ddanielr","id":12480877,"node_id":"MDQ6VXNlcjEyNDgwODc3","avatar_url":"https://avatars.githubusercontent.com/u/12480877?v=4","gravatar_id":"","url":"https://api.github.com/users/ddanielr","html_url":"https://github.com/ddanielr","followers_url":"https://api.github.com/users/ddanielr/followers","following_url":"https://api.github.com/users/ddanielr/following{/other_user}","gists_url":"https://api.github.com/users/ddanielr/gists{/gist_id}","starred_url":"https://api.github.com/users/ddanielr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ddanielr/subscriptions","organizations_url":"https://api.github.com/users/ddanielr/orgs","repos_url":"https://api.github.com/users/ddanielr/repos","events_url":"https://api.github.com/users/ddanielr/events{/privacy}","received_events_url":"https://api.github.com/users/ddanielr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-21T22:26:26Z","updated_at":"2024-06-21T22:26:26Z","author_association":"CONTRIBUTOR","body":"Currently in draft since I need to add tests for upgrade code and make sure existing tests still pass.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/2183540726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]