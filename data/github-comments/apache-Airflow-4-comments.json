[{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120494279","html_url":"https://github.com/apache/airflow/issues/120#issuecomment-120494279","issue_url":"https://api.github.com/repos/apache/airflow/issues/120","id":120494279,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDQ5NDI3OQ==","user":{"login":"adambom","id":294597,"node_id":"MDQ6VXNlcjI5NDU5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/294597?v=4","gravatar_id":"","url":"https://api.github.com/users/adambom","html_url":"https://github.com/adambom","followers_url":"https://api.github.com/users/adambom/followers","following_url":"https://api.github.com/users/adambom/following{/other_user}","gists_url":"https://api.github.com/users/adambom/gists{/gist_id}","starred_url":"https://api.github.com/users/adambom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adambom/subscriptions","organizations_url":"https://api.github.com/users/adambom/orgs","repos_url":"https://api.github.com/users/adambom/repos","events_url":"https://api.github.com/users/adambom/events{/privacy}","received_events_url":"https://api.github.com/users/adambom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T18:57:24Z","updated_at":"2015-07-10T18:57:24Z","author_association":"NONE","body":"Thanks @artwr. Sounds like a decent solution. In the meantime we'll look into using the extra_params.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120494279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120532252","html_url":"https://github.com/apache/airflow/issues/123#issuecomment-120532252","issue_url":"https://api.github.com/repos/apache/airflow/issues/123","id":120532252,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDUzMjI1Mg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T21:21:03Z","updated_at":"2015-07-10T21:21:03Z","author_association":"MEMBER","body":"It abstracts 2 components of any external system:\n- The connection information (hostname, login, password, default schema, ...)\n- The API, making a more pythonesque / intuitive / homogeneous API on top of external systems API\n\nThese hooks are used by operators to interact with the external system. For example, HiveToMySqlTransfer and PostgresToMySqlTransfer would both use the MySql hook function that allows for loading data in MySql.\n\nYou can also use these hooks in PythonOperator, or interactively, say in iPython or Juniper to interact with your external systems without having to log in and use their often too complex API.\n\nHere's an example of how easy it is to get some data out of Presto and into a Pandas dataframe:\n\n```\nfrom airflow.hooks import PrestoHook\nh = PrestoHook()\ndf = h.get_pandas_df(\"SELECT * FROM users LIMIT 100\")\n...\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120532252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120532701","html_url":"https://github.com/apache/airflow/issues/124#issuecomment-120532701","issue_url":"https://api.github.com/repos/apache/airflow/issues/124","id":120532701,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDUzMjcwMQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T21:24:01Z","updated_at":"2015-07-10T21:24:01Z","author_association":"MEMBER","body":"Yes! that's what queues are for:\nhttp://pythonhosted.org/airflow/concepts.html#queues\n\nLet me know if you have questions.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120532701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120534880","html_url":"https://github.com/apache/airflow/pull/111#issuecomment-120534880","issue_url":"https://api.github.com/repos/apache/airflow/issues/111","id":120534880,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDUzNDg4MA==","user":{"login":"jbalogh","id":57258,"node_id":"MDQ6VXNlcjU3MjU4","avatar_url":"https://avatars.githubusercontent.com/u/57258?v=4","gravatar_id":"","url":"https://api.github.com/users/jbalogh","html_url":"https://github.com/jbalogh","followers_url":"https://api.github.com/users/jbalogh/followers","following_url":"https://api.github.com/users/jbalogh/following{/other_user}","gists_url":"https://api.github.com/users/jbalogh/gists{/gist_id}","starred_url":"https://api.github.com/users/jbalogh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jbalogh/subscriptions","organizations_url":"https://api.github.com/users/jbalogh/orgs","repos_url":"https://api.github.com/users/jbalogh/repos","events_url":"https://api.github.com/users/jbalogh/events{/privacy}","received_events_url":"https://api.github.com/users/jbalogh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T21:34:08Z","updated_at":"2015-07-10T21:34:08Z","author_association":"CONTRIBUTOR","body":"Sorry for the delay, our cluster was having a bad day.\n\nHere's a traceback with `raise e`:\n\n```\n$ ./bin/airflow run dag task.Crash 2015-07-09 --local\nActivating the virtualenv.\nLogging into: ./logs/dag/task.Crash/2015-07-09T00:00:00\nTraceback (most recent call last):\n  File \"bin/airflow\", line 156, in <module>\n    args.func(args)\n  File \"vendor/src/airflow/airflow/bin/cli.py\", line 126, in run\n    job_id=args.job_id,\n  File \"vendor/src/airflow/airflow/models.py\", line 755, in run\n    raise e\nZeroDivisionError: integer division or modulo by zero\n```\n\nAnd here's a traceback with `raise`:\n\n```\n$ ./bin/airflow run dag task.Crash 2015-07-09 --local\nActivating the virtualenv.\nLogging into: ./logs/dag/task.Crash/2015-07-09T00:00:00\nTraceback (most recent call last):\n  File \"bin/airflow\", line 156, in <module>\n    args.func(args)\n  File \"vendor/src/airflow/airflow/bin/cli.py\", line 126, in run\n    job_id=args.job_id,\n  File \"vendor/src/airflow/airflow/models.py\", line 752, in run\n    task_copy.execute(context=self.get_template_context())\n  File \"vendor/src/airflow/airflow/operators/python_operator.py\", line 48, in execute\n    return_value = self.python_callable(*self.op_args, **self.op_kwargs)\n  File \"./tasks/task.py\", line 186, in execute\n    self.run(context)\n  File \"./tasks/task.py\", line 309, in run\n    1 / 0\nZeroDivisionError: integer division or modulo by zero\n```\n\nThis only affects what's shown in the `airflow run` context. The log file shows the proper traceback both times.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120534880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120537614","html_url":"https://github.com/apache/airflow/pull/111#issuecomment-120537614","issue_url":"https://api.github.com/repos/apache/airflow/issues/111","id":120537614,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDUzNzYxNA==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T21:52:01Z","updated_at":"2015-07-10T21:52:01Z","author_association":"CONTRIBUTOR","body":"For future ref for me :\nhttp://stackoverflow.com/questions/4825234/exception-traceback-is-hidden-if-not-re-raised-immediately\nhttp://nedbatchelder.com/blog/200711/rethrowing_exceptions_in_python.html\n\nSeems reasonable.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120537614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120537645","html_url":"https://github.com/apache/airflow/issues/124#issuecomment-120537645","issue_url":"https://api.github.com/repos/apache/airflow/issues/124","id":120537645,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDUzNzY0NQ==","user":{"login":"adambom","id":294597,"node_id":"MDQ6VXNlcjI5NDU5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/294597?v=4","gravatar_id":"","url":"https://api.github.com/users/adambom","html_url":"https://github.com/adambom","followers_url":"https://api.github.com/users/adambom/followers","following_url":"https://api.github.com/users/adambom/following{/other_user}","gists_url":"https://api.github.com/users/adambom/gists{/gist_id}","starred_url":"https://api.github.com/users/adambom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adambom/subscriptions","organizations_url":"https://api.github.com/users/adambom/orgs","repos_url":"https://api.github.com/users/adambom/repos","events_url":"https://api.github.com/users/adambom/events{/privacy}","received_events_url":"https://api.github.com/users/adambom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T21:52:17Z","updated_at":"2015-07-10T21:52:17Z","author_association":"NONE","body":"Thanks, will look into queues.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120537645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120538360","html_url":"https://github.com/apache/airflow/issues/123#issuecomment-120538360","issue_url":"https://api.github.com/repos/apache/airflow/issues/123","id":120538360,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDUzODM2MA==","user":{"login":"davidaventimiglia-personal","id":105000,"node_id":"MDQ6VXNlcjEwNTAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/105000?v=4","gravatar_id":"","url":"https://api.github.com/users/davidaventimiglia-personal","html_url":"https://github.com/davidaventimiglia-personal","followers_url":"https://api.github.com/users/davidaventimiglia-personal/followers","following_url":"https://api.github.com/users/davidaventimiglia-personal/following{/other_user}","gists_url":"https://api.github.com/users/davidaventimiglia-personal/gists{/gist_id}","starred_url":"https://api.github.com/users/davidaventimiglia-personal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidaventimiglia-personal/subscriptions","organizations_url":"https://api.github.com/users/davidaventimiglia-personal/orgs","repos_url":"https://api.github.com/users/davidaventimiglia-personal/repos","events_url":"https://api.github.com/users/davidaventimiglia-personal/events{/privacy}","received_events_url":"https://api.github.com/users/davidaventimiglia-personal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T21:57:57Z","updated_at":"2015-07-10T21:57:57Z","author_association":"NONE","body":"Cool, cool.  So, how would I go about using the `S3Hook` object and its `load_file` operation to load a local file up to an S3 bucket within a DAG?  The basic flow would be, use a `BashOperator` to fetch data from a remote-endpoint (using `curl` or an API client or what-have-you), copy that file up to AWS S3, and then use another `BashOperator` to bulk-`COPY` the data into AWS Redshift.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120538360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120538855","html_url":"https://github.com/apache/airflow/pull/111#issuecomment-120538855","issue_url":"https://api.github.com/repos/apache/airflow/issues/111","id":120538855,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDUzODg1NQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T22:01:45Z","updated_at":"2015-07-10T22:01:45Z","author_association":"MEMBER","body":"Ok, nice.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120538855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120541480","html_url":"https://github.com/apache/airflow/issues/125#issuecomment-120541480","issue_url":"https://api.github.com/repos/apache/airflow/issues/125","id":120541480,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDU0MTQ4MA==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-10T22:24:13Z","updated_at":"2015-07-10T22:24:13Z","author_association":"CONTRIBUTOR","body":"@adambom \nWe are thinking of refactoring the mysql_hook slightly, but pandas requires Numpy (See https://github.com/pydata/pandas). I am not sure we can get around that.\n\nOne idea would be to install the OS binary package (yum or apt-get install python-numpy usually) and running the airflow install with `--ignore-installed`, but this is a little beyond my expertise. See for instance : \nhttp://stackoverflow.com/questions/12079607/make-virtualenv-inherit-specific-packages-from-your-global-site-packages\nhttp://stackoverflow.com/questions/14571454/virtualenv-specifing-which-packages-to-use-system-wide-vs-local\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120541480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120571082","html_url":"https://github.com/apache/airflow/issues/123#issuecomment-120571082","issue_url":"https://api.github.com/repos/apache/airflow/issues/123","id":120571082,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDU3MTA4Mg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-11T04:09:37Z","updated_at":"2015-07-11T04:09:37Z","author_association":"MEMBER","body":"Well consider the fact that you may have multiple workers and that each task may take place on any worker. For that reason Airflow tasks should only use the local filesystem within the task execution scope and cleanup after themselves.\n\nIf you want to leverage the hooks, your best bet is to do it within a PythonOperator. You write a python function that say uses the `requests` library to fetch your file, push that to S3 using the S3Hook, then probably another task to run load from S3 to redshift (BashOperator? PostgresOperator?).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120571082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120627747","html_url":"https://github.com/apache/airflow/issues/119#issuecomment-120627747","issue_url":"https://api.github.com/repos/apache/airflow/issues/119","id":120627747,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDYyNzc0Nw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-11T15:03:24Z","updated_at":"2015-07-11T15:03:24Z","author_association":"MEMBER","body":"- `airflow test`: test a single task instance, get the logs printed out as stdout, no dependency checks, status of run doesn't get recorded. Typically you'd be working on a local branch and making sure you tasks work.\n- `airflow run`: trigger a single task instance as it would run in production. I has flags to force a run or ignore the dependencies. Note that `airflow run` is used internally by the scheduler and backfill.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120627747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120627966","html_url":"https://github.com/apache/airflow/issues/115#issuecomment-120627966","issue_url":"https://api.github.com/repos/apache/airflow/issues/115","id":120627966,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDYyNzk2Ng==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-11T15:08:10Z","updated_at":"2015-07-11T15:08:10Z","author_association":"MEMBER","body":"The second DAGs view should not be there. I need to remove the link from the Menu. It's an artifact of registering the modelview in \"flask admin\"...\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120627966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120651651","html_url":"https://github.com/apache/airflow/issues/115#issuecomment-120651651","issue_url":"https://api.github.com/repos/apache/airflow/issues/115","id":120651651,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDY1MTY1MQ==","user":{"login":"davidaventimiglia-personal","id":105000,"node_id":"MDQ6VXNlcjEwNTAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/105000?v=4","gravatar_id":"","url":"https://api.github.com/users/davidaventimiglia-personal","html_url":"https://github.com/davidaventimiglia-personal","followers_url":"https://api.github.com/users/davidaventimiglia-personal/followers","following_url":"https://api.github.com/users/davidaventimiglia-personal/following{/other_user}","gists_url":"https://api.github.com/users/davidaventimiglia-personal/gists{/gist_id}","starred_url":"https://api.github.com/users/davidaventimiglia-personal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidaventimiglia-personal/subscriptions","organizations_url":"https://api.github.com/users/davidaventimiglia-personal/orgs","repos_url":"https://api.github.com/users/davidaventimiglia-personal/repos","events_url":"https://api.github.com/users/davidaventimiglia-personal/events{/privacy}","received_events_url":"https://api.github.com/users/davidaventimiglia-personal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-11T18:34:36Z","updated_at":"2015-07-11T18:34:36Z","author_association":"NONE","body":"Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120651651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120954955","html_url":"https://github.com/apache/airflow/issues/130#issuecomment-120954955","issue_url":"https://api.github.com/repos/apache/airflow/issues/130","id":120954955,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMDk1NDk1NQ==","user":{"login":"martingrayson","id":870417,"node_id":"MDQ6VXNlcjg3MDQxNw==","avatar_url":"https://avatars.githubusercontent.com/u/870417?v=4","gravatar_id":"","url":"https://api.github.com/users/martingrayson","html_url":"https://github.com/martingrayson","followers_url":"https://api.github.com/users/martingrayson/followers","following_url":"https://api.github.com/users/martingrayson/following{/other_user}","gists_url":"https://api.github.com/users/martingrayson/gists{/gist_id}","starred_url":"https://api.github.com/users/martingrayson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martingrayson/subscriptions","organizations_url":"https://api.github.com/users/martingrayson/orgs","repos_url":"https://api.github.com/users/martingrayson/repos","events_url":"https://api.github.com/users/martingrayson/events{/privacy}","received_events_url":"https://api.github.com/users/martingrayson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-13T14:51:01Z","updated_at":"2015-07-13T14:51:01Z","author_association":"NONE","body":"Perhaps its not much help, but I've implemented a generic Python function for use within my dags. I use this function to execute check SQL within some of my pipelines and validate the result matches what I expect.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/120954955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121004586","html_url":"https://github.com/apache/airflow/issues/130#issuecomment-121004586","issue_url":"https://api.github.com/repos/apache/airflow/issues/130","id":121004586,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTAwNDU4Ng==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-13T17:50:29Z","updated_at":"2015-07-13T17:50:29Z","author_association":"MEMBER","body":"You can always run your checks in or outside of your critical path.\n\nWe have a very common construct that we've abstracted in a function (in our pipeline repo, not the airflow repo) that returns a subdag containing:\n- The task that loads data in to a staging table (HiveOperator)\n- A set of data quality checks (PrestoCheckOperator)\n- Exchanging the partition to make it live (HiveOperator)\n\nPerhaps you could also use a subdag to run your DQ checks.\n\nAIt'd be easy to create a ChainOperator that would receive a list of task and run them one after the other, and atomically (if one fails, the whole chain fails).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121004586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121008477","html_url":"https://github.com/apache/airflow/issues/128#issuecomment-121008477","issue_url":"https://api.github.com/repos/apache/airflow/issues/128","id":121008477,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTAwODQ3Nw==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-13T18:04:51Z","updated_at":"2015-07-13T18:04:51Z","author_association":"CONTRIBUTOR","body":"Would this work for you?\n\n```\nselect *\nFROM table\nwhere creation_date = '{{ ds }}'\n```\n\nYou can check the rendering of templates by using `airlfow test` or in the rendered task view.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121008477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121092732","html_url":"https://github.com/apache/airflow/issues/123#issuecomment-121092732","issue_url":"https://api.github.com/repos/apache/airflow/issues/123","id":121092732,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTA5MjczMg==","user":{"login":"davidaventimiglia-personal","id":105000,"node_id":"MDQ6VXNlcjEwNTAwMA==","avatar_url":"https://avatars.githubusercontent.com/u/105000?v=4","gravatar_id":"","url":"https://api.github.com/users/davidaventimiglia-personal","html_url":"https://github.com/davidaventimiglia-personal","followers_url":"https://api.github.com/users/davidaventimiglia-personal/followers","following_url":"https://api.github.com/users/davidaventimiglia-personal/following{/other_user}","gists_url":"https://api.github.com/users/davidaventimiglia-personal/gists{/gist_id}","starred_url":"https://api.github.com/users/davidaventimiglia-personal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidaventimiglia-personal/subscriptions","organizations_url":"https://api.github.com/users/davidaventimiglia-personal/orgs","repos_url":"https://api.github.com/users/davidaventimiglia-personal/repos","events_url":"https://api.github.com/users/davidaventimiglia-personal/events{/privacy}","received_events_url":"https://api.github.com/users/davidaventimiglia-personal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-13T23:46:35Z","updated_at":"2015-07-13T23:46:35Z","author_association":"NONE","body":"Thanks.  I'm not even sure if I want to leverage hooks.  I just know that I want to scribble a file onto a worker's local file-system, copy it to S3, and do a Redshift bulk `COPY`.  The first is already handled with a BashOperator.  The third can be handled either with a BashOperator or a PostgresOperator.  For copying the file to S3, I figured that since Airflow already has a \"S3-thing\" (i.e., an S3Hook) then I'd try to use it.  But, it seems I ought to be able to use a BashOperator for that as well, along with the AWS CLI.  That might be easier than using the PythonOperator in the way that you describe.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121092732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121121316","html_url":"https://github.com/apache/airflow/issues/128#issuecomment-121121316","issue_url":"https://api.github.com/repos/apache/airflow/issues/128","id":121121316,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTEyMTMxNg==","user":{"login":"griffinqiu","id":179343,"node_id":"MDQ6VXNlcjE3OTM0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/179343?v=4","gravatar_id":"","url":"https://api.github.com/users/griffinqiu","html_url":"https://github.com/griffinqiu","followers_url":"https://api.github.com/users/griffinqiu/followers","following_url":"https://api.github.com/users/griffinqiu/following{/other_user}","gists_url":"https://api.github.com/users/griffinqiu/gists{/gist_id}","starred_url":"https://api.github.com/users/griffinqiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/griffinqiu/subscriptions","organizations_url":"https://api.github.com/users/griffinqiu/orgs","repos_url":"https://api.github.com/users/griffinqiu/repos","events_url":"https://api.github.com/users/griffinqiu/events{/privacy}","received_events_url":"https://api.github.com/users/griffinqiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T03:17:41Z","updated_at":"2015-07-14T03:17:41Z","author_association":"NONE","body":"I mean, I want to get the execution_date during operators.\nLike I just want to update the data which is 2015-06-01 when I backfill 2015-06-01 data at 2015-07-14\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121121316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121123812","html_url":"https://github.com/apache/airflow/issues/128#issuecomment-121123812","issue_url":"https://api.github.com/repos/apache/airflow/issues/128","id":121123812,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTEyMzgxMg==","user":{"login":"griffinqiu","id":179343,"node_id":"MDQ6VXNlcjE3OTM0Mw==","avatar_url":"https://avatars.githubusercontent.com/u/179343?v=4","gravatar_id":"","url":"https://api.github.com/users/griffinqiu","html_url":"https://github.com/griffinqiu","followers_url":"https://api.github.com/users/griffinqiu/followers","following_url":"https://api.github.com/users/griffinqiu/following{/other_user}","gists_url":"https://api.github.com/users/griffinqiu/gists{/gist_id}","starred_url":"https://api.github.com/users/griffinqiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/griffinqiu/subscriptions","organizations_url":"https://api.github.com/users/griffinqiu/orgs","repos_url":"https://api.github.com/users/griffinqiu/repos","events_url":"https://api.github.com/users/griffinqiu/events{/privacy}","received_events_url":"https://api.github.com/users/griffinqiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T03:30:04Z","updated_at":"2015-07-14T03:30:04Z","author_association":"NONE","body":"I have found the answer. I can use the Macros {{ ds }}.\n\nThank you\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121123812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121281937","html_url":"https://github.com/apache/airflow/issues/133#issuecomment-121281937","issue_url":"https://api.github.com/repos/apache/airflow/issues/133","id":121281937,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4MTkzNw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T15:27:53Z","updated_at":"2015-07-14T15:27:53Z","author_association":"MEMBER","body":"It's not directly supported. Though your pipeline script can read a configuration centrally and pass them to tasks, cross task communication isn't natively supported. Would it make sense in your case to make that call in the pipeline file itself (as opposed to within a task)\n\nSpecific operators could implement communication with other operators, but none of the native operators support this. The `Variables` model could be used for that purpose.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121281937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121285357","html_url":"https://github.com/apache/airflow/pull/132#issuecomment-121285357","issue_url":"https://api.github.com/repos/apache/airflow/issues/132","id":121285357,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4NTM1Nw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T15:42:11Z","updated_at":"2015-07-14T15:42:11Z","author_association":"MEMBER","body":"`email_message` could use a more clear name like `failure_email_preamble` or something like that, and the field should be documented in BaseOperator's docstring, specifying that it will be added before the body of the classic email and that it support html syntax.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121285357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121285414","html_url":"https://github.com/apache/airflow/pull/132#issuecomment-121285414","issue_url":"https://api.github.com/repos/apache/airflow/issues/132","id":121285414,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4NTQxNA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T15:42:22Z","updated_at":"2015-07-14T15:42:22Z","author_association":"MEMBER","body":"Totally useful hook BTW!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121285414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121285742","html_url":"https://github.com/apache/airflow/issues/133#issuecomment-121285742","issue_url":"https://api.github.com/repos/apache/airflow/issues/133","id":121285742,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4NTc0Mg==","user":{"login":"anthonylau","id":4386608,"node_id":"MDQ6VXNlcjQzODY2MDg=","avatar_url":"https://avatars.githubusercontent.com/u/4386608?v=4","gravatar_id":"","url":"https://api.github.com/users/anthonylau","html_url":"https://github.com/anthonylau","followers_url":"https://api.github.com/users/anthonylau/followers","following_url":"https://api.github.com/users/anthonylau/following{/other_user}","gists_url":"https://api.github.com/users/anthonylau/gists{/gist_id}","starred_url":"https://api.github.com/users/anthonylau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anthonylau/subscriptions","organizations_url":"https://api.github.com/users/anthonylau/orgs","repos_url":"https://api.github.com/users/anthonylau/repos","events_url":"https://api.github.com/users/anthonylau/events{/privacy}","received_events_url":"https://api.github.com/users/anthonylau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T15:43:37Z","updated_at":"2015-07-14T15:43:37Z","author_association":"NONE","body":"Thanks. Actually, I want something like Chain/Group in Celery.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121285742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121286586","html_url":"https://github.com/apache/airflow/pull/132#issuecomment-121286586","issue_url":"https://api.github.com/repos/apache/airflow/issues/132","id":121286586,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4NjU4Ng==","user":{"login":"martingrayson","id":870417,"node_id":"MDQ6VXNlcjg3MDQxNw==","avatar_url":"https://avatars.githubusercontent.com/u/870417?v=4","gravatar_id":"","url":"https://api.github.com/users/martingrayson","html_url":"https://github.com/martingrayson","followers_url":"https://api.github.com/users/martingrayson/followers","following_url":"https://api.github.com/users/martingrayson/following{/other_user}","gists_url":"https://api.github.com/users/martingrayson/gists{/gist_id}","starred_url":"https://api.github.com/users/martingrayson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martingrayson/subscriptions","organizations_url":"https://api.github.com/users/martingrayson/orgs","repos_url":"https://api.github.com/users/martingrayson/repos","events_url":"https://api.github.com/users/martingrayson/events{/privacy}","received_events_url":"https://api.github.com/users/martingrayson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T15:47:25Z","updated_at":"2015-07-14T15:47:25Z","author_association":"NONE","body":"How do you guys use airflow internally? Is all of your alerting email based?\n\nI like the concept of generalising alerts to be less email specific and more just \"notifications\". That way users could plug in different modules to alert them of job failure/success and trigger external systems/monitoring tools. One such case would be SNS alerting to push job success messages to topic rather than specifically use email.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121286586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121286778","html_url":"https://github.com/apache/airflow/issues/123#issuecomment-121286778","issue_url":"https://api.github.com/repos/apache/airflow/issues/123","id":121286778,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI4Njc3OA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T15:48:13Z","updated_at":"2015-07-14T15:49:13Z","author_association":"MEMBER","body":"Step 1-2 need to happen atomically if you use the local file system and you want your DAG to work on a multi-worker environment, unless you use a mountpoint that all workers have mounted.\n\nPythonOperator leveraging hooks leads to better looking, more reusable code than BashOperator in general, but whatever works for you!\n\nWe like to leave all the connection information (hostname, login, passwords) out of our scripts and PythonOperator+hooks allow for that.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121286778/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121294209","html_url":"https://github.com/apache/airflow/pull/132#issuecomment-121294209","issue_url":"https://api.github.com/repos/apache/airflow/issues/132","id":121294209,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTI5NDIwOQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-14T16:15:38Z","updated_at":"2015-07-14T16:15:38Z","author_association":"MEMBER","body":"We use PagerDuty to bubble up alerts. PagerDuty can receive an email and broadcasts alerts using intricate rules around who's on call, their preferred method of contact (SMS, email addresses, Slack, PagerDuty phone app...), groups, schedules, ...\n\nWe also have StatsD setup on some of the job events (see `airflow/jobs.py`) and something called Datadog that integrates with StatsD and can alert us if the scheduler stops looping, or if no jobs are started or succeed for over a half hour. StatsD / Datadog is also how we monitor the health of the Airflow machines (memory, cpu, disk space, ...).\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121294209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121439706","html_url":"https://github.com/apache/airflow/issues/135#issuecomment-121439706","issue_url":"https://api.github.com/repos/apache/airflow/issues/135","id":121439706,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTQzOTcwNg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T01:00:08Z","updated_at":"2015-07-15T01:00:08Z","author_association":"MEMBER","body":"Quick thought, did you change your start_date for something that isn't \"square\" at any point in time? By square I mean `00:00` for a daily job.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121439706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121442102","html_url":"https://github.com/apache/airflow/issues/135#issuecomment-121442102","issue_url":"https://api.github.com/repos/apache/airflow/issues/135","id":121442102,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTQ0MjEwMg==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T01:07:45Z","updated_at":"2015-07-15T01:10:20Z","author_association":"CONTRIBUTOR","body":"Hmn... I see the start_date is set to datetime.now() .... Hmn... \n\n```\ndefault_args = {\n    'owner': 'airflow',\n    'depends_on_past': False,\n    'start_date': datetime(2015, 7, 8),\n    'email': ['airflow@airflow.com'],\n    'email_on_failure': True,\n    'email_on_retry': True,\n    'retries': 3,\n    'retry_interval': timedelta(seconds=5)\n}\ndag = DAG('ep_demo', start_date=datetime.now(), default_args=default_args)\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121442102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121443567","html_url":"https://github.com/apache/airflow/issues/135#issuecomment-121443567","issue_url":"https://api.github.com/repos/apache/airflow/issues/135","id":121443567,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTQ0MzU2Nw==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T01:12:35Z","updated_at":"2015-07-15T01:12:35Z","author_association":"CONTRIBUTOR","body":"Ok, so I'll change the datetime.now() to be rounded to 00:00. I haven't changed this part of the code in a long time, so I am guessing the handling of this changed in the past month or so with respect to the tree view. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121443567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121543766","html_url":"https://github.com/apache/airflow/issues/135#issuecomment-121543766","issue_url":"https://api.github.com/repos/apache/airflow/issues/135","id":121543766,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTU0Mzc2Ng==","user":{"login":"storpipfugl","id":449314,"node_id":"MDQ6VXNlcjQ0OTMxNA==","avatar_url":"https://avatars.githubusercontent.com/u/449314?v=4","gravatar_id":"","url":"https://api.github.com/users/storpipfugl","html_url":"https://github.com/storpipfugl","followers_url":"https://api.github.com/users/storpipfugl/followers","following_url":"https://api.github.com/users/storpipfugl/following{/other_user}","gists_url":"https://api.github.com/users/storpipfugl/gists{/gist_id}","starred_url":"https://api.github.com/users/storpipfugl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/storpipfugl/subscriptions","organizations_url":"https://api.github.com/users/storpipfugl/orgs","repos_url":"https://api.github.com/users/storpipfugl/repos","events_url":"https://api.github.com/users/storpipfugl/events{/privacy}","received_events_url":"https://api.github.com/users/storpipfugl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T09:18:30Z","updated_at":"2015-07-15T09:18:30Z","author_association":"NONE","body":"@mistercrunch : Is the best way to have have a daily job trigger at a certain time then to use a start_date with 00:00 time, schedule_interval=timedelta(days=1) and make all task in a dag depend on an airflow.operators.TimeSensor? How is the use of sensors affected by the \"parallelism\" limit of the executor? Can you risk the execution queue being blocked by sensors just waiting for events?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121543766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121672420","html_url":"https://github.com/apache/airflow/issues/135#issuecomment-121672420","issue_url":"https://api.github.com/repos/apache/airflow/issues/135","id":121672420,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTY3MjQyMA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T16:38:36Z","updated_at":"2015-07-15T16:38:36Z","author_association":"MEMBER","body":"@storpipfugl: yes, and the docs should be more explicit about this\n\nSensors do take up a slot in your executor while they are running (sensing). You need to make sure you have plenty of slots available to support the max number of tasks that could ever run at the same time.\n\nSensors are typically cheap in terms of CPU / memory, so you can take that into account when factoring how many slots each worker should have.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121672420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121751089","html_url":"https://github.com/apache/airflow/issues/139#issuecomment-121751089","issue_url":"https://api.github.com/repos/apache/airflow/issues/139","id":121751089,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTc1MTA4OQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T21:16:54Z","updated_at":"2015-07-15T21:16:54Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121751089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121751823","html_url":"https://github.com/apache/airflow/issues/139#issuecomment-121751823","issue_url":"https://api.github.com/repos/apache/airflow/issues/139","id":121751823,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTc1MTgyMw==","user":{"login":"kevinmandich","id":8010735,"node_id":"MDQ6VXNlcjgwMTA3MzU=","avatar_url":"https://avatars.githubusercontent.com/u/8010735?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinmandich","html_url":"https://github.com/kevinmandich","followers_url":"https://api.github.com/users/kevinmandich/followers","following_url":"https://api.github.com/users/kevinmandich/following{/other_user}","gists_url":"https://api.github.com/users/kevinmandich/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinmandich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinmandich/subscriptions","organizations_url":"https://api.github.com/users/kevinmandich/orgs","repos_url":"https://api.github.com/users/kevinmandich/repos","events_url":"https://api.github.com/users/kevinmandich/events{/privacy}","received_events_url":"https://api.github.com/users/kevinmandich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T21:18:28Z","updated_at":"2015-07-15T21:18:28Z","author_association":"NONE","body":"Would also like to know the answer to this!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121751823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121752467","html_url":"https://github.com/apache/airflow/issues/136#issuecomment-121752467","issue_url":"https://api.github.com/repos/apache/airflow/issues/136","id":121752467,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTc1MjQ2Nw==","user":{"login":"kevinmandich","id":8010735,"node_id":"MDQ6VXNlcjgwMTA3MzU=","avatar_url":"https://avatars.githubusercontent.com/u/8010735?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinmandich","html_url":"https://github.com/kevinmandich","followers_url":"https://api.github.com/users/kevinmandich/followers","following_url":"https://api.github.com/users/kevinmandich/following{/other_user}","gists_url":"https://api.github.com/users/kevinmandich/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinmandich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinmandich/subscriptions","organizations_url":"https://api.github.com/users/kevinmandich/orgs","repos_url":"https://api.github.com/users/kevinmandich/repos","events_url":"https://api.github.com/users/kevinmandich/events{/privacy}","received_events_url":"https://api.github.com/users/kevinmandich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T21:19:47Z","updated_at":"2015-07-15T21:19:59Z","author_association":"NONE","body":"Closing because this is the same as https://github.com/airbnb/airflow/issues/138\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121752467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121771060","html_url":"https://github.com/apache/airflow/issues/139#issuecomment-121771060","issue_url":"https://api.github.com/repos/apache/airflow/issues/139","id":121771060,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTc3MTA2MA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T22:52:13Z","updated_at":"2015-07-15T22:52:13Z","author_association":"MEMBER","body":"Oh, yeah, here the web servers get restarted every time I push new code in production, which is pretty much everyday. I'll keep this open until I get to it...\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121771060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121771582","html_url":"https://github.com/apache/airflow/issues/140#issuecomment-121771582","issue_url":"https://api.github.com/repos/apache/airflow/issues/140","id":121771582,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTc3MTU4Mg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-15T22:56:15Z","updated_at":"2015-07-15T22:56:15Z","author_association":"MEMBER","body":"Oh actually I think it's only supported at the DAG level for now to prevent confusion around heterogenous schedule_intervals in DAGs. Make sure you specify it as a param when instantiating the DAG object.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121771582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121812693","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-121812693","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":121812693,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTgxMjY5Mw==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T03:11:03Z","updated_at":"2015-07-16T03:11:03Z","author_association":"CONTRIBUTOR","body":"Folks! Any ideas here would be much appreciated. My bash task can get stuck indefinitely.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121812693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121816266","html_url":"https://github.com/apache/airflow/issues/112#issuecomment-121816266","issue_url":"https://api.github.com/repos/apache/airflow/issues/112","id":121816266,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTgxNjI2Ng==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T03:26:32Z","updated_at":"2015-07-16T03:30:43Z","author_association":"CONTRIBUTOR","body":"I tried \n`{{ (execution_date + timedelta(1)).strftime('%s') }}`\n\nas in \n\n```\n# Operator : Read the parquet data and generate aggregate data\n# Convert the end_date to epoch seconds\naggregate_data_spark_job = BashOperator(\n    task_id='aggregate_data_spark_job',\n    bash_command=\"ssh -i ~/.ssh/id_rsa_spark root@10.10.2.157 '. /root/.bash_profile; /root/run_aggregation.sh {{ (execution_date - timedelta(5)).strftime('%s') }} {{ execution_date.strftime('%s') }}'\" ,\n    dag=dag)\naggregate_data_spark_job.set_upstream(clean_up_db_tables_job)\n```\n\nBut, I get the following exception : \n\n```\n2015-07-15 20:23:52,583 - root - ERROR - 'timedelta' is undefined\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/site-packages/airflow-1.1.1-py2.7.egg/airflow/models.py\", line 818, in run\n    self.render_templates()\n  File \"/usr/local/lib/python2.7/site-packages/airflow-1.1.1-py2.7.egg/airflow/models.py\", line 918, in render_templates\n    result = rt(content, jinja_context)\n  File \"/usr/local/lib/python2.7/site-packages/airflow-1.1.1-py2.7.egg/airflow/models.py\", line 1181, in render_template\n    return template.render(**context)\n  File \"/usr/local/lib/python2.7/site-packages/jinja2/environment.py\", line 969, in render\n    return self.environment.handle_exception(exc_info, True)\n  File \"/usr/local/lib/python2.7/site-packages/jinja2/environment.py\", line 742, in handle_exception\n    reraise(exc_type, exc_value, tb)\n  File \"<template>\", line 1, in top-level template code\nUndefinedError: 'timedelta' is undefined\n```\n\nI'm passing 2 arguments to my aggregation.sh script, a `start date` and an `end date`. My `start date` is the `execution date - 5 days`, because data can take 5 days to reach us, so we have a look-back window of 5 days from any execution date. I need to do a time delta computation. I'm new to Jinja, so I am wondering how the render_template will know the timedelta is part of datetime. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121816266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121818734","html_url":"https://github.com/apache/airflow/issues/112#issuecomment-121818734","issue_url":"https://api.github.com/repos/apache/airflow/issues/112","id":121818734,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTgxODczNA==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T03:44:24Z","updated_at":"2015-07-16T03:44:24Z","author_association":"CONTRIBUTOR","body":"In this particular case, it depends on how you import datetime. You might need to either do : \n\n```\nimport datetime\n\n{{ (execution_date + datetime.timedelta(1)).strftime('%s') }}\n```\n\nor\n\n```\nfrom datetime import datetime, timedelta\n\n{{ (execution_date + timedelta(1)).strftime('%s') }}\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121818734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121821231","html_url":"https://github.com/apache/airflow/issues/112#issuecomment-121821231","issue_url":"https://api.github.com/repos/apache/airflow/issues/112","id":121821231,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTgyMTIzMQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T03:55:22Z","updated_at":"2015-07-16T06:06:56Z","author_association":"CONTRIBUTOR","body":"I am following the second example : \n`from datetime import date, datetime, time, timedelta`, when getting this exception.\n\nI realized macros also solve my problem. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121821231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121832241","html_url":"https://github.com/apache/airflow/issues/112#issuecomment-121832241","issue_url":"https://api.github.com/repos/apache/airflow/issues/112","id":121832241,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTgzMjI0MQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T05:21:21Z","updated_at":"2015-07-16T05:22:09Z","author_association":"CONTRIBUTOR","body":"I solved my problem using 2 macros. So I can achieve what I need using ds_add and ds_format.\n\n```\nsend_email_notification_flow_successful = EmailOperator(\n    task_id='send_email_notification_flow_successful',\n    to=\"sanand@agari.com\",\n    subject='custom email from airflow',\n    html_content=\"{{ params.foo(macros.ds_add(ds, -5), macros.ds_format(macros.ds_add(ds, -5), '%Y-%m-%d', '%s'))  }}\",\n    params=params,\n    dag=dag)\n```\n\nThis code essentially subtracts 5 days from the execution date and converts the result into epoch seconds as a long. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121832241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121841406","html_url":"https://github.com/apache/airflow/issues/137#issuecomment-121841406","issue_url":"https://api.github.com/repos/apache/airflow/issues/137","id":121841406,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTg0MTQwNg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T05:53:40Z","updated_at":"2015-07-16T05:53:40Z","author_association":"MEMBER","body":"If the `latest_heartbeat` is old, it means they aren't running. I have an `airflow_maintenance` DAG that includes a task that clears those.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121841406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121842392","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-121842392","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":121842392,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTg0MjM5Mg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T06:00:28Z","updated_at":"2015-07-16T06:00:28Z","author_association":"MEMBER","body":"Adding a `timeout` (as a timedelta object) attribute to `BaseOperator` seems reasonable.  I already have an object that can be used in a `with` block to time things out. \n\nYou'd have to wrap this call here if timeout the attribute is defined: https://github.com/airbnb/airflow/blob/master/airflow/utils.py#L437\n\nhttps://github.com/airbnb/airflow/blob/master/airflow/utils.py#L437\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121842392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121845485","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-121845485","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":121845485,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTg0NTQ4NQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T06:24:31Z","updated_at":"2015-07-16T06:24:31Z","author_association":"CONTRIBUTOR","body":"Thanks. but can you suggest how I would use it with the example I have above? \n\nI have a bunch of operators. In the above case, I'm not using a Python operator, but I am using a BashOperator, so I don't have control of the execution of this operator - your DAG execution engine is executing each operator. I can convert this to a PythonOperator and then take control -- is that what you are suggesting?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121845485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121852389","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-121852389","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":121852389,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTg1MjM4OQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T07:00:09Z","updated_at":"2015-07-16T07:00:09Z","author_association":"CONTRIBUTOR","body":"It would be nice if this were part of the BaseOperator's execution for every operator to leverage. With the exception of the BashOperator, I'm using PythonOperator for all of my other needs. I could convert this to PythonOperator as well, but, I'd rather move towards the more type specific operators (Bash, PostGres, Email) at some point.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121852389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121993328","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-121993328","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":121993328,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMTk5MzMyOA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T15:28:22Z","updated_at":"2015-07-16T15:28:22Z","author_association":"MEMBER","body":"What I was suggesting was how to bake the feature in the framework, which should be trivial.\n\nIn the meantime you wrap your bash operations in a PythonOperator, use Popen, and use my timeout decorator. It may look something like that\n\n```\nfrom airflow.utils import timeout\ndef the_callable():\n    with timeout(30):  # in seconds\n        sleep(35)\nPythonOperator(...)\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/121993328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122000231","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-122000231","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":122000231,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjAwMDIzMQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T15:53:53Z","updated_at":"2015-07-16T15:53:53Z","author_association":"MEMBER","body":"I ended adding the feature:\nhttps://github.com/airbnb/airflow/pull/141\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122000231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122006254","html_url":"https://github.com/apache/airflow/pull/141#issuecomment-122006254","issue_url":"https://api.github.com/repos/apache/airflow/issues/141","id":122006254,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjAwNjI1NA==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T16:13:50Z","updated_at":"2015-07-16T16:13:50Z","author_association":"CONTRIBUTOR","body":":+1:\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122006254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122060115","html_url":"https://github.com/apache/airflow/issues/142#issuecomment-122060115","issue_url":"https://api.github.com/repos/apache/airflow/issues/142","id":122060115,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjA2MDExNQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T19:29:08Z","updated_at":"2015-07-16T19:29:08Z","author_association":"MEMBER","body":"@artwr ^^^^\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122060115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122071959","html_url":"https://github.com/apache/airflow/issues/142#issuecomment-122071959","issue_url":"https://api.github.com/repos/apache/airflow/issues/142","id":122071959,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjA3MTk1OQ==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T20:02:00Z","updated_at":"2015-07-16T20:02:00Z","author_association":"CONTRIBUTOR","body":"@rcompton My bad, it was a copypasta issue. It should be fixed with https://github.com/airbnb/airflow/pull/143 once merged.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122071959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122072261","html_url":"https://github.com/apache/airflow/issues/142#issuecomment-122072261","issue_url":"https://api.github.com/repos/apache/airflow/issues/142","id":122072261,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjA3MjI2MQ==","user":{"login":"rcompton","id":1761810,"node_id":"MDQ6VXNlcjE3NjE4MTA=","avatar_url":"https://avatars.githubusercontent.com/u/1761810?v=4","gravatar_id":"","url":"https://api.github.com/users/rcompton","html_url":"https://github.com/rcompton","followers_url":"https://api.github.com/users/rcompton/followers","following_url":"https://api.github.com/users/rcompton/following{/other_user}","gists_url":"https://api.github.com/users/rcompton/gists{/gist_id}","starred_url":"https://api.github.com/users/rcompton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rcompton/subscriptions","organizations_url":"https://api.github.com/users/rcompton/orgs","repos_url":"https://api.github.com/users/rcompton/repos","events_url":"https://api.github.com/users/rcompton/events{/privacy}","received_events_url":"https://api.github.com/users/rcompton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T20:03:23Z","updated_at":"2015-07-16T20:03:23Z","author_association":"NONE","body":"Ok thanks. Closing this now that #143 exists.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122072261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122097750","html_url":"https://github.com/apache/airflow/pull/143#issuecomment-122097750","issue_url":"https://api.github.com/repos/apache/airflow/issues/143","id":122097750,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjA5Nzc1MA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T21:10:41Z","updated_at":"2015-07-16T21:10:41Z","author_association":"MEMBER","body":"Looks ok to me.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122097750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122116662","html_url":"https://github.com/apache/airflow/issues/135#issuecomment-122116662","issue_url":"https://api.github.com/repos/apache/airflow/issues/135","id":122116662,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjExNjY2Mg==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T22:01:57Z","updated_at":"2015-07-16T22:01:57Z","author_association":"CONTRIBUTOR","body":"Confirmed this resolved my issue. Closing.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122116662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122126671","html_url":"https://github.com/apache/airflow/issues/144#issuecomment-122126671","issue_url":"https://api.github.com/repos/apache/airflow/issues/144","id":122126671,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjEyNjY3MQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-16T23:05:11Z","updated_at":"2015-07-16T23:05:11Z","author_association":"CONTRIBUTOR","body":"Here's the full code if you need it - Operators are in the bottom half : \n\n```\nfrom airflow import DAG\nfrom airflow.operators import BashOperator, BranchPythonOperator, DummyOperator, \\\n    PostgresOperator, PythonOperator\nfrom datetime import date, datetime, time, timedelta\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\nfrom pprint import pprint\n\nimport base64\nimport boto.sqs\nimport boto.sns\nimport json\nimport logging\nimport psycopg2\nimport smtplib\nimport sys\nimport time\n\n# CONSTANTS\nSQS_QUEUE_NAME='cousteau-import-receiver-ip'\nREGION = 'us-west-2'\nDB_CHECK_QUERY='SELECT count(*) from message;'\nSNS_TOPIC_ARN_FOR_JOB_STATUS='***'\nEP_DB_CONNECT_STRING = \"****\"\nSLEEP_INTERVAL_SECONDS = 10\nMAX_WAIT_TIME_SECONDS_FOR_NEW_SQS_MESSAGE = SLEEP_INTERVAL_SECONDS * 30\nYESTERDAY = datetime.combine(datetime.today() - timedelta(2),\n                             datetime.min.time())\n\ndefault_args = {\n    'owner': 'airflow',\n    'depends_on_past': True,\n    'start_date': YESTERDAY,\n    'email': ['eng-ep@agari.com'],\n    'email_on_failure': True,\n    'email_on_retry': True,\n    'retries': 3,\n    'retry_interval': timedelta(seconds=5)\n}\ndag = DAG('ep_demo', start_date=YESTERDAY , default_args=default_args)\n\n\n# PRIVATE HELPER METHODS\ndef _check_for_parquet_file_branch_condition_internal(ds, **kwargs):\n    # TODO Implement this and remove the line below\n    found_file = True\n    if found_file:\n        return 'clean_up_db_tables_job'\n    else:\n        return 'send_sns_notification_no_parquet_data'\n\n\ndef _check_for_sqs_message_branch_condition_internal(ds, **kwargs):\n    conn = boto.sqs.connect_to_region(REGION)\n    q = conn.get_queue(SQS_QUEUE_NAME)\n    rs = q.get_messages()\n    found_message = True\n    start_time = datetime.now()\n    while rs is None or len(rs) <= 0:\n        elapsed_time_seconds = (datetime.now() - start_time).seconds\n        if elapsed_time_seconds >= MAX_WAIT_TIME_SECONDS_FOR_NEW_SQS_MESSAGE:\n            found_message = False\n            break;\n        logging.info(\"----- WAITING FOR A MESSAGE on SQS Queue : {}\".format(SQS_QUEUE_NAME))\n        time.sleep(SLEEP_INTERVAL_SECONDS)\n        rs = q.get_messages()\n    if found_message:\n        logging.info(\"----- FOUND A MESSAGE on SQS Queue : {}\".format(SQS_QUEUE_NAME))\n        return 'wait_for_new_data_in_db'\n    else:\n        logging.info(\"----- GAVE UP ON WAITING FOR A MESSAGE SQS Queue : {}\".format(SQS_QUEUE_NAME))\n        return 'send_sns_notification_no_spark_data'\n\ndef _wait_for_empty_queue_internal(ds, **kwargs):\n    conn = boto.sqs.connect_to_region(REGION)\n    q = conn.get_queue(SQS_QUEUE_NAME)\n    q_size = q.count()\n    while q_size > 0:\n        logging.info(\"----- WAITING FOR Queue {} to Drain\".format(SQS_QUEUE_NAME))\n        q = conn.get_queue(SQS_QUEUE_NAME)\n        q_size = q.count()\n        time.sleep(SLEEP_INTERVAL_SECONDS)\n    logging.info(\"----- Queue {} Empty\".format(SQS_QUEUE_NAME))\n    return True\n\ndef _wait_for_new_data_in_db_internal(ds, **kwargs):\n    db_conn = psycopg2.connect(EP_DB_CONNECT_STRING)\n    logging.info(\"----- Successfully Connected to database {}\".format(EP_DB_CONNECT_STRING))\n    cursor = db_conn.cursor()\n\n    # Establish a base line\n    cursor.execute(DB_CHECK_QUERY)\n    result = cursor.fetchone()\n    initial_row_count = int(result[0])\n    found_new_data = None\n\n    # Detect a change in the record count\n    while not found_new_data:\n        logging.info(\"----- WAITING FOR A NEW DATA in DB : base count = {}\".format(initial_row_count))\n        time.sleep(SLEEP_INTERVAL_SECONDS)\n        cursor.execute(DB_CHECK_QUERY)\n        result = cursor.fetchone()\n        new_row_count = int(result[0])\n        if(new_row_count > initial_row_count):\n            found_new_data = True\n    logging.info(\"----- FOUND A NEW DATA in DB : (base count ==> new count) = ({} ==> {})\".format(new_row_count, initial_row_count))\n    return True\n\n\ndef _send_sns_notification_flow_successful_internal(ds, **kwargs):\n    conn = boto.sns.connect_to_region(REGION)\n    message = 'Airflow EP Data Pipeline Loaded for Org 1 in TAD for {{ execution_date }}'\n    conn.publish(message=message, subject='Airflow Flow Complete', target_arn=SNS_TOPIC_ARN_FOR_JOB_STATUS,\n                )\n    logging.info(\"----- Sent SNS about FLOW Completion\")\n    return True\n\ndef _send_sns_notification_no_spark_data_internal(ds, **kwargs):\n    conn = boto.sns.connect_to_region(REGION)\n    message = 'Airflow EP Data pipeline flow completed with no new Spark data for {{ execution_date }}'\n    conn.publish(message=message, subject='Airflow Flow Complete with No New Data', target_arn=SNS_TOPIC_ARN_FOR_JOB_STATUS,\n                )\n    logging.info(\"----- Sent SNS about FLOW Completion\")\n    return True\n\ndef _send_sns_notification_no_parquet_data_internal(ds, **kwargs):\n    conn = boto.sns.connect_to_region(REGION)\n    message = 'Airflow EP Data pipeline flow completed with no matching Parquet data for {{ execution_date }}'\n    conn.publish(message=message, subject='Airflow Flow Complete with No matching Parquet Data', target_arn=SNS_TOPIC_ARN_FOR_JOB_STATUS,\n                )\n    logging.info(\"----- Sent SNS about FLOW Completion\")\n    return True\n\ndef _send_email_notification_flow_successful_internal(ds, **kwargs):\n    # TODO - Testing : Read Variables for all of these\n    me = \"****\"\n    you = \"***\"\n\n    # Create message container - the correct MIME type is multipart/alternative.\n    msg = MIMEMultipart('alternative')\n    msg['Subject'] = \"Airflow EP Data Load Successful [TAD]\"\n    msg['From'] = me\n    msg['To'] = you\n\n    # Create the body of the message (a plain-text and an HTML version).\n    text = \"Hi EP Folks!\\nThe EP Data Pipeline Loaded Data in the TAD environment for day: {}\".format(ds)\n    html = \"\"\"\\\n    <html>\n      <head></head>\n      <body bgcolor=\"e3ecfc\">\n        <p>Hi EP Folks!<br>\n           The EP Data Pipeline Loaded Data in the TAD environment for day: {} <br>\n           <a href=\"http://airflow.tad.agari.com:8080/admin/airflow/tree?num_runs=25&root=&dag_id=ep_demo\">Airflow</a>\n        </p>\n      </body>\n    </html>\n    \"\"\".format(ds)\n\n    # Record the MIME types of both parts - text/plain and text/html.\n    part1 = MIMEText(text, 'plain')\n    part2 = MIMEText(html, 'html')\n\n    # Attach parts into message container.\n    # According to RFC 2046, the last part of a multipart message, in this case\n    # the HTML message, is best and preferred.\n    msg.attach(part1)\n    msg.attach(part2)\n\n    # Send the message via local SMTP server.\n    s = smtplib.SMTP('smtp.mandrillapp.com')\n    # sendmail function takes 3 arguments: sender's address, recipient's address\n    # and message to send - here it is sent as one string.\n    s.login('*****')\n    s.sendmail(me, you, msg.as_string())\n    s.quit()\n    return\n\n# DAG Design\n# Step : Generate Parquet files -- this also consumes new upload files and moves them into archived\n#   Check : If no new Parquet file, send an email, else follow main processing branch\n# Step : Clean up target tables for specified time range (currently this is a dummy)\n# Step : Run Aggregate Spark Job -- this generates aggregate data from Parquet files\n#   Check : If no aggregate data, send an email, else follow main processing branch\n# Check : Check SQS for new messages\n# Check : Check the DB for new rows\n# Check : Wait for SQS to drain\n# Step : Send an email that the flow completed successfully\n\n# OPERATOR DAG DEFINITION\n\n# Operator : Pick up the latest collector uploads data and create intermediate Parquet files\ngenerate_new_parquet_files_spark_job = BashOperator(\n    task_id='generate_new_parquet_files_spark_job',\n    bash_command=\"ssh -i ~/.ssh/id_rsa_spark root@10.10.2.157 '. /root/.bash_profile; ~/run_ingest.sh'\",\n    dag=dag)\n\n# Branch Operator : Check that there is parquet data for this date range.\n# If not, send email\n# If so, proceed down main processing line\ncheck_for_parquet_file_branch_condition = BranchPythonOperator(\n    task_id='check_for_parquet_file_branch_condition',\n    provide_context=True,\n    python_callable=_check_for_parquet_file_branch_condition_internal,\n    dag=dag)\ncheck_for_parquet_file_branch_condition.set_upstream(generate_new_parquet_files_spark_job)\n\n# Operator : If no parquet file, send an email and terminate early\nsend_sns_notification_no_parquet_data = PythonOperator(\n    task_id='send_sns_notification_no_parquet_data',\n    provide_context=True,\n    python_callable=_send_sns_notification_no_parquet_data_internal,\n    dag=dag)\nsend_sns_notification_no_parquet_data.set_upstream(check_for_parquet_file_branch_condition)\n\n# Operator : Remove data from DB for this date range\n# TODO : Implement this\nclean_up_db_tables_job = DummyOperator(task_id='clean_up_db_tables_job', dag=dag)\nclean_up_db_tables_job.set_upstream(check_for_parquet_file_branch_condition)\n\n# Operator : Read the parquet data and generate aggregate data\n# Convert the end_date to epoch seconds\naggregate_data_spark_job = BashOperator(\n    task_id='aggregate_data_spark_job',\n    bash_command=\"ssh -i ~/.ssh/id_rsa_spark root@10.10.2.157 '. /root/.bash_profile; /root/run_aggregation.sh {{ macros.ds_format(macros.ds_add(ds, -3), '%Y-%m-%d', '%s') }} {{ execution_date.strftime('%s') }}'\" ,\n    dag=dag)\naggregate_data_spark_job.set_upstream(clean_up_db_tables_job)\n\n\n# Operator : Check a SQS queue for messages\ncheck_for_sqs_message_branch_condition = BranchPythonOperator(\n    task_id='check_for_sqs_message_branch_condition',\n    provide_context=True,\n    python_callable=_check_for_sqs_message_branch_condition_internal,\n    dag=dag)\ncheck_for_sqs_message_branch_condition.set_upstream(aggregate_data_spark_job)\n\n# Operator : Send SNS when flow that there is no new data from Spark\nsend_sns_notification_no_spark_data = PythonOperator(\n    task_id='send_sns_notification_no_spark_data',\n    provide_context=True,\n    python_callable=_send_sns_notification_no_spark_data_internal,\n    dag=dag)\nsend_sns_notification_no_spark_data.set_upstream(check_for_sqs_message_branch_condition)\n\n\n# Operator : Check for new data in DB\nwait_for_new_data_in_db = PythonOperator(\n    task_id='wait_for_new_data_in_db',\n    provide_context=True,\n    python_callable=_wait_for_new_data_in_db_internal,\n    dag=dag)\nwait_for_new_data_in_db.set_upstream(check_for_sqs_message_branch_condition)\n\n\n# Operator : Check for SQS Queue to be drained\nwait_for_empty_queue = PythonOperator(\n    task_id='wait_for_empty_queue',\n    provide_context=True,\n    python_callable=_wait_for_empty_queue_internal,\n    dag=dag)\nwait_for_empty_queue.set_upstream(wait_for_new_data_in_db)\n\n# Operator : Send SNS when flow completes successfully\n#send_sns_notification_flow_successful = PythonOperator(\n#    task_id='send_sns_notification_flow_successful',\n#    provide_context=True,\n#    python_callable=_send_sns_notification_flow_successful_internal,\n#    dag=dag)\n#send_sns_notification_flow_successful.set_upstream(wait_for_empty_queue)\n\n\n# Operator : Send Email when flow completes successfully\nsend_email_notification_flow_successful = PythonOperator(\n    task_id='send_email_notification_flow_successful',\n    provide_context=True,\n    python_callable=_send_email_notification_flow_successful_internal,\n    dag=dag)\nsend_email_notification_flow_successful.set_upstream(wait_for_empty_queue)\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122126671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122213398","html_url":"https://github.com/apache/airflow/issues/140#issuecomment-122213398","issue_url":"https://api.github.com/repos/apache/airflow/issues/140","id":122213398,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjIxMzM5OA==","user":{"login":"jlerman44","id":3408346,"node_id":"MDQ6VXNlcjM0MDgzNDY=","avatar_url":"https://avatars.githubusercontent.com/u/3408346?v=4","gravatar_id":"","url":"https://api.github.com/users/jlerman44","html_url":"https://github.com/jlerman44","followers_url":"https://api.github.com/users/jlerman44/followers","following_url":"https://api.github.com/users/jlerman44/following{/other_user}","gists_url":"https://api.github.com/users/jlerman44/gists{/gist_id}","starred_url":"https://api.github.com/users/jlerman44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlerman44/subscriptions","organizations_url":"https://api.github.com/users/jlerman44/orgs","repos_url":"https://api.github.com/users/jlerman44/repos","events_url":"https://api.github.com/users/jlerman44/events{/privacy}","received_events_url":"https://api.github.com/users/jlerman44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T08:20:54Z","updated_at":"2015-07-17T08:20:54Z","author_association":"NONE","body":"I also ran into this.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122213398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122313469","html_url":"https://github.com/apache/airflow/issues/150#issuecomment-122313469","issue_url":"https://api.github.com/repos/apache/airflow/issues/150","id":122313469,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMxMzQ2OQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T15:32:12Z","updated_at":"2015-07-17T15:32:12Z","author_association":"MEMBER","body":"The \"Ad Hoc Query\" tool wraps your query as a subquery with a 100k row limit to avoid taking down your browser. But it seems like your stack trace show an `InterfaceError` which seem related to how you connect to MySql. \n\nThe hook does very standard things using the normal dbapi calls. I'd review your connection settings, default schema, ...\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122313469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122320923","html_url":"https://github.com/apache/airflow/issues/149#issuecomment-122320923","issue_url":"https://api.github.com/repos/apache/airflow/issues/149","id":122320923,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMyMDkyMw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T15:47:05Z","updated_at":"2015-07-17T15:47:05Z","author_association":"MEMBER","body":"You said \"the task gets submitted by the scheduler to each queue currently registered in Redis\", do you mean exactly that, or that it gets submitted once to all **workers** regardless of their queue settings? I'd be surprised if a task instance gets submitted multiple times to different queues.\n\nYou may want to upgrade to `1.2` to rule that out. You'll have to run a single `airflow initdb` after upgrading.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122320923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122321350","html_url":"https://github.com/apache/airflow/issues/149#issuecomment-122321350","issue_url":"https://api.github.com/repos/apache/airflow/issues/149","id":122321350,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMyMTM1MA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T15:47:57Z","updated_at":"2015-07-17T15:47:57Z","author_association":"MEMBER","body":"I re-read the Airflow code around `default_queue` and this celery docs and everything seem ok as far as I can tell...:\nhttp://celery.readthedocs.org/en/latest/userguide/routing.html#routing-automatic\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122321350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122323807","html_url":"https://github.com/apache/airflow/issues/140#issuecomment-122323807","issue_url":"https://api.github.com/repos/apache/airflow/issues/140","id":122323807,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMyMzgwNw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T15:54:24Z","updated_at":"2015-07-17T15:54:24Z","author_association":"MEMBER","body":"Are you interested in having different schedule_interval within the same DAG, or you just got confused as to how to set it for your DAG?\n\nI think we're in a situation where I could allow heterogenous schedule_interval within a DAG by changing a single line of code, but it may be confusing to people as schedule times need to be aligned properly. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122323807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122328076","html_url":"https://github.com/apache/airflow/pull/146#issuecomment-122328076","issue_url":"https://api.github.com/repos/apache/airflow/issues/146","id":122328076,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMyODA3Ng==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T16:05:19Z","updated_at":"2015-07-17T16:05:19Z","author_association":"MEMBER","body":"Very nice refactor! This will make it very easy to extend the hook library and generalize the operators.\n\nYou should rename `BaseSqlHook` to `DbApiHook` as it is the standard that we're relying on for this hook:\nhttps://www.google.com/?gws_rd=ssl#q=dbapi+python\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122328076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122328191","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-122328191","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":122328191,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMyODE5MQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T16:05:56Z","updated_at":"2015-07-17T16:05:56Z","author_association":"CONTRIBUTOR","body":"Any idea when your next release will be?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122328191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122328697","html_url":"https://github.com/apache/airflow/issues/140#issuecomment-122328697","issue_url":"https://api.github.com/repos/apache/airflow/issues/140","id":122328697,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMyODY5Nw==","user":{"login":"jlerman44","id":3408346,"node_id":"MDQ6VXNlcjM0MDgzNDY=","avatar_url":"https://avatars.githubusercontent.com/u/3408346?v=4","gravatar_id":"","url":"https://api.github.com/users/jlerman44","html_url":"https://github.com/jlerman44","followers_url":"https://api.github.com/users/jlerman44/followers","following_url":"https://api.github.com/users/jlerman44/following{/other_user}","gists_url":"https://api.github.com/users/jlerman44/gists{/gist_id}","starred_url":"https://api.github.com/users/jlerman44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jlerman44/subscriptions","organizations_url":"https://api.github.com/users/jlerman44/orgs","repos_url":"https://api.github.com/users/jlerman44/repos","events_url":"https://api.github.com/users/jlerman44/events{/privacy}","received_events_url":"https://api.github.com/users/jlerman44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T16:08:43Z","updated_at":"2015-07-17T16:08:43Z","author_association":"NONE","body":"I am trying to set it for the DAG overall.\n\nFor some reason when I set the schedule_interval to every five minutes\n(instead of once a day) it appears only my first task is run repeatedly...\n\nI'll try to make a smaller example to illustrate the problem.\n\nJosh\n\nOn Friday, July 17, 2015, Maxime Beauchemin notifications@github.com\nwrote:\n\n> Are you interested in having different schedule_interval within the same\n> DAG, or you just got confused as to how to set it for your DAG?\n> \n> I think we're in a situation where I could allow heterogenous\n> schedule_interval within a DAG by changing a single line of code, but it\n> may be confusing to people as schedule times need to be aligned properly.\n> \n> \n> Reply to this email directly or view it on GitHub\n> https://github.com/airbnb/airflow/issues/140#issuecomment-122323807.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122328697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122330244","html_url":"https://github.com/apache/airflow/pull/146#issuecomment-122330244","issue_url":"https://api.github.com/repos/apache/airflow/issues/146","id":122330244,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMzMDI0NA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T16:15:22Z","updated_at":"2015-07-17T16:38:01Z","author_association":"MEMBER","body":"It'd be nice to also generalize `__init__` and `get_conn`, though I'd like for them to still use different `conn_id` attributes (as `mysql_conn_id`, `postgres_conn_id`, `presto_conn_id`) because of the way it allows us to define them independently in `default_args` when writing a pipeline. If we were to call them `conn_id` everywhere, we couldn't do this (and it would break backward compatibility).\n\nSo I was thinking there could be a class level attribute called `conn_id_attr`, set to `= conn_id` in the Base class. Then the Base `__init__` and `get_conn` would use `getattr(self.conn_id_attr)` and setattr to refer to the conn_id properly. `__init__` would need to use `**kwargs` to capture arbitrary `.*conn_id` I could push a commit on top of your branch if you don't understand what I'm trying to explain here... \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122330244/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122335658","html_url":"https://github.com/apache/airflow/issues/137#issuecomment-122335658","issue_url":"https://api.github.com/repos/apache/airflow/issues/137","id":122335658,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMzNTY1OA==","user":{"login":"kevinmandich","id":8010735,"node_id":"MDQ6VXNlcjgwMTA3MzU=","avatar_url":"https://avatars.githubusercontent.com/u/8010735?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinmandich","html_url":"https://github.com/kevinmandich","followers_url":"https://api.github.com/users/kevinmandich/followers","following_url":"https://api.github.com/users/kevinmandich/following{/other_user}","gists_url":"https://api.github.com/users/kevinmandich/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinmandich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinmandich/subscriptions","organizations_url":"https://api.github.com/users/kevinmandich/orgs","repos_url":"https://api.github.com/users/kevinmandich/repos","events_url":"https://api.github.com/users/kevinmandich/events{/privacy}","received_events_url":"https://api.github.com/users/kevinmandich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T16:38:26Z","updated_at":"2015-07-17T16:38:26Z","author_association":"NONE","body":"Does your `airflow_maintenance` DAG just delete from this table?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122335658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122338889","html_url":"https://github.com/apache/airflow/issues/148#issuecomment-122338889","issue_url":"https://api.github.com/repos/apache/airflow/issues/148","id":122338889,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjMzODg4OQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T16:49:02Z","updated_at":"2015-07-17T16:49:02Z","author_association":"MEMBER","body":"Unfortunately there's no easy way to do this now. The absolute easiest would be to add a `on_failure_callback` and on `on_retry_callback` to BaseOperator. These would be expected to be python callables (not operator objects) to which I could pass the context (much like the operators `execute` method receive).\n\nWould that work for you?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122338889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122355893","html_url":"https://github.com/apache/airflow/issues/148#issuecomment-122355893","issue_url":"https://api.github.com/repos/apache/airflow/issues/148","id":122355893,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM1NTg5Mw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T17:53:02Z","updated_at":"2015-07-17T17:53:02Z","author_association":"MEMBER","body":"Here's a first draft, I'm going to add a few unittests and this will make it into 1.3 \nhttps://github.com/airbnb/airflow/pull/151\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122355893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122356404","html_url":"https://github.com/apache/airflow/pull/151#issuecomment-122356404","issue_url":"https://api.github.com/repos/apache/airflow/issues/151","id":122356404,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM1NjQwNA==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T17:54:49Z","updated_at":"2015-07-17T17:54:49Z","author_association":"CONTRIBUTOR","body":":+1: for more generic callbacks to handle various infra.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122356404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122356761","html_url":"https://github.com/apache/airflow/issues/140#issuecomment-122356761","issue_url":"https://api.github.com/repos/apache/airflow/issues/140","id":122356761,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM1Njc2MQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T17:55:52Z","updated_at":"2015-07-17T17:55:52Z","author_association":"MEMBER","body":"I haven't done any testing under an hour but it should work too. 5 minutes is borderline getting into streaming territory though. You may want to consider things like Storm or Spark Streaming if you need close to realtime.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122356761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122357416","html_url":"https://github.com/apache/airflow/issues/137#issuecomment-122357416","issue_url":"https://api.github.com/repos/apache/airflow/issues/137","id":122357416,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM1NzQxNg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T17:59:10Z","updated_at":"2015-07-17T17:59:10Z","author_association":"MEMBER","body":"I believe I mark them pessimistically as failed. \n\n`airflow_maintenance` also archives rows from the `task_instance` table based on jobs that got started more than 90 days ago into `task_instance_archive`\n\nBut you don't need to worry about archiving until you get a very large table, and even then...\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122357416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122364352","html_url":"https://github.com/apache/airflow/issues/148#issuecomment-122364352","issue_url":"https://api.github.com/repos/apache/airflow/issues/148","id":122364352,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM2NDM1Mg==","user":{"login":"smarden1","id":549155,"node_id":"MDQ6VXNlcjU0OTE1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549155?v=4","gravatar_id":"","url":"https://api.github.com/users/smarden1","html_url":"https://github.com/smarden1","followers_url":"https://api.github.com/users/smarden1/followers","following_url":"https://api.github.com/users/smarden1/following{/other_user}","gists_url":"https://api.github.com/users/smarden1/gists{/gist_id}","starred_url":"https://api.github.com/users/smarden1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smarden1/subscriptions","organizations_url":"https://api.github.com/users/smarden1/orgs","repos_url":"https://api.github.com/users/smarden1/repos","events_url":"https://api.github.com/users/smarden1/events{/privacy}","received_events_url":"https://api.github.com/users/smarden1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T18:20:59Z","updated_at":"2015-07-17T18:20:59Z","author_association":"CONTRIBUTOR","body":"I left some comments. Thanks for doing this so fast! I really appreciate it\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122364352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122364748","html_url":"https://github.com/apache/airflow/issues/137#issuecomment-122364748","issue_url":"https://api.github.com/repos/apache/airflow/issues/137","id":122364748,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM2NDc0OA==","user":{"login":"kevinmandich","id":8010735,"node_id":"MDQ6VXNlcjgwMTA3MzU=","avatar_url":"https://avatars.githubusercontent.com/u/8010735?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinmandich","html_url":"https://github.com/kevinmandich","followers_url":"https://api.github.com/users/kevinmandich/followers","following_url":"https://api.github.com/users/kevinmandich/following{/other_user}","gists_url":"https://api.github.com/users/kevinmandich/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinmandich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinmandich/subscriptions","organizations_url":"https://api.github.com/users/kevinmandich/orgs","repos_url":"https://api.github.com/users/kevinmandich/repos","events_url":"https://api.github.com/users/kevinmandich/events{/privacy}","received_events_url":"https://api.github.com/users/kevinmandich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T18:22:24Z","updated_at":"2015-07-17T18:22:24Z","author_association":"NONE","body":"Gotcha. Thanks for the info.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122364748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122372816","html_url":"https://github.com/apache/airflow/pull/147#issuecomment-122372816","issue_url":"https://api.github.com/repos/apache/airflow/issues/147","id":122372816,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM3MjgxNg==","user":{"login":"smarden1","id":549155,"node_id":"MDQ6VXNlcjU0OTE1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549155?v=4","gravatar_id":"","url":"https://api.github.com/users/smarden1","html_url":"https://github.com/smarden1","followers_url":"https://api.github.com/users/smarden1/followers","following_url":"https://api.github.com/users/smarden1/following{/other_user}","gists_url":"https://api.github.com/users/smarden1/gists{/gist_id}","starred_url":"https://api.github.com/users/smarden1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smarden1/subscriptions","organizations_url":"https://api.github.com/users/smarden1/orgs","repos_url":"https://api.github.com/users/smarden1/repos","events_url":"https://api.github.com/users/smarden1/events{/privacy}","received_events_url":"https://api.github.com/users/smarden1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T18:56:13Z","updated_at":"2015-07-17T18:56:13Z","author_association":"CONTRIBUTOR","body":"how about that?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122372816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122376076","html_url":"https://github.com/apache/airflow/pull/147#issuecomment-122376076","issue_url":"https://api.github.com/repos/apache/airflow/issues/147","id":122376076,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM3NjA3Ng==","user":{"login":"artwr","id":1518713,"node_id":"MDQ6VXNlcjE1MTg3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/1518713?v=4","gravatar_id":"","url":"https://api.github.com/users/artwr","html_url":"https://github.com/artwr","followers_url":"https://api.github.com/users/artwr/followers","following_url":"https://api.github.com/users/artwr/following{/other_user}","gists_url":"https://api.github.com/users/artwr/gists{/gist_id}","starred_url":"https://api.github.com/users/artwr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/artwr/subscriptions","organizations_url":"https://api.github.com/users/artwr/orgs","repos_url":"https://api.github.com/users/artwr/repos","events_url":"https://api.github.com/users/artwr/events{/privacy}","received_events_url":"https://api.github.com/users/artwr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T19:08:57Z","updated_at":"2015-07-17T19:08:57Z","author_association":"CONTRIBUTOR","body":"Looks good to me.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122376076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122379018","html_url":"https://github.com/apache/airflow/issues/148#issuecomment-122379018","issue_url":"https://api.github.com/repos/apache/airflow/issues/148","id":122379018,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjM3OTAxOA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T19:14:31Z","updated_at":"2015-07-17T19:14:31Z","author_association":"MEMBER","body":"It's been on my mind for a while and just thought of a very easy implementation that covers pretty much all use cases.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122379018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122426545","html_url":"https://github.com/apache/airflow/pull/152#issuecomment-122426545","issue_url":"https://api.github.com/repos/apache/airflow/issues/152","id":122426545,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQyNjU0NQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T21:39:19Z","updated_at":"2015-07-17T21:39:19Z","author_association":"MEMBER","body":"Sorry I'm not adding a dependency on a project that adds little value and has only a handful of stars / history\n![img](http://www.reactiongifs.com/r/d9.gif)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122426545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122433358","html_url":"https://github.com/apache/airflow/pull/146#issuecomment-122433358","issue_url":"https://api.github.com/repos/apache/airflow/issues/146","id":122433358,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQzMzM1OA==","user":{"login":"smarden1","id":549155,"node_id":"MDQ6VXNlcjU0OTE1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549155?v=4","gravatar_id":"","url":"https://api.github.com/users/smarden1","html_url":"https://github.com/smarden1","followers_url":"https://api.github.com/users/smarden1/followers","following_url":"https://api.github.com/users/smarden1/following{/other_user}","gists_url":"https://api.github.com/users/smarden1/gists{/gist_id}","starred_url":"https://api.github.com/users/smarden1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smarden1/subscriptions","organizations_url":"https://api.github.com/users/smarden1/orgs","repos_url":"https://api.github.com/users/smarden1/repos","events_url":"https://api.github.com/users/smarden1/events{/privacy}","received_events_url":"https://api.github.com/users/smarden1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T22:17:31Z","updated_at":"2015-07-17T22:17:31Z","author_association":"CONTRIBUTOR","body":"That makes sense -- I gave it a try... let me know what you think...\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122433358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122444513","html_url":"https://github.com/apache/airflow/issues/148#issuecomment-122444513","issue_url":"https://api.github.com/repos/apache/airflow/issues/148","id":122444513,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQ0NDUxMw==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T23:21:53Z","updated_at":"2015-07-17T23:22:07Z","author_association":"CONTRIBUTOR","body":"I could also use such an operator! +1\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122444513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122450918","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-122450918","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":122450918,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQ1MDkxOA==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-17T23:37:20Z","updated_at":"2015-07-17T23:37:20Z","author_association":"CONTRIBUTOR","body":"Tested it with the following code and it works! \n\n```\ndef wait_here_for_sometime(ds, **kwargs):    \n    print \" GOING TO SLEEP\"\n    time.sleep( 15 )\n    print \" AWAKE\"\n\ntest_me = PythonOperator(\n    task_id='test_me',\n    execution_timeout=timedelta(seconds=2),\n    provide_context=True,\n    python_callable=wait_here_for_sometime,\n    dag=dag)\n```\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122450918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122463558","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-122463558","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":122463558,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQ2MzU1OA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-18T01:03:11Z","updated_at":"2015-07-18T01:03:11Z","author_association":"MEMBER","body":"I think I'll release this along with the new callbacks I'm validating now, probably over the weekend or early next week.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122463558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122469134","html_url":"https://github.com/apache/airflow/issues/138#issuecomment-122469134","issue_url":"https://api.github.com/repos/apache/airflow/issues/138","id":122469134,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQ2OTEzNA==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-18T02:11:43Z","updated_at":"2015-07-18T02:11:43Z","author_association":"CONTRIBUTOR","body":"Cool. I've switched to just pulling the latest code from git in our QA env and will do the same in prod\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122469134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122480088","html_url":"https://github.com/apache/airflow/issues/148#issuecomment-122480088","issue_url":"https://api.github.com/repos/apache/airflow/issues/148","id":122480088,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQ4MDA4OA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-18T03:56:53Z","updated_at":"2015-07-18T03:56:53Z","author_association":"MEMBER","body":"The implementation ended up being a set of callbacks (it's not an operator, and does not become an actual node in the DAG) that run atomically with the task. One on failure, one on retries, and I threw one in on success. You could use that to for any purpose really, from very specific use cases to very high level and across the board like gathering specific operational metadata or integrating with other systems.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122480088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122480405","html_url":"https://github.com/apache/airflow/pull/147#issuecomment-122480405","issue_url":"https://api.github.com/repos/apache/airflow/issues/147","id":122480405,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjQ4MDQwNQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-18T04:09:04Z","updated_at":"2015-07-18T04:09:04Z","author_association":"MEMBER","body":"I was just being nit picky, that's totally good like this.\n![img](http://i.imgur.com/DbncdEc.gif)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122480405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122588764","html_url":"https://github.com/apache/airflow/issues/148#issuecomment-122588764","issue_url":"https://api.github.com/repos/apache/airflow/issues/148","id":122588764,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjU4ODc2NA==","user":{"login":"smarden1","id":549155,"node_id":"MDQ6VXNlcjU0OTE1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549155?v=4","gravatar_id":"","url":"https://api.github.com/users/smarden1","html_url":"https://github.com/smarden1","followers_url":"https://api.github.com/users/smarden1/followers","following_url":"https://api.github.com/users/smarden1/following{/other_user}","gists_url":"https://api.github.com/users/smarden1/gists{/gist_id}","starred_url":"https://api.github.com/users/smarden1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smarden1/subscriptions","organizations_url":"https://api.github.com/users/smarden1/orgs","repos_url":"https://api.github.com/users/smarden1/repos","events_url":"https://api.github.com/users/smarden1/events{/privacy}","received_events_url":"https://api.github.com/users/smarden1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-18T19:53:04Z","updated_at":"2015-07-18T19:53:04Z","author_association":"CONTRIBUTOR","body":":+1: \n\nThanks for the quick implementation!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122588764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122604213","html_url":"https://github.com/apache/airflow/pull/154#issuecomment-122604213","issue_url":"https://api.github.com/repos/apache/airflow/issues/154","id":122604213,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjYwNDIxMw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-18T23:17:18Z","updated_at":"2015-07-18T23:17:18Z","author_association":"MEMBER","body":"![img](http://media.giphy.com/media/26BkMadvsqSlAJdkY/giphy.gif)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122604213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122819072","html_url":"https://github.com/apache/airflow/issues/149#issuecomment-122819072","issue_url":"https://api.github.com/repos/apache/airflow/issues/149","id":122819072,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjgxOTA3Mg==","user":{"login":"jomar83","id":13132734,"node_id":"MDQ6VXNlcjEzMTMyNzM0","avatar_url":"https://avatars.githubusercontent.com/u/13132734?v=4","gravatar_id":"","url":"https://api.github.com/users/jomar83","html_url":"https://github.com/jomar83","followers_url":"https://api.github.com/users/jomar83/followers","following_url":"https://api.github.com/users/jomar83/following{/other_user}","gists_url":"https://api.github.com/users/jomar83/gists{/gist_id}","starred_url":"https://api.github.com/users/jomar83/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jomar83/subscriptions","organizations_url":"https://api.github.com/users/jomar83/orgs","repos_url":"https://api.github.com/users/jomar83/repos","events_url":"https://api.github.com/users/jomar83/events{/privacy}","received_events_url":"https://api.github.com/users/jomar83/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T09:09:57Z","updated_at":"2015-07-20T09:10:44Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick response.\n\nTo clarify, we have a dedicated worker listening to a specific queue (airflow worker -q \"specialqueue\").\nNow  the issue here is that every task that goes into the default queue also ends up in the \"specialqueue\" (yes, it isn't just handled by the worker, it really ends up in the redis list for the specialqueue). The way to resolve this is to set different default queues for both workers. That's however not the best solution in case we would like the worker to handle specific tasks as well as the ones targeting the default queue.\n\nCan you explain that behaviour?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122819072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122961339","html_url":"https://github.com/apache/airflow/issues/144#issuecomment-122961339","issue_url":"https://api.github.com/repos/apache/airflow/issues/144","id":122961339,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMjk2MTMzOQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T17:27:45Z","updated_at":"2015-07-20T17:27:45Z","author_association":"CONTRIBUTOR","body":"Any updates?\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/122961339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123000111","html_url":"https://github.com/apache/airflow/issues/149#issuecomment-123000111","issue_url":"https://api.github.com/repos/apache/airflow/issues/149","id":123000111,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzAwMDExMQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T19:33:30Z","updated_at":"2015-07-20T19:33:30Z","author_association":"MEMBER","body":"So if you go to the \"Task Details\" view in the UI for a task exhibiting this issue, what queue do you see? \"default\"?\n\nAre you still on `1.1`? Can you upgrade to `1.2`? And confirm it's still happening?\n\nWe are using the queuing feature in production at Airbnb and it's been reliable, I haven't seen any tasks go to the wrong worker...\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123000111/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123002550","html_url":"https://github.com/apache/airflow/pull/155#issuecomment-123002550","issue_url":"https://api.github.com/repos/apache/airflow/issues/155","id":123002550,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzAwMjU1MA==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T19:40:32Z","updated_at":"2015-07-20T19:40:32Z","author_association":"MEMBER","body":"Very nice. This opens all of the JDBC doors. Would it make sense to generalize and simply call the hook JdbcHook? The operator JdbcOperator? It would have to receive the driver information as a param but I think that's all it would take...\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123002550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123036536","html_url":"https://github.com/apache/airflow/issues/157#issuecomment-123036536","issue_url":"https://api.github.com/repos/apache/airflow/issues/157","id":123036536,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzAzNjUzNg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T21:00:52Z","updated_at":"2015-07-20T21:00:52Z","author_association":"MEMBER","body":"The jobs are used for anything that derives BaseJob (SchedulerJob, BackfillJob, LocalTaskJob, ...).\n\nI think when you CTRL-C kill the scheduler, it may leave a \"RUNNING\" entry in the DB.\n\nI'm not sure what job id 14 is about... \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123036536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123037739","html_url":"https://github.com/apache/airflow/pull/156#issuecomment-123037739","issue_url":"https://api.github.com/repos/apache/airflow/issues/156","id":123037739,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzAzNzczOQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T21:03:18Z","updated_at":"2015-07-20T21:03:18Z","author_association":"MEMBER","body":"Oops.\n![img](http://www.reactiongifs.com/r/whid.gif)\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123037739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123059749","html_url":"https://github.com/apache/airflow/issues/157#issuecomment-123059749","issue_url":"https://api.github.com/repos/apache/airflow/issues/157","id":123059749,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzA1OTc0OQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T21:58:24Z","updated_at":"2015-07-20T22:14:47Z","author_association":"CONTRIBUTOR","body":"I have been 'CTRL-C'ing the scheduler very liberally -- I should SIGTERM it, assuming that the processes catch that signal and terminate cleanly, including cleaning up the DB of any running jobs on those processes? Asked another way, what is the correct way to terminate the scheduler and or backfill jobs so that they do not leave tasks in the running state forever?\n\nIn my \"monit\" automation, I am SIGTERM'ing both the webserver and scheduler processes, so assume that is the clean way to shutdown. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123059749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123059975","html_url":"https://github.com/apache/airflow/issues/144#issuecomment-123059975","issue_url":"https://api.github.com/repos/apache/airflow/issues/144","id":123059975,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzA1OTk3NQ==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T21:58:44Z","updated_at":"2015-07-20T21:58:44Z","author_association":"MEMBER","body":"Did it happen using the scheduler or running a backfill command?\n\nI think I may need to update the backfill logic to take the \"skipped\" status into account\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123059975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123061011","html_url":"https://github.com/apache/airflow/issues/144#issuecomment-123061011","issue_url":"https://api.github.com/repos/apache/airflow/issues/144","id":123061011,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzA2MTAxMQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T22:01:31Z","updated_at":"2015-07-20T22:01:31Z","author_association":"CONTRIBUTOR","body":"Backfill command.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123061011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123063586","html_url":"https://github.com/apache/airflow/issues/144#issuecomment-123063586","issue_url":"https://api.github.com/repos/apache/airflow/issues/144","id":123063586,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzA2MzU4Ng==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T22:08:44Z","updated_at":"2015-07-20T22:08:44Z","author_association":"MEMBER","body":"https://github.com/airbnb/airflow/pull/158 should fix prevent this from happening, merging as soon as the unit tests pass\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123063586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123085817","html_url":"https://github.com/apache/airflow/pull/159#issuecomment-123085817","issue_url":"https://api.github.com/repos/apache/airflow/issues/159","id":123085817,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzA4NTgxNw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T23:16:11Z","updated_at":"2015-07-20T23:16:11Z","author_association":"MEMBER","body":"Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123085817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123087079","html_url":"https://github.com/apache/airflow/issues/157#issuecomment-123087079","issue_url":"https://api.github.com/repos/apache/airflow/issues/157","id":123087079,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzA4NzA3OQ==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T23:21:29Z","updated_at":"2015-07-20T23:21:29Z","author_association":"CONTRIBUTOR","body":"We are using the LocalScheduler, so I am guessing those tasks are running as LocalTaskJobs. This turned out to be one of our model building jobs. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123087079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123093226","html_url":"https://github.com/apache/airflow/issues/157#issuecomment-123093226","issue_url":"https://api.github.com/repos/apache/airflow/issues/157","id":123093226,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzA5MzIyNg==","user":{"login":"r39132","id":581734,"node_id":"MDQ6VXNlcjU4MTczNA==","avatar_url":"https://avatars.githubusercontent.com/u/581734?v=4","gravatar_id":"","url":"https://api.github.com/users/r39132","html_url":"https://github.com/r39132","followers_url":"https://api.github.com/users/r39132/followers","following_url":"https://api.github.com/users/r39132/following{/other_user}","gists_url":"https://api.github.com/users/r39132/gists{/gist_id}","starred_url":"https://api.github.com/users/r39132/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/r39132/subscriptions","organizations_url":"https://api.github.com/users/r39132/orgs","repos_url":"https://api.github.com/users/r39132/repos","events_url":"https://api.github.com/users/r39132/events{/privacy}","received_events_url":"https://api.github.com/users/r39132/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-20T23:36:02Z","updated_at":"2015-07-20T23:36:25Z","author_association":"CONTRIBUTOR","body":"But, to my original question, isn't dag_id required? Why would it be empty? I guess I'm asking whether this is a bug. In my case, I have not subclassed BaseJob, so the fact that the job view is not displaying dag_ids seems like a bug.\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123093226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123101253","html_url":"https://github.com/apache/airflow/issues/157#issuecomment-123101253","issue_url":"https://api.github.com/repos/apache/airflow/issues/157","id":123101253,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzEwMTI1Mw==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T00:07:19Z","updated_at":"2015-07-21T00:07:19Z","author_association":"MEMBER","body":"It's expected that SchedulerJob instances would have an empty `dag_id` column. \n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123101253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123111716","html_url":"https://github.com/apache/airflow/pull/146#issuecomment-123111716","issue_url":"https://api.github.com/repos/apache/airflow/issues/146","id":123111716,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzExMTcxNg==","user":{"login":"mistercrunch","id":487433,"node_id":"MDQ6VXNlcjQ4NzQzMw==","avatar_url":"https://avatars.githubusercontent.com/u/487433?v=4","gravatar_id":"","url":"https://api.github.com/users/mistercrunch","html_url":"https://github.com/mistercrunch","followers_url":"https://api.github.com/users/mistercrunch/followers","following_url":"https://api.github.com/users/mistercrunch/following{/other_user}","gists_url":"https://api.github.com/users/mistercrunch/gists{/gist_id}","starred_url":"https://api.github.com/users/mistercrunch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mistercrunch/subscriptions","organizations_url":"https://api.github.com/users/mistercrunch/orgs","repos_url":"https://api.github.com/users/mistercrunch/repos","events_url":"https://api.github.com/users/mistercrunch/events{/privacy}","received_events_url":"https://api.github.com/users/mistercrunch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T00:45:09Z","updated_at":"2015-07-21T00:45:09Z","author_association":"MEMBER","body":"I ran the unit tests and it succeeded. I'm aiming at merging this tomorrow morning.\n\nThank you for your contribution!\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123111716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123117712","html_url":"https://github.com/apache/airflow/pull/146#issuecomment-123117712","issue_url":"https://api.github.com/repos/apache/airflow/issues/146","id":123117712,"node_id":"MDEyOklzc3VlQ29tbWVudDEyMzExNzcxMg==","user":{"login":"smarden1","id":549155,"node_id":"MDQ6VXNlcjU0OTE1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/549155?v=4","gravatar_id":"","url":"https://api.github.com/users/smarden1","html_url":"https://github.com/smarden1","followers_url":"https://api.github.com/users/smarden1/followers","following_url":"https://api.github.com/users/smarden1/following{/other_user}","gists_url":"https://api.github.com/users/smarden1/gists{/gist_id}","starred_url":"https://api.github.com/users/smarden1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/smarden1/subscriptions","organizations_url":"https://api.github.com/users/smarden1/orgs","repos_url":"https://api.github.com/users/smarden1/repos","events_url":"https://api.github.com/users/smarden1/events{/privacy}","received_events_url":"https://api.github.com/users/smarden1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-07-21T01:05:31Z","updated_at":"2015-07-21T01:05:31Z","author_association":"CONTRIBUTOR","body":"great! thanks for the help\n","reactions":{"url":"https://api.github.com/repos/apache/airflow/issues/comments/123117712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]