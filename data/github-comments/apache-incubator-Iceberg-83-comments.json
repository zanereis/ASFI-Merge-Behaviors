[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803265548","html_url":"https://github.com/apache/iceberg/pull/1100#issuecomment-803265548","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1100","id":803265548,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzI2NTU0OA==","user":{"login":"Jiayi-Liao","id":13514599,"node_id":"MDQ6VXNlcjEzNTE0NTk5","avatar_url":"https://avatars.githubusercontent.com/u/13514599?v=4","gravatar_id":"","url":"https://api.github.com/users/Jiayi-Liao","html_url":"https://github.com/Jiayi-Liao","followers_url":"https://api.github.com/users/Jiayi-Liao/followers","following_url":"https://api.github.com/users/Jiayi-Liao/following{/other_user}","gists_url":"https://api.github.com/users/Jiayi-Liao/gists{/gist_id}","starred_url":"https://api.github.com/users/Jiayi-Liao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jiayi-Liao/subscriptions","organizations_url":"https://api.github.com/users/Jiayi-Liao/orgs","repos_url":"https://api.github.com/users/Jiayi-Liao/repos","events_url":"https://api.github.com/users/Jiayi-Liao/events{/privacy}","received_events_url":"https://api.github.com/users/Jiayi-Liao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-20T07:27:35Z","updated_at":"2021-03-20T07:27:35Z","author_association":"NONE","body":"Sorry I'm too busy and can't spare enough time to continue my work due to some changes on my career. I would be glad if anyone can continue this based on the current progress.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803265548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803503776","html_url":"https://github.com/apache/iceberg/pull/1100#issuecomment-803503776","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1100","id":803503776,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzUwMzc3Ng==","user":{"login":"xinbinhuang","id":27927454,"node_id":"MDQ6VXNlcjI3OTI3NDU0","avatar_url":"https://avatars.githubusercontent.com/u/27927454?v=4","gravatar_id":"","url":"https://api.github.com/users/xinbinhuang","html_url":"https://github.com/xinbinhuang","followers_url":"https://api.github.com/users/xinbinhuang/followers","following_url":"https://api.github.com/users/xinbinhuang/following{/other_user}","gists_url":"https://api.github.com/users/xinbinhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/xinbinhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinbinhuang/subscriptions","organizations_url":"https://api.github.com/users/xinbinhuang/orgs","repos_url":"https://api.github.com/users/xinbinhuang/repos","events_url":"https://api.github.com/users/xinbinhuang/events{/privacy}","received_events_url":"https://api.github.com/users/xinbinhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-21T03:01:00Z","updated_at":"2021-03-21T03:07:01Z","author_association":"CONTRIBUTOR","body":"@Jiayi-Liao Thanks for the response. I think I can take it over and continue the work if other people don't mind. I am currently evaluating Iceberg for my team, so I will more or less be making a docker demo anyway... And it will be great if I can get some feedback from the community at the same time","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803503776/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803592326","html_url":"https://github.com/apache/iceberg/issues/1502#issuecomment-803592326","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1502","id":803592326,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzU5MjMyNg==","user":{"login":"springle","id":3150844,"node_id":"MDQ6VXNlcjMxNTA4NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/3150844?v=4","gravatar_id":"","url":"https://api.github.com/users/springle","html_url":"https://github.com/springle","followers_url":"https://api.github.com/users/springle/followers","following_url":"https://api.github.com/users/springle/following{/other_user}","gists_url":"https://api.github.com/users/springle/gists{/gist_id}","starred_url":"https://api.github.com/users/springle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/springle/subscriptions","organizations_url":"https://api.github.com/users/springle/orgs","repos_url":"https://api.github.com/users/springle/repos","events_url":"https://api.github.com/users/springle/events{/privacy}","received_events_url":"https://api.github.com/users/springle/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-21T14:31:31Z","updated_at":"2021-03-21T14:31:31Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue - this is with Iceberg 11 and Spark 2.4, and I think the catalog in the link above ends up getting loaded from [here](https://github.com/apache/iceberg/blob/629f7ad7c5fbc16da1e0752f5d170889d4e761b4/spark2/src/main/java/org/apache/iceberg/spark/source/CustomCatalogs.java#L89). I see what you're saying about the catalog cache being tied to a Spark session, but maybe using `softValues` lets it get cleaned up prematurely? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803592326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803775621","html_url":"https://github.com/apache/iceberg/issues/1766#issuecomment-803775621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1766","id":803775621,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzc3NTYyMQ==","user":{"login":"stayrascal","id":13775334,"node_id":"MDQ6VXNlcjEzNzc1MzM0","avatar_url":"https://avatars.githubusercontent.com/u/13775334?v=4","gravatar_id":"","url":"https://api.github.com/users/stayrascal","html_url":"https://github.com/stayrascal","followers_url":"https://api.github.com/users/stayrascal/followers","following_url":"https://api.github.com/users/stayrascal/following{/other_user}","gists_url":"https://api.github.com/users/stayrascal/gists{/gist_id}","starred_url":"https://api.github.com/users/stayrascal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stayrascal/subscriptions","organizations_url":"https://api.github.com/users/stayrascal/orgs","repos_url":"https://api.github.com/users/stayrascal/repos","events_url":"https://api.github.com/users/stayrascal/events{/privacy}","received_events_url":"https://api.github.com/users/stayrascal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T05:37:41Z","updated_at":"2021-03-22T05:37:41Z","author_association":"NONE","body":"Hi, just given an example here follow the [document](https://iceberg.apache.org/aws/), and meet a 'unknown' classification issue in Glue data catalog.\r\n\r\n1. Start Spark SQL\r\n```\r\nspark-sql --packages org.apache.iceberg:iceberg-spark3-runtime:0.11.0,software.amazon.awssdk:bundle:2.15.40,software.amazon.awssdk:url-connection-client:2.15.40 \\\r\n    --conf spark.sql.catalog.my_catalog=org.apache.iceberg.spark.SparkCatalog \\\r\n    --conf spark.sql.catalog.my_catalog.warehouse=s3://xxxx/lake_house/iceberg/spark \\\r\n    --conf spark.sql.catalog.my_catalog.catalog-impl=org.apache.iceberg.aws.glue.GlueCatalog \\\r\n    --conf spark.sql.catalog.my_catalog.lock-impl=org.apache.iceberg.aws.glue.DynamoLockManager \\\r\n    --conf spark.sql.catalog.my_catalog.lock.table=myGlueLockTable\r\n```\r\n\r\n2. Create table and insert data:\r\n```\r\nCREATE TABLE my_catalog.exist_db.table_demo (id bigint, data string) USING iceberg;\r\nINSERT INTO my_catalog.exist_db.table_demo VALUES (1, 'a'), (2, 'b'), (3, 'c');\r\n```\r\n\r\n3. When Query table from AWS glue data catalog console, it look like missed the `storageDescriptor` filed about the table schema. didn't see where the [GuleCatalog](https://github.com/apache/iceberg/blob/ad78cc6cf2/aws/src/main/java/org/apache/iceberg/aws/glue/GlueTableOperations.java#L109) set the storage descriptor before create table by `Glue` client\r\n```\r\n{\r\n   \"actionResponses\":[\r\n      {\r\n         \"action\":\"com.amazonaws.console.glue.awssdk.shared.context.AWSGlueContext.getTable\",\r\n         \"data\":{\r\n            xxxxx\r\n            },\r\n            \"sdkHttpMetadata\":{\r\n               xxxx\r\n               },\r\n               \"httpHeaders\":{\r\n                 xxxx\r\n               },\r\n               \"httpStatusCode\":200\r\n            },\r\n            \"table\":{\r\n               \"name\":\"table_demo\",\r\n               \"databaseName\":\"exist_db\",\r\n               \"createTime\":1616384916000,\r\n               \"updateTime\":1616384939000,\r\n               \"retention\":0,\r\n               \"tableType\":\"EXTERNAL_TABLE\",\r\n               \"parameters\":{\r\n                  \"previous_metadata_location\":\"s3://xxxxxxx/lake_house/iceberg/spark/exist_db.db/table_demo/metadata/00000-d7d65077-55a9-4b3b-b812-7ae34a4687be.metadata.json\",\r\n                  \"metadata_location\":\"s3://xxxxxxx/lake_house/iceberg/spark/exist_db.db/table_demo/metadata/00001-3e4ed2c5-fe12-4d04-ab45-74f208afce71.metadata.json\",\r\n                  \"table_type\":\"ICEBERG\"\r\n               },\r\n               \"createdBy\":\"arn:aws:sts::xxxxx:assumed-role/xxxxxxx\",\r\n               \"isRegisteredWithLakeFormation\":false,\r\n               \"catalogId\":\"xxxxxxx\",\r\n               \"isRowFilteringEnabled\":false\r\n            }\r\n         }\r\n      }\r\n   ]\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803775621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803786033","html_url":"https://github.com/apache/iceberg/issues/1766#issuecomment-803786033","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1766","id":803786033,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzc4NjAzMw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T06:01:21Z","updated_at":"2021-03-22T06:01:21Z","author_association":"CONTRIBUTOR","body":"> When Query table from AWS glue data catalog console, it look like missed the storageDescriptor filed about the table schema.\r\n\r\n@stayrascal Hi, this is expected behavior. Glue is only used as a storage service to store Iceberg related table information in parameters, which are the ones you see in `parameters` section. `storageDescriptor` is not set intentionally because we plan to support a different read & write mechanism.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803786033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803787077","html_url":"https://github.com/apache/iceberg/issues/1766#issuecomment-803787077","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1766","id":803787077,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzc4NzA3Nw==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T06:03:50Z","updated_at":"2021-03-22T06:03:50Z","author_association":"CONTRIBUTOR","body":"> I see 0.11.0 was released today on Github - Any update on Athena support?\r\n\r\n@WilliamWhispell I somehow missed your comment, sorry for the late reply. \r\n\r\nAnd for anyone else who is also interested in Athena support, please ping me directly (through LinkedIn or Slack) to discuss more details.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803787077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803824147","html_url":"https://github.com/apache/iceberg/issues/1766#issuecomment-803824147","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1766","id":803824147,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzgyNDE0Nw==","user":{"login":"stayrascal","id":13775334,"node_id":"MDQ6VXNlcjEzNzc1MzM0","avatar_url":"https://avatars.githubusercontent.com/u/13775334?v=4","gravatar_id":"","url":"https://api.github.com/users/stayrascal","html_url":"https://github.com/stayrascal","followers_url":"https://api.github.com/users/stayrascal/followers","following_url":"https://api.github.com/users/stayrascal/following{/other_user}","gists_url":"https://api.github.com/users/stayrascal/gists{/gist_id}","starred_url":"https://api.github.com/users/stayrascal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stayrascal/subscriptions","organizations_url":"https://api.github.com/users/stayrascal/orgs","repos_url":"https://api.github.com/users/stayrascal/repos","events_url":"https://api.github.com/users/stayrascal/events{/privacy}","received_events_url":"https://api.github.com/users/stayrascal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T07:18:22Z","updated_at":"2021-03-22T07:18:22Z","author_association":"NONE","body":"> > When Query table from AWS glue data catalog console, it look like missed the storageDescriptor filed about the table schema.\r\n> \r\n> @stayrascal Hi, this is expected behavior. Glue is only used as a storage service to store Iceberg related table information in parameters, which are the ones you see in `parameters` section. `storageDescriptor` is not set intentionally because we plan to support a different read & write mechanism.\r\n\r\n@jackye1995 thanks a lot for your quick response.\r\nso is that the icebreg table cannot be read by Athena/Presto, because if the `storageDescriptor`(which include the table schema, input/output format) is not set, Glue catalog cannot recognize this table, and cannot be queried by Athena.\r\n\r\nis there other approach that support the Athean query icebreg table? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803824147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803830842","html_url":"https://github.com/apache/iceberg/issues/1766#issuecomment-803830842","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1766","id":803830842,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzgzMDg0Mg==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T07:28:13Z","updated_at":"2021-03-22T07:28:13Z","author_association":"CONTRIBUTOR","body":"@stayrascal storage descriptor is needed if the table is intended to be read through Hive. Even in open source Trino today, this is technically not needed (although the Trino iceberg connector basically depends on the hive connector so there might be some checks for it, I have not verified)\r\n\r\nAnd as I said in the other comment, please contact me directly through LinkedIn or Slack if you are interested in Athena support to discuss more details ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803830842/reactions","total_count":10,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803906213","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-803906213","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":803906213,"node_id":"MDEyOklzc3VlQ29tbWVudDgwMzkwNjIxMw==","user":{"login":"NageshB82","id":80257736,"node_id":"MDQ6VXNlcjgwMjU3NzM2","avatar_url":"https://avatars.githubusercontent.com/u/80257736?v=4","gravatar_id":"","url":"https://api.github.com/users/NageshB82","html_url":"https://github.com/NageshB82","followers_url":"https://api.github.com/users/NageshB82/followers","following_url":"https://api.github.com/users/NageshB82/following{/other_user}","gists_url":"https://api.github.com/users/NageshB82/gists{/gist_id}","starred_url":"https://api.github.com/users/NageshB82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageshB82/subscriptions","organizations_url":"https://api.github.com/users/NageshB82/orgs","repos_url":"https://api.github.com/users/NageshB82/repos","events_url":"https://api.github.com/users/NageshB82/events{/privacy}","received_events_url":"https://api.github.com/users/NageshB82/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T09:24:00Z","updated_at":"2021-03-22T09:24:00Z","author_association":"NONE","body":"@RussellSpitzer  Here I am attaching the spark UI job and stages output when we are querying data from Account table from iceberg using simple jdbc program\r\n\r\n// get connection\r\n        Connection con = DriverManager.getConnection(\"jdbc:hive2://<sparkthrift_server_ip>:10000/default\", \"\", \"\");\r\n        // create statement\r\n        Statement stmt = con.createStatement();\r\n        // execute statements\r\nResultSet res = stmt.executeQuery(\"SELECT * FROM Account order by id limit 20000;\");\r\n        \r\nIts almost taking minimum on 8 sec to fetch any 200 or 20000 records\r\n\r\n<img width=\"1527\" alt=\"spark_job_read\" src=\"https://user-images.githubusercontent.com/80257736/111967121-aac0b300-8b1d-11eb-9bea-8e3f28ef5c1a.png\">\r\n\r\n<img width=\"1533\" alt=\"spark-stages-read\" src=\"https://user-images.githubusercontent.com/80257736/111967159-b8763880-8b1d-11eb-9acc-0378f18c3e4d.png\">\r\n\r\nHere is Table creation statement we used for Account table in iceberg\r\nspark.sql(\r\n        \"CREATE TABLE if not exists Account(name  string,dn  string, accountCreationDate  string, disabled  long, forceChangePwd long, pwdLife long, numberLoginError long, lastChangePwd  string,  lastLogin  string, lastWrongLogin  string, state long, expire  string,  lastCertTime  string, creationDate  string, creationUser string, challengeCounter long,challengeFailedAttempt long, targetName string, applicationId string, lastAccessTime string, complianceStatus string, isDeleted  string, lastUpdatedTime  long, cumulativeScore string, currentScore string, critical string, high int, medium int, low int, firstOccurrence long, lastOccurrence long, id  string, sourceTypes  string, lastModifiedTime long, _id  string, type string, isimId string, externalId string) USING iceberg TBLPROPERTIES('engine.hive.enabled'='true')\"\r\n    )\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/803906213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804001355","html_url":"https://github.com/apache/iceberg/pull/2325#issuecomment-804001355","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2325","id":804001355,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDAwMTM1NQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T11:47:43Z","updated_at":"2021-03-22T11:47:43Z","author_association":"CONTRIBUTOR","body":"@rymurr, @rdblue: Any more comments? I think this would be ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804001355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804002625","html_url":"https://github.com/apache/iceberg/issues/2356#issuecomment-804002625","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2356","id":804002625,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDAwMjYyNQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T11:50:04Z","updated_at":"2021-03-22T11:50:04Z","author_association":"CONTRIBUTOR","body":"@XuQianJin-Stars: Could you please share some details how did you run these tests?\r\nFor example: Which version, which timezone?\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804002625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804014676","html_url":"https://github.com/apache/iceberg/pull/2325#issuecomment-804014676","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2325","id":804014676,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDAxNDY3Ng==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T12:10:52Z","updated_at":"2021-03-22T12:10:52Z","author_association":"CONTRIBUTOR","body":"Hey @pvary I am on holiday this week so no need to wait for me!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804014676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804111038","html_url":"https://github.com/apache/iceberg/issues/2357#issuecomment-804111038","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2357","id":804111038,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDExMTAzOA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T14:34:31Z","updated_at":"2021-03-22T14:34:31Z","author_association":"CONTRIBUTOR","body":"@junsionzhang:\r\n- Is the catalog type set correctly? Could you please run `set iceberg.mr.catalog`?\r\n- What is the output of the `DESCRIBE FORMATTED sample` from Hive?\r\n\r\nThanks,\r\nPeter\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804111038/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804112512","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-804112512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":804112512,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDExMjUxMg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T14:36:35Z","updated_at":"2021-03-22T14:36:35Z","author_association":"MEMBER","body":"From that it looks like it's doing a single file read for these jobs, I was hoping you could also share the actual stage details for a job. You get this by clicking on the link in the stage description, it should give a query plan and runtime breakdown.\r\n\r\nThat said I would be very surprised by these runtimes on any system for reading approximately 40 mbs of data.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804112512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804114746","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-804114746","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":804114746,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDExNDc0Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T14:39:36Z","updated_at":"2021-03-22T14:39:36Z","author_association":"MEMBER","body":"It may be helpful to benchmark the IO limits of your device, is there a possibility within your configuration storage is being throttled? While it could be cpu bound on the decopression both scenarios are very strange since the read here is trivial","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804114746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804210768","html_url":"https://github.com/apache/iceberg/pull/2355#issuecomment-804210768","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2355","id":804210768,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDIxMDc2OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T16:33:01Z","updated_at":"2021-03-22T16:33:01Z","author_association":"CONTRIBUTOR","body":"Thanks, @jackye1995!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804210768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804221597","html_url":"https://github.com/apache/iceberg/issues/2347#issuecomment-804221597","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2347","id":804221597,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDIyMTU5Nw==","user":{"login":"haizhou-zhao","id":6187287,"node_id":"MDQ6VXNlcjYxODcyODc=","avatar_url":"https://avatars.githubusercontent.com/u/6187287?v=4","gravatar_id":"","url":"https://api.github.com/users/haizhou-zhao","html_url":"https://github.com/haizhou-zhao","followers_url":"https://api.github.com/users/haizhou-zhao/followers","following_url":"https://api.github.com/users/haizhou-zhao/following{/other_user}","gists_url":"https://api.github.com/users/haizhou-zhao/gists{/gist_id}","starred_url":"https://api.github.com/users/haizhou-zhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haizhou-zhao/subscriptions","organizations_url":"https://api.github.com/users/haizhou-zhao/orgs","repos_url":"https://api.github.com/users/haizhou-zhao/repos","events_url":"https://api.github.com/users/haizhou-zhao/events{/privacy}","received_events_url":"https://api.github.com/users/haizhou-zhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T16:47:25Z","updated_at":"2021-03-22T16:47:25Z","author_association":"CONTRIBUTOR","body":"Thank you. On top of that, I also detected that this statement will fail:\r\n\r\n```\r\nassertEquals(\r\n    Types.NestedField.required(1, \"FieldName\", new Types.IntegerType()),\r\n    Types.NestedField.required(1, \"FieldName\", new Types.IntegerType())\r\n)\r\n```\r\nbecause NestedField equality relies on equality of type object (not typeId): https://github.com/apache/iceberg/blob/master/api/src/main/java/org/apache/iceberg/types/Types.java#L520\r\n\r\nGiven that in a unit test, we may not have explicit control over what actual NestedField object we get when we do assertEquals, is there a better way we can validate the NestedField object we get is as expected?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804221597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804225766","html_url":"https://github.com/apache/iceberg/pull/2328#issuecomment-804225766","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2328","id":804225766,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDIyNTc2Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T16:53:19Z","updated_at":"2021-03-22T16:53:19Z","author_association":"CONTRIBUTOR","body":"I am not sure I got it, @rdblue. Could you please elaborate a bit?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804225766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804229287","html_url":"https://github.com/apache/iceberg/pull/2328#issuecomment-804229287","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2328","id":804229287,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDIyOTI4Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T16:58:02Z","updated_at":"2021-03-22T16:58:02Z","author_association":"CONTRIBUTOR","body":"Could you do another pass too, @rdsr @pvary @rymurr @Parth-Brahmbhatt @yyanyy?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804229287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804248596","html_url":"https://github.com/apache/iceberg/pull/1918#issuecomment-804248596","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1918","id":804248596,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDI0ODU5Ng==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T17:22:19Z","updated_at":"2021-03-22T17:22:19Z","author_association":"CONTRIBUTOR","body":"@ggershinsky @shangxinli @andersonm-ibm \r\nhttps://docs.google.com/document/d/1kkcjr9KrlB9QagRX3ToulG_Rf-65NMSlVANheDNzJq4/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804248596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804264873","html_url":"https://github.com/apache/iceberg/pull/2214#issuecomment-804264873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2214","id":804264873,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDI2NDg3Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T17:45:31Z","updated_at":"2021-03-22T17:45:31Z","author_association":"CONTRIBUTOR","body":"Thanks for updating the PR, @yyanyy! Let me take a look now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804264873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804303747","html_url":"https://github.com/apache/iceberg/issues/1654#issuecomment-804303747","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1654","id":804303747,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDMwMzc0Nw==","user":{"login":"grantatspothero","id":43971820,"node_id":"MDQ6VXNlcjQzOTcxODIw","avatar_url":"https://avatars.githubusercontent.com/u/43971820?v=4","gravatar_id":"","url":"https://api.github.com/users/grantatspothero","html_url":"https://github.com/grantatspothero","followers_url":"https://api.github.com/users/grantatspothero/followers","following_url":"https://api.github.com/users/grantatspothero/following{/other_user}","gists_url":"https://api.github.com/users/grantatspothero/gists{/gist_id}","starred_url":"https://api.github.com/users/grantatspothero/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grantatspothero/subscriptions","organizations_url":"https://api.github.com/users/grantatspothero/orgs","repos_url":"https://api.github.com/users/grantatspothero/repos","events_url":"https://api.github.com/users/grantatspothero/events{/privacy}","received_events_url":"https://api.github.com/users/grantatspothero/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T18:42:09Z","updated_at":"2021-03-22T18:42:09Z","author_association":"CONTRIBUTOR","body":"Ended up doing the same thing @mickjermsurawong-stripe described above, forking iceberg and copying the static method from avro into iceberg:\r\nhttps://github.com/apache/iceberg/compare/apache-iceberg-0.11.0...grantatspothero:0.11.0-avro-patch?expand=1 \r\n\r\nThis resolves the issue without having to upgrade avro and hope that interops well with trino/spark.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804303747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804354522","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-804354522","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":804354522,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDM1NDUyMg==","user":{"login":"mayursrivastava","id":8659624,"node_id":"MDQ6VXNlcjg2NTk2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8659624?v=4","gravatar_id":"","url":"https://api.github.com/users/mayursrivastava","html_url":"https://github.com/mayursrivastava","followers_url":"https://api.github.com/users/mayursrivastava/followers","following_url":"https://api.github.com/users/mayursrivastava/following{/other_user}","gists_url":"https://api.github.com/users/mayursrivastava/gists{/gist_id}","starred_url":"https://api.github.com/users/mayursrivastava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayursrivastava/subscriptions","organizations_url":"https://api.github.com/users/mayursrivastava/orgs","repos_url":"https://api.github.com/users/mayursrivastava/repos","events_url":"https://api.github.com/users/mayursrivastava/events{/privacy}","received_events_url":"https://api.github.com/users/mayursrivastava/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T20:00:07Z","updated_at":"2021-03-22T20:00:07Z","author_association":"CONTRIBUTOR","body":"Hi @rymurr, I wanted to check if you got a chance to take a look at the updates to this pr. I'm happy to make any more changes. Thanks, Mayur","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804354522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804361221","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-804361221","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":804361221,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDM2MTIyMQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T20:11:04Z","updated_at":"2021-03-22T20:11:04Z","author_association":"CONTRIBUTOR","body":"Hey @mayursrivastava I am on holiday this week but will get to it first\nthing when I get back. Apologies for the delay!\n\nOn Mon, 22 Mar 2021, 21:00 mayursrivastava, ***@***.***>\nwrote:\n\n> Hi @rymurr <https://github.com/rymurr>, I wanted to check if you got a\n> chance to take a look at the updates to this pr. I'm happy to make any more\n> changes. Thanks, Mayur\n>\n> â€”\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/2286#issuecomment-804354522>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAPNXIJ7ACUXMVVSRIPX6MLTE6OVRANCNFSM4YMW4KAQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804361221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804384770","html_url":"https://github.com/apache/iceberg/pull/2286#issuecomment-804384770","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2286","id":804384770,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDM4NDc3MA==","user":{"login":"mayursrivastava","id":8659624,"node_id":"MDQ6VXNlcjg2NTk2MjQ=","avatar_url":"https://avatars.githubusercontent.com/u/8659624?v=4","gravatar_id":"","url":"https://api.github.com/users/mayursrivastava","html_url":"https://github.com/mayursrivastava","followers_url":"https://api.github.com/users/mayursrivastava/followers","following_url":"https://api.github.com/users/mayursrivastava/following{/other_user}","gists_url":"https://api.github.com/users/mayursrivastava/gists{/gist_id}","starred_url":"https://api.github.com/users/mayursrivastava/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayursrivastava/subscriptions","organizations_url":"https://api.github.com/users/mayursrivastava/orgs","repos_url":"https://api.github.com/users/mayursrivastava/repos","events_url":"https://api.github.com/users/mayursrivastava/events{/privacy}","received_events_url":"https://api.github.com/users/mayursrivastava/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T20:49:42Z","updated_at":"2021-03-22T20:49:42Z","author_association":"CONTRIBUTOR","body":"Thanks @rymurr. No worries. Have a good one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804384770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804387286","html_url":"https://github.com/apache/iceberg/pull/2336#issuecomment-804387286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2336","id":804387286,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDM4NzI4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T20:53:49Z","updated_at":"2021-03-22T20:53:49Z","author_association":"CONTRIBUTOR","body":"@omaraloraini, there are JMH benchmarks you can use, but I also wrote a quick test to compare time when writing the initial Parquet support. That's here if you want to try it out: https://github.com/apache/iceberg/blob/master/spark/src/test/java/org/apache/iceberg/spark/data/TestParquetAvroReader.java#L76-L134\r\n\r\nI'm also not quite sure how to read those flame graphs, I think I'm missing some context like which one is which. I'd also like to compare the result of making the change I suggested above.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804387286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804391687","html_url":"https://github.com/apache/iceberg/pull/2354#issuecomment-804391687","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2354","id":804391687,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDM5MTY4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T21:01:19Z","updated_at":"2021-03-22T21:01:19Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @jackye1995! I'll take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804391687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804416279","html_url":"https://github.com/apache/iceberg/pull/2329#issuecomment-804416279","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2329","id":804416279,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQxNjI3OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T21:44:33Z","updated_at":"2021-03-22T21:44:33Z","author_association":"CONTRIBUTOR","body":"Late +1 from me too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804416279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804448385","html_url":"https://github.com/apache/iceberg/pull/2328#issuecomment-804448385","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2328","id":804448385,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQ0ODM4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T22:54:00Z","updated_at":"2021-03-22T22:54:00Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, @aokolnychyi, I think the approach here is good. I like that existing behavior is kept but the new exception provides a way to change it. I don't think that we need the ability to mark a commit idempotent yet since this is an alternative way to avoid deleting the files. Once the comments above are addressed, I think this can be committed to master.\r\n\r\nI know the intent is to get this into a patch release, but I don't think that we should do that with a new behavior change for Hive catalogs by default. The problem used to cause tables to be unwritable (in most cases) until rolled back. But this changes the behavior and makes the table still writable. That's the right direction, but I don't think the change should be in a patch release.\r\n\r\nWe could, however, add this with a flag to still delete the data files or to fall back to not throwing the unknown commit state exception. I'd be comfortable with that going in a patch release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804448385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804450547","html_url":"https://github.com/apache/iceberg/pull/2358#issuecomment-804450547","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2358","id":804450547,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQ1MDU0Nw==","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T22:59:41Z","updated_at":"2021-03-22T23:03:43Z","author_association":"COLLABORATOR","body":"This is an Implementation for Predicate Push down for Partition Table.  It is based on a conversation first with @RussellSpitzer \r\n and then in https://github.com/apache/iceberg/issues/2326.\r\n\r\nIt is not the ultimate solution to the problem , which may need the Spark view catalog as discussed in the issue. But it should be complementary as the same logic can be used in Files Metadata table. \r\n\r\nAlso, as we don't know when view-catalog comes, this at least makes it so that we won't have partition query with a filter taking longer than an actual query with that filter :)\r\n\r\nIf this change is the right way, next step would be implementing the same partition-filter on files-table to reduce the metadata scanned. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804450547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804451815","html_url":"https://github.com/apache/iceberg/pull/2336#issuecomment-804451815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2336","id":804451815,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQ1MTgxNQ==","user":{"login":"ooraini","id":5780138,"node_id":"MDQ6VXNlcjU3ODAxMzg=","avatar_url":"https://avatars.githubusercontent.com/u/5780138?v=4","gravatar_id":"","url":"https://api.github.com/users/ooraini","html_url":"https://github.com/ooraini","followers_url":"https://api.github.com/users/ooraini/followers","following_url":"https://api.github.com/users/ooraini/following{/other_user}","gists_url":"https://api.github.com/users/ooraini/gists{/gist_id}","starred_url":"https://api.github.com/users/ooraini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ooraini/subscriptions","organizations_url":"https://api.github.com/users/ooraini/orgs","repos_url":"https://api.github.com/users/ooraini/repos","events_url":"https://api.github.com/users/ooraini/events{/privacy}","received_events_url":"https://api.github.com/users/ooraini/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T23:03:01Z","updated_at":"2021-03-22T23:03:01Z","author_association":"NONE","body":"@rdblue, I really could not experiment with any change, because I don't have any numbers to compare it to. I'm still trying to figure out how to test it, I don't think I can conclude from profiling alone that it performs better using  the number of samples. I tried to run some of JMH benchmarks in Iceberg repo, sometimes they work, other times I get an error related to shadowJar and jmh plugins, some error with `META-INF`. I tried to use JMH in my code base, but for some reason I could not get it to work.\r\n\r\nNote that non of the existing frameworks in the code base use it, so if you ran some test you would get the same numbers, in particular the following files use the `UnboxedReader`:\r\n\r\n- FlinkParquetReaders.ReadBuilder\r\n- BaseParquetReaders.ReadBuilder\r\n- ParquetAvroValueReaders.ReadBuilder\r\n- PigParquetReader.ReadBuilder\r\n- SparkParquetReaders.ReadBuilder\r\n\r\nMy plan was to get the API first, then update them afterwards. I will update them soon.\r\n\r\nRegarding the flame graphs, this is the old one with two methods underlined.\r\n![before](https://user-images.githubusercontent.com/5780138/112067786-b80b8b00-8b79-11eb-9d15-e8cb1f64db83.png)\r\n\r\nFrom the left `UnboxedReader.read` indicate that there are no benefits in `UnboxedReader`, as all calls end up going to the interface method, which returns an object. In the far right there is `get` which in case of a Java primitive, you would get a boxed primitive, the result of `get`  is passed to the `UnboxedReader` and it ignores it. The signature of read method `public T read(T ignored)`. After getting the result from the reader it's passed to the method `set` in `StructReader`.\r\n\r\nI will update other readers to use the new implementation and run the test you mentioned. If you have any suggestion regarding benchmarking, let me know, as it is a new ground for me.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804451815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804471561","html_url":"https://github.com/apache/iceberg/pull/2328#issuecomment-804471561","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2328","id":804471561,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQ3MTU2MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-22T23:46:18Z","updated_at":"2021-03-22T23:46:18Z","author_association":"CONTRIBUTOR","body":"@rdblue, when we started looking into this problem, it was not clear how the fix will look like. I tend to agree it is a behavior change so I am fine skipping it from the patch release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804471561/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804491609","html_url":"https://github.com/apache/iceberg/pull/2336#issuecomment-804491609","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2336","id":804491609,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDQ5MTYwOQ==","user":{"login":"ooraini","id":5780138,"node_id":"MDQ6VXNlcjU3ODAxMzg=","avatar_url":"https://avatars.githubusercontent.com/u/5780138?v=4","gravatar_id":"","url":"https://api.github.com/users/ooraini","html_url":"https://github.com/ooraini","followers_url":"https://api.github.com/users/ooraini/followers","following_url":"https://api.github.com/users/ooraini/following{/other_user}","gists_url":"https://api.github.com/users/ooraini/gists{/gist_id}","starred_url":"https://api.github.com/users/ooraini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ooraini/subscriptions","organizations_url":"https://api.github.com/users/ooraini/orgs","repos_url":"https://api.github.com/users/ooraini/repos","events_url":"https://api.github.com/users/ooraini/events{/privacy}","received_events_url":"https://api.github.com/users/ooraini/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T00:24:34Z","updated_at":"2021-03-23T00:27:10Z","author_association":"NONE","body":"Old Ran 10 trials: mean time: 5781.100 ms, stddev: 78.045 ms\r\nNew without setter: Ran 10 trials: mean time: 5166.300 ms, stddev: 61.861 ms. [commit](https://github.com/omaraloraini/iceberg/commit/69a11fd7d99e161fc4e3a997caecef0f601ba114).\r\n\r\nI update the schema in the test with more required and primitive columns, new schema:\r\n```\r\n    Schema structSchema = new Schema(\r\n            required(1, \"circumvent\", Types.LongType.get()),\r\n            optional(2, \"antarctica\", Types.StringType.get()),\r\n            optional(3, \"fluent\", Types.DoubleType.get()),\r\n            required(4, \"quell\", Types.StructType.of(\r\n                    required(5, \"operator\", Types.BooleanType.get()),\r\n                    optional(6, \"fanta\", Types.IntegerType.get()),\r\n                    optional(7, \"cable\", Types.FloatType.get())\r\n            )),\r\n            required(8, \"chimney\", Types.TimestampType.withZone()),\r\n            required(9, \"wool\", Types.DateType.get()),\r\n            required(10, \"c1\", Types.LongType.get()),\r\n            required(11, \"c2\", Types.LongType.get()),\r\n            required(12, \"c3\", Types.LongType.get()),\r\n            required(13, \"c4\", Types.IntegerType.get()),\r\n            required(14, \"c5\", Types.IntegerType.get()),\r\n            required(15, \"c6\", Types.IntegerType.get()),\r\n            required(16, \"c7\", Types.FloatType.get()),\r\n            required(17, \"c8\", Types.FloatType.get()),\r\n            required(18, \"c9\", Types.DoubleType.get()),\r\n            required(19, \"c10\", Types.DoubleType.get())\r\n    );\r\n```\r\nResult with new schema:\r\nOld: Ran 10 trials: mean time: 7528.300 ms, stddev: 97.378 ms\r\nNew without setter: Ran 10 trials: mean time: 9742.600 ms, stddev: 97.785 ms\r\nNew with setter!: Ran 10 trials: mean time: 3939.400 ms, stddev: 98.521 ms. [commit](https://github.com/omaraloraini/iceberg/commit/7b345df2f885615af3cf3733fc0d9c89380d31ba)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804491609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804508273","html_url":"https://github.com/apache/iceberg/pull/2353#issuecomment-804508273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2353","id":804508273,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDUwODI3Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T01:08:35Z","updated_at":"2021-03-23T01:08:35Z","author_association":"CONTRIBUTOR","body":"Thank you for the review, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804508273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804521418","html_url":"https://github.com/apache/iceberg/pull/2336#issuecomment-804521418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2336","id":804521418,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDUyMTQxOA==","user":{"login":"ooraini","id":5780138,"node_id":"MDQ6VXNlcjU3ODAxMzg=","avatar_url":"https://avatars.githubusercontent.com/u/5780138?v=4","gravatar_id":"","url":"https://api.github.com/users/ooraini","html_url":"https://github.com/ooraini","followers_url":"https://api.github.com/users/ooraini/followers","following_url":"https://api.github.com/users/ooraini/following{/other_user}","gists_url":"https://api.github.com/users/ooraini/gists{/gist_id}","starred_url":"https://api.github.com/users/ooraini/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ooraini/subscriptions","organizations_url":"https://api.github.com/users/ooraini/orgs","repos_url":"https://api.github.com/users/ooraini/repos","events_url":"https://api.github.com/users/ooraini/events{/privacy}","received_events_url":"https://api.github.com/users/ooraini/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T01:46:34Z","updated_at":"2021-03-23T01:46:34Z","author_association":"NONE","body":"The difference is not worth the complexity as all readers(Spark, Flink) store data in an `Object[]`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804521418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804577577","html_url":"https://github.com/apache/iceberg/issues/2357#issuecomment-804577577","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2357","id":804577577,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDU3NzU3Nw==","user":{"login":"junsionzhang","id":10653297,"node_id":"MDQ6VXNlcjEwNjUzMjk3","avatar_url":"https://avatars.githubusercontent.com/u/10653297?v=4","gravatar_id":"","url":"https://api.github.com/users/junsionzhang","html_url":"https://github.com/junsionzhang","followers_url":"https://api.github.com/users/junsionzhang/followers","following_url":"https://api.github.com/users/junsionzhang/following{/other_user}","gists_url":"https://api.github.com/users/junsionzhang/gists{/gist_id}","starred_url":"https://api.github.com/users/junsionzhang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junsionzhang/subscriptions","organizations_url":"https://api.github.com/users/junsionzhang/orgs","repos_url":"https://api.github.com/users/junsionzhang/repos","events_url":"https://api.github.com/users/junsionzhang/events{/privacy}","received_events_url":"https://api.github.com/users/junsionzhang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T03:28:31Z","updated_at":"2021-03-23T03:31:20Z","author_association":"NONE","body":"> @junsionzhang:\r\n> \r\n> * Is the catalog type set correctly? Could you please run `set iceberg.mr.catalog`?\r\n> * What is the output of the `DESCRIBE FORMATTED sample` from Hive?\r\n> \r\n> Thanks,\r\n> Peter\r\n\r\n1) \"set iceberg.mr.catalog=true;\" works fine in hive \r\n2) the `DESCRIBE FORMATTED sample` result is as follow\r\n\r\nDatabase:           \ticeberg\r\nOwner:              \troot\r\nCreateTime:         \tMon Mar 22 18:08:46 CST 2021\r\nLastAccessTime:     \tSun Jan 18 16:40:22 CST 1970\r\nRetention:          \t2147483647\r\nLocation:           \thdfs://192.168.100.101:9000/hive/warehouse/iceberg/iceberg.db/sample\r\nTable Type:         \tEXTERNAL_TABLE\r\nTable Parameters:\r\n\tEXTERNAL            \tTRUE\r\n\tmetadata_location   \thdfs://192.168.100.101:9000/hive/warehouse/iceberg/iceberg.db/sample/metadata/00002-f60f3416-680e-41cc-9a85-ec11dd4b9642.metadata.json\r\n\tnumFiles            \t1\r\n\tprevious_metadata_location\thdfs://192.168.100.101:9000/hive/warehouse/iceberg/iceberg.db/sample/metadata/00001-b50a0569-05c9-4655-9db8-0eed6fa5f866.metadata.json\r\n\ttable_type          \tICEBERG\r\n\ttotalSize           \t826\r\n\ttransient_lastDdlTime\t1616407726\r\n\r\nStorage Information\r\nSerDe Library:      \torg.apache.hadoop.hive.serde2.lazy.LazySimpleSerDe\r\nInputFormat:        \torg.apache.hadoop.mapred.FileInputFormat\r\nOutputFormat:       \torg.apache.hadoop.mapred.FileOutputFormat\r\nCompressed:         \tNo\r\nNum Buckets:        \t0\r\nBucket Columns:     \t[]\r\nSort Columns:       \t[]\r\nTime taken: 0.648 seconds, Fetched: 30 row(s)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804577577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804627993","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-804627993","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":804627993,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDYyNzk5Mw==","user":{"login":"NageshB82","id":80257736,"node_id":"MDQ6VXNlcjgwMjU3NzM2","avatar_url":"https://avatars.githubusercontent.com/u/80257736?v=4","gravatar_id":"","url":"https://api.github.com/users/NageshB82","html_url":"https://github.com/NageshB82","followers_url":"https://api.github.com/users/NageshB82/followers","following_url":"https://api.github.com/users/NageshB82/following{/other_user}","gists_url":"https://api.github.com/users/NageshB82/gists{/gist_id}","starred_url":"https://api.github.com/users/NageshB82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageshB82/subscriptions","organizations_url":"https://api.github.com/users/NageshB82/orgs","repos_url":"https://api.github.com/users/NageshB82/repos","events_url":"https://api.github.com/users/NageshB82/events{/privacy}","received_events_url":"https://api.github.com/users/NageshB82/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T05:28:36Z","updated_at":"2021-03-23T05:28:36Z","author_association":"NONE","body":"@RussellSpitzer Here is details of one of the stage\r\n\r\n![image](https://user-images.githubusercontent.com/80257736/112097813-b1efcb80-8bc6-11eb-86e7-de56fb511b5a.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804627993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804636106","html_url":"https://github.com/apache/iceberg/pull/2305#issuecomment-804636106","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2305","id":804636106,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDYzNjEwNg==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T05:48:23Z","updated_at":"2021-03-23T05:48:23Z","author_association":"CONTRIBUTOR","body":"@openinx I updated the PR on refactoring the DataIterator: using composition instead of inheritance (like the old RowDataIterator). Please take a look when you got a chance.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804636106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804652823","html_url":"https://github.com/apache/iceberg/pull/2210#issuecomment-804652823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2210","id":804652823,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDY1MjgyMw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T06:25:38Z","updated_at":"2021-03-23T06:25:38Z","author_association":"CONTRIBUTOR","body":"Thank you, @RussellSpitzer! Thanks everyone who participated in the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804652823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804653434","html_url":"https://github.com/apache/iceberg/pull/2210#issuecomment-804653434","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2210","id":804653434,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDY1MzQzNA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T06:27:02Z","updated_at":"2021-03-23T06:27:02Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, could you please create issues for ORC and Avro tests? We already have an issue to not depend on Spark in-memory file index.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804653434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804653778","html_url":"https://github.com/apache/iceberg/issues/2068#issuecomment-804653778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2068","id":804653778,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDY1Mzc3OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T06:27:54Z","updated_at":"2021-03-23T06:27:54Z","author_association":"CONTRIBUTOR","body":"Fixed by #2210.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804653778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804720129","html_url":"https://github.com/apache/iceberg/issues/2357#issuecomment-804720129","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2357","id":804720129,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDcyMDEyOQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T08:36:41Z","updated_at":"2021-03-23T08:36:41Z","author_association":"CONTRIBUTOR","body":"Sorry @junsionzhang, I was not clear enough:\r\n- Please provide the output for `set iceberg.mr.catalog` - I suspect the catalog is not set in your Hive environment.\r\n\r\nBase on the output of the `DESCRIBE` I see that when the table is created the `hive.engine.enabled` was not set to true, so the `SerDe`, `InputFormat`, `OutputFormat` is not set correctly.\r\n\r\nPlease check the https://iceberg.apache.org/hive/ page for more details.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804720129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804914069","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-804914069","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":804914069,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDkxNDA2OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T13:43:54Z","updated_at":"2021-03-23T13:43:54Z","author_association":"MEMBER","body":"Could you please include the event timeline and Dag Visualization?\r\n\r\nIn addition if you haven't started benchmarking your storage yet, try doing a non iceberg read and write just using the parquet datasource of the same data. Just to check whether it is a storage issue (remember to use the same compression) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804914069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804977431","html_url":"https://github.com/apache/iceberg/pull/2210#issuecomment-804977431","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2210","id":804977431,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDk3NzQzMQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T15:03:18Z","updated_at":"2021-03-23T15:03:18Z","author_association":"MEMBER","body":"Thanks everybody! I think the review period really helped make this code better, I hope it's of use to folks in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804977431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804979670","html_url":"https://github.com/apache/iceberg/issues/2359#issuecomment-804979670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2359","id":804979670,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDk3OTY3MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T15:06:08Z","updated_at":"2021-03-23T15:06:08Z","author_association":"MEMBER","body":"I see \r\n```Caused by: MetaException(message:Could not connect to meta store using any of the URIs provided. Most recent failure: org.apache.thrift.transport.TTransportException: GSS initiate failed```\r\n\r\nWhich usually means a configuration issue with Kerberos, are you sure you have configured the Iceberg catalog with the same configuration as your session catalog? If you share your session configuration and Hive configuration we may be able to assist.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804979670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804980739","html_url":"https://github.com/apache/iceberg/issues/2344#issuecomment-804980739","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2344","id":804980739,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNDk4MDczOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T15:07:27Z","updated_at":"2021-03-23T15:07:27Z","author_association":"MEMBER","body":"I believe it is a Spark Version error because the extensions library is calling on a specific Spark internal function which is missing, but I don't see how that could be unless multiple Spark versions were on the classpath at the same time,","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/804980739/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805030488","html_url":"https://github.com/apache/iceberg/issues/2360#issuecomment-805030488","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2360","id":805030488,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTAzMDQ4OA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T16:08:44Z","updated_at":"2021-03-23T16:08:44Z","author_association":"CONTRIBUTOR","body":"We have faced the same issue when moved the mr module to the Hive repo. CC: @marton-bod\r\nFirst random idea: create a bundled-orc / bundled-avro / bundled-parquet(?) modules like we did with guava?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805030488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805043527","html_url":"https://github.com/apache/iceberg/issues/2360#issuecomment-805043527","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2360","id":805043527,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTA0MzUyNw==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T16:25:26Z","updated_at":"2021-03-23T16:26:41Z","author_association":"COLLABORATOR","body":"Yes, we faced the same issue that Hive exec uses a different `orc-core` version than `iceberg-orc`, therefore we were not able to pull both of them in and run unit tests that can write to Hive ORC tables and Iceberg ORC tables at the same time. In a real cluster, this problem goes away, because we shade the `orc-core` dep used by iceberg-orc and include that into the runtime jar. As @pvary mentioned our initial idea to resolve this was to create a new `bundled-orc` (like guava) module in Iceberg to avoid any classpath conflicts with Hive. A similar approach could potentially resolve the problems for Spark too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805043527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805063581","html_url":"https://github.com/apache/iceberg/pull/2214#issuecomment-805063581","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2214","id":805063581,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTA2MzU4MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T16:53:07Z","updated_at":"2021-03-23T16:53:07Z","author_association":"CONTRIBUTOR","body":"Looks like some CI job hanged. Triggering another testing round.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805063581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805084837","html_url":"https://github.com/apache/iceberg/pull/2361#issuecomment-805084837","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2361","id":805084837,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTA4NDgzNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T17:21:59Z","updated_at":"2021-03-23T17:21:59Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @rdblue @shardulm94 @rymurr @flyrain @karuppayya","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805084837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805223711","html_url":"https://github.com/apache/iceberg/issues/2351#issuecomment-805223711","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2351","id":805223711,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTIyMzcxMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T20:24:31Z","updated_at":"2021-03-23T20:24:31Z","author_association":"CONTRIBUTOR","body":"It's also suspicious that there were 78 splits, but only 9 rows. I'd be interested to see the contents of the files metadata table for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805223711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805228180","html_url":"https://github.com/apache/iceberg/issues/1654#issuecomment-805228180","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1654","id":805228180,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTIyODE4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T20:28:57Z","updated_at":"2021-03-23T20:28:57Z","author_association":"CONTRIBUTOR","body":"I think we should plan on upgrading to Avro in #1648. That should fix this in the next release, 0.12.0.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805228180/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805229827","html_url":"https://github.com/apache/iceberg/pull/1648#issuecomment-805229827","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1648","id":805229827,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTIyOTgyNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T20:29:48Z","updated_at":"2021-03-23T20:30:35Z","author_association":"CONTRIBUTOR","body":"Looks like this would fix #1654 so we should get it into the 0.12.0 release. I don't think we should update Avro with a breaking change in a patch release so it isn't a good idea to try to get this into 0.11.1.\r\n\r\n@Fokko, if you have time please update to 1.10.2 and I'll merge. Otherwise, I'll merge this in a day or so and we can update again. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805229827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805237935","html_url":"https://github.com/apache/iceberg/pull/2214#issuecomment-805237935","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2214","id":805237935,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTIzNzkzNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T20:42:05Z","updated_at":"2021-03-23T20:42:05Z","author_association":"CONTRIBUTOR","body":"Thanks, @yyanyy! This looked good to me. I'll submit a follow-up issue for the refactoring we talked [here](https://github.com/apache/iceberg/pull/2214#discussion_r598964048).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805237935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805239197","html_url":"https://github.com/apache/iceberg/pull/1648#issuecomment-805239197","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1648","id":805239197,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTIzOTE5Nw==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T20:43:52Z","updated_at":"2021-03-23T20:43:52Z","author_association":"CONTRIBUTOR","body":"Yes, I'll fix it right away.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805239197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805242955","html_url":"https://github.com/apache/iceberg/pull/2328#issuecomment-805242955","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2328","id":805242955,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTI0Mjk1NQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T20:48:25Z","updated_at":"2021-03-23T20:48:25Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @RussellSpitzer! Thanks everyone who reviewed!\r\n\r\nI merged this to master but will not include in the patch release. We still have time to iterate on this before releasing 0.12.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805242955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805244486","html_url":"https://github.com/apache/iceberg/pull/2328#issuecomment-805244486","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2328","id":805244486,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTI0NDQ4Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T20:49:27Z","updated_at":"2021-03-23T20:49:27Z","author_association":"MEMBER","body":"Thanks everyone! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805244486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805246901","html_url":"https://github.com/apache/iceberg/pull/2336#issuecomment-805246901","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2336","id":805246901,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTI0NjkwMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T20:52:52Z","updated_at":"2021-03-23T20:52:52Z","author_association":"CONTRIBUTOR","body":"@omaraloraini, nice work! I think that the \"new with setter\" option looks promising! While it's true that Spark and Flink will currently store the data in `Object[]` that doesn't mean that we won't support an object model that handles primitives. And even then, the Parquet/Avro code will use Avro generics that also store values in `Object[]` and that appears to be much faster!\r\n\r\nWhat do you think about re-opening this and updating it to \"new with setter\" so we can take advantage of any performance improvements we might see? We can also copy the micro-benchmark you're running over to Spark and Flink to see if it does work there as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805246901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805263675","html_url":"https://github.com/apache/iceberg/pull/2328#issuecomment-805263675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2328","id":805263675,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTI2MzY3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T21:11:34Z","updated_at":"2021-03-23T21:11:34Z","author_association":"CONTRIBUTOR","body":"Thanks for getting this fixed, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805263675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805284872","html_url":"https://github.com/apache/iceberg/pull/1648#issuecomment-805284872","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1648","id":805284872,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTI4NDg3Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T21:41:28Z","updated_at":"2021-03-23T21:41:28Z","author_association":"CONTRIBUTOR","body":"I think a Jackson dependency update in Avro breaks Spark:\r\n\r\n```\r\ncom.fasterxml.jackson.databind.JsonMappingException: Scala module 2.11.4 requires Jackson Databind version >= 2.11.0 and < 2.12.0\r\n```\r\n\r\nLooks like Avro updated Jackson from 2.11.3 to 2.12.2, which is what causes the problem. We should revert the latest update to 1.10.2 and use 1.10.1 to fix the problem, I guess.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805284872/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805305805","html_url":"https://github.com/apache/iceberg/pull/2320#issuecomment-805305805","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2320","id":805305805,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTMwNTgwNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T22:21:39Z","updated_at":"2021-03-23T22:21:39Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada and @openinx, thanks for making progress on this! I wanted to catch up on what's happening in this area so I went ahead and did a round of review as well. I think there are a few minor things to improve in a follow-up.\r\n\r\nI'm also wondering about why this is only focused on equality deletes. Why not return all deleted rows? Is that because we only want equality deletes where this is used?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805305805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805313015","html_url":"https://github.com/apache/iceberg/pull/2293#issuecomment-805313015","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2293","id":805313015,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTMxMzAxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T22:36:11Z","updated_at":"2021-03-23T22:36:11Z","author_association":"CONTRIBUTOR","body":"@edgarRd, sorry for the late reply but I've had a chance to review this again. Thanks for working on it! I think we can simplify it a bit, but it's almost ready.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805313015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805320778","html_url":"https://github.com/apache/iceberg/pull/2214#issuecomment-805320778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2214","id":805320778,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTMyMDc3OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-23T22:53:47Z","updated_at":"2021-03-23T22:53:47Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @yyanyy! And thanks for the review, @aokolnychyi. I agree that we can probably improve the appender factory or replace it with something for all writers. It's a little messy there so I'm glad you're thinking about how to clean it up. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805320778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805367992","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-805367992","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":805367992,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM2Nzk5Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T00:17:34Z","updated_at":"2021-03-24T00:17:34Z","author_association":"CONTRIBUTOR","body":"@pvary @rdblue @szehon-ho @RussellSpitzer, it would be great to hear your thoughts on this one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805367992/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805370516","html_url":"https://github.com/apache/iceberg/issues/1502#issuecomment-805370516","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1502","id":805370516,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM3MDUxNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T00:21:41Z","updated_at":"2021-03-24T00:21:41Z","author_association":"CONTRIBUTOR","body":"Yeah, I think you're right. In 2.4, Spark doesn't maintain the catalogs. The cache assumes that Spark is maintaining the references. We should use `softValues` for Spark 3 and later, but not for 2.4. Would you like to open a PR to fix this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805370516/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805379292","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-805379292","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":805379292,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM3OTI5Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T00:33:37Z","updated_at":"2021-03-24T00:34:23Z","author_association":"CONTRIBUTOR","body":"Could you take a look too, @openinx? This does not touch the Flink part but we would want it to be consistent.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805379292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805389466","html_url":"https://github.com/apache/iceberg/pull/2330#issuecomment-805389466","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2330","id":805389466,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM4OTQ2Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T00:54:55Z","updated_at":"2021-03-24T00:54:55Z","author_association":"CONTRIBUTOR","body":"What do you also think, @rdblue @shardulm94? \r\n\r\nWe could also show the current sort order and spec using `sort-order` and `spec` table properties. Would that make sense?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805389466/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805393966","html_url":"https://github.com/apache/iceberg/pull/2330#issuecomment-805393966","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2330","id":805393966,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTM5Mzk2Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T01:05:22Z","updated_at":"2021-03-24T01:05:37Z","author_association":"CONTRIBUTOR","body":"I am also thinking about the best way to show ALL specs and sort orders to the user. Maybe, we can offer procedures for that? Any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805393966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805414851","html_url":"https://github.com/apache/iceberg/pull/2320#issuecomment-805414851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2320","id":805414851,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQxNDg1MQ==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T01:58:32Z","updated_at":"2021-03-24T01:58:32Z","author_association":"COLLABORATOR","body":"Thanks @rdblue! I will update your comment in the following PR.\r\n\r\nThe reason for reading deleted rows only from equality deletes is that we want to handle equality delete and position delete separately since the filtering logic and cost are different between equality delete and position delete. So that we could choose proper rewrite actions when streaming the CDC data. I'm also working on position deletes rewrite action to clustering the position deletes inside the partition, which would include a position delete row reader. Does this make sense to you?\r\n\r\nThese two actions are minor compactions and @openinx have a PR that remove all delete rows which I think is major compaction. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805414851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805452828","html_url":"https://github.com/apache/iceberg/pull/2364#issuecomment-805452828","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2364","id":805452828,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ1MjgyOA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T03:09:57Z","updated_at":"2021-03-24T03:09:57Z","author_association":"COLLABORATOR","body":"@rdblue @openinx @yyanyy , This is part of the equality delete rewrite. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805452828/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805465979","html_url":"https://github.com/apache/iceberg/pull/2010#issuecomment-805465979","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2010","id":805465979,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ2NTk3OQ==","user":{"login":"XuQianJin-Stars","id":10494131,"node_id":"MDQ6VXNlcjEwNDk0MTMx","avatar_url":"https://avatars.githubusercontent.com/u/10494131?v=4","gravatar_id":"","url":"https://api.github.com/users/XuQianJin-Stars","html_url":"https://github.com/XuQianJin-Stars","followers_url":"https://api.github.com/users/XuQianJin-Stars/followers","following_url":"https://api.github.com/users/XuQianJin-Stars/following{/other_user}","gists_url":"https://api.github.com/users/XuQianJin-Stars/gists{/gist_id}","starred_url":"https://api.github.com/users/XuQianJin-Stars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XuQianJin-Stars/subscriptions","organizations_url":"https://api.github.com/users/XuQianJin-Stars/orgs","repos_url":"https://api.github.com/users/XuQianJin-Stars/repos","events_url":"https://api.github.com/users/XuQianJin-Stars/events{/privacy}","received_events_url":"https://api.github.com/users/XuQianJin-Stars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T03:50:49Z","updated_at":"2021-03-24T03:50:49Z","author_association":"CONTRIBUTOR","body":"hi @jackye1995 What is the status of this primary key spec?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805465979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805467854","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-805467854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":805467854,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ2Nzg1NA==","user":{"login":"NageshB82","id":80257736,"node_id":"MDQ6VXNlcjgwMjU3NzM2","avatar_url":"https://avatars.githubusercontent.com/u/80257736?v=4","gravatar_id":"","url":"https://api.github.com/users/NageshB82","html_url":"https://github.com/NageshB82","followers_url":"https://api.github.com/users/NageshB82/followers","following_url":"https://api.github.com/users/NageshB82/following{/other_user}","gists_url":"https://api.github.com/users/NageshB82/gists{/gist_id}","starred_url":"https://api.github.com/users/NageshB82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageshB82/subscriptions","organizations_url":"https://api.github.com/users/NageshB82/orgs","repos_url":"https://api.github.com/users/NageshB82/repos","events_url":"https://api.github.com/users/NageshB82/events{/privacy}","received_events_url":"https://api.github.com/users/NageshB82/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T03:57:05Z","updated_at":"2021-03-24T03:57:05Z","author_association":"NONE","body":"@RussellSpitzer  Added more details , as below\r\n\r\nDAG Visualization\r\n![image](https://user-images.githubusercontent.com/80257736/112252217-b24d9c80-8c82-11eb-8ef8-776c9dca311c.png)\r\n\r\nEvent timeline\r\n![image](https://user-images.githubusercontent.com/80257736/112252284-d0b39800-8c82-11eb-9335-c270460eb11e.png)\r\n\r\nSummary mertics\r\n![image](https://user-images.githubusercontent.com/80257736/112252389-08224480-8c83-11eb-95b3-3b145b1a5b00.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805467854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805470676","html_url":"https://github.com/apache/iceberg/pull/2010#issuecomment-805470676","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2010","id":805470676,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ3MDY3Ng==","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T04:04:20Z","updated_at":"2021-03-24T04:04:20Z","author_association":"CONTRIBUTOR","body":"@XuQianJin-Stars #2354 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805470676/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805480137","html_url":"https://github.com/apache/iceberg/issues/2366#issuecomment-805480137","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2366","id":805480137,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ4MDEzNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T04:30:07Z","updated_at":"2021-03-24T04:30:07Z","author_association":"CONTRIBUTOR","body":"Thoughts, @RussellSpitzer @rdblue @pvary @rymurr @shardulm94?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805480137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805493646","html_url":"https://github.com/apache/iceberg/issues/2351#issuecomment-805493646","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2351","id":805493646,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ5MzY0Ng==","user":{"login":"yfcck","id":43957,"node_id":"MDQ6VXNlcjQzOTU3","avatar_url":"https://avatars.githubusercontent.com/u/43957?v=4","gravatar_id":"","url":"https://api.github.com/users/yfcck","html_url":"https://github.com/yfcck","followers_url":"https://api.github.com/users/yfcck/followers","following_url":"https://api.github.com/users/yfcck/following{/other_user}","gists_url":"https://api.github.com/users/yfcck/gists{/gist_id}","starred_url":"https://api.github.com/users/yfcck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yfcck/subscriptions","organizations_url":"https://api.github.com/users/yfcck/orgs","repos_url":"https://api.github.com/users/yfcck/repos","events_url":"https://api.github.com/users/yfcck/events{/privacy}","received_events_url":"https://api.github.com/users/yfcck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T04:51:01Z","updated_at":"2021-03-24T04:51:01Z","author_association":"NONE","body":"```\r\nspark.sql(\"CREATE TABLE tcsa.ods.sample3 (id bigint COMMENT 'unique id',data string) USING iceberg\").show\r\n```\r\n\r\n```\r\nhive.metastore.uri=thrift://hive:9083\r\nhive.config.resources=/etc/hadoop/conf/core-site.xml,/etc/hadoop/conf/hdfs-site.xml,/etc/hive/conf/hive-site.xml\r\niceberg.file-format=Parquet\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805493646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805494536","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-805494536","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":805494536,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ5NDUzNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T04:53:24Z","updated_at":"2021-03-24T04:53:24Z","author_association":"CONTRIBUTOR","body":"cc @yyanyy as well. I think this may affect how we can do the refactoring of writer factories. New APIs can accept the Table object.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805494536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805496696","html_url":"https://github.com/apache/iceberg/issues/2366#issuecomment-805496696","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2366","id":805496696,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ5NjY5Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T04:57:53Z","updated_at":"2021-03-24T04:57:53Z","author_association":"CONTRIBUTOR","body":"The unfortunate part is that our docs advise to call DROP on snapshot tables, potentially messing the original table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805496696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805496772","html_url":"https://github.com/apache/iceberg/issues/2366#issuecomment-805496772","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2366","id":805496772,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ5Njc3Mg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T04:58:07Z","updated_at":"2021-03-24T04:58:07Z","author_association":"CONTRIBUTOR","body":"Let me submit a PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805496772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805498760","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805498760","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805498760,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTQ5ODc2MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T05:02:02Z","updated_at":"2021-03-24T05:02:02Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @rdblue @pvary @rymurr @shardulm94","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805498760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805502435","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805502435","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805502435,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTUwMjQzNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T05:10:34Z","updated_at":"2021-03-24T05:10:34Z","author_association":"MEMBER","body":"How does a user delete files that are added to the snapshot but not part of the original table?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805502435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805502489","html_url":"https://github.com/apache/iceberg/issues/1994#issuecomment-805502489","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1994","id":805502489,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTUwMjQ4OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T05:10:42Z","updated_at":"2021-03-24T05:10:42Z","author_association":"CONTRIBUTOR","body":"I think the issue has been fixed. Closing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805502489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805542440","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805542440","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805542440,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTU0MjQ0MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T06:37:00Z","updated_at":"2021-03-24T06:37:32Z","author_association":"CONTRIBUTOR","body":"Ugh, good question. We could delete files only under the data subfolder but that won't be sufficient in a generic case. Suppose someone creates a table, sets `gc.enabled` to `false` and calls `add_files`. We need another approach.\r\n\r\nLet me sleep on this issue. I don't have a good solution.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805542440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805565009","html_url":"https://github.com/apache/iceberg/pull/2361#issuecomment-805565009","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2361","id":805565009,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTU2NTAwOQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T07:18:24Z","updated_at":"2021-03-24T07:18:24Z","author_association":"CONTRIBUTOR","body":"Reverted the relocation for now. Will do in a separate change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805565009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805619263","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-805619263","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":805619263,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTYxOTI2Mw==","user":{"login":"NageshB82","id":80257736,"node_id":"MDQ6VXNlcjgwMjU3NzM2","avatar_url":"https://avatars.githubusercontent.com/u/80257736?v=4","gravatar_id":"","url":"https://api.github.com/users/NageshB82","html_url":"https://github.com/NageshB82","followers_url":"https://api.github.com/users/NageshB82/followers","following_url":"https://api.github.com/users/NageshB82/following{/other_user}","gists_url":"https://api.github.com/users/NageshB82/gists{/gist_id}","starred_url":"https://api.github.com/users/NageshB82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NageshB82/subscriptions","organizations_url":"https://api.github.com/users/NageshB82/orgs","repos_url":"https://api.github.com/users/NageshB82/repos","events_url":"https://api.github.com/users/NageshB82/events{/privacy}","received_events_url":"https://api.github.com/users/NageshB82/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T08:52:31Z","updated_at":"2021-03-24T08:52:31Z","author_association":"NONE","body":"@RussellSpitzer As you suggested, We tried creating External table in spark (not iceberg table) as below and tried query on that\r\n\r\n`CREATE EXTERNAL TABLE Account(name  string,dn  string, accountCreationDate  string, disabled  long, forceChangePwd long, pwdLife long, numberLoginError long, lastChangePwd  string,  lastLogin  string, lastWrongLogin  string, state long, expire  string,  lastCertTime  string, creationDate  string, creationUser string, challengeCounter long,challengeFailedAttempt long, targetName string, isDeleted  string, lastUpdatedTime  long,  id  string, sourceTypes  string, _id  string, type string, isimId string, externalId string)\r\n    STORED AS PARQUET LOCATION '/root/Documents/Account';`\r\n\r\nQuerying data in same way like we queried for iceberg table using thrift server, \r\nHere I see each paginated records are fetching around 3-5 seconds for 20k records per page (while as Iceberg tables queries are taking 8-11 sec per page)\r\n \r\n![image](https://user-images.githubusercontent.com/80257736/112281433-0f117d00-8cac-11eb-8c8b-00bdf8676516.png)\r\n\r\n![image](https://user-images.githubusercontent.com/80257736/112281520-2486a700-8cac-11eb-8e68-9270ad30e107.png)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805619263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805625362","html_url":"https://github.com/apache/iceberg/issues/2308#issuecomment-805625362","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2308","id":805625362,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTYyNTM2Mg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T09:02:21Z","updated_at":"2021-03-24T09:02:21Z","author_association":"MEMBER","body":"@rdblue  What's your opinion about this issue ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805625362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805638066","html_url":"https://github.com/apache/iceberg/issues/2369#issuecomment-805638066","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2369","id":805638066,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTYzODA2Ng==","user":{"login":"zhuxiaoshang","id":31235759,"node_id":"MDQ6VXNlcjMxMjM1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/31235759?v=4","gravatar_id":"","url":"https://api.github.com/users/zhuxiaoshang","html_url":"https://github.com/zhuxiaoshang","followers_url":"https://api.github.com/users/zhuxiaoshang/followers","following_url":"https://api.github.com/users/zhuxiaoshang/following{/other_user}","gists_url":"https://api.github.com/users/zhuxiaoshang/gists{/gist_id}","starred_url":"https://api.github.com/users/zhuxiaoshang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhuxiaoshang/subscriptions","organizations_url":"https://api.github.com/users/zhuxiaoshang/orgs","repos_url":"https://api.github.com/users/zhuxiaoshang/repos","events_url":"https://api.github.com/users/zhuxiaoshang/events{/privacy}","received_events_url":"https://api.github.com/users/zhuxiaoshang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T09:22:17Z","updated_at":"2021-03-24T09:22:54Z","author_association":"NONE","body":"Nice Catch.Good Job! ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805638066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805671974","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-805671974","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":805671974,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTY3MTk3NA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T10:11:47Z","updated_at":"2021-03-24T10:11:47Z","author_association":"CONTRIBUTOR","body":"CC: @lcspinter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805671974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805686470","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805686470","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805686470,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTY4NjQ3MA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T10:20:28Z","updated_at":"2021-03-24T10:20:28Z","author_association":"CONTRIBUTOR","body":"Hive has it's own parameters to drop files which we should also keep consistent or at least consider with relation to the `gc.enabled`.\r\nSee:\r\nhttps://github.com/apache/iceberg/blob/469f6c3f640293df6c629a693450736350aa6fab/mr/src/main/java/org/apache/iceberg/mr/hive/HiveIcebergMetaHook.java#L121-L124\r\n\r\nand:\r\nhttps://github.com/apache/iceberg/blob/469f6c3f640293df6c629a693450736350aa6fab/mr/src/main/java/org/apache/iceberg/mr/hive/HiveIcebergMetaHook.java#L172-L184","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805686470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805686759","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805686759","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805686759,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTY4Njc1OQ==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T10:20:37Z","updated_at":"2021-03-24T10:20:37Z","author_association":"CONTRIBUTOR","body":"CC: @marton-bod ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805686759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805753363","html_url":"https://github.com/apache/iceberg/pull/2325#issuecomment-805753363","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2325","id":805753363,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTc1MzM2Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T11:40:55Z","updated_at":"2021-03-24T11:40:55Z","author_association":"CONTRIBUTOR","body":"Merged the PR. Thanks for the PR @lcspinter and @marton-bod, @rymurr, @rdblue  for the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805753363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805770620","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805770620","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805770620,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTc3MDYyMA==","user":{"login":"marton-bod","id":19599214,"node_id":"MDQ6VXNlcjE5NTk5MjE0","avatar_url":"https://avatars.githubusercontent.com/u/19599214?v=4","gravatar_id":"","url":"https://api.github.com/users/marton-bod","html_url":"https://github.com/marton-bod","followers_url":"https://api.github.com/users/marton-bod/followers","following_url":"https://api.github.com/users/marton-bod/following{/other_user}","gists_url":"https://api.github.com/users/marton-bod/gists{/gist_id}","starred_url":"https://api.github.com/users/marton-bod/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marton-bod/subscriptions","organizations_url":"https://api.github.com/users/marton-bod/orgs","repos_url":"https://api.github.com/users/marton-bod/repos","events_url":"https://api.github.com/users/marton-bod/events{/privacy}","received_events_url":"https://api.github.com/users/marton-bod/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T12:11:16Z","updated_at":"2021-03-24T12:11:16Z","author_association":"COLLABORATOR","body":"From a Hive user perspective, I would expect my data files to be dropped purely on the basis of whether `external.table.purge=TRUE` is set, and not be silently overridden by the Iceberg-specific `gc.enabled` property. So there might be surprises for Hive users if `purge=TRUE` but `gc.enabled=false` and therefore the data files end up not actually removed.\r\n\r\nI'm wondering if we should keep the two props in sync somehow via the `HiveTableOperations`, or at least provide better documentation on the possible Hive DROP TABLE behaviours?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805770620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805826984","html_url":"https://github.com/apache/iceberg/pull/2320#issuecomment-805826984","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2320","id":805826984,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTgyNjk4NA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T13:35:28Z","updated_at":"2021-03-24T13:35:28Z","author_association":"COLLABORATOR","body":"@rdblue , Most of the comments are addressed in https://github.com/apache/iceberg/pull/2372.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805826984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805880565","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805880565","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805880565,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTg4MDU2NQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T14:44:55Z","updated_at":"2021-03-24T14:44:55Z","author_association":"MEMBER","body":"I think for snapshots you only want to delete files that are made in commits after the original import, that should be possible but complicated. Basically just delete everything added after the first iceberg snapshot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805880565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805920632","html_url":"https://github.com/apache/iceberg/issues/2302#issuecomment-805920632","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2302","id":805920632,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTkyMDYzMg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T15:26:44Z","updated_at":"2021-03-24T15:26:44Z","author_association":"MEMBER","body":"Ok so that speed differences looks to be entirely due to the parallelization difference there, 8 files vs 1. The overall speed seems to be in line. My guess would be it's just a slow setup of hardware and IO. Probably IO based on how long even those tiny tasks took, over a second to read 2.6 mb's of data and deserialize it? Seems not great, results serialization time is also incredibly long on some of those tasks. Everything kinda feels like this system is being overloaded to me ...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805920632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805988043","html_url":"https://github.com/apache/iceberg/issues/2374#issuecomment-805988043","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2374","id":805988043,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTk4ODA0Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T16:49:20Z","updated_at":"2021-03-24T16:49:20Z","author_association":"CONTRIBUTOR","body":"Yeah, that's unfortunate. I've noticed this some time but did not have time to look into this.\r\n\r\n@rdblue, any ideas why we delegate the drop to the v1 session catalog?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805988043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805994813","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805994813","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805994813,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTk5NDgxMw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T16:57:44Z","updated_at":"2021-03-24T16:57:44Z","author_association":"CONTRIBUTOR","body":"> I think for snapshots you only want to delete files that are made in commits after the original import, that should be possible but complicated. Basically just delete everything added after the first iceberg snapshot.\r\n\r\nYes and no. That's the case for snapshot but what if someone creates an Iceberg table with GC disabled and uses it to just promote files written not through Iceberg? Then deleting data beyond the first snapshot not safe too. Maybe, we can take `snapshot` table property into account.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805994813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805995031","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-805995031","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":805995031,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNTk5NTAzMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T16:58:02Z","updated_at":"2021-03-24T16:58:02Z","author_association":"CONTRIBUTOR","body":"Let me see what we do in the Hive codebase.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/805995031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/806006808","html_url":"https://github.com/apache/iceberg/issues/2374#issuecomment-806006808","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2374","id":806006808,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjAwNjgwOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T17:13:43Z","updated_at":"2021-03-24T17:13:55Z","author_association":"MEMBER","body":"@sunchao Pointed out that this issue is most likely resolved in Spark 3.1.1 which only handles V1Tables via the old catalog.\r\n\r\nhttps://github.com/apache/spark/pull/27550\r\n\r\nThe code now only will apply to V1 Tables\r\n\r\nhttps://github.com/apache/spark/blob/master/sql/core/src/main/scala/org/apache/spark/sql/catalyst/analysis/ResolveSessionCatalog.scala#L327-L328\r\n\r\nWe should verify this, and if so we can close out the issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/806006808/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/806023117","html_url":"https://github.com/apache/iceberg/pull/2367#issuecomment-806023117","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2367","id":806023117,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjAyMzExNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T17:34:22Z","updated_at":"2021-03-24T17:34:22Z","author_association":"CONTRIBUTOR","body":"A few questions, @marton-bod @pvary.\r\n\r\n- How does Hive populate `deleteData` in `commitDropTable`?\r\n- Is it correct that `external.table.purge` is not specific to Iceberg, it used in other tables too?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/806023117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/806036066","html_url":"https://github.com/apache/iceberg/pull/2362#issuecomment-806036066","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2362","id":806036066,"node_id":"MDEyOklzc3VlQ29tbWVudDgwNjAzNjA2Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-24T17:53:57Z","updated_at":"2021-03-24T17:53:57Z","author_association":"MEMBER","body":"Should we just make a configuration container class? I'm not sure I like that it has the exact same api but runtime limits ... I haven't thought about this a lot though\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/806036066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]