[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298092330","html_url":"https://github.com/apache/accumulo/pull/255#issuecomment-298092330","issue_url":"https://api.github.com/repos/apache/accumulo/issues/255","id":298092330,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODA5MjMzMA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-28T19:56:49Z","updated_at":"2017-04-28T19:57:00Z","author_association":"MEMBER","body":"> So this is the guy causing us problems in Tracer.java:\r\n\r\nAh, so that ThreadLocal is designed so that we can transparently pick up the \"current\" span in a thread. When we spawn a new thread, we need to pass along the current spanId to that child. I'm pretty sure we already have wrappers for `Runnable` to do this -- maybe they just weren't used?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298092330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298103299","html_url":"https://github.com/apache/accumulo/pull/255#issuecomment-298103299","issue_url":"https://api.github.com/repos/apache/accumulo/issues/255","id":298103299,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODEwMzI5OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-28T20:49:55Z","updated_at":"2017-04-28T20:49:55Z","author_association":"CONTRIBUTOR","body":"Created a quick attempt at a static parent span to pass to the threads in 7444888ff8582bc31d0c61444103cc4dc9ff362a\r\n\r\nDoesn't seem to work though.... whomp whomp","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298103299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298237008","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298237008","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298237008,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODIzNzAwOA==","user":{"login":"adamjshook","id":1372828,"node_id":"MDQ6VXNlcjEzNzI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1372828?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjshook","html_url":"https://github.com/adamjshook","followers_url":"https://api.github.com/users/adamjshook/followers","following_url":"https://api.github.com/users/adamjshook/following{/other_user}","gists_url":"https://api.github.com/users/adamjshook/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjshook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjshook/subscriptions","organizations_url":"https://api.github.com/users/adamjshook/orgs","repos_url":"https://api.github.com/users/adamjshook/repos","events_url":"https://api.github.com/users/adamjshook/events{/privacy}","received_events_url":"https://api.github.com/users/adamjshook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-30T14:57:21Z","updated_at":"2017-04-30T14:57:21Z","author_association":"MEMBER","body":"I've been reading up on `Executors#sameThreadExecutor`, and I don't think we can use this here since it runs the task prior to getting any `Future`.  The timeout logic would not kick in until the task is finished. \r\n The task has to be run in a separate thread while the main thread idles to trigger the timeout.\r\n\r\nAdditionally, I'm having a bit of trouble getting a unit test I am pleased with.  I've made one that runs, but there is a race condition there where it'll either not run the task at all or the task runs but it throws and logs a `Connection refused` error because there is no server running to receive any work. You can take a look at the commit [here](https://github.com/adamjshook/accumulo/commit/e0c9ca76982aaa327dba0084e82b339383dfd09c).\r\n\r\nEither way the test passes since the `Status` returned is the same, but it isn't a very good test since the behavior isn't really defined.  I think we are a bit too high-level here for a unit test.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298237008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298347317","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298347317","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298347317,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODM0NzMxNw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-01T14:51:21Z","updated_at":"2017-05-01T14:51:21Z","author_association":"MEMBER","body":"> I've been reading up on Executors#sameThreadExecutor, and I don't think we can use this here since it runs the task prior to getting any Future. The timeout logic would not kick in until the task is finished.\r\nThe task has to be run in a separate thread while the main thread idles to trigger the timeout.\r\n\r\nAhh, bummer. Thought I could be tricky and help save us yet another thread ;)\r\n\r\n> Either way the test passes since the Status returned is the same, but it isn't a very good test since the behavior isn't really defined. I think we are a bit too high-level here for a unit test.\r\n\r\nI would be happy with a test that is not \"human-level\". That is, if you can write a test showing that your interrupt/retry logic works, I would +1 that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298347317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298661140","html_url":"https://github.com/apache/accumulo/pull/255#issuecomment-298661140","issue_url":"https://api.github.com/repos/apache/accumulo/issues/255","id":298661140,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODY2MTE0MA==","user":{"login":"billierinaldi","id":1810597,"node_id":"MDQ6VXNlcjE4MTA1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/1810597?v=4","gravatar_id":"","url":"https://api.github.com/users/billierinaldi","html_url":"https://github.com/billierinaldi","followers_url":"https://api.github.com/users/billierinaldi/followers","following_url":"https://api.github.com/users/billierinaldi/following{/other_user}","gists_url":"https://api.github.com/users/billierinaldi/gists{/gist_id}","starred_url":"https://api.github.com/users/billierinaldi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/billierinaldi/subscriptions","organizations_url":"https://api.github.com/users/billierinaldi/orgs","repos_url":"https://api.github.com/users/billierinaldi/repos","events_url":"https://api.github.com/users/billierinaldi/events{/privacy}","received_events_url":"https://api.github.com/users/billierinaldi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T14:58:48Z","updated_at":"2017-05-02T14:58:48Z","author_association":"CONTRIBUTOR","body":"I figure there are two possibilities, 1) the sendMutations span isn't always created, which would be bad, or 2) the span is created, but it's dropped sometimes because it's of length 0ms. It could be the latter, since I see sendMutations was 1ms for one of the sample traces posted. We could eliminate the second possibility by configuring the span receiver not to drop 0ms spans for this test. This can be done by setting tracer.span.min.ms to 0 (default value is 1) in the accumulo conf.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298661140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298672867","html_url":"https://github.com/apache/accumulo/pull/255#issuecomment-298672867","issue_url":"https://api.github.com/repos/apache/accumulo/issues/255","id":298672867,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODY3Mjg2Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T15:38:29Z","updated_at":"2017-05-02T15:38:29Z","author_association":"CONTRIBUTOR","body":"Thanks @billierinaldi good idea with the tracer.span.min.ms parameter.  I will give a try see what we get!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298672867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298707205","html_url":"https://github.com/apache/accumulo/pull/255#issuecomment-298707205","issue_url":"https://api.github.com/repos/apache/accumulo/issues/255","id":298707205,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODcwNzIwNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T17:39:40Z","updated_at":"2017-05-02T17:39:40Z","author_association":"CONTRIBUTOR","body":"I think we got it!  Looking good with 22c9481\r\n\r\nI will run the IT a few more times just to make sure this is squashed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298707205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298709504","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298709504","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298709504,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODcwOTUwNA==","user":{"login":"adamjshook","id":1372828,"node_id":"MDQ6VXNlcjEzNzI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1372828?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjshook","html_url":"https://github.com/adamjshook","followers_url":"https://api.github.com/users/adamjshook/followers","following_url":"https://api.github.com/users/adamjshook/following{/other_user}","gists_url":"https://api.github.com/users/adamjshook/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjshook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjshook/subscriptions","organizations_url":"https://api.github.com/users/adamjshook/orgs","repos_url":"https://api.github.com/users/adamjshook/repos","events_url":"https://api.github.com/users/adamjshook/events{/privacy}","received_events_url":"https://api.github.com/users/adamjshook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T17:48:01Z","updated_at":"2017-05-02T17:48:01Z","author_association":"MEMBER","body":"@joshelser Back at you.  I think I managed to scrape together a test that I am happy with.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298709504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298719020","html_url":"https://github.com/apache/accumulo/pull/255#issuecomment-298719020","issue_url":"https://api.github.com/repos/apache/accumulo/issues/255","id":298719020,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODcxOTAyMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T18:22:57Z","updated_at":"2017-05-02T18:22:57Z","author_association":"CONTRIBUTOR","body":"With the span min set to 0, I am consistently seeing the Test pass and the output:\r\n<pre>    0+2268               master@0.0.0.0 org.apache.accumulo.core.client.impl.TabletServerBatchWriter$MutationWriter 1\r\n    0+2268                 master@0.0.0.0 sendMutations</pre>\r\n\r\nThe span taking <1ms would explain why this test was previously failing a lot on my machine","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298719020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298745592","html_url":"https://github.com/apache/accumulo/pull/255#issuecomment-298745592","issue_url":"https://api.github.com/repos/apache/accumulo/issues/255","id":298745592,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODc0NTU5Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T20:05:15Z","updated_at":"2017-05-02T20:05:15Z","author_association":"CONTRIBUTOR","body":"Merged into 1.7, 1.8 and master","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298745592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298941479","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298941479","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298941479,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODk0MTQ3OQ==","user":{"login":"adamjshook","id":1372828,"node_id":"MDQ6VXNlcjEzNzI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1372828?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjshook","html_url":"https://github.com/adamjshook","followers_url":"https://api.github.com/users/adamjshook/followers","following_url":"https://api.github.com/users/adamjshook/following{/other_user}","gists_url":"https://api.github.com/users/adamjshook/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjshook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjshook/subscriptions","organizations_url":"https://api.github.com/users/adamjshook/orgs","repos_url":"https://api.github.com/users/adamjshook/repos","events_url":"https://api.github.com/users/adamjshook/events{/privacy}","received_events_url":"https://api.github.com/users/adamjshook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T15:13:03Z","updated_at":"2017-05-03T15:13:03Z","author_association":"MEMBER","body":"Any chance this could be reviewed today?  I'd like to get it blessed before applying it on my end to address our production issue.  Thank you!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298941479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298968796","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298968796","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298968796,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODk2ODc5Ng==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T16:47:45Z","updated_at":"2017-05-03T16:47:45Z","author_association":"MEMBER","body":"Let me bring this out of the thread, given the good find by @adamjshook that the code calls the thrift RPC method without timeout, I think this change could be greatly simplified: add the configuration property for timeout on WAL replication RPCs (from source to peer cluster) and switch that RPC to use the RPC with timeout method on ThriftUtil. Literally, the 3 or 4 lines of code that would take.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298968796/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298978499","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298978499","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298978499,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODk3ODQ5OQ==","user":{"login":"adamjshook","id":1372828,"node_id":"MDQ6VXNlcjEzNzI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1372828?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjshook","html_url":"https://github.com/adamjshook","followers_url":"https://api.github.com/users/adamjshook/followers","following_url":"https://api.github.com/users/adamjshook/following{/other_user}","gists_url":"https://api.github.com/users/adamjshook/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjshook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjshook/subscriptions","organizations_url":"https://api.github.com/users/adamjshook/orgs","repos_url":"https://api.github.com/users/adamjshook/repos","events_url":"https://api.github.com/users/adamjshook/events{/privacy}","received_events_url":"https://api.github.com/users/adamjshook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T17:24:24Z","updated_at":"2017-05-03T17:24:24Z","author_association":"MEMBER","body":"@joshelser @keith-turner Updated using the new method.  Let me know if setting that config property isn't the best way to do it.  Tested it on my pair of VMs and the client timeout is throwing an exception which is caught by the `AccumuloReplicaSystem`.  The replication is then tried again up to `replication.work.attempts` before being abandoned entirely.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298978499/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298979770","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298979770","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298979770,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODk3OTc3MA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T17:29:04Z","updated_at":"2017-05-03T17:29:04Z","author_association":"MEMBER","body":"This LGTM. WDYT, @keith-turner ?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298979770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298988372","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298988372","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298988372,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODk4ODM3Mg==","user":{"login":"adamjshook","id":1372828,"node_id":"MDQ6VXNlcjEzNzI4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1372828?v=4","gravatar_id":"","url":"https://api.github.com/users/adamjshook","html_url":"https://github.com/adamjshook","followers_url":"https://api.github.com/users/adamjshook/followers","following_url":"https://api.github.com/users/adamjshook/following{/other_user}","gists_url":"https://api.github.com/users/adamjshook/gists{/gist_id}","starred_url":"https://api.github.com/users/adamjshook/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamjshook/subscriptions","organizations_url":"https://api.github.com/users/adamjshook/orgs","repos_url":"https://api.github.com/users/adamjshook/repos","events_url":"https://api.github.com/users/adamjshook/events{/privacy}","received_events_url":"https://api.github.com/users/adamjshook/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T18:00:56Z","updated_at":"2017-05-03T18:00:56Z","author_association":"MEMBER","body":"Alright, updated again.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298988372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298991153","html_url":"https://github.com/apache/accumulo/pull/255#issuecomment-298991153","issue_url":"https://api.github.com/repos/apache/accumulo/issues/255","id":298991153,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODk5MTE1Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T18:11:27Z","updated_at":"2017-05-03T18:11:27Z","author_association":"MEMBER","body":"Don't forget to close the JIRA if this is done.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298991153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298992749","html_url":"https://github.com/apache/accumulo/pull/254#issuecomment-298992749","issue_url":"https://api.github.com/repos/apache/accumulo/issues/254","id":298992749,"node_id":"MDEyOklzc3VlQ29tbWVudDI5ODk5Mjc0OQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T18:17:03Z","updated_at":"2017-05-03T18:17:03Z","author_association":"CONTRIBUTOR","body":"I think it looks good.  Thanks @adamjshook ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/298992749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/299918326","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-299918326","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":299918326,"node_id":"MDEyOklzc3VlQ29tbWVudDI5OTkxODMyNg==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-08T16:30:31Z","updated_at":"2017-05-08T16:30:31Z","author_association":"CONTRIBUTOR","body":"Ok, let me see if I can rework this given the comments up to this point.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/299918326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300185052","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-300185052","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":300185052,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDE4NTA1Mg==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-09T14:36:30Z","updated_at":"2017-05-09T14:36:30Z","author_association":"MEMBER","body":"@keith-turner do you have the resources to spin up stuff on ec2 so that we can compare it to previous release's numbers? It would be nice to do a coarse comparison, lest we do another maintenance release and accidentally include a perf regression..","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300185052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300258191","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-300258191","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":300258191,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDI1ODE5MQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-09T18:24:23Z","updated_at":"2017-05-09T18:24:23Z","author_association":"CONTRIBUTOR","body":"I made some significant changes in this latest commit. @joshelser , @keith-turner  - I believe I addressed most, if not all, of your previous comments.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300258191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300542034","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-300542034","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":300542034,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDU0MjAzNA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-10T16:42:24Z","updated_at":"2017-05-10T16:42:24Z","author_association":"CONTRIBUTOR","body":"@dlmarion I am experimenting with changes re configuration of a BlockCacheManager.   If they seem good I will post them for consideration.  I was curious if you had any large outstanding changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300542034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300570976","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-300570976","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":300570976,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDU3MDk3Ng==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-10T18:23:31Z","updated_at":"2017-05-10T18:23:31Z","author_association":"CONTRIBUTOR","body":"@dlmarion  I made some experimental changes : keith-turner/accumulo@b4a1b519f13c18d2828af982712d0dc9172c0a69\r\n\r\nThey are not finished (the test don't compile), but there is enough there to show the gist of what I was thinking. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300570976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300944417","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-300944417","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":300944417,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDk0NDQxNw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-11T23:34:35Z","updated_at":"2017-05-11T23:34:35Z","author_association":"CONTRIBUTOR","body":"@joshelser I used the following script to run some performance test locally using [Uno](https://github.com/astralway/uno).  I didn't bother computing stats, but there is definitely an observable performance improvement (and no degradation).   That's pretty cool to see, because the performance test run earlier were targeted to just the iterator stack.  This is showing improvements in an end to end test.\r\n\r\n```bash\r\n#! /usr/bin/env bash\r\n\r\neval \"$(./bin/uno env)\"\r\n\r\naccumulo shell -u root -p secret -e 'createtable test_ingest'\r\n\r\naccumulo org.apache.accumulo.test.TestIngest -i uno -u root -p secret --timestamp 1 --size 50 --random 56 --rows 1000000 --start 0 --cols 1 &\r\naccumulo org.apache.accumulo.test.TestIngest -i uno -u root -p secret --timestamp 1 --size 50 --random 56 --rows 1000000 --start 1000000 --cols 1 &\r\naccumulo org.apache.accumulo.test.TestIngest -i uno -u root -p secret --timestamp 1 --size 50 --random 56 --rows 1000000 --start 2000000 --cols 1 &\r\naccumulo org.apache.accumulo.test.TestIngest -i uno -u root -p secret --timestamp 1 --size 50 --random 56 --rows 1000000 --start 3000000 --cols 1 &\r\naccumulo org.apache.accumulo.test.TestIngest -i uno -u root -p secret --timestamp 1 --size 50 --random 56 --rows 1000000 --start 4000000 --cols 1 &\r\n\r\nwait\r\n\r\naccumulo shell -u root -p secret -e 'compact -t test_ingest -w'\r\n\r\nfor run in {1..10}\r\ndo\r\n  accumulo  org.apache.accumulo.test.VerifyIngest -i uno -u root -p secret --size 50 --timestamp 1 --random 56 --rows 5000000 --start 0 --cols 1\r\ndone\r\n\r\n```\r\n\r\nBelow are the results for 1.7.3\r\n```\r\n   5,000,000 records read |  390,502 records/sec |  395,000,000 bytes read | 30,849,734 bytes/sec | 12.804 secs   \r\n   5,000,000 records read |  411,861 records/sec |  395,000,000 bytes read | 32,537,067 bytes/sec | 12.140 secs   \r\n   5,000,000 records read |  424,268 records/sec |  395,000,000 bytes read | 33,517,182 bytes/sec | 11.785 secs   \r\n   5,000,000 records read |  428,338 records/sec |  395,000,000 bytes read | 33,838,773 bytes/sec | 11.673 secs   \r\n   5,000,000 records read |  427,350 records/sec |  395,000,000 bytes read | 33,760,683 bytes/sec | 11.700 secs   \r\n   5,000,000 records read |  428,228 records/sec |  395,000,000 bytes read | 33,830,078 bytes/sec | 11.676 secs   \r\n   5,000,000 records read |  427,606 records/sec |  395,000,000 bytes read | 33,780,894 bytes/sec | 11.693 secs   \r\n   5,000,000 records read |  427,606 records/sec |  395,000,000 bytes read | 33,780,894 bytes/sec | 11.693 secs   \r\n   5,000,000 records read |  431,816 records/sec |  395,000,000 bytes read | 34,113,481 bytes/sec | 11.579 secs   \r\n   5,000,000 records read |  414,250 records/sec |  395,000,000 bytes read | 32,725,766 bytes/sec | 12.070 secs   \r\n\r\n```\r\n\r\nBelow are the results for this branch\r\n```\r\n   5,000,000 records read |  408,563 records/sec |  395,000,000 bytes read | 32,276,515 bytes/sec | 12.238 secs   \r\n   5,000,000 records read |  426,657 records/sec |  395,000,000 bytes read | 33,705,947 bytes/sec | 11.719 secs   \r\n   5,000,000 records read |  447,027 records/sec |  395,000,000 bytes read | 35,315,154 bytes/sec | 11.185 secs   \r\n   5,000,000 records read |  442,830 records/sec |  395,000,000 bytes read | 34,983,615 bytes/sec | 11.291 secs   \r\n   5,000,000 records read |  446,388 records/sec |  395,000,000 bytes read | 35,264,708 bytes/sec | 11.201 secs   \r\n   5,000,000 records read |  445,990 records/sec |  395,000,000 bytes read | 35,233,253 bytes/sec | 11.211 secs   \r\n   5,000,000 records read |  435,957 records/sec |  395,000,000 bytes read | 34,440,666 bytes/sec | 11.469 secs   \r\n   5,000,000 records read |  442,869 records/sec |  395,000,000 bytes read | 34,986,713 bytes/sec | 11.290 secs   \r\n   5,000,000 records read |  439,521 records/sec |  395,000,000 bytes read | 34,722,222 bytes/sec | 11.376 secs   \r\n   5,000,000 records read |  424,592 records/sec |  395,000,000 bytes read | 33,542,798 bytes/sec | 11.776 secs  \r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300944417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300945867","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-300945867","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":300945867,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDk0NTg2Nw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-11T23:44:40Z","updated_at":"2017-05-11T23:44:40Z","author_association":"CONTRIBUTOR","body":"I threw it in a spreadsheet and did the math.  It was a 3.53% speedup","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300945867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300971041","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-300971041","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":300971041,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMDk3MTA0MQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-12T02:57:25Z","updated_at":"2017-05-12T02:57:25Z","author_association":"MEMBER","body":"Thanks for running with the test, Keith. I'm ok with this on 1.7. A similar sanity check for 1.8 would similarly make me happy for that branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/300971041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301127819","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-301127819","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":301127819,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTEyNzgxOQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-12T16:46:40Z","updated_at":"2017-05-12T16:46:40Z","author_association":"CONTRIBUTOR","body":"@keith-turner @mjwall  - I added a new commit that takes into account your comments and changes","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301127819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301130231","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-301130231","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":301130231,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTEzMDIzMQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-12T16:57:07Z","updated_at":"2017-05-12T16:57:07Z","author_association":"CONTRIBUTOR","body":"I modified the benchmark tests to work with 1.7 and ran against my branch and 1.7.  A few individual tests showed a decrease.  Here were the results:\r\n<pre>\r\nTest: MyBenchmark.seekAllSystemIters10 showed -1.9% increase in ops/s\r\nTest: MyBenchmark.seekAllSystemIters1000 showed 6.0% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCQFilter10 showed -4.3% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCQFilter1000 showed -2.7% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCfFilter10 showed 14.0% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCfFilter1000 showed 11.5% increase in ops/s\r\nTest: MyBenchmark.seekTestWithEmptyAuths10 showed 12.1% increase in ops/s\r\nTest: MyBenchmark.seekTestWithEmptyAuths1000 showed 9.1% increase in ops/s\r\nTotal 5.48% increase in ops/s\r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301130231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301136943","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-301136943","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":301136943,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTEzNjk0Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-12T17:25:45Z","updated_at":"2017-05-12T17:25:45Z","author_association":"CONTRIBUTOR","body":"Scratch that... the tests weren't great.  Doing some tweaking and then will run again.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301136943/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301162614","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-301162614","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":301162614,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTE2MjYxNA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-12T19:15:27Z","updated_at":"2017-05-12T19:15:27Z","author_association":"CONTRIBUTOR","body":"Where should we document the config props for LruCacheManager?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301162614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301547476","html_url":"https://github.com/apache/accumulo/pull/258#issuecomment-301547476","issue_url":"https://api.github.com/repos/apache/accumulo/issues/258","id":301547476,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTU0NzQ3Ng==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-15T17:37:34Z","updated_at":"2017-05-15T17:37:34Z","author_association":"MEMBER","body":"LGTM -- nice to see the semantics clear on IteratorEnvironment.\r\n\r\nAny interest in adding a unit test?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301547476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301566191","html_url":"https://github.com/apache/accumulo/pull/258#issuecomment-301566191","issue_url":"https://api.github.com/repos/apache/accumulo/issues/258","id":301566191,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTU2NjE5MQ==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-15T18:41:09Z","updated_at":"2017-05-15T18:41:09Z","author_association":"CONTRIBUTOR","body":"I will see what I can do to force the MockAccumulo through that path.....","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301566191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301567114","html_url":"https://github.com/apache/accumulo/pull/258#issuecomment-301567114","issue_url":"https://api.github.com/repos/apache/accumulo/issues/258","id":301567114,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTU2NzExNA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-15T18:44:26Z","updated_at":"2017-05-15T18:44:35Z","author_association":"MEMBER","body":"> I will see what I can do to force the MockAccumulo through that path\r\n\r\nOh, I don't think you need to do anything so high-level. Just instantiate the MockIteratorEnvironment and add test methods that verify what each of those methods you modified does :)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301567114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301581148","html_url":"https://github.com/apache/accumulo/pull/258#issuecomment-301581148","issue_url":"https://api.github.com/repos/apache/accumulo/issues/258","id":301581148,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTU4MTE0OA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-15T19:38:09Z","updated_at":"2017-05-15T19:38:09Z","author_association":"CONTRIBUTOR","body":"tests added","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301581148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301595580","html_url":"https://github.com/apache/accumulo/pull/258#issuecomment-301595580","issue_url":"https://api.github.com/repos/apache/accumulo/issues/258","id":301595580,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTU5NTU4MA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-15T20:30:50Z","updated_at":"2017-05-15T20:30:50Z","author_association":"MEMBER","body":"Thanks for the revisions, @ivakegg! Will try to commit later today.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301595580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301601937","html_url":"https://github.com/apache/accumulo/pull/258#issuecomment-301601937","issue_url":"https://api.github.com/repos/apache/accumulo/issues/258","id":301601937,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTYwMTkzNw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-15T20:54:54Z","updated_at":"2017-05-15T20:54:54Z","author_association":"MEMBER","body":"> Will try to commit later today.\r\n\r\nI am also expanding the `*` import and squashing the commits together.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/301601937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302219913","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-302219913","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":302219913,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjIxOTkxMw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-17T20:19:46Z","updated_at":"2017-05-17T20:19:46Z","author_association":"CONTRIBUTOR","body":"Refactored the benchmark suite to build different version.  Here are the new results:\r\n<pre>\r\nTest: MyBenchmark.seekAllSystemIters10 showed 89.8% increase in ops/s\r\nTest: MyBenchmark.seekAllSystemIters1000 showed 93.8% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCQFilter10 showed -13.4% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCQFilter1000 showed 4.2% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCfFilter10 showed 35.7% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCfFilter1000 showed 63.3% increase in ops/s\r\nTest: MyBenchmark.seekTestWithEmptyAuths10 showed 112.1% increase in ops/s\r\nTest: MyBenchmark.seekTestWithEmptyAuths1000 showed 199.9% increase in ops/s\r\nTotal average 73.17% increase in ops/s\r\n</pre>\r\nThe one scenario still seems to show some regression, seekTestWithCQFilter, which seeks to data with a Column Qualifer.  I am not sure why this is happening... perhaps the extra checks added in ColumnQualifierFilter cause a slight slowdown when a CQ is present?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302219913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302249681","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-302249681","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":302249681,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjI0OTY4MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-17T22:31:00Z","updated_at":"2017-05-17T22:31:00Z","author_association":"CONTRIBUTOR","body":"@dlmarion  I made some changes to simplify configuration  keith-turner/accumulo@cc8ae867cdadd4645e2cbd985d27eb83cf35932d","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302249681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302393043","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-302393043","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":302393043,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjM5MzA0Mw==","user":{"login":"mjwall","id":2342,"node_id":"MDQ6VXNlcjIzNDI=","avatar_url":"https://avatars.githubusercontent.com/u/2342?v=4","gravatar_id":"","url":"https://api.github.com/users/mjwall","html_url":"https://github.com/mjwall","followers_url":"https://api.github.com/users/mjwall/followers","following_url":"https://api.github.com/users/mjwall/following{/other_user}","gists_url":"https://api.github.com/users/mjwall/gists{/gist_id}","starred_url":"https://api.github.com/users/mjwall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjwall/subscriptions","organizations_url":"https://api.github.com/users/mjwall/orgs","repos_url":"https://api.github.com/users/mjwall/repos","events_url":"https://api.github.com/users/mjwall/events{/privacy}","received_events_url":"https://api.github.com/users/mjwall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T12:45:48Z","updated_at":"2017-05-18T12:45:48Z","author_association":"MEMBER","body":"@keith-turner I like the clean up you did with a builder.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302393043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302401914","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-302401914","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":302401914,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjQwMTkxNA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T13:22:38Z","updated_at":"2017-05-18T13:22:38Z","author_association":"CONTRIBUTOR","body":"@keith-turner looks good. Is the Builder just for tests? I'm assuming you don't need it in TabletServerResourceManager, RFileScanner, etc because you already have the configuration. Feel free to merge it in to the feature branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302401914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302402406","html_url":"https://github.com/apache/accumulo/pull/253#issuecomment-302402406","issue_url":"https://api.github.com/repos/apache/accumulo/issues/253","id":302402406,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjQwMjQwNg==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T13:24:26Z","updated_at":"2017-05-18T13:24:26Z","author_association":"CONTRIBUTOR","body":"@ctubbsii  I am attempting to resolve the issues within this pull request.  I am creating a separate branch under my account.  Shall I subsequently create a pull request from my branch to yours so that you can update this pull request or is there another way to do this?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302402406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302403636","html_url":"https://github.com/apache/accumulo/pull/253#issuecomment-302403636","issue_url":"https://api.github.com/repos/apache/accumulo/issues/253","id":302403636,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjQwMzYzNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T13:29:02Z","updated_at":"2017-05-18T13:29:02Z","author_association":"MEMBER","body":"@ivakegg if you do a PR against my branch, I'll merge it. Probably the easiest way forward.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302403636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302424649","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-302424649","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":302424649,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjQyNDY0OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T14:41:18Z","updated_at":"2017-05-18T14:41:18Z","author_association":"CONTRIBUTOR","body":"I took a look again at the changes to ColumnQualifierFilter and I think they are still a positive change.  I think the slowdown with seekTestWithCQFilter10 is due to the overhead of the setup since the test only brings back 10x (16) keys.  We do see it pay off in the long run with the test with more keys, seekTestWithCQFilter1000, showing a positive increase.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302424649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302429220","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-302429220","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":302429220,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjQyOTIyMA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T14:55:58Z","updated_at":"2017-05-18T14:55:58Z","author_association":"CONTRIBUTOR","body":"> Is the Builder just for tests?\r\n\r\nAt first I was not sure what visibility the builder should be.  Eventually, I decided it should be the same visibility as the static prefix names, which are currently public.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302429220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302456511","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-302456511","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":302456511,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjQ1NjUxMQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T16:11:28Z","updated_at":"2017-05-18T16:11:28Z","author_association":"CONTRIBUTOR","body":"Results from my Linux laptop:\r\n<pre>\r\nTest: MyBenchmark.seekAllSystemIters10 showed 61.0% increase in ops/s\r\nTest: MyBenchmark.seekAllSystemIters1000 showed 66.6% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCQFilter10 showed 11.1% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCQFilter1000 showed 0.7% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCfFilter10 showed 31.2% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCfFilter1000 showed 30.1% increase in ops/s\r\nTest: MyBenchmark.seekTestWithEmptyAuths10 showed 102.8% increase in ops/s\r\nTest: MyBenchmark.seekTestWithEmptyAuths1000 showed 125.5% increase in ops/s\r\nTotal average 53.62% increase in ops/s\r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302456511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302521539","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-302521539","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":302521539,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjUyMTUzOQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-18T19:47:30Z","updated_at":"2017-05-18T20:27:40Z","author_association":"CONTRIBUTOR","body":"I merged the changes with the 1.8 branch and created benchmarks for them as well. Ran those benchmarks on my laptop and got similar results.  Full test results can be seen [here](https://github.com/milleruntime/accumulo-benchmark/commit/dc7e5944d78ebedfbf0b2d818baedd1a6a5df7e6).\r\n<pre>\r\nTest: MyBenchmark.seekAllSystemIters10 showed 57.1% increase in ops/s\r\nTest: MyBenchmark.seekAllSystemIters1000 showed 70.7% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCQFilter10 showed 5.2% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCQFilter1000 showed 17.4% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCfFilter10 showed 24.5% increase in ops/s\r\nTest: MyBenchmark.seekTestWithCfFilter1000 showed 24.5% increase in ops/s\r\nTest: MyBenchmark.seekTestWithEmptyAuths10 showed 109.8% increase in ops/s\r\nTest: MyBenchmark.seekTestWithEmptyAuths1000 showed 127.0% increase in ops/s\r\nTotal average 54.51% increase in ops/s\r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302521539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302654093","html_url":"https://github.com/apache/accumulo/pull/257#issuecomment-302654093","issue_url":"https://api.github.com/repos/apache/accumulo/issues/257","id":302654093,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjY1NDA5Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T09:23:38Z","updated_at":"2017-05-19T09:23:38Z","author_association":"MEMBER","body":"Once again, please don't forget to close the JIRA once a patch is merged and the issue is complete. :)\r\nFor better or worse, we're still doing our primary bug tracking in JIRA.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302654093/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302733453","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-302733453","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":302733453,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjczMzQ1Mw==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T15:25:13Z","updated_at":"2017-05-19T15:25:13Z","author_association":"CONTRIBUTOR","body":"@dlmarion  I have a few misc changes, would you like me to just push them to this branch for your review?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302733453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302741245","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-302741245","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":302741245,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMjc0MTI0NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-19T15:54:17Z","updated_at":"2017-05-19T15:54:17Z","author_association":"CONTRIBUTOR","body":"yes please.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/302741245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303162385","html_url":"https://github.com/apache/accumulo/pull/256#issuecomment-303162385","issue_url":"https://api.github.com/repos/apache/accumulo/issues/256","id":303162385,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzE2MjM4NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-22T17:11:26Z","updated_at":"2017-05-22T17:11:26Z","author_association":"CONTRIBUTOR","body":"Merged manually","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303162385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303243459","html_url":"https://github.com/apache/accumulo/pull/259#issuecomment-303243459","issue_url":"https://api.github.com/repos/apache/accumulo/issues/259","id":303243459,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI0MzQ1OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-22T23:04:07Z","updated_at":"2017-05-22T23:04:07Z","author_association":"MEMBER","body":"The referenced JIRA issue remains open. Is there more work to be done?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303243459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303254589","html_url":"https://github.com/apache/accumulo/pull/259#issuecomment-303254589","issue_url":"https://api.github.com/repos/apache/accumulo/issues/259","id":303254589,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzI1NDU4OQ==","user":{"login":"mikewalch","id":730698,"node_id":"MDQ6VXNlcjczMDY5OA==","avatar_url":"https://avatars.githubusercontent.com/u/730698?v=4","gravatar_id":"","url":"https://api.github.com/users/mikewalch","html_url":"https://github.com/mikewalch","followers_url":"https://api.github.com/users/mikewalch/followers","following_url":"https://api.github.com/users/mikewalch/following{/other_user}","gists_url":"https://api.github.com/users/mikewalch/gists{/gist_id}","starred_url":"https://api.github.com/users/mikewalch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikewalch/subscriptions","organizations_url":"https://api.github.com/users/mikewalch/orgs","repos_url":"https://api.github.com/users/mikewalch/repos","events_url":"https://api.github.com/users/mikewalch/events{/privacy}","received_events_url":"https://api.github.com/users/mikewalch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-23T00:17:40Z","updated_at":"2017-05-23T00:17:40Z","author_association":"MEMBER","body":"I closed it","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303254589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303750998","html_url":"https://github.com/apache/accumulo/pull/253#issuecomment-303750998","issue_url":"https://api.github.com/repos/apache/accumulo/issues/253","id":303750998,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc1MDk5OA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T14:59:33Z","updated_at":"2017-05-24T14:59:33Z","author_association":"CONTRIBUTOR","body":"I did another PR against this branch to make this compatible with the master.  Your change to the configuration factory object methods require changes to this PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303750998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303774196","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303774196","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303774196,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc3NDE5Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T16:15:00Z","updated_at":"2017-05-24T16:15:00Z","author_association":"CONTRIBUTOR","body":"While looking into the failing IT, ThriftServerBindsBeforeZooKeeperLockIT, I noticed BasicServlet (which was deleted) had functionality of a standby Monitor as part of HighlyAvailableService.  @lstav @ctubbsii Do you know if this standby ability has been removed or just relocated?\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303774196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303775064","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303775064","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303775064,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc3NTA2NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T16:18:11Z","updated_at":"2017-05-24T16:18:11Z","author_association":"MEMBER","body":"@milleruntime The only standby behavior we want to retain is that of the log receiver. The active monitor registers itself as the log receiver in ZK, but the standbys shouldn't. Everything else should be the same.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303775064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303777588","html_url":"https://github.com/apache/accumulo/pull/253#issuecomment-303777588","issue_url":"https://api.github.com/repos/apache/accumulo/issues/253","id":303777588,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc3NzU4OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T16:26:37Z","updated_at":"2017-05-24T16:26:37Z","author_association":"MEMBER","body":"@ivakegg  Rather than merge your last PR, I simply rebased, and resolved the errors, and cleaned up some unused variables. Have you been able to get VolumeChooserForNonTableScopeIT to pass? It always hangs when I try.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303777588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303780586","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303780586","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303780586,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc4MDU4Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T16:37:38Z","updated_at":"2017-05-24T16:37:38Z","author_association":"CONTRIBUTOR","body":"Ok the reason I was asking was because of this check in ThriftServerBindsBeforeZooKeeperLockIT\r\n`// This is our \"assertion\", but we want to re-check it if it's not what we expect`\r\n`if (HttpURLConnection.HTTP_UNAVAILABLE == responseCode && null != errorText && errorText.contains(\"This is not the active Monitor\")) {\r\n              return;\r\n            }`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303780586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303782677","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303782677","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303782677,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc4MjY3Nw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T16:45:09Z","updated_at":"2017-05-24T16:45:42Z","author_association":"CONTRIBUTOR","body":"I am not sure what the second while loop is checking for in ThriftServerBindsBeforeZooKeeperLockIT .testMonitorService but its expecting a standby monitor.  If its just testing for a standby monitor think its safe to remove it?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303782677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303784161","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303784161","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303784161,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc4NDE2MQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T16:50:09Z","updated_at":"2017-05-24T16:50:09Z","author_association":"MEMBER","body":"> The active monitor registers itself as the log receiver in ZK\r\n\r\n> its expecting a standby monitor\r\n\r\nReminder: there are two advertisements for the monitor in ZooKeeper. One is the HTTP address and the other is the log-forwarding address. The former is what users can access to get the hostname to put in their browser, the latter is how the TabletServers know where to send their log messages (that match the configured level).\r\n\r\nThe test is verifying that the HTTP address is being advertised and the HTTP server is listening for requests before the ZK lock is acquired. I wouldn't know why this functionality has changed. It is a bug if it has without justification (as it will break things downstream...).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303784161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303796285","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303796285","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303796285,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc5NjI4NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T17:34:21Z","updated_at":"2017-05-24T17:35:02Z","author_association":"MEMBER","body":"To be clear, the registration that @joshelser describes has not changed. What has changed is that the standby serves the REST API and views instead of displaying a message that it does not have the lock, while it is waiting for the lock.\r\n\r\nThe sole purpose of the lock for the monitor is to support automatic forwarding to one, and only one, monitor with the out-of-box log configuration. Otherwise, the service registration would be a list instead of a singleton lock.\r\n\r\n@lstav and I discussed the possibility of adding a message to the log view only (instead of all pages, which the BasicServlet did) similar to the old message, so that a user won't be confused why no logs are showing up when they visit a standby monitor. That would only matter for the log view, because that's the only functionality that would differ between the active and standby monitors. However, I'm not sure whether or not that's the right thing to do, because a user may wish to configure a log appender to forward logs to all monitors, and such a message would only apply to our custom monitor appender, which discriminates in favor of the active monitor for log forwarding.\r\n\r\nTo summarize: the test should still check that HTTP is serving before acquiring the lock. However, the text of what it is looking for in the standby monitor may have changed. We could add a simple REST endpoint for the monitor to report its own status... and that could contain things like: active or standby, listening ports, listening interfaces, last master contact time, etc. That would make it easier to verify that the HTTP service is working, even when the lock has not yet been acquired.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303796285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303798566","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303798566","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303798566,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzc5ODU2Ng==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T17:42:45Z","updated_at":"2017-05-24T17:42:45Z","author_association":"MEMBER","body":"> What has changed is that the standby serves the REST API and views instead of displaying a message that it does not have the lock, while it is waiting for the lock.\r\n\r\nAn old, standby monitor would return HTTP/503 (unavailable) to signify that it isn't polling data from the master and (thus) is useless to observe. Does the new REST API still do this?\r\n\r\nI am thinking that the test could hit the REST API (instead of a view) to get the same HTTP/503, and the view could display its message about \"i am the standby-monitor, blah blah\" in response to the 503?\r\n\r\nAside: I'm finding the use of 503 to denote \"expected unavailability\" to be odd (i'm used to 5xx series being unexpected server-side errors) despite using that code when writing this :). I wonder if there is a 4xx response code which would be more appropriate.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303798566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303808051","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303808051","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303808051,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgwODA1MQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T18:16:16Z","updated_at":"2017-05-24T18:16:16Z","author_association":"CONTRIBUTOR","body":"One problem with ThriftServerBindsBeforeZooKeeperLockIT (independent of these changes) is that a failure or error will result in the test running indefinitely.  Only when things go as expected does it exit out of the infinite loops.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303808051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303808119","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303808119","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303808119,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgwODExOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T18:16:33Z","updated_at":"2017-05-24T18:16:33Z","author_association":"MEMBER","body":"> An old, standby monitor would return HTTP/503 (unavailable) to signify that it isn't polling data from the master and (thus) is useless to observe. Does the new REST API still do this?\r\n\r\nNo, it does not. \"Standby\" monitors will function as normal (except for log receiving), because it may be desirable to have multiple monitors. The 503 response code was added in ACCUMULO-4424 for 2.0.0, and has never been released, so this won't break anyone. The monitor has never fit into the same active/standby HA paradigm that applies to the other services, because its features do not require exclusivity. The active/standby single-instance situation for the monitor was only introduced for log receiving (so Accumulo could identify and automatically forward logs to the monitor), which introduced some kind of exclusivity (but for logs only). I believe we've made sufficient improvements to the log forwarding features, so that it's no longer necessary to impose exclusivity restrictions on all monitor features simply for log forwarding.\r\n\r\nWe can probably still do something to improve the way we inform users about log forwarding exclusivity. For example: we could provide `monitor.log.receiver={WITH_LOCK,ON,OFF}` (default: WITH_LOCK) config, and have the 503 response on the REST endpoint for logs, and display a message on the log view based on whether it receives 503 or 200 from the AJAX call. That should be a separate task, if we do that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303808119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303809784","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303809784","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303809784,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgwOTc4NA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T18:22:51Z","updated_at":"2017-05-24T18:22:51Z","author_association":"MEMBER","body":"> it may be desirable to have multiple monitors\r\n\r\nHurm. Apparently we remember things differently. I would have said that we were previously in agreement about only having one active monitor because of users accidentally looking at \"the wrong one\" and potentially missing the forwarded logs. I thought that's why I built that 503-response in the first place.\r\n\r\n>  I believe we've made sufficient improvements to the log forwarding features, so that it's no longer necessary to impose exclusivity restrictions on all monitor features simply for log forwarding.\r\n\r\nBut they still only go to one place, don't they?\r\n\r\n> We can probably still do something to improve the way we inform users about log forwarding exclusivity\r\n\r\n(operating under the assumption that logs still only go one place) this seems overkill to me. I think the simple solution would just be to return something that isn't `\"[]\" with HTTP/200` (differentiating the cases \"there are no logs\" and \"we are not expecting to receive any logs\") when invoking the REST calls around recent logs. I don't (yet?) understand why we need configuration around this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303809784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303821569","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303821569","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303821569,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgyMTU2OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T19:06:39Z","updated_at":"2017-05-24T19:06:39Z","author_association":"MEMBER","body":"> Apparently we remember things differently. ... I thought that's why I built that 503-response in the first place.\r\n\r\nI was always uncomfortable with the 503 on the whole thing when it only really mattered for the log forwarding. Even then, while I understood the convenience of configure-less detection of monitor location for log forwarding, I wasn't happy with the restriction. We can still do the 503, but I think we can make it more narrowly focused, to just the feature which require exclusivity (more specifically, when the user wants it to be exclusive). We now have a configure-less detection of monitor location for log forwarding which does not require this exclusivity behavior.\r\n\r\nPersonally, I would prefer to support multiple monitors, and I have a use case where log forwarding is disabled. I don't want to launch unusable secondary monitors which is only unusable to support a feature which I'm not using. For this reason, I was disappointed when Eric first introduced the \"active/standby\" to the monitor. I never thought this was a good idea, or a necessary one. Not enforcing this restriction actually makes the code simpler and supports more use cases.\r\n\r\n> But they still only go to one place, don't they?\r\n\r\nWith the default log4j configuration, yes. However, the improvements we've made make it easier for the user to configure log forwarding in a way that works for them. That includes forwarding to a single monitor, multiple monitors, or none.\r\n\r\n> I think the simple solution would just be to return something that isn't `\"[]\" with HTTP/200`\r\n\r\nAgreed. That's basically what I thought I was describing, but with some informative message in the view when the AJAX receives this other \"something\".\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303821569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303823067","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-303823067","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":303823067,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMzgyMzA2Nw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-24T19:12:41Z","updated_at":"2017-05-24T19:12:41Z","author_association":"MEMBER","body":"> That includes forwarding to a single monitor, multiple monitors, or none.\r\n\r\nACK. I didn't realize such an improvement had actually landed (instead of being a hypothetical as it has been). Nice to hear.\r\n\r\n>  >    I think the simple solution would just be to return something that isn't \"[]\" with HTTP/200\r\n\r\n> Agreed. That's basically what I thought I was describing, but with some informative message in the view when the AJAX receives this other \"something\".\r\n\r\nCool, I think that's the only concern I have on the matter. Makes sense to update that IT then as the implementation has changed. Thanks for bringing me up to speed. What was being presented didn't jive with my current level of understanding -- turns out that was just a bit stale.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/303823067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304041148","html_url":"https://github.com/apache/accumulo/pull/253#issuecomment-304041148","issue_url":"https://api.github.com/repos/apache/accumulo/issues/253","id":304041148,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDA0MTE0OA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-25T15:33:14Z","updated_at":"2017-05-25T15:33:14Z","author_association":"CONTRIBUTOR","body":"As it turns out the VolumeChooserForNonTableScopeIT is no longer a valid test.  It is explicitly configuring to use the PreferredVolumeChooser but is not setting the volumes leaving the system badly configured.  Hence when the MiniAccumulo is started up and a table is created, it promptly falls over leaving the test case hanging on the createTable call.  I will try to figure out if I can get the test case to detect the failure in the MiniAccumulo.  If that is not possible then I will simply remove this test.  I think I need to fix up VolumeChooserIT.java as well.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304041148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304088818","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-304088818","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":304088818,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDA4ODgxOA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-25T18:37:00Z","updated_at":"2017-05-25T18:37:00Z","author_association":"CONTRIBUTOR","body":"still working the test cases, but this code should show you the idea....","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304088818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304109200","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-304109200","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":304109200,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDEwOTIwMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-25T20:03:49Z","updated_at":"2017-05-25T20:03:49Z","author_association":"MEMBER","body":"I recommend improving the log message before this gets merged. \"initial implementation\" doesn't quite explain what it does. The message has a reference to a JIRA, but a brief description within the git history is still nice.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304109200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304112516","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-304112516","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":304112516,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDExMjUxNg==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-25T20:17:23Z","updated_at":"2017-05-25T20:17:23Z","author_association":"CONTRIBUTOR","body":"I shall rebase and rewrite the message.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304112516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304306313","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-304306313","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":304306313,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDMwNjMxMw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-26T15:02:43Z","updated_at":"2017-05-26T15:02:43Z","author_association":"CONTRIBUTOR","body":"@ctubbsii @joshelser let me know what you think of 41a8b5a06085c444dfdafa5f4192f1ada05f724b","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304306313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304310334","html_url":"https://github.com/apache/accumulo/pull/242#issuecomment-304310334","issue_url":"https://api.github.com/repos/apache/accumulo/issues/242","id":304310334,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDMxMDMzNA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-26T15:18:47Z","updated_at":"2017-05-26T15:18:47Z","author_association":"MEMBER","body":"> let me know what you think of 41a8b5a\r\n\r\nLooks fine to me to fix the test.\r\n\r\nIs there work to be done for the \"recent logs\" API as mentioned in https://github.com/apache/accumulo/pull/242#issuecomment-303823067 ? Would be best to make sure there's test coverage for that, at worst file a follow-on issue..\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304310334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304887665","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-304887665","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":304887665,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDg4NzY2NQ==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-30T14:01:30Z","updated_at":"2017-05-30T14:01:30Z","author_association":"CONTRIBUTOR","body":"I am pretty satisfied this is now working as designed.  The test case uses an iterator that will throw a yield exception every other next and every other seek.  The test case also detects when the iterator has been torn down and rebuilt.  From the client perspective, nothing changes (all keys returned appropriately).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304887665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304898511","html_url":"https://github.com/apache/accumulo/pull/261#issuecomment-304898511","issue_url":"https://api.github.com/repos/apache/accumulo/issues/261","id":304898511,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDg5ODUxMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-30T14:36:40Z","updated_at":"2017-05-30T14:36:40Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304898511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304974952","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-304974952","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":304974952,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDk3NDk1Mg==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-30T18:58:47Z","updated_at":"2017-05-30T18:58:47Z","author_association":"MEMBER","body":"One final (hopefully ;-)) thing.. can you add a metric to capture how often this exception is thrown/caught?\r\n\r\nIf this is used by developer-written iterators on shared hardware, it could drastically change the RPC patterns on the system.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/304974952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305291925","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305291925","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305291925,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTI5MTkyNQ==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-31T19:28:05Z","updated_at":"2017-05-31T19:28:05Z","author_association":"CONTRIBUTOR","body":"I reworked the pull request to use interface methods instead of throwing exceptions.  This also ensures that the yielding mechanism will not interrupt when using row isolation mode.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305291925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305324972","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305324972","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305324972,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTMyNDk3Mg==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-31T21:36:58Z","updated_at":"2017-05-31T21:36:58Z","author_association":"CONTRIBUTOR","body":"Changed the API to be enableYielding(YieldCallback) instead of separate methods on the SKVI","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305324972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305476595","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305476595","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305476595,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTQ3NjU5NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T12:18:45Z","updated_at":"2017-06-01T12:18:45Z","author_association":"CONTRIBUTOR","body":"LGTM, might need more tests for the edge cases. May also want to look at the iterator test harness to see if it needs to be modified.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305476595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305479116","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305479116","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305479116,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTQ3OTExNg==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T12:30:51Z","updated_at":"2017-06-01T12:30:51Z","author_association":"CONTRIBUTOR","body":"Have you addressed Josh's concern about RPC calls? Further if you profile the context switching involved with the threads migrating is the net benefit better than stopping the scan entirely? It stands to reason that a long running scan will continue to be long running.  \r\n\r\nFinally, since this is mostly uncooperative yielding, is there any way to measure the fringe conditions, as per metrics that Josh alluded to? Such as average time before forced yield, etc? I think if you're baking this into SKVI that should be an expectation of any initial implementation to address the concern of provability. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305479116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305493721","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305493721","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305493721,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTQ5MzcyMQ==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T13:31:08Z","updated_at":"2017-06-01T13:31:08Z","author_association":"CONTRIBUTOR","body":"@phrocker I apologize, but either I am missing something or I have not adequately explained what is going on here.  First and foremost, no iterator will ever yield unless somebody explicitly writes an iterator that does.  Yields are never forced.  This is completely cooperative yielding.  If somebody writes an iterator that does yield, then the iterator should only yield if it is taking too much time between keys being returned.  In other words, if the iterator decides to yield often then it will suffer in overall performance.  There will only be an increase in RPC calls if the iterator yields when there are keys in the buffer, but we have not reached scan max memory.  Yes, long scans will continue to be long.  This mechanism is simply to allow the system being developed to avoid starvation of short running scans if they cannot afford to increase the number of threads.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305493721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305581570","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305581570","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305581570,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTU4MTU3MA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T18:35:55Z","updated_at":"2017-06-01T18:35:55Z","author_association":"CONTRIBUTOR","body":"@joshelser Given my response to @phrocker, are you satisfied?  I do output a debug message whenever an iterator yields in the Tablet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305581570/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305584080","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305584080","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305584080,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTU4NDA4MA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T18:45:22Z","updated_at":"2017-06-01T18:45:22Z","author_association":"MEMBER","body":"> I do output a debug message whenever an iterator yields in the Tablet.\r\n\r\nNot really, no. Logging is not metrics.\r\n\r\nIf it's not clear, I would consider myself a -0 with this lacking. We should be striving to expose good metrics (through a standardized interface) when we're making server-side changes like these. However, we don't have rigor in Accumulo to do this, so I'm not going to hold an axe over your head.\r\n\r\nI also haven't looked at your lastest (few?) patches which contributes to me not being supportive (not your fault, obviously).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305584080/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305586331","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305586331","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305586331,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTU4NjMzMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T18:53:51Z","updated_at":"2017-06-01T18:53:51Z","author_association":"CONTRIBUTOR","body":"@joshelser Is there an example of creating a new metric, or is it still all JMX based?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305586331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305586601","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305586601","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305586601,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTU4NjYwMQ==","user":{"login":"phrocker","id":1781585,"node_id":"MDQ6VXNlcjE3ODE1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/1781585?v=4","gravatar_id":"","url":"https://api.github.com/users/phrocker","html_url":"https://github.com/phrocker","followers_url":"https://api.github.com/users/phrocker/followers","following_url":"https://api.github.com/users/phrocker/following{/other_user}","gists_url":"https://api.github.com/users/phrocker/gists{/gist_id}","starred_url":"https://api.github.com/users/phrocker/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phrocker/subscriptions","organizations_url":"https://api.github.com/users/phrocker/orgs","repos_url":"https://api.github.com/users/phrocker/repos","events_url":"https://api.github.com/users/phrocker/events{/privacy}","received_events_url":"https://api.github.com/users/phrocker/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T18:54:58Z","updated_at":"2017-06-01T19:06:24Z","author_association":"CONTRIBUTOR","body":"@ivakegg  Yields are not aware of other yields and thus are completely independent, without any scheduling mechanism.  My old Operating System book calls this \"uncooperative yielding.\" But I can see how this can be confusing. Let's call it isolated yielding. Without a controller or scheduler and a way that they work together, you need metrics so that users can possibly use isolated yielding. \r\n\r\nTo your point that \"they do it to themselves.\" Well, since an iterator is one amongst a stack and you could have a multi-user system, if you had one iterator that would skip just five more keys before completing, but is pre-empted due to another iterator, you have the potential for a yield when one is not desired. The only way to combat this would be solid metrics. You don't know how many increased RPC calls there are. This can increase RPCs if you simply set the key yield incorrectly.  You don't know I/O load and how many keys being skipped is reasonable without these metrics. Further, one key is not the same as another key. Parts of a table could have much smaller keys, so again, these metrics prove everything by telling us: how much time spent before yield, size of keys skipped, etc, etc\r\n\r\n Hence those metrics would be useful to show if this mechanism works as intended in production. \r\n\r\nThen, after metrics, a nice to have would be a mechanism that allows the entire scan to stop. If you are going to put a limit and \"yield.\" You must have a cessation point. Agree that long running scans can happen, but the RPC increase and context switching is a problem that we cannot stop with the current solution. You also need a point at which you have yielded enough and thus must stop entirely. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305586601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305588937","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305588937","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305588937,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTU4ODkzNw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T19:03:40Z","updated_at":"2017-06-01T19:03:40Z","author_association":"MEMBER","body":"> Is there an example of creating a new metric, or is it still all JMX based?\r\n\r\nCurrent \"state of the art\" is via Hadoop Metrics2. The metrics are exposed via JMX, but it doesn't require you do write to JMX directly :). A rough outline would be...\r\n\r\n1. Add a metrics key to https://github.com/apache/accumulo/blob/f81a8ec7410e789d11941351d5899b8894c6a322/server/tserver/src/main/java/org/apache/accumulo/tserver/metrics/TabletServerScanMetricsKeys.java\r\n2. Update `add(String, long)` in https://github.com/apache/accumulo/blob/f81a8ec7410e789d11941351d5899b8894c6a322/server/tserver/src/main/java/org/apache/accumulo/tserver/metrics/Metrics2TabletServerScanMetrics.java (yuck, this is gross)\r\n3. Update the RPC server implementation/code-path to invoke the metrics methods a la https://github.com/apache/accumulo/blob/b78edd3329cb7c981329fa2038a9352f79ab466d/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletServer.java#L629-L632","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305588937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305595584","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305595584","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305595584,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTU5NTU4NA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T19:27:35Z","updated_at":"2017-06-01T19:27:35Z","author_association":"CONTRIBUTOR","body":"@phrocker \r\n> Yields are not aware of other yields and thus are completely independent and thus cannot cooperate with any scheduling mechanism. My old Operating System book calls this \"uncooperative yielding.\" But I can see how this can be confusing. Let's call it isolated yielding.\r\n\r\nTaking a quote from: https://en.wikipedia.org/wiki/Cooperative_multitasking:\r\n\r\n> Cooperative multitasking, also known as non-preemptive multitasking, is a style of computer multitasking in which the operating system never initiates a context switch from a running process to another process. Instead, processes voluntarily yield control periodically or when idle in order to enable multiple applications to be run simultaneously.\r\n\r\nI believe this is (at least in part) the capability I am providing here, the ability for the scan (a process in some sense) to voluntarily yield control.  This is why I used the word cooperative.  Granted the scheduler in this case does not require all iterators to be able to yield so in that sense we have a mix of cooperative and preemptive/uncooperative multitasking.  I submit in that I am stretching the definition, so \"isolated yielding\" it is.\r\n\r\n> To your point that \"they do it to themselves.\" Well, since an iterator is one amongst a stack and you could have a multi-user system, if you had one iterator that would skip just five more keys before completing, but is pre-empted due to another iterator, you have the potential for a yield when one is not desired.\r\n\r\nOne iterator cannot pre-empt another unless the first iterator explicitly enables it to do so (see enableYielding(callback) on SKVI).  By enabling yielding on an iterator/source, then that iterator must be able to deal with that iterator yielding after any seek or next call.  That is part of the contract.  Note that the only way to actually yield the scan is for the top level iterator to do so.  No iterator is required to call enableYielding on the iterator below it.  The Tablet will only call enableYielding on the top level iterator.  Since the top level iterator may be the SourceSwitchingIterator, I made sure that it can handle this and passes this on to the next iterator below.\r\n\r\n> The only way to combat this would be solid metrics. You don't know how many increased RPC calls there are. This can increase RPCs if you simply set the key yield incorrectly. You don't know I/O load and how many keys being skipped is reasonable without these metrics. Further, one key is not the same as another key. Parts of a table could have much smaller keys, so again, these metrics prove everything by telling us: how much time spent before yield, size of keys skipped, etc, etc\r\n> Hence those metrics would be useful to show if this mechanism works as intended in production.\r\n\r\nOK, I will see if I can add a metric to the accumulo metrics mechanism.\r\n\r\n> Then, after metrics, a nice to have would be a mechanism that allows the entire scan to stop. If you are going to put a limit and \"yield.\" You must have a cessation point. Agree that long running scans can happen, but the RPC increase and context switching is a problem that we cannot stop with the current solution. You also need a point at which you have yielded enough and thus must stop entirely.\r\n\r\nSounds like a reasonable feature.  Please write a ticket.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305595584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305598071","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305598071","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305598071,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTU5ODA3MQ==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T19:37:14Z","updated_at":"2017-06-01T19:37:14Z","author_association":"CONTRIBUTOR","body":"@joshelser OK, I will see if I can add a metric to the accumulo metrics mechanism.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305598071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305602589","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305602589","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305602589,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTYwMjU4OQ==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T19:54:38Z","updated_at":"2017-06-01T19:54:38Z","author_association":"CONTRIBUTOR","body":"@joshelser @phrocker Exactly what metrics are we looking for here?  Are we looking for simply how many times we see a scan yielding?  Are we looking for the time between the beginning of the next/seek call and the yield?  I don't see anything that times next and seek calls now.....","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305602589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305607782","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305607782","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305607782,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTYwNzc4Mg==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T20:15:49Z","updated_at":"2017-06-01T20:15:49Z","author_association":"MEMBER","body":"> Exactly what metrics are we looking for here?\r\n\r\nA trivial counter for the number of times a Scanner yield'ed is what I was thinking. That will let us measure it over time (Metrics2's \"windowing\" stuff going on in the background). There is a \"MutableCounter\" which you can instantiate from the MetricsRegistry object in Metrics2TabletServerScanMetrics which should precisely what you need (I really am not be facetious/sarcastic implying that this should be quite simple)\r\n\r\n> Are we looking for simply how many times we see a scan yielding? Are we looking for the time between the beginning of the next/seek call and the yield? I don't see anything that times next and seek calls now.....\r\n\r\nYeah scan metrics are extremely \"light\" at present. Not expecting any extreme level of effort here. Yet another back-burner task of mine :)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305607782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305618740","html_url":"https://github.com/apache/accumulo/pull/262#issuecomment-305618740","issue_url":"https://api.github.com/repos/apache/accumulo/issues/262","id":305618740,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTYxODc0MA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T20:59:40Z","updated_at":"2017-06-01T20:59:40Z","author_association":"CONTRIBUTOR","body":"Could improve `<some dir>` and change it to `<download dir>`.\r\n\r\n```\r\ncd <install location>\r\ntar xzf <download dir>/accumulo-X.Y.Z-bin.tar.gz\r\ncd accumulo-X.Y.Z\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305618740/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305622398","html_url":"https://github.com/apache/accumulo/pull/262#issuecomment-305622398","issue_url":"https://api.github.com/repos/apache/accumulo/issues/262","id":305622398,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTYyMjM5OA==","user":{"login":"vivekvaidya","id":10797230,"node_id":"MDQ6VXNlcjEwNzk3MjMw","avatar_url":"https://avatars.githubusercontent.com/u/10797230?v=4","gravatar_id":"","url":"https://api.github.com/users/vivekvaidya","html_url":"https://github.com/vivekvaidya","followers_url":"https://api.github.com/users/vivekvaidya/followers","following_url":"https://api.github.com/users/vivekvaidya/following{/other_user}","gists_url":"https://api.github.com/users/vivekvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/vivekvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vivekvaidya/subscriptions","organizations_url":"https://api.github.com/users/vivekvaidya/orgs","repos_url":"https://api.github.com/users/vivekvaidya/repos","events_url":"https://api.github.com/users/vivekvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/vivekvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T21:13:51Z","updated_at":"2017-06-01T21:13:51Z","author_association":"NONE","body":"oh ok. thanks. will close","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305622398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305624369","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305624369","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305624369,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTYyNDM2OQ==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T21:21:50Z","updated_at":"2017-06-01T21:21:50Z","author_association":"CONTRIBUTOR","body":"OK, I added metrics for the yield counts.  Please tell me if I missed anything there.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305624369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305798074","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305798074","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305798074,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTc5ODA3NA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-02T14:06:39Z","updated_at":"2017-06-02T14:06:39Z","author_association":"CONTRIBUTOR","body":"I believe the Jenkins server is borked somehow.  It has failed to build for a while and the reason appears completely independent of this pull request.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305798074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305799770","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305799770","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305799770,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTc5OTc3MA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-02T14:11:02Z","updated_at":"2017-06-02T14:11:02Z","author_association":"CONTRIBUTOR","body":"The root cause as far as I can tell is:\r\nCaused by: java.lang.NoSuchFieldError: DEFAULT_USER_SETTINGS_FILE","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305799770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305830153","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305830153","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305830153,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTgzMDE1Mw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-02T15:54:52Z","updated_at":"2017-06-02T15:54:52Z","author_association":"MEMBER","body":"> I believe the Jenkins server is borked somehow. It has failed to build for a while and the reason appears completely independent of this pull request.\r\n\r\nUgh, nothing is easy :)\r\n\r\n> OK, I added metrics for the yield counts. Please tell me if I missed anything there.\r\n\r\nCool. I gave a quick glance and only had one minor thought.\r\n\r\nI assume that you have something locally that you've used to test these changes in a real installation (even if just one node)? I'll try to give the final patch a glance. If Dave is already happy with it, that's cool too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305830153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305832833","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305832833","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305832833,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTgzMjgzMw==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-02T16:04:54Z","updated_at":"2017-06-02T16:04:54Z","author_association":"CONTRIBUTOR","body":"@joshelser We are in the process of getting this put onto a larger cluster to test its efficacy.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305832833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305833919","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305833919","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305833919,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTgzMzkxOQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-02T16:08:49Z","updated_at":"2017-06-02T16:08:49Z","author_association":"MEMBER","body":"> We are in the process of getting this put onto a larger cluster to test its efficacy.\r\n\r\nAwesome :D. Should I take that as avoiding merging this until that testing is complete?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305833919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305834598","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305834598","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305834598,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTgzNDU5OA==","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-02T16:11:35Z","updated_at":"2017-06-02T16:11:35Z","author_association":"CONTRIBUTOR","body":"> Awesome :D. Should I take that as avoiding merging this until that testing is complete?\r\nYes, hold off on merging.  @keith-turner requested that we pound this a little first.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305834598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305895420","html_url":"https://github.com/apache/accumulo/pull/264#issuecomment-305895420","issue_url":"https://api.github.com/repos/apache/accumulo/issues/264","id":305895420,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTg5NTQyMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-02T20:02:01Z","updated_at":"2017-06-02T20:02:01Z","author_association":"CONTRIBUTOR","body":"Looks good +1","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305895420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305907808","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-305907808","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":305907808,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTkwNzgwOA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-02T20:59:23Z","updated_at":"2017-06-02T20:59:23Z","author_association":"MEMBER","body":"> The root cause as far as I can tell is:\r\nCaused by: java.lang.NoSuchFieldError: DEFAULT_USER_SETTINGS_FILE\r\n\r\nSee: https://lists.apache.org/thread.html/cb39a537a23af83b56522160e8c02938c34a76553b03e8a3aba3b662@%3Cbuilds.apache.org%3E\r\n\r\nShould be resolved with INFRA by as soon as there is a Jenkins release that has the fix.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/305907808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/306079830","html_url":"https://github.com/apache/accumulo/pull/260#issuecomment-306079830","issue_url":"https://api.github.com/repos/apache/accumulo/issues/260","id":306079830,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjA3OTgzMA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-05T00:56:36Z","updated_at":"2017-06-05T00:56:36Z","author_association":"MEMBER","body":"Not that I know of, but that's based off of some old knowledge.\n\nOn Jun 4, 2017 20:02, \"Dave Marion\" <notifications@github.com> wrote:\n\n> *@dlmarion* commented on this pull request.\n> ------------------------------\n>\n> In server/tserver/src/main/java/org/apache/accumulo/tserver/\n> tablet/Tablet.java\n> <https://github.com/apache/accumulo/pull/260#discussion_r120024937>:\n>\n> >\n> -    if (endOfTabletReached) {\n> -      continueKey = null;\n> -    }\n> +      log.debug(\"Scan yield detected at position \" + continueKey);\n>\n> If you want to know how often yielding is happening, you should look at\n> the metrics you implemented and not place extra cruft in the log to just be\n> removed in every other situation.\n>\n> Do you happen to know if the Hadoop Metrics2 framework picks up\n> configuration changes at runtime like the logging subsystem?\n>\n> \n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/accumulo/pull/260#discussion_r120024937>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AAEJF92J2IBck7X-_6BqIlcTG0Lq1jS_ks5sA0WIgaJpZM4Nmu4X>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/306079830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]