[{"url":"https://api.github.com/repos/apache/drill/issues/comments/893513180","html_url":"https://github.com/apache/drill/pull/2287#issuecomment-893513180","issue_url":"https://api.github.com/repos/apache/drill/issues/2287","id":893513180,"node_id":"IC_kwDOAFa5xc41Qe3c","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-05T14:38:49Z","updated_at":"2021-08-05T14:38:49Z","author_association":"MEMBER","body":"@vdiravka Thanks for the comments. I saw that the goal of DRILL-7973 is avoid the OOM (use the direct mem). This pull request is ready to speed up the C* startup. no conflict. I am going to remove the heap options if you already have new ways. (Actually, I think the new version of testcontainers will included these setting for desfult).","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/893513180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/893518201","html_url":"https://github.com/apache/drill/pull/2288#issuecomment-893518201","issue_url":"https://api.github.com/repos/apache/drill/issues/2288","id":893518201,"node_id":"IC_kwDOAFa5xc41QgF5","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-05T14:45:31Z","updated_at":"2021-08-05T14:45:31Z","author_association":"MEMBER","body":"@dzamo Would you mind me posting your blogs to Chinese channel?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/893518201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/893525497","html_url":"https://github.com/apache/drill/pull/2288#issuecomment-893525497","issue_url":"https://api.github.com/repos/apache/drill/issues/2288","id":893525497,"node_id":"IC_kwDOAFa5xc41Qh35","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-05T14:55:15Z","updated_at":"2021-08-05T14:55:15Z","author_association":"CONTRIBUTOR","body":"It can totally wait to be merged when the tutorial is written.  I get \npretty busy from tomorrow until Thursday but it's not like this PR \npatches a CVE or something :-).\n\nBtw, thinking as I wrote that post inspired some thoughts about the \npre-ETL data exploration phase that analysts go through, and what Drill \ncould help with.  Like a function to produce value histograms (Unicode \nart or SVG) straight from a query over e.g. JSON.  Or a function for \ndata type profiling (returns # valid 32-bit integers, # valid floats, etc.)\n\nOn 2021/08/05 16:32, Charles S. Givre wrote:\n>\n> ***@***.**** commented on this pull request.\n>\n> @dzamo <https://github.com/dzamo>\n> Thanks for this!\n> While I'm fine with committing this now, do you really want to merge \n> this with the last sentence that says more coming soon, or just wait \n> until you have that written?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub \n> <https://github.com/apache/drill/pull/2288#pullrequestreview-723432469>, \n> or unsubscribe \n> <https://github.com/notifications/unsubscribe-auth/ACFPO5YW7D6SUZGGBS2ZF2LT3KOJDANCNFSM5BT6I36Q>.\n>\n\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/893525497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/893525830","html_url":"https://github.com/apache/drill/pull/2288#issuecomment-893525830","issue_url":"https://api.github.com/repos/apache/drill/issues/2288","id":893525830,"node_id":"IC_kwDOAFa5xc41Qh9G","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-05T14:55:41Z","updated_at":"2021-08-05T14:55:41Z","author_association":"CONTRIBUTOR","body":"I would be honoured :-)\n\nOn 2021/08/05 16:45, luoc wrote:\n>\n> @dzamo <https://github.com/dzamo> Would you mind me posting your blogs \n> to Chinese channel?\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub \n> <https://github.com/apache/drill/pull/2288#issuecomment-893518201>, or \n> unsubscribe \n> <https://github.com/notifications/unsubscribe-auth/ACFPO57P5FGVGUCBVE6RKADT3KPZNANCNFSM5BT6I36Q>.\n>\n\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/893525830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/894233654","html_url":"https://github.com/apache/drill/pull/2287#issuecomment-894233654","issue_url":"https://api.github.com/repos/apache/drill/issues/2287","id":894233654,"node_id":"IC_kwDOAFa5xc41TOw2","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-06T12:43:21Z","updated_at":"2021-08-06T12:43:21Z","author_association":"CONTRIBUTOR","body":"@luocooong @vdiravka \r\nShould we merge this?  @vdiravka Are you ok with this or does this still conflict with DRILL-7973?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/894233654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/894295471","html_url":"https://github.com/apache/drill/pull/2287#issuecomment-894295471","issue_url":"https://api.github.com/repos/apache/drill/issues/2287","id":894295471,"node_id":"IC_kwDOAFa5xc41Td2v","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-06T14:20:44Z","updated_at":"2021-08-06T14:20:44Z","author_association":"MEMBER","body":"@cgivre Can be merged. Let me try more options (by Vitalii) first. I will use the fastest parameter.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/894295471/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/894603254","html_url":"https://github.com/apache/drill/pull/2287#issuecomment-894603254","issue_url":"https://api.github.com/repos/apache/drill/issues/2287","id":894603254,"node_id":"IC_kwDOAFa5xc41Uo_2","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-07T04:33:46Z","updated_at":"2021-08-07T04:33:46Z","author_association":"MEMBER","body":"Done. the current options is faster (included the C* startup and tests). Saved 10 seconds.\r\n\r\ncurrent options (JDK 8), spend 48 seconds\r\n```\r\n2021-08-07T03:55:45.7691691Z [INFO] -------------------------------------------------------\r\n2021-08-07T03:55:45.7692311Z [INFO]  T E S T S\r\n2021-08-07T03:55:45.7693143Z [INFO] -------------------------------------------------------\r\n\r\n2021-08-07T03:56:33.1223519Z [INFO] Tests run: 30, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n\r\ncurrent options (JDK 11), spend 40 seconds\r\n```\r\n2021-08-07T04:00:34.0149031Z [INFO] -------------------------------------------------------\r\n2021-08-07T04:00:34.0149860Z [INFO]  T E S T S\r\n2021-08-07T04:00:34.0150857Z [INFO] -------------------------------------------------------\r\n\r\n2021-08-07T04:01:14.6705624Z [INFO] Tests run: 30, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n\r\nmore options (JDK 8), spend 58 seconds\r\n```\r\n2021-08-07T02:08:46.6741617Z [INFO] -------------------------------------------------------\r\n2021-08-07T02:08:46.6744463Z [INFO]  T E S T S\r\n2021-08-07T02:08:46.6746502Z [INFO] -------------------------------------------------------\r\n\r\n2021-08-07T02:09:44.7628630Z [INFO] Tests run: 30, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n\r\nmore options (JDK 11), spend 38 seconds\r\n```\r\n2021-08-07T02:00:06.0005436Z [INFO] -------------------------------------------------------\r\n2021-08-07T02:00:06.0006095Z [INFO]  T E S T S\r\n2021-08-07T02:00:06.0006901Z [INFO] -------------------------------------------------------\r\n\r\n2021-08-07T02:00:44.6733692Z [INFO] Tests run: 30, Failures: 0, Errors: 0, Skipped: 0\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/894603254/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/895781965","html_url":"https://github.com/apache/drill/pull/2291#issuecomment-895781965","issue_url":"https://api.github.com/repos/apache/drill/issues/2291","id":895781965,"node_id":"IC_kwDOAFa5xc41ZIxN","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T07:03:46Z","updated_at":"2021-08-10T07:03:46Z","author_association":"MEMBER","body":"@vdiravka, thanks, done","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/895781965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/896028344","html_url":"https://github.com/apache/drill/issues/2292#issuecomment-896028344","issue_url":"https://api.github.com/repos/apache/drill/issues/2292","id":896028344,"node_id":"IC_kwDOAFa5xc41aE64","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T13:27:16Z","updated_at":"2021-08-10T13:27:16Z","author_association":"MEMBER","body":"Have you solved the problem?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/896028344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/896333894","html_url":"https://github.com/apache/drill/pull/2291#issuecomment-896333894","issue_url":"https://api.github.com/repos/apache/drill/issues/2291","id":896333894,"node_id":"IC_kwDOAFa5xc41bPhG","user":{"login":"jaltekruse","id":365366,"node_id":"MDQ6VXNlcjM2NTM2Ng==","avatar_url":"https://avatars.githubusercontent.com/u/365366?v=4","gravatar_id":"","url":"https://api.github.com/users/jaltekruse","html_url":"https://github.com/jaltekruse","followers_url":"https://api.github.com/users/jaltekruse/followers","following_url":"https://api.github.com/users/jaltekruse/following{/other_user}","gists_url":"https://api.github.com/users/jaltekruse/gists{/gist_id}","starred_url":"https://api.github.com/users/jaltekruse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jaltekruse/subscriptions","organizations_url":"https://api.github.com/users/jaltekruse/orgs","repos_url":"https://api.github.com/users/jaltekruse/repos","events_url":"https://api.github.com/users/jaltekruse/events{/privacy}","received_events_url":"https://api.github.com/users/jaltekruse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T21:43:10Z","updated_at":"2021-08-10T21:43:10Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/896333894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/896348954","html_url":"https://github.com/apache/drill/pull/2293#issuecomment-896348954","issue_url":"https://api.github.com/repos/apache/drill/issues/2293","id":896348954,"node_id":"IC_kwDOAFa5xc41bTMa","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-10T22:17:02Z","updated_at":"2021-08-10T22:23:56Z","author_association":"MEMBER","body":"The GitHub CI is not running for this PR because I used up it for testing purposes and achieve the limit.\r\nOr some other global GitHub issue is present, but right now we are obtaining the following message for all builds:\r\n```\r\nError: We are currently unable to download the log. Please try again later.\r\n```\r\n\r\nThe story of runs for this branch is available here:\r\nhttps://github.com/vdiravka/drill/commits/DRILL-7973?before=96fde910221cf22c837510adb194419035d8c318+35&branch=DRILL-7973\r\n\r\nLet's move it from draft, once GitHub CI is available again.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/896348954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/897030162","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-897030162","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":897030162,"node_id":"IC_kwDOAFa5xc41d5gS","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T17:54:35Z","updated_at":"2021-08-11T17:54:35Z","author_association":"MEMBER","body":"Hi @julianhyde, part of this pull request introduces an API for adding support of pushdowns to the storage plugins, and it is something similar to what Calcite adapters do. Do you think it makes sense to move it to the Calcite, rewrite adapters to use this common approach, and make them more extensible, so we will be able to customize them in Drill and query using the Drill execution engine?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/897030162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/897089942","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-897089942","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":897089942,"node_id":"IC_kwDOAFa5xc41eIGW","user":{"login":"julianhyde","id":1130553,"node_id":"MDQ6VXNlcjExMzA1NTM=","avatar_url":"https://avatars.githubusercontent.com/u/1130553?v=4","gravatar_id":"","url":"https://api.github.com/users/julianhyde","html_url":"https://github.com/julianhyde","followers_url":"https://api.github.com/users/julianhyde/followers","following_url":"https://api.github.com/users/julianhyde/following{/other_user}","gists_url":"https://api.github.com/users/julianhyde/gists{/gist_id}","starred_url":"https://api.github.com/users/julianhyde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianhyde/subscriptions","organizations_url":"https://api.github.com/users/julianhyde/orgs","repos_url":"https://api.github.com/users/julianhyde/repos","events_url":"https://api.github.com/users/julianhyde/events{/privacy}","received_events_url":"https://api.github.com/users/julianhyde/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T19:24:28Z","updated_at":"2021-08-11T19:24:28Z","author_association":"CONTRIBUTOR","body":"@vvysotskyi Of course it depends what is feasible for Drill, given its current APIs, users, and code base.\r\n\r\nBut I introduced Calcite's model of adapters and am still a big believer. (Indeed I tried to convince Drill to use Calcite's model in the early days.) I observed that if you build a simple adapter that supports scan, you have to add another parameter for filter, a way to handle rejected filters (or parts of filters), add another parameter to push down expressions and project columns (and handle rejected expressions), and it becomes exponentially more complex as you add additional operations (aggregate, join, sort, limit).\r\n\r\nSo I proposed the model where you write rewrite rules, each of which matches a particular relational operator. The rules tend to compose fairly well.\r\n\r\nMaybe Drill could keep its existing Mongo adapter but also support generic Calcite adapters (powered by Calcite rewrite rules). Then Drill could pull in Calcite's Mongo adapter. If there are use cases that Calcite's Mongo adapter does not handle, they could be dealt with as Calcite bugs.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/897089942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/897109218","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-897109218","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":897109218,"node_id":"IC_kwDOAFa5xc41eMzi","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T19:56:29Z","updated_at":"2021-08-11T19:56:29Z","author_association":"CONTRIBUTOR","body":"> @vvysotskyi Of course it depends what is feasible for Drill, given its current APIs, users, and code base.\r\n> \r\n> But I introduced Calcite's model of adapters and am still a big believer. (Indeed I tried to convince Drill to use Calcite's model in the early days.) I observed that if you build a simple adapter that supports scan, you have to add another parameter for filter, a way to handle rejected filters (or parts of filters), add another parameter to push down expressions and project columns (and handle rejected expressions), and it becomes exponentially more complex as you add additional operations (aggregate, join, sort, limit).\r\n> \r\n> So I proposed the model where you write rewrite rules, each of which matches a particular relational operator. The rules tend to compose fairly well.\r\n> \r\n> Maybe Drill could keep its existing Mongo adapter but also support generic Calcite adapters (powered by Calcite rewrite rules). Then Drill could pull in Calcite's Mongo adapter. If there are use cases that Calcite's Mongo adapter does not handle, they could be dealt with as Calcite bugs.\r\n\r\n@julianhyde Thanks for the response!  @vvysotskyi  One other thing to consider is that Drill needs these rules for query planning and parallelization.  From my recollection, that was the major challenge in using the Calcite adapters as written.  IMHO it would be great if we could find a way to accomplish both goals using the Calcite adapters.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/897109218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/897230616","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-897230616","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":897230616,"node_id":"IC_kwDOAFa5xc41eqcY","user":{"login":"julianhyde","id":1130553,"node_id":"MDQ6VXNlcjExMzA1NTM=","avatar_url":"https://avatars.githubusercontent.com/u/1130553?v=4","gravatar_id":"","url":"https://api.github.com/users/julianhyde","html_url":"https://github.com/julianhyde","followers_url":"https://api.github.com/users/julianhyde/followers","following_url":"https://api.github.com/users/julianhyde/following{/other_user}","gists_url":"https://api.github.com/users/julianhyde/gists{/gist_id}","starred_url":"https://api.github.com/users/julianhyde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianhyde/subscriptions","organizations_url":"https://api.github.com/users/julianhyde/orgs","repos_url":"https://api.github.com/users/julianhyde/repos","events_url":"https://api.github.com/users/julianhyde/events{/privacy}","received_events_url":"https://api.github.com/users/julianhyde/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-11T23:36:52Z","updated_at":"2021-08-11T23:36:52Z","author_association":"CONTRIBUTOR","body":"Note that Calcite's \"adapter\" abstraction isn't as strong as Drill's. It's just a bunch of rules (and often a calling convention). So maybe you can just pull in the rules you need.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/897230616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/897397211","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-897397211","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":897397211,"node_id":"IC_kwDOAFa5xc41fTHb","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-12T07:00:09Z","updated_at":"2021-08-12T07:00:09Z","author_association":"MEMBER","body":"Calcite rules for adapters in most of the cases have parts of the logic related to the storage itself. My idea was to move out this logic from rules to \"implementor\", so we will have simple rules that could be reused, and adapters will provide only the \"implementor\" that will be responsible for checking whether the specific pushdown can be done and handling it.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/897397211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/898812297","html_url":"https://github.com/apache/drill/pull/2284#issuecomment-898812297","issue_url":"https://api.github.com/repos/apache/drill/issues/2284","id":898812297,"node_id":"IC_kwDOAFa5xc41ksmJ","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-14T03:52:10Z","updated_at":"2021-08-14T03:52:10Z","author_association":"CONTRIBUTOR","body":"Thanks @paul-rogers for the (considerable) work done reviewing the attempts made on this one.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/898812297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/899033018","html_url":"https://github.com/apache/drill/pull/2290#issuecomment-899033018","issue_url":"https://api.github.com/repos/apache/drill/issues/2290","id":899033018,"node_id":"IC_kwDOAFa5xc41lie6","user":{"login":"Leon-WTF","id":25920008,"node_id":"MDQ6VXNlcjI1OTIwMDA4","avatar_url":"https://avatars.githubusercontent.com/u/25920008?v=4","gravatar_id":"","url":"https://api.github.com/users/Leon-WTF","html_url":"https://github.com/Leon-WTF","followers_url":"https://api.github.com/users/Leon-WTF/followers","following_url":"https://api.github.com/users/Leon-WTF/following{/other_user}","gists_url":"https://api.github.com/users/Leon-WTF/gists{/gist_id}","starred_url":"https://api.github.com/users/Leon-WTF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leon-WTF/subscriptions","organizations_url":"https://api.github.com/users/Leon-WTF/orgs","repos_url":"https://api.github.com/users/Leon-WTF/repos","events_url":"https://api.github.com/users/Leon-WTF/events{/privacy}","received_events_url":"https://api.github.com/users/Leon-WTF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-15T11:02:32Z","updated_at":"2021-08-15T11:02:32Z","author_association":"CONTRIBUTOR","body":"> Thanks much for the contribution! The logic looks right. My comments are mostly about the \"Drill way\" of doing things. Each project has its preferences, and I've pointed out Drill's.\r\n\r\nSure, your comments help me to improve a lot.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/899033018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/901689722","html_url":"https://github.com/apache/drill/issues/2296#issuecomment-901689722","issue_url":"https://api.github.com/repos/apache/drill/issues/2296","id":901689722,"node_id":"IC_kwDOAFa5xc41vrF6","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T07:49:38Z","updated_at":"2021-08-19T07:49:38Z","author_association":"MEMBER","body":"@Z0ltrix Thanks for the idea. As I understand it, need Drill to know who sent this request. Drill executes client requests as the user logged in to the client ([Authentication](https://drill.apache.org/docs/securing-drill-introduction/) support the PAM and Kerberos if [Impersonation](https://drill.apache.org/docs/configuring-user-impersonation/) is configured). So, user can passes the query request (and the user credentials) to storage layer once successfully login in the drill use the PAM (or krb ?). But, neither PAM nor Kerberos may be a direct user on the application layer. In other words, both PAM and Kerberos are not flexible in setup.\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/901689722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/901692931","html_url":"https://github.com/apache/drill/issues/2296#issuecomment-901692931","issue_url":"https://api.github.com/repos/apache/drill/issues/2296","id":901692931,"node_id":"IC_kwDOAFa5xc41vr4D","user":{"login":"Z0ltrix","id":14264280,"node_id":"MDQ6VXNlcjE0MjY0Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14264280?v=4","gravatar_id":"","url":"https://api.github.com/users/Z0ltrix","html_url":"https://github.com/Z0ltrix","followers_url":"https://api.github.com/users/Z0ltrix/followers","following_url":"https://api.github.com/users/Z0ltrix/following{/other_user}","gists_url":"https://api.github.com/users/Z0ltrix/gists{/gist_id}","starred_url":"https://api.github.com/users/Z0ltrix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Z0ltrix/subscriptions","organizations_url":"https://api.github.com/users/Z0ltrix/orgs","repos_url":"https://api.github.com/users/Z0ltrix/repos","events_url":"https://api.github.com/users/Z0ltrix/events{/privacy}","received_events_url":"https://api.github.com/users/Z0ltrix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T07:54:38Z","updated_at":"2021-08-19T07:54:38Z","author_association":"CONTRIBUTOR","body":"Hi @luocooong,\r\n\r\nok, understood that storage plugin is loaded by drill itself before user logs in. So there is no way to specify it at the plugin config.\r\nIs there any other way to do this at query time?\r\n\r\nHow is Impersonation handled for hdfs and hbase?\r\n\r\nIm open for everything else that gets the initial idea to work. Maybe we should rename the feature request to \"jdbc impersonation support\" or something else.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/901692931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/901858374","html_url":"https://github.com/apache/drill/pull/2270#issuecomment-901858374","issue_url":"https://api.github.com/repos/apache/drill/issues/2270","id":901858374,"node_id":"IC_kwDOAFa5xc41wURG","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T12:04:39Z","updated_at":"2021-08-19T12:04:39Z","author_association":"CONTRIBUTOR","body":"@paul-rogers Thanks for the review.  I believe I addressed all your comments.  I added the ability to specify a default value in the URL, as well as added a lot of new unit tests.  I fixed a small bug as well with the `errorOn400` config option and added a test for that. \r\n\r\nSome of your questions made me wonder how much \"misuse\" we should tolerate from a user.   For instance, putting the entire URL as a URL parameter...  This is perhaps foolish to do that, but I didn't think there was a risk here because in order to do that, the user would have to have admin access to the plugin configuration anyway.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/901858374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/901972587","html_url":"https://github.com/apache/drill/issues/2296#issuecomment-901972587","issue_url":"https://api.github.com/repos/apache/drill/issues/2296","id":901972587,"node_id":"IC_kwDOAFa5xc41wwJr","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T14:40:10Z","updated_at":"2021-08-19T14:40:10Z","author_association":"CONTRIBUTOR","body":"Hi Christian, \nI think this actually might be a very easy fix. \n\nGood News:  As part of DRILL-7855 [1] we introduced a password vault to Drill which enables user impersonation for all storage plugins.  Here is the documentation for this feature [2].\n\nNot Great News:  I'm not exactly sure whether this was enabled for the JDBC plugin.  If it isn't, it is not that difficult to add this to the config for any plugin. \n\n\n1: https://github.com/apache/drill/pull/2162 <https://github.com/apache/drill/pull/2162>\n2.: https://github.com/apache/drill/blob/master/docs/dev/PluginCredentialsProvider.md <https://github.com/apache/drill/blob/master/docs/dev/PluginCredentialsProvider.md>\n\nBest,\n-- C\n\n\n\n> On Aug 19, 2021, at 3:54 AM, Christian Pfarr ***@***.***> wrote:\n> \n> \n> Hi @luocooong <https://github.com/luocooong>,\n> \n> ok, understood that storage plugin is loaded by drill itself before user logs in. So there is no way to specify it at the plugin config.\n> Is there any other way to do this at query time?\n> \n> How is Impersonation handled for hdfs and hbase?\n> \n> Im open for everything else that gets the initial idea to work. Maybe we should rename the feature request to \"jdbc impersonation support\" or something else.\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/drill/issues/2296#issuecomment-901692931>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/ABKB7PVBRQZRJYQ7BYXG7JLT5S2EXANCNFSM5CLU4IVQ>.\n> Triage notifications on the go with GitHub Mobile for iOS <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675> or Android <https://play.google.com/store/apps/details?id=com.github.android&utm_campaign=notification-email>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/901972587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/901994708","html_url":"https://github.com/apache/drill/issues/2296#issuecomment-901994708","issue_url":"https://api.github.com/repos/apache/drill/issues/2296","id":901994708,"node_id":"IC_kwDOAFa5xc41w1jU","user":{"login":"Z0ltrix","id":14264280,"node_id":"MDQ6VXNlcjE0MjY0Mjgw","avatar_url":"https://avatars.githubusercontent.com/u/14264280?v=4","gravatar_id":"","url":"https://api.github.com/users/Z0ltrix","html_url":"https://github.com/Z0ltrix","followers_url":"https://api.github.com/users/Z0ltrix/followers","following_url":"https://api.github.com/users/Z0ltrix/following{/other_user}","gists_url":"https://api.github.com/users/Z0ltrix/gists{/gist_id}","starred_url":"https://api.github.com/users/Z0ltrix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Z0ltrix/subscriptions","organizations_url":"https://api.github.com/users/Z0ltrix/orgs","repos_url":"https://api.github.com/users/Z0ltrix/repos","events_url":"https://api.github.com/users/Z0ltrix/events{/privacy}","received_events_url":"https://api.github.com/users/Z0ltrix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T15:07:39Z","updated_at":"2021-08-19T15:07:39Z","author_association":"CONTRIBUTOR","body":"Hi @cgivre ,\r\n\r\nyes i saw this new feature, but i have not found any hint on how to forward the currently impersonated enduser by drill to the storage plugin.\r\n\r\nI dont want do specify the username at the plugin, i want to impersonate the enduser directly to the storage plugin.\r\n\r\nIm not sure if i missed something but maybe you can guide me to the right lines in code or give me an config example for this.\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/901994708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/902513608","html_url":"https://github.com/apache/drill/issues/2298#issuecomment-902513608","issue_url":"https://api.github.com/repos/apache/drill/issues/2298","id":902513608,"node_id":"IC_kwDOAFa5xc41y0PI","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T08:05:20Z","updated_at":"2021-08-20T08:05:20Z","author_association":"MEMBER","body":"@paul-rogers @cgivre Look forward to your suggestions.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/902513608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/902786619","html_url":"https://github.com/apache/drill/pull/2297#issuecomment-902786619","issue_url":"https://api.github.com/repos/apache/drill/issues/2297","id":902786619,"node_id":"IC_kwDOAFa5xc41z247","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T15:47:08Z","updated_at":"2021-08-20T15:47:08Z","author_association":"MEMBER","body":"@cgivre, thanks for the review, I'll create a PR with the doc updates to the gh-pages branch later.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/902786619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/902913520","html_url":"https://github.com/apache/drill/issues/2298#issuecomment-902913520","issue_url":"https://api.github.com/repos/apache/drill/issues/2298","id":902913520,"node_id":"IC_kwDOAFa5xc410V3w","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T19:37:00Z","updated_at":"2021-08-20T19:37:28Z","author_association":"CONTRIBUTOR","body":"Hi @luocooong,\r\n\r\nThanks for looking at this issue.\r\n\r\nIt looks like you are modifying the old, obsolete JSON parser. While it is fine to do so, you may want to use the much improved JSON parser in `org.apache.drill.exec.store.easy.json`. Else, we're trying to keep two entirely different code bases in sync. The new version has many, many bug fixes, works with EVF, and supports a provided schema. The new version properly handles Mongo date/time types. The new version, but not the older code, has abundant unit tests. \r\n\r\nWhat code uses the old version? Should we consider upgrading that code to use the new version?\r\n\r\nHere's how things work in the new version.\r\n\r\nFirst, plain JSON has no date-time data type. JSON is limited to string, number, Boolean and null. So, we must be talking about \"extended types\" for Mongo. We follow two Mongo specs:\r\n\r\n* [V1](https://docs.mongodb.com/manual/reference/mongodb-extended-json-v1/#date)\r\n* [V2](https://docs.mongodb.com/manual/reference/mongodb-extended-json/#bson.Date)\r\n\r\nThe V2 spec says:\r\n\r\n> Relaxed: `{\"$date\": \"<ISO-8601 Date/Time Format>\"}` <br/>\r\n> ...  <br/>\r\n> \"<ISO-8601 Date/Time Format>\"  <br/>\r\n> A date in [ISO-8601 Internet Date/Time Format](https://tools.ietf.org/html/rfc3339#section-5.6) as string.\r\n\r\nThe class `org.apache.drill.exec.store.easy.json.loader.TestExtendedTypes` tests this functionality. See `testDate()`. This class uses `DateTimeFormatter.ISO_INSTANT` to create a formatted date. The resulting `utc` variable contains the string `\"2020-04-21T18:22:33Z\"`. The test then verifies that the following \"Extended\" JSON parses correctly:\r\n\r\n```json\r\n{ \"a\": { \"$date\": \"2020-04-21T18:22:33Z\" } }\r\n```\r\n\r\nSince the only place that date/time is supported in JSON is for the Mongo types, we should follow the Mongo spec for those types. No need to try multiple formats, nor to ask the user for the format. The only formats we should support are those defined by Mongo.\r\n\r\nSecond, the new version supports a provided schema. It may be that you are working with a JSON file or source witch is not Mongo, yet which includes dates. Simply use the provided schema mechanism to mark the `ts` column (say) as a `TIMESTAMP` and optionally provide a format. The \"new\" JSON parser will automagically do the conversion.\r\n\r\nWhere are you using the old JSON parser?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/902913520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/902946153","html_url":"https://github.com/apache/drill/pull/2270#issuecomment-902946153","issue_url":"https://api.github.com/repos/apache/drill/issues/2270","id":902946153,"node_id":"IC_kwDOAFa5xc410d1p","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T20:42:10Z","updated_at":"2021-08-20T20:42:10Z","author_association":"CONTRIBUTOR","body":"> @cgivre, thanks for the many improvements. Looking pretty good. A few minor comments.\r\n> \r\n> Regarding the \"misuse\" of query parameters: I see such \"misuse\" as a feature, not a bug. Consider. Today I must create a new config for each new URL. But, I'm lazy, so I create a \"universal\" config: `url=\"{url}\"`. Now I can hit any URL and the magic of Drill's schema-on read will figure it out, assuming the returned data is of the right shape.\r\n> \r\n> The goal of the original comment was to get us to realize, \"hey, this might be useful. Lets a) document it and b) test it.\"\r\n\r\nGotcha!  👍 Makes sense.  I was debating putting some sort of URL validation on the config, but I think I'll leave it alone for the time being if you're ok with that.  ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/902946153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/902971941","html_url":"https://github.com/apache/drill/issues/2298#issuecomment-902971941","issue_url":"https://api.github.com/repos/apache/drill/issues/2298","id":902971941,"node_id":"IC_kwDOAFa5xc410kIl","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T21:39:23Z","updated_at":"2021-08-20T21:39:23Z","author_association":"CONTRIBUTOR","body":"@paul-rogers Do you think we should explicitly mark the old reader as deprecated?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/902971941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/903012752","html_url":"https://github.com/apache/drill/issues/2298#issuecomment-903012752","issue_url":"https://api.github.com/repos/apache/drill/issues/2298","id":903012752,"node_id":"IC_kwDOAFa5xc410uGQ","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-20T23:55:35Z","updated_at":"2021-08-20T23:55:35Z","author_association":"CONTRIBUTOR","body":"@cgivre, we could deprecate the old version. A quick dependency check suggests the old version is still used by Mongo, the metastore and Kafka. To deprecate the old version we'd have to update those three usages (at least).\r\n\r\nIn the meantime, we could add a comment in the code suggesting new code use the newer version.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/903012752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/903108793","html_url":"https://github.com/apache/drill/issues/2298#issuecomment-903108793","issue_url":"https://api.github.com/repos/apache/drill/issues/2298","id":903108793,"node_id":"IC_kwDOAFa5xc411Fi5","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-21T12:21:50Z","updated_at":"2021-08-21T12:21:50Z","author_association":"MEMBER","body":"@paul-rogers Well. I've confirmed that it's really old. Thanks for the tips.\r\nOddly, I may have used the old package `org.apache.drill.exec.store.json` and the test class `TestJsonRecordReader`. But the error stack log show that does not apply the new JSON loader?\r\n```java\r\nCaused by: java.time.format.DateTimeParseException: Text '2019-09-30T20:47:43Z' could not be parsed at index 19\r\n\tat java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:1949)\r\n\tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n\tat java.time.OffsetDateTime.parse(OffsetDateTime.java:402)\r\n\tat org.apache.drill.exec.vector.complex.fn.VectorOutput$MapVectorOutput.writeTimestamp(VectorOutput.java:354)\r\n\tat org.apache.drill.exec.vector.complex.fn.VectorOutput.innerRun(VectorOutput.java:113)\r\n\tat org.apache.drill.exec.vector.complex.fn.VectorOutput$MapVectorOutput.run(VectorOutput.java:302)\r\n\tat org.apache.drill.exec.vector.complex.fn.JsonReader.writeMapDataIfTyped(JsonReader.java:386)\r\n\tat org.apache.drill.exec.vector.complex.fn.JsonReader.writeData(JsonReader.java:262)\r\n\tat org.apache.drill.exec.vector.complex.fn.JsonReader.writeDataSwitch(JsonReader.java:192)\r\n\tat org.apache.drill.exec.vector.complex.fn.JsonReader.writeDocument(JsonReader.java:178)\r\n\tat org.apache.drill.exec.store.easy.json.reader.BaseJsonReader.writeToVector(BaseJsonReader.java:99)\r\n\tat org.apache.drill.exec.store.easy.json.reader.BaseJsonReader.write(BaseJsonReader.java:70)\r\n\tat org.apache.drill.exec.store.mongo.MongoRecordReader.next(MongoRecordReader.java:203)\r\n\tat org.apache.drill.exec.physical.impl.ScanBatch.internalNext(ScanBatch.java:234)\r\n\tat org.apache.drill.exec.physical.impl.ScanBatch.next(ScanBatch.java:298)\r\n\t... 18 common frames omitted\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/903108793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/903174842","html_url":"https://github.com/apache/drill/issues/2298#issuecomment-903174842","issue_url":"https://api.github.com/repos/apache/drill/issues/2298","id":903174842,"node_id":"IC_kwDOAFa5xc411Vq6","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-21T20:51:04Z","updated_at":"2021-08-21T20:51:04Z","author_association":"CONTRIBUTOR","body":"Hi @luocooong, as it turns out, the stack trace shows the old JSON reader. The key is the package: `org.apache.drill.exec.vector.complex.fn.JsonReader`. The new one is in `org.apache.drill.exec.store.easy.json`.\r\n\r\nThe old one was meant to be an independent module, it seems, part of the Value Vector package. The new one builds on top of the vector accessors and EVF.\r\n\r\nThe key limitation of the old one (aside from the date issue you hit) is that the old one has no notion of vector sizes. It is based on a fixed record count. If your records are big, the old one will allocate an excessive amount of direct memory. In an extreme case, it can allocate vectors in excess of 16GB, which will cause direct memory fragmentation and eventual OOM errors. The memory issue was the original reason for building the vector accessor mechanism which is the heart of the EVF.\r\n\r\nNow, I'm sure you just need the Mongo reader to work and are not tasked with revising it to use the new JSON parser. So, a temporary solution is simply to ensure that the old reader follows the same Mongo date/time specs as the new reader does. Links to the Mongo specs are in the note above.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/903174842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/903191804","html_url":"https://github.com/apache/drill/issues/2298#issuecomment-903191804","issue_url":"https://api.github.com/repos/apache/drill/issues/2298","id":903191804,"node_id":"IC_kwDOAFa5xc411Zz8","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-22T00:10:00Z","updated_at":"2021-08-22T00:10:00Z","author_association":"MEMBER","body":"@paul-rogers Thanks for the information. But the old JSON loader use the fixed date formatter : `yyyy-MM-dd'T'HH:mm:ss.SSSXX`, It required a timezone (or offset). And then, the OffsetDateTime class does not accept a date string without timezone.\r\n\r\nhttps://github.com/apache/drill/blob/39b565f112122734c080324fdcbef518ced16507/exec/java-exec/src/main/java/org/apache/drill/exec/vector/complex/fn/VectorOutput.java#L353-L354\r\n\r\nSo, the old JSON loader cannot parse the `2019-09-30T20:47:43Z`(with this fixed formatter). Interestingly, the `2019-09-30T20:47:43Z` is equals to the `2019-09-30T20:47:43+0000` (`Z` is the 0 timezone), but the OffsetDateTime don't even know it. \r\nIn this case, Do we need to update the new JSON loader?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/903191804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/903221943","html_url":"https://github.com/apache/drill/issues/2298#issuecomment-903221943","issue_url":"https://api.github.com/repos/apache/drill/issues/2298","id":903221943,"node_id":"IC_kwDOAFa5xc411hK3","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-22T06:39:24Z","updated_at":"2021-08-22T06:40:46Z","author_association":"CONTRIBUTOR","body":"@luocooong, I may be confused, but as I read the Mongo spec, it does want the UTC \"Zulu\" format: `2019-09-30T20:47:43Z`. I verified that this format is tested and does work correctly in the new JSON loader.\r\n\r\nWhen you say \"without a timezone\", I think you are describing a date/time of the form `2019-09-30T20:47:43`. Ths would be a local time. Drill uses local time internally, but Mongo (wisely) seems to use UTC time. Thus, if you are reading Mongo data, you should not see a local time (if I understand Mongo correctly.) By the way, `2019-09-30T20:47:43Z` does have a time zone: it is zero offset, also called GMT.\r\n\r\nYour testing shows that the \"Zulu\" format is broken in the old JSON parser. Let's try to figure out why it is broken.\r\n\r\nI looked at the code in your call stack. It is pretty convoluted -- another reason for the new JSON parser. The JSON parser tries to handle all maps the same. Mongo extended types are, syntactically, a JSON map. The `MapVectorOutput.run()` method checks for Mongo keywords. For the date/time keyword, the code then calls `VectorOutput$MapVectorOutput.writeTimestamp`. I suspect this is where things went wrong. The `VectorOutput$MapVectorOutput.writeTimestamp` method is not unique to Mongo JSON, it is a generic vector method. As you note, at present it uses the `isoFormatTime` constant in `DateUtility`:\r\n\r\n```java\r\n  public static final DateTimeFormatter isoFormatTime     = buildFormatter(\"HH:mm:ss.SSSXX\");\r\n```\r\n\r\nFor Mongo, it should use the `UTC_FORMATTER` constant:\r\n\r\n```java\r\n  public static final DateTimeFormatter UTC_FORMATTER = buildFormatter(\"yyyy-MM-dd'T'HH:mm:ss.SSS'Z'\");\r\n```\r\n\r\nChecking the file history, it looks like the following commit broke things: \"DRILL-6242 Use java.time.Local{Date|Time|DateTime} for Drill Date, Time, Timestamp types.\" (Use \"Blame\" on the `VectorOutput.java` file.) My guess is that the author wanted to make sure Drill used only local times, and did not realize that he was breaking Mongo which requires ISO \"Zulu\" timestamps.\r\n\r\nA quick check of the code suggests that only the old `JsonReader` uses this code path. So, you can try reverting the code to use the `UTC_FORMATTER` and rerun unit tests. Also check against your Mongo test case. If both of these work, then this is the simplest fix.\r\n\r\nNow, it could be that something in the tests uses a Mongo-format date/time, but with a Drill-like local time. If so, then we can look at the problem an think about how to solve it. Let's see if running the tests tells us if we even have this problem.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/903221943/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/903306864","html_url":"https://github.com/apache/drill/pull/2288#issuecomment-903306864","issue_url":"https://api.github.com/repos/apache/drill/issues/2288","id":903306864,"node_id":"IC_kwDOAFa5xc41115w","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-22T18:01:03Z","updated_at":"2021-08-22T18:01:03Z","author_association":"CONTRIBUTOR","body":"Closing because these doc commits have been pushed directly to gh-pages.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/903306864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/904520267","html_url":"https://github.com/apache/drill/pull/2299#issuecomment-904520267","issue_url":"https://api.github.com/repos/apache/drill/issues/2299","id":904520267,"node_id":"IC_kwDOAFa5xc416eJL","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T10:27:58Z","updated_at":"2021-08-24T10:27:58Z","author_association":"MEMBER","body":"@paul-rogers Thanks for the review. I think you said number is the `Canonical Format`? such as\r\n```json\r\n{\"$date\":{\"$numberLong\":\"1565546054692\"}}\r\n```\r\nI have tracked the mongo reader code, then found the mongo driver only uses the `Relaxed Format`.\r\n```java\r\n// org.apache.drill.exec.store.mongo.MongoRecordReader\r\nString doc = cursor.next().toJson();\r\njsonReader.setSource(doc.getBytes(Charsets.UTF_8));\r\n\r\n// com.mongodb.internal.connection.ByteBufBsonDocument\r\npublic String toJson() {\r\n    return toJson(JsonWriterSettings.builder().outputMode(JsonMode.RELAXED).build());\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/904520267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/905020455","html_url":"https://github.com/apache/drill/pull/2299#issuecomment-905020455","issue_url":"https://api.github.com/repos/apache/drill/issues/2299","id":905020455,"node_id":"IC_kwDOAFa5xc418YQn","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-24T22:32:15Z","updated_at":"2021-08-24T22:32:15Z","author_association":"CONTRIBUTOR","body":"Hi @luocooong, thanks for the explanation. You probably know more about Mongo than I do: my knowledge comes from the Mongo specs. The code you highlighted suggests that Mongo is sending BSON (?), which the Mongo client converts to JSON (?).\r\n\r\nSo, we have a number of unknowns:\r\n\r\n* What is the format of data sent from Mongo to Drill? JSON? BSON? Something else?\r\n* Which code creates the JSON that we want tDrill to parse? What is the format of that JSON?\r\n* Which of the Mongo-specified date formats does that JSON include?\r\n* How do we ensure the \"old\" reader correctly reads the JSON which the Mongo plugin gives it?\r\n\r\nI don't really understand the first three items: my knowledge is limited only to the Mongo specs, the \"new\" JSON reader and, to some degree, to the \"old\" JSON reader. Please feel free to explain how you actually see Mongo working to fill in the unknowns above.\r\n\r\nThe key point in my previous comments on this PR is that Mongo appears to provide dates in UTC: at least, that is what the specs say. Since Drill stores dates in local time, conversion from UTC-to-local is necessary when converting Mongo JSON to Drill value vectors. I've assumed that the JSON we want to parse follows the Mongo specs (and thus is in UTC.) If the JSON is something else (dates are already in local time?), then we have to rethink the approach.\r\n\r\nBTW: that Drill uses local time for timestamps is something that has long been debated. It is far too late to change the existing types. Folks have proposed adding a `UTC_TIMESTAMP` type, though the work has never been completed. \r\n\r\nI think you'll need to poke around a bit and explain what you see happening to fill in the unknowns listed above.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/905020455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/905128645","html_url":"https://github.com/apache/drill/pull/2270#issuecomment-905128645","issue_url":"https://api.github.com/repos/apache/drill/issues/2270","id":905128645,"node_id":"IC_kwDOAFa5xc418yrF","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-25T02:30:19Z","updated_at":"2021-08-25T02:30:19Z","author_association":"CONTRIBUTOR","body":"@paul-rogers \r\nHey Paul, \r\nI think I got everything.  Could you please take a look?  Thanks!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/905128645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/905316748","html_url":"https://github.com/apache/drill/pull/2299#issuecomment-905316748","issue_url":"https://api.github.com/repos/apache/drill/issues/2299","id":905316748,"node_id":"IC_kwDOAFa5xc419gmM","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-25T09:00:37Z","updated_at":"2021-08-25T09:00:37Z","author_association":"MEMBER","body":"@paul-rogers Thank you for the question. In short, the mongo storage plugin of Drill supported both the BSON loader and JSON loader. The BSON loader is the default handler, unless user set the `store.mongo.bson.record.reader` to `false` (In this case, Drill will use the JSON loader to parse the JSON string).\r\n\r\nhttps://github.com/apache/drill/blob/7d4d75a9bb9b4b697ef5bab74c2156810e31dc9b/contrib/storage-mongo/src/main/java/org/apache/drill/exec/store/mongo/MongoRecordReader.java#L197-L204\r\n\r\nWe see that mongo driver will convert the data structure to JSON string (enabled the JSON loader).\r\n\r\nIn the mongo-spec, the driver supported two JSON text output format : `Canonical Format` and `Relaxed Format`. Notably, the Java driver use the `Relaxed` format as output when call the `cursor.next().toJson()`. So we don't see both of the following date format at the same time.\r\n\r\n```java\r\n// Canonical\r\n{\"$date\":{\"$numberLong\":\"1565546054692\"}}\r\n\r\n// Relaxed\r\n{\"$date\":\"2019-08-11T17:54:14.692Z\"}\r\n```\r\n\r\nIf application need the `Canonical` format, the mongo reader code is that :\r\n\r\n```java\r\nJsonWriterSettings settings = JsonWriterSettings.builder().outputMode(JsonMode.EXTENDED).build();\r\nString doc = cursor.next().toJson(settings);\r\n```\r\n\r\nIt is showed that the JSON output format is depending on the application.\r\n\r\n```java\r\n// Canonical output\r\n{\"_id\": {\"$oid\": \"61226ac33b29ff6306b36aa9\"}, \"date\": {\"$date\": {\"$numberLong\": \"1629645507258\"}}}\r\n\r\n// Relaxed output\r\n{\"_id\": {\"$oid\": \"61226ac33b29ff6306b36aa9\"}, \"date\": {\"$date\": \"2021-08-22T15:18:27.258Z\"}}\r\n```\r\n\r\nI think I've replied the first three items. Once the toJson() is done, the next operation (parse & save to vector value) is no difference than query the JSON files. The only issue is that we are now using an old version of JSON loader, the new JSON loader contains more complete unit tests.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/905316748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/905694319","html_url":"https://github.com/apache/drill/pull/2300#issuecomment-905694319","issue_url":"https://api.github.com/repos/apache/drill/issues/2300","id":905694319,"node_id":"IC_kwDOAFa5xc41-8xv","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-25T16:36:47Z","updated_at":"2021-08-25T16:36:47Z","author_association":"MEMBER","body":"There is no need to list all fields in the builder. I've listed there only fields that require some special treatment, all other fields will be added by Lombok.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/905694319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/905830673","html_url":"https://github.com/apache/drill/pull/2299#issuecomment-905830673","issue_url":"https://api.github.com/repos/apache/drill/issues/2299","id":905830673,"node_id":"IC_kwDOAFa5xc41_eER","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-25T19:57:24Z","updated_at":"2021-08-25T19:57:24Z","author_association":"CONTRIBUTOR","body":"@luocooong, thanks for the explanation. The \"new\" JSON reader supports both date formats. Our question is about the \"old\" one.\r\n\r\nAs noted in a previous comment: the code change looks fine except that it seems that we are storing a UTC time value in a Drill TIMESTAMP vector. The tests seem to verify this. (But, I could be wrong.)\r\n\r\nUsing UTC in Drill will seem to work if we only consider Mongo, and only consider a scan query. Things won't work if we use those UTC dates with parts of Drill that expect local times. Here is a quick check: get the current time in UTC. Pass that to the old JSON reader in Mongo's relaxed format. Then, use Drill's newly revised `AGE()` function to compute the difference between the column value and the current time. The output should be just a few seconds or less. Of course, this will always work if your machine's time zone is UTC. But, if it is anything else, and we don't do the conversion correctly, then the `AGE()` function will return the difference between UTC and local time, which is wrong in this test case.\r\n\r\nTime conversions are confusing. I hope the above makes sense.\r\n\r\nIf you can fix that issue (or explain why the code does, in fact, work correctly), we'll be good to go. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/905830673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/906545137","html_url":"https://github.com/apache/drill/pull/2301#issuecomment-906545137","issue_url":"https://api.github.com/repos/apache/drill/issues/2301","id":906545137,"node_id":"IC_kwDOAFa5xc42CMfx","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-26T16:07:13Z","updated_at":"2021-08-26T16:07:13Z","author_association":"MEMBER","body":"@ChenZhangg, I don't see any performance improvements for Travis build on this PR. It is running for 51 min 10 sec that is an average run time for this project.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/906545137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/908047858","html_url":"https://github.com/apache/drill/pull/2301#issuecomment-908047858","issue_url":"https://api.github.com/repos/apache/drill/issues/2301","id":908047858,"node_id":"IC_kwDOAFa5xc42H7Xy","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-30T05:47:11Z","updated_at":"2021-08-30T05:47:11Z","author_association":"MEMBER","body":"@ChenZhangg we have already use parallel builds. And this 2 forks right now:\r\nhttps://github.com/apache/drill/blob/master/pom.xml#L52\r\nOn the other hand, this is the issue, that some test fails intermittently right now for parallel maven builds. I am going to solve it in scope of: https://github.com/apache/drill/pull/2293\r\n\r\n\r\nAbout `-T 1C`, it means to use the same number of forks as the number of cores on machine. But it also means we will use the same number of JVMs and the memory usage will be increased. Since Drill is memory cost tool and not all machines has enough amount of memory this option is not sufficient for all machines. For instance: user can have laptop with two physical cores, but with Intel multi-threading that number will be 4. The default memory usage for Drill in scope of one JVM is up to 4Gb. So for laptops with 8Gb memory the build will fail.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/908047858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/911570724","html_url":"https://github.com/apache/drill/issues/2304#issuecomment-911570724","issue_url":"https://api.github.com/repos/apache/drill/issues/2304","id":911570724,"node_id":"IC_kwDOAFa5xc42VXck","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T11:36:19Z","updated_at":"2021-09-02T11:36:19Z","author_association":"CONTRIBUTOR","body":"@KendraKrat Could you please share an example file that isn't working?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/911570724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/911801975","html_url":"https://github.com/apache/drill/issues/2304#issuecomment-911801975","issue_url":"https://api.github.com/repos/apache/drill/issues/2304","id":911801975,"node_id":"IC_kwDOAFa5xc42WP53","user":{"login":"KendraKrat","id":31834276,"node_id":"MDQ6VXNlcjMxODM0Mjc2","avatar_url":"https://avatars.githubusercontent.com/u/31834276?v=4","gravatar_id":"","url":"https://api.github.com/users/KendraKrat","html_url":"https://github.com/KendraKrat","followers_url":"https://api.github.com/users/KendraKrat/followers","following_url":"https://api.github.com/users/KendraKrat/following{/other_user}","gists_url":"https://api.github.com/users/KendraKrat/gists{/gist_id}","starred_url":"https://api.github.com/users/KendraKrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KendraKrat/subscriptions","organizations_url":"https://api.github.com/users/KendraKrat/orgs","repos_url":"https://api.github.com/users/KendraKrat/repos","events_url":"https://api.github.com/users/KendraKrat/events{/privacy}","received_events_url":"https://api.github.com/users/KendraKrat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T15:21:37Z","updated_at":"2021-09-02T15:21:37Z","author_association":"NONE","body":"[books.xml.txt](https://github.com/apache/drill/files/7100004/books.xml.txt)\r\n\r\nI created an example file based on the documented example of the books list by adding some attributes to the book elements. It wouldn't let me attach an XML file here so I just appended the .txt extension.\r\n\r\nThe output below shows that the book attributes aren't captured. Thank you.\r\n\r\n+-----------------------------------------------------------------+------------+---------------------------------+-------------+------+-----------------------------------------+\r\n|                           attributes                            |   author   |              title              |  category   | year |                 authors                 |\r\n+-----------------------------------------------------------------+------------+---------------------------------+-------------+------+-----------------------------------------+\r\n| {}                                                              | Mark Twain | The Adventures of Tom Sawyer    | FICTION     | 1876 | {}                                      |\r\n| {\"title_binding\":\"paperback\"}                                   | null       | The Programming Language Pascal | PASCAL      | 1971 | {\"author\":\"Niklaus WirthSomebody else\"} |\r\n| {\"title_binding\":\"hardcover\",\"title_subcategory\":\"non-fiction\"} | O.-J. Dahl | Structured Programming          | PROGRAMMING | 1972 | {}                                      |\r\n+-----------------------------------------------------------------+------------+---------------------------------+-------------+------+-----------------------------------------+","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/911801975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/911824788","html_url":"https://github.com/apache/drill/issues/2304#issuecomment-911824788","issue_url":"https://api.github.com/repos/apache/drill/issues/2304","id":911824788,"node_id":"IC_kwDOAFa5xc42WVeU","user":{"login":"KendraKrat","id":31834276,"node_id":"MDQ6VXNlcjMxODM0Mjc2","avatar_url":"https://avatars.githubusercontent.com/u/31834276?v=4","gravatar_id":"","url":"https://api.github.com/users/KendraKrat","html_url":"https://github.com/KendraKrat","followers_url":"https://api.github.com/users/KendraKrat/followers","following_url":"https://api.github.com/users/KendraKrat/following{/other_user}","gists_url":"https://api.github.com/users/KendraKrat/gists{/gist_id}","starred_url":"https://api.github.com/users/KendraKrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KendraKrat/subscriptions","organizations_url":"https://api.github.com/users/KendraKrat/orgs","repos_url":"https://api.github.com/users/KendraKrat/repos","events_url":"https://api.github.com/users/KendraKrat/events{/privacy}","received_events_url":"https://api.github.com/users/KendraKrat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-02T15:47:17Z","updated_at":"2021-09-02T15:47:17Z","author_association":"NONE","body":"[books-extended.txt](https://github.com/apache/drill/files/7100167/books-extended.txt)\r\n\r\nI have extended the example I provided to include an attribute on the outermost books list element as well. In my case, I have attributes on this list element that I would also like to capture and have applied to all of the book elements. However, given that I'm using dataLevel=2 in order to get each book as a separate row in the output table, I think this means you are ignoring the top level books list element, so this may be harder to capture and not fit with your parsing paradigm.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/911824788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/912174571","html_url":"https://github.com/apache/drill/pull/2308#issuecomment-912174571","issue_url":"https://api.github.com/repos/apache/drill/issues/2308","id":912174571,"node_id":"IC_kwDOAFa5xc42Xq3r","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T01:11:05Z","updated_at":"2021-09-03T01:11:05Z","author_association":"CONTRIBUTOR","body":"@tdunning Care to review?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/912174571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/912199182","html_url":"https://github.com/apache/drill/pull/2308#issuecomment-912199182","issue_url":"https://api.github.com/repos/apache/drill/issues/2308","id":912199182,"node_id":"IC_kwDOAFa5xc42Xw4O","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T02:13:30Z","updated_at":"2021-09-03T02:13:30Z","author_association":"CONTRIBUTOR","body":"> @tdunning Care to review?\r\n\r\nHold on... there's a test failure I need to investigate.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/912199182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/912274870","html_url":"https://github.com/apache/drill/pull/2308#issuecomment-912274870","issue_url":"https://api.github.com/repos/apache/drill/issues/2308","id":912274870,"node_id":"IC_kwDOAFa5xc42YDW2","user":{"login":"tdunning","id":250490,"node_id":"MDQ6VXNlcjI1MDQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/250490?v=4","gravatar_id":"","url":"https://api.github.com/users/tdunning","html_url":"https://github.com/tdunning","followers_url":"https://api.github.com/users/tdunning/followers","following_url":"https://api.github.com/users/tdunning/following{/other_user}","gists_url":"https://api.github.com/users/tdunning/gists{/gist_id}","starred_url":"https://api.github.com/users/tdunning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdunning/subscriptions","organizations_url":"https://api.github.com/users/tdunning/orgs","repos_url":"https://api.github.com/users/tdunning/repos","events_url":"https://api.github.com/users/tdunning/events{/privacy}","received_events_url":"https://api.github.com/users/tdunning/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T05:47:15Z","updated_at":"2021-09-03T05:47:15Z","author_association":"CONTRIBUTOR","body":"Happy to review at some point that you think is appropriate.\n\nTest failures can be regression tests that aren't really functional issues.\n\nOn Thu, Sep 2, 2021 at 7:13 PM Charles S. Givre ***@***.***>\nwrote:\n\n> @tdunning <https://github.com/tdunning> Care to review?\n>\n> Hold on... there's a test failure I need to investigate.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/drill/pull/2308#issuecomment-912199182>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAB5E6WAKTQC7GG3Y4KYEV3UAAVNNANCNFSM5DKMVWZA>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.\n>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/912274870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/912767158","html_url":"https://github.com/apache/drill/pull/2309#issuecomment-912767158","issue_url":"https://api.github.com/repos/apache/drill/issues/2309","id":912767158,"node_id":"IC_kwDOAFa5xc42Z7i2","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T19:37:33Z","updated_at":"2021-09-03T19:37:33Z","author_association":"CONTRIBUTOR","body":"Yes, this PR (and all future website-related PRs) should go to drill-site/master please. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/912767158/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/912775972","html_url":"https://github.com/apache/drill/pull/2309#issuecomment-912775972","issue_url":"https://api.github.com/repos/apache/drill/issues/2309","id":912775972,"node_id":"IC_kwDOAFa5xc42Z9sk","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T19:55:04Z","updated_at":"2021-09-03T19:55:04Z","author_association":"MEMBER","body":"> @vdiravka\r\n> Thanks for writing this up. A few minor changes, but @dzamo recently changed the way Drill is doing the web site and docs and I believe that this needs to go on this repo (https://github.com/apache/drill-site) rather than the `gh-pages` branch of the Drill repo.\r\n\r\nAh, exactly. Forgot about that. I'll add info about Vault Credential Provider and reopen it for https://github.com/apache/drill-site","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/912775972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/912796409","html_url":"https://github.com/apache/drill/pull/2301#issuecomment-912796409","issue_url":"https://api.github.com/repos/apache/drill/issues/2301","id":912796409,"node_id":"IC_kwDOAFa5xc42aCr5","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T20:36:35Z","updated_at":"2021-09-03T20:36:35Z","author_association":"CONTRIBUTOR","body":"> @ChenZhangg we have already use parallel builds. And this 2 forks right now:\r\n> https://github.com/apache/drill/blob/master/pom.xml#L52\r\n> On the other hand, this is the issue, that some test fails intermittently right now for parallel maven builds. I am going to solve it in scope of: #2293\r\n> \r\n> About `-T 1C`, it means to use the same number of forks as the number of cores on machine. But it also means we will use the same number of JVMs and the memory usage will be increased. Since Drill is memory cost tool and not all machines has enough amount of memory this option is not sufficient for all machines. For instance: user can have laptop with two physical cores, but with Intel multi-threading that number will be 4. The default memory usage for Drill in scope of one JVM is up to 4Gb. So for laptops with 8Gb memory the build will fail.\r\n\r\n@vdiravka Is that a -1 for this PR?  Should we close?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/912796409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/912808625","html_url":"https://github.com/apache/drill/pull/2301#issuecomment-912808625","issue_url":"https://api.github.com/repos/apache/drill/issues/2301","id":912808625,"node_id":"IC_kwDOAFa5xc42aFqx","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-03T21:02:16Z","updated_at":"2021-09-03T21:02:16Z","author_association":"MEMBER","body":"I waited the response from @ChenZhangg\r\n@ChenZhangg any update?\r\n\r\nAs a default option `1C` might be not sufficient, because it can lead to failed maven build. But we might want to consider to add info in README about this option to speed up the Maven build on the powerful enough machines.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/912808625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/912984109","html_url":"https://github.com/apache/drill/pull/2299#issuecomment-912984109","issue_url":"https://api.github.com/repos/apache/drill/issues/2299","id":912984109,"node_id":"IC_kwDOAFa5xc42awgt","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-04T14:32:51Z","updated_at":"2021-09-04T14:32:51Z","author_association":"MEMBER","body":"@paul-rogers Thanks for the support, there is a new check result.\r\n\r\nUse the AGE() function in the web console :\r\n1. Setting the current date time to `2021-09-04 10:10:00`, the timezone is GMT+8.\r\n2. Run and check the result :\r\n```sql\r\nSELECT AGE(CURRENT_TIMESTAMP, CAST('2021-09-04 10:10:00' AS TIMESTAMP)) FROM (VALUES(1))\r\n```\r\n```sql\r\nEXPR$0\r\nPT31.859S\r\n```\r\n3. As the above, I think the CAST function read the value as UTC directly.\r\n\r\nAdd the AGE() in the `testDateJsonInput()` :\r\n1. Update the code (the json value is '2019-09-30T20:47:43.123Z') :\r\n```java\r\n@Test\r\npublic void testDateJsonInput() throws Exception {\r\n  test(\"select `date`, AGE(`date`, CAST('2019-09-30 20:47:43' as timestamp)) from cp.`jsoninput/input2.json` limit 1 \");\r\n}\r\n```\r\n2. Run the test and check the result :\r\n```\r\ndate<TIMESTAMP(OPTIONAL)>  EXPR$1<INTERVAL(OPTIONAL)>\r\n2019-09-30T20:47:43.123  PT0.123S\r\n```\r\n\r\nActually, In the `writeTimestamp(boolean isNull)` function, the revision code will get the date time value with the UTC formatter, at the final, will convert to local time (not the UTC) and store the epoch value to vector.\r\n\r\nDid I miss anything?\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/912984109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/913059912","html_url":"https://github.com/apache/drill/pull/2299#issuecomment-913059912","issue_url":"https://api.github.com/repos/apache/drill/issues/2299","id":913059912,"node_id":"IC_kwDOAFa5xc42bDBI","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-05T00:18:43Z","updated_at":"2021-09-05T00:18:43Z","author_association":"CONTRIBUTOR","body":"Hi @luocooong, thanks for your work on this one.\r\n\r\nYou've uncovered another \"tender point\" in Drill. A quick check of the [documentation](http://drill.apache.org/docs/data-type-conversion/#cast) suggests that Drill does not specify how a `CAST` from a string to `TIMESTAMP` should be treated.  If I read your first example correctly, then it appears that we assume that the string is in local time. You said you set the current time to `2021-09-04 10:10:00`. Presumably this is the local time? You then ran the query and got an age of ~30 seconds, which suggests that the `CAST` string was treated as local time.\r\n\r\nThen you say \"I think the CAST function read the value as UTC directly.\" In fact, I think `CAST` takes the string as local time, converts it as such, and stores that. Because both the string and value vector are in local time, no time zone conversion should be needed.\r\n\r\nAn interesting (if confusing, and unrelated) question occurs if you use a string such as `2021-09-04 10:10:00Z`. Such a string is in UTC and should be converted to local time. But, since the docs don't say what we do, it is hard to know...\r\n\r\nIn the second case, the JSON string contains `'2019-09-30T20:47:43.123Z'`. This *is* a UTC timestamp. You didn't mention the local time for the second case. Let's assume it is the same as the first, \"`2021-09-04 10:10:00`, the timezone is GMT+8\".\r\n\r\nNow comes the tricky part. If local time is GMT+8, then when we convert the JSON date to UTC, we have to add 8 hours, so we get `2019-09-31T04:47:43.123` local time. If we use `AGE()`, we should get a value of around 18 hours. But, you only got a few seconds.\r\n\r\nDo we still have some time math issues? Was the current time for your second test different? (Or, did I just get confused in doing the time conversion?)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/913059912/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/913158816","html_url":"https://github.com/apache/drill/pull/2299#issuecomment-913158816","issue_url":"https://api.github.com/repos/apache/drill/issues/2299","id":913158816,"node_id":"IC_kwDOAFa5xc42bbKg","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-05T13:52:31Z","updated_at":"2021-09-05T13:52:31Z","author_association":"MEMBER","body":"@paul-rogers Thanks for the information. YES, the time-zone is always GMT+8. The good thing is, I have pushed a new revision patch. The issue is that there was an error in the time conversion. [UtcTimestampValueListener](https://github.com/apache/drill/blob/master/exec/java-exec/src/main/java/org/apache/drill/exec/store/easy/json/values/UtcTimestampValueListener.java) is a good solution.\r\n\r\n```\r\n// query text\r\nselect `date`, AGE(`date`, CAST('2019-09-30 20:47:43' as timestamp)) from ...\r\n\r\n// output\r\ndate<TIMESTAMP(OPTIONAL)>  EXPR$1<INTERVAL(OPTIONAL)>\r\n2019-10-01T04:47:43.123  PT28800.123S\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/913158816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/913181242","html_url":"https://github.com/apache/drill/pull/2290#issuecomment-913181242","issue_url":"https://api.github.com/repos/apache/drill/issues/2290","id":913181242,"node_id":"IC_kwDOAFa5xc42bgo6","user":{"login":"Leon-WTF","id":25920008,"node_id":"MDQ6VXNlcjI1OTIwMDA4","avatar_url":"https://avatars.githubusercontent.com/u/25920008?v=4","gravatar_id":"","url":"https://api.github.com/users/Leon-WTF","html_url":"https://github.com/Leon-WTF","followers_url":"https://api.github.com/users/Leon-WTF/followers","following_url":"https://api.github.com/users/Leon-WTF/following{/other_user}","gists_url":"https://api.github.com/users/Leon-WTF/gists{/gist_id}","starred_url":"https://api.github.com/users/Leon-WTF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leon-WTF/subscriptions","organizations_url":"https://api.github.com/users/Leon-WTF/orgs","repos_url":"https://api.github.com/users/Leon-WTF/repos","events_url":"https://api.github.com/users/Leon-WTF/events{/privacy}","received_events_url":"https://api.github.com/users/Leon-WTF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-05T16:02:10Z","updated_at":"2021-09-05T16:02:10Z","author_association":"CONTRIBUTOR","body":"> Could we add some additional unit tests to this PR?\r\n\r\nAdded in TestJdbcPluginWithClickhouse similar to TestJdbcPluginWithMySQLIT","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/913181242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/913701607","html_url":"https://github.com/apache/drill/issues/2307#issuecomment-913701607","issue_url":"https://api.github.com/repos/apache/drill/issues/2307","id":913701607,"node_id":"IC_kwDOAFa5xc42dfrn","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-06T14:44:35Z","updated_at":"2021-09-06T14:44:35Z","author_association":"CONTRIBUTOR","body":"@KendraKrat \r\nThanks for reporting this.  The issue here is that Drill is using a streaming reader and doesn't know the schema in advance.   Drill sees the first field and interprets that as an empty `VARCHAR` field with two attributes.  Then, it sees the next field with the same name, `extra` and same attributes and has no way to determine the intent of the data. \r\n\r\nI would actually argue that this isn't a great way to format XML, but often we're stuck with what the data provider gives us, so it's a moot point. \r\n\r\nI've thought about adding `list` support for the XML reader which would partially address this, however the real way would be to add provided schema and XSD support.  That way you can explicitly tell Drill what to expect in terms of schema.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/913701607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/913701875","html_url":"https://github.com/apache/drill/issues/2304#issuecomment-913701875","issue_url":"https://api.github.com/repos/apache/drill/issues/2304","id":913701875,"node_id":"IC_kwDOAFa5xc42dfvz","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-06T14:45:04Z","updated_at":"2021-09-06T14:45:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the issue.  I'll take a look at this. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/913701875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/913816041","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-913816041","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":913816041,"node_id":"IC_kwDOAFa5xc42d7np","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-06T19:07:02Z","updated_at":"2021-09-06T19:07:02Z","author_association":"MEMBER","body":"@cgivre, it is a good question, I've added a doc with this info in a new commit, please take a look.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/913816041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/913862302","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-913862302","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":913862302,"node_id":"IC_kwDOAFa5xc42eG6e","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-06T21:39:05Z","updated_at":"2021-09-06T21:39:05Z","author_association":"CONTRIBUTOR","body":"One other thing... would it be worthwhile to update the Mongo Driver to the latest version (4.3.1), or should we save that for another PR?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/913862302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/914021061","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-914021061","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":914021061,"node_id":"IC_kwDOAFa5xc42etrF","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-07T06:12:42Z","updated_at":"2021-09-07T06:12:42Z","author_association":"MEMBER","body":"@cgivre, here it is: \r\nhttps://github.com/apache/drill/blob/41c2dcc498afcbac8aa584c4180445ebf62b34ff/contrib/storage-mongo/src/main/java/org/apache/drill/exec/store/mongo/MongoStoragePlugin.java#L83-L101\r\n\r\nThanks for pointing to the newer driver version, I have updated it.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/914021061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/915627200","html_url":"https://github.com/apache/drill/pull/2299#issuecomment-915627200","issue_url":"https://api.github.com/repos/apache/drill/issues/2299","id":915627200,"node_id":"IC_kwDOAFa5xc42k1zA","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-08T22:56:38Z","updated_at":"2021-09-08T22:56:38Z","author_association":"CONTRIBUTOR","body":"Hi @luocooong, thanks for the update. The test case cited above did not say the value of the input UTC timestamp. The output would be correct only if the value were `2019-0930T20:47:43.123Z`. This is the first value in `input2.json`, so it seems we're good.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/915627200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/916081321","html_url":"https://github.com/apache/drill/pull/2301#issuecomment-916081321","issue_url":"https://api.github.com/repos/apache/drill/issues/2301","id":916081321,"node_id":"IC_kwDOAFa5xc42mkqp","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-09T13:15:26Z","updated_at":"2021-09-09T13:15:26Z","author_association":"CONTRIBUTOR","body":"> I waited the response from @ChenZhangg\r\n> @ChenZhangg any update?\r\n> \r\n> As a default option `1C` might be not sufficient, because it can lead to failed maven build. But we might want to consider to add info in README about this option to speed up the Maven build on the powerful enough machines.\r\n\r\n@vdiravka In the docs[1] there are build quickly instructions:\r\n\r\n```\r\nmvn install -T 4 -Dmaven.test.skip=true -Dmaven.javadoc.skip=true -Drat.skip=true -Dlicense.skip=true -Dcheckstyle.skip=true -Dfindbugs.skip=true -Dmaven.site.skip=true -Denforcer.skip=true -DskipIfEmpty=true -Dmaven.compiler.optimize=true\r\n```\r\n\r\nOn my laptop, this command takes ~2 min whereas a regular build without the tests takes between 5-6.   Unless I hear otherwise, I'd suggest closing this PR.\r\n\r\n[1]: https://github.com/apache/drill/blob/master/docs/dev/Environment.md","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/916081321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/916440018","html_url":"https://github.com/apache/drill/pull/2310#issuecomment-916440018","issue_url":"https://api.github.com/repos/apache/drill/issues/2310","id":916440018,"node_id":"IC_kwDOAFa5xc42n8PS","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-09-09T21:12:16Z","updated_at":"2021-09-09T21:12:16Z","author_association":"NONE","body":"This pull request **fixes 75 alerts** when merging e15cef3b9e70e0f306ce9a8845424e4f0b4d3f52 into dac5b7e5d8079753b51a7b513d9fbeb051dfe0d7 - [view on LGTM.com](https://lgtm.com/projects/g/apache/drill/rev/pr-11c14bd67c73631bd3eeb89d3888eb40c2519ca4)\n\n**fixed alerts:**\n\n* 73 for Spurious Javadoc @param tags\n* 2 for Implicit narrowing conversion in compound assignment","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/916440018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/916639316","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-916639316","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":916639316,"node_id":"IC_kwDOAFa5xc42os5U","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-10T05:19:17Z","updated_at":"2021-09-10T05:19:17Z","author_association":"MEMBER","body":"> Calcite rules for adapters in most of the cases have parts of the logic related to the storage itself. My idea was to move out this logic from rules to \"implementor\", so we will have simple rules that could be reused, and adapters will provide only the \"implementor\" that will be responsible for checking whether the specific pushdown can be done and handling it.\r\n\r\nDoes that makes sense to continue this conversation in Calcite dev list?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/916639316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917170441","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-917170441","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":917170441,"node_id":"IC_kwDOAFa5xc42qukJ","user":{"login":"julianhyde","id":1130553,"node_id":"MDQ6VXNlcjExMzA1NTM=","avatar_url":"https://avatars.githubusercontent.com/u/1130553?v=4","gravatar_id":"","url":"https://api.github.com/users/julianhyde","html_url":"https://github.com/julianhyde","followers_url":"https://api.github.com/users/julianhyde/followers","following_url":"https://api.github.com/users/julianhyde/following{/other_user}","gists_url":"https://api.github.com/users/julianhyde/gists{/gist_id}","starred_url":"https://api.github.com/users/julianhyde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/julianhyde/subscriptions","organizations_url":"https://api.github.com/users/julianhyde/orgs","repos_url":"https://api.github.com/users/julianhyde/repos","events_url":"https://api.github.com/users/julianhyde/events{/privacy}","received_events_url":"https://api.github.com/users/julianhyde/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-10T19:52:52Z","updated_at":"2021-09-10T19:52:52Z","author_association":"CONTRIBUTOR","body":"I have no objections to moving the conversation to dev@calcite. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917170441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917189801","html_url":"https://github.com/apache/drill/pull/2310#issuecomment-917189801","issue_url":"https://api.github.com/repos/apache/drill/issues/2310","id":917189801,"node_id":"IC_kwDOAFa5xc42qzSp","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-09-10T20:24:57Z","updated_at":"2021-09-10T20:24:57Z","author_association":"NONE","body":"This pull request **fixes 75 alerts** when merging 7cb79ed9a39de1617a48108887c5b72b376a5f4a into dac5b7e5d8079753b51a7b513d9fbeb051dfe0d7 - [view on LGTM.com](https://lgtm.com/projects/g/apache/drill/rev/pr-abc5774fb478d76ad69e0940c4ffcc518039808e)\n\n**fixed alerts:**\n\n* 73 for Spurious Javadoc @param tags\n* 2 for Implicit narrowing conversion in compound assignment","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917189801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917194793","html_url":"https://github.com/apache/drill/issues/2307#issuecomment-917194793","issue_url":"https://api.github.com/repos/apache/drill/issues/2307","id":917194793,"node_id":"IC_kwDOAFa5xc42q0gp","user":{"login":"KendraKrat","id":31834276,"node_id":"MDQ6VXNlcjMxODM0Mjc2","avatar_url":"https://avatars.githubusercontent.com/u/31834276?v=4","gravatar_id":"","url":"https://api.github.com/users/KendraKrat","html_url":"https://github.com/KendraKrat","followers_url":"https://api.github.com/users/KendraKrat/followers","following_url":"https://api.github.com/users/KendraKrat/following{/other_user}","gists_url":"https://api.github.com/users/KendraKrat/gists{/gist_id}","starred_url":"https://api.github.com/users/KendraKrat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KendraKrat/subscriptions","organizations_url":"https://api.github.com/users/KendraKrat/orgs","repos_url":"https://api.github.com/users/KendraKrat/repos","events_url":"https://api.github.com/users/KendraKrat/events{/privacy}","received_events_url":"https://api.github.com/users/KendraKrat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-10T20:34:30Z","updated_at":"2021-09-10T20:34:30Z","author_association":"NONE","body":"@cgivre I completely agree on all points. Schema/XSD support would be best, plus one for that suggestion! I also agree that I don't like the format of this XML example; however, as you pointed out, this is the data I have to work with which was produced elsewhere and I don't have control over the format. :/","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917194793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917540630","html_url":"https://github.com/apache/drill/pull/2313#issuecomment-917540630","issue_url":"https://api.github.com/repos/apache/drill/issues/2313","id":917540630,"node_id":"IC_kwDOAFa5xc42sI8W","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-12T03:03:55Z","updated_at":"2021-09-12T03:03:55Z","author_association":"CONTRIBUTOR","body":"@luocooong \r\nI'm not an Eclipse user.  I use Intellij, so I'm not the most qualified to review, but superficially it looks good. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917540630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917627868","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-917627868","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":917627868,"node_id":"IC_kwDOAFa5xc42sePc","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-12T12:35:01Z","updated_at":"2021-09-12T12:35:01Z","author_association":"MEMBER","body":"> We are adding a lot of new rules and interfaces for pushdown nodes in the plan.\r\nWhat about existing plugins? Does that mean we need rewrite logic for them to leverage this new mechanism?\r\n\r\nExisting plugins may be rewritten later if will be required to extend their functionality to support more pushdowns for them, but it makes sense to use it for newer plugins since it reduces the code amount that should be added to support pushdowns.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917627868/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917629396","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-917629396","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":917629396,"node_id":"IC_kwDOAFa5xc42senU","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-12T12:45:14Z","updated_at":"2021-09-12T12:45:14Z","author_association":"MEMBER","body":"> Does that makes sense to continue this conversation in Calcite dev list?\r\n\r\nYes, it makes sense to do that, but until Drill uses the older version of Calcite, this discussion wouldn't affect this project. So I propose to process this PR regardless of that discussion.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917629396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917638575","html_url":"https://github.com/apache/drill/pull/2301#issuecomment-917638575","issue_url":"https://api.github.com/repos/apache/drill/issues/2301","id":917638575,"node_id":"IC_kwDOAFa5xc42sg2v","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-12T13:40:53Z","updated_at":"2021-09-12T13:40:53Z","author_association":"CONTRIBUTOR","body":"@ChenZhangg \r\nSince we've not heard from you since posting the PR, I'm going to close this PR.  Feel free to reopen if you would like to continue the discussion.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917638575/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917650497","html_url":"https://github.com/apache/drill/pull/2289#issuecomment-917650497","issue_url":"https://api.github.com/repos/apache/drill/issues/2289","id":917650497,"node_id":"IC_kwDOAFa5xc42sjxB","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-09-12T14:47:23Z","updated_at":"2021-09-12T14:47:23Z","author_association":"NONE","body":"This pull request **introduces 1 alert** when merging 777d95ac0522e9e59524d365ae8d3b9fac47bdea into dac5b7e5d8079753b51a7b513d9fbeb051dfe0d7 - [view on LGTM.com](https://lgtm.com/projects/g/apache/drill/rev/pr-42dc12d1168380e8c9c46cd872235716574afe5b)\n\n**new alerts:**\n\n* 1 for Unused format argument","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917650497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917670913","html_url":"https://github.com/apache/drill/pull/2290#issuecomment-917670913","issue_url":"https://api.github.com/repos/apache/drill/issues/2290","id":917670913,"node_id":"IC_kwDOAFa5xc42sowB","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-12T16:51:15Z","updated_at":"2021-09-12T16:51:15Z","author_association":"MEMBER","body":"@Leon-WTF, looks like this PR breaks Travis CI, could you please fix it?\r\n```\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 144.758 s <<< FAILURE! - in org.apache.drill.exec.store.jdbc.TestJdbcPluginWithClickhouse\r\n3883[ERROR] org.apache.drill.exec.store.jdbc.TestJdbcPluginWithClickhouse  Time elapsed: 144.758 s  <<< ERROR!\r\n3884org.testcontainers.containers.ContainerLaunchException: Container startup failed\r\n3885\tat org.apache.drill.exec.store.jdbc.TestJdbcPluginWithClickhouse.initClickhouse(TestJdbcPluginWithClickhouse.java:58)\r\n3886Caused by: org.rnorth.ducttape.RetryCountExceededException: Retry limit hit with exception\r\n3887\tat org.apache.drill.exec.store.jdbc.TestJdbcPluginWithClickhouse.initClickhouse(TestJdbcPluginWithClickhouse.java:58)\r\n3888Caused by: org.testcontainers.containers.ContainerLaunchException: Could not create/start container\r\n3889\tat org.apache.drill.exec.store.jdbc.TestJdbcPluginWithClickhouse.initClickhouse(TestJdbcPluginWithClickhouse.java:58)\r\n3890Caused by: org.testcontainers.ext.ScriptUtils$UncategorizedScriptException: \r\n3891Failed to execute database script from resource [create table person (\r\n3892  person_id       Int32,\r\n3893\r\n3894  first_name      Nullable(String),\r\n3895  last_name       Nullable(String),\r\n3896  address         Nullable(String),\r\n3897  city            Nullable(String),\r\n3898  state           Nullable(String),\r\n3899  zip             Nullable(Int32),\r\n3900\r\n3901  json            Nullable(String),\r\n3902\r\n3903  bigint_field    Nullable(Int64),\r\n3904  smallint_field  Nullable(Int16),\r\n3905  decimal_field   Nullable(DECIMAL(15, 2)),\r\n3906  boolean_field   Nullable(UInt8),\r\n3907  double_field    Nullable(Float64),\r\n3908  float_field     Nullable(Float32),\r\n3909\r\n3910  date_field      Nullable(Date),\r\n3911  datetime_field  Nullable(Datetime),\r\n3912  enum_field      Enum('XXX'=1, 'YYY'=2, 'ZZZ'=3)\r\n3913) ENGINE = MergeTree() order by person_id;\r\n3914\r\n3915insert into person (person_id, first_name, last_name, address, city, state, zip, json,\r\n3916                    bigint_field, smallint_field, decimal_field, boolean_field, double_field,\r\n3917                    float_field, date_field, datetime_field, enum_field)\r\n3918values (1, 'first_name_1', 'last_name_1', '1401 John F Kennedy Blvd', 'Philadelphia', 'PA',\r\n3919        19107, '{ a : 5, b : 6 }', 123456789, 1, 123.321, 0, 1.0, 1.1, '2012-02-29',\r\n3920        '2012-02-29 13:00:01', 'XXX');\r\n3921\r\n3922insert into person (person_id, first_name, last_name, address, city, state, zip, json,\r\n3923                    bigint_field, smallint_field, boolean_field, double_field,\r\n3924                    float_field, date_field, datetime_field, enum_field)\r\n3925values (2, 'first_name_2', 'last_name_2', 'One Ferry Building', 'San Francisco', 'CA', 94111,\r\n3926        '{ z : [ 1, 2, 3 ] }', 45456767, 3, 1, 3.0, 3.1, '2011-10-30',\r\n3927        '2011-10-30 11:34:21', 'YYY');\r\n3928\r\n3929insert into person (person_id, first_name, last_name, address, city, state, zip, json,\r\n3930                    bigint_field, smallint_field, boolean_field, double_field,\r\n3931                    float_field, date_field, datetime_field, enum_field)\r\n3932values (3, 'first_name_3', 'last_name_3', '176 Bowery', 'New York', 'NY', 10012, '{ [ a, b, c ] }',\r\n3933        123090, -3, 0, 5.0, 5.1, '2015-06-01', '2015-09-22 15:46:10', 'ZZZ');\r\n3934\r\n3935insert into person (person_id) values (4);\r\n3936\r\n3937create view person_view as select * from person;\r\n3938]\r\n3939\tat org.apache.drill.exec.store.jdbc.TestJdbcPluginWithClickhouse.initClickhouse(TestJdbcPluginWithClickhouse.java:58)\r\n3940Caused by: org.testcontainers.exception.ConnectionCreationException: Could not obtain JDBC connection\r\n3941\tat org.apache.drill.exec.store.jdbc.TestJdbcPluginWithClickhouse.initClickhouse(TestJdbcPluginWithClickhouse.java:58)\r\n3942Caused by: java.sql.SQLException: Could not create new connection\r\n3943\tat org.apache.drill.exec.store.jdbc.TestJdbcPluginWithClickhouse.initClickhouse(TestJdbcPluginWithClickhouse.java:58)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917670913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917962073","html_url":"https://github.com/apache/drill/pull/2290#issuecomment-917962073","issue_url":"https://api.github.com/repos/apache/drill/issues/2290","id":917962073,"node_id":"IC_kwDOAFa5xc42tv1Z","user":{"login":"Leon-WTF","id":25920008,"node_id":"MDQ6VXNlcjI1OTIwMDA4","avatar_url":"https://avatars.githubusercontent.com/u/25920008?v=4","gravatar_id":"","url":"https://api.github.com/users/Leon-WTF","html_url":"https://github.com/Leon-WTF","followers_url":"https://api.github.com/users/Leon-WTF/followers","following_url":"https://api.github.com/users/Leon-WTF/following{/other_user}","gists_url":"https://api.github.com/users/Leon-WTF/gists{/gist_id}","starred_url":"https://api.github.com/users/Leon-WTF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leon-WTF/subscriptions","organizations_url":"https://api.github.com/users/Leon-WTF/orgs","repos_url":"https://api.github.com/users/Leon-WTF/repos","events_url":"https://api.github.com/users/Leon-WTF/events{/privacy}","received_events_url":"https://api.github.com/users/Leon-WTF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-13T08:29:36Z","updated_at":"2021-09-13T08:29:57Z","author_association":"CONTRIBUTOR","body":"> 3942Caused by: java.sql.SQLException: Could not create new connection\r\n\r\n@vvysotskyi Sure, do you know what's the difference betwen Travis CI and GitHub CI? The GitHub CI seems all passed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917962073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/917979975","html_url":"https://github.com/apache/drill/pull/2290#issuecomment-917979975","issue_url":"https://api.github.com/repos/apache/drill/issues/2290","id":917979975,"node_id":"IC_kwDOAFa5xc42t0NH","user":{"login":"Leon-WTF","id":25920008,"node_id":"MDQ6VXNlcjI1OTIwMDA4","avatar_url":"https://avatars.githubusercontent.com/u/25920008?v=4","gravatar_id":"","url":"https://api.github.com/users/Leon-WTF","html_url":"https://github.com/Leon-WTF","followers_url":"https://api.github.com/users/Leon-WTF/followers","following_url":"https://api.github.com/users/Leon-WTF/following{/other_user}","gists_url":"https://api.github.com/users/Leon-WTF/gists{/gist_id}","starred_url":"https://api.github.com/users/Leon-WTF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leon-WTF/subscriptions","organizations_url":"https://api.github.com/users/Leon-WTF/orgs","repos_url":"https://api.github.com/users/Leon-WTF/repos","events_url":"https://api.github.com/users/Leon-WTF/events{/privacy}","received_events_url":"https://api.github.com/users/Leon-WTF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-13T08:54:56Z","updated_at":"2021-09-13T08:54:56Z","author_association":"CONTRIBUTOR","body":"> Errors: 1\r\n\r\n[ERROR] Crashed tests:\r\n[ERROR] org.apache.drill.exec.fn.impl.TestAggregateFunctions\r\n[ERROR] org.apache.maven.surefire.booter.SurefireBooterForkException: ExecutionException The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\r\n[ERROR] Command was /bin/sh -c cd /home/travis/build/apache/drill/exec/java-exec && /usr/lib/jvm/java-8-openjdk-arm64/jre/bin/java -Xms512m -Xmx1300m -Ddrill.exec.http.enabled=false -Ddrill.exec.memory.enable_unsafe_bounds_check=true -Ddrill.exec.sys.store.provider.local.write=false -Dorg.apache.drill.exec.server.Drillbit.system_options=org.apache.drill.exec.compile.ClassTransformer.scalar_replacement=on -Ddrill.catastrophic_to_standard_out=true -XX:MaxDirectMemorySize=3000M -Djava.net.preferIPv4Stack=true -Djava.awt.headless=true -XX:+CMSClassUnloadingEnabled -ea -Djdk.attach.allowAttachSelf=true -javaagent:/home/travis/.m2/repository/org/jmockit/jmockit/1.47/jmockit-1.47.jar org.apache.maven.surefire.booter.ForkedBooter /home/travis/build/apache/drill/exec/java-exec/target/surefire 2021-09-04T10-46-59_724-jvmRun1 surefire6858063389372217786tmp surefire_132509789057170760425tmp\r\n[ERROR] Error occurred in starting fork, check output in log\r\n[ERROR] Process Exit Code: 255\r\n[ERROR] Crashed tests:\r\n[ERROR] org.apache.drill.exec.fn.impl.TestAggregateFunctions\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.awaitResultsDone(ForkStarter.java:532)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.runSuitesForkOnceMultiple(ForkStarter.java:405)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:321)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:266)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1314)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:1159)\r\n[ERROR] \tat org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:932)\r\n[ERROR] \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n[ERROR] \tat org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n[ERROR] \tat org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.execute(MavenCli.java:957)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.doMain(MavenCli.java:289)\r\n[ERROR] \tat org.apache.maven.cli.MavenCli.main(MavenCli.java:193)\r\n[ERROR] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n[ERROR] \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n[ERROR] \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n[ERROR] \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n[ERROR] \tat org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n[ERROR] Caused by: org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\r\n\r\n\r\n@vvysotskyi I can run TestJdbcPluginWithClickhouse successfully locally, and the error changed after re-run by merge. Could you help to re-run the Travis CI again? I don't have the permission to do that.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/917979975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/918388191","html_url":"https://github.com/apache/drill/pull/2290#issuecomment-918388191","issue_url":"https://api.github.com/repos/apache/drill/issues/2290","id":918388191,"node_id":"IC_kwDOAFa5xc42vX3f","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-13T16:58:49Z","updated_at":"2021-09-13T16:58:49Z","author_association":"MEMBER","body":"@Leon-WTF, the main difference is that Travis build uses an` arm64-graviton2` arch.\r\nRegarding the exception I shared, please see the build for master branch: https://app.travis-ci.com/github/apache/drill/jobs/536454728","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/918388191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/918586017","html_url":"https://github.com/apache/drill/pull/2310#issuecomment-918586017","issue_url":"https://api.github.com/repos/apache/drill/issues/2310","id":918586017,"node_id":"IC_kwDOAFa5xc42wIKh","user":{"login":"lgtm-com[bot]","id":43144390,"node_id":"MDM6Qm90NDMxNDQzOTA=","avatar_url":"https://avatars.githubusercontent.com/in/17324?v=4","gravatar_id":"","url":"https://api.github.com/users/lgtm-com%5Bbot%5D","html_url":"https://github.com/apps/lgtm-com","followers_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/followers","following_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/repos","events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lgtm-com%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2021-09-13T21:19:23Z","updated_at":"2021-09-13T21:19:23Z","author_association":"NONE","body":"This pull request **fixes 75 alerts** when merging 4066dab9cfbb663c76759012a87fcd3f976ad0b5 into dac5b7e5d8079753b51a7b513d9fbeb051dfe0d7 - [view on LGTM.com](https://lgtm.com/projects/g/apache/drill/rev/pr-db61ffd14e6ecd5dd08900d804f38fe9ad20452d)\n\n**fixed alerts:**\n\n* 73 for Spurious Javadoc @param tags\n* 2 for Implicit narrowing conversion in compound assignment","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/918586017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/919073083","html_url":"https://github.com/apache/drill/pull/2210#issuecomment-919073083","issue_url":"https://api.github.com/repos/apache/drill/issues/2210","id":919073083,"node_id":"IC_kwDOAFa5xc42x_E7","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-14T11:45:56Z","updated_at":"2021-09-14T11:45:56Z","author_association":"CONTRIBUTOR","body":"@dzamo Can we close this one out?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/919073083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/919109304","html_url":"https://github.com/apache/drill/pull/2210#issuecomment-919109304","issue_url":"https://api.github.com/repos/apache/drill/issues/2210","id":919109304,"node_id":"IC_kwDOAFa5xc42yH64","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-14T12:37:42Z","updated_at":"2021-09-14T12:37:42Z","author_association":"CONTRIBUTOR","body":"Sorry that fell between the cracks.  I've made the change with a little rewording in the drill-site repo and will push soon.  Closing here.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/919109304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/919870683","html_url":"https://github.com/apache/drill/issues/2316#issuecomment-919870683","issue_url":"https://api.github.com/repos/apache/drill/issues/2316","id":919870683,"node_id":"IC_kwDOAFa5xc421Bzb","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-15T09:50:23Z","updated_at":"2021-09-15T09:50:23Z","author_association":"CONTRIBUTOR","body":"Thanks for pointing this out.  I'm currently preparing a PR to update the JDK version in the Docker image and I'll give the docs a once over in the process.  We use Jira for ticketing so I'll close this in favour of https://issues.apache.org/jira/browse/DRILL-7999.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/919870683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/920080164","html_url":"https://github.com/apache/drill/pull/2313#issuecomment-920080164","issue_url":"https://api.github.com/repos/apache/drill/issues/2313","id":920080164,"node_id":"IC_kwDOAFa5xc42108k","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-15T14:38:46Z","updated_at":"2021-09-15T14:38:46Z","author_association":"MEMBER","body":"@cgivre Thanks for the comments. Actually, It's a issue related to the Eclipse (The same at the Mac, Ubuntu and Windows 10). But, we can also refactor the few code to reduce confusion for the contributor. In this case, the logic of the code has not changed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/920080164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/920219533","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-920219533","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":920219533,"node_id":"IC_kwDOAFa5xc422W-N","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-15T17:25:41Z","updated_at":"2021-09-15T17:25:41Z","author_association":"CONTRIBUTOR","body":"@vvysotskyi had a great idea of turning the base openjdk image name in the Dockerfile into a variable so that we can build and publish for a few different JDK versions with this one Dockerfile. So please don't merge this until I return with that enhancement, thanks. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/920219533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/920458170","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-920458170","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":920458170,"node_id":"IC_kwDOAFa5xc423RO6","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-15T23:25:09Z","updated_at":"2021-09-15T23:25:09Z","author_association":"MEMBER","body":"@dzamo If possible, rebase the code on the master. It included a Travis CI bugfix.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/920458170/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/920894974","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-920894974","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":920894974,"node_id":"IC_kwDOAFa5xc42473-","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-16T13:18:18Z","updated_at":"2021-09-16T13:27:19Z","author_association":"CONTRIBUTOR","body":"@vvysotskyi I'm just stuck with the DockerHub builds.  In my personal account the Builds tab shows\r\n\r\n> Available on Pro and Team plans.\r\n\r\nIf there is a way to share the Drill account login for DockerHub I am happy to go and experiement there.  I did convert the `BASE_IMAGE` variable to a build arg in my recent changes so we need build invocations like:\r\n```\r\ndocker build --build-arg BASE_IMAGE=openjdk:8-jre  -t apache/drill:openjdk8...\r\ndocker build --build-arg BASE_IMAGE=openjdk:11-jre -t apache/drill:openjdk11 ...\r\ndocker build --build-arg BASE_IMAGE=openjdk:latest  -t apache/drill:openjdk-latest ...\r\n```\r\nwhere we need to make some decisions about the tags we apply and what becomes of `apache/drill:latest`","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/920894974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/920941467","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-920941467","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":920941467,"node_id":"IC_kwDOAFa5xc425HOb","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-16T14:14:24Z","updated_at":"2021-09-16T14:14:24Z","author_association":"MEMBER","body":"@dzamo, ok, thanks for the clarification, I didn't expect that it is not available for a free account.\r\n\r\nRegarding the latest, let's leave JDK 8 as it is now.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/920941467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921567616","html_url":"https://github.com/apache/drill/pull/2290#issuecomment-921567616","issue_url":"https://api.github.com/repos/apache/drill/issues/2290","id":921567616,"node_id":"IC_kwDOAFa5xc427gGA","user":{"login":"Leon-WTF","id":25920008,"node_id":"MDQ6VXNlcjI1OTIwMDA4","avatar_url":"https://avatars.githubusercontent.com/u/25920008?v=4","gravatar_id":"","url":"https://api.github.com/users/Leon-WTF","html_url":"https://github.com/Leon-WTF","followers_url":"https://api.github.com/users/Leon-WTF/followers","following_url":"https://api.github.com/users/Leon-WTF/following{/other_user}","gists_url":"https://api.github.com/users/Leon-WTF/gists{/gist_id}","starred_url":"https://api.github.com/users/Leon-WTF/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Leon-WTF/subscriptions","organizations_url":"https://api.github.com/users/Leon-WTF/orgs","repos_url":"https://api.github.com/users/Leon-WTF/repos","events_url":"https://api.github.com/users/Leon-WTF/events{/privacy}","received_events_url":"https://api.github.com/users/Leon-WTF/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T07:30:23Z","updated_at":"2021-09-17T07:30:23Z","author_association":"CONTRIBUTOR","body":"> @Leon-WTF, the main difference is that Travis build uses an` arm64-graviton2` arch.\r\n> Regarding the exception I shared, please see the build for master branch: https://app.travis-ci.com/github/apache/drill/jobs/536454728\r\n\r\nSeems that the clickhouse \r\n\r\n> @Leon-WTF, the main difference is that Travis build uses an` arm64-graviton2` arch.\r\n> Regarding the exception I shared, please see the build for master branch: https://app.travis-ci.com/github/apache/drill/jobs/536454728\r\n\r\n@vvysotskyi Fixed in https://github.com/apache/drill/pull/2315, sorry for the inconvenience~","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921567616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921586463","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-921586463","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":921586463,"node_id":"IC_kwDOAFa5xc427ksf","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T07:52:55Z","updated_at":"2021-09-17T07:52:55Z","author_association":"CONTRIBUTOR","body":"@luocooong I rebased on master but I see my latest Travis CI ARM64 build failed.  Most informative line I saw in the logs\r\n\r\n> [ERROR] Exception: java.lang.OutOfMemoryError thrown from the UncaughtExceptionHandler in thread \"WorkManager.StatusThread\"\r\n\r\nIs it something we already know of?  I am not very knowledgeable about tweaking the build but if there's anything I can help with let me know...\r\n\r\ncc @vdiravka ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921586463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921624427","html_url":"https://github.com/apache/drill/pull/2290#issuecomment-921624427","issue_url":"https://api.github.com/repos/apache/drill/issues/2290","id":921624427,"node_id":"IC_kwDOAFa5xc427t9r","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T08:50:56Z","updated_at":"2021-09-17T08:50:56Z","author_association":"MEMBER","body":"@Leon-WTF, thanks for fixing it!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921624427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921626641","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-921626641","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":921626641,"node_id":"IC_kwDOAFa5xc427ugR","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T08:54:17Z","updated_at":"2021-09-17T08:54:17Z","author_association":"MEMBER","body":"Also, please squash commits and update the commit message to include the ticket number.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921626641/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921638280","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-921638280","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":921638280,"node_id":"IC_kwDOAFa5xc427xWI","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T09:10:51Z","updated_at":"2021-09-17T09:10:51Z","author_association":"CONTRIBUTOR","body":"> It fails on DockerHub:\r\n> \r\n> > Executing build hook...\r\n> > Could not execute hook at 'hooks/build'. Is it missing a #! line?\r\n\r\nAdded the shebang.  And I checked that the two hooks have the executable perm set for all users.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921638280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921752835","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-921752835","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":921752835,"node_id":"IC_kwDOAFa5xc428NUD","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T12:19:31Z","updated_at":"2021-09-17T12:19:31Z","author_association":"CONTRIBUTOR","body":"@dzamo I have a silly request for DockerHub as well... If this is the \"official\" Drill container, could you see if you could add the logo to DockerHub?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921752835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921754030","html_url":"https://github.com/apache/drill/pull/2313#issuecomment-921754030","issue_url":"https://api.github.com/repos/apache/drill/issues/2313","id":921754030,"node_id":"IC_kwDOAFa5xc428Nmu","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T12:21:26Z","updated_at":"2021-09-17T12:21:26Z","author_association":"CONTRIBUTOR","body":"@luocooong Looks good.  Before we merge, can you rebase with the CI fixes and make sure everything passes?  Thx!!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921754030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921779241","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-921779241","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":921779241,"node_id":"IC_kwDOAFa5xc428Twp","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T13:02:55Z","updated_at":"2021-09-17T13:02:55Z","author_association":"MEMBER","body":"@cgivre, we have investigated it some time ago and it cannot be done, please see this ticket: https://issues.apache.org/jira/browse/INFRA-19810\r\nBut we can add a badge for DockerHub into the root README.md: https://github.com/badges/shields","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921779241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921779380","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-921779380","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":921779380,"node_id":"IC_kwDOAFa5xc428Ty0","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T13:03:08Z","updated_at":"2021-09-17T13:03:08Z","author_association":"CONTRIBUTOR","body":"> @dzamo I have a silly request for DockerHub as well... If this is the \"official\" Drill container, could you see if you could add the logo to DockerHub?\r\n\r\n@cgivre for sure.  I'll ask @vvysotskyi for help here since I think he's the only one of us with access.  We should probably get at least one more of us access there, maybe ideally one in a distinct time zone.  Is it more of thing that the PMC members cover?  I don't mind putting my hand up if not, and then I can sort out the logo once I'm added.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921779380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921793495","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-921793495","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":921793495,"node_id":"IC_kwDOAFa5xc428XPX","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T13:22:33Z","updated_at":"2021-09-17T13:22:33Z","author_association":"MEMBER","body":"@dzamo, see my comment above.\r\nRegarding access to DockerHub repo, I think committers also can obtain it by creating a ticket to infra, specifying the username and reason for obtaining access.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921793495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921800885","html_url":"https://github.com/apache/drill/pull/2313#issuecomment-921800885","issue_url":"https://api.github.com/repos/apache/drill/issues/2313","id":921800885,"node_id":"IC_kwDOAFa5xc428ZC1","user":{"login":"luocooong","id":50079619,"node_id":"MDQ6VXNlcjUwMDc5NjE5","avatar_url":"https://avatars.githubusercontent.com/u/50079619?v=4","gravatar_id":"","url":"https://api.github.com/users/luocooong","html_url":"https://github.com/luocooong","followers_url":"https://api.github.com/users/luocooong/followers","following_url":"https://api.github.com/users/luocooong/following{/other_user}","gists_url":"https://api.github.com/users/luocooong/gists{/gist_id}","starred_url":"https://api.github.com/users/luocooong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luocooong/subscriptions","organizations_url":"https://api.github.com/users/luocooong/orgs","repos_url":"https://api.github.com/users/luocooong/repos","events_url":"https://api.github.com/users/luocooong/events{/privacy}","received_events_url":"https://api.github.com/users/luocooong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T13:33:09Z","updated_at":"2021-09-17T13:33:09Z","author_association":"MEMBER","body":"@cgivre Okay, I will do this tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921800885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/921871443","html_url":"https://github.com/apache/drill/issues/2304#issuecomment-921871443","issue_url":"https://api.github.com/repos/apache/drill/issues/2304","id":921871443,"node_id":"IC_kwDOAFa5xc428qRT","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-17T15:06:34Z","updated_at":"2021-09-17T15:06:34Z","author_association":"CONTRIBUTOR","body":"I'm going to see if I can fix this.  This seems pretty straightforward actually... ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/921871443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/922336140","html_url":"https://github.com/apache/drill/pull/2317#issuecomment-922336140","issue_url":"https://api.github.com/repos/apache/drill/issues/2317","id":922336140,"node_id":"IC_kwDOAFa5xc42-buM","user":{"login":"jnturton","id":9107319,"node_id":"MDQ6VXNlcjkxMDczMTk=","avatar_url":"https://avatars.githubusercontent.com/u/9107319?v=4","gravatar_id":"","url":"https://api.github.com/users/jnturton","html_url":"https://github.com/jnturton","followers_url":"https://api.github.com/users/jnturton/followers","following_url":"https://api.github.com/users/jnturton/following{/other_user}","gists_url":"https://api.github.com/users/jnturton/gists{/gist_id}","starred_url":"https://api.github.com/users/jnturton/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jnturton/subscriptions","organizations_url":"https://api.github.com/users/jnturton/orgs","repos_url":"https://api.github.com/users/jnturton/repos","events_url":"https://api.github.com/users/jnturton/events{/privacy}","received_events_url":"https://api.github.com/users/jnturton/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-18T16:29:02Z","updated_at":"2021-09-18T16:29:02Z","author_association":"CONTRIBUTOR","body":"I finally got to the bottom of\r\n```\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:3.2.0:single (distro-assembly) on project distribution: Failed to create assembly: Error adding file to archive: /src/distribution/../git.properties -> [Help 1]\r\n```\r\nIt came from adding .git/ to .dockerignore.  Turns out one can't build without the git repository there because of the git-commit-id plugin.  Here's hoping some new image tags will show up in Docker Hub in the next couple of hours.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/922336140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/922478297","html_url":"https://github.com/apache/drill/pull/2293#issuecomment-922478297","issue_url":"https://api.github.com/repos/apache/drill/issues/2293","id":922478297,"node_id":"IC_kwDOAFa5xc42--bZ","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-19T13:57:37Z","updated_at":"2021-09-19T13:57:37Z","author_association":"CONTRIBUTOR","body":"@vdiravka It looks like this is finally passing!  Nice work!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/922478297/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]