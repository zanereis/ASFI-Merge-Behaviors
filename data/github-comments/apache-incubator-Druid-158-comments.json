[{"url":"https://api.github.com/repos/apache/druid/issues/comments/329150341","html_url":"https://github.com/apache/druid/pull/4767#issuecomment-329150341","issue_url":"https://api.github.com/repos/apache/druid/issues/4767","id":329150341,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE1MDM0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T12:21:17Z","updated_at":"2017-09-13T12:21:17Z","author_association":"CONTRIBUTOR","body":"@himanshug I suppose you mean updateSegmentsListAsync() is tested implicitly in HttpServerInventoryViewTest. However, it tests only the case everything is fine. I think we need to test more cases like errors. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329150341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329191662","html_url":"https://github.com/apache/druid/issues/4792#issuecomment-329191662","issue_url":"https://api.github.com/repos/apache/druid/issues/4792","id":329191662,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE5MTY2Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T14:47:34Z","updated_at":"2017-09-13T14:47:34Z","author_association":"CONTRIBUTOR","body":"A lot of things under https://github.com/druid-io/druid/tree/0.10.1/docs/content/configuration have such docs. Are you wanting more things there?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329191662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329195203","html_url":"https://github.com/apache/druid/issues/4792#issuecomment-329195203","issue_url":"https://api.github.com/repos/apache/druid/issues/4792","id":329195203,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE5NTIwMw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T14:58:27Z","updated_at":"2017-09-13T14:58:27Z","author_association":"CONTRIBUTOR","body":"so, I generally recommend following jvm options to my users...\r\n\r\n```\r\n               -XX:MaxDirectMemorySize=10240g\r\n               -Duser.timezone=UTC\r\n               -Dfile.encoding=UTF-8\r\n               -XX:+PrintGCDetails\r\n               -XX:+PrintGCDateStamps\r\n               -XX:+PrintGCTimeStamps\r\n               -XX:+PrintGCApplicationStoppedTime\r\n               -XX:+PrintGCApplicationConcurrentTime\r\n               -Xloggc:/home/y/logs/druid/${NODE_CONF_SUBDIR}.gc.log\r\n               -XX:+UseGCLogFileRotation\r\n               -XX:NumberOfGCLogFiles=50\r\n               -XX:GCLogFileSize=10m\r\n               -XX:+ExitOnOutOfMemoryError\r\n               -XX:+HeapDumpOnOutOfMemoryError\r\n               -XX:HeapDumpPath=/var/logs/druid/${NODE_CONF_SUBDIR}.hprof\r\n```\r\n\r\nsetting MaxDirectMemorySize to 10TB might look funny but it works and I haven't seen any sideeffects. also, I recommend G1GC unless user is willing to heavily tune their GC.\r\n\r\n\r\nAlso, on OS tuning side , we generally recommend users to \r\n1) disable THP\r\n2) mount /tmp to tmpfs\r\n3) try to have separate disk for writing gc and potentially druid logs\r\n\r\n\r\nand probably some more things that I can't recall right now. I'm not sure if above stuff is covered somewhere in druid docs.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329195203/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329195480","html_url":"https://github.com/apache/druid/issues/4792#issuecomment-329195480","issue_url":"https://api.github.com/repos/apache/druid/issues/4792","id":329195480,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE5NTQ4MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T14:59:18Z","updated_at":"2017-09-13T14:59:18Z","author_association":"CONTRIBUTOR","body":"another thing.. using JBOD instead of RAID on historicals.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329195480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329198663","html_url":"https://github.com/apache/druid/issues/4792#issuecomment-329198663","issue_url":"https://api.github.com/repos/apache/druid/issues/4792","id":329198663,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE5ODY2Mw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T15:09:27Z","updated_at":"2017-09-13T15:09:27Z","author_association":"CONTRIBUTOR","body":"@himanshug do you have any fs or OS recommendations you want in there as well? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329198663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329199230","html_url":"https://github.com/apache/druid/issues/4792#issuecomment-329199230","issue_url":"https://api.github.com/repos/apache/druid/issues/4792","id":329199230,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTE5OTIzMA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T15:11:16Z","updated_at":"2017-09-13T15:11:16Z","author_association":"CONTRIBUTOR","body":"As a counter-example, we run containerized so we set the target `MaxDirectMemorySize` + `xmx` + `\"max page cache\"` to a very specific memory footprint. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329199230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329200304","html_url":"https://github.com/apache/druid/issues/4792#issuecomment-329200304","issue_url":"https://api.github.com/repos/apache/druid/issues/4792","id":329200304,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIwMDMwNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T15:14:30Z","updated_at":"2017-09-13T15:14:30Z","author_association":"CONTRIBUTOR","body":"Would putting these in the jvm configurations in the quickstart suffice? Is it pretty common for people to use the quickstart configs as a rudimentary template?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329200304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329209759","html_url":"https://github.com/apache/druid/pull/4767#issuecomment-329209759","issue_url":"https://api.github.com/repos/apache/druid/issues/4767","id":329209759,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIwOTc1OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T15:44:05Z","updated_at":"2017-09-13T15:44:05Z","author_association":"CONTRIBUTOR","body":"@jihoonson I updated HttpServerInventoryViewTest to simulate failure scenarios as well.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329209759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329210136","html_url":"https://github.com/apache/druid/pull/4754#issuecomment-329210136","issue_url":"https://api.github.com/repos/apache/druid/issues/4754","id":329210136,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIxMDEzNg==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T15:45:18Z","updated_at":"2017-09-13T15:45:18Z","author_association":"MEMBER","body":"@drcrallen @leventov Row already stores map underneath, so we are not creating any additonal objects or introducing new boxing/unboxing by this change, The columnSelectors add a isNull method as suggested by @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329210136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329210942","html_url":"https://github.com/apache/druid/issues/4792#issuecomment-329210942","issue_url":"https://api.github.com/repos/apache/druid/issues/4792","id":329210942,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIxMDk0Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T15:47:56Z","updated_at":"2017-09-13T15:47:56Z","author_association":"CONTRIBUTOR","body":"I haven't thought through where to put this information , but we'll probably put somewhere ( most likely in http://druid.io/docs/0.10.1/operations/recommendations.html )\r\n\r\nother recommendations probably wouldn't be general enough to be recommendations but we can add any other tunings we can think of and what use cases they would be appropriate for.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329210942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329214038","html_url":"https://github.com/apache/druid/issues/4792#issuecomment-329214038","issue_url":"https://api.github.com/repos/apache/druid/issues/4792","id":329214038,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIxNDAzOA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T15:57:36Z","updated_at":"2017-09-13T15:57:36Z","author_association":"CONTRIBUTOR","body":"@drcrallen yeah, in our case we don't want to artificially restrict jvm off heap allocation but rather let it be restricted by OS if necessary.\r\nin your case too, I think your jvm can have `-XX:MaxDirectMemorySize=10240g` but set your container target memory size to (xmx + \"max page cache\" + expected-off-heap-jvm-allocation). In most cases restricting jvm doesn't gain much.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329214038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329220160","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-329220160","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":329220160,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIyMDE2MA==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T16:18:44Z","updated_at":"2017-09-13T16:18:44Z","author_association":"CONTRIBUTOR","body":"Requests to coordinator are now done via DruidLeaderClient.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329220160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329226507","html_url":"https://github.com/apache/druid/pull/4793#issuecomment-329226507","issue_url":"https://api.github.com/repos/apache/druid/issues/4793","id":329226507,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIyNjUwNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T16:41:19Z","updated_at":"2017-09-13T16:42:02Z","author_association":"CONTRIBUTOR","body":"here are a few logging ones that are mentioned elsewhere in the docs I think:\r\n\r\n```\r\n-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\r\n-Dorg.jboss.logging.provider=slf4j\r\n-Dnet.spy.log.LoggerImpl=net.spy.memcached.compat.log.SLF4JLogger\r\n-Dlog4j.shutdownCallbackRegistry=io.druid.common.config.Log4jShutdown\r\n-Dlog4j.shutdownHookEnabled=true\r\n```\r\n\r\nThe downside of this one is that middle managers have noisy error messages when running hadoop or spark stuff due to classloader miss-matches caused by the JUL --> log4j2 binding. Benign but noisy on peon startup.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329226507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329229502","html_url":"https://github.com/apache/druid/pull/4788#issuecomment-329229502","issue_url":"https://api.github.com/repos/apache/druid/issues/4788","id":329229502,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIyOTUwMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T16:51:41Z","updated_at":"2017-09-13T16:51:41Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329229502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329230167","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329230167","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329230167,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIzMDE2Nw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T16:54:09Z","updated_at":"2017-09-13T16:54:09Z","author_association":"CONTRIBUTOR","body":"Yes true, I have noticed that.  @gianm anyone is working on closing this gap from your side?  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329230167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329233023","html_url":"https://github.com/apache/druid/issues/4790#issuecomment-329233023","issue_url":"https://api.github.com/repos/apache/druid/issues/4790","id":329233023,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIzMzAyMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T17:04:04Z","updated_at":"2017-09-13T17:04:04Z","author_association":"CONTRIBUTOR","body":"Fixed by #4791.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329233023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329236431","html_url":"https://github.com/apache/druid/pull/4767#issuecomment-329236431","issue_url":"https://api.github.com/repos/apache/druid/issues/4767","id":329236431,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIzNjQzMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T17:16:40Z","updated_at":"2017-09-13T17:16:40Z","author_association":"CONTRIBUTOR","body":"@himanshug thanks, but it looks there is a bug. Please fix it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329236431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329238856","html_url":"https://github.com/apache/druid/pull/4786#issuecomment-329238856","issue_url":"https://api.github.com/repos/apache/druid/issues/4786","id":329238856,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIzODg1Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T17:25:30Z","updated_at":"2017-09-13T17:25:30Z","author_association":"CONTRIBUTOR","body":"@jihoonson could you try merging master once again; #4787 should help with the CI failures.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329238856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329239245","html_url":"https://github.com/apache/druid/pull/4271#issuecomment-329239245","issue_url":"https://api.github.com/repos/apache/druid/issues/4271","id":329239245,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTIzOTI0NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T17:26:57Z","updated_at":"2017-09-13T17:26:57Z","author_association":"CONTRIBUTOR","body":"@jon-wei could you try merging master once again; #4787 is recent and should help with the CI failures.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329239245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329250988","html_url":"https://github.com/apache/druid/pull/4767#issuecomment-329250988","issue_url":"https://api.github.com/repos/apache/druid/issues/4767","id":329250988,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI1MDk4OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T18:09:42Z","updated_at":"2017-09-13T18:09:42Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick fix. +1 after travis.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329250988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329252436","html_url":"https://github.com/apache/druid/pull/4785#issuecomment-329252436","issue_url":"https://api.github.com/repos/apache/druid/issues/4785","id":329252436,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI1MjQzNg==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T18:15:13Z","updated_at":"2017-09-13T18:15:13Z","author_association":"CONTRIBUTOR","body":"@leventov @himanshug Thanks for reviewing the PR. There were some uncommitted changes after the refactor (`search.search` to `search`). Updated the PR, please review. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329252436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329253847","html_url":"https://github.com/apache/druid/pull/4271#issuecomment-329253847","issue_url":"https://api.github.com/repos/apache/druid/issues/4271","id":329253847,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI1Mzg0Nw==","user":{"login":"escalated","id":18236056,"node_id":"MDQ6VXNlcjE4MjM2MDU2","avatar_url":"https://avatars.githubusercontent.com/u/18236056?v=4","gravatar_id":"","url":"https://api.github.com/users/escalated","html_url":"https://github.com/escalated","followers_url":"https://api.github.com/users/escalated/followers","following_url":"https://api.github.com/users/escalated/following{/other_user}","gists_url":"https://api.github.com/users/escalated/gists{/gist_id}","starred_url":"https://api.github.com/users/escalated/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/escalated/subscriptions","organizations_url":"https://api.github.com/users/escalated/orgs","repos_url":"https://api.github.com/users/escalated/repos","events_url":"https://api.github.com/users/escalated/events{/privacy}","received_events_url":"https://api.github.com/users/escalated/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T18:20:36Z","updated_at":"2017-09-13T18:20:36Z","author_association":"NONE","body":"Can you guys take me off this email chain? No idea how I even got on it.\n\nOn Sep 13, 2017 1:27 PM, \"Gian Merlino\" <notifications@github.com> wrote:\n\n> @jon-wei <https://github.com/jon-wei> could you try merging master once\n> again; #4787 <https://github.com/druid-io/druid/pull/4787> is recent and\n> should help with the CI failures.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/druid-io/druid/pull/4271#issuecomment-329239245>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/ARZCmLZpWc_KeD7YzR5N2ksXAYntMBUyks5siBB0gaJpZM4NZ6kD>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329253847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329255414","html_url":"https://github.com/apache/druid/pull/4271#issuecomment-329255414","issue_url":"https://api.github.com/repos/apache/druid/issues/4271","id":329255414,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI1NTQxNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T18:26:11Z","updated_at":"2017-09-13T18:26:11Z","author_association":"CONTRIBUTOR","body":"@escalated It's probably because people have been talking about a Java annotation `@Escalated` and github thought to \"helpfully\" notify you. Sorry but I don't think we can unsubscribe you, although you can do it yourself by clicking the \"Unsubscribe\" button under the notifications heading.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329255414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329255419","html_url":"https://github.com/apache/druid/pull/4793#issuecomment-329255419","issue_url":"https://api.github.com/repos/apache/druid/issues/4793","id":329255419,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI1NTQxOQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T18:26:12Z","updated_at":"2017-09-13T18:26:12Z","author_association":"CONTRIBUTOR","body":"@drcrallen @gianm added logging options and addressed comments. there are two more things that we have tried in the past in various clusters , not enough benefit analysis has been done to know if they have measurable impact. that is why I haven't added those in docs, but here they are for the sake of completeness\r\n\r\n- try disabling jvm  biased locking in case of GC issues.\r\n- use JBOD configuration instead of RAID on historicals to avoid RAID overhead specially if you don't have RAID controller hardware but a software based RAID is configured.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329255419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329256843","html_url":"https://github.com/apache/druid/pull/4786#issuecomment-329256843","issue_url":"https://api.github.com/repos/apache/druid/issues/4786","id":329256843,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI1Njg0Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T18:31:14Z","updated_at":"2017-09-13T18:31:14Z","author_association":"CONTRIBUTOR","body":"@gianm thanks. Merged master.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329256843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329262796","html_url":"https://github.com/apache/druid/pull/4785#issuecomment-329262796","issue_url":"https://api.github.com/repos/apache/druid/issues/4785","id":329262796,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI2Mjc5Ng==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T18:52:52Z","updated_at":"2017-09-13T18:52:52Z","author_association":"CONTRIBUTOR","body":"will merge once build is happy.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329262796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329263588","html_url":"https://github.com/apache/druid/pull/4793#issuecomment-329263588","issue_url":"https://api.github.com/repos/apache/druid/issues/4793","id":329263588,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI2MzU4OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T18:55:44Z","updated_at":"2017-09-13T18:55:44Z","author_association":"CONTRIBUTOR","body":"I would say go ahead and add the JBOD thing. I've tested it (on EC2 at least) vs software RAID and it does improve performance.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329263588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329269152","html_url":"https://github.com/apache/druid/pull/4793#issuecomment-329269152","issue_url":"https://api.github.com/repos/apache/druid/issues/4793","id":329269152,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI2OTE1Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T19:17:48Z","updated_at":"2017-09-13T19:17:48Z","author_association":"CONTRIBUTOR","body":"@gianm i added both actually.. i think they are just options that user should be aware of and do what is necessary.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329269152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329274947","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-329274947","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":329274947,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI3NDk0Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T19:41:02Z","updated_at":"2017-09-13T19:41:02Z","author_association":"CONTRIBUTOR","body":"LGTM overall aside from some comments.\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329274947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329285199","html_url":"https://github.com/apache/druid/pull/4722#issuecomment-329285199","issue_url":"https://api.github.com/repos/apache/druid/issues/4722","id":329285199,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI4NTE5OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T20:20:16Z","updated_at":"2017-09-13T20:20:16Z","author_association":"MEMBER","body":"@himanshug could you please merge?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329285199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329287490","html_url":"https://github.com/apache/druid/pull/4722#issuecomment-329287490","issue_url":"https://api.github.com/repos/apache/druid/issues/4722","id":329287490,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI4NzQ5MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T20:29:04Z","updated_at":"2017-09-13T20:29:04Z","author_association":"CONTRIBUTOR","body":"@leventov feel free to self merge when you're done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329287490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329289055","html_url":"https://github.com/apache/druid/pull/4786#issuecomment-329289055","issue_url":"https://api.github.com/repos/apache/druid/issues/4786","id":329289055,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI4OTA1NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T20:35:12Z","updated_at":"2017-09-13T20:35:12Z","author_association":"CONTRIBUTOR","body":"@gianm @jihoonson sounds good to upgrade. it would be good to run this on a test cluster with some load for a day or so that any trivial issues surface immediately.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329289055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329295720","html_url":"https://github.com/apache/druid/pull/4786#issuecomment-329295720","issue_url":"https://api.github.com/repos/apache/druid/issues/4786","id":329295720,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTI5NTcyMA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T21:01:12Z","updated_at":"2017-09-13T21:01:12Z","author_association":"CONTRIBUTOR","body":"@himanshug is that something you are equipped to test?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329295720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329300520","html_url":"https://github.com/apache/druid/pull/4704#issuecomment-329300520","issue_url":"https://api.github.com/repos/apache/druid/issues/4704","id":329300520,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTMwMDUyMA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T21:21:05Z","updated_at":"2017-09-13T21:21:05Z","author_association":"CONTRIBUTOR","body":"> I doubt they could progress significantly faster than layer-at-a-time, and not spending a lot of cycles in concurrent communication and spin loops (this is a big smell).\r\n\r\nThe key reason of streaming aggregation is, layer-at-a-time manner needs to spill data on disk on not enough buffer space. It's very likely because ParallelCombiner is used only when SpillingGroupers in ConcurrentGrouper spill data on disk. I already wrote a test code and compared its performance with streaming grouper and could see that streaming aggregation is about 2 times faster (even though I lost the exact numbers).\r\n\r\n> Also having so many threads, all non-lowest-level of them doing inefficient work, may inhibit other queries running in the same JVM.\r\n\r\nYes, all non-lowest-level of threads might do inefficient work. But it's an issue of non-optimal tree shape, not of streaming aggregation. Also, even some threads do inefficient work, it does not affect to other queries because the number of threads is limited by ```concurrencyHint``` of ConcurrentGrouper.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329300520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329321308","html_url":"https://github.com/apache/druid/pull/4744#issuecomment-329321308","issue_url":"https://api.github.com/repos/apache/druid/issues/4744","id":329321308,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTMyMTMwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-13T23:02:27Z","updated_at":"2017-09-13T23:02:27Z","author_association":"CONTRIBUTOR","body":"@ginoledesma If you merge master into your branch, it should help with the CI issues. We just did a commit there that tweaks some Travis settings and seems to be helping.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329321308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329348469","html_url":"https://github.com/apache/druid/pull/4796#issuecomment-329348469","issue_url":"https://api.github.com/repos/apache/druid/issues/4796","id":329348469,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTM0ODQ2OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T02:09:44Z","updated_at":"2017-09-14T02:32:52Z","author_association":"MEMBER","body":"This bug was found when I was preparing another patch around ColumnValueSelectors, and those places has started to be caught by Java type system. So that other patch doesn't compile without this one merged. That is why marked as `Development Blocker`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329348469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329350396","html_url":"https://github.com/apache/druid/pull/4744#issuecomment-329350396","issue_url":"https://api.github.com/repos/apache/druid/issues/4744","id":329350396,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTM1MDM5Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T02:23:53Z","updated_at":"2017-09-14T02:24:27Z","author_association":"CONTRIBUTOR","body":"@ginoledesma Hmm, this change does seem better, but I'm wondering how it helps with the test you describe in https://github.com/druid-io/druid/pull/4744#issuecomment-327676105. The patch only affects the `getQuantiles(float[])` method, which is only called in the post-aggregation step, and so it shouldn't affect the breaks or folding behavior at all (which happen before that, in the aggregation step).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329350396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329549430","html_url":"https://github.com/apache/druid/pull/4786#issuecomment-329549430","issue_url":"https://api.github.com/repos/apache/druid/issues/4786","id":329549430,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTU0OTQzMA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T17:15:45Z","updated_at":"2017-09-14T17:15:45Z","author_association":"CONTRIBUTOR","body":"@drcrallen I would be fine to merge it if @jihoonson has done sanity verification on some cluster with multiple machines. once merged, we can update our metrics cluster to latest master and let it run there .. see if any problems spring up.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329549430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329550038","html_url":"https://github.com/apache/druid/pull/4786#issuecomment-329550038","issue_url":"https://api.github.com/repos/apache/druid/issues/4786","id":329550038,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTU1MDAzOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T17:18:06Z","updated_at":"2017-09-14T17:18:06Z","author_association":"CONTRIBUTOR","body":"@himanshug thanks. I'll let you know after testing on our cluster.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329550038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329552947","html_url":"https://github.com/apache/druid/pull/4783#issuecomment-329552947","issue_url":"https://api.github.com/repos/apache/druid/issues/4783","id":329552947,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTU1Mjk0Nw==","user":{"login":"akashdw","id":5886276,"node_id":"MDQ6VXNlcjU4ODYyNzY=","avatar_url":"https://avatars.githubusercontent.com/u/5886276?v=4","gravatar_id":"","url":"https://api.github.com/users/akashdw","html_url":"https://github.com/akashdw","followers_url":"https://api.github.com/users/akashdw/followers","following_url":"https://api.github.com/users/akashdw/following{/other_user}","gists_url":"https://api.github.com/users/akashdw/gists{/gist_id}","starred_url":"https://api.github.com/users/akashdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akashdw/subscriptions","organizations_url":"https://api.github.com/users/akashdw/orgs","repos_url":"https://api.github.com/users/akashdw/repos","events_url":"https://api.github.com/users/akashdw/events{/privacy}","received_events_url":"https://api.github.com/users/akashdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T17:28:51Z","updated_at":"2017-09-14T17:28:51Z","author_association":"CONTRIBUTOR","body":"Thanks @gianm, will change the version to 0.10.1-SNAPSHOT. I also found 0.9.1 tag is not pointing to latest commit of 0.9.1 branch. https://github.com/druid-io/druid/commit/04f6b2279899967ccb7d75b4967fc0f51910961b is missing in 0.9.1 tag.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329552947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329587842","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-329587842","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":329587842,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTU4Nzg0Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T19:41:06Z","updated_at":"2017-09-14T19:41:06Z","author_association":"CONTRIBUTOR","body":"In a scenario where S3 is having problems (like right now) We don't want brokers or real-time indexing tasks to stop their loading. I'd rather have them load and just fail for lookups not being found.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329587842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329587925","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-329587925","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":329587925,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTU4NzkyNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T19:41:29Z","updated_at":"2017-09-14T19:41:29Z","author_association":"CONTRIBUTOR","body":"For a fresh historical node it can't load new segments anyways, so its not as important.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329587925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329588047","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-329588047","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":329588047,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTU4ODA0Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T19:41:58Z","updated_at":"2017-09-14T19:41:58Z","author_association":"CONTRIBUTOR","body":"actually strike that, you can have segments not in S3, but lookups in S3, so we don't want to block historicals either.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329588047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329589440","html_url":"https://github.com/apache/druid/pull/4725#issuecomment-329589440","issue_url":"https://api.github.com/repos/apache/druid/issues/4725","id":329589440,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTU4OTQ0MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T19:47:37Z","updated_at":"2017-09-14T19:47:37Z","author_association":"MEMBER","body":"@gianm @jihoonson do you have more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329589440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329604722","html_url":"https://github.com/apache/druid/pull/4725#issuecomment-329604722","issue_url":"https://api.github.com/repos/apache/druid/issues/4725","id":329604722,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTYwNDcyMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T20:48:45Z","updated_at":"2017-09-14T20:48:53Z","author_association":"CONTRIBUTOR","body":"I don't have further comments. I haven't read the latest version of the patch but since @drcrallen did then I am good with it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329604722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329613550","html_url":"https://github.com/apache/druid/issues/4798#issuecomment-329613550","issue_url":"https://api.github.com/repos/apache/druid/issues/4798","id":329613550,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTYxMzU1MA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T21:25:34Z","updated_at":"2017-09-14T21:25:34Z","author_association":"CONTRIBUTOR","body":"@himanshug do you know what versions of hadoop such a thing would break?\r\n\r\nWe use a 2.6 version internally for spark compatibility, but haven't tried a 2.8.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329613550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329614055","html_url":"https://github.com/apache/druid/issues/4798#issuecomment-329614055","issue_url":"https://api.github.com/repos/apache/druid/issues/4798","id":329614055,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTYxNDA1NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T21:27:40Z","updated_at":"2017-09-14T21:27:40Z","author_association":"CONTRIBUTOR","body":"Also, @himanshug would you mind please adding a `Security` label?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329614055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329617182","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-329617182","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":329617182,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTYxNzE4Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T21:41:53Z","updated_at":"2017-09-14T21:41:53Z","author_association":"CONTRIBUTOR","body":" @a2l007  this PR has a new configuration to disable lookup loading on startup, can you make it specific to disabling coordinator interaction only. snapshotDir config already exists to disable snapshot loading if user needs it, make it \"true\" by default so that there is no change in default behavior.\r\n\r\n@drcrallen\r\nare you saying new lookup obtained from coordinator , their start() method might download something from S3 .. if S3 has problems then that lookupExtractorFactory implementation's start() should fail/timeout and LookupReferencesManager would happily ignore that lookup with only a log printed. also, note that, user can choose to have the syncup with coordinator enabled or disabled. by default, there would is no change in behavior. (after @a2l007 implements the change mentioned in beginning)\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329617182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329618651","html_url":"https://github.com/apache/druid/issues/4798#issuecomment-329618651","issue_url":"https://api.github.com/repos/apache/druid/issues/4798","id":329618651,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTYxODY1MQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T21:49:05Z","updated_at":"2017-09-14T21:49:05Z","author_association":"CONTRIBUTOR","body":"@drcrallen I haven't really analyzed it at all. I came across the issue and security is major concern , so created this issue at least to track that something needs to be done.\r\nI think, in the past, we had issues when trying to upgrade jackson.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329618651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329618699","html_url":"https://github.com/apache/druid/issues/4798#issuecomment-329618699","issue_url":"https://api.github.com/repos/apache/druid/issues/4798","id":329618699,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTYxODY5OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T21:49:19Z","updated_at":"2017-09-14T21:49:19Z","author_association":"CONTRIBUTOR","body":"sure, creating the new label now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329618699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329619924","html_url":"https://github.com/apache/druid/issues/4798#issuecomment-329619924","issue_url":"https://api.github.com/repos/apache/druid/issues/4798","id":329619924,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTYxOTkyNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-14T21:55:20Z","updated_at":"2017-09-14T21:55:20Z","author_association":"CONTRIBUTOR","body":"At first glance it doesn't look like Druid is affected. The vulnerability described in the paper (https://www.github.com/mbechler/marshalsec) is that in some configurations Jackson will deserialize JSON into arbitrary classes based on a field in the JSON with the class name. Then that can be used to trigger code execution during construction of certain classes.\r\n\r\nBut, from the paper:\r\n\r\n> Jackson, in its default configuration, does perform strict runtime type checking, including collection generic types, and does not allow the specification of arbitrary types — therefore it is unaffected by these issues by default.\r\n\r\nThe paper goes on to discuss options you can set in Jackson that will enable this insecure behavior. It mentions a few:\r\n\r\n- objectMapper.enableDefaultTyping()\r\n- a custom TypeResolverBuilder\r\n- `@JsonTypeInfo` on a field\r\n\r\nAs far as I can tell we are not using any of these. That list might not be exhaustive, but as far as I can tell we are also not using any other thing that would involve allowing the java class name to be read from the json serialized form. We make wide use of `@JsonTypeInfo` but it is always with `use = JsonTypeInfo.Id.NAME`, meaning custom strings that are not class names.\r\n\r\nIt's still good to upgrade, but I don't think it needs to be urgent since it seems likely that there is no actual vulnerability in Druid.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329619924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329650580","html_url":"https://github.com/apache/druid/pull/4786#issuecomment-329650580","issue_url":"https://api.github.com/repos/apache/druid/issues/4786","id":329650580,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTY1MDU4MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T01:17:22Z","updated_at":"2017-09-15T01:17:22Z","author_association":"CONTRIBUTOR","body":"@himanshug this patch works well on our cluster.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329650580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329651555","html_url":"https://github.com/apache/druid/issues/4802#issuecomment-329651555","issue_url":"https://api.github.com/repos/apache/druid/issues/4802","id":329651555,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTY1MTU1NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T01:24:55Z","updated_at":"2017-09-15T01:24:55Z","author_association":"CONTRIBUTOR","body":"JCTools looks to provide several types of concurrent queues, but rows are stored in ByteBuffer in StreamingMergeSortedGrouper. How are you thinking to use the queues of JCTools for data StreamingMergeSortedGrouper? Does it provide an off-heap queue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329651555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329664665","html_url":"https://github.com/apache/druid/issues/4237#issuecomment-329664665","issue_url":"https://api.github.com/repos/apache/druid/issues/4237","id":329664665,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTY2NDY2NQ==","user":{"login":"kinghw","id":3214037,"node_id":"MDQ6VXNlcjMyMTQwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/3214037?v=4","gravatar_id":"","url":"https://api.github.com/users/kinghw","html_url":"https://github.com/kinghw","followers_url":"https://api.github.com/users/kinghw/followers","following_url":"https://api.github.com/users/kinghw/following{/other_user}","gists_url":"https://api.github.com/users/kinghw/gists{/gist_id}","starred_url":"https://api.github.com/users/kinghw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinghw/subscriptions","organizations_url":"https://api.github.com/users/kinghw/orgs","repos_url":"https://api.github.com/users/kinghw/repos","events_url":"https://api.github.com/users/kinghw/events{/privacy}","received_events_url":"https://api.github.com/users/kinghw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T02:48:59Z","updated_at":"2017-09-15T02:48:59Z","author_association":"NONE","body":"@gianm thanks, i used 0.10.0, but this issue is open","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329664665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329671463","html_url":"https://github.com/apache/druid/pull/4775#issuecomment-329671463","issue_url":"https://api.github.com/repos/apache/druid/issues/4775","id":329671463,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTY3MTQ2Mw==","user":{"login":"denglingang","id":13860906,"node_id":"MDQ6VXNlcjEzODYwOTA2","avatar_url":"https://avatars.githubusercontent.com/u/13860906?v=4","gravatar_id":"","url":"https://api.github.com/users/denglingang","html_url":"https://github.com/denglingang","followers_url":"https://api.github.com/users/denglingang/followers","following_url":"https://api.github.com/users/denglingang/following{/other_user}","gists_url":"https://api.github.com/users/denglingang/gists{/gist_id}","starred_url":"https://api.github.com/users/denglingang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denglingang/subscriptions","organizations_url":"https://api.github.com/users/denglingang/orgs","repos_url":"https://api.github.com/users/denglingang/repos","events_url":"https://api.github.com/users/denglingang/events{/privacy}","received_events_url":"https://api.github.com/users/denglingang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T03:37:40Z","updated_at":"2017-09-15T03:37:40Z","author_association":"MEMBER","body":"@leventov Pls review again, thx.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329671463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329678977","html_url":"https://github.com/apache/druid/issues/4802#issuecomment-329678977","issue_url":"https://api.github.com/repos/apache/druid/issues/4802","id":329678977,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTY3ODk3Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T04:35:05Z","updated_at":"2017-09-15T04:35:05Z","author_association":"MEMBER","body":"This is not about using the library, this is about applying the same techniques as used in that library to optimize StreamingMergeSortedGrouper.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329678977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329785382","html_url":"https://github.com/apache/druid/pull/4758#issuecomment-329785382","issue_url":"https://api.github.com/repos/apache/druid/issues/4758","id":329785382,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTc4NTM4Mg==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T13:39:01Z","updated_at":"2017-09-15T13:39:01Z","author_association":"CONTRIBUTOR","body":"Lookup synchronization on startup from the Coordinator is now disabled by default.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329785382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329834151","html_url":"https://github.com/apache/druid/issues/4802#issuecomment-329834151","issue_url":"https://api.github.com/repos/apache/druid/issues/4802","id":329834151,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTgzNDE1MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T16:36:38Z","updated_at":"2017-09-15T16:36:38Z","author_association":"CONTRIBUTOR","body":"Ok, it sounds good.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329834151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329835642","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329835642","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329835642,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTgzNTY0Mg==","user":{"login":"cartershanklin","id":602748,"node_id":"MDQ6VXNlcjYwMjc0OA==","avatar_url":"https://avatars.githubusercontent.com/u/602748?v=4","gravatar_id":"","url":"https://api.github.com/users/cartershanklin","html_url":"https://github.com/cartershanklin","followers_url":"https://api.github.com/users/cartershanklin/followers","following_url":"https://api.github.com/users/cartershanklin/following{/other_user}","gists_url":"https://api.github.com/users/cartershanklin/gists{/gist_id}","starred_url":"https://api.github.com/users/cartershanklin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cartershanklin/subscriptions","organizations_url":"https://api.github.com/users/cartershanklin/orgs","repos_url":"https://api.github.com/users/cartershanklin/repos","events_url":"https://api.github.com/users/cartershanklin/events{/privacy}","received_events_url":"https://api.github.com/users/cartershanklin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T16:43:01Z","updated_at":"2017-09-15T16:43:01Z","author_association":"NONE","body":"This also affect Superset, which cannot see the datasources until they are visible in the coordinator.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329835642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329837017","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329837017","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329837017,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTgzNzAxNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T16:48:38Z","updated_at":"2017-09-15T16:48:38Z","author_association":"CONTRIBUTOR","body":"I wouldn't call it a bug in Druid. The datasource _will_ show up in the broker datasource list, which is the list of queryable datasources. A tool like Superset should be using that broker API rather than the coordinator API.\r\n\r\nThe reason it doesn't show up in the coordinator UI is that the coordinator is in charge of published segments and historical nodes, and at this point, the segments haven't been published yet. So as far as the coordinator is concerned, the datasource doesn't exist.\r\n\r\nThat being said it would be more user-friendly if these queryable but unpublished datasources showed up in the coordinator UI anyway. So it would make sense to add them (although we should be careful of which API we add them to: they shouldn't show up in metadata-store-specific APIs). To your question @b-slim -- we aren't working on that from our end right now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329837017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329839319","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329839319","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329839319,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTgzOTMxOQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T16:57:50Z","updated_at":"2017-09-15T16:57:50Z","author_association":"CONTRIBUTOR","body":"@gianm as per druid docs one of the coordinator endpoint is listing the datasource `/druid/coordinator/v1/datasources` in addition to that the coordinator UI suppose to list existing datasources and let you define load/drop rules. So IMO it is a bug thought ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329839319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329840098","html_url":"https://github.com/apache/druid/pull/4775#issuecomment-329840098","issue_url":"https://api.github.com/repos/apache/druid/issues/4775","id":329840098,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg0MDA5OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T17:00:40Z","updated_at":"2017-09-15T17:00:40Z","author_association":"MEMBER","body":":-1: I don't like the idea of reducing default buffer sizing that much by default, 99% of users won't bother changing defaults, may have awful performance because of buffer sizing, and blame Druid slow.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329840098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329841731","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329841731","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329841731,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg0MTczMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T17:07:57Z","updated_at":"2017-09-15T17:07:57Z","author_association":"CONTRIBUTOR","body":"I think the coordinator UI uses `/druid/coordinator/v1/metadata/datasources`. That one shouldn't return the unpublished datasources (it should only be querying published metadata).\r\n\r\nBut I think there is another coordinator API `/druid/coordinator/v1/datasources` that checks for queryable datasources rather than published ones. Maybe the UI should call both and combine the results into one master list. Or maybe the coordinator should have a new API that returns both, and the UI should call that. The docs should also be a bit more clear as to what the APIs are supposed to do.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329841731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329842042","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329842042","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329842042,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg0MjA0Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T17:09:12Z","updated_at":"2017-09-15T17:09:12Z","author_association":"CONTRIBUTOR","body":"I guess the thing is that there are some datasources that are _published_ but not _queryable_ (this can happen if your historicals are having trouble loading them). And there are some datasources that are _queryable_ but not _published_ (this can happen with new realtime datasources, where nothing has been published yet). So to give the whole picture the coordinator UI should be looking at both queryable and published datasources.\r\n\r\nTools like Superset though should probably just be looking at queryable ones.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329842042/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329842873","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329842873","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329842873,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg0Mjg3Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T17:12:44Z","updated_at":"2017-09-15T17:12:44Z","author_association":"CONTRIBUTOR","body":"@gianm By published you mean stored on Deep storage or totally handed off ? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329842873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329843044","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329843044","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329843044,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg0MzA0NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T17:13:28Z","updated_at":"2017-09-15T17:13:28Z","author_association":"CONTRIBUTOR","body":"by totally handed off i mean loaded and queryable via historical to be clear.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329843044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329843758","html_url":"https://github.com/apache/druid/issues/4715#issuecomment-329843758","issue_url":"https://api.github.com/repos/apache/druid/issues/4715","id":329843758,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg0Mzc1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T17:16:30Z","updated_at":"2017-09-15T17:16:30Z","author_association":"CONTRIBUTOR","body":"By published I mean written to the metadata store, and by queryable I mean served by some historical or realtime node.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329843758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329846611","html_url":"https://github.com/apache/druid/issues/4798#issuecomment-329846611","issue_url":"https://api.github.com/repos/apache/druid/issues/4798","id":329846611,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg0NjYxMQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T17:27:48Z","updated_at":"2017-09-15T17:27:48Z","author_association":"CONTRIBUTOR","body":"Related slightly due to jackson version change: https://github.com/druid-io/druid/pull/4808 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329846611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329852283","html_url":"https://github.com/apache/druid/pull/4786#issuecomment-329852283","issue_url":"https://api.github.com/repos/apache/druid/issues/4786","id":329852283,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg1MjI4Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T17:48:11Z","updated_at":"2017-09-15T17:48:11Z","author_association":"CONTRIBUTOR","body":"I'll merge this, based on comments so far and testing from @jihoonson. If anyone notices any issues after more testing, that may be related, then please speak up.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329852283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329866867","html_url":"https://github.com/apache/druid/issues/4804#issuecomment-329866867","issue_url":"https://api.github.com/repos/apache/druid/issues/4804","id":329866867,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg2Njg2Nw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T18:40:57Z","updated_at":"2017-09-15T18:40:57Z","author_association":"CONTRIBUTOR","body":"Closing because it might be just due to timeouts we had set at the coordinator lookup config","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329866867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329889906","html_url":"https://github.com/apache/druid/issues/4798#issuecomment-329889906","issue_url":"https://api.github.com/repos/apache/druid/issues/4798","id":329889906,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTg4OTkwNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T20:11:31Z","updated_at":"2017-09-15T20:11:31Z","author_association":"CONTRIBUTOR","body":"@gianm thanks for looking into it more and finding the scope of exploit, good to know that we are  not impacted. however, let us keep it open to try out newer versions whenever possible.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329889906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329922810","html_url":"https://github.com/apache/druid/pull/4810#issuecomment-329922810","issue_url":"https://api.github.com/repos/apache/druid/issues/4810","id":329922810,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTkyMjgxMA==","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T23:01:19Z","updated_at":"2017-09-15T23:01:19Z","author_association":"NONE","body":"I think that newer Caffeine versions are better for the JRE bug, but definitely it is not ideal. Previously the write buffer was unbounded, so when investigating we switched to being bounded (planned, but hadn't been a priority). Then writers spun waiting for the state condition, assuming the task was executing or queue'd to run, and a small busy wait would be good enough. But a full executor, lost task, write storms, etc. made that a poor idea.\r\n\r\nNow the writers help out by busy waiting and then falling back to perform the maintenance work (acquire the lock). This improves write throughput in a synthetic load by descheduling threads and lets progress occur if the executor has been swamped (so our task can't get run). For lost tasks before 8u60, it gets reset by the writer doing the work. So this solves the problem, but means the write buffer has to be full before the back pressure kicks in. That could be good enough, but does mean the cache would exceed capacity as write notifications queue'd up and delayed eviction.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329922810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329923831","html_url":"https://github.com/apache/druid/pull/4810#issuecomment-329923831","issue_url":"https://api.github.com/repos/apache/druid/issues/4810","id":329923831,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTkyMzgzMQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T23:09:09Z","updated_at":"2017-09-15T23:09:09Z","author_association":"CONTRIBUTOR","body":"Thank you @ben-manes ! Under write buffers being full I would be surprised if this performed worse than the synchronized map implementation the current default uses. So if fixes in the latest prevent the lost tasks issue from persisting forever, and an upgrade in java version is a \"performance boost\", then I'm good with making it default and will update the PR with the latest and make caffeine the default (pending other community comments).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329923831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329925211","html_url":"https://github.com/apache/druid/pull/4810#issuecomment-329925211","issue_url":"https://api.github.com/repos/apache/druid/issues/4810","id":329925211,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTkyNTIxMQ==","user":{"login":"ben-manes","id":378614,"node_id":"MDQ6VXNlcjM3ODYxNA==","avatar_url":"https://avatars.githubusercontent.com/u/378614?v=4","gravatar_id":"","url":"https://api.github.com/users/ben-manes","html_url":"https://github.com/ben-manes","followers_url":"https://api.github.com/users/ben-manes/followers","following_url":"https://api.github.com/users/ben-manes/following{/other_user}","gists_url":"https://api.github.com/users/ben-manes/gists{/gist_id}","starred_url":"https://api.github.com/users/ben-manes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ben-manes/subscriptions","organizations_url":"https://api.github.com/users/ben-manes/orgs","repos_url":"https://api.github.com/users/ben-manes/repos","events_url":"https://api.github.com/users/ben-manes/events{/privacy}","received_events_url":"https://api.github.com/users/ben-manes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-15T23:21:45Z","updated_at":"2017-09-15T23:21:45Z","author_association":"NONE","body":"Yes, it would definitely be faster. The full buffer would only mean that the next few writes would be slightly penalized. The maintenance is fast and is used to batch the work, so the buffer is drained letting writes queue up again. The idea being that a cheap buffer write and letting the caller return is faster than blocking on a lock (just like how a write-ahead log speeds db performance).\r\n\r\nOn the read side, its buffer is lossy and assumes the task will get run properly. It discards new read events in favor of concurrency, since by the power law most frequent would probably get enqueued already. That means only when the write buffer is forced to be processed would the read buffer be, which would have dropped most events. Then the hit rate is diminished since fewer events were recorded & replied against eviction policy, so worse decisions might be made.\r\n\r\nSo the worst cases are pretty acceptable. They are a tad annoying, but easy to rectify by using an updated JRE.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329925211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329930252","html_url":"https://github.com/apache/druid/pull/4811#issuecomment-329930252","issue_url":"https://api.github.com/repos/apache/druid/issues/4811","id":329930252,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTkzMDI1Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T00:08:00Z","updated_at":"2017-09-16T00:08:00Z","author_association":"CONTRIBUTOR","body":"@leventov would an `IntStream` make sense in any of these cases?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329930252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329932829","html_url":"https://github.com/apache/druid/pull/4797#issuecomment-329932829","issue_url":"https://api.github.com/repos/apache/druid/issues/4797","id":329932829,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTkzMjgyOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T00:38:58Z","updated_at":"2017-09-16T00:38:58Z","author_association":"CONTRIBUTOR","body":"thanks @fuji-151a!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329932829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329933323","html_url":"https://github.com/apache/druid/pull/4271#issuecomment-329933323","issue_url":"https://api.github.com/repos/apache/druid/issues/4271","id":329933323,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTkzMzMyMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T00:45:33Z","updated_at":"2017-09-16T00:45:33Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Nice work!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329933323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329934135","html_url":"https://github.com/apache/druid/pull/4811#issuecomment-329934135","issue_url":"https://api.github.com/repos/apache/druid/issues/4811","id":329934135,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTkzNDEzNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T00:56:47Z","updated_at":"2017-09-16T00:56:47Z","author_association":"CONTRIBUTOR","body":"CI failures are (partially?) from BitmapIndexedInts, where `get(i)` is unsupported since it would be too slow to use anyway compared to `iterator()`. I guess the foreach loops should be replaced to loops that use the IntIterator rather than loops that use get.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329934135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329939170","html_url":"https://github.com/apache/druid/pull/4797#issuecomment-329939170","issue_url":"https://api.github.com/repos/apache/druid/issues/4797","id":329939170,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTkzOTE3MA==","user":{"login":"fuji-151a","id":5730685,"node_id":"MDQ6VXNlcjU3MzA2ODU=","avatar_url":"https://avatars.githubusercontent.com/u/5730685?v=4","gravatar_id":"","url":"https://api.github.com/users/fuji-151a","html_url":"https://github.com/fuji-151a","followers_url":"https://api.github.com/users/fuji-151a/followers","following_url":"https://api.github.com/users/fuji-151a/following{/other_user}","gists_url":"https://api.github.com/users/fuji-151a/gists{/gist_id}","starred_url":"https://api.github.com/users/fuji-151a/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fuji-151a/subscriptions","organizations_url":"https://api.github.com/users/fuji-151a/orgs","repos_url":"https://api.github.com/users/fuji-151a/repos","events_url":"https://api.github.com/users/fuji-151a/events{/privacy}","received_events_url":"https://api.github.com/users/fuji-151a/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T02:27:27Z","updated_at":"2017-09-16T02:27:27Z","author_association":"CONTRIBUTOR","body":"Thanks @leventov @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329939170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329940234","html_url":"https://github.com/apache/druid/pull/4810#issuecomment-329940234","issue_url":"https://api.github.com/repos/apache/druid/issues/4810","id":329940234,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTk0MDIzNA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T02:49:12Z","updated_at":"2017-09-16T02:49:12Z","author_association":"CONTRIBUTOR","body":"@gianm It can go out in 0.11.0 or later depending on when it gets merged, I'm not in a hurry since this is a maintenance patch rather than a code change or bug fix.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329940234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329946200","html_url":"https://github.com/apache/druid/pull/4271#issuecomment-329946200","issue_url":"https://api.github.com/repos/apache/druid/issues/4271","id":329946200,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTk0NjIwMA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T05:03:22Z","updated_at":"2017-09-16T05:03:22Z","author_association":"CONTRIBUTOR","body":"@gianm I've verified this patch on our test cluster\r\n\r\n@himanshug @nishantmonu51 @pjain1 @gianm @jihoonson Thanks a lot for the reviews!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329946200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329986623","html_url":"https://github.com/apache/druid/issues/2253#issuecomment-329986623","issue_url":"https://api.github.com/repos/apache/druid/issues/2253","id":329986623,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTk4NjYyMw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T18:30:19Z","updated_at":"2017-09-16T18:30:19Z","author_association":"MEMBER","body":"This transient failure hits very often recently","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329986623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/329995336","html_url":"https://github.com/apache/druid/pull/4815#issuecomment-329995336","issue_url":"https://api.github.com/repos/apache/druid/issues/4815","id":329995336,"node_id":"MDEyOklzc3VlQ29tbWVudDMyOTk5NTMzNg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-16T21:15:43Z","updated_at":"2017-09-19T03:59:21Z","author_association":"MEMBER","body":"~~Will add design details by Monday~~ Done","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/329995336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330015440","html_url":"https://github.com/apache/druid/issues/4813#issuecomment-330015440","issue_url":"https://api.github.com/repos/apache/druid/issues/4813","id":330015440,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDAxNTQ0MA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-17T03:46:24Z","updated_at":"2017-09-17T03:46:24Z","author_association":"CONTRIBUTOR","body":"@pjain1 Thanks for reporting, made a PR that removes that check https://github.com/druid-io/druid/pull/4816","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330015440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330056836","html_url":"https://github.com/apache/druid/pull/4816#issuecomment-330056836","issue_url":"https://api.github.com/repos/apache/druid/issues/4816","id":330056836,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDA1NjgzNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-17T15:31:43Z","updated_at":"2017-09-17T15:31:43Z","author_association":"CONTRIBUTOR","body":"#4817 should fix the TC inspections. Not sure why they weren't flagged before.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330056836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330074401","html_url":"https://github.com/apache/druid/pull/4816#issuecomment-330074401","issue_url":"https://api.github.com/repos/apache/druid/issues/4816","id":330074401,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDA3NDQwMQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-17T19:10:12Z","updated_at":"2017-09-17T19:10:12Z","author_association":"CONTRIBUTOR","body":"@gianm I'll make a patch that changes the way the supervisors authorize requests, closing this one","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330074401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330133008","html_url":"https://github.com/apache/druid/pull/4817#issuecomment-330133008","issue_url":"https://api.github.com/repos/apache/druid/issues/4817","id":330133008,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDEzMzAwOA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T05:41:30Z","updated_at":"2017-09-18T05:41:30Z","author_association":"CONTRIBUTOR","body":"LGTM, thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330133008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330224040","html_url":"https://github.com/apache/druid/pull/4774#issuecomment-330224040","issue_url":"https://api.github.com/repos/apache/druid/issues/4774","id":330224040,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDIyNDA0MA==","user":{"login":"kevinconaway","id":6921953,"node_id":"MDQ6VXNlcjY5MjE5NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6921953?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinconaway","html_url":"https://github.com/kevinconaway","followers_url":"https://api.github.com/users/kevinconaway/followers","following_url":"https://api.github.com/users/kevinconaway/following{/other_user}","gists_url":"https://api.github.com/users/kevinconaway/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinconaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinconaway/subscriptions","organizations_url":"https://api.github.com/users/kevinconaway/orgs","repos_url":"https://api.github.com/users/kevinconaway/repos","events_url":"https://api.github.com/users/kevinconaway/events{/privacy}","received_events_url":"https://api.github.com/users/kevinconaway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T13:39:17Z","updated_at":"2017-09-18T13:39:17Z","author_association":"CONTRIBUTOR","body":"@gianm or @jihoonson do you have any thoughts on this one?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330224040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330292333","html_url":"https://github.com/apache/druid/issues/4813#issuecomment-330292333","issue_url":"https://api.github.com/repos/apache/druid/issues/4813","id":330292333,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDI5MjMzMw==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T17:19:57Z","updated_at":"2017-09-18T17:19:57Z","author_association":"MEMBER","body":"@jon-wei thanks for taking a look. I think I found one more issue -\r\n`HttpClientProvider` in the `JettyHttpClientModule` does not have method to create escalated clients. Is this OK or need to be fixed ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330292333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330294072","html_url":"https://github.com/apache/druid/pull/4774#issuecomment-330294072","issue_url":"https://api.github.com/repos/apache/druid/issues/4774","id":330294072,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDI5NDA3Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T17:26:05Z","updated_at":"2017-09-18T17:26:05Z","author_association":"CONTRIBUTOR","body":"Sorry for not taking a look yet @kevinconaway, we're in the middle of getting master ready for an 0.11.0 branch cut and should be able to take a look after that.\r\n\r\nHave you been running this patch in your own cluster?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330294072/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330298378","html_url":"https://github.com/apache/druid/issues/4813#issuecomment-330298378","issue_url":"https://api.github.com/repos/apache/druid/issues/4813","id":330298378,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDI5ODM3OA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T17:40:39Z","updated_at":"2017-09-18T17:40:39Z","author_association":"CONTRIBUTOR","body":"The client escalation for JettyHttpClient (only used in the Router) is handled in AsyncQueryForwardingServlet instead","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330298378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330308030","html_url":"https://github.com/apache/druid/issues/4765#issuecomment-330308030","issue_url":"https://api.github.com/repos/apache/druid/issues/4765","id":330308030,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDMwODAzMA==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T18:06:30Z","updated_at":"2017-09-18T18:08:11Z","author_association":"CONTRIBUTOR","body":"I think you need a stream processor (Storm for example) that filters out unwanted events in front of Druid for the time being.\r\n\r\nIf we want such feature in Druid, It's somewhat related to [this discussion.](https://groups.google.com/forum/#!topic/druid-development/qzqWjxShGII).    Theoretically the dimensions spec in parseSpec can be extended with \"optional\" or \"required\" flag, and filters.   The filter should raise exception to ignore the unwanted events.  I don't think null works yet.  \r\n\r\nAt my work, we've developed custom parsers (fairy easy), and ingested events with specific values.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330308030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330313942","html_url":"https://github.com/apache/druid/pull/4818#issuecomment-330313942","issue_url":"https://api.github.com/repos/apache/druid/issues/4818","id":330313942,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDMxMzk0Mg==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T18:27:20Z","updated_at":"2017-09-18T18:27:20Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 \r\n\r\nHm, I don't know how to setup tests like SupervisorResourceTest with the servlet filters that would be used in a real environment (like PreResponseAuthorizationCheckFilter), any ideas there?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330313942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330332893","html_url":"https://github.com/apache/druid/issues/4821#issuecomment-330332893","issue_url":"https://api.github.com/repos/apache/druid/issues/4821","id":330332893,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDMzMjg5Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T19:37:21Z","updated_at":"2017-09-18T19:37:21Z","author_association":"CONTRIBUTOR","body":"Sure, it sounds like it could be useful. I would say the default should be -1, meaning no max.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330332893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330338876","html_url":"https://github.com/apache/druid/pull/4774#issuecomment-330338876","issue_url":"https://api.github.com/repos/apache/druid/issues/4774","id":330338876,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDMzODg3Ng==","user":{"login":"kevinconaway","id":6921953,"node_id":"MDQ6VXNlcjY5MjE5NTM=","avatar_url":"https://avatars.githubusercontent.com/u/6921953?v=4","gravatar_id":"","url":"https://api.github.com/users/kevinconaway","html_url":"https://github.com/kevinconaway","followers_url":"https://api.github.com/users/kevinconaway/followers","following_url":"https://api.github.com/users/kevinconaway/following{/other_user}","gists_url":"https://api.github.com/users/kevinconaway/gists{/gist_id}","starred_url":"https://api.github.com/users/kevinconaway/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kevinconaway/subscriptions","organizations_url":"https://api.github.com/users/kevinconaway/orgs","repos_url":"https://api.github.com/users/kevinconaway/repos","events_url":"https://api.github.com/users/kevinconaway/events{/privacy}","received_events_url":"https://api.github.com/users/kevinconaway/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T20:00:09Z","updated_at":"2017-09-18T20:00:09Z","author_association":"CONTRIBUTOR","body":"We're currently testing it out, not on our full production workload yet.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330338876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330343194","html_url":"https://github.com/apache/druid/issues/4821#issuecomment-330343194","issue_url":"https://api.github.com/repos/apache/druid/issues/4821","id":330343194,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDM0MzE5NA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T20:16:47Z","updated_at":"2017-09-18T20:16:47Z","author_association":"CONTRIBUTOR","body":"as discussed, :+1: ... yeah agree with @gianm about about making enforced max to be infinity (implemented with special value -1 if needed )","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330343194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330352428","html_url":"https://github.com/apache/druid/issues/4819#issuecomment-330352428","issue_url":"https://api.github.com/repos/apache/druid/issues/4819","id":330352428,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDM1MjQyOA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-18T20:51:37Z","updated_at":"2017-09-18T20:51:37Z","author_association":"CONTRIBUTOR","body":"my understanding is that `/druid/coordinator/v1/metadata/*` reflects information about segments stored inside metadata store, so ` /druid/coordinator/v1/metadata/datasources` wouldn't show datasources that don't exist in metadata store yet.\r\n`/druid/coordinator/v1/datasources` should probably list everything.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330352428/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330424756","html_url":"https://github.com/apache/druid/pull/4762#issuecomment-330424756","issue_url":"https://api.github.com/repos/apache/druid/issues/4762","id":330424756,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDQyNDc1Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T04:18:08Z","updated_at":"2017-09-19T04:18:08Z","author_association":"MEMBER","body":"Also, this PR now not always compresses blocks of the full block size (which is 64K), if the leftover or the whole column (e. g. if the segment is small) is lesser than that. This doesn't contradict the spec, but is not supported by the current implementation, that is fixed in #4824. I think if #4824 will appear in Druid 0.11 it will be good to apply this PR without bumping segment version.\r\n\r\nRemoved `WIP` tag, this PR is good to review.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330424756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330479319","html_url":"https://github.com/apache/druid/pull/4415#issuecomment-330479319","issue_url":"https://api.github.com/repos/apache/druid/issues/4415","id":330479319,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDQ3OTMxOQ==","user":{"login":"fmarelli","id":6542651,"node_id":"MDQ6VXNlcjY1NDI2NTE=","avatar_url":"https://avatars.githubusercontent.com/u/6542651?v=4","gravatar_id":"","url":"https://api.github.com/users/fmarelli","html_url":"https://github.com/fmarelli","followers_url":"https://api.github.com/users/fmarelli/followers","following_url":"https://api.github.com/users/fmarelli/following{/other_user}","gists_url":"https://api.github.com/users/fmarelli/gists{/gist_id}","starred_url":"https://api.github.com/users/fmarelli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmarelli/subscriptions","organizations_url":"https://api.github.com/users/fmarelli/orgs","repos_url":"https://api.github.com/users/fmarelli/repos","events_url":"https://api.github.com/users/fmarelli/events{/privacy}","received_events_url":"https://api.github.com/users/fmarelli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T09:12:51Z","updated_at":"2017-09-19T09:12:51Z","author_association":"NONE","body":"Hi, I am having the same problem, stack trace below. Druid Version  0.10.1\r\n\r\n`\r\n2017-09-19 11:03:54 DEBUG DruidDao:414 -  SQL: select A, B, C, D, E, G, H, I, L  from dataSource where  A in ('aValue' )  AND  B  in  ('SomeVALUE' ) \r\n[WARNING] /dl\r\nAvaticaClientRuntimeException: Remote driver error: IllegalStateException: DefaultQueryMetrics must not be modified from multiple threads. If it is needed to gather dimension or metric information from multiple threads or from an async thread, this information should explicitly be passed between threads (e. g. using Futures), or this DefaultQueryMetrics's ownerThread should be reassigned explicitly. Error -1 (00000) UNKNOWN\r\n\r\njava.lang.IllegalStateException: DefaultQueryMetrics must not be modified from multiple threads. If it is needed to gather dimension or metric information from multiple threads or from an async thread, this information should explicitly be passed between threads (e. g. using Futures), or this DefaultQueryMetrics's ownerThread should be reassigned explicitly\r\n    at io.druid.query.DefaultQueryMetrics.checkModifiedFromOwnerThread(DefaultQueryMetrics.java:59)\r\n    at io.druid.query.DefaultQueryMetrics.reportMetric(DefaultQueryMetrics.java:253)\r\n    at io.druid.query.DefaultQueryMetrics.reportCpuTime(DefaultQueryMetrics.java:231)\r\n    at io.druid.query.CPUTimeMetricQueryRunner$1.after(CPUTimeMetricQueryRunner.java:86)\r\n    at io.druid.java.util.common.guava.WrappingYielder.close(WrappingYielder.java:96)\r\n    at io.druid.java.util.common.guava.Yielders$2.close(Yielders.java:73)\r\n    at io.druid.java.util.common.guava.ConcatSequence.wrapYielder(ConcatSequence.java:123)\r\n    at io.druid.java.util.common.guava.ConcatSequence.access$000(ConcatSequence.java:29)\r\n    at io.druid.java.util.common.guava.ConcatSequence$3.next(ConcatSequence.java:143)\r\n    at io.druid.sql.avatica.DruidStatement.nextFrame(DruidStatement.java:277)\r\n    at io.druid.sql.avatica.DruidMeta.fetch(DruidMeta.java:209)\r\n    at org.apache.calcite.avatica.remote.LocalService.apply(LocalService.java:252)\r\n    at org.apache.calcite.avatica.remote.Service$FetchRequest.accept(Service.java:1350)\r\n    at org.apache.calcite.avatica.remote.Service$FetchRequest.accept(Service.java:1317)\r\n    at org.apache.calcite.avatica.remote.AbstractHandler.apply(AbstractHandler.java:95)\r\n    at org.apache.calcite.avatica.remote.JsonHandler.apply(JsonHandler.java:52)\r\n    at org.apache.calcite.avatica.server.AvaticaJsonHandler.handle(AvaticaJsonHandler.java:129)\r\n    at io.druid.sql.avatica.DruidAvaticaHandler.handle(DruidAvaticaHandler.java:63)\r\n    at org.eclipse.jetty.server.handler.HandlerList.handle(HandlerList.java:52)\r\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:134)\r\n    at org.eclipse.jetty.server.Server.handle(Server.java:534)\r\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:320)\r\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\r\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:283)\r\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:108)\r\n    at org.eclipse.jetty.io.SelectChannelEndPoint$2.run(SelectChannelEndPoint.java:93)\r\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.executeProduceConsume(ExecuteProduceConsume.java:303)\r\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.produceConsume(ExecuteProduceConsume.java:148)\r\n    at org.eclipse.jetty.util.thread.strategy.ExecuteProduceConsume.run(ExecuteProduceConsume.java:136)\r\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:671)\r\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:589)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n    Suppressed: java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.IllegalStateException: DefaultQueryMetrics must not be modified from multiple threads. If it is needed to gather dimension or metric information from multiple threads or from an async thread, this information should explicitly be passed between threads (e. g. using Futures), or this DefaultQueryMetrics's ownerThread should be reassigned explicitly\r\n        at com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n        at io.druid.sql.avatica.DruidStatement.close(DruidStatement.java:335)\r\n        at io.druid.sql.avatica.DruidStatement.nextFrame(DruidStatement.java:290)\r\n        ... 22 more\r\n    Caused by: java.util.concurrent.ExecutionException: java.lang.IllegalStateException: DefaultQueryMetrics must not be modified from multiple threads. If it is needed to gather dimension or metric information from multiple threads or from an async thread, this information should explicitly be passed between threads (e. g. using Futures), or this DefaultQueryMetrics's ownerThread should be reassigned explicitly\r\n        at java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n        at java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n        at io.druid.sql.avatica.DruidStatement.close(DruidStatement.java:319)\r\n        ... 23 more\r\n    Caused by: java.lang.IllegalStateException: DefaultQueryMetrics must not be modified from multiple threads. If it is needed to gather dimension or metric information from multiple threads or from an async thread, this information should explicitly be passed between threads (e. g. using Futures), or this DefaultQueryMetrics's ownerThread should be reassigned explicitly\r\n        at io.druid.query.DefaultQueryMetrics.checkModifiedFromOwnerThread(DefaultQueryMetrics.java:59)\r\n        at io.druid.query.DefaultQueryMetrics.reportMetric(DefaultQueryMetrics.java:253)\r\n        at io.druid.query.DefaultQueryMetrics.reportCpuTime(DefaultQueryMetrics.java:231)\r\n        at io.druid.query.CPUTimeMetricQueryRunner$1.after(CPUTimeMetricQueryRunner.java:86)\r\n        at io.druid.java.util.common.guava.WrappingYielder.close(WrappingYielder.java:96)\r\n        at io.druid.java.util.common.guava.ConcatSequence$3.close(ConcatSequence.java:157)\r\n        at io.druid.java.util.common.guava.ConcatSequence$3.close(ConcatSequence.java:156)\r\n        at io.druid.sql.avatica.DruidStatement.lambda$close$1(DruidStatement.java:315)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        ... 1 more\r\n\r\n\r\n    at org.apache.calcite.avatica.remote.Service$ErrorResponse.toException(Service.java:2476)\r\n    at org.apache.calcite.avatica.remote.JsonService.decode(JsonService.java:55)\r\n    at org.apache.calcite.avatica.remote.JsonService.apply(JsonService.java:140)\r\n    at org.apache.calcite.avatica.remote.RemoteMeta$14.call(RemoteMeta.java:309)\r\n    at org.apache.calcite.avatica.remote.RemoteMeta$14.call(RemoteMeta.java:306)\r\n    at org.apache.calcite.avatica.AvaticaConnection.invokeWithRetries(AvaticaConnection.java:756)\r\n    at org.apache.calcite.avatica.remote.RemoteMeta.fetch(RemoteMeta.java:305)\r\n    at org.apache.calcite.avatica.MetaImpl$FetchIterator.moveNext(MetaImpl.java:1606)\r\n    at org.apache.calcite.avatica.MetaImpl$FetchIterator.next(MetaImpl.java:1591)\r\n    at org.apache.calcite.avatica.util.IteratorCursor.next(IteratorCursor.java:46)\r\n    at org.apache.calcite.avatica.AvaticaResultSet.next(AvaticaResultSet.java:239)\r\n    at ... (DruidDao.java:1181)\r\n    at ... (Download.java:75)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:707)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n    at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:833)\r\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1650)\r\n    at org.eclipse.jetty.websocket.server.WebSocketUpgradeFilter.doFilter(WebSocketUpgradeFilter.java:206)\r\n    at org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1637)\r\n    at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:533)\r\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\r\n    at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:548)\r\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\r\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:190)\r\n    at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1595)\r\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:188)\r\n    at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1253)\r\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:168)\r\n    at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:473)\r\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1564)\r\n    at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:166)\r\n    at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1155)\r\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n    at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:219)\r\n    at org.eclipse.jetty.server.handler.HandlerCollection.handle(HandlerCollection.java:126)\r\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\r\n    at org.eclipse.jetty.server.Server.handle(Server.java:564)\r\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:317)\r\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\r\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:279)\r\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)\r\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\r\n    at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)\r\n    at org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)\r\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:126)\r\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\r\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\r\n    at java.lang.Thread.run(Thread.java:748)\r\n`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330479319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/330498558","html_url":"https://github.com/apache/druid/issues/4617#issuecomment-330498558","issue_url":"https://api.github.com/repos/apache/druid/issues/4617","id":330498558,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMDQ5ODU1OA==","user":{"login":"elverkilde","id":275784,"node_id":"MDQ6VXNlcjI3NTc4NA==","avatar_url":"https://avatars.githubusercontent.com/u/275784?v=4","gravatar_id":"","url":"https://api.github.com/users/elverkilde","html_url":"https://github.com/elverkilde","followers_url":"https://api.github.com/users/elverkilde/followers","following_url":"https://api.github.com/users/elverkilde/following{/other_user}","gists_url":"https://api.github.com/users/elverkilde/gists{/gist_id}","starred_url":"https://api.github.com/users/elverkilde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elverkilde/subscriptions","organizations_url":"https://api.github.com/users/elverkilde/orgs","repos_url":"https://api.github.com/users/elverkilde/repos","events_url":"https://api.github.com/users/elverkilde/events{/privacy}","received_events_url":"https://api.github.com/users/elverkilde/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-19T10:31:51Z","updated_at":"2017-09-19T10:31:51Z","author_association":"NONE","body":"We are also observing large errors (7-8%) especially on smaller cardinalities (<40000). This is pretty much in line with the bias observed in the Google paper.\r\n\r\nDid you consider any of the improvements mentioned in the Google paper (HyperLogLog++)?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/330498558/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]