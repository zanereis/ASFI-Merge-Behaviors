[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246461522","html_url":"https://github.com/apache/hudi/pull/5933#issuecomment-1246461522","issue_url":"https://api.github.com/repos/apache/hudi/issues/5933","id":1246461522,"node_id":"IC_kwDOBI7nWM5KS35S","user":{"login":"huberylee","id":11664307,"node_id":"MDQ6VXNlcjExNjY0MzA3","avatar_url":"https://avatars.githubusercontent.com/u/11664307?v=4","gravatar_id":"","url":"https://api.github.com/users/huberylee","html_url":"https://github.com/huberylee","followers_url":"https://api.github.com/users/huberylee/followers","following_url":"https://api.github.com/users/huberylee/following{/other_user}","gists_url":"https://api.github.com/users/huberylee/gists{/gist_id}","starred_url":"https://api.github.com/users/huberylee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huberylee/subscriptions","organizations_url":"https://api.github.com/users/huberylee/orgs","repos_url":"https://api.github.com/users/huberylee/repos","events_url":"https://api.github.com/users/huberylee/events{/privacy}","received_events_url":"https://api.github.com/users/huberylee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T09:02:55Z","updated_at":"2022-09-14T09:02:55Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246461522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246481133","html_url":"https://github.com/apache/hudi/issues/5249#issuecomment-1246481133","issue_url":"https://api.github.com/repos/apache/hudi/issues/5249","id":1246481133,"node_id":"IC_kwDOBI7nWM5KS8rt","user":{"login":"toninis","id":24205345,"node_id":"MDQ6VXNlcjI0MjA1MzQ1","avatar_url":"https://avatars.githubusercontent.com/u/24205345?v=4","gravatar_id":"","url":"https://api.github.com/users/toninis","html_url":"https://github.com/toninis","followers_url":"https://api.github.com/users/toninis/followers","following_url":"https://api.github.com/users/toninis/following{/other_user}","gists_url":"https://api.github.com/users/toninis/gists{/gist_id}","starred_url":"https://api.github.com/users/toninis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/toninis/subscriptions","organizations_url":"https://api.github.com/users/toninis/orgs","repos_url":"https://api.github.com/users/toninis/repos","events_url":"https://api.github.com/users/toninis/events{/privacy}","received_events_url":"https://api.github.com/users/toninis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T09:19:59Z","updated_at":"2022-09-14T09:19:59Z","author_association":"NONE","body":"@nsivabalan Let me try and get back to you 😄  . Thanks for the effort !! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246481133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246615855","html_url":"https://github.com/apache/hudi/issues/5952#issuecomment-1246615855","issue_url":"https://api.github.com/repos/apache/hudi/issues/5952","id":1246615855,"node_id":"IC_kwDOBI7nWM5KTdkv","user":{"login":"srehman420","id":23278048,"node_id":"MDQ6VXNlcjIzMjc4MDQ4","avatar_url":"https://avatars.githubusercontent.com/u/23278048?v=4","gravatar_id":"","url":"https://api.github.com/users/srehman420","html_url":"https://github.com/srehman420","followers_url":"https://api.github.com/users/srehman420/followers","following_url":"https://api.github.com/users/srehman420/following{/other_user}","gists_url":"https://api.github.com/users/srehman420/gists{/gist_id}","starred_url":"https://api.github.com/users/srehman420/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srehman420/subscriptions","organizations_url":"https://api.github.com/users/srehman420/orgs","repos_url":"https://api.github.com/users/srehman420/repos","events_url":"https://api.github.com/users/srehman420/events{/privacy}","received_events_url":"https://api.github.com/users/srehman420/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T11:16:42Z","updated_at":"2022-09-14T11:16:42Z","author_association":"NONE","body":"I'm understanding that now instead of reading the files list, you are parallelizing the array and using multiple executors to read the split arrays of files.\r\n\r\nIf yes, (Correct me if I'm wrong 😎 ) then\r\nThis is a better approach than the previous one, but the significance can be verified by running this scenario and comparing it with the previous implementation.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246615855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246655154","html_url":"https://github.com/apache/hudi/issues/5582#issuecomment-1246655154","issue_url":"https://api.github.com/repos/apache/hudi/issues/5582","id":1246655154,"node_id":"IC_kwDOBI7nWM5KTnKy","user":{"login":"nitinkul","id":9283172,"node_id":"MDQ6VXNlcjkyODMxNzI=","avatar_url":"https://avatars.githubusercontent.com/u/9283172?v=4","gravatar_id":"","url":"https://api.github.com/users/nitinkul","html_url":"https://github.com/nitinkul","followers_url":"https://api.github.com/users/nitinkul/followers","following_url":"https://api.github.com/users/nitinkul/following{/other_user}","gists_url":"https://api.github.com/users/nitinkul/gists{/gist_id}","starred_url":"https://api.github.com/users/nitinkul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nitinkul/subscriptions","organizations_url":"https://api.github.com/users/nitinkul/orgs","repos_url":"https://api.github.com/users/nitinkul/repos","events_url":"https://api.github.com/users/nitinkul/events{/privacy}","received_events_url":"https://api.github.com/users/nitinkul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T11:55:47Z","updated_at":"2022-09-14T11:57:39Z","author_association":"NONE","body":"Any update on the issue? @nsivabalan  @codope \r\nI am facing exactly same issue. difference being i wrote a bootstrap job to do ```bulk_insert``` using hudi-spark job and then i was running incremental run using dbt-spark with hudi.\r\n\r\nHudi version : 0.10.0\r\n\r\nSpark version : 3.1.2\r\n\r\nHive version : 3.1.2\r\n\r\nHadoop version : Amazon 3.2.1\r\n\r\nStorage (HDFS/S3/GCS..) : S3\r\n\r\nRunning on Docker? (yes/no) : No\r\n\r\no/p of the commands suggested by @minihippo \r\n\r\n```CatalogTable(\r\nDatabase: data_model\r\nTable: click_fact\r\nOwner: hive\r\nCreated Time: Tue Sep 13 22:17:07 UTC 2022\r\nLast Access: UNKNOWN\r\nCreated By: Spark 2.2 or prior\r\nType: EXTERNAL\r\nProvider: hudi\r\nTable Properties: [bucketing_version=2, last_commit_time_sync=20220914060931454]\r\nStatistics: 823082628 bytes\r\nLocation: <masked>\r\nSerde Library: org.apache.hadoop.hive.ql.io.parquet.serde.ParquetHiveSerDe\r\nInputFormat: org.apache.hudi.hadoop.HoodieParquetInputFormat\r\nOutputFormat: org.apache.hadoop.hive.ql.io.parquet.MapredParquetOutputFormat\r\nStorage Properties: [hoodie.query.as.ro.table=false]\r\nSchema: root\r\n |-- _hoodie_commit_time: string (nullable = true)\r\n |-- _hoodie_commit_seqno: string (nullable = true)\r\n |-- _hoodie_record_key: string (nullable = true)\r\n |-- _hoodie_partition_path: string (nullable = true)\r\n |-- _hoodie_file_name: string (nullable = true)\r\n |-- user_customer_id: string (nullable = true)\r\n |-- Permissions_Min: string (nullable = true)\r\n |-- Permissions_Max: string (nullable = true)\r\n)\r\n```\r\nhudi params used for bulk_insert\r\n```\r\n.option(\"hoodie.bulkinsert.shuffle.parallelism\", appConfig.getNumPartitions())\r\n                .option(DataSourceWriteOptions.TABLE_TYPE_OPT_KEY(), \"COPY_ON_WRITE\")\r\n                .option(DataSourceWriteOptions.OPERATION_OPT_KEY(), DataSourceWriteOptions.BULK_INSERT_OPERATION_OPT_VAL())\r\n                .option(DataSourceWriteOptions.RECORDKEY_FIELD_OPT_KEY(), appConfig.getRecordKey()) //\"user_customer_id\"\r\n                .option(DataSourceWriteOptions.PRECOMBINE_FIELD_OPT_KEY(),appConfig.getPreCombineKey()) //\"user_customer_id\"\r\n                .option(HoodieWriteConfig.TABLE_NAME, appConfig.getTblName()) //\"click_fact\"\r\n                .option(DataSourceWriteOptions.HIVE_DATABASE_OPT_KEY(), appConfig.getDbName()) //\"data_model\"\r\n                .option(DataSourceWriteOptions.HIVE_TABLE_OPT_KEY(), appConfig.getTblName()) //\"click_fact\"\r\n                .option(DataSourceWriteOptions.HIVE_SYNC_ENABLED_OPT_KEY(), \"true\")\r\n                .option(DataSourceWriteOptions.KEYGENERATOR_CLASS_OPT_KEY(), \"org.apache.hudi.keygen.NonpartitionedKeyGenerator\")\r\n                .option(DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS_OPT_KEY(), \"org.apache.hudi.hive.NonPartitionedExtractor\")\r\n                .option(\"hoodie.parquet.compression.codec\", \"snappy\")\r\n                .format(\"org.apache.hudi\")\r\n                .mode(SaveMode.Append)\r\n                .save(appConfig.getOutputPath());\r\n```\r\nfollowing is the stacktrace\r\n```22/09/14 11:25:25 ERROR SparkExecuteStatementOperation: Error executing query with c8765110-e83d-4133-8ebb-3590579213b4, currentState RUNNING,\r\njava.lang.NullPointerException\r\n\tat java.util.Hashtable.put(Hashtable.java:460)\r\n\tat java.util.Hashtable.putAll(Hashtable.java:524)\r\n\tat org.apache.hudi.HoodieWriterUtils$.parametersWithWriteDefaults(HoodieWriterUtils.scala:52)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.mergeParamsAndGetHoodieConfig(HoodieSparkSqlWriter.scala:722)\r\n\tat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:91)\r\n\tat org.apache.spark.sql.hudi.command.MergeIntoHoodieTableCommand.executeUpsert(MergeIntoHoodieTableCommand.scala:285)\r\n\tat org.apache.spark.sql.hudi.command.MergeIntoHoodieTableCommand.run(MergeIntoHoodieTableCommand.scala:155)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:70)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:68)\r\n\tat org.apache.spark.sql.execution.command.ExecutedCommandExec.executeCollect(commands.scala:79)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$logicalPlan$1(Dataset.scala:230)\r\n\tat org.apache.spark.sql.Dataset.$anonfun$withAction$1(Dataset.scala:3751)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:110)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:135)\r\n\tat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:135)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:253)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:134)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\r\n\tat org.apache.spark.sql.Dataset.withAction(Dataset.scala:3749)\r\n\tat org.apache.spark.sql.Dataset.<init>(Dataset.scala:230)\r\n\tat org.apache.spark.sql.Dataset$.$anonfun$ofRows$2(Dataset.scala:101)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246655154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246783278","html_url":"https://github.com/apache/hudi/pull/4676#issuecomment-1246783278","issue_url":"https://api.github.com/repos/apache/hudi/issues/4676","id":1246783278,"node_id":"IC_kwDOBI7nWM5KUGcu","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T13:41:10Z","updated_at":"2022-09-14T13:41:10Z","author_association":"CONTRIBUTOR","body":"> Hi, @fengjian428 Can you rebase the commits based on latest master and force-push the branch, it is hard to review with 41 commits locally.\r\n\r\ndone","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1246783278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247026968","html_url":"https://github.com/apache/hudi/issues/3984#issuecomment-1247026968","issue_url":"https://api.github.com/repos/apache/hudi/issues/3984","id":1247026968,"node_id":"IC_kwDOBI7nWM5KVB8Y","user":{"login":"sameerchandra","id":13926355,"node_id":"MDQ6VXNlcjEzOTI2MzU1","avatar_url":"https://avatars.githubusercontent.com/u/13926355?v=4","gravatar_id":"","url":"https://api.github.com/users/sameerchandra","html_url":"https://github.com/sameerchandra","followers_url":"https://api.github.com/users/sameerchandra/followers","following_url":"https://api.github.com/users/sameerchandra/following{/other_user}","gists_url":"https://api.github.com/users/sameerchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/sameerchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sameerchandra/subscriptions","organizations_url":"https://api.github.com/users/sameerchandra/orgs","repos_url":"https://api.github.com/users/sameerchandra/repos","events_url":"https://api.github.com/users/sameerchandra/events{/privacy}","received_events_url":"https://api.github.com/users/sameerchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T16:35:39Z","updated_at":"2022-09-15T05:48:45Z","author_association":"NONE","body":"> val tripsSnapshotDF = spark.read.format(\"hudi\")\r\n>   .option(\"hoodie.file.index.enable\", \"false\")\r\n>   .load(basePath)\r\n\r\n@XuQianJin-Stars Tried setting this config while reading. Printing the schema doesn't seem to show the partition columns\r\n\r\nTo add more details, I am using my own implementation for generating the Hudi Keys since I am ingesting from a JDBC data source via DeltaStreamer. The partition column is not a part of the parquet schema but is only a part of the folder structure. The deltacommit files seems to register my custom partitions as well. Not sure where I am going wrong\r\n\r\nHudi Version: 0.9.0\r\nSpark : 2.4.8","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247026968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247146902","html_url":"https://github.com/apache/hudi/pull/6669#issuecomment-1247146902","issue_url":"https://api.github.com/repos/apache/hudi/issues/6669","id":1247146902,"node_id":"IC_kwDOBI7nWM5KVfOW","user":{"login":"voonhous","id":6312314,"node_id":"MDQ6VXNlcjYzMTIzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6312314?v=4","gravatar_id":"","url":"https://api.github.com/users/voonhous","html_url":"https://github.com/voonhous","followers_url":"https://api.github.com/users/voonhous/followers","following_url":"https://api.github.com/users/voonhous/following{/other_user}","gists_url":"https://api.github.com/users/voonhous/gists{/gist_id}","starred_url":"https://api.github.com/users/voonhous/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voonhous/subscriptions","organizations_url":"https://api.github.com/users/voonhous/orgs","repos_url":"https://api.github.com/users/voonhous/repos","events_url":"https://api.github.com/users/voonhous/events{/privacy}","received_events_url":"https://api.github.com/users/voonhous/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T18:25:39Z","updated_at":"2022-09-14T18:25:39Z","author_association":"MEMBER","body":"This bug mainly affects reading","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247146902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247234022","html_url":"https://github.com/apache/hudi/pull/6671#issuecomment-1247234022","issue_url":"https://api.github.com/repos/apache/hudi/issues/6671","id":1247234022,"node_id":"IC_kwDOBI7nWM5KV0fm","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T19:52:46Z","updated_at":"2022-09-14T19:52:46Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"61a6a8da9845ac203358ca03a862bd8f00c653c8\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11358\",\n    \"triggerID\" : \"61a6a8da9845ac203358ca03a862bd8f00c653c8\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 61a6a8da9845ac203358ca03a862bd8f00c653c8 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11358) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247234022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247338781","html_url":"https://github.com/apache/hudi/pull/6674#issuecomment-1247338781","issue_url":"https://api.github.com/repos/apache/hudi/issues/6674","id":1247338781,"node_id":"IC_kwDOBI7nWM5KWOEd","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T21:53:09Z","updated_at":"2022-09-14T21:53:09Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\nI definitely agree. But a question or a thought is should it be okay to decouple that and fix individual images in a second PR. I want to do the bulk change quickly and go from there. But open to ideas. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247338781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247343367","html_url":"https://github.com/apache/hudi/pull/6674#issuecomment-1247343367","issue_url":"https://api.github.com/repos/apache/hudi/issues/6674","id":1247343367,"node_id":"IC_kwDOBI7nWM5KWPMH","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T21:59:22Z","updated_at":"2022-09-14T21:59:22Z","author_association":"CONTRIBUTOR","body":"> I definitely agree. But a question or a thought is should it be okay to decouple that and fix individual images in a second PR. I want to do the bulk change quickly and go from there. But open to ideas. What do you think?\r\n\r\nGiven this is affecting how the website is visualized, let's have the changes to make images look better in one PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247343367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247367471","html_url":"https://github.com/apache/hudi/issues/6591#issuecomment-1247367471","issue_url":"https://api.github.com/repos/apache/hudi/issues/6591","id":1247367471,"node_id":"IC_kwDOBI7nWM5KWVEv","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T22:32:06Z","updated_at":"2022-09-14T22:32:06Z","author_association":"CONTRIBUTOR","body":"yes, I get it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247367471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247368648","html_url":"https://github.com/apache/hudi/issues/6463#issuecomment-1247368648","issue_url":"https://api.github.com/repos/apache/hudi/issues/6463","id":1247368648,"node_id":"IC_kwDOBI7nWM5KWVXI","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T22:33:59Z","updated_at":"2022-09-14T22:33:59Z","author_association":"CONTRIBUTOR","body":"yes, you can find configs that need to set for zookeeper based lock or for hive metastore based lock here. \r\nhttps://hudi.apache.org/docs/concurrency_control\r\n\r\nwe also have dynamoDB based lock if you are interested. \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247368648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247369694","html_url":"https://github.com/apache/hudi/issues/6463#issuecomment-1247369694","issue_url":"https://api.github.com/repos/apache/hudi/issues/6463","id":1247369694,"node_id":"IC_kwDOBI7nWM5KWVne","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T22:35:37Z","updated_at":"2022-09-14T22:35:37Z","author_association":"CONTRIBUTOR","body":"common configs requried for any lock provider:\r\n\r\nhoodie.write.concurrency.mode=optimistic_concurrency_control\r\nhoodie.cleaner.policy.failed.writes=LAZY\r\nhoodie.write.lock.provider=<lock-provider-classname>\r\n\r\nconfigs for zookeeper based lock\r\n```\r\nhoodie.write.lock.provider=org.apache.hudi.client.transaction.lock.ZookeeperBasedLockProvider\r\nhoodie.write.lock.zookeeper.url\r\nhoodie.write.lock.zookeeper.port\r\nhoodie.write.lock.zookeeper.lock_key\r\nhoodie.write.lock.zookeeper.base_path\r\n```\r\n\r\nConfigs for hive metastore based lock:\r\n```\r\nhoodie.write.lock.provider=org.apache.hudi.hive.HiveMetastoreBasedLockProvider\r\nhoodie.write.lock.hivemetastore.database\r\nhoodie.write.lock.hivemetastore.table\r\n```\r\n\r\nDynamoDb based lock:\r\n```\r\nhoodie.write.lock.provider=org.apache.hudi.aws.transaction.lock.DynamoDBBasedLockProvider\r\nhoodie.write.lock.dynamodb.table\r\nhoodie.write.lock.dynamodb.partition_key\r\nhoodie.write.lock.dynamodb.region\r\nhoodie.write.lock.dynamodb.endpoint_url\r\nhoodie.write.lock.dynamodb.billing_mode\r\n```\r\n```\r\nhoodie.aws.access.key\r\nhoodie.aws.secret.key\r\nhoodie.aws.session.token\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247369694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247370168","html_url":"https://github.com/apache/hudi/issues/6463#issuecomment-1247370168","issue_url":"https://api.github.com/repos/apache/hudi/issues/6463","id":1247370168,"node_id":"IC_kwDOBI7nWM5KWVu4","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T22:36:19Z","updated_at":"2022-09-14T22:36:19Z","author_association":"CONTRIBUTOR","body":"let us know if you are still looking for any assistance. if not, we can go ahead and close out the issue. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247370168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247371882","html_url":"https://github.com/apache/hudi/pull/6674#issuecomment-1247371882","issue_url":"https://api.github.com/repos/apache/hudi/issues/6674","id":1247371882,"node_id":"IC_kwDOBI7nWM5KWWJq","user":{"login":"bhasudha","id":2179254,"node_id":"MDQ6VXNlcjIxNzkyNTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2179254?v=4","gravatar_id":"","url":"https://api.github.com/users/bhasudha","html_url":"https://github.com/bhasudha","followers_url":"https://api.github.com/users/bhasudha/followers","following_url":"https://api.github.com/users/bhasudha/following{/other_user}","gists_url":"https://api.github.com/users/bhasudha/gists{/gist_id}","starred_url":"https://api.github.com/users/bhasudha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bhasudha/subscriptions","organizations_url":"https://api.github.com/users/bhasudha/orgs","repos_url":"https://api.github.com/users/bhasudha/repos","events_url":"https://api.github.com/users/bhasudha/events{/privacy}","received_events_url":"https://api.github.com/users/bhasudha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T22:38:38Z","updated_at":"2022-09-14T22:38:38Z","author_association":"CONTRIBUTOR","body":"> \r\n Done. @yihua  redrawing the entire image might be a bigger effort. I changed the images so their ratio does not change and are closer to 1200 * 600 either in width or height. Please take a look and flag any image that comes out odd.\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247371882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247372251","html_url":"https://github.com/apache/hudi/issues/6101#issuecomment-1247372251","issue_url":"https://api.github.com/repos/apache/hudi/issues/6101","id":1247372251,"node_id":"IC_kwDOBI7nWM5KWWPb","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T22:39:11Z","updated_at":"2022-09-14T22:39:11Z","author_association":"CONTRIBUTOR","body":"I assume you are referring to delete_partitions right? how are you triggering delete_partition. are you passing in a regular dataframe as you would for other write operations. \r\nOr are you setting the config https://hudi.apache.org/docs/configurations#hoodiedatasourcewritepartitionstodelete . you can set comma separated list of partition values that needs to be deleted. \r\n\r\nI might need to reproduce your exact scenario and go from there. in the mean time, if you have a reproducible script, let me know. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247372251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247373856","html_url":"https://github.com/apache/hudi/issues/6341#issuecomment-1247373856","issue_url":"https://api.github.com/repos/apache/hudi/issues/6341","id":1247373856,"node_id":"IC_kwDOBI7nWM5KWWog","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T22:41:52Z","updated_at":"2022-09-14T22:41:52Z","author_association":"CONTRIBUTOR","body":"sure.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247373856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247408240","html_url":"https://github.com/apache/hudi/issues/6659#issuecomment-1247408240","issue_url":"https://api.github.com/repos/apache/hudi/issues/6659","id":1247408240,"node_id":"IC_kwDOBI7nWM5KWfBw","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-14T23:45:06Z","updated_at":"2022-09-14T23:45:06Z","author_association":"MEMBER","body":"from what you listed, `org.apache.hudi:hudi-spark-bundle_2.11:0.5.3,org.apache.spark:spark-avro_2.11:2.4.4` this is hudi 0.5.3. can you confirm which hudi version do you have  problem with?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247408240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247434901","html_url":"https://github.com/apache/hudi/issues/6655#issuecomment-1247434901","issue_url":"https://api.github.com/repos/apache/hudi/issues/6655","id":1247434901,"node_id":"IC_kwDOBI7nWM5KWliV","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T00:32:56Z","updated_at":"2022-09-15T00:32:56Z","author_association":"MEMBER","body":"@alexeykudinkin can you take a look pls?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247434901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247438706","html_url":"https://github.com/apache/hudi/issues/6653#issuecomment-1247438706","issue_url":"https://api.github.com/repos/apache/hudi/issues/6653","id":1247438706,"node_id":"IC_kwDOBI7nWM5KWmdy","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T00:39:20Z","updated_at":"2022-09-15T00:41:23Z","author_association":"MEMBER","body":"likely a lot of small files were created. @Xiaohan-Shen how many files were created in S3? and what do the file sizes look like? or maybe there are many commits written to the table and resulted in many versions retained. some clean actions would be needed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247438706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247442099","html_url":"https://github.com/apache/hudi/issues/6653#issuecomment-1247442099","issue_url":"https://api.github.com/repos/apache/hudi/issues/6653","id":1247442099,"node_id":"IC_kwDOBI7nWM5KWnSz","user":{"login":"Xiaohan-Shen","id":55402701,"node_id":"MDQ6VXNlcjU1NDAyNzAx","avatar_url":"https://avatars.githubusercontent.com/u/55402701?v=4","gravatar_id":"","url":"https://api.github.com/users/Xiaohan-Shen","html_url":"https://github.com/Xiaohan-Shen","followers_url":"https://api.github.com/users/Xiaohan-Shen/followers","following_url":"https://api.github.com/users/Xiaohan-Shen/following{/other_user}","gists_url":"https://api.github.com/users/Xiaohan-Shen/gists{/gist_id}","starred_url":"https://api.github.com/users/Xiaohan-Shen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Xiaohan-Shen/subscriptions","organizations_url":"https://api.github.com/users/Xiaohan-Shen/orgs","repos_url":"https://api.github.com/users/Xiaohan-Shen/repos","events_url":"https://api.github.com/users/Xiaohan-Shen/events{/privacy}","received_events_url":"https://api.github.com/users/Xiaohan-Shen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T00:44:59Z","updated_at":"2022-09-15T00:44:59Z","author_association":"NONE","body":"I just figured out the problem: I used the primary key field for partitioning, so it was creating one partition for every row. My bad. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247442099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247444513","html_url":"https://github.com/apache/hudi/issues/6644#issuecomment-1247444513","issue_url":"https://api.github.com/repos/apache/hudi/issues/6644","id":1247444513,"node_id":"IC_kwDOBI7nWM5KWn4h","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T00:49:16Z","updated_at":"2022-09-15T00:49:16Z","author_association":"MEMBER","body":"> Is it mandatory to set AWS_ACCESS_KEY,AWS_SECRET_KEY ?\r\n\r\nNo you should not need to. in aws env you'll just rely on whatever roles for your service to access another service. Please raise support case with aws and get help to configure roles properly.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247444513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247449888","html_url":"https://github.com/apache/hudi/issues/6626#issuecomment-1247449888","issue_url":"https://api.github.com/repos/apache/hudi/issues/6626","id":1247449888,"node_id":"IC_kwDOBI7nWM5KWpMg","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T01:00:22Z","updated_at":"2022-09-15T01:00:22Z","author_association":"MEMBER","body":"@arunb2w noticed that you're on hudi 0.10. would you also verify if 0.12 has the same behavior?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247449888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247453345","html_url":"https://github.com/apache/hudi/issues/6618#issuecomment-1247453345","issue_url":"https://api.github.com/repos/apache/hudi/issues/6618","id":1247453345,"node_id":"IC_kwDOBI7nWM5KWqCh","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T01:06:08Z","updated_at":"2022-09-15T01:06:08Z","author_association":"MEMBER","body":"@Aload can you verify if the patch is used in your version of hudi? and still having the problem?\r\n\r\n> I have encountered this problem,this pr may solve your problem : #6393\r\n\r\nin order to help diagnose, we need more info also to reproduce it. like configs and code snippet","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247453345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247459150","html_url":"https://github.com/apache/hudi/issues/6596#issuecomment-1247459150","issue_url":"https://api.github.com/repos/apache/hudi/issues/6596","id":1247459150,"node_id":"IC_kwDOBI7nWM5KWrdO","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T01:17:39Z","updated_at":"2022-09-15T01:17:39Z","author_association":"MEMBER","body":"> I replaced impala hudi dependency jar (hudi-common-0.5.0-incubating.jar, hudi-hadoop-mr-0.5.0-incubating.jar) with (hudi-common-0.12.0.jar, hudi-hadoop-mr-0.12.0.jar),issues still.\r\n\r\n> ENV: impala4.0+hive3.1.1 with hudi 0.11 is correct.\r\n\r\n@zhengyuan-cn do you mean you replaced `hudi-*-0.5.0` with `hudi-*-0.11.0` and it worked?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247459150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247465847","html_url":"https://github.com/apache/hudi/issues/6579#issuecomment-1247465847","issue_url":"https://api.github.com/repos/apache/hudi/issues/6579","id":1247465847,"node_id":"IC_kwDOBI7nWM5KWtF3","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T01:30:52Z","updated_at":"2022-09-15T01:30:52Z","author_association":"MEMBER","body":"hi @azhsmesos thanks for your interests in contributing! please check out https://hudi.apache.org/docs/quick-start-guide for quick start examples (both spark and flink) and many more guides under https://hudi.apache.org/docs/overview\r\nThere is a `new-to-hudi` label you can [filter on from jira](https://issues.apache.org/jira/browse/HUDI-4752?jql=project%20%3D%20HUDI%20and%20labels%20%3D%20new-to-hudi%20and%20statusCategory%20%20!%3D%20done). It's not up-to-date though, as in we have not deliberately gone through all issues to add this label. But it can be somewhere to start with. I'd also suggest go through https://hudi.apache.org/contribute/how-to-contribute and other related pages. Please provide feedback if you have further questions on these guides. cc @bhasudha \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247465847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247472941","html_url":"https://github.com/apache/hudi/issues/6610#issuecomment-1247472941","issue_url":"https://api.github.com/repos/apache/hudi/issues/6610","id":1247472941,"node_id":"IC_kwDOBI7nWM5KWu0t","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T01:45:28Z","updated_at":"2022-09-15T01:45:28Z","author_association":"MEMBER","body":"is this a spark streaming job you're running ? does it scale accordingly when backfill traffic spiked up? the OOM also hints that you may need tune spark configs properly, like spark memory and spark memory.storage.fraction to give more execution memory.\r\nLooks like order of records does not matter here since you pump them into the same topic. Why not start a batch job just for backfill? that's how people usually run backfill jobs.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247472941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247480389","html_url":"https://github.com/apache/hudi/pull/6608#issuecomment-1247480389","issue_url":"https://api.github.com/repos/apache/hudi/issues/6608","id":1247480389,"node_id":"IC_kwDOBI7nWM5KWwpF","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T02:00:18Z","updated_at":"2022-09-15T02:00:18Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"74ab4e17c851a4d7a910269b5e36e52880321ba8\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11348\",\n    \"triggerID\" : \"74ab4e17c851a4d7a910269b5e36e52880321ba8\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 74ab4e17c851a4d7a910269b5e36e52880321ba8 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11348) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247480389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247480519","html_url":"https://github.com/apache/hudi/pull/6673#issuecomment-1247480519","issue_url":"https://api.github.com/repos/apache/hudi/issues/6673","id":1247480519,"node_id":"IC_kwDOBI7nWM5KWwrH","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T02:00:37Z","updated_at":"2022-09-15T02:00:37Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"d549379aa13fdd32255ab4b47b184ae98014d44f\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11366\",\n    \"triggerID\" : \"d549379aa13fdd32255ab4b47b184ae98014d44f\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d549379aa13fdd32255ab4b47b184ae98014d44f Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11366) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247480519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247491717","html_url":"https://github.com/apache/hudi/pull/4676#issuecomment-1247491717","issue_url":"https://api.github.com/repos/apache/hudi/issues/4676","id":1247491717,"node_id":"IC_kwDOBI7nWM5KWzaF","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T02:20:38Z","updated_at":"2022-09-15T02:20:38Z","author_association":"CONTRIBUTOR","body":"Thanks for the work, i have reviewed and write a patch:\r\n[3304.patch.zip](https://github.com/apache/hudi/files/9571179/3304.patch.zip)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247491717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247494876","html_url":"https://github.com/apache/hudi/issues/6659#issuecomment-1247494876","issue_url":"https://api.github.com/repos/apache/hudi/issues/6659","id":1247494876,"node_id":"IC_kwDOBI7nWM5KW0Lc","user":{"login":"guanlisheng","id":721973,"node_id":"MDQ6VXNlcjcyMTk3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/721973?v=4","gravatar_id":"","url":"https://api.github.com/users/guanlisheng","html_url":"https://github.com/guanlisheng","followers_url":"https://api.github.com/users/guanlisheng/followers","following_url":"https://api.github.com/users/guanlisheng/following{/other_user}","gists_url":"https://api.github.com/users/guanlisheng/gists{/gist_id}","starred_url":"https://api.github.com/users/guanlisheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guanlisheng/subscriptions","organizations_url":"https://api.github.com/users/guanlisheng/orgs","repos_url":"https://api.github.com/users/guanlisheng/repos","events_url":"https://api.github.com/users/guanlisheng/events{/privacy}","received_events_url":"https://api.github.com/users/guanlisheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T02:26:05Z","updated_at":"2022-09-15T02:26:05Z","author_association":"NONE","body":"Hey @xushiyan , \r\nit is 0.9.0.\r\nafter further debugging with the 0.9.0 bundle, I suspect it is related to #6007. \r\nhence I am waiting for 0.11.0 on EMR 5.x and will also try on the non-partitioned table. \r\n\r\nthe workaround now is to unset the `spark.sql.sources.provider` with HIVE SQL..","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247494876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247515534","html_url":"https://github.com/apache/hudi/pull/6634#issuecomment-1247515534","issue_url":"https://api.github.com/repos/apache/hudi/issues/6634","id":1247515534,"node_id":"IC_kwDOBI7nWM5KW5OO","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T02:50:43Z","updated_at":"2022-09-15T03:00:28Z","author_association":"CONTRIBUTOR","body":"Hi @danny0405 please help me review again, seems ok in the last ci test.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247515534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247530055","html_url":"https://github.com/apache/hudi/pull/4676#issuecomment-1247530055","issue_url":"https://api.github.com/repos/apache/hudi/issues/4676","id":1247530055,"node_id":"IC_kwDOBI7nWM5KW8xH","user":{"login":"fengjian428","id":4403474,"node_id":"MDQ6VXNlcjQ0MDM0NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4403474?v=4","gravatar_id":"","url":"https://api.github.com/users/fengjian428","html_url":"https://github.com/fengjian428","followers_url":"https://api.github.com/users/fengjian428/followers","following_url":"https://api.github.com/users/fengjian428/following{/other_user}","gists_url":"https://api.github.com/users/fengjian428/gists{/gist_id}","starred_url":"https://api.github.com/users/fengjian428/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fengjian428/subscriptions","organizations_url":"https://api.github.com/users/fengjian428/orgs","repos_url":"https://api.github.com/users/fengjian428/repos","events_url":"https://api.github.com/users/fengjian428/events{/privacy}","received_events_url":"https://api.github.com/users/fengjian428/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T03:18:13Z","updated_at":"2022-09-15T03:18:13Z","author_association":"CONTRIBUTOR","body":"> Thanks for the work, i have reviewed and write a patch: [3304.patch.zip](https://github.com/apache/hudi/files/9571179/3304.patch.zip)\r\n\r\nThanks, @danny0405  applied your patch","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247530055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247530533","html_url":"https://github.com/apache/hudi/pull/6668#issuecomment-1247530533","issue_url":"https://api.github.com/repos/apache/hudi/issues/6668","id":1247530533,"node_id":"IC_kwDOBI7nWM5KW84l","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T03:19:12Z","updated_at":"2022-09-15T03:19:12Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247530533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247545755","html_url":"https://github.com/apache/hudi/issues/6596#issuecomment-1247545755","issue_url":"https://api.github.com/repos/apache/hudi/issues/6596","id":1247545755,"node_id":"IC_kwDOBI7nWM5KXAmb","user":{"login":"zhengyuan-cn","id":6375437,"node_id":"MDQ6VXNlcjYzNzU0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/6375437?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengyuan-cn","html_url":"https://github.com/zhengyuan-cn","followers_url":"https://api.github.com/users/zhengyuan-cn/followers","following_url":"https://api.github.com/users/zhengyuan-cn/following{/other_user}","gists_url":"https://api.github.com/users/zhengyuan-cn/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengyuan-cn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengyuan-cn/subscriptions","organizations_url":"https://api.github.com/users/zhengyuan-cn/orgs","repos_url":"https://api.github.com/users/zhengyuan-cn/repos","events_url":"https://api.github.com/users/zhengyuan-cn/events{/privacy}","received_events_url":"https://api.github.com/users/zhengyuan-cn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T03:46:57Z","updated_at":"2022-09-15T03:46:57Z","author_association":"NONE","body":"> > I replaced impala hudi dependency jar (hudi-common-0.5.0-incubating.jar, hudi-hadoop-mr-0.5.0-incubating.jar) with (hudi-common-0.12.0.jar, hudi-hadoop-mr-0.12.0.jar),issues still.\r\n> \r\n> > ENV: impala4.0+hive3.1.1 with hudi 0.11 is correct.\r\n> \r\n> @zhengyuan-cn do you mean you replaced `hudi-*-0.5.0` with `hudi-*-0.11.0` and it worked?\r\n\r\nNO,  in env( impala4.0+hive3.1.1 with hudi 0.11) it worked, and  result is correct.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247545755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247551903","html_url":"https://github.com/apache/hudi/pull/6668#issuecomment-1247551903","issue_url":"https://api.github.com/repos/apache/hudi/issues/6668","id":1247551903,"node_id":"IC_kwDOBI7nWM5KXCGf","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T04:00:16Z","updated_at":"2022-09-15T04:00:16Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247551903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247552005","html_url":"https://github.com/apache/hudi/pull/6668#issuecomment-1247552005","issue_url":"https://api.github.com/repos/apache/hudi/issues/6668","id":1247552005,"node_id":"IC_kwDOBI7nWM5KXCIF","user":{"login":"Zouxxyy","id":37108074,"node_id":"MDQ6VXNlcjM3MTA4MDc0","avatar_url":"https://avatars.githubusercontent.com/u/37108074?v=4","gravatar_id":"","url":"https://api.github.com/users/Zouxxyy","html_url":"https://github.com/Zouxxyy","followers_url":"https://api.github.com/users/Zouxxyy/followers","following_url":"https://api.github.com/users/Zouxxyy/following{/other_user}","gists_url":"https://api.github.com/users/Zouxxyy/gists{/gist_id}","starred_url":"https://api.github.com/users/Zouxxyy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zouxxyy/subscriptions","organizations_url":"https://api.github.com/users/Zouxxyy/orgs","repos_url":"https://api.github.com/users/Zouxxyy/repos","events_url":"https://api.github.com/users/Zouxxyy/events{/privacy}","received_events_url":"https://api.github.com/users/Zouxxyy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T04:00:30Z","updated_at":"2022-09-15T04:00:30Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247552005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247585982","html_url":"https://github.com/apache/hudi/pull/6270#issuecomment-1247585982","issue_url":"https://api.github.com/repos/apache/hudi/issues/6270","id":1247585982,"node_id":"IC_kwDOBI7nWM5KXKa-","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T05:04:59Z","updated_at":"2022-09-15T05:04:59Z","author_association":"CONTRIBUTOR","body":"CI is green.\r\n<img width=\"1489\" alt=\"Screen Shot 2022-09-14 at 22 04 17\" src=\"https://user-images.githubusercontent.com/2497195/190318997-d8438ceb-c0c9-457b-9fbf-19c26fb01e0a.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247585982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247673437","html_url":"https://github.com/apache/hudi/pull/6384#issuecomment-1247673437","issue_url":"https://api.github.com/repos/apache/hudi/issues/6384","id":1247673437,"node_id":"IC_kwDOBI7nWM5KXfxd","user":{"login":"ThinkerLei","id":47049042,"node_id":"MDQ6VXNlcjQ3MDQ5MDQy","avatar_url":"https://avatars.githubusercontent.com/u/47049042?v=4","gravatar_id":"","url":"https://api.github.com/users/ThinkerLei","html_url":"https://github.com/ThinkerLei","followers_url":"https://api.github.com/users/ThinkerLei/followers","following_url":"https://api.github.com/users/ThinkerLei/following{/other_user}","gists_url":"https://api.github.com/users/ThinkerLei/gists{/gist_id}","starred_url":"https://api.github.com/users/ThinkerLei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ThinkerLei/subscriptions","organizations_url":"https://api.github.com/users/ThinkerLei/orgs","repos_url":"https://api.github.com/users/ThinkerLei/repos","events_url":"https://api.github.com/users/ThinkerLei/events{/privacy}","received_events_url":"https://api.github.com/users/ThinkerLei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T07:08:40Z","updated_at":"2022-09-15T07:08:40Z","author_association":"CONTRIBUTOR","body":"@codope  Thank you so much for your comments. I will work for this soon. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247673437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247696507","html_url":"https://github.com/apache/hudi/pull/6634#issuecomment-1247696507","issue_url":"https://api.github.com/repos/apache/hudi/issues/6634","id":1247696507,"node_id":"IC_kwDOBI7nWM5KXlZ7","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T07:32:51Z","updated_at":"2022-09-15T07:32:51Z","author_association":"CONTRIBUTOR","body":"The CI shows that `TestSavepointsProcedure#Test Call rollback_to_savepoint Procedure` is still failing.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247696507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247710923","html_url":"https://github.com/apache/hudi/issues/4784#issuecomment-1247710923","issue_url":"https://api.github.com/repos/apache/hudi/issues/4784","id":1247710923,"node_id":"IC_kwDOBI7nWM5KXo7L","user":{"login":"yesemsanthoshkumar","id":8852302,"node_id":"MDQ6VXNlcjg4NTIzMDI=","avatar_url":"https://avatars.githubusercontent.com/u/8852302?v=4","gravatar_id":"","url":"https://api.github.com/users/yesemsanthoshkumar","html_url":"https://github.com/yesemsanthoshkumar","followers_url":"https://api.github.com/users/yesemsanthoshkumar/followers","following_url":"https://api.github.com/users/yesemsanthoshkumar/following{/other_user}","gists_url":"https://api.github.com/users/yesemsanthoshkumar/gists{/gist_id}","starred_url":"https://api.github.com/users/yesemsanthoshkumar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yesemsanthoshkumar/subscriptions","organizations_url":"https://api.github.com/users/yesemsanthoshkumar/orgs","repos_url":"https://api.github.com/users/yesemsanthoshkumar/repos","events_url":"https://api.github.com/users/yesemsanthoshkumar/events{/privacy}","received_events_url":"https://api.github.com/users/yesemsanthoshkumar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T07:46:27Z","updated_at":"2022-09-15T07:46:27Z","author_association":"CONTRIBUTOR","body":"@nsivabalan and @codope I haven't tested it on 0.11. I'll close this issue for now and can be reopened when I or anyone encounter this again. Thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247710923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247722560","html_url":"https://github.com/apache/hudi/pull/6602#issuecomment-1247722560","issue_url":"https://api.github.com/repos/apache/hudi/issues/6602","id":1247722560,"node_id":"IC_kwDOBI7nWM5KXrxA","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T07:56:44Z","updated_at":"2022-09-15T07:56:44Z","author_association":"CONTRIBUTOR","body":"@yihua Can you help to add a test case here, wanna merge it first to make it into 0.12.1.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247722560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247733905","html_url":"https://github.com/apache/hudi/pull/6634#issuecomment-1247733905","issue_url":"https://api.github.com/repos/apache/hudi/issues/6634","id":1247733905,"node_id":"IC_kwDOBI7nWM5KXuiR","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:05:39Z","updated_at":"2022-09-15T08:05:39Z","author_association":"CONTRIBUTOR","body":"> TestSavepointsProcedure\r\n\r\nHi @danny0405  seems the failed ci record is triggered in two days ago, the failed test is：\r\n- Test Create Hoodie Table With Options *** FAILED ***\r\n  Expected \"....apache.hudi.keygen.[Complex]KeyGenerator\", but got \"....apache.hudi.keygen.[Simple]KeyGenerator\" (TestCreateTable.scala:139)\r\nTotal number of tests run: 186\r\nSuites: completed 46, aborted 0\r\nTests: succeeded 185, failed 1, canceled 0, ignored 0, pending 0\r\n\r\nSeems not the recent one, the failed one is what I have corrected yesterday.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247733905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247742308","html_url":"https://github.com/apache/hudi/pull/6677#issuecomment-1247742308","issue_url":"https://api.github.com/repos/apache/hudi/issues/6677","id":1247742308,"node_id":"IC_kwDOBI7nWM5KXwlk","user":{"login":"huberylee","id":11664307,"node_id":"MDQ6VXNlcjExNjY0MzA3","avatar_url":"https://avatars.githubusercontent.com/u/11664307?v=4","gravatar_id":"","url":"https://api.github.com/users/huberylee","html_url":"https://github.com/huberylee","followers_url":"https://api.github.com/users/huberylee/followers","following_url":"https://api.github.com/users/huberylee/following{/other_user}","gists_url":"https://api.github.com/users/huberylee/gists{/gist_id}","starred_url":"https://api.github.com/users/huberylee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huberylee/subscriptions","organizations_url":"https://api.github.com/users/huberylee/orgs","repos_url":"https://api.github.com/users/huberylee/repos","events_url":"https://api.github.com/users/huberylee/events{/privacy}","received_events_url":"https://api.github.com/users/huberylee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:12:27Z","updated_at":"2022-09-15T08:12:27Z","author_association":"CONTRIBUTOR","body":"@hudi-bot run azure","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247742308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247771867","html_url":"https://github.com/apache/hudi/pull/6634#issuecomment-1247771867","issue_url":"https://api.github.com/repos/apache/hudi/issues/6634","id":1247771867,"node_id":"IC_kwDOBI7nWM5KX3zb","user":{"login":"danny0405","id":7644508,"node_id":"MDQ6VXNlcjc2NDQ1MDg=","avatar_url":"https://avatars.githubusercontent.com/u/7644508?v=4","gravatar_id":"","url":"https://api.github.com/users/danny0405","html_url":"https://github.com/danny0405","followers_url":"https://api.github.com/users/danny0405/followers","following_url":"https://api.github.com/users/danny0405/following{/other_user}","gists_url":"https://api.github.com/users/danny0405/gists{/gist_id}","starred_url":"https://api.github.com/users/danny0405/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danny0405/subscriptions","organizations_url":"https://api.github.com/users/danny0405/orgs","repos_url":"https://api.github.com/users/danny0405/repos","events_url":"https://api.github.com/users/danny0405/events{/privacy}","received_events_url":"https://api.github.com/users/danny0405/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:36:04Z","updated_at":"2022-09-15T08:36:04Z","author_association":"CONTRIBUTOR","body":"Can you rebase with the latest master code and force push to re-trigger the tests.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247771867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247777136","html_url":"https://github.com/apache/hudi/issues/6610#issuecomment-1247777136","issue_url":"https://api.github.com/repos/apache/hudi/issues/6610","id":1247777136,"node_id":"IC_kwDOBI7nWM5KX5Fw","user":{"login":"gunjdesai","id":7438622,"node_id":"MDQ6VXNlcjc0Mzg2MjI=","avatar_url":"https://avatars.githubusercontent.com/u/7438622?v=4","gravatar_id":"","url":"https://api.github.com/users/gunjdesai","html_url":"https://github.com/gunjdesai","followers_url":"https://api.github.com/users/gunjdesai/followers","following_url":"https://api.github.com/users/gunjdesai/following{/other_user}","gists_url":"https://api.github.com/users/gunjdesai/gists{/gist_id}","starred_url":"https://api.github.com/users/gunjdesai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gunjdesai/subscriptions","organizations_url":"https://api.github.com/users/gunjdesai/orgs","repos_url":"https://api.github.com/users/gunjdesai/repos","events_url":"https://api.github.com/users/gunjdesai/events{/privacy}","received_events_url":"https://api.github.com/users/gunjdesai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:40:08Z","updated_at":"2022-09-15T08:40:08Z","author_association":"NONE","body":"@xushiyan yes this is a spark structured streaming job. So we are running the job on K8S Spot instances, there are cases where we face driver eviction, hence we can't use multi-writer approach as it can mess with the locks.\r\nYes the job does scale based on backfill traffic going up.\r\n\r\nActually the idea was not to stop the real-time pipeline when doing backfill, but i think our setup would not allow us to do that. \r\n\r\nOn further reading, I was thinking about stopping the real-time pipeline, doing a **_bulk_insert_** for the table and then starting the real-time pipeline again in **_upsert_** mode\r\nWould you say this could be a good approach ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247777136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247786946","html_url":"https://github.com/apache/hudi/pull/5071#issuecomment-1247786946","issue_url":"https://api.github.com/repos/apache/hudi/issues/5071","id":1247786946,"node_id":"IC_kwDOBI7nWM5KX7fC","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T08:47:45Z","updated_at":"2022-09-15T08:47:45Z","author_association":"CONTRIBUTOR","body":"@yihua yes, I plan to complete it this week. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247786946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247810081","html_url":"https://github.com/apache/hudi/issues/6606#issuecomment-1247810081","issue_url":"https://api.github.com/repos/apache/hudi/issues/6606","id":1247810081,"node_id":"IC_kwDOBI7nWM5KYBIh","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:06:04Z","updated_at":"2022-09-15T10:19:08Z","author_association":"NONE","body":"We have solved above issue by automatic creation of Dynamodb table and table is created with partition key (key)\r\nWe could able to setup without aws keys.\r\n\r\nNow it is failing with **java.util.ConcurrentModificationException: Cannot resolve conflicts for overlapping writes.**\r\n\r\n**Details :**\r\nWith multi writer setup, we are running two EMR clusters which upserts into same hudi table after acquiring the lock with one DyanmoDB table.\r\nBut application is failing with \r\njava.util.ConcurrentModificationException: Cannot resolve conflicts for overlapping writes.\r\nBelow are the Hudi Config params\r\n  DataSourceWriteOptions.TABLE_TYPE.key() -> DataSourceWriteOptions.MOR_TABLE_TYPE_OPT_VAL,\r\n    DataSourceWriteOptions.RECORDKEY_FIELD.key() -> \"Id\",\r\n    DataSourceWriteOptions.PARTITIONPATH_FIELD.key() -> \"coll\",\r\n    DataSourceWriteOptions.PRECOMBINE_FIELD.key() -> \"operationTime\",\r\n    //TODO: Sync with glue. Dong has working.\r\n    DataSourceWriteOptions.HIVE_SYNC_ENABLED.key() -> \"true\",\r\n    DataSourceWriteOptions.HIVE_PARTITION_FIELDS.key() -> \"coll\",\r\n    DataSourceWriteOptions.HIVE_PARTITION_EXTRACTOR_CLASS.key() -> classOf[MultiPartKeysValueExtractor].getName,\r\n    DataSourceWriteOptions.HIVE_SYNC_MODE.key() -> \"hms\",\r\n    DataSourceWriteOptions.HIVE_USE_JDBC.key() -> \"false\",\r\n    HoodieCompactionConfig.INLINE_COMPACT_TRIGGER_STRATEGY.key() -> CompactionTriggerStrategy.TIME_ELAPSED.name,\r\n    HoodieCompactionConfig.INLINE_COMPACT_TIME_DELTA_SECONDS.key() -> String.valueOf(60 * 60),  \r\n    HoodieCompactionConfig.CLEANER_COMMITS_RETAINED.key() -> \"2184\", \r\n    HoodieCompactionConfig.ASYNC_CLEAN.key() -> \"false\", \r\n    HoodieCompactionConfig.INLINE_COMPACT.key() -> \"true\",\r\n    HoodieCompactionConfig.MIN_COMMITS_TO_KEEP.key() -> \"2185\",\r\n    HoodieCompactionConfig.MAX_COMMITS_TO_KEEP.key() -> \"3494\",\r\n    HoodieMetricsConfig.TURN_METRICS_ON.key() -> \"true\",\r\n    HoodieMetricsConfig.METRICS_REPORTER_TYPE_VALUE.key() -> MetricsReporterType.DATADOG.name(),\r\n    HoodieMetricsDatadogConfig.API_SITE_VALUE.key() -> \"US\",\r\n    HoodieMetricsDatadogConfig.METRIC_PREFIX_VALUE.key() -> \"tacticalnovusingest.qa.hudi\",\r\n    HoodieMetricsDatadogConfig.API_KEY_SUPPLIER.key() -> \"XXXX\",\r\n    HoodieMetadataConfig.ENABLE.key() -> \"true\",\r\n    HoodieMetadataConfig.CLEANER_COMMITS_RETAINED.key() -> \"2184\",\r\n    HoodieMetadataConfig.MIN_COMMITS_TO_KEEP.key() -> \"2185\",\r\n    HoodieMetadataConfig.MAX_COMMITS_TO_KEEP.key() -> \"3494\",\r\n    HoodieWriteConfig.ROLLBACK_USING_MARKERS_ENABLE.key() -> \"false\",\r\n    HoodieWriteConfig.WRITE_CONCURRENCY_MODE.key()->\"optimistic_concurrency_control\",\r\n    HoodieCompactionConfig.FAILED_WRITES_CLEANER_POLICY.key()->\"LAZY\",\r\n    HoodieLockConfig.LOCK_ACQUIRE_NUM_RETRIES.key()->\"3000\",\r\n    HoodieLockConfig.LOCK_ACQUIRE_CLIENT_NUM_RETRIES.key()->\"5\",\r\n    HoodieLockConfig.LOCK_PROVIDER_CLASS_NAME.key()->\"org.apache.hudi.aws.transaction.lock.DynamoDBBasedLockProvider\",\r\n    DynamoDbBasedLockConfig.DYNAMODB_LOCK_TABLE_NAME.key()->\"XXXX\", \r\n    DynamoDbBasedLockConfig.DYNAMODB_LOCK_PARTITION_KEY.key()->\"lock\",\r\n    DynamoDbBasedLockConfig.DYNAMODB_LOCK_REGION.key()->\"us-east-1\",\r\n    DynamoDbBasedLockConfig.DYNAMODB_ENDPOINT_URL.key()->  RegionUtils.getRegion(\"us-east-1\").getServiceEndpoint(AmazonDynamoDB.ENDPOINT_PREFIX) //\"dynamodb.us-east-1.amazonaws.com\"\r\n\r\nPlease help on this.\r\nThanks\r\n\r\n@nsivabalan @xushiyan","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247810081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247812774","html_url":"https://github.com/apache/hudi/issues/6606#issuecomment-1247812774","issue_url":"https://api.github.com/repos/apache/hudi/issues/6606","id":1247812774,"node_id":"IC_kwDOBI7nWM5KYBym","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:08:10Z","updated_at":"2022-09-15T09:08:10Z","author_association":"NONE","body":"@nsivabalan Pls respond on this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247812774/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247828014","html_url":"https://github.com/apache/hudi/issues/5020#issuecomment-1247828014","issue_url":"https://api.github.com/repos/apache/hudi/issues/5020","id":1247828014,"node_id":"IC_kwDOBI7nWM5KYFgu","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:21:12Z","updated_at":"2022-09-15T09:21:12Z","author_association":"CONTRIBUTOR","body":"I guess https://github.com/apache/hudi/pull/5406 does not address the issue discussed here. As per this comment by Danny - https://github.com/apache/hudi/issues/5020#issuecomment-1121853297, C10 is affecting some file slice written in C1 and cleaner cleans the V1 of that file slice. \r\n\r\nIf the commits to retain is set to 6 (as in the first comment in this issue), C1 is not getting affected by the fix in https://github.com/apache/hudi/pull/5406. In that PR, we are more concerned about if C4 should be cleaned or not. The previous commits will anyways be cleaned as per the logic. Using KEEP_LATEST_FILE_VERSIONS seems to be a good fix for the issue reported though. @nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247828014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247831339","html_url":"https://github.com/apache/hudi/pull/1650#issuecomment-1247831339","issue_url":"https://api.github.com/repos/apache/hudi/issues/1650","id":1247831339,"node_id":"IC_kwDOBI7nWM5KYGUr","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:23:59Z","updated_at":"2022-09-15T09:23:59Z","author_association":"CONTRIBUTOR","body":"@yihua I am still interested in completing this PR but I am not getting reviews and hence did not spend time in resolving the conflicts here. If you can help me review this, I can drive this to completion.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247831339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247832138","html_url":"https://github.com/apache/hudi/pull/6634#issuecomment-1247832138","issue_url":"https://api.github.com/repos/apache/hudi/issues/6634","id":1247832138,"node_id":"IC_kwDOBI7nWM5KYGhK","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:24:42Z","updated_at":"2022-09-15T09:24:42Z","author_association":"CONTRIBUTOR","body":"> Can you rebase with the latest master code and force push to re-trigger the tests.\r\n\r\nOk.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247832138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247833911","html_url":"https://github.com/apache/hudi/issues/5551#issuecomment-1247833911","issue_url":"https://api.github.com/repos/apache/hudi/issues/5551","id":1247833911,"node_id":"IC_kwDOBI7nWM5KYG83","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:26:15Z","updated_at":"2022-09-15T09:26:15Z","author_association":"CONTRIBUTOR","body":"Closing this due to inactivity. Feel free to reopen if you are still facing issues @nleena123 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247833911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247835150","html_url":"https://github.com/apache/hudi/issues/5539#issuecomment-1247835150","issue_url":"https://api.github.com/repos/apache/hudi/issues/5539","id":1247835150,"node_id":"IC_kwDOBI7nWM5KYHQO","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:27:23Z","updated_at":"2022-09-15T09:27:23Z","author_association":"CONTRIBUTOR","body":"@nleena123 Any updates here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247835150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247841811","html_url":"https://github.com/apache/hudi/issues/6422#issuecomment-1247841811","issue_url":"https://api.github.com/repos/apache/hudi/issues/6422","id":1247841811,"node_id":"IC_kwDOBI7nWM5KYI4T","user":{"login":"pratyakshsharma","id":30863489,"node_id":"MDQ6VXNlcjMwODYzNDg5","avatar_url":"https://avatars.githubusercontent.com/u/30863489?v=4","gravatar_id":"","url":"https://api.github.com/users/pratyakshsharma","html_url":"https://github.com/pratyakshsharma","followers_url":"https://api.github.com/users/pratyakshsharma/followers","following_url":"https://api.github.com/users/pratyakshsharma/following{/other_user}","gists_url":"https://api.github.com/users/pratyakshsharma/gists{/gist_id}","starred_url":"https://api.github.com/users/pratyakshsharma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pratyakshsharma/subscriptions","organizations_url":"https://api.github.com/users/pratyakshsharma/orgs","repos_url":"https://api.github.com/users/pratyakshsharma/repos","events_url":"https://api.github.com/users/pratyakshsharma/events{/privacy}","received_events_url":"https://api.github.com/users/pratyakshsharma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:32:57Z","updated_at":"2022-09-15T09:32:57Z","author_association":"CONTRIBUTOR","body":"Yeah this can be closed. Thank you for the support.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247841811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247863914","html_url":"https://github.com/apache/hudi/issues/4656#issuecomment-1247863914","issue_url":"https://api.github.com/repos/apache/hudi/issues/4656","id":1247863914,"node_id":"IC_kwDOBI7nWM5KYORq","user":{"login":"ganczarek","id":16733667,"node_id":"MDQ6VXNlcjE2NzMzNjY3","avatar_url":"https://avatars.githubusercontent.com/u/16733667?v=4","gravatar_id":"","url":"https://api.github.com/users/ganczarek","html_url":"https://github.com/ganczarek","followers_url":"https://api.github.com/users/ganczarek/followers","following_url":"https://api.github.com/users/ganczarek/following{/other_user}","gists_url":"https://api.github.com/users/ganczarek/gists{/gist_id}","starred_url":"https://api.github.com/users/ganczarek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ganczarek/subscriptions","organizations_url":"https://api.github.com/users/ganczarek/orgs","repos_url":"https://api.github.com/users/ganczarek/repos","events_url":"https://api.github.com/users/ganczarek/events{/privacy}","received_events_url":"https://api.github.com/users/ganczarek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T09:51:14Z","updated_at":"2022-09-15T09:51:14Z","author_association":"NONE","body":"@nsivabalan I'm sorry, but I no longer have a setup to test it the same way as I did back in January. I will update to Hudi v0.12 and enable metadata table to see if there are performance improvements, but I won't test it with a table with 300k partitions.\r\n\r\nI think we can close this ticket. If I see any performance issues with the latest version of Hudi, then I will create a new ticket.\r\n\r\nThank you for your help and assistance.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247863914/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247885073","html_url":"https://github.com/apache/hudi/pull/6600#issuecomment-1247885073","issue_url":"https://api.github.com/repos/apache/hudi/issues/6600","id":1247885073,"node_id":"IC_kwDOBI7nWM5KYTcR","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T10:08:33Z","updated_at":"2022-09-15T10:08:33Z","author_association":"CONTRIBUTOR","body":"Hi @codope And @YuweiXiao Really appreciate for your efforts here! \r\nAll comments are addressed. PTAL!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247885073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247891091","html_url":"https://github.com/apache/hudi/pull/6600#issuecomment-1247891091","issue_url":"https://api.github.com/repos/apache/hudi/issues/6600","id":1247891091,"node_id":"IC_kwDOBI7nWM5KYU6T","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T10:14:05Z","updated_at":"2022-09-15T10:15:46Z","author_association":"CONTRIBUTOR","body":"> Could we also mention the need of obfuscation of enterprise informations such ip address, hoatname, bucket, tables or columns names and so on ?\r\n\r\nEmm these info looks like pretty sensitive. I am not sure we can collect these info in public report :<","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247891091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247917674","html_url":"https://github.com/apache/hudi/pull/5416#issuecomment-1247917674","issue_url":"https://api.github.com/repos/apache/hudi/issues/5416","id":1247917674,"node_id":"IC_kwDOBI7nWM5KYbZq","user":{"login":"zhangyue19921010","id":69956021,"node_id":"MDQ6VXNlcjY5OTU2MDIx","avatar_url":"https://avatars.githubusercontent.com/u/69956021?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangyue19921010","html_url":"https://github.com/zhangyue19921010","followers_url":"https://api.github.com/users/zhangyue19921010/followers","following_url":"https://api.github.com/users/zhangyue19921010/following{/other_user}","gists_url":"https://api.github.com/users/zhangyue19921010/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangyue19921010/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangyue19921010/subscriptions","organizations_url":"https://api.github.com/users/zhangyue19921010/orgs","repos_url":"https://api.github.com/users/zhangyue19921010/repos","events_url":"https://api.github.com/users/zhangyue19921010/events{/privacy}","received_events_url":"https://api.github.com/users/zhangyue19921010/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T10:38:20Z","updated_at":"2022-09-15T10:38:20Z","author_association":"CONTRIBUTOR","body":"> Thanks for running the benchmarks @zhangyue19921010!\r\n> \r\n> Please sum them up in a table so that they are easier to digest and compare. I will prioritize reviewing this PR this week.\r\n\r\nUpdated!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247917674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247920707","html_url":"https://github.com/apache/hudi/pull/6678#issuecomment-1247920707","issue_url":"https://api.github.com/repos/apache/hudi/issues/6678","id":1247920707,"node_id":"IC_kwDOBI7nWM5KYcJD","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T10:41:10Z","updated_at":"2022-09-15T10:41:10Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"8fee8139ce7ecf9271c6c40cd414c60a03d26eba\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11377\",\n    \"triggerID\" : \"8fee8139ce7ecf9271c6c40cd414c60a03d26eba\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 8fee8139ce7ecf9271c6c40cd414c60a03d26eba Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11377) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247920707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247962307","html_url":"https://github.com/apache/hudi/issues/6606#issuecomment-1247962307","issue_url":"https://api.github.com/repos/apache/hudi/issues/6606","id":1247962307,"node_id":"IC_kwDOBI7nWM5KYmTD","user":{"login":"koochiswathiTR","id":53506762,"node_id":"MDQ6VXNlcjUzNTA2NzYy","avatar_url":"https://avatars.githubusercontent.com/u/53506762?v=4","gravatar_id":"","url":"https://api.github.com/users/koochiswathiTR","html_url":"https://github.com/koochiswathiTR","followers_url":"https://api.github.com/users/koochiswathiTR/followers","following_url":"https://api.github.com/users/koochiswathiTR/following{/other_user}","gists_url":"https://api.github.com/users/koochiswathiTR/gists{/gist_id}","starred_url":"https://api.github.com/users/koochiswathiTR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koochiswathiTR/subscriptions","organizations_url":"https://api.github.com/users/koochiswathiTR/orgs","repos_url":"https://api.github.com/users/koochiswathiTR/repos","events_url":"https://api.github.com/users/koochiswathiTR/events{/privacy}","received_events_url":"https://api.github.com/users/koochiswathiTR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T11:18:41Z","updated_at":"2022-09-15T11:18:41Z","author_association":"NONE","body":"@zhedoubushishi\r\n@nsivabalan\r\n@xushiyan\r\n\r\nIt will be great if we hear from you soon, \r\nComplete Stacktrace :\r\n\"java.util.ConcurrentModificationException: Cannot resolve conflicts for overlapping writes\",\r\n\"at org.apache.hudi.client.transaction.SimpleConcurrentFileWritesConflictResolutionStrategy.resolveConflict(SimpleConcurrentFileWritesConflictResolutionStrategy.java:102)\r\n\\nat org.apache.hudi.client.utils.TransactionUtils.lambda$resolveWriteConflictIfAny$0(TransactionUtils.java:85)\r\n\\nat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\\nat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)\r\n\\nat java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:742)\\nat java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)\r\n\\nat org.apache.hudi.client.utils.TransactionUtils.resolveWriteConflictIfAny(TransactionUtils.java:79)\r\n\\nat org.apache.hudi.client.SparkRDDWriteClient.preCommit(SparkRDDWriteClient.java:475)\r\n\\nat org.apache.hudi.client.BaseHoodieWriteClient.commitStats(BaseHoodieWriteClient.java:233)\r\n\\nat org.apache.hudi.client.SparkRDDWriteClient.commit(SparkRDDWriteClient.java:122)\r\n\\nat org.apache.hudi.HoodieSparkSqlWriter$.commitAndPerformPostOperations(HoodieSparkSqlWriter.scala:678)\r\n\\nat org.apache.hudi.HoodieSparkSqlWriter$.write(HoodieSparkSqlWriter.scala:313)\\\r\nnat org.apache.hudi.DefaultSource.createRelation(DefaultSource.scala:165)\r\n\\nat org.apache.spark.sql.execution.datasources.SaveIntoDataSourceCommand.run(SaveIntoDataSourceCommand.scala:45)\\\r\nnat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult$lzycompute(commands.scala:75)\r\n\\nat org.apache.spark.sql.execution.command.ExecutedCommandExec.sideEffectResult(commands.scala:73)\r\n\\nat org.apache.spark.sql.execution.command.ExecutedCommandExec.executeCollect(commands.scala:84)\r\n\\nat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.$anonfun$applyOrElse$1(QueryExecution.scala:115)\r\n\\nat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\\nat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\\nat org.apache.spark.sql.execution.SQLExecution$.executeQuery$1(SQLExecution.scala:110)\\\r\nnat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$6(SQLExecution.scala:135)\r\n\\nat org.apache.spark.sql.catalyst.QueryPlanningTracker$.withTracker(QueryPlanningTracker.scala:107)\r\n\\nat org.apache.spark.sql.execution.SQLExecution$.withTracker(SQLExecution.scala:232)\r\n\\nat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:135)\r\n\\nat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:253)\r\n\\nat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:134)\r\n\\nat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:775)\r\n\\nat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:68)\r\n\\nat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:112)\r\n\\nat org.apache.spark.sql.execution.QueryExecution$$anonfun$eagerlyExecuteCommands$1.applyOrElse(QueryExecution.scala:108)\r\n\\nat org.apache.spark.sql.catalyst.trees.TreeNode.$anonfun$transformDownWithPruning$1(TreeNode.scala:519)\r\n\\nat org.apache.spark.sql.catalyst.trees.CurrentOrigin$.withOrigin(TreeNode.scala:83)\r\n\\nat org.apache.spark.sql.catalyst.trees.TreeNode.transformDownWithPruning(TreeNode.scala:519)\r\n\\nat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.org$apache$spark$sql$catalyst$plans$logical$AnalysisHelper$$super$transformDownWithPruning(LogicalPlan.scala:30)\r\n\\nat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning(AnalysisHelper.scala:267)\r\n\\nat org.apache.spark.sql.catalyst.plans.logical.AnalysisHelper.transformDownWithPruning$(AnalysisHelper.scala:263)\\\r\nnat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\\nat org.apache.spark.sql.catalyst.plans.logical.LogicalPlan.transformDownWithPruning(LogicalPlan.scala:30)\r\n\\nat org.apache.spark.sql.catalyst.trees.TreeNode.transformDown(TreeNode.scala:495)\r\n\\nat org.apache.spark.sql.execution.QueryExecution.eagerlyExecuteCommands(QueryExecution.scala:108)\\\r\nnat org.apache.spark.sql.execution.QueryExecution.commandExecuted$lzycompute(QueryExecution.scala:95)\\n\r\nat org.apache.spark.sql.execution.QueryExecution.commandExecuted(QueryExecution.scala:93)\\n\r\nat org.apache.spark.sql.execution.QueryExecution.assertCommandExecuted(QueryExecution.scala:136)\\n\r\nat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:848)\\n\r\nat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:382)\\n\r\nat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:355)\\n\r\nat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:239)\\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247962307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247970752","html_url":"https://github.com/apache/hudi/issues/5180#issuecomment-1247970752","issue_url":"https://api.github.com/repos/apache/hudi/issues/5180","id":1247970752,"node_id":"IC_kwDOBI7nWM5KYoXA","user":{"login":"low-on-mana","id":8509512,"node_id":"MDQ6VXNlcjg1MDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/8509512?v=4","gravatar_id":"","url":"https://api.github.com/users/low-on-mana","html_url":"https://github.com/low-on-mana","followers_url":"https://api.github.com/users/low-on-mana/followers","following_url":"https://api.github.com/users/low-on-mana/following{/other_user}","gists_url":"https://api.github.com/users/low-on-mana/gists{/gist_id}","starred_url":"https://api.github.com/users/low-on-mana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/low-on-mana/subscriptions","organizations_url":"https://api.github.com/users/low-on-mana/orgs","repos_url":"https://api.github.com/users/low-on-mana/repos","events_url":"https://api.github.com/users/low-on-mana/events{/privacy}","received_events_url":"https://api.github.com/users/low-on-mana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T11:26:02Z","updated_at":"2022-09-15T11:26:02Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n\r\n\r\n> I came across this and added a unit test case in _TestOverwriteNonDefaultsWithLatestAvroPayload_ to check whether partial updates works or not by using _OverwriteNonDefaultsWithLatestAvroPayload_. It does work! JFYR below is sample UT which I used to verify the same.\r\n> \r\n> ```\r\n> @Test\r\n> public void test() throws IOException {\r\n>   Schema schema = Schema.createRecord(Arrays.asList(\r\n>           new Schema.Field(\"id\", Schema.createUnion(Schema.create(Schema.Type.STRING), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"salesordernumber\", Schema.createUnion(Schema.create(Schema.Type.STRING), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"salesorderline\", Schema.createUnion(Schema.create(Schema.Type.INT), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"tenant\", Schema.createUnion(Schema.create(Schema.Type.INT), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"martid\", Schema.createUnion(Schema.create(Schema.Type.INT), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"businessunitid\", Schema.createUnion(Schema.create(Schema.Type.INT), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"ordertakents\", Schema.createUnion(Schema.create(Schema.Type.LONG), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"orderpurpose\", Schema.createUnion(Schema.create(Schema.Type.STRING), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"ordermanagementcreatedts\", Schema.createUnion(Schema.create(Schema.Type.LONG), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"purchasecontractid\", Schema.createUnion(Schema.create(Schema.Type.INT), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"orderprocessedby\", Schema.createUnion(Schema.create(Schema.Type.STRING), Schema.create(Schema.Type.NULL)), \"\", null),\r\n>           new Schema.Field(\"test\", Schema.createUnion(Schema.create(Schema.Type.STRING), Schema.create(Schema.Type.NULL)), \"\", null)\r\n>           ));\r\n>      \r\n>   GenericRecord insert = new GenericData.Record(schema);\r\n>   insert.put(\"id\", \"5732110509405_1\");\r\n>   insert.put(\"salesordernumber\", \"5732110509405\");\r\n>   insert.put(\"ordertakents\", 1635969661000L);\r\n>   insert.put(\"test\", \"inserted\");\r\n>  \r\n>   GenericRecord upsert = new GenericData.Record(schema);\r\n>   upsert.put(\"id\", \"5732110509405_1\");\r\n>   upsert.put(\"salesorderline\", 1);\r\n>   upsert.put(\"tenant\", 1);\r\n>   upsert.put(\"martid\", 21);\r\n>   upsert.put(\"ordertakents\", 1635969661000L);\r\n>   upsert.put(\"test\", \"updated\");\r\n>  \r\n>   GenericRecord final_output = new GenericData.Record(schema);\r\n>   final_output.put(\"id\", \"5732110509405_1\");\r\n>   final_output.put(\"salesordernumber\", \"5732110509405\");\r\n>   final_output.put(\"salesorderline\", 1);\r\n>   final_output.put(\"tenant\", 1);\r\n>   final_output.put(\"martid\", 21);\r\n>   final_output.put(\"ordertakents\", 1635969661000L);\r\n>   final_output.put(\"test\", \"updated\");\r\n>  \r\n>   OverwriteNonDefaultsWithLatestAvroPayload payload2 = new OverwriteNonDefaultsWithLatestAvroPayload(upsert, 2);\r\n>   assertEquals(payload2.combineAndGetUpdateValue(insert, schema).get(), final_output);\r\n> }\r\n> ```\r\n\r\nThis class doesnt override the precombine method. \r\nSo if multiple records with same primary key come in same batch, It will pick the latest record and no merge will happen.\r\nAlso I dont see schema available in precombine method.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247970752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247975433","html_url":"https://github.com/apache/hudi/pull/6634#issuecomment-1247975433","issue_url":"https://api.github.com/repos/apache/hudi/issues/6634","id":1247975433,"node_id":"IC_kwDOBI7nWM5KYpgJ","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T11:29:57Z","updated_at":"2022-09-15T11:29:57Z","author_association":"CONTRIBUTOR","body":"Hi, @danny0405，https://dev.azure.com/apache-hudi-ci-org/apache-hudi-ci/_build/results?buildId=11379&view=results this is the latest right, seems ci will retain at least one failed record：\r\nhttps://github.com/apache/hudi/commit/81546636356aa5b224b87087bad14a1da1a06a4d Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11315)\r\nhttps://github.com/apache/hudi/commit/f32cf8515a4984c75bc26641abd3a5b042ebe372 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11379)\r\nFYI : )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1247975433/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248071289","html_url":"https://github.com/apache/hudi/pull/6634#issuecomment-1248071289","issue_url":"https://api.github.com/repos/apache/hudi/issues/6634","id":1248071289,"node_id":"IC_kwDOBI7nWM5KZA55","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T13:01:52Z","updated_at":"2022-09-15T13:01:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"1a7511e07003745ea2d0d7a802ea5bf1731bd9a4\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11251\",\n    \"triggerID\" : \"1a7511e07003745ea2d0d7a802ea5bf1731bd9a4\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"019fa62b310060a03b31afd18c159543b24ac4c0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11266\",\n    \"triggerID\" : \"019fa62b310060a03b31afd18c159543b24ac4c0\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"019fa62b310060a03b31afd18c159543b24ac4c0\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11266\",\n    \"triggerID\" : \"1244848914\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"81546636356aa5b224b87087bad14a1da1a06a4d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11315\",\n    \"triggerID\" : \"81546636356aa5b224b87087bad14a1da1a06a4d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"f9bceeec2817bcaf5680e58b44b3d948060c36cd\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11350\",\n    \"triggerID\" : \"f9bceeec2817bcaf5680e58b44b3d948060c36cd\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"81546636356aa5b224b87087bad14a1da1a06a4d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11315\",\n    \"triggerID\" : \"1246501724\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"f32cf8515a4984c75bc26641abd3a5b042ebe372\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11379\",\n    \"triggerID\" : \"f32cf8515a4984c75bc26641abd3a5b042ebe372\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* f32cf8515a4984c75bc26641abd3a5b042ebe372 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11379) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248071289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248234846","html_url":"https://github.com/apache/hudi/issues/3975#issuecomment-1248234846","issue_url":"https://api.github.com/repos/apache/hudi/issues/3975","id":1248234846,"node_id":"IC_kwDOBI7nWM5KZo1e","user":{"login":"dmenin","id":8372967,"node_id":"MDQ6VXNlcjgzNzI5Njc=","avatar_url":"https://avatars.githubusercontent.com/u/8372967?v=4","gravatar_id":"","url":"https://api.github.com/users/dmenin","html_url":"https://github.com/dmenin","followers_url":"https://api.github.com/users/dmenin/followers","following_url":"https://api.github.com/users/dmenin/following{/other_user}","gists_url":"https://api.github.com/users/dmenin/gists{/gist_id}","starred_url":"https://api.github.com/users/dmenin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmenin/subscriptions","organizations_url":"https://api.github.com/users/dmenin/orgs","repos_url":"https://api.github.com/users/dmenin/repos","events_url":"https://api.github.com/users/dmenin/events{/privacy}","received_events_url":"https://api.github.com/users/dmenin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T15:06:58Z","updated_at":"2022-09-15T15:06:58Z","author_association":"NONE","body":"I totally understand that it would be tricky to automate that logic, however, I would be fine in being responsible for submitting this list of partitions as part of the job parameters, afterall I know the data before hand. \r\nThanks,\r\nDiego  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248234846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248287122","html_url":"https://github.com/apache/hudi/issues/6626#issuecomment-1248287122","issue_url":"https://api.github.com/repos/apache/hudi/issues/6626","id":1248287122,"node_id":"IC_kwDOBI7nWM5KZ1mS","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T15:48:17Z","updated_at":"2022-09-15T15:48:25Z","author_association":"CONTRIBUTOR","body":"@xushiyan you can assign this one to myself\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248287122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248288196","html_url":"https://github.com/apache/hudi/issues/5313#issuecomment-1248288196","issue_url":"https://api.github.com/repos/apache/hudi/issues/5313","id":1248288196,"node_id":"IC_kwDOBI7nWM5KZ13E","user":{"login":"hangc0276","id":5436568,"node_id":"MDQ6VXNlcjU0MzY1Njg=","avatar_url":"https://avatars.githubusercontent.com/u/5436568?v=4","gravatar_id":"","url":"https://api.github.com/users/hangc0276","html_url":"https://github.com/hangc0276","followers_url":"https://api.github.com/users/hangc0276/followers","following_url":"https://api.github.com/users/hangc0276/following{/other_user}","gists_url":"https://api.github.com/users/hangc0276/gists{/gist_id}","starred_url":"https://api.github.com/users/hangc0276/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hangc0276/subscriptions","organizations_url":"https://api.github.com/users/hangc0276/orgs","repos_url":"https://api.github.com/users/hangc0276/repos","events_url":"https://api.github.com/users/hangc0276/events{/privacy}","received_events_url":"https://api.github.com/users/hangc0276/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T15:49:09Z","updated_at":"2022-09-15T15:49:09Z","author_association":"NONE","body":"This feature doesn't support yet, maybe we need to reopen this issue @nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248288196/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248300583","html_url":"https://github.com/apache/hudi/issues/6398#issuecomment-1248300583","issue_url":"https://api.github.com/repos/apache/hudi/issues/6398","id":1248300583,"node_id":"IC_kwDOBI7nWM5KZ44n","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T16:00:22Z","updated_at":"2022-09-15T16:01:29Z","author_association":"CONTRIBUTOR","body":"@rbtrtr To provide more info, \"hudi-default.xml\" is packaged from the HBase library (shaded and packaged in the Hudi bundle) and it is required to load the default HBase config values.  To avoid the config conflicts with other HBase libs in the classpath, Hudi repo introduces \"hbase-site.xml\" to override the values (\"hbase-site.xml\" is loaded after \"hudi-default.xml\"). \r\n Check this for more details.  https://github.com/apache/hudi/pull/5004 .\r\n\r\n> Addresses HBase 2.x conflict with HBase 1.x in Hive 2: In Hudi, we newly include hudi-common/src/main/resources/hbase-site.xml containing HBase default configs from the hbase-common 2.4.9 we use, to override the default configs loaded from hbase-default.xml from an older HBase version on the classpath and to ensure correct default configs for Hudi HBase usage. In Hive, the Hive server loads all lib jars including HBase jars with its corresponding hbase-default.xml into class path (e.g., HBase 1.1.1), and that can cause conflict with the hbase-default.xml in Hudi bundles (HBase 2.4.9). The exception is thrown as follows: Caused by: java.lang.RuntimeException: hbase-default.xml file seems to be for an older version of HBase (1.1.1), this version is 2.4.9. Relevant logic causing such exception can be found in HBaseConfiguration::addHbaseResources(). To get around this issue, since HBase loads hbase-site.xml after hbase-default.xml, we provide hbase-site.xml from the bundle so that HBaseConfiguration can pick it up and ensure the right defaults.\r\n\r\nThe main problem I think is that there should not be any other HBase libs in the class path since Hudi bundles already introduce the HBase classes.  The reason you see below is that the HBase class shaded in Hudi (`org.apache.hudi.org.apache.hadoop.hbase.HBaseConfiguration`) reads the `hbase-default.xml` from cdh HBase, which causes the exception below that you pasted here.  This unfortunately happens because `hbase-default.xml` is going to be under the root as well, without isolation.  @rbtrtr Could you share how you start the spark-shell?  Wondering if you have to pass in cdh HBase libs to Spark?\r\n```\r\nCaused by: java.lang.RuntimeException: hbase-default.xml file seems to be for an older version of HBase (2.2.3.7.1.7.0-551), this version is 2.4.9\r\n        at org.apache.hudi.org.apache.hadoop.hbase.HBaseConfiguration.checkDefaultsVersion(HBaseConfiguration.java:74)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248300583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248321034","html_url":"https://github.com/apache/hudi/pull/5933#issuecomment-1248321034","issue_url":"https://api.github.com/repos/apache/hudi/issues/5933","id":1248321034,"node_id":"IC_kwDOBI7nWM5KZ94K","user":{"login":"prasannarajaperumal","id":38776710,"node_id":"MDQ6VXNlcjM4Nzc2NzEw","avatar_url":"https://avatars.githubusercontent.com/u/38776710?v=4","gravatar_id":"","url":"https://api.github.com/users/prasannarajaperumal","html_url":"https://github.com/prasannarajaperumal","followers_url":"https://api.github.com/users/prasannarajaperumal/followers","following_url":"https://api.github.com/users/prasannarajaperumal/following{/other_user}","gists_url":"https://api.github.com/users/prasannarajaperumal/gists{/gist_id}","starred_url":"https://api.github.com/users/prasannarajaperumal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prasannarajaperumal/subscriptions","organizations_url":"https://api.github.com/users/prasannarajaperumal/orgs","repos_url":"https://api.github.com/users/prasannarajaperumal/repos","events_url":"https://api.github.com/users/prasannarajaperumal/events{/privacy}","received_events_url":"https://api.github.com/users/prasannarajaperumal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T16:17:55Z","updated_at":"2022-09-15T16:17:55Z","author_association":"CONTRIBUTOR","body":"> > @huberylee - Sorry I may not have all the context here. How does the Spark optimizer know to use the lucene based index for expressions that may benefit? I dont see any tests from the spark read side that uses the index.\r\n> > Can you point me to a plan on the index persistence and query processing usage plan for lucene based index? If we dont have one - we should write an RFC for it. I am confused to see code that persists index in hoodie.properties file.\r\n> \r\n> @prasannarajaperumal This PR is mainly for handling the persistency of secondary index metadata, the SQL syntax of Create/Drop/Show/Refresh Secondary index have been introduced by [PR-5761](https://github.com/apache/hudi/pull/5761). We will introduce a new action type called build to generate the actual index data later, and then adapt query engine to use secondary index, related PRs are on the way.\r\n\r\nThanks for clarifying the scope. Found the RFC-52 - Will review the plan there. This PR looks good to me. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248321034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248348044","html_url":"https://github.com/apache/hudi/pull/6476#issuecomment-1248348044","issue_url":"https://api.github.com/repos/apache/hudi/issues/6476","id":1248348044,"node_id":"IC_kwDOBI7nWM5KaEeM","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T16:37:22Z","updated_at":"2022-09-15T16:37:22Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"1fd639d2941b41ea33f076cc249539d34514046d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10893\",\n    \"triggerID\" : \"1fd639d2941b41ea33f076cc249539d34514046d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"0bc3211940a582e7186017a49fbb83813cc4ec11\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=10899\",\n    \"triggerID\" : \"0bc3211940a582e7186017a49fbb83813cc4ec11\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"bbae7c832ad01407d78049491c5477bb9e1c51aa\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11046\",\n    \"triggerID\" : \"bbae7c832ad01407d78049491c5477bb9e1c51aa\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2de30cfc5ea85e3320396e2d9e0178cc81c8937d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11268\",\n    \"triggerID\" : \"2de30cfc5ea85e3320396e2d9e0178cc81c8937d\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"2de30cfc5ea85e3320396e2d9e0178cc81c8937d\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11268\",\n    \"triggerID\" : \"1242173487\",\n    \"triggerType\" : \"MANUAL\"\n  }, {\n    \"hash\" : \"6bbe3fbfa6a088c4306bd3fb0507c64c11e4deaa\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11289\",\n    \"triggerID\" : \"6bbe3fbfa6a088c4306bd3fb0507c64c11e4deaa\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"621d2bf600fec61186b525fc130e0e56ceadd1df\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11351\",\n    \"triggerID\" : \"621d2bf600fec61186b525fc130e0e56ceadd1df\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"34088aeee92daffe28ef3a17c04bb8e000f233e7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11363\",\n    \"triggerID\" : \"34088aeee92daffe28ef3a17c04bb8e000f233e7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"eef1ba6269240d968d2e0c6e9acd4c51b84c6eb5\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11381\",\n    \"triggerID\" : \"eef1ba6269240d968d2e0c6e9acd4c51b84c6eb5\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"5e320dd0b7e0532a1e7adb0269a5fb74f3686aae\",\n    \"status\" : \"FAILURE\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11384\",\n    \"triggerID\" : \"5e320dd0b7e0532a1e7adb0269a5fb74f3686aae\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 5e320dd0b7e0532a1e7adb0269a5fb74f3686aae Azure: [FAILURE](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11384) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248348044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248396077","html_url":"https://github.com/apache/hudi/pull/6489#issuecomment-1248396077","issue_url":"https://api.github.com/repos/apache/hudi/issues/6489","id":1248396077,"node_id":"IC_kwDOBI7nWM5KaQMt","user":{"login":"rahil-c","id":32500120,"node_id":"MDQ6VXNlcjMyNTAwMTIw","avatar_url":"https://avatars.githubusercontent.com/u/32500120?v=4","gravatar_id":"","url":"https://api.github.com/users/rahil-c","html_url":"https://github.com/rahil-c","followers_url":"https://api.github.com/users/rahil-c/followers","following_url":"https://api.github.com/users/rahil-c/following{/other_user}","gists_url":"https://api.github.com/users/rahil-c/gists{/gist_id}","starred_url":"https://api.github.com/users/rahil-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahil-c/subscriptions","organizations_url":"https://api.github.com/users/rahil-c/orgs","repos_url":"https://api.github.com/users/rahil-c/repos","events_url":"https://api.github.com/users/rahil-c/events{/privacy}","received_events_url":"https://api.github.com/users/rahil-c/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T17:25:28Z","updated_at":"2022-09-15T17:25:28Z","author_association":"CONTRIBUTOR","body":"> @rahil-c Could you review this PR as well? It's related to Hudi CLI.\r\n\r\nwill take a look as well ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248396077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248459903","html_url":"https://github.com/apache/hudi/pull/6684#issuecomment-1248459903","issue_url":"https://api.github.com/repos/apache/hudi/issues/6684","id":1248459903,"node_id":"IC_kwDOBI7nWM5Kafx_","user":{"login":"rahil-c","id":32500120,"node_id":"MDQ6VXNlcjMyNTAwMTIw","avatar_url":"https://avatars.githubusercontent.com/u/32500120?v=4","gravatar_id":"","url":"https://api.github.com/users/rahil-c","html_url":"https://github.com/rahil-c","followers_url":"https://api.github.com/users/rahil-c/followers","following_url":"https://api.github.com/users/rahil-c/following{/other_user}","gists_url":"https://api.github.com/users/rahil-c/gists{/gist_id}","starred_url":"https://api.github.com/users/rahil-c/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rahil-c/subscriptions","organizations_url":"https://api.github.com/users/rahil-c/orgs","repos_url":"https://api.github.com/users/rahil-c/repos","events_url":"https://api.github.com/users/rahil-c/events{/privacy}","received_events_url":"https://api.github.com/users/rahil-c/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T18:35:00Z","updated_at":"2022-09-15T18:35:00Z","author_association":"CONTRIBUTOR","body":"cc @yihua @alexeykudinkin ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248459903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248504597","html_url":"https://github.com/apache/hudi/issues/6655#issuecomment-1248504597","issue_url":"https://api.github.com/repos/apache/hudi/issues/6655","id":1248504597,"node_id":"IC_kwDOBI7nWM5KaqsV","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T19:12:14Z","updated_at":"2022-09-15T19:12:14Z","author_association":"CONTRIBUTOR","body":"@xushiyan you can assign this one to myself","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248504597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248512311","html_url":"https://github.com/apache/hudi/issues/6655#issuecomment-1248512311","issue_url":"https://api.github.com/repos/apache/hudi/issues/6655","id":1248512311,"node_id":"IC_kwDOBI7nWM5Kask3","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T19:17:55Z","updated_at":"2022-09-15T19:17:55Z","author_association":"CONTRIBUTOR","body":"@Zhangshunyu this is a great catch! \r\n\r\nI've filed HUDI-4851 to address. @xushiyan we can close this one.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248512311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248524295","html_url":"https://github.com/apache/hudi/pull/5784#issuecomment-1248524295","issue_url":"https://api.github.com/repos/apache/hudi/issues/5784","id":1248524295,"node_id":"IC_kwDOBI7nWM5KavgH","user":{"login":"jonvex","id":26940621,"node_id":"MDQ6VXNlcjI2OTQwNjIx","avatar_url":"https://avatars.githubusercontent.com/u/26940621?v=4","gravatar_id":"","url":"https://api.github.com/users/jonvex","html_url":"https://github.com/jonvex","followers_url":"https://api.github.com/users/jonvex/followers","following_url":"https://api.github.com/users/jonvex/following{/other_user}","gists_url":"https://api.github.com/users/jonvex/gists{/gist_id}","starred_url":"https://api.github.com/users/jonvex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonvex/subscriptions","organizations_url":"https://api.github.com/users/jonvex/orgs","repos_url":"https://api.github.com/users/jonvex/repos","events_url":"https://api.github.com/users/jonvex/events{/privacy}","received_events_url":"https://api.github.com/users/jonvex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T19:31:11Z","updated_at":"2022-09-15T19:31:11Z","author_association":"CONTRIBUTOR","body":"Ok. I have tested it and it builds and also the kafka connector test worked","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248524295/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248618695","html_url":"https://github.com/apache/hudi/pull/6358#issuecomment-1248618695","issue_url":"https://api.github.com/repos/apache/hudi/issues/6358","id":1248618695,"node_id":"IC_kwDOBI7nWM5KbGjH","user":{"login":"alexeykudinkin","id":428277,"node_id":"MDQ6VXNlcjQyODI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/428277?v=4","gravatar_id":"","url":"https://api.github.com/users/alexeykudinkin","html_url":"https://github.com/alexeykudinkin","followers_url":"https://api.github.com/users/alexeykudinkin/followers","following_url":"https://api.github.com/users/alexeykudinkin/following{/other_user}","gists_url":"https://api.github.com/users/alexeykudinkin/gists{/gist_id}","starred_url":"https://api.github.com/users/alexeykudinkin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexeykudinkin/subscriptions","organizations_url":"https://api.github.com/users/alexeykudinkin/orgs","repos_url":"https://api.github.com/users/alexeykudinkin/repos","events_url":"https://api.github.com/users/alexeykudinkin/events{/privacy}","received_events_url":"https://api.github.com/users/alexeykudinkin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T20:53:40Z","updated_at":"2022-09-15T20:53:40Z","author_association":"CONTRIBUTOR","body":"As outlined in https://github.com/apache/hudi/pull/6196#discussion_r961984500, this PR should go hand in hand w/ the https://github.com/apache/hudi/pull/6196, which flips Schema Reconciliation to be enabled by default (entailing that every incoming batch would be reconciled relative to the table's schema)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248618695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248629629","html_url":"https://github.com/apache/hudi/pull/6498#issuecomment-1248629629","issue_url":"https://api.github.com/repos/apache/hudi/issues/6498","id":1248629629,"node_id":"IC_kwDOBI7nWM5KbJN9","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T21:05:17Z","updated_at":"2022-09-15T21:05:17Z","author_association":"CONTRIBUTOR","body":"here is my take:\r\ndon't think we can go w/ this fix as is. but we can try something else. \r\n\r\nwe need to maintain another variable called, `lastCompletedCommit` whenever a cleaner kicks in. so, it will be added as part of clean commit metadata. infact we landed a patch 2 days back that adds this. https://github.com/apache/hudi/pull/5478\r\n\r\nlet me walk through a scenario. \r\ncleaner policy: based on latest file versions.\r\ncount: 2 \r\n\r\nCommit1 :\r\nFG1_V1, FG2_V2\r\n\r\nCommit2: \r\nFG1_V2, FG3_V1\r\n\r\nCommit3: FG1_V3, FG3_V2, FG4_V1\r\n\r\nCommit4: FG1_V4, FG2_V2, FG4_V2, FG5_V1\r\n\r\nCommit5: FG2_V3, FG5_V2\r\n\r\nfor first two commits, nothing will get cleaned up. and so \"lastCompletedCommit\" = null. \r\n\r\njust after C3, lets say we trigger cleaning. \r\nC3_C\r\nFG_1_V1 will be cleaned up. \r\nand will mark `lastCompletedCommit` = C3. \r\n\r\njust after C4, we trigger cleaner again. \r\nwe can just look at file groups that got newer versions after C3 until now. in this case, just in C4.\r\nSo, while planning we can consider only file groups FG1, FG2, FG4 and FG5. reasoning is, those file groups which was never touched after last clean may not reach the max file version threshold. bcoz, they did not receive any updates only. \r\n\r\nSo, with C4_Clean, we will consider only FG1, FG2, FG4 and FG5 and eventually will clean up FG1_V2. \r\n\r\nAnd update `lastCompletedCommit` = C4. \r\n\r\njust after C5, we trigger cleaner again. \r\nwill consider only file groups updated after C4 (lastCompletedCommit from last clean). which is FG2, FG5. \r\nand will result in cleaning up FG2_V1. since FG1, FG3 nor FG4 was touched, we don't need to even consider them while preparing the clean plan. \r\n \r\n\r\nthe current patch in its current state might miss out something. we can't rely on earlistRetainedCommit. For eg, just after C2, earlistCommitToRetain is being set to C2. but ideally we should consider lastCompletedCommit from the last time cleaner got triggered and do incremental polling for newer commits from there. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248629629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248630237","html_url":"https://github.com/apache/hudi/pull/6498#issuecomment-1248630237","issue_url":"https://api.github.com/repos/apache/hudi/issues/6498","id":1248630237,"node_id":"IC_kwDOBI7nWM5KbJXd","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T21:05:49Z","updated_at":"2022-09-15T21:05:49Z","author_association":"CONTRIBUTOR","body":"let me know if I am making sense. we can have a sync call too since this is dragging a bit. wanted to land in the next few days. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248630237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248721286","html_url":"https://github.com/apache/hudi/issues/6373#issuecomment-1248721286","issue_url":"https://api.github.com/repos/apache/hudi/issues/6373","id":1248721286,"node_id":"IC_kwDOBI7nWM5KbfmG","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T22:53:50Z","updated_at":"2022-09-15T22:53:50Z","author_association":"CONTRIBUTOR","body":"closing the github issue as we have a patch addressing the issue. thanks!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248721286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248759252","html_url":"https://github.com/apache/hudi/pull/6031#issuecomment-1248759252","issue_url":"https://api.github.com/repos/apache/hudi/issues/6031","id":1248759252,"node_id":"IC_kwDOBI7nWM5Kbo3U","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T23:41:52Z","updated_at":"2022-09-15T23:41:52Z","author_association":"CONTRIBUTOR","body":"@5herhom : can you follow up on the feedback. its nearing landing. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248759252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248761759","html_url":"https://github.com/apache/hudi/pull/6284#issuecomment-1248761759","issue_url":"https://api.github.com/repos/apache/hudi/issues/6284","id":1248761759,"node_id":"IC_kwDOBI7nWM5Kbpef","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T23:47:29Z","updated_at":"2022-09-15T23:47:29Z","author_association":"CONTRIBUTOR","body":"I don't want to base the spillable base path w/ the table base path by default. \r\n\r\nmay be, you can introduce a config called \"hoodie.memory.use.table.path.for.spillable.map\". and we can add .hoodie/spillablemap/ and start using that if this config is enabled. if not, we will fallback to the value set for `hoodie.memory.spillable.map.path`. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248761759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248766824","html_url":"https://github.com/apache/hudi/pull/6674#issuecomment-1248766824","issue_url":"https://api.github.com/repos/apache/hudi/issues/6674","id":1248766824,"node_id":"IC_kwDOBI7nWM5Kbqto","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T23:59:14Z","updated_at":"2022-09-15T23:59:14Z","author_association":"CONTRIBUTOR","body":"> Done. @yihua redrawing the entire image might be a bigger effort. I changed the images so their ratio does not change and are closer to 1200 * 600 either in width or height. Please take a look and flag any image that comes out odd.\r\n\r\nSg.  I'll take a look.  No need to redraw the images in this PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248766824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248767101","html_url":"https://github.com/apache/hudi/pull/6685#issuecomment-1248767101","issue_url":"https://api.github.com/repos/apache/hudi/issues/6685","id":1248767101,"node_id":"IC_kwDOBI7nWM5Kbqx9","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-15T23:59:55Z","updated_at":"2022-09-15T23:59:55Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"07d5b42073630dfc64e50c09fb2a9c9b55e8ba13\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11393\",\n    \"triggerID\" : \"07d5b42073630dfc64e50c09fb2a9c9b55e8ba13\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 07d5b42073630dfc64e50c09fb2a9c9b55e8ba13 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11393) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248767101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248772846","html_url":"https://github.com/apache/hudi/pull/6619#issuecomment-1248772846","issue_url":"https://api.github.com/repos/apache/hudi/issues/6619","id":1248772846,"node_id":"IC_kwDOBI7nWM5KbsLu","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T00:10:03Z","updated_at":"2022-09-16T00:10:03Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"461a755d6938132f17243987fb7ab5e69a883f1e\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11212\",\n    \"triggerID\" : \"461a755d6938132f17243987fb7ab5e69a883f1e\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"138acf4a157d61a6e5e42b0e86b270ae500d60a1\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11223\",\n    \"triggerID\" : \"138acf4a157d61a6e5e42b0e86b270ae500d60a1\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"7e9a46c5f5af4cf5881a0184373ce8501b2432d0\",\n    \"status\" : \"PENDING\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11396\",\n    \"triggerID\" : \"7e9a46c5f5af4cf5881a0184373ce8501b2432d0\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* 138acf4a157d61a6e5e42b0e86b270ae500d60a1 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11223) \n* 7e9a46c5f5af4cf5881a0184373ce8501b2432d0 Azure: [PENDING](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11396) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248772846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248776055","html_url":"https://github.com/apache/hudi/pull/6674#issuecomment-1248776055","issue_url":"https://api.github.com/repos/apache/hudi/issues/6674","id":1248776055,"node_id":"IC_kwDOBI7nWM5Kbs93","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T00:15:35Z","updated_at":"2022-09-16T00:15:35Z","author_association":"CONTRIBUTOR","body":"@bhasudha If needed, the images can be adjusted in a follow-up PR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248776055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248796155","html_url":"https://github.com/apache/hudi/pull/6031#issuecomment-1248796155","issue_url":"https://api.github.com/repos/apache/hudi/issues/6031","id":1248796155,"node_id":"IC_kwDOBI7nWM5Kbx37","user":{"login":"5herhom","id":35916131,"node_id":"MDQ6VXNlcjM1OTE2MTMx","avatar_url":"https://avatars.githubusercontent.com/u/35916131?v=4","gravatar_id":"","url":"https://api.github.com/users/5herhom","html_url":"https://github.com/5herhom","followers_url":"https://api.github.com/users/5herhom/followers","following_url":"https://api.github.com/users/5herhom/following{/other_user}","gists_url":"https://api.github.com/users/5herhom/gists{/gist_id}","starred_url":"https://api.github.com/users/5herhom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/5herhom/subscriptions","organizations_url":"https://api.github.com/users/5herhom/orgs","repos_url":"https://api.github.com/users/5herhom/repos","events_url":"https://api.github.com/users/5herhom/events{/privacy}","received_events_url":"https://api.github.com/users/5herhom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T00:52:40Z","updated_at":"2022-09-16T00:52:40Z","author_association":"CONTRIBUTOR","body":"> @5herhom : can you follow up on the feedback. its nearing landing.\r\n\r\nSorry, I'm busy these days. I will commit in two days","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248796155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248801714","html_url":"https://github.com/apache/hudi/pull/6673#issuecomment-1248801714","issue_url":"https://api.github.com/repos/apache/hudi/issues/6673","id":1248801714,"node_id":"IC_kwDOBI7nWM5KbzOy","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T01:06:37Z","updated_at":"2022-09-16T01:06:37Z","author_association":"CONTRIBUTOR","body":"Merging this as the rebasing only touches the `TestDataSourceForBootstrap` and it passes locally.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248801714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248803426","html_url":"https://github.com/apache/hudi/pull/6615#issuecomment-1248803426","issue_url":"https://api.github.com/repos/apache/hudi/issues/6615","id":1248803426,"node_id":"IC_kwDOBI7nWM5Kbzpi","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T01:10:52Z","updated_at":"2022-09-16T01:10:52Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"61214015c3aed029c00882f121e6ec0333767e7f\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11199\",\n    \"triggerID\" : \"61214015c3aed029c00882f121e6ec0333767e7f\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"3b37307093cf2c6eb20a4e5f738f8bac38f1dba7\",\n    \"status\" : \"DELETED\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11230\",\n    \"triggerID\" : \"3b37307093cf2c6eb20a4e5f738f8bac38f1dba7\",\n    \"triggerType\" : \"PUSH\"\n  }, {\n    \"hash\" : \"d675d338c90b09abbdbcc84003873cf05c40f871\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11395\",\n    \"triggerID\" : \"d675d338c90b09abbdbcc84003873cf05c40f871\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* d675d338c90b09abbdbcc84003873cf05c40f871 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11395) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248803426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248823659","html_url":"https://github.com/apache/hudi/issues/6517#issuecomment-1248823659","issue_url":"https://api.github.com/repos/apache/hudi/issues/6517","id":1248823659,"node_id":"IC_kwDOBI7nWM5Kb4lr","user":{"login":"yihua","id":2497195,"node_id":"MDQ6VXNlcjI0OTcxOTU=","avatar_url":"https://avatars.githubusercontent.com/u/2497195?v=4","gravatar_id":"","url":"https://api.github.com/users/yihua","html_url":"https://github.com/yihua","followers_url":"https://api.github.com/users/yihua/followers","following_url":"https://api.github.com/users/yihua/following{/other_user}","gists_url":"https://api.github.com/users/yihua/gists{/gist_id}","starred_url":"https://api.github.com/users/yihua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yihua/subscriptions","organizations_url":"https://api.github.com/users/yihua/orgs","repos_url":"https://api.github.com/users/yihua/repos","events_url":"https://api.github.com/users/yihua/events{/privacy}","received_events_url":"https://api.github.com/users/yihua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T01:52:49Z","updated_at":"2022-09-16T01:52:49Z","author_association":"CONTRIBUTOR","body":"#6673 and #6676 have fixed the problem of reading the partition column from a bootstrap table and I verified that it works (see the `df.show` result below after bootstrap).  Closing this issue.  @peanut-chenzhong feel free to reopen this if you still see the problem.\r\n```\r\nscala> df.show\r\n+-------------------+--------------------+--------------------+----------------------+--------------------+--------------------+-------------+--------------------+------------+--------------------+--------------------+--------------------+-----+---------+\r\n|_hoodie_commit_time|_hoodie_commit_seqno|  _hoodie_record_key|_hoodie_partition_path|   _hoodie_file_name|                 key|           ts|           textField|decimalField|           longField|          arrayField|            mapField|round|partition|\r\n+-------------------+--------------------+--------------------+----------------------+--------------------+--------------------+-------------+--------------------+------------+--------------------+--------------------+--------------------+-----+---------+\r\n|     00000000000002|  00000000000002_1_0|000-416e-f335-1f3...|             2022/1/31|356f2b69-6958-465...|000-416e-f335-1f3...|1643949407427|abcdefghijklmnopq...|   0.5398461| 4486089480226173414|[0, 1, 2, 3, 4, 5...|{4a19-ff6d-95f87c...|    0|2022/1/31|\r\n|     00000000000002|  00000000000002_1_1|000-4638-bd51-7ce...|             2022/1/31|356f2b69-6958-465...|000-4638-bd51-7ce...|1643949404254|abcdefghijklmnopq...|    0.542539|-7250499539432824960|[0, 1, 2, 3, 4, 5...|{4a1c-6792-b6a852...|    0|2022/1/31|\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248823659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248831904","html_url":"https://github.com/apache/hudi/pull/6489#issuecomment-1248831904","issue_url":"https://api.github.com/repos/apache/hudi/issues/6489","id":1248831904,"node_id":"IC_kwDOBI7nWM5Kb6mg","user":{"login":"paul8263","id":7007327,"node_id":"MDQ6VXNlcjcwMDczMjc=","avatar_url":"https://avatars.githubusercontent.com/u/7007327?v=4","gravatar_id":"","url":"https://api.github.com/users/paul8263","html_url":"https://github.com/paul8263","followers_url":"https://api.github.com/users/paul8263/followers","following_url":"https://api.github.com/users/paul8263/following{/other_user}","gists_url":"https://api.github.com/users/paul8263/gists{/gist_id}","starred_url":"https://api.github.com/users/paul8263/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul8263/subscriptions","organizations_url":"https://api.github.com/users/paul8263/orgs","repos_url":"https://api.github.com/users/paul8263/repos","events_url":"https://api.github.com/users/paul8263/events{/privacy}","received_events_url":"https://api.github.com/users/paul8263/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T02:09:47Z","updated_at":"2022-09-16T02:09:47Z","author_association":"CONTRIBUTOR","body":"Pushed to solve the conflicts.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248831904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248872759","html_url":"https://github.com/apache/hudi/issues/6606#issuecomment-1248872759","issue_url":"https://api.github.com/repos/apache/hudi/issues/6606","id":1248872759,"node_id":"IC_kwDOBI7nWM5KcEk3","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:18:12Z","updated_at":"2022-09-16T03:18:12Z","author_association":"CONTRIBUTOR","body":"here is what is happening. \r\nif there are two concurrent writers writing to non overlapping data files, hudi will succeed both writes. but if both are modifying the same data file, hudi will succeed one and will fail another write. and hence you are seeing conflict resolution failed. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248872759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248873001","html_url":"https://github.com/apache/hudi/issues/6606#issuecomment-1248873001","issue_url":"https://api.github.com/repos/apache/hudi/issues/6606","id":1248873001,"node_id":"IC_kwDOBI7nWM5KcEop","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:18:38Z","updated_at":"2022-09-16T03:18:38Z","author_association":"CONTRIBUTOR","body":"you can read about multi writer guarantees here https://hudi.apache.org/docs/concurrency_control#multi-writer-guarantees\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248873001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248874327","html_url":"https://github.com/apache/hudi/issues/5249#issuecomment-1248874327","issue_url":"https://api.github.com/repos/apache/hudi/issues/5249","id":1248874327,"node_id":"IC_kwDOBI7nWM5KcE9X","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:21:16Z","updated_at":"2022-09-16T03:21:16Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248874327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248879098","html_url":"https://github.com/apache/hudi/issues/6611#issuecomment-1248879098","issue_url":"https://api.github.com/repos/apache/hudi/issues/6611","id":1248879098,"node_id":"IC_kwDOBI7nWM5KcGH6","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:30:18Z","updated_at":"2022-09-16T03:30:18Z","author_association":"CONTRIBUTOR","body":"I am yet to try this out locally and see how this pans out.bcoz, you have custom default value for strings. usually null defaults are taken into consideration. but non null defaults, I have not seen much. \r\n\r\nbut for now, can you try disabling this config and see what happens. \r\n```\r\nhoodie.deltastreamer.schemaprovider.spark_avro_post_processor.enable\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248879098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248881741","html_url":"https://github.com/apache/hudi/pull/6634#issuecomment-1248881741","issue_url":"https://api.github.com/repos/apache/hudi/issues/6634","id":1248881741,"node_id":"IC_kwDOBI7nWM5KcGxN","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:35:58Z","updated_at":"2022-09-16T03:35:58Z","author_association":"CONTRIBUTOR","body":"Hi @danny0405 ci passed : )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248881741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248882064","html_url":"https://github.com/apache/hudi/pull/6630#issuecomment-1248882064","issue_url":"https://api.github.com/repos/apache/hudi/issues/6630","id":1248882064,"node_id":"IC_kwDOBI7nWM5KcG2Q","user":{"login":"TJX2014","id":7149304,"node_id":"MDQ6VXNlcjcxNDkzMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/7149304?v=4","gravatar_id":"","url":"https://api.github.com/users/TJX2014","html_url":"https://github.com/TJX2014","followers_url":"https://api.github.com/users/TJX2014/followers","following_url":"https://api.github.com/users/TJX2014/following{/other_user}","gists_url":"https://api.github.com/users/TJX2014/gists{/gist_id}","starred_url":"https://api.github.com/users/TJX2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TJX2014/subscriptions","organizations_url":"https://api.github.com/users/TJX2014/orgs","repos_url":"https://api.github.com/users/TJX2014/repos","events_url":"https://api.github.com/users/TJX2014/events{/privacy}","received_events_url":"https://api.github.com/users/TJX2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T03:36:40Z","updated_at":"2022-09-16T03:36:40Z","author_association":"CONTRIBUTOR","body":"Hi @danny0405 ci succeed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248882064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248921800","html_url":"https://github.com/apache/hudi/pull/6689#issuecomment-1248921800","issue_url":"https://api.github.com/repos/apache/hudi/issues/6689","id":1248921800,"node_id":"IC_kwDOBI7nWM5KcQjI","user":{"login":"hudi-bot","id":79415918,"node_id":"MDQ6VXNlcjc5NDE1OTE4","avatar_url":"https://avatars.githubusercontent.com/u/79415918?v=4","gravatar_id":"","url":"https://api.github.com/users/hudi-bot","html_url":"https://github.com/hudi-bot","followers_url":"https://api.github.com/users/hudi-bot/followers","following_url":"https://api.github.com/users/hudi-bot/following{/other_user}","gists_url":"https://api.github.com/users/hudi-bot/gists{/gist_id}","starred_url":"https://api.github.com/users/hudi-bot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hudi-bot/subscriptions","organizations_url":"https://api.github.com/users/hudi-bot/orgs","repos_url":"https://api.github.com/users/hudi-bot/repos","events_url":"https://api.github.com/users/hudi-bot/events{/privacy}","received_events_url":"https://api.github.com/users/hudi-bot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T05:03:12Z","updated_at":"2022-09-16T05:03:12Z","author_association":"NONE","body":"<!--\nMeta data\n{\n  \"version\" : 1,\n  \"metaDataEntries\" : [ {\n    \"hash\" : \"cab4b6a3b31aff9a0aa4a825d341346aaa7ede73\",\n    \"status\" : \"SUCCESS\",\n    \"url\" : \"https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11399\",\n    \"triggerID\" : \"cab4b6a3b31aff9a0aa4a825d341346aaa7ede73\",\n    \"triggerType\" : \"PUSH\"\n  } ]\n}-->\n## CI report:\n\n* cab4b6a3b31aff9a0aa4a825d341346aaa7ede73 Azure: [SUCCESS](https://dev.azure.com/apache-hudi-ci-org/785b6ef4-2f42-4a89-8f0e-5f0d7039a0cc/_build/results?buildId=11399) \n\n<details>\n<summary>Bot commands</summary>\n  @hudi-bot supports the following commands:\n\n - `@hudi-bot run azure` re-run the last Azure build\n</details>","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248921800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248933132","html_url":"https://github.com/apache/hudi/issues/6691#issuecomment-1248933132","issue_url":"https://api.github.com/repos/apache/hudi/issues/6691","id":1248933132,"node_id":"IC_kwDOBI7nWM5KcTUM","user":{"login":"Zhangshunyu","id":13940237,"node_id":"MDQ6VXNlcjEzOTQwMjM3","avatar_url":"https://avatars.githubusercontent.com/u/13940237?v=4","gravatar_id":"","url":"https://api.github.com/users/Zhangshunyu","html_url":"https://github.com/Zhangshunyu","followers_url":"https://api.github.com/users/Zhangshunyu/followers","following_url":"https://api.github.com/users/Zhangshunyu/following{/other_user}","gists_url":"https://api.github.com/users/Zhangshunyu/gists{/gist_id}","starred_url":"https://api.github.com/users/Zhangshunyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Zhangshunyu/subscriptions","organizations_url":"https://api.github.com/users/Zhangshunyu/orgs","repos_url":"https://api.github.com/users/Zhangshunyu/repos","events_url":"https://api.github.com/users/Zhangshunyu/events{/privacy}","received_events_url":"https://api.github.com/users/Zhangshunyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T05:27:26Z","updated_at":"2022-09-16T05:27:26Z","author_association":"CONTRIBUTOR","body":"select count(*),count(distinct word)  from test_table where word in ('HelloWorld', 'OK', ... etc. 1000 words here)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1248933132/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1249135728","html_url":"https://github.com/apache/hudi/issues/6692#issuecomment-1249135728","issue_url":"https://api.github.com/repos/apache/hudi/issues/6692","id":1249135728,"node_id":"IC_kwDOBI7nWM5KdExw","user":{"login":"xushiyan","id":2701446,"node_id":"MDQ6VXNlcjI3MDE0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/2701446?v=4","gravatar_id":"","url":"https://api.github.com/users/xushiyan","html_url":"https://github.com/xushiyan","followers_url":"https://api.github.com/users/xushiyan/followers","following_url":"https://api.github.com/users/xushiyan/following{/other_user}","gists_url":"https://api.github.com/users/xushiyan/gists{/gist_id}","starred_url":"https://api.github.com/users/xushiyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xushiyan/subscriptions","organizations_url":"https://api.github.com/users/xushiyan/orgs","repos_url":"https://api.github.com/users/xushiyan/repos","events_url":"https://api.github.com/users/xushiyan/events{/privacy}","received_events_url":"https://api.github.com/users/xushiyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T09:22:05Z","updated_at":"2022-09-16T09:22:45Z","author_association":"MEMBER","body":"@eshu can you share more details? like code snippet you used and the configs for this job. and was it working before upgrade to 0.12? what was the previous version used? thanks","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1249135728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1249162747","html_url":"https://github.com/apache/hudi/pull/6525#issuecomment-1249162747","issue_url":"https://api.github.com/repos/apache/hudi/issues/6525","id":1249162747,"node_id":"IC_kwDOBI7nWM5KdLX7","user":{"login":"minihippo","id":17903481,"node_id":"MDQ6VXNlcjE3OTAzNDgx","avatar_url":"https://avatars.githubusercontent.com/u/17903481?v=4","gravatar_id":"","url":"https://api.github.com/users/minihippo","html_url":"https://github.com/minihippo","followers_url":"https://api.github.com/users/minihippo/followers","following_url":"https://api.github.com/users/minihippo/following{/other_user}","gists_url":"https://api.github.com/users/minihippo/gists{/gist_id}","starred_url":"https://api.github.com/users/minihippo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minihippo/subscriptions","organizations_url":"https://api.github.com/users/minihippo/orgs","repos_url":"https://api.github.com/users/minihippo/repos","events_url":"https://api.github.com/users/minihippo/events{/privacy}","received_events_url":"https://api.github.com/users/minihippo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-16T09:49:02Z","updated_at":"2022-09-16T09:49:02Z","author_association":"CONTRIBUTOR","body":"Hi @XuQianJin-Stars , Can you land this bugfix?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/1249162747/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]