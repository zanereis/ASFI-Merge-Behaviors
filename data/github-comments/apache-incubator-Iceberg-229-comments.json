[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421251672","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421251672","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421251672,"node_id":"IC_kwDOCW7NX85UtpRY","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T18:22:51Z","updated_at":"2023-02-07T18:22:51Z","author_association":"MEMBER","body":"Yeah my plan would be, regardless of what string ends up at the FileIO. The FileIO is responsible for only writing a posix compatible path. So just because I have a table location \"foo/bar/\" doesn't mean I get files at \"foo/bar//data/\". I'm open to other suggestions but this seems like a way we can resolve the issue.\r\n\r\nFor our users I'm trying to deal with the fact that they have many many tables and don't want to go through them modifying the table location in all of them. Ideally I think we should be able to go back and forth between FileIO's without causing a failure. This is a slightly unique situation  because I'm not sure if there are any other FileIO's which allow access to the same underlying filesystem. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421251672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421274323","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421274323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421274323,"node_id":"IC_kwDOCW7NX85UtuzT","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T18:42:36Z","updated_at":"2023-02-07T18:42:36Z","author_association":"CONTRIBUTOR","body":"> This is a slightly unique situation because I'm not sure if there are any other FileIO's which allow access to the same underlying filesystem.\r\n\r\nI think this is probably a problem for all the S3-compatible storage systems, we already have a few implemented in this repo like the one from Dell ECS, so agree we should solve compatibility of it.\r\n\r\n> Yeah my plan would be, regardless of what string ends up at the FileIO. The FileIO is responsible for only writing a posix compatible path. \r\n\r\nYes I agree this is a simpler plan than my original thought. Are you currently already working on this? If not I can take it.\r\n\r\nI think (3) as a procedure I think is probably still needed for tables already in that situation, and once we have that we can probably enforce it as a requirement and users for tables with issue can have a clear path forward.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421274323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421298665","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421298665","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421298665,"node_id":"IC_kwDOCW7NX85Ut0vp","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T19:03:28Z","updated_at":"2023-02-07T19:03:28Z","author_association":"MEMBER","body":"I have not started, so you are free to take it if you like. I do think we need confirmation from the Trino folks that this is something they can also follow. I know they have a completely different pathway for opening and creating files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421298665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421313305","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421313305","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421313305,"node_id":"IC_kwDOCW7NX85Ut4UZ","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T19:13:35Z","updated_at":"2023-02-07T19:13:35Z","author_association":"CONTRIBUTOR","body":"I think Trino is mostly fine, because all the file paths are converted to Hadoop paths before writing, so technically it already enforces posix style.\r\n\r\nhttps://github.com/trinodb/trino/blob/master/plugin/trino-iceberg/src/main/java/io/trino/plugin/iceberg/IcebergPageSink.java#L336\r\n\r\nhttps://github.com/trinodb/trino/blob/master/plugin/trino-iceberg/src/main/java/io/trino/plugin/iceberg/IcebergFileWriterFactory.java#L173\r\n\r\nhttps://github.com/trinodb/trino/blob/master/lib/trino-filesystem/src/main/java/io/trino/filesystem/hdfs/HdfsInputFile.java#L46\r\n\r\nhttps://github.com/trinodb/trino/blob/master/lib/trino-filesystem/src/main/java/io/trino/filesystem/hdfs/HadoopPaths.java","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421313305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421314669","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421314669","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421314669,"node_id":"IC_kwDOCW7NX85Ut4pt","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T19:14:40Z","updated_at":"2023-02-07T19:14:40Z","author_association":"MEMBER","body":"Oh then this is actually much needed for trino too, since by default they can't read a non-posix file either?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421314669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421321586","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421321586","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421321586,"node_id":"IC_kwDOCW7NX85Ut6Vy","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T19:20:27Z","updated_at":"2023-02-07T19:20:27Z","author_association":"CONTRIBUTOR","body":"Correct, that's why I said there is an internal patch in Athena to support non-posix files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421321586/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421340074","html_url":"https://github.com/apache/iceberg/pull/6644#issuecomment-1421340074","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6644","id":1421340074,"node_id":"IC_kwDOCW7NX85Ut-2q","user":{"login":"rubenvdg","id":37443208,"node_id":"MDQ6VXNlcjM3NDQzMjA4","avatar_url":"https://avatars.githubusercontent.com/u/37443208?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenvdg","html_url":"https://github.com/rubenvdg","followers_url":"https://api.github.com/users/rubenvdg/followers","following_url":"https://api.github.com/users/rubenvdg/following{/other_user}","gists_url":"https://api.github.com/users/rubenvdg/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenvdg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenvdg/subscriptions","organizations_url":"https://api.github.com/users/rubenvdg/orgs","repos_url":"https://api.github.com/users/rubenvdg/repos","events_url":"https://api.github.com/users/rubenvdg/events{/privacy}","received_events_url":"https://api.github.com/users/rubenvdg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T19:37:01Z","updated_at":"2023-02-07T19:37:01Z","author_association":"CONTRIBUTOR","body":"Tuuuuuuurlijk maestro","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421340074/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421512814","html_url":"https://github.com/apache/iceberg/pull/6449#issuecomment-1421512814","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6449","id":1421512814,"node_id":"IC_kwDOCW7NX85UupBu","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T21:57:23Z","updated_at":"2023-02-07T21:57:23Z","author_association":"CONTRIBUTOR","body":"Looks like all the comments are addressed. Synced offline with @danielcweeks and @nastra and I believe they don't have further comments either.\r\n\r\nGiven the fact that this PR has been open for quite some time, and there are quite a few subsequent updates I would like to see, I will go ahead to merge it, and create some issues tracking some features that can be added to improve the migration experience.\r\n\r\nThanks @JonasJ-ap and @ericlgoodman for the contribution, and thanks everyone for the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421512814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421540890","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421540890","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421540890,"node_id":"IC_kwDOCW7NX85Uuv4a","user":{"login":"electrum","id":9230,"node_id":"MDQ6VXNlcjkyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/9230?v=4","gravatar_id":"","url":"https://api.github.com/users/electrum","html_url":"https://github.com/electrum","followers_url":"https://api.github.com/users/electrum/followers","following_url":"https://api.github.com/users/electrum/following{/other_user}","gists_url":"https://api.github.com/users/electrum/gists{/gist_id}","starred_url":"https://api.github.com/users/electrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electrum/subscriptions","organizations_url":"https://api.github.com/users/electrum/orgs","repos_url":"https://api.github.com/users/electrum/repos","events_url":"https://api.github.com/users/electrum/events{/privacy}","received_events_url":"https://api.github.com/users/electrum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T22:19:22Z","updated_at":"2023-02-07T22:19:22Z","author_association":"CONTRIBUTOR","body":"We have a hack in Trino to allow reading non-standard paths. That's the [`HadoopPaths`](https://github.com/trinodb/trino/blob/master/lib/trino-filesystem/src/main/java/io/trino/filesystem/hdfs/HadoopPaths.java) code referenced above, along with [this code in `TrinoS3FileSystem`](https://github.com/trinodb/trino/blob/e41c3a7534d20ed55791335c892c8bd96ae30dd2/plugin/trino-hive/src/main/java/io/trino/plugin/hive/s3/TrinoS3FileSystem.java#L987-L990).\r\n\r\nAll of our writing code currently goes through Hadoop, so paths in S3 will be normalized, but we have a project to [decouple Trino from Hadoop and Hive codebases](https://github.com/trinodb/trino/issues/15921), so we'll want our upcoming non-Hadoop [`TrinoFileSystem`](https://github.com/trinodb/trino/blob/master/lib/trino-filesystem/src/main/java/io/trino/filesystem/TrinoFileSystem.java) implementations to handle this correctly.\r\n\r\nHandling `.` and `..` is tricky, though. If a user does this:\r\n\r\n```sql\r\nCREATE TABLE ... WITH (location = 's3://foo/bar/../baz')\r\n```\r\n\r\nWhat should the resulting object name in S3 be? What gets written to the Iceberg manifest? Where should the normalization happen? Do we need to normalize all \"user input\" locations?\r\n\r\nWhile I like the idea of just using strings and not dealing with directories (which we copied from Iceberg `FileIO`), it certainly has annoyances and problems when interacting with POSIX-like systems.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421540890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421559622","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421559622","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421559622,"node_id":"IC_kwDOCW7NX85Uu0dG","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T22:30:11Z","updated_at":"2023-02-07T22:30:39Z","author_association":"MEMBER","body":"My call would be that everything new file we create with FileIO (in iceberg) hits this transformation\r\n\r\n```scala\r\nimport java.nio.file.Paths\r\nscala> def posixNormalize(s: String) = Paths.get(s).normalize.toString\r\nposixNormalize: (s: String)String\r\nscala> posixNormalize(\"s3://foo/bar/../baz\")\r\nres41: String = s3:/foo/baz\r\n```\r\n\r\nSo I would add that as an protected method in FileIO and then any calls to   \r\nOutputFile newOutputFile(String path);\r\n\r\ncall posixNormalize before doing anything else. Ideally I wish I could force this on all calls to newOutputFile but I don't think we can manage that without breaking the API. Maybe we can do that in Iceberg 2.0 and have \r\n\r\n```java\r\nfinal OutputFile newOutputFile(String path) {\r\n  return newOutputFileImpl(posixNormalize(path))\r\n}\r\n\r\nOutputFile newOutputFileImpl(String path)\r\n```\r\n\r\nFor now I would just add that to S3FileIO","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421559622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421564259","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421564259","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421564259,"node_id":"IC_kwDOCW7NX85Uu1lj","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T22:34:49Z","updated_at":"2023-02-07T22:34:49Z","author_association":"CONTRIBUTOR","body":">  Handling . and .. is tricky, though. If a user does this:\r\n> \r\n> CREATE TABLE ... WITH (location = 's3://foo/bar/../baz')\r\n> \r\n> What should the resulting object name in S3 be? What gets written to the Iceberg manifest? Where should the normalization happen? Do we need to normalize all \"user input\" locations?\r\n\r\nYes this case is interesting, I can see it go both ways. Sounds like we should still have a feature flag controlling this behavior then? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421564259/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421567311","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421567311","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421567311,"node_id":"IC_kwDOCW7NX85Uu2VP","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T22:38:09Z","updated_at":"2023-02-07T22:38:27Z","author_association":"MEMBER","body":"I still think we just set this up as Iceberg only makes posix paths for any new files it creates. Anything going through FileIO.create is normalized. This means everything in the metadata is normalized unless a user explicitly and manually adds a data file that isn't.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421567311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421582477","html_url":"https://github.com/apache/iceberg/issues/6257#issuecomment-1421582477","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6257","id":1421582477,"node_id":"IC_kwDOCW7NX85Uu6CN","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T22:55:52Z","updated_at":"2023-02-07T22:55:52Z","author_association":"COLLABORATOR","body":"Hi yes, sounds good to me.  I think we are doing a doc per engine, and so right now I believe it's only there for Spark.  Ref some earlier discussions on how to document metadata tables.  https://github.com/apache/iceberg/issues/757","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421582477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421663434","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421663434","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421663434,"node_id":"IC_kwDOCW7NX85UvNzK","user":{"login":"electrum","id":9230,"node_id":"MDQ6VXNlcjkyMzA=","avatar_url":"https://avatars.githubusercontent.com/u/9230?v=4","gravatar_id":"","url":"https://api.github.com/users/electrum","html_url":"https://github.com/electrum","followers_url":"https://api.github.com/users/electrum/followers","following_url":"https://api.github.com/users/electrum/following{/other_user}","gists_url":"https://api.github.com/users/electrum/gists{/gist_id}","starred_url":"https://api.github.com/users/electrum/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/electrum/subscriptions","organizations_url":"https://api.github.com/users/electrum/orgs","repos_url":"https://api.github.com/users/electrum/repos","events_url":"https://api.github.com/users/electrum/events{/privacy}","received_events_url":"https://api.github.com/users/electrum/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-07T23:53:00Z","updated_at":"2023-02-07T23:53:00Z","author_association":"CONTRIBUTOR","body":"I just realized this has implications for the specification. If a manifest file contains a location containing `.` or `..` path segments, how are readers supposed to interpret that? The current implementations that use Hadoop code will normalize them. Is this correct behavior? Should we formalize this behavior in the specification?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421663434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421680896","html_url":"https://github.com/apache/iceberg/issues/5351#issuecomment-1421680896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5351","id":1421680896,"node_id":"IC_kwDOCW7NX85UvSEA","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T00:12:08Z","updated_at":"2023-02-08T00:12:08Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421680896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421709404","html_url":"https://github.com/apache/iceberg/pull/6746#issuecomment-1421709404","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6746","id":1421709404,"node_id":"IC_kwDOCW7NX85UvZBc","user":{"login":"JonasJ-ap","id":55990951,"node_id":"MDQ6VXNlcjU1OTkwOTUx","avatar_url":"https://avatars.githubusercontent.com/u/55990951?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasJ-ap","html_url":"https://github.com/JonasJ-ap","followers_url":"https://api.github.com/users/JonasJ-ap/followers","following_url":"https://api.github.com/users/JonasJ-ap/following{/other_user}","gists_url":"https://api.github.com/users/JonasJ-ap/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasJ-ap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasJ-ap/subscriptions","organizations_url":"https://api.github.com/users/JonasJ-ap/orgs","repos_url":"https://api.github.com/users/JonasJ-ap/repos","events_url":"https://api.github.com/users/JonasJ-ap/events{/privacy}","received_events_url":"https://api.github.com/users/JonasJ-ap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T00:40:42Z","updated_at":"2023-02-08T00:40:42Z","author_association":"CONTRIBUTOR","body":"Thanks everyone for reviewing this! I will add a proof of running the latest update on EKS later today or tomorrow","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421709404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421931089","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1421931089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1421931089,"node_id":"IC_kwDOCW7NX85UwPJR","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T03:20:04Z","updated_at":"2023-02-08T03:20:04Z","author_association":"MEMBER","body":"@electrum thats part of my suggestion, no path entries can contain any unnormailzed posix characters. No .., ., //, maybe also specify no symbolic links although I'm not sure how we enforce that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1421931089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422053720","html_url":"https://github.com/apache/iceberg/pull/6570#issuecomment-1422053720","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6570","id":1422053720,"node_id":"IC_kwDOCW7NX85UwtFY","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T05:53:42Z","updated_at":"2023-02-08T05:53:42Z","author_association":"CONTRIBUTOR","body":"@szehon-ho: Gentle reminder, could you please take a look when you have some time?\r\nThanks, Peter ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422053720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422081585","html_url":"https://github.com/apache/iceberg/pull/6499#issuecomment-1422081585","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6499","id":1422081585,"node_id":"IC_kwDOCW7NX85Uwz4x","user":{"login":"krvikash","id":11939923,"node_id":"MDQ6VXNlcjExOTM5OTIz","avatar_url":"https://avatars.githubusercontent.com/u/11939923?v=4","gravatar_id":"","url":"https://api.github.com/users/krvikash","html_url":"https://github.com/krvikash","followers_url":"https://api.github.com/users/krvikash/followers","following_url":"https://api.github.com/users/krvikash/following{/other_user}","gists_url":"https://api.github.com/users/krvikash/gists{/gist_id}","starred_url":"https://api.github.com/users/krvikash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krvikash/subscriptions","organizations_url":"https://api.github.com/users/krvikash/orgs","repos_url":"https://api.github.com/users/krvikash/repos","events_url":"https://api.github.com/users/krvikash/events{/privacy}","received_events_url":"https://api.github.com/users/krvikash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T06:27:32Z","updated_at":"2023-02-08T06:27:32Z","author_association":"CONTRIBUTOR","body":"Rebased and resolved conflicts.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422081585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422170497","html_url":"https://github.com/apache/iceberg/pull/6571#issuecomment-1422170497","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6571","id":1422170497,"node_id":"IC_kwDOCW7NX85UxJmB","user":{"login":"youngxinler","id":36697727,"node_id":"MDQ6VXNlcjM2Njk3NzI3","avatar_url":"https://avatars.githubusercontent.com/u/36697727?v=4","gravatar_id":"","url":"https://api.github.com/users/youngxinler","html_url":"https://github.com/youngxinler","followers_url":"https://api.github.com/users/youngxinler/followers","following_url":"https://api.github.com/users/youngxinler/following{/other_user}","gists_url":"https://api.github.com/users/youngxinler/gists{/gist_id}","starred_url":"https://api.github.com/users/youngxinler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youngxinler/subscriptions","organizations_url":"https://api.github.com/users/youngxinler/orgs","repos_url":"https://api.github.com/users/youngxinler/repos","events_url":"https://api.github.com/users/youngxinler/events{/privacy}","received_events_url":"https://api.github.com/users/youngxinler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T07:45:40Z","updated_at":"2023-02-08T07:45:40Z","author_association":"CONTRIBUTOR","body":"@jackye1995 @amogh-jahagirdar  about this PR, please let me know if it can be merged into the master or if there is anything that needs to be done further?  I would be happy to see your opinions.  thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422170497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422223727","html_url":"https://github.com/apache/iceberg/issues/6505#issuecomment-1422223727","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6505","id":1422223727,"node_id":"IC_kwDOCW7NX85UxWlv","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T08:34:49Z","updated_at":"2023-02-08T08:34:49Z","author_association":"CONTRIBUTOR","body":"@JonasJ-ap Anything I can help with? If you don't have time, maybe @amogh-jahagirdar is interested in picking this up. I'd love to get this in 0.4.0","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422223727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422356262","html_url":"https://github.com/apache/iceberg/pull/6485#issuecomment-1422356262","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6485","id":1422356262,"node_id":"IC_kwDOCW7NX85Ux28m","user":{"login":"ggershinsky","id":12033212,"node_id":"MDQ6VXNlcjEyMDMzMjEy","avatar_url":"https://avatars.githubusercontent.com/u/12033212?v=4","gravatar_id":"","url":"https://api.github.com/users/ggershinsky","html_url":"https://github.com/ggershinsky","followers_url":"https://api.github.com/users/ggershinsky/followers","following_url":"https://api.github.com/users/ggershinsky/following{/other_user}","gists_url":"https://api.github.com/users/ggershinsky/gists{/gist_id}","starred_url":"https://api.github.com/users/ggershinsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggershinsky/subscriptions","organizations_url":"https://api.github.com/users/ggershinsky/orgs","repos_url":"https://api.github.com/users/ggershinsky/repos","events_url":"https://api.github.com/users/ggershinsky/events{/privacy}","received_events_url":"https://api.github.com/users/ggershinsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T10:16:11Z","updated_at":"2023-02-08T10:16:11Z","author_association":"CONTRIBUTOR","body":"fixed in the last commit","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422356262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422517138","html_url":"https://github.com/apache/iceberg/pull/6771#issuecomment-1422517138","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6771","id":1422517138,"node_id":"IC_kwDOCW7NX85UyeOS","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T12:28:00Z","updated_at":"2023-02-08T12:28:00Z","author_association":"COLLABORATOR","body":"cc @szehon-ho ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422517138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422714130","html_url":"https://github.com/apache/iceberg/pull/6745#issuecomment-1422714130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6745","id":1422714130,"node_id":"IC_kwDOCW7NX85UzOUS","user":{"login":"srilman","id":17444967,"node_id":"MDQ6VXNlcjE3NDQ0OTY3","avatar_url":"https://avatars.githubusercontent.com/u/17444967?v=4","gravatar_id":"","url":"https://api.github.com/users/srilman","html_url":"https://github.com/srilman","followers_url":"https://api.github.com/users/srilman/followers","following_url":"https://api.github.com/users/srilman/following{/other_user}","gists_url":"https://api.github.com/users/srilman/gists{/gist_id}","starred_url":"https://api.github.com/users/srilman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srilman/subscriptions","organizations_url":"https://api.github.com/users/srilman/orgs","repos_url":"https://api.github.com/users/srilman/repos","events_url":"https://api.github.com/users/srilman/events{/privacy}","received_events_url":"https://api.github.com/users/srilman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T14:48:18Z","updated_at":"2023-02-08T14:48:18Z","author_association":"CONTRIBUTOR","body":"Ready for review. @Fokko or someone else?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422714130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422756116","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1422756116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1422756116,"node_id":"IC_kwDOCW7NX85UzYkU","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T15:15:15Z","updated_at":"2023-02-08T15:15:15Z","author_association":"MEMBER","body":"I am concerned about security implications of handling `..` in paths. At the same time I don't see any practical implications of that. If we gonna do any form of normalization, we should forbid such paths.\r\nI think we should forbid `.` too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422756116/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422781924","html_url":"https://github.com/apache/iceberg/issues/6505#issuecomment-1422781924","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6505","id":1422781924,"node_id":"IC_kwDOCW7NX85Uze3k","user":{"login":"JonasJ-ap","id":55990951,"node_id":"MDQ6VXNlcjU1OTkwOTUx","avatar_url":"https://avatars.githubusercontent.com/u/55990951?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasJ-ap","html_url":"https://github.com/JonasJ-ap","followers_url":"https://api.github.com/users/JonasJ-ap/followers","following_url":"https://api.github.com/users/JonasJ-ap/following{/other_user}","gists_url":"https://api.github.com/users/JonasJ-ap/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasJ-ap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasJ-ap/subscriptions","organizations_url":"https://api.github.com/users/JonasJ-ap/orgs","repos_url":"https://api.github.com/users/JonasJ-ap/repos","events_url":"https://api.github.com/users/JonasJ-ap/events{/privacy}","received_events_url":"https://api.github.com/users/JonasJ-ap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T15:26:50Z","updated_at":"2023-02-08T15:26:50Z","author_association":"CONTRIBUTOR","body":"Sorry that I haven't got enough time to work this out. @amogh-jahagirdar please feel free to pick this up if you are interested in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422781924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422829117","html_url":"https://github.com/apache/iceberg/pull/6772#issuecomment-1422829117","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6772","id":1422829117,"node_id":"IC_kwDOCW7NX85UzqY9","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T15:45:19Z","updated_at":"2023-02-08T15:45:19Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer @electrum @findepi @amogh-jahagirdar ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422829117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422834606","html_url":"https://github.com/apache/iceberg/issues/6763#issuecomment-1422834606","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6763","id":1422834606,"node_id":"IC_kwDOCW7NX85Uzruu","user":{"login":"munendrasn","id":9696252,"node_id":"MDQ6VXNlcjk2OTYyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/9696252?v=4","gravatar_id":"","url":"https://api.github.com/users/munendrasn","html_url":"https://github.com/munendrasn","followers_url":"https://api.github.com/users/munendrasn/followers","following_url":"https://api.github.com/users/munendrasn/following{/other_user}","gists_url":"https://api.github.com/users/munendrasn/gists{/gist_id}","starred_url":"https://api.github.com/users/munendrasn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/munendrasn/subscriptions","organizations_url":"https://api.github.com/users/munendrasn/orgs","repos_url":"https://api.github.com/users/munendrasn/repos","events_url":"https://api.github.com/users/munendrasn/events{/privacy}","received_events_url":"https://api.github.com/users/munendrasn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T15:48:30Z","updated_at":"2023-02-08T15:48:30Z","author_association":"CONTRIBUTOR","body":"@jackye1995 \r\nPinging you as it relates to PR https://github.com/apache/iceberg/pull/2688. Please share your thoughts/opinion on swapping Values for Namespace entries","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422834606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422835045","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1422835045","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1422835045,"node_id":"IC_kwDOCW7NX85Uzr1l","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T15:48:48Z","updated_at":"2023-02-08T15:48:48Z","author_association":"CONTRIBUTOR","body":"I put up a draft for discussion, there are different ways to achieve that, the idea in the PR is to normalizes all the places that we write a location, which includes table location, metadata file location and data location.\r\n\r\n> I am concerned about security implications of handling .. in paths\r\n\r\nHow do Hadoop file systems currently handle such use case? I believe it will also support `..` and `.` by default and derive the posix path of it right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422835045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422854166","html_url":"https://github.com/apache/iceberg/issues/6763#issuecomment-1422854166","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6763","id":1422854166,"node_id":"IC_kwDOCW7NX85UzwgW","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T16:01:15Z","updated_at":"2023-02-08T16:01:15Z","author_association":"CONTRIBUTOR","body":"The plan sounds good to me, limitation on row level security was overlooked during the initial implementation. But how do we ensure backwards compatibility? Feels like if we update the schema of the table, it requires a migration?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422854166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422908119","html_url":"https://github.com/apache/iceberg/pull/6642#issuecomment-1422908119","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6642","id":1422908119,"node_id":"IC_kwDOCW7NX85Uz9rX","user":{"login":"JonasJ-ap","id":55990951,"node_id":"MDQ6VXNlcjU1OTkwOTUx","avatar_url":"https://avatars.githubusercontent.com/u/55990951?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasJ-ap","html_url":"https://github.com/JonasJ-ap","followers_url":"https://api.github.com/users/JonasJ-ap/followers","following_url":"https://api.github.com/users/JonasJ-ap/following{/other_user}","gists_url":"https://api.github.com/users/JonasJ-ap/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasJ-ap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasJ-ap/subscriptions","organizations_url":"https://api.github.com/users/JonasJ-ap/orgs","repos_url":"https://api.github.com/users/JonasJ-ap/repos","events_url":"https://api.github.com/users/JonasJ-ap/events{/privacy}","received_events_url":"https://api.github.com/users/JonasJ-ap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T16:34:47Z","updated_at":"2023-02-08T16:34:47Z","author_association":"CONTRIBUTOR","body":"[Curiosity] Which one is preferred for hudi-related variable names: `hudixxxx` or `hoodiexxx`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422908119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422911118","html_url":"https://github.com/apache/iceberg/pull/6642#issuecomment-1422911118","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6642","id":1422911118,"node_id":"IC_kwDOCW7NX85Uz-aO","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T16:36:47Z","updated_at":"2023-02-08T16:36:47Z","author_association":"CONTRIBUTOR","body":"> [Curiosity] Which one is preferred for hudi-related variable names: hudixxxx or hoodiexxx\r\n\r\nHudi should be, Hoodie was the name used before the official project name","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422911118/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422946779","html_url":"https://github.com/apache/iceberg/issues/6763#issuecomment-1422946779","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6763","id":1422946779,"node_id":"IC_kwDOCW7NX85U0HHb","user":{"login":"munendrasn","id":9696252,"node_id":"MDQ6VXNlcjk2OTYyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/9696252?v=4","gravatar_id":"","url":"https://api.github.com/users/munendrasn","html_url":"https://github.com/munendrasn","followers_url":"https://api.github.com/users/munendrasn/followers","following_url":"https://api.github.com/users/munendrasn/following{/other_user}","gists_url":"https://api.github.com/users/munendrasn/gists{/gist_id}","starred_url":"https://api.github.com/users/munendrasn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/munendrasn/subscriptions","organizations_url":"https://api.github.com/users/munendrasn/orgs","repos_url":"https://api.github.com/users/munendrasn/repos","events_url":"https://api.github.com/users/munendrasn/events{/privacy}","received_events_url":"https://api.github.com/users/munendrasn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T17:01:20Z","updated_at":"2023-02-08T17:01:35Z","author_association":"CONTRIBUTOR","body":"With the above plan, schema would remain same for the DynamoDb table, while writing Namespace entries we would swap values (identifier, and namespace columns)\r\n\r\nAs for backward compatibility, I had couple of ideas\r\n* Deprecate current Impl, and introduce new DynamoDbCatalog impl\r\n* Give option to user where users can specify the how to store the Namespace entries using config `dynamodb.namespace-as-identifier` which can default to `false` at least in the beginning. This flag/config can be used to decide the namespace entry storage. Essentially, two approaches fit into single implementation\r\n   * `listNamespace` also need to consume this config, and fetch entries differently\r\n\r\nI agree, eventually migration might be required for the existing users. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1422946779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423000390","html_url":"https://github.com/apache/iceberg/issues/6679#issuecomment-1423000390","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6679","id":1423000390,"node_id":"IC_kwDOCW7NX85U0UNG","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T17:39:49Z","updated_at":"2023-02-08T17:39:49Z","author_association":"CONTRIBUTOR","body":"I will submit a PR to change the default distribution modes for insert and merge. I'll be also happy to review a PR for #6741.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423000390/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423004210","html_url":"https://github.com/apache/iceberg/issues/6257#issuecomment-1423004210","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6257","id":1423004210,"node_id":"IC_kwDOCW7NX85U0VIy","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T17:42:58Z","updated_at":"2023-02-08T17:42:58Z","author_association":"COLLABORATOR","body":"Hi @gaborkaszab sorry i was just re-reading this issue and had a question on the use-case, do you know why it doesnt use a metadata delete, to remove the partition without delete-files?  ref it should return true here, and then go to a code path where it deletes the manifest entry , rather than write a delete file.\r\n   https://github.com/apache/iceberg/blob/master/spark/v3.3/spark/src/main/java/org/apache/iceberg/spark/source/SparkTable.java#L281","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423004210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423020339","html_url":"https://github.com/apache/iceberg/issues/6758#issuecomment-1423020339","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6758","id":1423020339,"node_id":"IC_kwDOCW7NX85U0ZEz","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T17:56:06Z","updated_at":"2023-02-08T17:56:06Z","author_association":"MEMBER","body":"Consensus at Community Sync was that for now we will just add a strip trailing slash to\r\n\r\nhttps://github.com/apache/iceberg/blob/6697129a314d98cb793601495f7ebb2ae000b40a/core/src/main/java/org/apache/iceberg/TableMetadata.java#L451\r\n\r\nTo remove any chance of accidentally adding the double slash.\r\n\r\nFor all the other oddities Jack's PR will allow for manually setting a flag to forbid/only write posix compatible files. This would cover \".., .\" and some other things but still not help us in the case of symbolic links which ends up being a weirder proposition based on the FileIO","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423020339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423068671","html_url":"https://github.com/apache/iceberg/pull/6598#issuecomment-1423068671","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6598","id":1423068671,"node_id":"IC_kwDOCW7NX85U0k3_","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T18:34:22Z","updated_at":"2023-02-08T18:34:22Z","author_association":"CONTRIBUTOR","body":"@rdblue @danielcweeks the PR looks good to be merged, do you have any additional comment?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423068671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423071189","html_url":"https://github.com/apache/iceberg/issues/6774#issuecomment-1423071189","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6774","id":1423071189,"node_id":"IC_kwDOCW7NX85U0lfV","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T18:36:37Z","updated_at":"2023-02-08T18:36:37Z","author_association":"CONTRIBUTOR","body":"@rdblue I remember you said you would like to take this effort in the meeting?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423071189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423100498","html_url":"https://github.com/apache/iceberg/issues/6763#issuecomment-1423100498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6763","id":1423100498,"node_id":"IC_kwDOCW7NX85U0spS","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T19:03:16Z","updated_at":"2023-02-08T19:03:16Z","author_association":"CONTRIBUTOR","body":"> schema would remain same for the DynamoDb table\r\n\r\nCool then we are good here\r\n\r\nUsing a config options sounds like a good idea, but I think that only handles the write side. It's more like `dynamodb.write.namespace-as-identifier`. \r\n\r\nFor read, we need to handle a hybrid mode of 2 cases existing at the same time. If that is achievable, we can proceed forward with the implementation ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423100498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423178313","html_url":"https://github.com/apache/iceberg/pull/6642#issuecomment-1423178313","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6642","id":1423178313,"node_id":"IC_kwDOCW7NX85U0_pJ","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T20:09:31Z","updated_at":"2023-02-08T20:09:31Z","author_association":"CONTRIBUTOR","body":"Took a brief look, overall I agree with what the community discussion led to, replaying the timeline is cool but Hudi concurrent transaction has awkward behavior and we cannot guarantee it is always correct.\r\n\r\nInstead, we can ask user to always compact before migration, such that we only need to offer the ability to migrate the latest compacted table in Hudi.\r\n\r\nWhen new data come, the user can rerun compaction, and then rerun this migration action, and the action will fully replace the previous version of the migrated Iceberg table.\r\n\r\nThis approach will work for both CoW and MoR tables, and we can add timeline replay as follow up feature if necessary.\r\n\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423178313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423240542","html_url":"https://github.com/apache/iceberg/pull/6554#issuecomment-1423240542","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6554","id":1423240542,"node_id":"IC_kwDOCW7NX85U1O1e","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T21:08:08Z","updated_at":"2023-02-08T21:08:08Z","author_association":"MEMBER","body":"Thanks for the PR @youngxinler !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423240542/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423279323","html_url":"https://github.com/apache/iceberg/pull/6776#issuecomment-1423279323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6776","id":1423279323,"node_id":"IC_kwDOCW7NX85U1YTb","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T21:44:41Z","updated_at":"2023-02-08T21:44:41Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @rdblue @szehon-ho @flyrain @karuppayya @amogh-jahagirdar @singhpk234","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423279323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423281287","html_url":"https://github.com/apache/iceberg/pull/6777#issuecomment-1423281287","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6777","id":1423281287,"node_id":"IC_kwDOCW7NX85U1YyH","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T21:46:49Z","updated_at":"2023-02-08T21:46:49Z","author_association":"MEMBER","body":"@jackye1995 + @rdblue + @aokolnychyi  + @danielcweeks  + @amogh-jahagirdar + @findepi \r\n\r\nThis fixes only instances of accidental trailing slashes in the table locations. This would have a slight change in behavior for tables which are currently using S3FIleIO and have a trailing slash. new files for those tables will end up in single slash paths. Old files will be unaffected. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423281287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423293372","html_url":"https://github.com/apache/iceberg/pull/6777#issuecomment-1423293372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6777","id":1423293372,"node_id":"IC_kwDOCW7NX85U1bu8","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T21:59:37Z","updated_at":"2023-02-08T21:59:37Z","author_association":"MEMBER","body":"Cleaning up tests now, we have many tests that are using trailing slashes in table location","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423293372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423337682","html_url":"https://github.com/apache/iceberg/issues/6710#issuecomment-1423337682","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6710","id":1423337682,"node_id":"IC_kwDOCW7NX85U1mjS","user":{"login":"agnes-xinyi-lu","id":124839592,"node_id":"U_kgDOB3DmqA","avatar_url":"https://avatars.githubusercontent.com/u/124839592?v=4","gravatar_id":"","url":"https://api.github.com/users/agnes-xinyi-lu","html_url":"https://github.com/agnes-xinyi-lu","followers_url":"https://api.github.com/users/agnes-xinyi-lu/followers","following_url":"https://api.github.com/users/agnes-xinyi-lu/following{/other_user}","gists_url":"https://api.github.com/users/agnes-xinyi-lu/gists{/gist_id}","starred_url":"https://api.github.com/users/agnes-xinyi-lu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agnes-xinyi-lu/subscriptions","organizations_url":"https://api.github.com/users/agnes-xinyi-lu/orgs","repos_url":"https://api.github.com/users/agnes-xinyi-lu/repos","events_url":"https://api.github.com/users/agnes-xinyi-lu/events{/privacy}","received_events_url":"https://api.github.com/users/agnes-xinyi-lu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-08T22:45:57Z","updated_at":"2023-02-08T22:45:57Z","author_association":"CONTRIBUTOR","body":"for updateTable, there is UUID check for every commit, that should guarantee the uniqueness of the metadata. Isn't metadata location decided on the server side for each new commit (probably includes UUID in the path)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423337682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423405231","html_url":"https://github.com/apache/iceberg/issues/5355#issuecomment-1423405231","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5355","id":1423405231,"node_id":"IC_kwDOCW7NX85U13Cv","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T00:12:19Z","updated_at":"2023-02-09T00:12:19Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423405231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423406077","html_url":"https://github.com/apache/iceberg/issues/6750#issuecomment-1423406077","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6750","id":1423406077,"node_id":"IC_kwDOCW7NX85U13P9","user":{"login":"bluzy","id":7729319,"node_id":"MDQ6VXNlcjc3MjkzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/7729319?v=4","gravatar_id":"","url":"https://api.github.com/users/bluzy","html_url":"https://github.com/bluzy","followers_url":"https://api.github.com/users/bluzy/followers","following_url":"https://api.github.com/users/bluzy/following{/other_user}","gists_url":"https://api.github.com/users/bluzy/gists{/gist_id}","starred_url":"https://api.github.com/users/bluzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bluzy/subscriptions","organizations_url":"https://api.github.com/users/bluzy/orgs","repos_url":"https://api.github.com/users/bluzy/repos","events_url":"https://api.github.com/users/bluzy/events{/privacy}","received_events_url":"https://api.github.com/users/bluzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T00:13:19Z","updated_at":"2023-02-09T02:36:50Z","author_association":"NONE","body":"@lirui-apache \r\nHello, I have problem with providing multi-tenant hive service, so I am waiting for https://github.com/apache/iceberg/pull/6175 to be released.\r\nPlease, could you progress it? 🙏 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423406077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423414393","html_url":"https://github.com/apache/iceberg/issues/6780#issuecomment-1423414393","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6780","id":1423414393,"node_id":"IC_kwDOCW7NX85U15R5","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T00:22:25Z","updated_at":"2023-02-09T00:22:25Z","author_association":"CONTRIBUTOR","body":"I believe @abmo-x is helping fix it in #6779 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423414393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423472906","html_url":"https://github.com/apache/iceberg/issues/104#issuecomment-1423472906","issue_url":"https://api.github.com/repos/apache/iceberg/issues/104","id":1423472906,"node_id":"IC_kwDOCW7NX85U2HkK","user":{"login":"dmgcodevil","id":1413873,"node_id":"MDQ6VXNlcjE0MTM4NzM=","avatar_url":"https://avatars.githubusercontent.com/u/1413873?v=4","gravatar_id":"","url":"https://api.github.com/users/dmgcodevil","html_url":"https://github.com/dmgcodevil","followers_url":"https://api.github.com/users/dmgcodevil/followers","following_url":"https://api.github.com/users/dmgcodevil/following{/other_user}","gists_url":"https://api.github.com/users/dmgcodevil/gists{/gist_id}","starred_url":"https://api.github.com/users/dmgcodevil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmgcodevil/subscriptions","organizations_url":"https://api.github.com/users/dmgcodevil/orgs","repos_url":"https://api.github.com/users/dmgcodevil/repos","events_url":"https://api.github.com/users/dmgcodevil/events{/privacy}","received_events_url":"https://api.github.com/users/dmgcodevil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T01:19:58Z","updated_at":"2023-02-09T01:20:15Z","author_association":"CONTRIBUTOR","body":"`0.11.0`\r\n\r\n\r\n```\r\n23/02/09 01:05:06 WARN HadoopStreams: Unclosed output stream created by:\r\n\torg.apache.iceberg.hadoop.HadoopStreams$HadoopPositionOutputStream.<init>(HadoopStreams.java:143)\r\n\torg.apache.iceberg.hadoop.HadoopStreams.wrap(HadoopStreams.java:67)\r\n\torg.apache.iceberg.hadoop.HadoopOutputFile.createOrOverwrite(HadoopOutputFile.java:85)\r\n\torg.apache.iceberg.avro.AvroFileAppender.<init>(AvroFileAppender.java:44)\r\n\torg.apache.iceberg.avro.Avro$WriteBuilder.build(Avro.java:184)\r\n\torg.apache.iceberg.ManifestWriter$V1Writer.newAppender(ManifestWriter.java:264)\r\n\torg.apache.iceberg.ManifestWriter.<init>(ManifestWriter.java:58)\r\n\torg.apache.iceberg.ManifestWriter.<init>(ManifestWriter.java:34)\r\n\torg.apache.iceberg.ManifestWriter$V1Writer.<init>(ManifestWriter.java:243)\r\n\torg.apache.iceberg.ManifestFiles.write(ManifestFiles.java:117)\r\n\torg.apache.iceberg.SnapshotProducer.newManifestWriter(SnapshotProducer.java:361)\r\n\torg.apache.iceberg.MergingSnapshotProducer$DataFileFilterManager.newManifestWriter(MergingSnapshotProducer.java:509)\r\n\torg.apache.iceberg.ManifestFilterManager.filterManifestWithDeletedFiles(ManifestFilterManager.java:378)\r\n\torg.apache.iceberg.ManifestFilterManager.filterManifest(ManifestFilterManager.java:300)\r\n\torg.apache.iceberg.ManifestFilterManager.lambda$filterManifests$0(ManifestFilterManager.java:182)\r\n\torg.apache.iceberg.util.Tasks$Builder.runTaskWithRetry(Tasks.java:404)\r\n\torg.apache.iceberg.util.Tasks$Builder.access$300(Tasks.java:70)\r\n\torg.apache.iceberg.util.Tasks$Builder$1.run(Tasks.java:310)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423472906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423569969","html_url":"https://github.com/apache/iceberg/issues/6783#issuecomment-1423569969","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6783","id":1423569969,"node_id":"IC_kwDOCW7NX85U2fQx","user":{"login":"thomasaNvidia","id":116293196,"node_id":"U_kgDOBu5-TA","avatar_url":"https://avatars.githubusercontent.com/u/116293196?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasaNvidia","html_url":"https://github.com/thomasaNvidia","followers_url":"https://api.github.com/users/thomasaNvidia/followers","following_url":"https://api.github.com/users/thomasaNvidia/following{/other_user}","gists_url":"https://api.github.com/users/thomasaNvidia/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasaNvidia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasaNvidia/subscriptions","organizations_url":"https://api.github.com/users/thomasaNvidia/orgs","repos_url":"https://api.github.com/users/thomasaNvidia/repos","events_url":"https://api.github.com/users/thomasaNvidia/events{/privacy}","received_events_url":"https://api.github.com/users/thomasaNvidia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T03:27:18Z","updated_at":"2023-02-09T03:27:18Z","author_association":"NONE","body":"Here is the error message if that helps.\r\n\r\n```\r\npyspark.sql.utils.AnalysisException: org.apache.hadoop.hive.ql.metadata.HiveException: Unable to fetch table iceberg_gross_demand. StorageDescriptor#InputFormat cannot be null for table: iceberg_gross_demand (Service: null; Status Code: 0; Error Code: null; Request ID: null; Proxy: null)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423569969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423603879","html_url":"https://github.com/apache/iceberg/issues/6783#issuecomment-1423603879","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6783","id":1423603879,"node_id":"IC_kwDOCW7NX85U2nin","user":{"login":"thomasaNvidia","id":116293196,"node_id":"U_kgDOBu5-TA","avatar_url":"https://avatars.githubusercontent.com/u/116293196?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasaNvidia","html_url":"https://github.com/thomasaNvidia","followers_url":"https://api.github.com/users/thomasaNvidia/followers","following_url":"https://api.github.com/users/thomasaNvidia/following{/other_user}","gists_url":"https://api.github.com/users/thomasaNvidia/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasaNvidia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasaNvidia/subscriptions","organizations_url":"https://api.github.com/users/thomasaNvidia/orgs","repos_url":"https://api.github.com/users/thomasaNvidia/repos","events_url":"https://api.github.com/users/thomasaNvidia/events{/privacy}","received_events_url":"https://api.github.com/users/thomasaNvidia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T04:13:00Z","updated_at":"2023-02-09T04:29:57Z","author_association":"NONE","body":"Another note, when running the `CREATE TABLE` command and then manually changing the `inputFormat`, `outputFormat`, and `serialization.lib` within the AWS Glue Data Catalog UI. I run the insert command one time and it works. \r\n\r\nHowever, if I run that same insert command again it no longer works even if the table shows the proper `inputFormat`, `outputFormat`, and `serialization.lib` values within the AWS Glue Data Catalog.\r\n\r\nIt looks like somehow those values get changed when running the first insert command but isn't reflected in the AWS Glue Data Catalog..","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423603879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423625120","html_url":"https://github.com/apache/iceberg/issues/6783#issuecomment-1423625120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6783","id":1423625120,"node_id":"IC_kwDOCW7NX85U2sug","user":{"login":"thomasaNvidia","id":116293196,"node_id":"U_kgDOBu5-TA","avatar_url":"https://avatars.githubusercontent.com/u/116293196?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasaNvidia","html_url":"https://github.com/thomasaNvidia","followers_url":"https://api.github.com/users/thomasaNvidia/followers","following_url":"https://api.github.com/users/thomasaNvidia/following{/other_user}","gists_url":"https://api.github.com/users/thomasaNvidia/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasaNvidia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasaNvidia/subscriptions","organizations_url":"https://api.github.com/users/thomasaNvidia/orgs","repos_url":"https://api.github.com/users/thomasaNvidia/repos","events_url":"https://api.github.com/users/thomasaNvidia/events{/privacy}","received_events_url":"https://api.github.com/users/thomasaNvidia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T04:40:50Z","updated_at":"2023-02-09T04:40:50Z","author_association":"NONE","body":"Another note for context as I must be using this incorrectly somehow. When I go into AWS Glue Data Catalog and `Edit` the table and hit save with a new version without changing any properties like `inputFormat`, `outputFormat`, and `serialization.lib` and run the `insert` job again it works. So somehow it looks like the `metadata_location` resets or table properties get resaved when I go into the AWS Glue Data Catalog console and edit/save..","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423625120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423670948","html_url":"https://github.com/apache/iceberg/issues/6750#issuecomment-1423670948","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6750","id":1423670948,"node_id":"IC_kwDOCW7NX85U236k","user":{"login":"lirui-apache","id":5210788,"node_id":"MDQ6VXNlcjUyMTA3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/5210788?v=4","gravatar_id":"","url":"https://api.github.com/users/lirui-apache","html_url":"https://github.com/lirui-apache","followers_url":"https://api.github.com/users/lirui-apache/followers","following_url":"https://api.github.com/users/lirui-apache/following{/other_user}","gists_url":"https://api.github.com/users/lirui-apache/gists{/gist_id}","starred_url":"https://api.github.com/users/lirui-apache/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lirui-apache/subscriptions","organizations_url":"https://api.github.com/users/lirui-apache/orgs","repos_url":"https://api.github.com/users/lirui-apache/repos","events_url":"https://api.github.com/users/lirui-apache/events{/privacy}","received_events_url":"https://api.github.com/users/lirui-apache/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T05:48:58Z","updated_at":"2023-02-09T05:48:58Z","author_association":"CONTRIBUTOR","body":"Hi @bluzy , we're using #6175 in our internal code and it solves the problem we faced. However, according to the discussions in that PR, we'll implement pluggable client pool and let users/engines decide the cache behavior (#6698). Therefore I'm afraid #6175 won't be released.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423670948/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423751198","html_url":"https://github.com/apache/iceberg/pull/6777#issuecomment-1423751198","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6777","id":1423751198,"node_id":"IC_kwDOCW7NX85U3Lge","user":{"login":"findepi","id":144328,"node_id":"MDQ6VXNlcjE0NDMyOA==","avatar_url":"https://avatars.githubusercontent.com/u/144328?v=4","gravatar_id":"","url":"https://api.github.com/users/findepi","html_url":"https://github.com/findepi","followers_url":"https://api.github.com/users/findepi/followers","following_url":"https://api.github.com/users/findepi/following{/other_user}","gists_url":"https://api.github.com/users/findepi/gists{/gist_id}","starred_url":"https://api.github.com/users/findepi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/findepi/subscriptions","organizations_url":"https://api.github.com/users/findepi/orgs","repos_url":"https://api.github.com/users/findepi/repos","events_url":"https://api.github.com/users/findepi/events{/privacy}","received_events_url":"https://api.github.com/users/findepi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T07:28:51Z","updated_at":"2023-02-09T07:28:51Z","author_association":"MEMBER","body":"cc @ebyhr @electrum @alexjo2144 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423751198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423827362","html_url":"https://github.com/apache/iceberg/pull/6787#issuecomment-1423827362","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6787","id":1423827362,"node_id":"IC_kwDOCW7NX85U3eGi","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T08:44:45Z","updated_at":"2023-02-09T08:44:45Z","author_association":"MEMBER","body":"@RussellSpitzer, @aokolnychyi  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423827362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423828785","html_url":"https://github.com/apache/iceberg/pull/6786#issuecomment-1423828785","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6786","id":1423828785,"node_id":"IC_kwDOCW7NX85U3ecx","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T08:46:00Z","updated_at":"2023-02-09T08:46:00Z","author_association":"MEMBER","body":"cc: @RussellSpitzer, @flyrain, @aokolnychyi   ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423828785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423841619","html_url":"https://github.com/apache/iceberg/pull/6735#issuecomment-1423841619","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6735","id":1423841619,"node_id":"IC_kwDOCW7NX85U3hlT","user":{"login":"slfan1989","id":55643692,"node_id":"MDQ6VXNlcjU1NjQzNjky","avatar_url":"https://avatars.githubusercontent.com/u/55643692?v=4","gravatar_id":"","url":"https://api.github.com/users/slfan1989","html_url":"https://github.com/slfan1989","followers_url":"https://api.github.com/users/slfan1989/followers","following_url":"https://api.github.com/users/slfan1989/following{/other_user}","gists_url":"https://api.github.com/users/slfan1989/gists{/gist_id}","starred_url":"https://api.github.com/users/slfan1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slfan1989/subscriptions","organizations_url":"https://api.github.com/users/slfan1989/orgs","repos_url":"https://api.github.com/users/slfan1989/repos","events_url":"https://api.github.com/users/slfan1989/events{/privacy}","received_events_url":"https://api.github.com/users/slfan1989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T08:57:08Z","updated_at":"2023-02-09T08:57:08Z","author_association":"CONTRIBUTOR","body":"> Looks good to me!\r\n\r\n@jackye1995 Thank you very much for your help in reviewing the code!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423841619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423889742","html_url":"https://github.com/apache/iceberg/pull/6746#issuecomment-1423889742","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6746","id":1423889742,"node_id":"IC_kwDOCW7NX85U3tVO","user":{"login":"JonasJ-ap","id":55990951,"node_id":"MDQ6VXNlcjU1OTkwOTUx","avatar_url":"https://avatars.githubusercontent.com/u/55990951?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasJ-ap","html_url":"https://github.com/JonasJ-ap","followers_url":"https://api.github.com/users/JonasJ-ap/followers","following_url":"https://api.github.com/users/JonasJ-ap/following{/other_user}","gists_url":"https://api.github.com/users/JonasJ-ap/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasJ-ap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasJ-ap/subscriptions","organizations_url":"https://api.github.com/users/JonasJ-ap/orgs","repos_url":"https://api.github.com/users/JonasJ-ap/repos","events_url":"https://api.github.com/users/JonasJ-ap/events{/privacy}","received_events_url":"https://api.github.com/users/JonasJ-ap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T09:33:59Z","updated_at":"2023-02-09T19:09:58Z","author_association":"CONTRIBUTOR","body":"Sorry for the late update. It took me some time to construct the EKS environment properly.\r\n## Test Environment\r\nAWS EKS: 1.24, Spark 3.1.2\r\n## Test spark job / k8s job config:\r\n```java\r\nimport org.apache.spark.sql.SparkSession\r\n\r\nobject GlueApp {\r\n\r\n  def main(sysArgs: Array[String]) {\r\n    val spark: SparkSession = SparkSession.builder.\r\n      config(\"spark.master\", \"local\").\r\n      config(\"spark.sql.extensions\", \"org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\").\r\n      config(\"spark.sql.catalog.demo\", \"org.apache.iceberg.spark.SparkCatalog\").\r\n      config(\"spark.sql.catalog.demo.io-impl\", \"org.apache.iceberg.aws.s3.S3FileIO\").\r\n      config(\"spark.sql.catalog.demo.warehouse\", \"s3a://gluetestjonas/warehouse\").\r\n      config(\"spark.sql.catalog.demo.catalog-impl\", \"org.apache.iceberg.aws.glue.GlueCatalog\").\r\n      config(\"spark.sql.catalog.demo.client.factory\", \"org.apache.iceberg.aws.AssumeRoleAwsClientFactory\").\r\n      config(\"spark.sql.catalog.demo.client.assume-role.arn\", \"arn:aws:iam::481640105715:role/jonasjiang_gluecatalog\").\r\n      config(\"spark.sql.catalog.demo.client.assume-role.region\", \"us-east-1\").\r\n      config(\"spark.sql.catalog.demo.client.assume-role.session-name\", \"test\").\r\n      config(\"spark.sql.catalog.demo.client.assume-role.external-id\", \"1234546\").\r\n      config(\"spark.sql.catalog.demo.http-client.type\", \"apache\").\r\n      getOrCreate()\r\n\r\n    val data = spark.range(0, 100)\r\n    data.writeTo(\"demo.default.table100\").createOrReplace()\r\n    spark.sql(\"SELECT * FROM demo.default.table100\").show()\r\n\r\n    // read using SQL\r\n    // spark.sql(\"SELECT * FROM demo.reviews.book_reviews\").show()\r\n  }\r\n}\r\n```\r\n\r\n```bash\r\nname: spark\r\n          image: jonasjiang/spark-eks:v3.1.2\r\n          args: [\r\n              \"/bin/sh\",\r\n              \"-c\",\r\n              \"/opt/spark/bin/spark-submit \\\r\n            --master k8s://https://kubernetes.default.svc.cluster.local:443 \\\r\n            --deploy-mode cluster \\\r\n            --name spark-eks \\\r\n            --class GlueApp \\\r\n            --jars s3a://gluetestjonas/jars/iceberg-spark-runtime-3.1_bug_fix_aws_httpclient_conflict_prefix_map.jar \\\r\n            --packages software.amazon.awssdk:apache-client:2.17.257,software.amazon.awssdk:s3:2.17.257,software.amazon.awssdk:glue:2.17.257,software.amazon.awssdk:kms:2.17.257,software.amazon.awssdk:iam:2.17.257,software.amazon.awssdk:sts:2.17.257,software.amazon.awssdk:dynamodb:2.17.257 \\\r\n            ...\r\n            --conf spark.kubernetes.container.image=jonasjiang/spark-eks:v3.1.2 \\\r\n            ...\r\n            --conf spark.kubernetes.authenticate.driver.serviceAccountName=spark \\\r\n            --conf spark.hadoop.fs.s3a.aws.credentials.provider=com.amazonaws.auth.WebIdentityTokenCredentialsProvider \\\r\n            --conf spark.kubernetes.authenticate.submission.caCertFile=/var/run/secrets/kubernetes.io/serviceaccount/ca.crt \\\r\n            --conf spark.kubernetes.authenticate.submission.oauthTokenFile=/var/run/secrets/kubernetes.io/serviceaccount/token \\\r\n            s3a://gluetestjonas/jars/scalar-glue_apache.jar\r\n```\r\n### Test result:\r\nCurrent master branch had the following error:\r\n![Screen Shot 2023-02-09 at 03 57 22](https://user-images.githubusercontent.com/55990951/217773207-827b8866-1b55-4823-8797-b9ea50591305.png)\r\nThis PR was fine:\r\n![Screen Shot 2023-02-09 at 04 01 00](https://user-images.githubusercontent.com/55990951/217773583-e7fa151e-2719-4e6a-a9d9-fee0bf4a29e8.png)\r\n\r\nIndicating that we no longer need `urlconnection` when set http-client.type to `apache`\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1423889742/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424157372","html_url":"https://github.com/apache/iceberg/issues/6778#issuecomment-1424157372","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6778","id":1424157372,"node_id":"IC_kwDOCW7NX85U4uq8","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T13:00:41Z","updated_at":"2023-02-09T13:00:41Z","author_association":"CONTRIBUTOR","body":"I believe this was fixed by https://github.com/apache/iceberg/pull/5694. I don't think we can just convert all `IOExceptions`  to `CommitStateUnknownException` in the `HttpClient`.\r\n\r\nDo you maybe have a test that would reproduce the issue you're seeing?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424157372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424167414","html_url":"https://github.com/apache/iceberg/issues/6763#issuecomment-1424167414","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6763","id":1424167414,"node_id":"IC_kwDOCW7NX85U4xH2","user":{"login":"munendrasn","id":9696252,"node_id":"MDQ6VXNlcjk2OTYyNTI=","avatar_url":"https://avatars.githubusercontent.com/u/9696252?v=4","gravatar_id":"","url":"https://api.github.com/users/munendrasn","html_url":"https://github.com/munendrasn","followers_url":"https://api.github.com/users/munendrasn/followers","following_url":"https://api.github.com/users/munendrasn/following{/other_user}","gists_url":"https://api.github.com/users/munendrasn/gists{/gist_id}","starred_url":"https://api.github.com/users/munendrasn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/munendrasn/subscriptions","organizations_url":"https://api.github.com/users/munendrasn/orgs","repos_url":"https://api.github.com/users/munendrasn/repos","events_url":"https://api.github.com/users/munendrasn/events{/privacy}","received_events_url":"https://api.github.com/users/munendrasn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T13:08:02Z","updated_at":"2023-02-09T13:08:02Z","author_association":"CONTRIBUTOR","body":"### Hybrid Mode\r\nFor the Hybrid mode, we evaluated different ways of handling existing namespaces\r\n* Any new namespace update would swap the value during updateItem\r\n   * Impacts only the updated namespaces\r\n* Both formats being present in DynamoDb table for the same Namespace entry\r\n    * Need to have additional migration, transactional writes only covers the Namespace entries that are being updated\r\n* Allowing the existing Namespace entries to be current format, and new ones to be in new format\r\n\r\nEvery approach has additional overhead of handling of certain cases, sharing few of them.\r\n* For namespace operations like setProperties, removeProperties which does loadNamespace, and then update\r\n     * Need to maintain context how the namespace was read for update, or need to transactional update\r\n     * Moreover, ACL permission issue would still exists.\r\n* Similarly for createNamespace, with new config, we might end up creating namespace for existing namespace. Creation of Namespace with existing name would fail currently. With Hybrid one, it would be tricker to handle - not sure DynamoDb supports conditional expression on different item when updating/creating a new item\r\n\r\nMoreover, Hybrid mode would have to be maintained which might impact future feature dev in DynamoDb catalog.  ALL Namespace access need to be provided for Hybrid mode, which again impact ACL permissions. Roll-forward won't complete work if some of the Namespace are never updated.\r\n\r\n### Single config for read & write\r\n\r\n We are letting the user to adopt it based on their use-case. If they don't have requirement for ACL then they don't need to move to new format. For a single Catalog instance, all writes, and read would use one format.\r\nThe idea is to let user choose based on use-case, and make an informed choice. As even with Hybrid mode, for namespace not updated, need separate migration\r\n\r\nAs for migration, I was thinking something similar to `registerTable` , maybe we can have `registerNamespace(Namespace namespace, SupportsNamespaces originalMetastore)`.\r\nSame can be achieved without registerNamespace functionality too\r\n* Essentially, read Namespace from one catalog, createNamespace in another\r\n* Users will move to new format when required, and they have executed the migration for all existing namespace\r\nNew DynamoDb Catalog implementation\r\n\r\n### Add new implementation, and deprecate the existing one.\r\n\r\nThis has an additional advantage that eventually one would be removed, and future feature development need to handle to single format\r\n\r\n---------------\r\n\r\nDue to cases that can arise with Hybrid mode, inclined towards giving the adoption control to the user.  Supporting both formats may have possible impact on future developments.\r\nEventually, one format need to be deprecated & removed. Hence, inclined towards having single config, or different catalog implementations. Having multiple implementation would ease the removal process but config based approach should solve the problem too. \r\n\r\nAlso, to simplify should we can rename config to `dynamodb.catalog.schema-format` which default to `v1`, and new changes can be `v2`\r\n\r\nKindly, let me know if I missed something. Based on your feedback & response, will move forward with the implementation\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424167414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424188600","html_url":"https://github.com/apache/iceberg/pull/6786#issuecomment-1424188600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6786","id":1424188600,"node_id":"IC_kwDOCW7NX85U42S4","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T13:24:35Z","updated_at":"2023-02-09T13:24:35Z","author_association":"MEMBER","body":"Seems very specific. I think we talked about this before as just a part of the \"drop table\" command.\r\n\r\nIf we are doing this method I feel like there needs to be a catalog specific api, otherwise we end up like in this procedure checking for Iceberg internal classes at runtime to determine whether the procedure can do anything.\r\n\r\nSo I think either this is a Catalog API or we just have this as part of the \"drop table\" behavior. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424188600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424220728","html_url":"https://github.com/apache/iceberg/pull/6786#issuecomment-1424220728","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6786","id":1424220728,"node_id":"IC_kwDOCW7NX85U4-I4","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T13:50:41Z","updated_at":"2023-02-09T13:57:54Z","author_association":"MEMBER","body":"> So I think either this is a Catalog API or we just have this as part of the \"drop table\" behavior.\r\n\r\nWe already have a catalog-specific API. Which is `catalog.dropTable(identifier, purge=false)` this procedure is just calling that.  \r\n\r\n\"Drop table\" SQL also already has purge and without purge syntax. \r\nBut without purge will still look up the table due to spark integration (callstack mentioned in the issue #6785). Hence, user cannot use it and need the same functionality from SQL.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424220728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424278602","html_url":"https://github.com/apache/iceberg/pull/6786#issuecomment-1424278602","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6786","id":1424278602,"node_id":"IC_kwDOCW7NX85U5MRK","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T14:29:12Z","updated_at":"2023-02-09T14:29:12Z","author_association":"MEMBER","body":"> > So I think either this is a Catalog API or we just have this as part of the \"drop table\" behavior.\r\n> \r\n> We already have a catalog-specific API. Which is `catalog.dropTable(identifier, purge=false)` this procedure is just calling that.\r\n> \r\n> \"Drop table\" SQL also already has purge and without purge syntax. But without purge will still look up the table due to spark integration (callstack mentioned in the issue #6785). Hence, user cannot use it and need the same functionality from SQL.\r\n\r\nThis is what i'm saying, if we want an api which does not treat it as an Iceberg table first I think we need that as a Catalog API. If Drop Table needs the table to be an iceberg table to drop then I think we either need a new api, or a flag like \"force\" which attempts to drop the table even if there is an exception.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424278602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424283805","html_url":"https://github.com/apache/iceberg/pull/6788#issuecomment-1424283805","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6788","id":1424283805,"node_id":"IC_kwDOCW7NX85U5Nid","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T14:33:07Z","updated_at":"2023-02-09T14:33:07Z","author_association":"CONTRIBUTOR","body":"@ludlows thanks for opening this PR. The `version.txt` is created as part of the release process: https://iceberg.apache.org/how-to-release/#creating-a-release-candidate and having it in the repository is redundant since the version information is also kept by Gradle. I would prefer to keep it so the versions won't diverge.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424283805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424308948","html_url":"https://github.com/apache/iceberg/pull/6788#issuecomment-1424308948","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6788","id":1424308948,"node_id":"IC_kwDOCW7NX85U5TrU","user":{"login":"ludlows","id":6441333,"node_id":"MDQ6VXNlcjY0NDEzMzM=","avatar_url":"https://avatars.githubusercontent.com/u/6441333?v=4","gravatar_id":"","url":"https://api.github.com/users/ludlows","html_url":"https://github.com/ludlows","followers_url":"https://api.github.com/users/ludlows/followers","following_url":"https://api.github.com/users/ludlows/following{/other_user}","gists_url":"https://api.github.com/users/ludlows/gists{/gist_id}","starred_url":"https://api.github.com/users/ludlows/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ludlows/subscriptions","organizations_url":"https://api.github.com/users/ludlows/orgs","repos_url":"https://api.github.com/users/ludlows/repos","events_url":"https://api.github.com/users/ludlows/events{/privacy}","received_events_url":"https://api.github.com/users/ludlows/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T14:49:00Z","updated_at":"2023-02-09T14:49:00Z","author_association":"CONTRIBUTOR","body":"@Fokko  thanks for your comments. let me close this PR. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424308948/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424471540","html_url":"https://github.com/apache/iceberg/pull/6786#issuecomment-1424471540","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6786","id":1424471540,"node_id":"IC_kwDOCW7NX85U57X0","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T16:29:30Z","updated_at":"2023-02-09T16:29:30Z","author_association":"MEMBER","body":"> This is what i'm saying, if we want an api which does not treat it as an Iceberg table first I think we need that as a Catalog API. If Drop Table needs the table to be an iceberg table to drop then I think we either need a new api, or a flag like \"force\" which attempts to drop the table even if there is an exception.\r\n\r\nWhen the `purge=false` for drop table API, it doesn't have to be an Iceberg table. It works just based on table identifier name. \r\nFor example, https://github.com/apache/iceberg/blob/master/hive-metastore/src/main/java/org/apache/iceberg/hive/HiveCatalog.java#L189-L198\r\n\r\nAlso, Trino also doing the same and it is using the same API that I am using here. \r\nhttps://github.com/trinodb/trino/pull/15874/files","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424471540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424555146","html_url":"https://github.com/apache/iceberg/issues/6783#issuecomment-1424555146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6783","id":1424555146,"node_id":"IC_kwDOCW7NX85U6PyK","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T17:27:59Z","updated_at":"2023-02-09T17:30:26Z","author_association":"CONTRIBUTOR","body":"I think this is expected, since these are properties that are not relevant for Iceberg tables. In other words, in the `CREATE TABLE` you should not have to specify `inputFormat`, `outputFormat`, `serialization.lib`. Is there a particular reason you need to set these? As you can see in the INSERT which fails, Spark is considering it as a Hive table, not as an Iceberg tables during analysis because of these manually set properties.\r\n\r\nWhen the commit is performed with the Glue catalog (for the create table or insert) only certain storage descriptor properties will be set and these are mainly for UX purposes.`inputFormat` etc are not set currently.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424555146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424575793","html_url":"https://github.com/apache/iceberg/pull/6746#issuecomment-1424575793","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6746","id":1424575793,"node_id":"IC_kwDOCW7NX85U6U0x","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T17:42:58Z","updated_at":"2023-02-09T17:42:58Z","author_association":"CONTRIBUTOR","body":"I think all the comments are addressed and we have enough vote, I will go ahead and merge this. Thanks for fixing this with such detailed verification! And thanks for the review @stevenzwu @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424575793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424577897","html_url":"https://github.com/apache/iceberg/pull/6786#issuecomment-1424577897","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6786","id":1424577897,"node_id":"IC_kwDOCW7NX85U6VVp","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T17:44:42Z","updated_at":"2023-02-09T17:44:42Z","author_association":"CONTRIBUTOR","body":"I'll take a look this week.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424577897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424578537","html_url":"https://github.com/apache/iceberg/issues/6783#issuecomment-1424578537","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6783","id":1424578537,"node_id":"IC_kwDOCW7NX85U6Vfp","user":{"login":"thomasaNvidia","id":116293196,"node_id":"U_kgDOBu5-TA","avatar_url":"https://avatars.githubusercontent.com/u/116293196?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasaNvidia","html_url":"https://github.com/thomasaNvidia","followers_url":"https://api.github.com/users/thomasaNvidia/followers","following_url":"https://api.github.com/users/thomasaNvidia/following{/other_user}","gists_url":"https://api.github.com/users/thomasaNvidia/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasaNvidia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasaNvidia/subscriptions","organizations_url":"https://api.github.com/users/thomasaNvidia/orgs","repos_url":"https://api.github.com/users/thomasaNvidia/repos","events_url":"https://api.github.com/users/thomasaNvidia/events{/privacy}","received_events_url":"https://api.github.com/users/thomasaNvidia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T17:45:15Z","updated_at":"2023-02-09T17:45:15Z","author_association":"NONE","body":"@amogh-jahagirdar I have another job that works just fine and I took a look at the `inputFormat`, `outputFormat`, `serialization.lib` for the iceberg table that is working and they aren't set either. That job is saving to a different database and table but it's also reading from a non iceberg table within the catalog using `glueContext.create_dynamic_frame.from_catalog()`. It then writes using the same SQL statements as above but to a different location and it works fine. I do notice that within the table properties of the table that is working it has `metadata_location`, `previous_metadata_location`, and `table_type` where as the job that fails only has `metadata_location`, `table_type`. I wonder if using `glueContext.create_dynamic_frame.from_options()` since I am trying to read in S3 files is causing the issue somehow..","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424578537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424582427","html_url":"https://github.com/apache/iceberg/issues/6783#issuecomment-1424582427","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6783","id":1424582427,"node_id":"IC_kwDOCW7NX85U6Wcb","user":{"login":"thomasaNvidia","id":116293196,"node_id":"U_kgDOBu5-TA","avatar_url":"https://avatars.githubusercontent.com/u/116293196?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasaNvidia","html_url":"https://github.com/thomasaNvidia","followers_url":"https://api.github.com/users/thomasaNvidia/followers","following_url":"https://api.github.com/users/thomasaNvidia/following{/other_user}","gists_url":"https://api.github.com/users/thomasaNvidia/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasaNvidia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasaNvidia/subscriptions","organizations_url":"https://api.github.com/users/thomasaNvidia/orgs","repos_url":"https://api.github.com/users/thomasaNvidia/repos","events_url":"https://api.github.com/users/thomasaNvidia/events{/privacy}","received_events_url":"https://api.github.com/users/thomasaNvidia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T17:48:30Z","updated_at":"2023-02-09T17:48:30Z","author_association":"NONE","body":"Or if using the same catalog name `glue_catalog` in each jobs is causing an issue. This is my --conf for each job..\r\n\r\nThe top one works fine while the second one is for the job that isn't working. I use the same catalog name `glue_catalog`\r\n```\r\nspark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions  --conf spark.sql.catalog.glue_catalog=org.apache.iceberg.spark.SparkCatalog  --conf spark.sql.catalog.glue_catalog.warehouse=s3://landing-iceberg-test/iceberg_catalog/  --conf spark.sql.catalog.glue_catalog.catalog-impl=org.apache.iceberg.aws.glue.GlueCatalog  --conf spark.sql.catalog.glue_catalog.io-impl=org.apache.iceberg.aws.s3.S3FileIO\r\n\r\n\r\nspark.sql.extensions=org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions  --conf spark.sql.catalog.glue_catalog=org.apache.iceberg.spark.SparkCatalog  --conf spark.sql.catalog.glue_catalog.warehouse=s3://opsdataplatform-iceberg-dev/landing/  --conf spark.sql.catalog.glue_catalog.catalog-impl=org.apache.iceberg.aws.glue.GlueCatalog  --conf spark.sql.catalog.glue_catalog.io-impl=org.apache.iceberg.aws.s3.S3FileIO\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424582427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424590282","html_url":"https://github.com/apache/iceberg/issues/6467#issuecomment-1424590282","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6467","id":1424590282,"node_id":"IC_kwDOCW7NX85U6YXK","user":{"login":"RobbertDM","id":117672004,"node_id":"U_kgDOBwOIRA","avatar_url":"https://avatars.githubusercontent.com/u/117672004?v=4","gravatar_id":"","url":"https://api.github.com/users/RobbertDM","html_url":"https://github.com/RobbertDM","followers_url":"https://api.github.com/users/RobbertDM/followers","following_url":"https://api.github.com/users/RobbertDM/following{/other_user}","gists_url":"https://api.github.com/users/RobbertDM/gists{/gist_id}","starred_url":"https://api.github.com/users/RobbertDM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobbertDM/subscriptions","organizations_url":"https://api.github.com/users/RobbertDM/orgs","repos_url":"https://api.github.com/users/RobbertDM/repos","events_url":"https://api.github.com/users/RobbertDM/events{/privacy}","received_events_url":"https://api.github.com/users/RobbertDM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T17:54:14Z","updated_at":"2023-02-09T17:54:14Z","author_association":"NONE","body":"@amogh-jahagirdar I think I can't access that thread since I don't have an `@apache.org` account. Do you mind giving us a TL;DR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424590282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424617561","html_url":"https://github.com/apache/iceberg/issues/6783#issuecomment-1424617561","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6783","id":1424617561,"node_id":"IC_kwDOCW7NX85U6fBZ","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T18:11:56Z","updated_at":"2023-02-09T18:11:56Z","author_association":"CONTRIBUTOR","body":"> I have another job that works just fine and I took a look at the inputFormat, outputFormat, serialization.lib for the iceberg table that is working and they aren't set either. \r\n\r\nThat's my point, sorry for the confusion. These properties should **not** have to be set.\r\n\r\n>That job is saving to a different database and table but it's also reading from a non iceberg table within the catalog using glueContext.create_dynamic_frame.from_catalog(). It then writes using the same SQL statements as above but to a different location and it works fine. I do notice that within the table properties of the table that is working it has metadata_location, previous_metadata_location, and table_type where as the job that fails only has metadata_location, table_type.\r\n\r\nThe previous metadata location just means there was at least 2 commits on the table including the create. Which makes sense given your script. \r\n\r\nMy point is more that it's expected that every commit of the Glue catalog does not retain these Hive serde/input/output format properties. \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424617561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424623094","html_url":"https://github.com/apache/iceberg/pull/6776#issuecomment-1424623094","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6776","id":1424623094,"node_id":"IC_kwDOCW7NX85U6gX2","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T18:16:49Z","updated_at":"2023-02-09T18:16:49Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @szehon-ho @amogh-jahagirdar @singhpk234!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424623094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424637359","html_url":"https://github.com/apache/iceberg/issues/6467#issuecomment-1424637359","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6467","id":1424637359,"node_id":"IC_kwDOCW7NX85U6j2v","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T18:29:45Z","updated_at":"2023-02-09T18:29:45Z","author_association":"MEMBER","body":"https://join.slack.com/t/apache-iceberg/shared_invite/zt-1oj35f7yc-wuTEhvkiqjGLje83B7rG8A <https://join.slack.com/t/apache-iceberg/shared_invite/zt-1oj35f7yc-wuTEhvkiqjGLje83B7rG8A> - That should get you in\n\n\n> On Feb 9, 2023, at 11:54 AM, Robbert Hofman ***@***.***> wrote:\n> \n> \n> @amogh-jahagirdar <https://github.com/amogh-jahagirdar> I think I can't access that thread since I don't have an @apache.org account. Do you mind giving us a TL;DR?\n> \n> —\n> Reply to this email directly, view it on GitHub <https://github.com/apache/iceberg/issues/6467#issuecomment-1424590282>, or unsubscribe <https://github.com/notifications/unsubscribe-auth/AADE2YIPEJCPPJS3BWQZVJ3WWUVNHANCNFSM6AAAAAATFGZUFA>.\n> You are receiving this because you are subscribed to this thread.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424637359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424668247","html_url":"https://github.com/apache/iceberg/issues/6467#issuecomment-1424668247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6467","id":1424668247,"node_id":"IC_kwDOCW7NX85U6rZX","user":{"login":"RobbertDM","id":117672004,"node_id":"U_kgDOBwOIRA","avatar_url":"https://avatars.githubusercontent.com/u/117672004?v=4","gravatar_id":"","url":"https://api.github.com/users/RobbertDM","html_url":"https://github.com/RobbertDM","followers_url":"https://api.github.com/users/RobbertDM/followers","following_url":"https://api.github.com/users/RobbertDM/following{/other_user}","gists_url":"https://api.github.com/users/RobbertDM/gists{/gist_id}","starred_url":"https://api.github.com/users/RobbertDM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RobbertDM/subscriptions","organizations_url":"https://api.github.com/users/RobbertDM/orgs","repos_url":"https://api.github.com/users/RobbertDM/repos","events_url":"https://api.github.com/users/RobbertDM/events{/privacy}","received_events_url":"https://api.github.com/users/RobbertDM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T18:55:16Z","updated_at":"2023-02-09T18:55:34Z","author_association":"NONE","body":"Thanks! The initial slack thread link seems to be broken though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424668247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424684806","html_url":"https://github.com/apache/iceberg/issues/6763#issuecomment-1424684806","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6763","id":1424684806,"node_id":"IC_kwDOCW7NX85U6vcG","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T19:09:53Z","updated_at":"2023-02-09T19:09:53Z","author_association":"CONTRIBUTOR","body":"> Due to cases that can arise with Hybrid mode, inclined towards giving the adoption control to the user. Supporting both formats may have possible impact on future developments.\r\n\r\nThanks for listing these pros and cons, i agree that it will be increasingly difficult in the hybrid mode. We can start simple to let user handle migration and see how that goes.\r\n\r\n> Also, to simplify should we can rename config to dynamodb.catalog.schema-format which default to v1, and new changes can be v2\r\n\r\nI like the idea of having a schema version, and we can build tools around migration. We should be clear about how the migration should take place.\r\n\r\nMy thought is that a new schema format must create a new table in DynamoDB, and the migration tool should be built using DynamoDB stream so it supports incremental updates to forward what was in the previous schema version to the new schema version.\r\n\r\nDuring the migration process, for each table, all the writer must switch at the same time, otherwise 1 writer will commit to the new schema and one will commit to old, causing diverged table version history. The writer library should be upgraded to check for a table property to see what is the catalog schema version it is committing against, and if it cannot support it, it should abort.\r\n\r\nJust some thoughts, we can start with a v2 schema implementation and release that first, and then work on the migration part if necessary. Maybe it is not needed and people will just halt all operations and do a full migration and that is sufficient.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424684806/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424698512","html_url":"https://github.com/apache/iceberg/pull/6432#issuecomment-1424698512","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6432","id":1424698512,"node_id":"IC_kwDOCW7NX85U6yyQ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T19:23:28Z","updated_at":"2023-02-09T19:23:28Z","author_association":"CONTRIBUTOR","body":"@rbalamohan, looks like this is causing tests to fail consistently. Can you look into the memory issue?\r\n\r\nFYI @nastra.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424698512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424699284","html_url":"https://github.com/apache/iceberg/pull/6327#issuecomment-1424699284","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6327","id":1424699284,"node_id":"IC_kwDOCW7NX85U6y-U","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T19:24:13Z","updated_at":"2023-02-09T19:24:13Z","author_association":"CONTRIBUTOR","body":"@shardulm94, yes. I'll put it in the queue. Thanks for pinging me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424699284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424710418","html_url":"https://github.com/apache/iceberg/pull/6744#issuecomment-1424710418","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6744","id":1424710418,"node_id":"IC_kwDOCW7NX85U61sS","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T19:35:23Z","updated_at":"2023-02-09T19:35:29Z","author_association":"CONTRIBUTOR","body":"Thanks, @singhpk234! Thanks for reviewing, @jackye1995 @ajantha-bhat!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424710418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424717284","html_url":"https://github.com/apache/iceberg/pull/6777#issuecomment-1424717284","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6777","id":1424717284,"node_id":"IC_kwDOCW7NX85U63Xk","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T19:41:55Z","updated_at":"2023-02-09T19:41:55Z","author_association":"CONTRIBUTOR","body":"Thanks for the fix @RussellSpitzer , and thanks for the review @amogh-jahagirdar , @nastra , @yyanyy ! I will rebase #6772 after this is merged.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424717284/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424727896","html_url":"https://github.com/apache/iceberg/pull/6786#issuecomment-1424727896","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6786","id":1424727896,"node_id":"IC_kwDOCW7NX85U659Y","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T19:52:06Z","updated_at":"2023-02-09T19:52:06Z","author_association":"CONTRIBUTOR","body":"I would +1 on having this at catalog API level, and +1 on making this a catalog-specific implementation for drop table so user can just run `DROP TABLE` as usual, instead of having an `unregisterTable` API, I don't know how we can define `unregister` for it to make sense from catalog perspective...\r\n\r\nWhy can't this just be:\r\n\r\n```\r\npublic boolean dropTable(TableIdentifier identifier, boolean purge) {\r\n  try {\r\n    // original logic\r\n  } catch (RuntimeException e) {\r\n    // do catalog specific removal\r\n  }\r\n}\r\n```\r\n\r\nEspecially I think for Nessie this is just a client call, so it makes it even easier because you can just do this on server side.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424727896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424728854","html_url":"https://github.com/apache/iceberg/issues/6794#issuecomment-1424728854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6794","id":1424728854,"node_id":"IC_kwDOCW7NX85U66MW","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T19:53:01Z","updated_at":"2023-02-09T19:53:01Z","author_association":"MEMBER","body":"I think the Procedure we can actually change the output for in a minor (as long as we are just adding fields) I forgot that this wasn't actually Action! I thought there was an AddFilesResult api we had to modify","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424728854/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424819107","html_url":"https://github.com/apache/iceberg/issues/6778#issuecomment-1424819107","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6778","id":1424819107,"node_id":"IC_kwDOCW7NX85U7QOj","user":{"login":"agnes-xinyi-lu","id":124839592,"node_id":"U_kgDOB3DmqA","avatar_url":"https://avatars.githubusercontent.com/u/124839592?v=4","gravatar_id":"","url":"https://api.github.com/users/agnes-xinyi-lu","html_url":"https://github.com/agnes-xinyi-lu","followers_url":"https://api.github.com/users/agnes-xinyi-lu/followers","following_url":"https://api.github.com/users/agnes-xinyi-lu/following{/other_user}","gists_url":"https://api.github.com/users/agnes-xinyi-lu/gists{/gist_id}","starred_url":"https://api.github.com/users/agnes-xinyi-lu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agnes-xinyi-lu/subscriptions","organizations_url":"https://api.github.com/users/agnes-xinyi-lu/orgs","repos_url":"https://api.github.com/users/agnes-xinyi-lu/repos","events_url":"https://api.github.com/users/agnes-xinyi-lu/events{/privacy}","received_events_url":"https://api.github.com/users/agnes-xinyi-lu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T20:50:38Z","updated_at":"2023-02-09T20:50:38Z","author_association":"CONTRIBUTOR","body":"This is a different issue comparing to 5694. HttpStatusCode is supposed to reflect server side errors, but if it's a connection issue, server can't send the response back to the client, there won't be a status code, it will be IOException. That's the extra thing we need to consider when adding a distributed layer. \r\nWe could test this by faking an IOException from JDBC catalog after it's processed the update request. Let me see if that can produce the scenario.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424819107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424907711","html_url":"https://github.com/apache/iceberg/issues/6783#issuecomment-1424907711","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6783","id":1424907711,"node_id":"IC_kwDOCW7NX85U7l2_","user":{"login":"thomasaNvidia","id":116293196,"node_id":"U_kgDOBu5-TA","avatar_url":"https://avatars.githubusercontent.com/u/116293196?v=4","gravatar_id":"","url":"https://api.github.com/users/thomasaNvidia","html_url":"https://github.com/thomasaNvidia","followers_url":"https://api.github.com/users/thomasaNvidia/followers","following_url":"https://api.github.com/users/thomasaNvidia/following{/other_user}","gists_url":"https://api.github.com/users/thomasaNvidia/gists{/gist_id}","starred_url":"https://api.github.com/users/thomasaNvidia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thomasaNvidia/subscriptions","organizations_url":"https://api.github.com/users/thomasaNvidia/orgs","repos_url":"https://api.github.com/users/thomasaNvidia/repos","events_url":"https://api.github.com/users/thomasaNvidia/events{/privacy}","received_events_url":"https://api.github.com/users/thomasaNvidia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T22:16:37Z","updated_at":"2023-02-09T22:16:37Z","author_association":"NONE","body":"@amogh-jahagirdar I must be using OOP incorrectly because the same job works without an OOP approach..","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424907711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424909013","html_url":"https://github.com/apache/iceberg/pull/6410#issuecomment-1424909013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6410","id":1424909013,"node_id":"IC_kwDOCW7NX85U7mLV","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-09T22:17:32Z","updated_at":"2023-02-09T22:17:32Z","author_association":"COLLABORATOR","body":"Merged, thanks @kmozaid , also @nastra , @gaborkaszab , @PraveenNanda124 for reviews","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1424909013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425003848","html_url":"https://github.com/apache/iceberg/pull/6598#issuecomment-1425003848","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6598","id":1425003848,"node_id":"IC_kwDOCW7NX85U79VI","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T00:10:26Z","updated_at":"2023-02-10T00:10:26Z","author_association":"CONTRIBUTOR","body":"Seems like we don't have much movement on the review at this point, given the fact that all current comments are addressed and this is a part of many PRs for view catalog integration, I will go ahead to merge this. We can address any remaining comments in #6559 if any. Thanks @amogh-jahagirdar and @jzhuge for the work and thanks everyone for review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425003848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425005125","html_url":"https://github.com/apache/iceberg/issues/5371#issuecomment-1425005125","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5371","id":1425005125,"node_id":"IC_kwDOCW7NX85U79pF","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T00:12:27Z","updated_at":"2023-02-10T00:12:27Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425005125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425005151","html_url":"https://github.com/apache/iceberg/issues/5273#issuecomment-1425005151","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5273","id":1425005151,"node_id":"IC_kwDOCW7NX85U79pf","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T00:12:30Z","updated_at":"2023-02-10T00:12:30Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425005151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425005881","html_url":"https://github.com/apache/iceberg/pull/6795#issuecomment-1425005881","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6795","id":1425005881,"node_id":"IC_kwDOCW7NX85U7905","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T00:13:38Z","updated_at":"2023-02-10T00:13:38Z","author_association":"CONTRIBUTOR","body":"Thanks for the work @amogh-jahagirdar !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425005881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425012296","html_url":"https://github.com/apache/iceberg/issues/5273#issuecomment-1425012296","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5273","id":1425012296,"node_id":"IC_kwDOCW7NX85U7_ZI","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T00:24:11Z","updated_at":"2023-02-10T00:24:11Z","author_association":"CONTRIBUTOR","body":"The first PR (https://github.com/apache/iceberg/pull/5302) was merged. I have the 2nd part on my local and will submit soon.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425012296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425066709","html_url":"https://github.com/apache/iceberg/issues/476#issuecomment-1425066709","issue_url":"https://api.github.com/repos/apache/iceberg/issues/476","id":1425066709,"node_id":"IC_kwDOCW7NX85U8MrV","user":{"login":"lurnagao-dahua","id":91278331,"node_id":"MDQ6VXNlcjkxMjc4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/91278331?v=4","gravatar_id":"","url":"https://api.github.com/users/lurnagao-dahua","html_url":"https://github.com/lurnagao-dahua","followers_url":"https://api.github.com/users/lurnagao-dahua/followers","following_url":"https://api.github.com/users/lurnagao-dahua/following{/other_user}","gists_url":"https://api.github.com/users/lurnagao-dahua/gists{/gist_id}","starred_url":"https://api.github.com/users/lurnagao-dahua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lurnagao-dahua/subscriptions","organizations_url":"https://api.github.com/users/lurnagao-dahua/orgs","repos_url":"https://api.github.com/users/lurnagao-dahua/repos","events_url":"https://api.github.com/users/lurnagao-dahua/events{/privacy}","received_events_url":"https://api.github.com/users/lurnagao-dahua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T01:51:28Z","updated_at":"2023-02-10T01:51:28Z","author_association":"CONTRIBUTOR","body":"Hi，Do support maven build now？","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425066709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425090000","html_url":"https://github.com/apache/iceberg/pull/6432#issuecomment-1425090000","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6432","id":1425090000,"node_id":"IC_kwDOCW7NX85U8SXQ","user":{"login":"rbalamohan","id":7969713,"node_id":"MDQ6VXNlcjc5Njk3MTM=","avatar_url":"https://avatars.githubusercontent.com/u/7969713?v=4","gravatar_id":"","url":"https://api.github.com/users/rbalamohan","html_url":"https://github.com/rbalamohan","followers_url":"https://api.github.com/users/rbalamohan/followers","following_url":"https://api.github.com/users/rbalamohan/following{/other_user}","gists_url":"https://api.github.com/users/rbalamohan/gists{/gist_id}","starred_url":"https://api.github.com/users/rbalamohan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rbalamohan/subscriptions","organizations_url":"https://api.github.com/users/rbalamohan/orgs","repos_url":"https://api.github.com/users/rbalamohan/repos","events_url":"https://api.github.com/users/rbalamohan/events{/privacy}","received_events_url":"https://api.github.com/users/rbalamohan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T02:27:10Z","updated_at":"2023-02-10T02:27:10Z","author_association":"CONTRIBUTOR","body":"I will check making the default threads to 4 instead of \"number of processors\".  In larger systems, users have the flexibility to change it via system property.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425090000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425091841","html_url":"https://github.com/apache/iceberg/pull/6554#issuecomment-1425091841","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6554","id":1425091841,"node_id":"IC_kwDOCW7NX85U8S0B","user":{"login":"youngxinler","id":36697727,"node_id":"MDQ6VXNlcjM2Njk3NzI3","avatar_url":"https://avatars.githubusercontent.com/u/36697727?v=4","gravatar_id":"","url":"https://api.github.com/users/youngxinler","html_url":"https://github.com/youngxinler","followers_url":"https://api.github.com/users/youngxinler/followers","following_url":"https://api.github.com/users/youngxinler/following{/other_user}","gists_url":"https://api.github.com/users/youngxinler/gists{/gist_id}","starred_url":"https://api.github.com/users/youngxinler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/youngxinler/subscriptions","organizations_url":"https://api.github.com/users/youngxinler/orgs","repos_url":"https://api.github.com/users/youngxinler/repos","events_url":"https://api.github.com/users/youngxinler/events{/privacy}","received_events_url":"https://api.github.com/users/youngxinler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T02:30:35Z","updated_at":"2023-02-10T02:30:35Z","author_association":"CONTRIBUTOR","body":"Thanks for the review and guidance in the process. @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425091841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425153055","html_url":"https://github.com/apache/iceberg/issues/6781#issuecomment-1425153055","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6781","id":1425153055,"node_id":"IC_kwDOCW7NX85U8hwf","user":{"login":"JonasJ-ap","id":55990951,"node_id":"MDQ6VXNlcjU1OTkwOTUx","avatar_url":"https://avatars.githubusercontent.com/u/55990951?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasJ-ap","html_url":"https://github.com/JonasJ-ap","followers_url":"https://api.github.com/users/JonasJ-ap/followers","following_url":"https://api.github.com/users/JonasJ-ap/following{/other_user}","gists_url":"https://api.github.com/users/JonasJ-ap/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasJ-ap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasJ-ap/subscriptions","organizations_url":"https://api.github.com/users/JonasJ-ap/orgs","repos_url":"https://api.github.com/users/JonasJ-ap/repos","events_url":"https://api.github.com/users/JonasJ-ap/events{/privacy}","received_events_url":"https://api.github.com/users/JonasJ-ap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T04:16:39Z","updated_at":"2023-02-10T04:30:48Z","author_association":"CONTRIBUTOR","body":"Some context and my thoughts here:\r\n\r\nReference: delta lake's [doc](https://docs.delta.io/latest/delta-utility.html): \r\n1. `VACUUM` delete only data files, not log files\r\n2. `VACUUM` can only be called manually\r\n\r\nThe `1` will cause `IOException` when migrating constructible snapshots' corresponding datafiles are cleaned. \r\nThe `2` makes the operation timestamp untracked as delta lake does not record `VACUUM` operation in logs based on my understanding. \r\nThere are two ways to configure delete candidate of `VACUUM`\r\n1. table property: `delta.deletedFileRetentionDuration`, default to 7 days\r\n2. manually specify the retention period: `VACUUM ... RETAIN <any> days`\r\n\r\nBased on these properties of `VACUUM`, it seems the entity that called `VACUUM` should keep track of the earliest versoin that can time travel back to after each execution of `VACUUM`. This will lead to my first proposed solution that this issue can be solved by a new feature that is worth to be added to the conversion logic: Currently, the conversion logic starts to migrate from the earlist possible log version. We can add a property to let user set the start version. Users can use this property to skip those snashots whose datafiles are deleted.\r\n\r\nThe second solution is that we can catch the `IOException` when trying to build the `DataFile` and skip the whole snapshot if any parquet file can not be found. Specifically, we should do this when there has been no version migrated yet. If there are some successfully migrated snapshot earlier, then the `IOException` must be caused by something else and we shall not skip the version as delta logs are consecutive. My concern here is that this feature may cause inconsistency between the user setting and the actual action result: e.g. Users may set the starting point at version A but the actual starting point will be moved to version B and users will not notice that easily. My thought here is to add the actual starting version to the `Action.Result` report or we can add another property with name like `autoDetectStartingPoint` such that we will still throw exception as normal if users do not set this to `true` \r\n\r\nIndeed, we can do both. The first proposal is a good feature to be added anyway and the second can make the conversion logic more robust.\r\n\r\nI want to receive some feedback on these proposals before we start to implement them. If you have some comments or a better solution, please let me know. Thank you in advance for your help.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425153055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425155498","html_url":"https://github.com/apache/iceberg/issues/6768#issuecomment-1425155498","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6768","id":1425155498,"node_id":"IC_kwDOCW7NX85U8iWq","user":{"login":"JonasJ-ap","id":55990951,"node_id":"MDQ6VXNlcjU1OTkwOTUx","avatar_url":"https://avatars.githubusercontent.com/u/55990951?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasJ-ap","html_url":"https://github.com/JonasJ-ap","followers_url":"https://api.github.com/users/JonasJ-ap/followers","following_url":"https://api.github.com/users/JonasJ-ap/following{/other_user}","gists_url":"https://api.github.com/users/JonasJ-ap/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasJ-ap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasJ-ap/subscriptions","organizations_url":"https://api.github.com/users/JonasJ-ap/orgs","repos_url":"https://api.github.com/users/JonasJ-ap/repos","events_url":"https://api.github.com/users/JonasJ-ap/events{/privacy}","received_events_url":"https://api.github.com/users/JonasJ-ap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T04:21:42Z","updated_at":"2023-02-10T04:22:18Z","author_association":"CONTRIBUTOR","body":"More info regarding this feature request:\r\nDelta Lake community is working on supporting column mapping (physical column name) in `delta-standlone` which is used by the `iceberg-delta-lake` module:https://github.com/delta-io/connectors/pull/453\r\n\r\nWe can start to implement this feature once they release this new support","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425155498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425164429","html_url":"https://github.com/apache/iceberg/pull/6090#issuecomment-1425164429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6090","id":1425164429,"node_id":"IC_kwDOCW7NX85U8kiN","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T04:39:51Z","updated_at":"2023-02-10T04:39:51Z","author_association":"MEMBER","body":"> @ajantha-bhat, looks like there are just two more things to fix. Thanks!\r\n\r\nDone. Thanks for the review.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425164429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425211289","html_url":"https://github.com/apache/iceberg/pull/6432#issuecomment-1425211289","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6432","id":1425211289,"node_id":"IC_kwDOCW7NX85U8v-Z","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T05:45:37Z","updated_at":"2023-02-10T05:46:16Z","author_association":"CONTRIBUTOR","body":"@rbalamohan, do you have the same position files that are read over and over again for different data files in a combined scan task? Or is it mostly unique delete files per each data file?\r\n\r\nI am a bit concerned about using a thread pool on executors. Let me take a look with fresh eyes tomorrow. I wonder whether we can cache the result of reading a particular delete file (like bitmap or whatever is constructed) and reuse that when the same delete file must be read for different data files instead of parallelizing reading deletes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425211289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425214434","html_url":"https://github.com/apache/iceberg/issues/6781#issuecomment-1425214434","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6781","id":1425214434,"node_id":"IC_kwDOCW7NX85U8wvi","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T05:47:35Z","updated_at":"2023-02-10T05:47:35Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation!\r\n\r\nI am not sure how Delta leverages its logs. Does each log has a unique ID? Is that useable by end users? For Iceberg, users can query and do time travel by snapshot ID, and users can search for snapshot ID by system table `snapshots`. Is there any similar feature in Delta?\r\n\r\nIf the log ID is an internal concept, then I would opt for just solution 2. Even if log ID is available for user to use, I would still say we should prioritize solution 2, because as an end user, I should not really care about the starting delta log version when I want to do an migration. It should just work. I won't even expose any configurations at this moment and just treat the file not found as a bug we need to fix by your proposal:\r\n\r\n> we can catch the IOException when trying to build the DataFile and skip the whole snapshot if any parquet file can not be found. Specifically, we should do this when there has been no version migrated yet. If there are some successfully migrated snapshot earlier, then the IOException must be caused by something else and we shall not skip the version as delta logs are consecutive. \r\n\r\nAlso I am curious is that the same experience in Databricks Delta? I think it should not be, because there needs to be a process to keep the delta log size short. @ericlgoodman do you know anything about this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425214434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425230959","html_url":"https://github.com/apache/iceberg/issues/6800#issuecomment-1425230959","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6800","id":1425230959,"node_id":"IC_kwDOCW7NX85U80xv","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-10T05:59:43Z","updated_at":"2023-02-10T05:59:43Z","author_association":"MEMBER","body":"I think this is worth thinking about but I'm not sure it is as simple as this. Currently we don't really consider the json files to really have the same lifecycle as other metadata files. They aren't really expired since they aren't actually part of the history ...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1425230959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]