[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718299256","html_url":"https://github.com/apache/pinot/pull/6208#issuecomment-718299256","issue_url":"https://api.github.com/repos/apache/pinot/issues/6208","id":718299256,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODI5OTI1Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T01:20:03Z","updated_at":"2020-10-29T01:28:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6208?src=pr&el=h1) Report\n> Merging [#6208](https://codecov.io/gh/apache/incubator-pinot/pull/6208?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.74%`.\n> The diff coverage is `66.26%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6208/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6208?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6208      +/-   ##\n==========================================\n+ Coverage   66.44%   73.19%   +6.74%     \n==========================================\n  Files        1075     1238     +163     \n  Lines       54773    58626    +3853     \n  Branches     8168     8681     +513     \n==========================================\n+ Hits        36396    42912    +6516     \n+ Misses      15700    12904    -2796     \n- Partials     2677     2810     +133     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| #integration | `46.33% <47.80%> (?)` | |\n| #unittests | `64.17% <48.26%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6208?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <Ã¸> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <Ã¸> (Ã¸)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <Ã¸> (+44.44%)` | :arrow_up: |\n| ... and [1008 more](https://codecov.io/gh/apache/incubator-pinot/pull/6208/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6208?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6208?src=pr&el=footer). Last update [3ab13df...06f959d](https://codecov.io/gh/apache/incubator-pinot/pull/6208?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718299256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718299956","html_url":"https://github.com/apache/pinot/pull/6198#issuecomment-718299956","issue_url":"https://api.github.com/repos/apache/pinot/issues/6198","id":718299956,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODI5OTk1Ng==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T01:22:26Z","updated_at":"2020-10-29T01:22:26Z","author_association":"CONTRIBUTOR","body":"Another issue:\r\nI went to Broker instance, removed DefaultTenant and added neha_BROKER\r\nI went to Server instance, removed DefaultTenant and added neha_OFFINE\r\nNow I wanted to go to my Table and edit the table config, but I cannot see that table. I'm guessing the call to fetch the tenant is failing, coz the table still refers to DefaultTenant. \r\n\r\nWe should still show the Table in the list.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718299956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718770392","html_url":"https://github.com/apache/pinot/issues/6209#issuecomment-718770392","issue_url":"https://api.github.com/repos/apache/pinot/issues/6209","id":718770392,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODc3MDM5Mg==","user":{"login":"noahprince22","id":4604046,"node_id":"MDQ6VXNlcjQ2MDQwNDY=","avatar_url":"https://avatars.githubusercontent.com/u/4604046?v=4","gravatar_id":"","url":"https://api.github.com/users/noahprince22","html_url":"https://github.com/noahprince22","followers_url":"https://api.github.com/users/noahprince22/followers","following_url":"https://api.github.com/users/noahprince22/following{/other_user}","gists_url":"https://api.github.com/users/noahprince22/gists{/gist_id}","starred_url":"https://api.github.com/users/noahprince22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahprince22/subscriptions","organizations_url":"https://api.github.com/users/noahprince22/orgs","repos_url":"https://api.github.com/users/noahprince22/repos","events_url":"https://api.github.com/users/noahprince22/events{/privacy}","received_events_url":"https://api.github.com/users/noahprince22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T13:57:37Z","updated_at":"2020-10-29T13:57:37Z","author_association":"NONE","body":"BigInteger as well. For something like a uint64. Could represent BigInt as a varint on disc.  Also nested types, which I believe @kishoreg is working on","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718770392/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718771493","html_url":"https://github.com/apache/pinot/issues/6187#issuecomment-718771493","issue_url":"https://api.github.com/repos/apache/pinot/issues/6187","id":718771493,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODc3MTQ5Mw==","user":{"login":"noahprince22","id":4604046,"node_id":"MDQ6VXNlcjQ2MDQwNDY=","avatar_url":"https://avatars.githubusercontent.com/u/4604046?v=4","gravatar_id":"","url":"https://api.github.com/users/noahprince22","html_url":"https://github.com/noahprince22","followers_url":"https://api.github.com/users/noahprince22/followers","following_url":"https://api.github.com/users/noahprince22/following{/other_user}","gists_url":"https://api.github.com/users/noahprince22/gists{/gist_id}","starred_url":"https://api.github.com/users/noahprince22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahprince22/subscriptions","organizations_url":"https://api.github.com/users/noahprince22/orgs","repos_url":"https://api.github.com/users/noahprince22/repos","events_url":"https://api.github.com/users/noahprince22/events{/privacy}","received_events_url":"https://api.github.com/users/noahprince22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T13:59:26Z","updated_at":"2020-10-29T13:59:26Z","author_association":"NONE","body":"https://eng.uber.com/operating-apache-pinot/\r\n\r\nReading this blog:\r\n\r\n> As the scale of data grew, we also experienced several issues caused by too many segments. Pinot leverages Apache Helix over Apache Zookeeper for cluster management. For example, when a server transitioned from offline to online, Pinot will propagate state transition messages via Helix to notify other instances. The number of such state transition messages are proportional to the number of the segments on the server. When a server hosts too many segments, there could be a spike of state transition messages on Helix, resulting in lots of zookeeper nodes. If the number of zookeeper nodes is beyond the buffer threshold, the Pinot server and controller will crash. To solve this issue, we added message throttling to Pinot controllers to flatten the state transition surge.\r\n\r\n\r\nAt large scale of data that requires this kind of lazy loading, you're going to have _a lot_ of segments. Do we see this causing an issue with helix state management messages?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718771493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718825600","html_url":"https://github.com/apache/pinot/issues/6169#issuecomment-718825600","issue_url":"https://api.github.com/repos/apache/pinot/issues/6169","id":718825600,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODgyNTYwMA==","user":{"login":"galalen","id":16897043,"node_id":"MDQ6VXNlcjE2ODk3MDQz","avatar_url":"https://avatars.githubusercontent.com/u/16897043?v=4","gravatar_id":"","url":"https://api.github.com/users/galalen","html_url":"https://github.com/galalen","followers_url":"https://api.github.com/users/galalen/followers","following_url":"https://api.github.com/users/galalen/following{/other_user}","gists_url":"https://api.github.com/users/galalen/gists{/gist_id}","starred_url":"https://api.github.com/users/galalen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galalen/subscriptions","organizations_url":"https://api.github.com/users/galalen/orgs","repos_url":"https://api.github.com/users/galalen/repos","events_url":"https://api.github.com/users/galalen/events{/privacy}","received_events_url":"https://api.github.com/users/galalen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T15:22:12Z","updated_at":"2020-10-29T15:22:12Z","author_association":"CONTRIBUTOR","body":"@npawar  you can check my PR https://github.com/apache/incubator-pinot/pull/6211\r\nI'm reading the state from the IdealState.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718825600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718849348","html_url":"https://github.com/apache/pinot/pull/6208#issuecomment-718849348","issue_url":"https://api.github.com/repos/apache/pinot/issues/6208","id":718849348,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODg0OTM0OA==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T15:57:59Z","updated_at":"2020-10-29T15:57:59Z","author_association":"CONTRIBUTOR","body":"> Can you please put up the doc a few days before the PR, so people can have a chance to read it\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718849348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718862336","html_url":"https://github.com/apache/pinot/issues/6187#issuecomment-718862336","issue_url":"https://api.github.com/repos/apache/pinot/issues/6187","id":718862336,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODg2MjMzNg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T16:16:49Z","updated_at":"2020-10-29T16:16:49Z","author_association":"CONTRIBUTOR","body":"> https://eng.uber.com/operating-apache-pinot/\r\n> \r\n> Reading this blog:\r\n> \r\n> > As the scale of data grew, we also experienced several issues caused by too many segments. Pinot leverages Apache Helix over Apache Zookeeper for cluster management. For example, when a server transitioned from offline to online, Pinot will propagate state transition messages via Helix to notify other instances. The number of such state transition messages are proportional to the number of the segments on the server. When a server hosts too many segments, there could be a spike of state transition messages on Helix, resulting in lots of zookeeper nodes. If the number of zookeeper nodes is beyond the buffer threshold, the Pinot server and controller will crash. To solve this issue, we added message throttling to Pinot controllers to flatten the state transition surge.\r\n> \r\n> At large scale of data that requires this kind of lazy loading, you're going to have _a lot_ of segments. Do we see this causing an issue with helix state management messages?\r\n\r\nIf you have millions of segments per table, this can be a problem. We already faced this issue at LinkedIn, and took a few actions:\r\n1. Increased the network speed in zookeeper.\r\n2. Moved to allocate a limited number of instances for any table (i.e. cluster the segments of a table within as few hosts as possible).\r\n3. We tried enabling helix batching with mixed results. It seemed to help, but other helix bugs took over and prevented us from moving further on that. Some of those bugs may have been fixed, so we may be able to enable batching again.\r\n\r\nI believe we need to also explore segments in cold storage that DO NOT make it into the idealstate. I don't have any specific ideas along these lines, though :)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718862336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718863847","html_url":"https://github.com/apache/pinot/pull/6211#issuecomment-718863847","issue_url":"https://api.github.com/repos/apache/pinot/issues/6211","id":718863847,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODg2Mzg0Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T16:19:15Z","updated_at":"2020-11-05T11:50:56Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6211?src=pr&el=h1) Report\n> Merging [#6211](https://codecov.io/gh/apache/incubator-pinot/pull/6211?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.78%`.\n> The diff coverage is `67.11%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6211/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6211?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6211      +/-   ##\n==========================================\n+ Coverage   66.44%   73.23%   +6.78%     \n==========================================\n  Files        1075     1240     +165     \n  Lines       54773    58952    +4179     \n  Branches     8168     8739     +571     \n==========================================\n+ Hits        36396    43173    +6777     \n+ Misses      15700    12943    -2757     \n- Partials     2677     2836     +159     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration | `46.32% <50.60%> (?)` | |\n| unittests | `64.09% <43.43%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6211?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <Ã¸> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <Ã¸> (Ã¸)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <Ã¸> (+44.44%)` | :arrow_up: |\n| ... and [1014 more](https://codecov.io/gh/apache/incubator-pinot/pull/6211/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6211?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6211?src=pr&el=footer). Last update [d033a11...2b17b03](https://codecov.io/gh/apache/incubator-pinot/pull/6211?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718863847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718970161","html_url":"https://github.com/apache/pinot/pull/6208#issuecomment-718970161","issue_url":"https://api.github.com/repos/apache/pinot/issues/6208","id":718970161,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODk3MDE2MQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T19:24:40Z","updated_at":"2020-10-29T19:24:40Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu @mayankshriv Sorry for rushing this PR. This PR is required for the upsert feature, and I'm trying to make it into the 0.6.0 release. This change won't affect any existing use cases.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718970161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718992130","html_url":"https://github.com/apache/pinot/pull/6198#issuecomment-718992130","issue_url":"https://api.github.com/repos/apache/pinot/issues/6198","id":718992130,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODk5MjEzMA==","user":{"login":"shahsank3t","id":6761317,"node_id":"MDQ6VXNlcjY3NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6761317?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsank3t","html_url":"https://github.com/shahsank3t","followers_url":"https://api.github.com/users/shahsank3t/followers","following_url":"https://api.github.com/users/shahsank3t/following{/other_user}","gists_url":"https://api.github.com/users/shahsank3t/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsank3t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsank3t/subscriptions","organizations_url":"https://api.github.com/users/shahsank3t/orgs","repos_url":"https://api.github.com/users/shahsank3t/repos","events_url":"https://api.github.com/users/shahsank3t/events{/privacy}","received_events_url":"https://api.github.com/users/shahsank3t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T20:07:52Z","updated_at":"2020-10-29T20:07:52Z","author_association":"CONTRIBUTOR","body":"@npawar - addressed & fixed all the changes you mentioned.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/718992130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719017406","html_url":"https://github.com/apache/pinot/issues/6206#issuecomment-719017406","issue_url":"https://api.github.com/repos/apache/pinot/issues/6206","id":719017406,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTAxNzQwNg==","user":{"login":"flykent1990","id":71525567,"node_id":"MDQ6VXNlcjcxNTI1NTY3","avatar_url":"https://avatars.githubusercontent.com/u/71525567?v=4","gravatar_id":"","url":"https://api.github.com/users/flykent1990","html_url":"https://github.com/flykent1990","followers_url":"https://api.github.com/users/flykent1990/followers","following_url":"https://api.github.com/users/flykent1990/following{/other_user}","gists_url":"https://api.github.com/users/flykent1990/gists{/gist_id}","starred_url":"https://api.github.com/users/flykent1990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flykent1990/subscriptions","organizations_url":"https://api.github.com/users/flykent1990/orgs","repos_url":"https://api.github.com/users/flykent1990/repos","events_url":"https://api.github.com/users/flykent1990/events{/privacy}","received_events_url":"https://api.github.com/users/flykent1990/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T20:57:04Z","updated_at":"2020-10-29T20:57:04Z","author_association":"NONE","body":"ok tks @fx19880617 \r\nusing spark job I reduce processing time by 50% parquet file","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719017406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719059369","html_url":"https://github.com/apache/pinot/issues/6206#issuecomment-719059369","issue_url":"https://api.github.com/repos/apache/pinot/issues/6206","id":719059369,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTA1OTM2OQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T22:26:56Z","updated_at":"2020-10-29T22:26:56Z","author_association":"CONTRIBUTOR","body":"> ok tks @fx19880617\r\n> using spark job I reduce processing time by 50% parquet file\r\n\r\nðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719059369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719084197","html_url":"https://github.com/apache/pinot/pull/6203#issuecomment-719084197","issue_url":"https://api.github.com/repos/apache/pinot/issues/6203","id":719084197,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTA4NDE5Nw==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-29T23:39:05Z","updated_at":"2020-10-29T23:39:05Z","author_association":"MEMBER","body":"Discussed with @mayankshriv offline. This API is not needed. I'm closing this PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719084197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719103247","html_url":"https://github.com/apache/pinot/pull/6212#issuecomment-719103247","issue_url":"https://api.github.com/repos/apache/pinot/issues/6212","id":719103247,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTEwMzI0Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T00:43:46Z","updated_at":"2020-11-01T19:47:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6212?src=pr&el=h1) Report\n> Merging [#6212](https://codecov.io/gh/apache/incubator-pinot/pull/6212?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `2.35%`.\n> The diff coverage is `43.43%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6212/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6212?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6212      +/-   ##\n==========================================\n- Coverage   66.44%   64.09%   -2.36%     \n==========================================\n  Files        1075     1238     +163     \n  Lines       54773    58783    +4010     \n  Branches     8168     8713     +545     \n==========================================\n+ Hits        36396    37678    +1282     \n- Misses      15700    18358    +2658     \n- Partials     2677     2747      +70     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| unittests | `64.09% <43.43%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6212?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <Ã¸> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `73.80% <Ã¸> (+0.63%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| ... and [1074 more](https://codecov.io/gh/apache/incubator-pinot/pull/6212/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6212?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6212?src=pr&el=footer). Last update [4242706...4dbfac8](https://codecov.io/gh/apache/incubator-pinot/pull/6212?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719103247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719147984","html_url":"https://github.com/apache/pinot/pull/6213#issuecomment-719147984","issue_url":"https://api.github.com/repos/apache/pinot/issues/6213","id":719147984,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTE0Nzk4NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T03:23:31Z","updated_at":"2020-10-30T03:23:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6213?src=pr&el=h1) Report\n> Merging [#6213](https://codecov.io/gh/apache/incubator-pinot/pull/6213?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `20.02%`.\n> The diff coverage is `49.14%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6213/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6213?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #6213       +/-   ##\n===========================================\n- Coverage   66.44%   46.41%   -20.03%     \n===========================================\n  Files        1075     1237      +162     \n  Lines       54773    58560     +3787     \n  Branches     8168     8664      +496     \n===========================================\n- Hits        36396    27183     -9213     \n- Misses      15700    29160    +13460     \n+ Partials     2677     2217      -460     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| #integration | `46.41% <49.14%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6213?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/broker/queryquota/MaxHitRateTracker.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9NYXhIaXRSYXRlVHJhY2tlci5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...ache/pinot/broker/queryquota/QueryQuotaEntity.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9RdWVyeVF1b3RhRW50aXR5LmphdmE=) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `64.28% <Ã¸> (-8.89%)` | :arrow_down: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| ... and [1224 more](https://codecov.io/gh/apache/incubator-pinot/pull/6213/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6213?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6213?src=pr&el=footer). Last update [ce43288...089dac2](https://codecov.io/gh/apache/incubator-pinot/pull/6213?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719147984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719165919","html_url":"https://github.com/apache/pinot/pull/6214#issuecomment-719165919","issue_url":"https://api.github.com/repos/apache/pinot/issues/6214","id":719165919,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTE2NTkxOQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T04:36:17Z","updated_at":"2020-10-30T04:58:29Z","author_association":"CONTRIBUTOR","body":"This is a sample job log:\r\n```\r\nâžœ bin/pinot-ingestion-job.sh -jobSpecFile examples/batch/airlineStats/ingestionJobSpec.yaml\r\n2020/10/29 21:33:48.295 INFO [IngestionJobLauncher] [main] SegmentGenerationJobSpec:\r\n!!org.apache.pinot.spi.ingestion.batch.spec.SegmentGenerationJobSpec\r\nexcludeFileNamePattern: null\r\nexecutionFrameworkSpec: {extraConfigs: null, name: standalone, segmentGenerationJobRunnerClassName: org.apache.pinot.plugin.ingestion.batch.standalone.SegmentGenerationJobRunner,\r\n  segmentMetadataPushJobRunnerClassName: null, segmentTarPushJobRunnerClassName: org.apache.pinot.plugin.ingestion.batch.standalone.SegmentTarPushJobRunner,\r\n  segmentUriPushJobRunnerClassName: org.apache.pinot.plugin.ingestion.batch.standalone.SegmentUriPushJobRunner}\r\nincludeFileNamePattern: glob:**/*.avro\r\ninputDirURI: examples/batch/airlineStats/rawdata\r\njobType: SegmentCreationAndTarPush\r\noutputDirURI: examples/batch/airlineStats/segments\r\noverwriteOutput: true\r\npinotClusterSpecs:\r\n- {controllerURI: 'http://localhost:9000'}\r\npinotFSSpecs:\r\n- {className: org.apache.pinot.spi.filesystem.LocalPinotFS, configs: null, scheme: file}\r\npushJobSpec: {pushAttempts: 2, pushParallelism: 1, pushRetryIntervalMillis: 1000,\r\n  segmentUriPrefix: null, segmentUriSuffix: null}\r\nrecordReaderSpec: {className: org.apache.pinot.plugin.inputformat.avro.AvroRecordReader,\r\n  configClassName: null, configs: null, dataFormat: avro}\r\nsegmentCreationJobParallelism: 4\r\nsegmentNameGeneratorSpec: null\r\ntableSpec: {schemaURI: 'http://localhost:9000/tables/airlineStats/schema', tableConfigURI: 'http://localhost:9000/tables/airlineStats',\r\n  tableName: airlineStats}\r\n\r\n2020/10/29 21:33:48.299 INFO [IngestionJobLauncher] [main] Trying to create instance for class org.apache.pinot.plugin.ingestion.batch.standalone.SegmentGenerationJobRunner\r\n2020/10/29 21:33:48.301 INFO [SegmentGenerationJobRunner] [main] Creating an executor service with 4 threads.\r\n2020/10/29 21:33:48.356 INFO [PinotFSFactory] [main] Initializing PinotFS for scheme file, classname org.apache.pinot.spi.filesystem.LocalPinotFS\r\n2020/10/29 21:33:48.776 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/03/airlineStats_data_2014-01-03.avro\r\n2020/10/29 21:33:48.779 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/04/airlineStats_data_2014-01-04.avro\r\n2020/10/29 21:33:48.780 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/05/airlineStats_data_2014-01-05.avro\r\n2020/10/29 21:33:48.782 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/02/airlineStats_data_2014-01-02.avro\r\n2020/10/29 21:33:48.784 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/20/airlineStats_data_2014-01-20.avro\r\n2020/10/29 21:33:48.786 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/18/airlineStats_data_2014-01-18.avro\r\n2020/10/29 21:33:48.787 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/27/airlineStats_data_2014-01-27.avro\r\n2020/10/29 21:33:48.788 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/11/airlineStats_data_2014-01-11.avro\r\n2020/10/29 21:33:48.789 WARN [SegmentIndexCreationDriverImpl] [pool-2-thread-3] Using class: org.apache.pinot.plugin.inputformat.avro.AvroRecordReader to read segment, ignoring configured file format: AVRO\r\n2020/10/29 21:33:48.789 WARN [SegmentIndexCreationDriverImpl] [pool-2-thread-1] Using class: org.apache.pinot.plugin.inputformat.avro.AvroRecordReader to read segment, ignoring configured file format: AVRO\r\n2020/10/29 21:33:48.789 WARN [SegmentIndexCreationDriverImpl] [pool-2-thread-2] Using class: org.apache.pinot.plugin.inputformat.avro.AvroRecordReader to read segment, ignoring configured file format: AVRO\r\n2020/10/29 21:33:48.789 WARN [SegmentIndexCreationDriverImpl] [pool-2-thread-4] Using class: org.apache.pinot.plugin.inputformat.avro.AvroRecordReader to read segment, ignoring configured file format: AVRO\r\n2020/10/29 21:33:48.790 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/29/airlineStats_data_2014-01-29.avro\r\n2020/10/29 21:33:48.791 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/16/airlineStats_data_2014-01-16.avro\r\n2020/10/29 21:33:48.792 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/28/airlineStats_data_2014-01-28.avro\r\n2020/10/29 21:33:48.794 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/17/airlineStats_data_2014-01-17.avro\r\n2020/10/29 21:33:48.795 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/10/airlineStats_data_2014-01-10.avro\r\n2020/10/29 21:33:48.796 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/19/airlineStats_data_2014-01-19.avro\r\n2020/10/29 21:33:48.797 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/26/airlineStats_data_2014-01-26.avro\r\n2020/10/29 21:33:48.806 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/21/airlineStats_data_2014-01-21.avro\r\n2020/10/29 21:33:48.808 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/07/airlineStats_data_2014-01-07.avro\r\n2020/10/29 21:33:48.809 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/09/airlineStats_data_2014-01-09.avro\r\n2020/10/29 21:33:48.812 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/31/airlineStats_data_2014-01-31.avro\r\n2020/10/29 21:33:48.813 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/30/airlineStats_data_2014-01-30.avro\r\n2020/10/29 21:33:48.814 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/08/airlineStats_data_2014-01-08.avro\r\n2020/10/29 21:33:48.815 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/01/airlineStats_data_2014-01-01.avro\r\n2020/10/29 21:33:48.817 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/06/airlineStats_data_2014-01-06.avro\r\n2020/10/29 21:33:48.818 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/24/airlineStats_data_2014-01-24.avro\r\n2020/10/29 21:33:48.819 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/23/airlineStats_data_2014-01-23.avro\r\n2020/10/29 21:33:48.820 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/15/airlineStats_data_2014-01-15.avro\r\n2020/10/29 21:33:48.822 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/12/airlineStats_data_2014-01-12.avro\r\n2020/10/29 21:33:48.823 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/13/airlineStats_data_2014-01-13.avro\r\n2020/10/29 21:33:48.824 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/14/airlineStats_data_2014-01-14.avro\r\n2020/10/29 21:33:48.825 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/22/airlineStats_data_2014-01-22.avro\r\n2020/10/29 21:33:48.827 INFO [SegmentGenerationJobRunner] [main] Submitting one Segment Generation Task for file:/Users/xiangfu/workspace/pinot-dev/pinot-distribution/target/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/apache-pinot-incubating-0.6.0-SNAPSHOT-bin/examples/batch/airlineStats/rawdata/2014/01/25/airlineStats_data_2014-01-25.avro\r\n2020/10/29 21:33:49.018 INFO [SegmentIndexCreationDriverImpl] [pool-2-thread-2] Finished building StatsCollector!\r\n2020/10/29 21:33:49.018 INFO [SegmentIndexCreationDriverImpl] [pool-2-thread-2] Collected stats for 307 documents\r\n2020/10/29 21:33:49.023 INFO [SegmentIndexCreationDriverImpl] [pool-2-thread-1] Finished building StatsCollector!\r\n2020/10/29 21:33:49.024 INFO [SegmentIndexCreationDriverImpl] [pool-2-thread-1] Collected stats for 409 documents\r\n2020/10/29 21:33:49.024 INFO [SegmentIndexCreationDriverImpl] [pool-2-thread-4] Finished building StatsCollector!\r\n2020/10/29 21:33:49.025 INFO [SegmentIndexCreationDriverImpl] [pool-2-thread-4] Collected stats for 403 documents\r\n2020/10/29 21:33:49.025 INFO [SegmentIndexCreationDriverImpl] [pool-2-thread-3] Finished building StatsCollector!\r\n2020/10/29 21:33:49.025 INFO [SegmentIndexCreationDriverImpl] [pool-2-thread-3] Collected stats for 422 documents\r\n2020/10/29 21:33:49.042 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: FlightNum with cardinality: 386, range: 14 to 7389\r\n2020/10/29 21:33:49.042 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: FlightNum with cardinality: 395, range: 6 to 7428\r\n2020/10/29 21:33:49.042 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: FlightNum with cardinality: 303, range: 4 to 7410\r\n2020/10/29 21:33:49.042 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: FlightNum with cardinality: 402, range: 24 to 7389\r\n2020/10/29 21:33:49.057 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Using fixed bytes value dictionary for column: Origin, size: 297\r\n2020/10/29 21:33:49.057 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Using fixed bytes value dictionary for column: Origin, size: 321\r\n2020/10/29 21:33:49.057 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Using fixed bytes value dictionary for column: Origin, size: 294\r\n2020/10/29 21:33:49.057 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Using fixed bytes value dictionary for column: Origin, size: 360\r\n2020/10/29 21:33:49.057 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for STRING column: Origin with cardinality: 98, max length in bytes: 3, range: ABQ to VPS\r\n2020/10/29 21:33:49.057 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for STRING column: Origin with cardinality: 99, max length in bytes: 3, range: ALB to TVC\r\n2020/10/29 21:33:49.057 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for STRING column: Origin with cardinality: 107, max length in bytes: 3, range: ABQ to XNA\r\n2020/10/29 21:33:49.057 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for STRING column: Origin with cardinality: 120, max length in bytes: 3, range: ABQ to YUM\r\n2020/10/29 21:33:49.059 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: Quarter with cardinality: 1, range: 1 to 1\r\n2020/10/29 21:33:49.059 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: Quarter with cardinality: 1, range: 1 to 1\r\n2020/10/29 21:33:49.059 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: Quarter with cardinality: 1, range: 1 to 1\r\n2020/10/29 21:33:49.059 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: Quarter with cardinality: 1, range: 1 to 1\r\n2020/10/29 21:33:49.061 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: LateAircraftDelay with cardinality: 58, range: -2147483648 to 373\r\n2020/10/29 21:33:49.061 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: LateAircraftDelay with cardinality: 48, range: -2147483648 to 185\r\n2020/10/29 21:33:49.061 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: LateAircraftDelay with cardinality: 62, range: -2147483648 to 291\r\n2020/10/29 21:33:49.061 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: LateAircraftDelay with cardinality: 50, range: -2147483648 to 303\r\n2020/10/29 21:33:49.062 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: DivActualElapsedTime with cardinality: 47, range: -2147483648 to 891\r\n2020/10/29 21:33:49.062 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: DivActualElapsedTime with cardinality: 58, range: -2147483648 to 1968\r\n2020/10/29 21:33:49.062 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: DivActualElapsedTime with cardinality: 31, range: -2147483648 to 773\r\n2020/10/29 21:33:49.062 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: DivActualElapsedTime with cardinality: 87, range: -2147483648 to 1241\r\n2020/10/29 21:33:49.063 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: DivWheelsOns with cardinality: 127, range: -2147483648 to 2359\r\n2020/10/29 21:33:49.063 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: DivWheelsOns with cardinality: 107, range: -2147483648 to 2341\r\n2020/10/29 21:33:49.063 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: DivWheelsOns with cardinality: 149, range: -2147483648 to 2359\r\n2020/10/29 21:33:49.065 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: DivWheelsOns with cardinality: 50, range: -2147483648 to 2309\r\n2020/10/29 21:33:49.066 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: DivWheelsOffs with cardinality: 93, range: -2147483648 to 2353\r\n2020/10/29 21:33:49.066 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: DivWheelsOffs with cardinality: 47, range: -2147483648 to 2153\r\n2020/10/29 21:33:49.067 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: DivWheelsOffs with cardinality: 67, range: -2147483648 to 2349\r\n2020/10/29 21:33:49.066 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: DivWheelsOffs with cardinality: 34, range: -2147483648 to 2315\r\n2020/10/29 21:33:49.068 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: AirTime with cardinality: 136, range: -2147483648 to 362\r\n2020/10/29 21:33:49.068 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: AirTime with cardinality: 151, range: -2147483648 to 397\r\n2020/10/29 21:33:49.068 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: AirTime with cardinality: 151, range: -2147483648 to 361\r\n2020/10/29 21:33:49.068 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: AirTime with cardinality: 140, range: -2147483648 to 362\r\n2020/10/29 21:33:49.069 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: ArrDel15 with cardinality: 3, range: -2147483648 to 1\r\n2020/10/29 21:33:49.069 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: ArrDel15 with cardinality: 3, range: -2147483648 to 1\r\n2020/10/29 21:33:49.069 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: ArrDel15 with cardinality: 3, range: -2147483648 to 1\r\n2020/10/29 21:33:49.069 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: ArrDel15 with cardinality: 3, range: -2147483648 to 1\r\n2020/10/29 21:33:49.070 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for INT column: DivTotalGTimes with cardinality: 68, range: -2147483648 to 119\r\n2020/10/29 21:33:49.070 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for INT column: DivTotalGTimes with cardinality: 40, range: -2147483648 to 123\r\n2020/10/29 21:33:49.070 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for INT column: DivTotalGTimes with cardinality: 57, range: -2147483648 to 139\r\n2020/10/29 21:33:49.071 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for INT column: DivTotalGTimes with cardinality: 38, range: -2147483648 to 94\r\n2020/10/29 21:33:49.071 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Using fixed bytes value dictionary for column: DepTimeBlk, size: 171\r\n2020/10/29 21:33:49.071 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Using fixed bytes value dictionary for column: DepTimeBlk, size: 171\r\n2020/10/29 21:33:49.071 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Using fixed bytes value dictionary for column: DepTimeBlk, size: 171\r\n2020/10/29 21:33:49.071 INFO [SegmentDictionaryCreator] [pool-2-thread-2] Created dictionary for STRING column: DepTimeBlk with cardinality: 19, max length in bytes: 9, range: 0001-0559 to 2300-2359\r\n2020/10/29 21:33:49.071 INFO [SegmentDictionaryCreator] [pool-2-thread-4] Created dictionary for STRING column: DepTimeBlk with cardinality: 19, max length in bytes: 9, range: 0001-0559 to 2300-2359\r\n2020/10/29 21:33:49.071 INFO [SegmentDictionaryCreator] [pool-2-thread-3] Created dictionary for STRING column: DepTimeBlk with cardinality: 19, max length in bytes: 9, range: 0001-0559 to 2300-2359\r\n2020/10/29 21:33:49.071 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Using fixed bytes value dictionary for column: DepTimeBlk, size: 171\r\n2020/10/29 21:33:49.072 INFO [SegmentDictionaryCreator] [pool-2-thread-1] Created dictionary for STRING column: DepTimeBlk with cardinality: 19, max length in bytes: 9, range: 0001-0559 to 2300-2359\r\n....","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719165919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719170732","html_url":"https://github.com/apache/pinot/issues/6206#issuecomment-719170732","issue_url":"https://api.github.com/repos/apache/pinot/issues/6206","id":719170732,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTE3MDczMg==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T04:56:31Z","updated_at":"2020-10-30T04:56:31Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-pinot/pull/6214","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719170732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719177075","html_url":"https://github.com/apache/pinot/pull/6213#issuecomment-719177075","issue_url":"https://api.github.com/repos/apache/pinot/issues/6213","id":719177075,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTE3NzA3NQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T05:03:29Z","updated_at":"2020-10-30T05:03:29Z","author_association":"CONTRIBUTOR","body":"Please fix the unit test","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719177075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719195827","html_url":"https://github.com/apache/pinot/pull/6214#issuecomment-719195827","issue_url":"https://api.github.com/repos/apache/pinot/issues/6214","id":719195827,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTE5NTgyNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T05:22:31Z","updated_at":"2020-10-31T01:55:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6214?src=pr&el=h1) Report\n> Merging [#6214](https://codecov.io/gh/apache/incubator-pinot/pull/6214?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.77%`.\n> The diff coverage is `60.19%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6214/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6214?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6214      +/-   ##\n==========================================\n+ Coverage   66.44%   73.22%   +6.77%     \n==========================================\n  Files        1075     1237     +162     \n  Lines       54773    58560    +3787     \n  Branches     8168     8664     +496     \n==========================================\n+ Hits        36396    42878    +6482     \n+ Misses      15700    12869    -2831     \n- Partials     2677     2813     +136     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration | `46.25% <49.14%> (?)` | |\n| unittests | `64.13% <38.28%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6214?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <Ã¸> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <Ã¸> (Ã¸)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <Ã¸> (+44.44%)` | :arrow_up: |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `100.00% <Ã¸> (Ã¸)` | |\n| ... and [1008 more](https://codecov.io/gh/apache/incubator-pinot/pull/6214/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6214?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6214?src=pr&el=footer). Last update [57d292c...adbacc5](https://codecov.io/gh/apache/incubator-pinot/pull/6214?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719195827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719631345","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719631345","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719631345,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTYzMTM0NQ==","user":{"login":"shahsank3t","id":6761317,"node_id":"MDQ6VXNlcjY3NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6761317?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsank3t","html_url":"https://github.com/shahsank3t","followers_url":"https://api.github.com/users/shahsank3t/followers","following_url":"https://api.github.com/users/shahsank3t/following{/other_user}","gists_url":"https://api.github.com/users/shahsank3t/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsank3t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsank3t/subscriptions","organizations_url":"https://api.github.com/users/shahsank3t/orgs","repos_url":"https://api.github.com/users/shahsank3t/repos","events_url":"https://api.github.com/users/shahsank3t/events{/privacy}","received_events_url":"https://api.github.com/users/shahsank3t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T15:45:16Z","updated_at":"2020-10-30T15:45:16Z","author_association":"CONTRIBUTOR","body":"Added Timeout in Query Console\r\n![image](https://user-images.githubusercontent.com/6761317/97726196-fd5cec80-1af4-11eb-97fc-a9cb3e467ee5.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719631345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719704104","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719704104","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719704104,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTcwNDEwNA==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T17:51:18Z","updated_at":"2020-10-30T17:51:18Z","author_association":"MEMBER","body":"@shahsank3t Thanks for working on it. I've tested this PR locally and found out the following thing:\r\n* the UI cannot route to the correct page after clicking \"save\" button for \"Add Table\" for the first time. There is a circle that keeps spinning. \r\n* when clicking into \"Add Table\", after typing the table name, the UI will prompt \"schema not found\" on the top right side of the UI.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719704104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719710627","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719710627","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719710627,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTcxMDYyNw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T18:02:15Z","updated_at":"2020-10-30T18:02:15Z","author_association":"CONTRIBUTOR","body":"@shahsank3t Some issues I found:\r\n1. The replication should also get set into the \"replicasPerPartition\"\r\n2. The schemaName should also get set into the segmentsConfig -> schemaName\r\n3. I also noticed the spinning circle that Jack mentions.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719710627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719711890","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719711890","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719711890,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTcxMTg5MA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T18:04:47Z","updated_at":"2020-10-30T18:04:47Z","author_association":"CONTRIBUTOR","body":"> @shahsank3t Thanks for working on it. I've tested this PR locally and found out the following thing:\r\n> \r\n> * the UI cannot route to the correct page after clicking \"save\" button for \"Add Table\" for the first time. There is a circle that keeps spinning.\r\n> * when clicking into \"Add Table\", after typing the table name, the UI will prompt \"schema not found\" on the top right side of the UI.\r\n\r\nRegarding your second point, for Add Table only operation, we're expecting that user already has schema with same name as the table. We have already deprecated the schemaName in the table config and have comments in place to indicate that schema name should be equal to the table name.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719711890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719745885","html_url":"https://github.com/apache/pinot/pull/6120#issuecomment-719745885","issue_url":"https://api.github.com/repos/apache/pinot/issues/6120","id":719745885,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTc0NTg4NQ==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T19:14:00Z","updated_at":"2020-10-30T19:14:00Z","author_association":"CONTRIBUTOR","body":"please rebase before addressing comments. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719745885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719751614","html_url":"https://github.com/apache/pinot/issues/5346#issuecomment-719751614","issue_url":"https://api.github.com/repos/apache/pinot/issues/5346","id":719751614,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTc1MTYxNA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T19:26:00Z","updated_at":"2020-10-30T19:26:00Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu @jackjlli We might need to further reduce the size of the query file. Currently running all queries in the query file takes more than 2 minutes (the comparing database H2 is slow), and we have 2 query files per integration test. In the github-actions, the integration test suite takes longer than 60 minutes to finish now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719751614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719786873","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719786873","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719786873,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTc4Njg3Mw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T20:40:27Z","updated_at":"2020-10-30T20:40:27Z","author_association":"CONTRIBUTOR","body":"Another change:\r\nFor adding column of DATETIME type, the fields should be TimeUnit  (for MILLIS, SECONDS dropdown) and TimeFormat (for EPOCH, SDF dropdown), instead of TimeSize and TimeUnit.\r\n\r\nAnd could we have Granularity interval before Granularity Unit?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719786873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719792030","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719792030","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719792030,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTc5MjAzMA==","user":{"login":"shahsank3t","id":6761317,"node_id":"MDQ6VXNlcjY3NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6761317?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsank3t","html_url":"https://github.com/shahsank3t","followers_url":"https://api.github.com/users/shahsank3t/followers","following_url":"https://api.github.com/users/shahsank3t/following{/other_user}","gists_url":"https://api.github.com/users/shahsank3t/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsank3t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsank3t/subscriptions","organizations_url":"https://api.github.com/users/shahsank3t/orgs","repos_url":"https://api.github.com/users/shahsank3t/repos","events_url":"https://api.github.com/users/shahsank3t/events{/privacy}","received_events_url":"https://api.github.com/users/shahsank3t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T20:48:37Z","updated_at":"2020-10-30T20:48:37Z","author_association":"CONTRIBUTOR","body":"@npawar we show another format field when we select SDF from TimeFormat. What should we call that?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719792030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719793712","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719793712","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719793712,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTc5MzcxMg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T20:52:42Z","updated_at":"2020-10-30T20:52:42Z","author_association":"CONTRIBUTOR","body":"> @npawar we show another format field when we select SDF from TimeFormat. What should we call that?\r\n\r\nLets call that Time Pattern","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719793712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719802309","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719802309","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719802309,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTgwMjMwOQ==","user":{"login":"shahsank3t","id":6761317,"node_id":"MDQ6VXNlcjY3NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6761317?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsank3t","html_url":"https://github.com/shahsank3t","followers_url":"https://api.github.com/users/shahsank3t/followers","following_url":"https://api.github.com/users/shahsank3t/following{/other_user}","gists_url":"https://api.github.com/users/shahsank3t/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsank3t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsank3t/subscriptions","organizations_url":"https://api.github.com/users/shahsank3t/orgs","repos_url":"https://api.github.com/users/shahsank3t/repos","events_url":"https://api.github.com/users/shahsank3t/events{/privacy}","received_events_url":"https://api.github.com/users/shahsank3t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-30T21:13:17Z","updated_at":"2020-10-30T21:13:17Z","author_association":"CONTRIBUTOR","body":"@jackjlli @npawar \r\nThanks for taking the time to try out the changes.\r\nI have updated the PR with the reported issues and concerns.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719802309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719867281","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719867281","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719867281,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTg2NzI4MQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-31T01:50:57Z","updated_at":"2020-10-31T02:04:04Z","author_association":"CONTRIBUTOR","body":"Found another corner case - adding columns with same name into schema \r\n\r\nSteps:\r\nI Clicked on Add Table & Schema. \r\nI added 2 columns in the schema with the same name. \r\nSelected OFFLINE table and provided a name.\r\nClicked Save.\r\n\r\nThe POST schema call must've failed in the backend. As a result, no schema was created. But the table was still created. \r\nI tried that schema on Swagger POST and verified that it should fail. Here's the reference schema:\r\n```\r\n{\r\n  \"schemaName\": \"\",\r\n  \"dimensionFieldSpecs\": [\r\n    {\r\n      \"name\": \"aa\",\r\n      \"dataType\": \"INT\"\r\n    },\r\n    {\r\n      \"name\": \"aa\",\r\n      \"dataType\": \"LONG\"\r\n    }\r\n  ],\r\n  \"metricFieldSpecs\": [],\r\n  \"dateTimeFieldSpecs\": []\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719867281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719868046","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719868046","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719868046,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTg2ODA0Ng==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-31T01:57:44Z","updated_at":"2020-10-31T02:00:05Z","author_association":"CONTRIBUTOR","body":"One more: \r\nSummary - Only 1 datetime is getting populated in the timecolumn dropdown.\r\n\r\nSteps\r\n1. Clicked on Add Schema and Table\r\n2. Added STRING dimension \"x\"\r\n3. Added STRING datetime \"y\"\r\n4. Entered tableName \"foo\" and selected \"OFFLINE\". At this stage, \"y\" is shown in the dropdown for time.\r\n5. Now went to the top section and added another LONG datetime \"z\"\r\n6. Went to the bottom section to change time column to \"z\", but don't see it in the dropdown. (Manually edited json from y to z and that worked)\r\n7. Now further went to Add Table and added \"foo\" again, this time REALTIME. Again, I see only \"y\" in the time column dropdown","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719868046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719869189","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719869189","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719869189,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTg2OTE4OQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-31T02:09:10Z","updated_at":"2020-10-31T02:09:10Z","author_association":"CONTRIBUTOR","body":"Third one:\r\nClicked on Add Table.\r\nEnter a tableName \"foo\", such that no schema with that name exists.\r\nThe schemaName in the tableConfig is automatically filled out as \"foo\" - which is the correct behavior. But that schema doesn't exist, so I manually change this to some other schemaName, say \"bar\".\r\nClick Save.\r\n\r\nNow when I go look at the tableConfig \"foo\", I was expecting schemaName \"bar\", but it got saved as \"foo\".","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719869189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719879608","html_url":"https://github.com/apache/pinot/issues/6206#issuecomment-719879608","issue_url":"https://api.github.com/repos/apache/pinot/issues/6206","id":719879608,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTg3OTYwOA==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-31T04:02:18Z","updated_at":"2020-10-31T04:02:18Z","author_association":"CONTRIBUTOR","body":"#6214 is merged. This standalone mode segment creation parallelism is also supported.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719879608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719930281","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719930281","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719930281,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTkzMDI4MQ==","user":{"login":"shahsank3t","id":6761317,"node_id":"MDQ6VXNlcjY3NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6761317?v=4","gravatar_id":"","url":"https://api.github.com/users/shahsank3t","html_url":"https://github.com/shahsank3t","followers_url":"https://api.github.com/users/shahsank3t/followers","following_url":"https://api.github.com/users/shahsank3t/following{/other_user}","gists_url":"https://api.github.com/users/shahsank3t/gists{/gist_id}","starred_url":"https://api.github.com/users/shahsank3t/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shahsank3t/subscriptions","organizations_url":"https://api.github.com/users/shahsank3t/orgs","repos_url":"https://api.github.com/users/shahsank3t/repos","events_url":"https://api.github.com/users/shahsank3t/events{/privacy}","received_events_url":"https://api.github.com/users/shahsank3t/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-31T12:57:02Z","updated_at":"2020-10-31T12:57:02Z","author_association":"CONTRIBUTOR","body":"Thanks for the detailed steps  @npawar \r\nI have fixed all the bugs and updated the PR. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719930281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719934870","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-719934870","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":719934870,"node_id":"MDEyOklzc3VlQ29tbWVudDcxOTkzNDg3MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-31T13:34:37Z","updated_at":"2020-10-31T13:34:37Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6215?src=pr&el=h1) Report\n> Merging [#6215](https://codecov.io/gh/apache/incubator-pinot/pull/6215?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `2.32%`.\n> The diff coverage is `38.28%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6215/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6215?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6215      +/-   ##\n==========================================\n- Coverage   66.44%   64.11%   -2.33%     \n==========================================\n  Files        1075     1237     +162     \n  Lines       54773    58560    +3787     \n  Branches     8168     8664     +496     \n==========================================\n+ Hits        36396    37548    +1152     \n- Misses      15700    18271    +2571     \n- Partials     2677     2741      +64     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| unittests | `64.11% <38.28%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6215?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <Ã¸> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `73.80% <Ã¸> (+0.63%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <Ã¸> (Ã¸)` | |\n| ... and [1075 more](https://codecov.io/gh/apache/incubator-pinot/pull/6215/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6215?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6215?src=pr&el=footer). Last update [ce43288...8e43de0](https://codecov.io/gh/apache/incubator-pinot/pull/6215?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/719934870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720015112","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-720015112","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":720015112,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDAxNTExMg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T02:06:13Z","updated_at":"2020-11-01T02:06:13Z","author_association":"CONTRIBUTOR","body":"Thanks @shahsank3t ! Looks good to me","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720015112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720031359","html_url":"https://github.com/apache/pinot/pull/6208#issuecomment-720031359","issue_url":"https://api.github.com/repos/apache/pinot/issues/6208","id":720031359,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDAzMTM1OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T05:27:14Z","updated_at":"2020-11-01T05:27:14Z","author_association":"CONTRIBUTOR","body":"@chenboat Thanks for the review, addressed the comments","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720031359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720099306","html_url":"https://github.com/apache/pinot/pull/6105#issuecomment-720099306","issue_url":"https://api.github.com/repos/apache/pinot/issues/6105","id":720099306,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDA5OTMwNg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T14:44:09Z","updated_at":"2020-11-01T14:44:09Z","author_association":"MEMBER","body":"@Jackie-Jiang @npawar can we merge this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720099306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720099621","html_url":"https://github.com/apache/pinot/pull/5719#issuecomment-720099621","issue_url":"https://api.github.com/repos/apache/pinot/issues/5719","id":720099621,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDA5OTYyMQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T14:46:31Z","updated_at":"2020-11-01T14:46:31Z","author_association":"MEMBER","body":"@fx19880617 is this still valid or @KKcorps has already incorporated this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720099621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720099735","html_url":"https://github.com/apache/pinot/pull/5833#issuecomment-720099735","issue_url":"https://api.github.com/repos/apache/pinot/issues/5833","id":720099735,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDA5OTczNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T14:47:24Z","updated_at":"2020-11-01T14:47:24Z","author_association":"MEMBER","body":"@jasperjiaguo any update on this? is this still valid","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720099735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720099931","html_url":"https://github.com/apache/pinot/pull/6211#issuecomment-720099931","issue_url":"https://api.github.com/repos/apache/pinot/issues/6211","id":720099931,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDA5OTkzMQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T14:48:43Z","updated_at":"2020-11-01T14:48:43Z","author_association":"MEMBER","body":"@galalen is there anything pending in this PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720099931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720119479","html_url":"https://github.com/apache/pinot/pull/6208#issuecomment-720119479","issue_url":"https://api.github.com/repos/apache/pinot/issues/6208","id":720119479,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDExOTQ3OQ==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T17:03:02Z","updated_at":"2020-11-01T17:03:02Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang Please update this doc and introduce this new assignment type at https://docs.pinot.apache.org/operators/operating-pinot/segment-assignment","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720119479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720125926","html_url":"https://github.com/apache/pinot/pull/6211#issuecomment-720125926","issue_url":"https://api.github.com/repos/apache/pinot/issues/6211","id":720125926,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDEyNTkyNg==","user":{"login":"galalen","id":16897043,"node_id":"MDQ6VXNlcjE2ODk3MDQz","avatar_url":"https://avatars.githubusercontent.com/u/16897043?v=4","gravatar_id":"","url":"https://api.github.com/users/galalen","html_url":"https://github.com/galalen","followers_url":"https://api.github.com/users/galalen/followers","following_url":"https://api.github.com/users/galalen/following{/other_user}","gists_url":"https://api.github.com/users/galalen/gists{/gist_id}","starred_url":"https://api.github.com/users/galalen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galalen/subscriptions","organizations_url":"https://api.github.com/users/galalen/orgs","repos_url":"https://api.github.com/users/galalen/repos","events_url":"https://api.github.com/users/galalen/events{/privacy}","received_events_url":"https://api.github.com/users/galalen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T17:50:43Z","updated_at":"2020-11-01T17:50:43Z","author_association":"CONTRIBUTOR","body":"> @galalen is there anything pending in this PR?\r\n\r\n@kishoreg, @npawar Yes, I'm working on unit and the integration test.\r\nI want to make sure reading the IdealState will give me the current state. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720125926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720136527","html_url":"https://github.com/apache/pinot/pull/6105#issuecomment-720136527","issue_url":"https://api.github.com/repos/apache/pinot/issues/6105","id":720136527,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDEzNjUyNw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-01T19:08:04Z","updated_at":"2020-11-01T19:08:04Z","author_association":"CONTRIBUTOR","body":"@kishoreg Some comments are not addressed yet. Let's hold on this PR","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720136527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720191971","html_url":"https://github.com/apache/pinot/pull/6215#issuecomment-720191971","issue_url":"https://api.github.com/repos/apache/pinot/issues/6215","id":720191971,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDE5MTk3MQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-02T01:37:36Z","updated_at":"2020-11-02T01:37:36Z","author_association":"MEMBER","body":"Tested it locally and everything looks good. Thanks @shahsank3t !","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720191971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720248162","html_url":"https://github.com/apache/pinot/pull/6218#issuecomment-720248162","issue_url":"https://api.github.com/repos/apache/pinot/issues/6218","id":720248162,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDI0ODE2Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-02T05:39:33Z","updated_at":"2020-11-02T05:53:48Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6218?src=pr&el=h1) Report\n> Merging [#6218](https://codecov.io/gh/apache/incubator-pinot/pull/6218?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **increase** coverage by `6.84%`.\n> The diff coverage is `67.11%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6218/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6218?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6218      +/-   ##\n==========================================\n+ Coverage   66.44%   73.29%   +6.84%     \n==========================================\n  Files        1075     1239     +164     \n  Lines       54773    58756    +3983     \n  Branches     8168     8709     +541     \n==========================================\n+ Hits        36396    43066    +6670     \n+ Misses      15700    12861    -2839     \n- Partials     2677     2829     +152     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration | `46.52% <50.60%> (?)` | |\n| unittests | `64.07% <43.43%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6218?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <Ã¸> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <Ã¸> (Ã¸)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <Ã¸> (+44.44%)` | :arrow_up: |\n| ... and [1011 more](https://codecov.io/gh/apache/incubator-pinot/pull/6218/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6218?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6218?src=pr&el=footer). Last update [aa883b8...4a39ee2](https://codecov.io/gh/apache/incubator-pinot/pull/6218?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720248162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720273686","html_url":"https://github.com/apache/pinot/pull/6219#issuecomment-720273686","issue_url":"https://api.github.com/repos/apache/pinot/issues/6219","id":720273686,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDI3MzY4Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-02T06:47:20Z","updated_at":"2020-11-02T06:47:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6219?src=pr&el=h1) Report\n> Merging [#6219](https://codecov.io/gh/apache/incubator-pinot/pull/6219?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `2.33%`.\n> The diff coverage is `43.43%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6219/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6219?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6219      +/-   ##\n==========================================\n- Coverage   66.44%   64.10%   -2.34%     \n==========================================\n  Files        1075     1238     +163     \n  Lines       54773    58750    +3977     \n  Branches     8168     8709     +541     \n==========================================\n+ Hits        36396    37664    +1268     \n- Misses      15700    18346    +2646     \n- Partials     2677     2740      +63     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| unittests | `64.10% <43.43%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6219?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <Ã¸> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `73.80% <Ã¸> (+0.63%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| ... and [1074 more](https://codecov.io/gh/apache/incubator-pinot/pull/6219/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6219?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6219?src=pr&el=footer). Last update [aa883b8...825f431](https://codecov.io/gh/apache/incubator-pinot/pull/6219?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720273686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720359231","html_url":"https://github.com/apache/pinot/pull/6220#issuecomment-720359231","issue_url":"https://api.github.com/repos/apache/pinot/issues/6220","id":720359231,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDM1OTIzMQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-02T09:43:26Z","updated_at":"2020-11-03T00:33:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6220?src=pr&el=h1) Report\n> Merging [#6220](https://codecov.io/gh/apache/incubator-pinot/pull/6220?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `2.34%`.\n> The diff coverage is `43.43%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6220/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6220?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6220      +/-   ##\n==========================================\n- Coverage   66.44%   64.10%   -2.35%     \n==========================================\n  Files        1075     1239     +164     \n  Lines       54773    58800    +4027     \n  Branches     8168     8715     +547     \n==========================================\n+ Hits        36396    37694    +1298     \n- Misses      15700    18363    +2663     \n- Partials     2677     2743      +66     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| unittests | `64.10% <43.43%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6220?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <Ã¸> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `73.80% <Ã¸> (+0.63%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| ... and [1075 more](https://codecov.io/gh/apache/incubator-pinot/pull/6220/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6220?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6220?src=pr&el=footer). Last update [e0f15aa...c59f79d](https://codecov.io/gh/apache/incubator-pinot/pull/6220?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720359231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720982607","html_url":"https://github.com/apache/pinot/issues/5351#issuecomment-720982607","issue_url":"https://api.github.com/repos/apache/pinot/issues/5351","id":720982607,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMDk4MjYwNw==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-03T08:48:13Z","updated_at":"2020-11-03T08:48:13Z","author_association":"CONTRIBUTOR","body":"hi @npawar I'd like to work on this. I think we need to sort the columns in topological order before applying the transform function","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/720982607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721375606","html_url":"https://github.com/apache/pinot/pull/6225#issuecomment-721375606","issue_url":"https://api.github.com/repos/apache/pinot/issues/6225","id":721375606,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTM3NTYwNg==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-03T21:09:47Z","updated_at":"2020-11-03T21:09:47Z","author_association":"CONTRIBUTOR","body":"> If there is no resize during the upsert, how do you prevent server from running out of memory?\r\n> One big difference between PQL and SQL is that for PQL we limit the groups in the map (trimming during upsert is desired, but not possible for PQL semantic). For SQL we want to trim the result during upsert to have the accurate result and also prevent OOM. We can increase the trimming threshold to reduce the number of trimmings.\r\n\r\n+1, eliminating resizing during upsert is dangerous and can cause OOM. PQL has a config to bypass the truncation that certain use cases are using, perhaps the same can be used for reducing num resize during upserts (defaulting to a tuned value that does not require a general case to explicitly set a value).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721375606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721393089","html_url":"https://github.com/apache/pinot/pull/5833#issuecomment-721393089","issue_url":"https://api.github.com/repos/apache/pinot/issues/5833","id":721393089,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTM5MzA4OQ==","user":{"login":"jasperjiaguo","id":10736840,"node_id":"MDQ6VXNlcjEwNzM2ODQw","avatar_url":"https://avatars.githubusercontent.com/u/10736840?v=4","gravatar_id":"","url":"https://api.github.com/users/jasperjiaguo","html_url":"https://github.com/jasperjiaguo","followers_url":"https://api.github.com/users/jasperjiaguo/followers","following_url":"https://api.github.com/users/jasperjiaguo/following{/other_user}","gists_url":"https://api.github.com/users/jasperjiaguo/gists{/gist_id}","starred_url":"https://api.github.com/users/jasperjiaguo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasperjiaguo/subscriptions","organizations_url":"https://api.github.com/users/jasperjiaguo/orgs","repos_url":"https://api.github.com/users/jasperjiaguo/repos","events_url":"https://api.github.com/users/jasperjiaguo/events{/privacy}","received_events_url":"https://api.github.com/users/jasperjiaguo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-03T21:51:59Z","updated_at":"2020-11-03T21:51:59Z","author_association":"CONTRIBUTOR","body":"> @jasperjiaguo any update on this? is this still valid\r\n\r\nHi Kishore, I think this can be closed for now as experiments show it won't affect the performance once we have a sufficient number of appropriate indices. In the situation where the number of indices is low the performance gain/loss differs. As I'm busy with school stuff I probably won't have time to dig deeper for now. I will reopen in future if needed. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721393089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721403522","html_url":"https://github.com/apache/pinot/issues/6230#issuecomment-721403522","issue_url":"https://api.github.com/repos/apache/pinot/issues/6230","id":721403522,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTQwMzUyMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-03T22:18:32Z","updated_at":"2020-11-03T22:18:32Z","author_association":"CONTRIBUTOR","body":"@apucher Double quote in SQL means identifier instead of literal, only single quote means literal. Double quote can be used to skip special characters in the identifier, e.g. `\"member-id\"`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721403522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721422429","html_url":"https://github.com/apache/pinot/pull/6229#issuecomment-721422429","issue_url":"https://api.github.com/repos/apache/pinot/issues/6229","id":721422429,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTQyMjQyOQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-03T23:11:44Z","updated_at":"2020-11-04T14:07:06Z","author_association":"CONTRIBUTOR","body":"Can the `scala-maven-plugin` run before the default gpg plugin signed the files?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721422429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721423958","html_url":"https://github.com/apache/pinot/issues/6230#issuecomment-721423958","issue_url":"https://api.github.com/repos/apache/pinot/issues/6230","id":721423958,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTQyMzk1OA==","user":{"login":"apucher","id":25439965,"node_id":"MDQ6VXNlcjI1NDM5OTY1","avatar_url":"https://avatars.githubusercontent.com/u/25439965?v=4","gravatar_id":"","url":"https://api.github.com/users/apucher","html_url":"https://github.com/apucher","followers_url":"https://api.github.com/users/apucher/followers","following_url":"https://api.github.com/users/apucher/following{/other_user}","gists_url":"https://api.github.com/users/apucher/gists{/gist_id}","starred_url":"https://api.github.com/users/apucher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/apucher/subscriptions","organizations_url":"https://api.github.com/users/apucher/orgs","repos_url":"https://api.github.com/users/apucher/repos","events_url":"https://api.github.com/users/apucher/events{/privacy}","received_events_url":"https://api.github.com/users/apucher/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-03T23:16:00Z","updated_at":"2020-11-03T23:16:00Z","author_association":"CONTRIBUTOR","body":"ok, should we close this one then? @fx19880617 ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721423958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721429629","html_url":"https://github.com/apache/pinot/pull/6229#issuecomment-721429629","issue_url":"https://api.github.com/repos/apache/pinot/issues/6229","id":721429629,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTQyOTYyOQ==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-03T23:33:40Z","updated_at":"2020-11-03T23:34:53Z","author_association":"MEMBER","body":"> Can the `scala-maven-plugin` run before the default pgp plugin signed the files?\r\n\r\nNo, basically the `maven-source-plugin` and `scala-maven-plugin` respectively have their own life cycles. And the default pgp plugin is executed in the first life cycle. Without explicitly specifying the gpg/pgp plugin to the pom file, maven doesn't know whether this is the correct sequence. That's why I put the gpg plugin here right after the scala plugin. And my change will guarantee that the gpg plugin will sign the files **only once** at the end of the mvn command, so no double signing.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721429629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721513180","html_url":"https://github.com/apache/pinot/issues/6232#issuecomment-721513180","issue_url":"https://api.github.com/repos/apache/pinot/issues/6232","id":721513180,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTUxMzE4MA==","user":{"login":"Aka-shi","id":52004626,"node_id":"MDQ6VXNlcjUyMDA0NjI2","avatar_url":"https://avatars.githubusercontent.com/u/52004626?v=4","gravatar_id":"","url":"https://api.github.com/users/Aka-shi","html_url":"https://github.com/Aka-shi","followers_url":"https://api.github.com/users/Aka-shi/followers","following_url":"https://api.github.com/users/Aka-shi/following{/other_user}","gists_url":"https://api.github.com/users/Aka-shi/gists{/gist_id}","starred_url":"https://api.github.com/users/Aka-shi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aka-shi/subscriptions","organizations_url":"https://api.github.com/users/Aka-shi/orgs","repos_url":"https://api.github.com/users/Aka-shi/repos","events_url":"https://api.github.com/users/Aka-shi/events{/privacy}","received_events_url":"https://api.github.com/users/Aka-shi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T05:02:44Z","updated_at":"2020-11-04T05:02:44Z","author_association":"CONTRIBUTOR","body":"@fx19880617 @kishoreg ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721513180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721592862","html_url":"https://github.com/apache/pinot/pull/6233#issuecomment-721592862","issue_url":"https://api.github.com/repos/apache/pinot/issues/6233","id":721592862,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTU5Mjg2Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T08:40:30Z","updated_at":"2020-11-04T08:40:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6233?src=pr&el=h1) Report\n> Merging [#6233](https://codecov.io/gh/apache/incubator-pinot/pull/6233?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `2.34%`.\n> The diff coverage is `43.43%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6233/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6233?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6233      +/-   ##\n==========================================\n- Coverage   66.44%   64.10%   -2.35%     \n==========================================\n  Files        1075     1240     +165     \n  Lines       54773    58938    +4165     \n  Branches     8168     8737     +569     \n==========================================\n+ Hits        36396    37783    +1387     \n- Misses      15700    18404    +2704     \n- Partials     2677     2751      +74     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| unittests | `64.10% <43.43%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6233?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <Ã¸> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `73.80% <Ã¸> (+0.63%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| ... and [1078 more](https://codecov.io/gh/apache/incubator-pinot/pull/6233/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6233?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6233?src=pr&el=footer). Last update [bee125e...4aa2af2](https://codecov.io/gh/apache/incubator-pinot/pull/6233?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721592862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721757627","html_url":"https://github.com/apache/pinot/pull/6229#issuecomment-721757627","issue_url":"https://api.github.com/repos/apache/pinot/issues/6229","id":721757627,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTc1NzYyNw==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T14:17:41Z","updated_at":"2020-11-04T14:17:41Z","author_association":"CONTRIBUTOR","body":"@mangrrua Any insights on whether this is the right way to solve the problem, or if there is a more elegant way (that does not require explicitly calling scala `release-sign-artificats` when cutting a release.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721757627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721873395","html_url":"https://github.com/apache/pinot/pull/6224#issuecomment-721873395","issue_url":"https://api.github.com/repos/apache/pinot/issues/6224","id":721873395,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTg3MzM5NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T17:36:17Z","updated_at":"2020-11-17T22:40:27Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6224?src=pr&el=h1) Report\n> Merging [#6224](https://codecov.io/gh/apache/incubator-pinot/pull/6224?src=pr&el=desc) (83a277e) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) (1beaab5) will **increase** coverage by `6.80%`.\n> The diff coverage is `68.27%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6224/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6224?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6224      +/-   ##\n==========================================\n+ Coverage   66.44%   73.25%   +6.80%     \n==========================================\n  Files        1075     1243     +168     \n  Lines       54773    58949    +4176     \n  Branches     8168     8739     +571     \n==========================================\n+ Hits        36396    43182    +6786     \n+ Misses      15700    12931    -2769     \n- Partials     2677     2836     +159     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration | `46.34% <51.88%> (?)` | |\n| unittests | `64.11% <45.12%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6224?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `44.44% <0.00%> (-4.40%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `78.57% <Ã¸> (+5.40%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| [.../pinot/common/function/DateTimePatternHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRGF0ZVRpbWVQYXR0ZXJuSGFuZGxlci5qYXZh) | `83.33% <Ã¸> (Ã¸)` | |\n| [...ot/common/function/FunctionDefinitionRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25EZWZpbml0aW9uUmVnaXN0cnkuamF2YQ==) | `88.88% <Ã¸> (+44.44%)` | :arrow_up: |\n| [...org/apache/pinot/common/function/FunctionInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vRnVuY3Rpb25JbmZvLmphdmE=) | `100.00% <Ã¸> (Ã¸)` | |\n| ... and [1017 more](https://codecov.io/gh/apache/incubator-pinot/pull/6224/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6224?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6224?src=pr&el=footer). Last update [5a53fbe...21eacde](https://codecov.io/gh/apache/incubator-pinot/pull/6224?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721873395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721929853","html_url":"https://github.com/apache/pinot/issues/6230#issuecomment-721929853","issue_url":"https://api.github.com/repos/apache/pinot/issues/6230","id":721929853,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTkyOTg1Mw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T19:29:37Z","updated_at":"2020-11-04T19:29:37Z","author_association":"CONTRIBUTOR","body":"yes ðŸ‘ ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721929853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721939287","html_url":"https://github.com/apache/pinot/pull/6233#issuecomment-721939287","issue_url":"https://api.github.com/repos/apache/pinot/issues/6233","id":721939287,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTkzOTI4Nw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T19:48:53Z","updated_at":"2020-11-04T19:48:53Z","author_association":"CONTRIBUTOR","body":"Seems this change only impact segment name generation, does it also impact the query results?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721939287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721987609","html_url":"https://github.com/apache/pinot/issues/6236#issuecomment-721987609","issue_url":"https://api.github.com/repos/apache/pinot/issues/6236","id":721987609,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTk4NzYwOQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T21:34:53Z","updated_at":"2020-11-04T21:34:53Z","author_association":"CONTRIBUTOR","body":"This happens automatically if data is lost.\r\n\r\nAlso, if the consumer lags behind once, then it is likely that the consumer will do so again -- looking it at from a perspective of a slow consumer against a fast producer. The pipe _will_ overflow, so you need to do the reset every once in a while. That is what happens automatically now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721987609/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721988398","html_url":"https://github.com/apache/pinot/pull/6235#issuecomment-721988398","issue_url":"https://api.github.com/repos/apache/pinot/issues/6235","id":721988398,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMTk4ODM5OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T21:36:47Z","updated_at":"2020-11-04T21:36:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6235?src=pr&el=h1) Report\n> Merging [#6235](https://codecov.io/gh/apache/incubator-pinot/pull/6235?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `20.07%`.\n> The diff coverage is `48.64%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6235/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6235?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #6235       +/-   ##\n===========================================\n- Coverage   66.44%   46.37%   -20.08%     \n===========================================\n  Files        1075     1240      +165     \n  Lines       54773    58940     +4167     \n  Branches     8168     8737      +569     \n===========================================\n- Hits        36396    27331     -9065     \n- Misses      15700    29367    +13667     \n+ Partials     2677     2242      -435     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration | `46.37% <48.64%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6235?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/broker/queryquota/MaxHitRateTracker.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9NYXhIaXRSYXRlVHJhY2tlci5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...ache/pinot/broker/queryquota/QueryQuotaEntity.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9RdWVyeVF1b3RhRW50aXR5LmphdmE=) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...routing/instanceselector/BaseInstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0Jhc2VJbnN0YW5jZVNlbGVjdG9yLmphdmE=) | `96.03% <Ã¸> (-3.97%)` | :arrow_down: |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `64.28% <Ã¸> (-8.89%)` | :arrow_down: |\n| ... and [1229 more](https://codecov.io/gh/apache/incubator-pinot/pull/6235/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6235?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6235?src=pr&el=footer). Last update [0f4ee68...f87b940](https://codecov.io/gh/apache/incubator-pinot/pull/6235?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/721988398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722003846","html_url":"https://github.com/apache/pinot/issues/6236#issuecomment-722003846","issue_url":"https://api.github.com/repos/apache/pinot/issues/6236","id":722003846,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjAwMzg0Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T22:14:28Z","updated_at":"2020-11-04T22:14:28Z","author_association":"MEMBER","body":"There are a few scenarios that have come up in the past due to which they want the ability to \r\n- pause/unpause consumption\r\n- skip bad messages\r\n- stop consumption and restart from latest offset for each offset\r\n\r\nI understand that these operations result (skip/move to latest offset) can result in data loss but it's something that users can use in certain scenario where they prefer freshness over data consistency or just dont care about previous data and just want to move to latest messages. Especially useful during testing as well.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722003846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722027509","html_url":"https://github.com/apache/pinot/issues/6222#issuecomment-722027509","issue_url":"https://api.github.com/repos/apache/pinot/issues/6222","id":722027509,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjAyNzUwOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-04T23:21:34Z","updated_at":"2020-11-04T23:21:34Z","author_association":"CONTRIBUTOR","body":"Because of the inconsistent behavior of the LLC table and simple date format described above, we should not rely on the time unit stored in the `SegmentZKMetadata`. To minimize the change, we can keep the current format of the `SegmentZKMetadata`, add APIs to read the start/end time in millis, and deprecate the old getters. We can recover the actual start/end time value with the start/end time in millis and the time format stored in the schema.\r\n\r\n- For retention management, use the start/end time in millis.\r\n- For time boundary management, calculate the time boundary using boundary time in millis and the time format.\r\n- For time-based segment pruning, calculate the time range in millis from the time range value and the time format, and then prune segments based on the time in millis.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722027509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722039329","html_url":"https://github.com/apache/pinot/issues/6234#issuecomment-722039329","issue_url":"https://api.github.com/repos/apache/pinot/issues/6234","id":722039329,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjAzOTMyOQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T00:00:26Z","updated_at":"2020-11-05T00:00:35Z","author_association":"CONTRIBUTOR","body":"@flykent1990 Can you please check if the deleted table has the table config and all segment metadata cleaned up? You can find these info from the Zookeeper Browser under the PROPERTYSTORE directory.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722039329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722042464","html_url":"https://github.com/apache/pinot/pull/6233#issuecomment-722042464","issue_url":"https://api.github.com/repos/apache/pinot/issues/6233","id":722042464,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjA0MjQ2NA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T00:09:54Z","updated_at":"2020-11-05T00:09:54Z","author_association":"CONTRIBUTOR","body":"I'm not sure if this is the desired behavior, and if this can cause backward-incompatible issue. Some use cases might require to parse the time string with the local time zone.\r\nWhat specific issue are you running into because of this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722042464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722050397","html_url":"https://github.com/apache/pinot/pull/6239#issuecomment-722050397","issue_url":"https://api.github.com/repos/apache/pinot/issues/6239","id":722050397,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjA1MDM5Nw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T00:32:19Z","updated_at":"2020-11-10T21:46:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6239?src=pr&el=h1) Report\n> Merging [#6239](https://codecov.io/gh/apache/incubator-pinot/pull/6239?src=pr&el=desc) (580c85b) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) (1beaab5) will **decrease** coverage by `19.93%`.\n> The diff coverage is `51.82%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6239/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6239?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #6239       +/-   ##\n===========================================\n- Coverage   66.44%   46.51%   -19.94%     \n===========================================\n  Files        1075     1243      +168     \n  Lines       54773    58949     +4176     \n  Branches     8168     8739      +571     \n===========================================\n- Hits        36396    27418     -8978     \n- Misses      15700    29299    +13599     \n+ Partials     2677     2232      -445     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration | `46.51% <51.82%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6239?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/broker/queryquota/MaxHitRateTracker.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9NYXhIaXRSYXRlVHJhY2tlci5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...ache/pinot/broker/queryquota/QueryQuotaEntity.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9RdWVyeVF1b3RhRW50aXR5LmphdmE=) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ceselector/StrictReplicaGroupInstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL1N0cmljdFJlcGxpY2FHcm91cEluc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `0.00% <0.00%> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| ... and [1232 more](https://codecov.io/gh/apache/incubator-pinot/pull/6239/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6239?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6239?src=pr&el=footer). Last update [c8d7efc...580c85b](https://codecov.io/gh/apache/incubator-pinot/pull/6239?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722050397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722073263","html_url":"https://github.com/apache/pinot/issues/6240#issuecomment-722073263","issue_url":"https://api.github.com/repos/apache/pinot/issues/6240","id":722073263,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjA3MzI2Mw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T01:47:51Z","updated_at":"2020-11-05T01:47:51Z","author_association":"CONTRIBUTOR","body":"I am pretty sure we have a use case with 5:minutes:epoch, I need to confirm. It uses this to transform the time column upon ingestion","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722073263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722082393","html_url":"https://github.com/apache/pinot/issues/5919#issuecomment-722082393","issue_url":"https://api.github.com/repos/apache/pinot/issues/5919","id":722082393,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjA4MjM5Mw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T02:17:53Z","updated_at":"2020-11-05T02:17:53Z","author_association":"CONTRIBUTOR","body":"> How do you plan to maintain this endpoint?\r\n> Not sure if this can help with query push down as the behavior must be identical on presto side and pinot side. IMO it is safer to manually select functions to push down instead of using name matching. It can cause unexpected behavior if the behavior is not exactly the same.\r\n\r\nWe can use reflection to auto generate this information or we can get it from TransformFunctionFactory. \r\nI think this is useful when we have many releases of Pinot and Presto and we are keep adding new functions.\r\n\r\nAlso cc: @yupeng9 \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722082393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722084817","html_url":"https://github.com/apache/pinot/issues/6236#issuecomment-722084817","issue_url":"https://api.github.com/repos/apache/pinot/issues/6236","id":722084817,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjA4NDgxNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T02:25:24Z","updated_at":"2020-11-05T02:25:24Z","author_association":"CONTRIBUTOR","body":"Just to clarify requirements:\r\n* Upon pause, are all replicas expected to pause at the same offset?\r\n* Is the stop/restart-from-latest for one partition, or any number of partitions, or all partitions? This can be used to skip bad messages also, but it will skip to latest offset, of course.\r\n* How stringent is the requirement to skip bad messages? i..e. do we just want to skip bad messages, or is it ok to skip several good messages before/after the bad ones?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722084817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722234395","html_url":"https://github.com/apache/pinot/pull/6233#issuecomment-722234395","issue_url":"https://api.github.com/repos/apache/pinot/issues/6233","id":722234395,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjIzNDM5NQ==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T08:48:11Z","updated_at":"2020-11-05T08:48:11Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang  Actually when I tried to run the test in my local machine, this is what it gives: (my local timezone is UTC+8)\r\n```\r\njava.lang.IllegalStateException: Invalid segment start/end time: 1970-12-31T16:30:00.000Z/2020-10-29T16:00:00.000Z (in millis: 31509000000/1603987200000) for time column: date, must be between: 1971-01-01T00:00:00.000Z/2071-01-01T00:00:00.000Z\r\n\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:469)\r\n\tat org.apache.pinot.core.segment.creator.impl.SegmentColumnarIndexCreator.writeMetadata(SegmentColumnarIndexCreator.java:457)\r\n\tat org.apache.pinot.core.segment.creator.impl.SegmentColumnarIndexCreator.seal(SegmentColumnarIndexCreator.java:404)\r\n\tat org.apache.pinot.core.segment.creator.impl.SegmentIndexCreationDriverImpl.handlePostCreation(SegmentIndexCreationDriverImpl.java:252)\r\n\tat org.apache.pinot.core.segment.creator.impl.SegmentIndexCreationDriverImpl.build(SegmentIndexCreationDriverImpl.java:235)\r\n\tat org.apache.pinot.core.segment.index.creator.SegmentGenerationWithTimeColumnTest.buildSegment(SegmentGenerationWithTimeColumnTest.java:205)\r\n\tat org.apache.pinot.core.segment.index.creator.SegmentGenerationWithTimeColumnTest.testSimpleDateSegmentGeneration(SegmentGenerationWithTimeColumnTest.java:91)\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722234395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722239601","html_url":"https://github.com/apache/pinot/pull/6233#issuecomment-722239601","issue_url":"https://api.github.com/repos/apache/pinot/issues/6233","id":722239601,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjIzOTYwMQ==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T08:57:39Z","updated_at":"2020-11-05T08:57:39Z","author_association":"CONTRIBUTOR","body":"Since the output we want is millis since epoch, this would still work regardless of whether user specify a time zone or not. \r\n```\r\nDateTimeFormat.forPattern(\"yyyyMMdd HH:mm:ss Z\").withZoneUTC().parseMillis(\"19710101 00:00:00 +0800\") -> 31507200000\r\nDateTimeFormat.forPattern(\"yyyyMMdd HH:mm:ss Z\").parseMillis(\"19710101 00:00:00 +0800\") -> 31507200000\r\n```\r\nHowever if we don't specify time timezone and our locale is not UTC e.g +0800\r\n```\r\nDateTimeFormat.forPattern(\"yyyyMMdd HH:mm:ss\").parseMillis(\"19710101 00:00:00\") -> 31509000000\r\nDateTimeFormat.forPattern(\"yyyyMMdd HH:mm:ss\").withZoneUTC().parseMillis(\"19710101 00:00:00\") -> 31536000000\r\n```\r\n So I think it's better to enforce UTC in this case","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722239601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722248030","html_url":"https://github.com/apache/pinot/pull/6233#issuecomment-722248030","issue_url":"https://api.github.com/repos/apache/pinot/issues/6233","id":722248030,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjI0ODAzMA==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T09:13:37Z","updated_at":"2020-11-05T09:13:37Z","author_association":"CONTRIBUTOR","body":"> Seems this change only impact segment name generation, does it also impact the query results?\r\n@fx19880617  Please see example above, the output of `dateTimeFormatter.parseMillis` should be the same, so no change to output. This is just to handle the corner case when the os timezone is not UTC. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722248030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722359281","html_url":"https://github.com/apache/pinot/issues/6234#issuecomment-722359281","issue_url":"https://api.github.com/repos/apache/pinot/issues/6234","id":722359281,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjM1OTI4MQ==","user":{"login":"flykent1990","id":71525567,"node_id":"MDQ6VXNlcjcxNTI1NTY3","avatar_url":"https://avatars.githubusercontent.com/u/71525567?v=4","gravatar_id":"","url":"https://api.github.com/users/flykent1990","html_url":"https://github.com/flykent1990","followers_url":"https://api.github.com/users/flykent1990/followers","following_url":"https://api.github.com/users/flykent1990/following{/other_user}","gists_url":"https://api.github.com/users/flykent1990/gists{/gist_id}","starred_url":"https://api.github.com/users/flykent1990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flykent1990/subscriptions","organizations_url":"https://api.github.com/users/flykent1990/orgs","repos_url":"https://api.github.com/users/flykent1990/repos","events_url":"https://api.github.com/users/flykent1990/events{/privacy}","received_events_url":"https://api.github.com/users/flykent1990/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T12:53:20Z","updated_at":"2020-11-05T12:53:20Z","author_association":"NONE","body":"everything has been deleted ... even in zookeeper PROPERTYSTORE is not available but cannot create realtime table","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722359281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722517538","html_url":"https://github.com/apache/pinot/pull/6233#issuecomment-722517538","issue_url":"https://api.github.com/repos/apache/pinot/issues/6233","id":722517538,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjUxNzUzOA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T17:18:25Z","updated_at":"2020-11-05T17:18:25Z","author_association":"CONTRIBUTOR","body":"Seems like better to change the test, since there may be backward incompatibility introduced.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722517538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722563255","html_url":"https://github.com/apache/pinot/issues/6240#issuecomment-722563255","issue_url":"https://api.github.com/repos/apache/pinot/issues/6240","id":722563255,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjU2MzI1NQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T18:37:05Z","updated_at":"2020-11-05T18:37:05Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu Then we can use that to verify the behavior. Please check the segment metadata / ZK metadata and see if the start/end time is converted to epoch in minutes in order for it to behave correctly.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722563255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722564814","html_url":"https://github.com/apache/pinot/pull/6241#issuecomment-722564814","issue_url":"https://api.github.com/repos/apache/pinot/issues/6241","id":722564814,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjU2NDgxNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T18:39:44Z","updated_at":"2020-11-05T18:39:44Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6241?src=pr&el=h1) Report\n> Merging [#6241](https://codecov.io/gh/apache/incubator-pinot/pull/6241?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `20.15%`.\n> The diff coverage is `50.60%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6241/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6241?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #6241       +/-   ##\n===========================================\n- Coverage   66.44%   46.29%   -20.16%     \n===========================================\n  Files        1075     1240      +165     \n  Lines       54773    58948     +4175     \n  Branches     8168     8740      +572     \n===========================================\n- Hits        36396    27292     -9104     \n- Misses      15700    29410    +13710     \n+ Partials     2677     2246      -431     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration | `46.29% <50.60%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6241?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/broker/queryquota/MaxHitRateTracker.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9NYXhIaXRSYXRlVHJhY2tlci5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...ache/pinot/broker/queryquota/QueryQuotaEntity.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9RdWVyeVF1b3RhRW50aXR5LmphdmE=) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ceselector/StrictReplicaGroupInstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL1N0cmljdFJlcGxpY2FHcm91cEluc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `0.00% <0.00%> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| ... and [1228 more](https://codecov.io/gh/apache/incubator-pinot/pull/6241/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6241?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6241?src=pr&el=footer). Last update [d033a11...ac00969](https://codecov.io/gh/apache/incubator-pinot/pull/6241?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722564814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722567415","html_url":"https://github.com/apache/pinot/issues/6234#issuecomment-722567415","issue_url":"https://api.github.com/repos/apache/pinot/issues/6234","id":722567415,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjU2NzQxNQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T18:44:16Z","updated_at":"2020-11-05T18:44:16Z","author_association":"CONTRIBUTOR","body":"@flykent1990 From the exception log, seems like you don't have the column `timestamp` in your schema but defined it as the time column in the table config. If that is not the case, can you please provide the full stack trace for the exception?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722567415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722585604","html_url":"https://github.com/apache/pinot/issues/5919#issuecomment-722585604","issue_url":"https://api.github.com/repos/apache/pinot/issues/5919","id":722585604,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjU4NTYwNA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T19:16:51Z","updated_at":"2020-11-05T19:16:51Z","author_association":"CONTRIBUTOR","body":"\r\n\r\n> > How do you plan to maintain this endpoint?\r\n> > Not sure if this can help with query push down as the behavior must be identical on presto side and pinot side. IMO it is safer to manually select functions to push down instead of using name matching. It can cause unexpected behavior if the behavior is not exactly the same.\r\n> \r\n> We can use reflection to auto generate this information or we can get it from TransformFunctionFactory.\r\n> I think this is useful when we have many releases of Pinot and Presto and we are keep adding new functions.\r\n> \r\n> Also cc: @yupeng9\r\n\r\n+1 This helps a lot minimizing the efforts of syncing the functions between Pinot and Presto. Moreover, I feel there are functions from Pinot that may not be able to introduce the counterpart in Presto. For example, the IdSet function introduced by https://github.com/apache/incubator-pinot/pull/5926\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722585604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722591145","html_url":"https://github.com/apache/pinot/issues/6243#issuecomment-722591145","issue_url":"https://api.github.com/repos/apache/pinot/issues/6243","id":722591145,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjU5MTE0NQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T19:27:11Z","updated_at":"2020-11-05T19:27:11Z","author_association":"CONTRIBUTOR","body":"This query can be written as:\r\n\r\n```\r\nSELECT\r\n    CASE\r\n        WHEN 'timestamp' >= 1587077057690 THEN 0\r\n        WHEN 'timestamp' >= 1587073457690 THEN 1\r\n        ELSE 0\r\n    END AS columnA,\r\n    SUM(someId)\r\nFROM testTable\r\nGROUP BY columnA\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722591145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722636179","html_url":"https://github.com/apache/pinot/pull/6238#issuecomment-722636179","issue_url":"https://api.github.com/repos/apache/pinot/issues/6238","id":722636179,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjYzNjE3OQ==","user":{"login":"vincentchenjl","id":2560141,"node_id":"MDQ6VXNlcjI1NjAxNDE=","avatar_url":"https://avatars.githubusercontent.com/u/2560141?v=4","gravatar_id":"","url":"https://api.github.com/users/vincentchenjl","html_url":"https://github.com/vincentchenjl","followers_url":"https://api.github.com/users/vincentchenjl/followers","following_url":"https://api.github.com/users/vincentchenjl/following{/other_user}","gists_url":"https://api.github.com/users/vincentchenjl/gists{/gist_id}","starred_url":"https://api.github.com/users/vincentchenjl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vincentchenjl/subscriptions","organizations_url":"https://api.github.com/users/vincentchenjl/orgs","repos_url":"https://api.github.com/users/vincentchenjl/repos","events_url":"https://api.github.com/users/vincentchenjl/events{/privacy}","received_events_url":"https://api.github.com/users/vincentchenjl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T20:49:43Z","updated_at":"2020-11-05T20:49:43Z","author_association":"CONTRIBUTOR","body":"> Quick Question: Does this new library work with higher versions of Java. org.reflections had issues with Java 9 ad above.\r\nYes, the new library works with Java 9 based on their wiki.\r\nhttps://github.com/classgraph/classgraph/wiki#use-as-a-module\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722636179/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722649835","html_url":"https://github.com/apache/pinot/pull/6211#issuecomment-722649835","issue_url":"https://api.github.com/repos/apache/pinot/issues/6211","id":722649835,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjY0OTgzNQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-05T21:16:02Z","updated_at":"2020-11-05T21:16:02Z","author_association":"CONTRIBUTOR","body":"> > @galalen is there anything pending in this PR?\r\n> \r\n> @kishoreg, @npawar Yes, I'm working on unit and the integration test.\r\n> I want to make sure reading the IdealState will give me the current state.\r\n\r\nAre you planning to add any unit test? One test in the PinotTableRestletResourceTest would be nice","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722649835/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722723112","html_url":"https://github.com/apache/pinot/issues/6240#issuecomment-722723112","issue_url":"https://api.github.com/repos/apache/pinot/issues/6240","id":722723112,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjcyMzExMg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T00:23:33Z","updated_at":"2020-11-06T00:23:33Z","author_association":"CONTRIBUTOR","body":"OK, my bad. We don't have a use case like this.\r\n\r\nBut, for those who do, what is your migration path?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722723112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722771778","html_url":"https://github.com/apache/pinot/issues/6236#issuecomment-722771778","issue_url":"https://api.github.com/repos/apache/pinot/issues/6236","id":722771778,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjc3MTc3OA==","user":{"login":"yupeng9","id":13425258,"node_id":"MDQ6VXNlcjEzNDI1MjU4","avatar_url":"https://avatars.githubusercontent.com/u/13425258?v=4","gravatar_id":"","url":"https://api.github.com/users/yupeng9","html_url":"https://github.com/yupeng9","followers_url":"https://api.github.com/users/yupeng9/followers","following_url":"https://api.github.com/users/yupeng9/following{/other_user}","gists_url":"https://api.github.com/users/yupeng9/gists{/gist_id}","starred_url":"https://api.github.com/users/yupeng9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yupeng9/subscriptions","organizations_url":"https://api.github.com/users/yupeng9/orgs","repos_url":"https://api.github.com/users/yupeng9/repos","events_url":"https://api.github.com/users/yupeng9/events{/privacy}","received_events_url":"https://api.github.com/users/yupeng9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T02:32:38Z","updated_at":"2020-11-06T02:32:38Z","author_association":"CONTRIBUTOR","body":"Why do this in Pinot? This can be done via kafka tools to update the offsets for both high level and low level consumers\n\nAlso agree with Subbu that this sounds like a dangerous operation so if they really want to do that then use the general purpose Kafka tooling","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722771778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722928327","html_url":"https://github.com/apache/pinot/pull/6246#issuecomment-722928327","issue_url":"https://api.github.com/repos/apache/pinot/issues/6246","id":722928327,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMjkyODMyNw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T07:37:54Z","updated_at":"2020-11-06T09:36:26Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6246?src=pr&el=h1) Report\n> Merging [#6246](https://codecov.io/gh/apache/incubator-pinot/pull/6246?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) will **decrease** coverage by `2.34%`.\n> The diff coverage is `43.43%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6246/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6246?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6246      +/-   ##\n==========================================\n- Coverage   66.44%   64.10%   -2.35%     \n==========================================\n  Files        1075     1240     +165     \n  Lines       54773    58954    +4181     \n  Branches     8168     8739     +571     \n==========================================\n+ Hits        36396    37793    +1397     \n- Misses      15700    18410    +2710     \n- Partials     2677     2751      +74     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| unittests | `64.10% <43.43%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6246?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <Ã¸> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `73.80% <Ã¸> (+0.63%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| ... and [1077 more](https://codecov.io/gh/apache/incubator-pinot/pull/6246/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6246?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6246?src=pr&el=footer). Last update [d19d604...53807b8](https://codecov.io/gh/apache/incubator-pinot/pull/6246?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/722928327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723412971","html_url":"https://github.com/apache/pinot/issues/6243#issuecomment-723412971","issue_url":"https://api.github.com/repos/apache/pinot/issues/6243","id":723412971,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzQxMjk3MQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T07:32:13Z","updated_at":"2020-11-07T17:25:39Z","author_association":"CONTRIBUTOR","body":"The issue here is that we tries to convert `'timestamp' >= 1587073457690 AND 'timestamp' < 1587077057690` to a transform function, which means that we need to implement `AND`/`OR` in transform functions and return `true`/`false` so that it will match the expression.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723412971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723424241","html_url":"https://github.com/apache/pinot/pull/6211#issuecomment-723424241","issue_url":"https://api.github.com/repos/apache/pinot/issues/6211","id":723424241,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzQyNDI0MQ==","user":{"login":"galalen","id":16897043,"node_id":"MDQ6VXNlcjE2ODk3MDQz","avatar_url":"https://avatars.githubusercontent.com/u/16897043?v=4","gravatar_id":"","url":"https://api.github.com/users/galalen","html_url":"https://github.com/galalen","followers_url":"https://api.github.com/users/galalen/followers","following_url":"https://api.github.com/users/galalen/following{/other_user}","gists_url":"https://api.github.com/users/galalen/gists{/gist_id}","starred_url":"https://api.github.com/users/galalen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galalen/subscriptions","organizations_url":"https://api.github.com/users/galalen/orgs","repos_url":"https://api.github.com/users/galalen/repos","events_url":"https://api.github.com/users/galalen/events{/privacy}","received_events_url":"https://api.github.com/users/galalen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T09:43:10Z","updated_at":"2020-11-07T09:43:10Z","author_association":"CONTRIBUTOR","body":"> > > @galalen is there anything pending in this PR?\r\n> > \r\n> > \r\n> > @kishoreg, @npawar Yes, I'm working on unit and the integration test.\r\n> > I want to make sure reading the IdealState will give me the current state.\r\n> \r\n> Are you planning to add any unit test? One test in the PinotTableRestletResourceTest would be nice\r\n\r\nunit test added ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723424241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723496205","html_url":"https://github.com/apache/pinot/issues/6243#issuecomment-723496205","issue_url":"https://api.github.com/repos/apache/pinot/issues/6243","id":723496205,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzQ5NjIwNQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T21:14:38Z","updated_at":"2020-11-07T21:14:52Z","author_association":"CONTRIBUTOR","body":"Create PR: https://github.com/apache/incubator-pinot/pull/6249","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723496205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723503668","html_url":"https://github.com/apache/pinot/pull/6249#issuecomment-723503668","issue_url":"https://api.github.com/repos/apache/pinot/issues/6249","id":723503668,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzUwMzY2OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-07T22:37:38Z","updated_at":"2020-11-09T05:43:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6249?src=pr&el=h1) Report\n> Merging [#6249](https://codecov.io/gh/apache/incubator-pinot/pull/6249?src=pr&el=desc) (b8a9758) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) (1beaab5) will **decrease** coverage by `20.02%`.\n> The diff coverage is `51.01%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6249/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6249?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##           master    #6249       +/-   ##\n===========================================\n- Coverage   66.44%   46.42%   -20.03%     \n===========================================\n  Files        1075     1243      +168     \n  Lines       54773    58978     +4205     \n  Branches     8168     8742      +574     \n===========================================\n- Hits        36396    27380     -9016     \n- Misses      15700    29348    +13648     \n+ Partials     2677     2250      -427     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| integration | `46.42% <51.01%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6249?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `52.83% <0.00%> (-13.84%)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `0.00% <0.00%> (-100.00%)` | :arrow_down: |\n| [...che/pinot/broker/queryquota/MaxHitRateTracker.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9NYXhIaXRSYXRlVHJhY2tlci5qYXZh) | `0.00% <0.00%> (Ã¸)` | |\n| [...ache/pinot/broker/queryquota/QueryQuotaEntity.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9RdWVyeVF1b3RhRW50aXR5LmphdmE=) | `0.00% <0.00%> (-50.00%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ceselector/StrictReplicaGroupInstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL1N0cmljdFJlcGxpY2FHcm91cEluc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `0.00% <0.00%> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `26.66% <0.00%> (-30.48%)` | :arrow_down: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `22.22% <0.00%> (-26.62%)` | :arrow_down: |\n| [.../org/apache/pinot/client/ResultTableResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L1Jlc3VsdFRhYmxlUmVzdWx0U2V0LmphdmE=) | `24.00% <0.00%> (-10.29%)` | :arrow_down: |\n| ... and [1230 more](https://codecov.io/gh/apache/incubator-pinot/pull/6249/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6249?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6249?src=pr&el=footer). Last update [4586279...b8a9758](https://codecov.io/gh/apache/incubator-pinot/pull/6249?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723503668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723746482","html_url":"https://github.com/apache/pinot/pull/6249#issuecomment-723746482","issue_url":"https://api.github.com/repos/apache/pinot/issues/6249","id":723746482,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzc0NjQ4Mg==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T04:27:49Z","updated_at":"2020-11-09T04:27:49Z","author_association":"CONTRIBUTOR","body":"> Thanks for working on this. Does it support parentheses in the expressions like below?\r\n> \r\n> ```\r\n> CASE WHEN ( a > 0 OR b < 10) AND c > 5 THEN 10 ELSE 0 END\r\n> ```\r\n\r\nYes. Tested query like:\r\n```\r\nSELECT\r\n    numberOfGames, \r\n    CASE\r\n        WHEN (numberOfGames >= 50 OR (numberOfGames < 30 AND numberOfGames >= 10))  THEN 5\r\n        WHEN numberOfGames >= 40 THEN 4\r\n        ELSE 0\r\n    END AS columnA\r\nFROM baseballStats\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/723746482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724346637","html_url":"https://github.com/apache/pinot/issues/6189#issuecomment-724346637","issue_url":"https://api.github.com/repos/apache/pinot/issues/6189","id":724346637,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM0NjYzNw==","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T23:34:32Z","updated_at":"2020-11-09T23:34:32Z","author_association":"CONTRIBUTOR","body":"For time range pruning on broker we have two solutions:\r\n\r\n1. **Naive O(n)**\r\nCurrently, for each table, brokers keep track of all its online segments. PartitionSegmentPruner maintains a mapping from segment names to partition info. Same as partition pruning, we can have a time range pruner which keeps a mapping from segment names to time range. Pruning is done by looping through online segments, getting their partition infos and filtering against query time range, this will cost O(n)(n is # of online segments).\r\n\r\n    **Pros**: easy to implement\r\n**Cons**: long time to compute the segment pruning for tables with large number of segments\r\n\r\n2. **O(m*logn)** using some specialized data structure\r\nInstead of keeping the time range to segment mapping, we can have some specialized ordered data structure (e.g. interval search tree: a augmented balanced BST) optimized for searching intercepted ranges against query range. Pruning is done by searching all intercepted ranges from the interval search tree, and checking if  they are online. This will cost O(m*logn) (m is # of qualified segments).\r\nThereâ€™s two implementations: \r\n   \r\n    **Implementation 1**: a concurrent augmented bst\r\n   **Implementation 2**: a read only augmented bst, a new tree will be built and atomicly swapped with the old one when thereâ€™s an external view change or a segment metadata updates \r\n\r\n   **Pros**: reduced time to prune for large number of segments\r\n**Cons**:  \r\n    * More data (1.5 - 2 * naive solution) stored on brokers because of  additional    pointers and auxiliary info for tree node\r\n    * For Implementation 1, hard to code (a research topic), and reading performance will be harmed due to locking\r\n    * For Implementation 2, when thereâ€™s an external view change or segment metadata updates, the whole tree needs to be gced.\r\n\r\nDue to performance requirements and since the pruner is read heavy (thousands qps in production, and external view change happens few times a day), the solution 2 implementation 2 is considered a better approach.\r\n\r\n \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724346637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724356911","html_url":"https://github.com/apache/pinot/issues/6189#issuecomment-724356911","issue_url":"https://api.github.com/repos/apache/pinot/issues/6189","id":724356911,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM1NjkxMQ==","user":{"login":"noahprince22","id":4604046,"node_id":"MDQ6VXNlcjQ2MDQwNDY=","avatar_url":"https://avatars.githubusercontent.com/u/4604046?v=4","gravatar_id":"","url":"https://api.github.com/users/noahprince22","html_url":"https://github.com/noahprince22","followers_url":"https://api.github.com/users/noahprince22/followers","following_url":"https://api.github.com/users/noahprince22/following{/other_user}","gists_url":"https://api.github.com/users/noahprince22/gists{/gist_id}","starred_url":"https://api.github.com/users/noahprince22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahprince22/subscriptions","organizations_url":"https://api.github.com/users/noahprince22/orgs","repos_url":"https://api.github.com/users/noahprince22/repos","events_url":"https://api.github.com/users/noahprince22/events{/privacy}","received_events_url":"https://api.github.com/users/noahprince22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T23:59:22Z","updated_at":"2020-11-09T23:59:22Z","author_association":"NONE","body":"The particular cases where this is necessary is when we have a large amount of data necessitating a large number of segments. In this particular situation, we want to make sure this scales.\r\n\r\nThe naive solution does not scale particularly well on time when you get to millions of segments. \r\n\r\nThe specialized data structure scales well on time, but is potentially a memory hog. The brokers like to keep _all_ of the routing tables in memory. That's going to get hungry. Can we quantify this? If there's 20 million segments across 10 tables, is it a gig of memory? 100 gigs?\r\n\r\nOn the difficulty to implement front, why not just start with a [Java Sorted Set](https://docs.oracle.com/javase/8/docs/api/java/util/SortedSet.html) on start timestamp? Then filter on end timestamp on those results? Or use a pre canned library built for this specific task. \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724356911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724362474","html_url":"https://github.com/apache/pinot/issues/6189#issuecomment-724362474","issue_url":"https://api.github.com/repos/apache/pinot/issues/6189","id":724362474,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM2MjQ3NA==","user":{"login":"noahprince22","id":4604046,"node_id":"MDQ6VXNlcjQ2MDQwNDY=","avatar_url":"https://avatars.githubusercontent.com/u/4604046?v=4","gravatar_id":"","url":"https://api.github.com/users/noahprince22","html_url":"https://github.com/noahprince22","followers_url":"https://api.github.com/users/noahprince22/followers","following_url":"https://api.github.com/users/noahprince22/following{/other_user}","gists_url":"https://api.github.com/users/noahprince22/gists{/gist_id}","starred_url":"https://api.github.com/users/noahprince22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahprince22/subscriptions","organizations_url":"https://api.github.com/users/noahprince22/orgs","repos_url":"https://api.github.com/users/noahprince22/repos","events_url":"https://api.github.com/users/noahprince22/events{/privacy}","received_events_url":"https://api.github.com/users/noahprince22/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T00:12:30Z","updated_at":"2020-11-10T00:12:30Z","author_association":"NONE","body":"In fact, why not create a generic SortedSet based pruner that can be used for any numeric or sortable column?Then, this can be used for other columns such as sequence numbers. Which would be another very valuable use case for us","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724362474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724387596","html_url":"https://github.com/apache/pinot/issues/6189#issuecomment-724387596","issue_url":"https://api.github.com/repos/apache/pinot/issues/6189","id":724387596,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDM4NzU5Ng==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T01:22:00Z","updated_at":"2020-11-10T01:33:06Z","author_association":"CONTRIBUTOR","body":"@noahprince22 If we keep the start timestamp only, we cannot effectively prune segments because we don't know the upper bound. Keeping start time may help for your use case but it's not a generic solution. (i.e. time filter on queries can be made with no end timestamp)\r\n\r\nSimple math:\r\n\r\nLet's assume that we roughly store 100bytes for each segment ( we need to store segment name, start & end timestamps, and some other info).\r\n```\r\n100 bytes /segment * 20 million segments =  ~2GB\r\n```\r\n\r\nIt indeed requires GBs of memory; however, having 20millions of segments for Pinot cluster is a bit extreme use cases. If you set your segment size to be a reasonable size (200-300MB per segment), you won't have 20million segments. (200MB * 20 million segments = 4PB). To support this many segments, we probably need to read the metadata from disk instead of keeping everything in memory. Also, we probably will need to do a lot of other optimizations on brokers to support the cluster at this scale.\r\n\r\nIMO, we can first start with what @jtao15 suggested and see how they perform on your use case. How do you think?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724387596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724415637","html_url":"https://github.com/apache/pinot/pull/6251#issuecomment-724415637","issue_url":"https://api.github.com/repos/apache/pinot/issues/6251","id":724415637,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDQxNTYzNw==","user":{"login":"siddharthteotia","id":2150694,"node_id":"MDQ6VXNlcjIxNTA2OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/2150694?v=4","gravatar_id":"","url":"https://api.github.com/users/siddharthteotia","html_url":"https://github.com/siddharthteotia","followers_url":"https://api.github.com/users/siddharthteotia/followers","following_url":"https://api.github.com/users/siddharthteotia/following{/other_user}","gists_url":"https://api.github.com/users/siddharthteotia/gists{/gist_id}","starred_url":"https://api.github.com/users/siddharthteotia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/siddharthteotia/subscriptions","organizations_url":"https://api.github.com/users/siddharthteotia/orgs","repos_url":"https://api.github.com/users/siddharthteotia/repos","events_url":"https://api.github.com/users/siddharthteotia/events{/privacy}","received_events_url":"https://api.github.com/users/siddharthteotia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T02:51:11Z","updated_at":"2020-11-10T02:51:11Z","author_association":"CONTRIBUTOR","body":"> Do we have a place to specify all the default behaviors for text search?\r\n\r\nYes everything is there in FieldConfig","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724415637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724440246","html_url":"https://github.com/apache/pinot/issues/6189#issuecomment-724440246","issue_url":"https://api.github.com/repos/apache/pinot/issues/6189","id":724440246,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDQ0MDI0Ng==","user":{"login":"jtao15","id":50065407,"node_id":"MDQ6VXNlcjUwMDY1NDA3","avatar_url":"https://avatars.githubusercontent.com/u/50065407?v=4","gravatar_id":"","url":"https://api.github.com/users/jtao15","html_url":"https://github.com/jtao15","followers_url":"https://api.github.com/users/jtao15/followers","following_url":"https://api.github.com/users/jtao15/following{/other_user}","gists_url":"https://api.github.com/users/jtao15/gists{/gist_id}","starred_url":"https://api.github.com/users/jtao15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtao15/subscriptions","organizations_url":"https://api.github.com/users/jtao15/orgs","repos_url":"https://api.github.com/users/jtao15/repos","events_url":"https://api.github.com/users/jtao15/events{/privacy}","received_events_url":"https://api.github.com/users/jtao15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T04:20:29Z","updated_at":"2020-11-10T04:20:29Z","author_association":"CONTRIBUTOR","body":"Copied and pasted the discussion from slack channel: [slack discussions](https://docs.google.com/document/d/1qbiwzTVNeO_syBrvDL-Y-s_xep8nUtJAi1S9KJFfq4A/edit?usp=sharing)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724440246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724575261","html_url":"https://github.com/apache/pinot/pull/6238#issuecomment-724575261","issue_url":"https://api.github.com/repos/apache/pinot/issues/6238","id":724575261,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDU3NTI2MQ==","user":{"login":"jenya","id":668941,"node_id":"MDQ6VXNlcjY2ODk0MQ==","avatar_url":"https://avatars.githubusercontent.com/u/668941?v=4","gravatar_id":"","url":"https://api.github.com/users/jenya","html_url":"https://github.com/jenya","followers_url":"https://api.github.com/users/jenya/followers","following_url":"https://api.github.com/users/jenya/following{/other_user}","gists_url":"https://api.github.com/users/jenya/gists{/gist_id}","starred_url":"https://api.github.com/users/jenya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jenya/subscriptions","organizations_url":"https://api.github.com/users/jenya/orgs","repos_url":"https://api.github.com/users/jenya/repos","events_url":"https://api.github.com/users/jenya/events{/privacy}","received_events_url":"https://api.github.com/users/jenya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T09:21:15Z","updated_at":"2020-11-10T09:21:15Z","author_association":"NONE","body":"@vincentchenjl is it expected that removing maven-shade-plugin broke all run scripts (run-frontend.sh, run-backend.sh and docker)?\r\nBuild doesn't produce fat jar in `./target/thirdeye-dashboard-1.0.0-SNAPSHOT.jar`. This jar is used by all run scripts. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724575261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724927918","html_url":"https://github.com/apache/pinot/pull/6252#issuecomment-724927918","issue_url":"https://api.github.com/repos/apache/pinot/issues/6252","id":724927918,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDkyNzkxOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T19:49:10Z","updated_at":"2020-11-10T19:58:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6252?src=pr&el=h1) Report\n> Merging [#6252](https://codecov.io/gh/apache/incubator-pinot/pull/6252?src=pr&el=desc) (9d639b1) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/1beaab59b73f26c4e35f3b9bc856b03806cddf5a?el=desc) (1beaab5) will **decrease** coverage by `2.30%`.\n> The diff coverage is `43.37%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/6252/graphs/tree.svg?width=650&height=150&src=pr&token=4ibza2ugkz)](https://codecov.io/gh/apache/incubator-pinot/pull/6252?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff             @@\n##           master    #6252      +/-   ##\n==========================================\n- Coverage   66.44%   64.14%   -2.31%     \n==========================================\n  Files        1075     1243     +168     \n  Lines       54773    58987    +4214     \n  Branches     8168     8745     +577     \n==========================================\n+ Hits        36396    37838    +1442     \n- Misses      15700    18394    +2694     \n- Partials     2677     2755      +78     \n```\n\n| Flag | Coverage Î” | |\n|---|---|---|\n| unittests | `64.14% <43.37%> (?)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/6252?src=pr&el=tree) | Coverage Î” | |\n|---|---|---|\n| [...e/pinot/broker/api/resources/PinotBrokerDebug.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYXBpL3Jlc291cmNlcy9QaW5vdEJyb2tlckRlYnVnLmphdmE=) | `0.00% <0.00%> (-79.32%)` | :arrow_down: |\n| [...ot/broker/broker/AllowAllAccessControlFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL0FsbG93QWxsQWNjZXNzQ29udHJvbEZhY3RvcnkuamF2YQ==) | `71.42% <Ã¸> (-28.58%)` | :arrow_down: |\n| [.../helix/BrokerUserDefinedMessageHandlerFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0Jyb2tlclVzZXJEZWZpbmVkTWVzc2FnZUhhbmRsZXJGYWN0b3J5LmphdmE=) | `33.96% <0.00%> (-32.71%)` | :arrow_down: |\n| [...ker/routing/instanceselector/InstanceSelector.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9pbnN0YW5jZXNlbGVjdG9yL0luc3RhbmNlU2VsZWN0b3IuamF2YQ==) | `100.00% <Ã¸> (Ã¸)` | |\n| [...ava/org/apache/pinot/client/AbstractResultSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Fic3RyYWN0UmVzdWx0U2V0LmphdmE=) | `66.66% <0.00%> (+9.52%)` | :arrow_up: |\n| [.../main/java/org/apache/pinot/client/Connection.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0Nvbm5lY3Rpb24uamF2YQ==) | `35.55% <0.00%> (-13.29%)` | :arrow_down: |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtY2xpZW50cy9waW5vdC1qYXZhLWNsaWVudC9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY2xpZW50L0pzb25Bc3luY0h0dHBQaW5vdENsaWVudFRyYW5zcG9ydC5qYXZh) | `10.90% <0.00%> (-51.10%)` | :arrow_down: |\n| [...not/common/assignment/InstancePartitionsUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vYXNzaWdubWVudC9JbnN0YW5jZVBhcnRpdGlvbnNVdGlscy5qYXZh) | `73.80% <Ã¸> (+0.63%)` | :arrow_up: |\n| [.../apache/pinot/common/exception/QueryException.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZXhjZXB0aW9uL1F1ZXJ5RXhjZXB0aW9uLmphdmE=) | `90.27% <Ã¸> (+5.55%)` | :arrow_up: |\n| [...pinot/common/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZnVuY3Rpb24vQWdncmVnYXRpb25GdW5jdGlvblR5cGUuamF2YQ==) | `98.27% <Ã¸> (-1.73%)` | :arrow_down: |\n| ... and [1080 more](https://codecov.io/gh/apache/incubator-pinot/pull/6252/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6252?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/6252?src=pr&el=footer). Last update [c8d7efc...9d639b1](https://codecov.io/gh/apache/incubator-pinot/pull/6252?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/724927918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/725003691","html_url":"https://github.com/apache/pinot/pull/6250#issuecomment-725003691","issue_url":"https://api.github.com/repos/apache/pinot/issues/6250","id":725003691,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTAwMzY5MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-10T22:23:40Z","updated_at":"2020-11-10T22:23:40Z","author_association":"CONTRIBUTOR","body":"> Can we separate the unrelated changes to another PR?\r\n> \r\n> IMO, the lazy load should be implemented as following:\r\n> \r\n> * Load the metadata, but keep the index in deep store\r\n> * When segment gets queried, load index on demand\r\n> \r\n> The current way of downloading all the segments, uncompress and load them at query time won't really work. @kishoreg wdyt?\r\n\r\nI think it is best to document these approaches in a design document instead of PR. This is a fairly involved feature, so I suggest writing up a document and soliciting comments before putting up the PR. Let me know if there was a document and I missed it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/725003691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]