[{"url":"https://api.github.com/repos/apache/curator/issues/comments/292806068","html_url":"https://github.com/apache/curator/pull/211#issuecomment-292806068","issue_url":"https://api.github.com/repos/apache/curator/issues/211","id":292806068,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjgwNjA2OA==","user":{"login":"jhalterman","id":228804,"node_id":"MDQ6VXNlcjIyODgwNA==","avatar_url":"https://avatars.githubusercontent.com/u/228804?v=4","gravatar_id":"","url":"https://api.github.com/users/jhalterman","html_url":"https://github.com/jhalterman","followers_url":"https://api.github.com/users/jhalterman/followers","following_url":"https://api.github.com/users/jhalterman/following{/other_user}","gists_url":"https://api.github.com/users/jhalterman/gists{/gist_id}","starred_url":"https://api.github.com/users/jhalterman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhalterman/subscriptions","organizations_url":"https://api.github.com/users/jhalterman/orgs","repos_url":"https://api.github.com/users/jhalterman/repos","events_url":"https://api.github.com/users/jhalterman/events{/privacy}","received_events_url":"https://api.github.com/users/jhalterman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-09T19:13:09Z","updated_at":"2017-04-09T19:13:09Z","author_association":"NONE","body":"This looks pretty sweet! My only comment is that this interface name is so long, ex: `ModeledAsyncCuratorFramework<MyModel>`.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/292806068/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756438","html_url":"https://github.com/apache/curator/issues/917#issuecomment-2604756438","issue_url":"https://api.github.com/repos/apache/curator/issues/917","id":2604756438,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY0Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-09T19:13:12Z","updated_at":"2025-01-21T13:35:23Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user jhalterman commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/211\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/211</a></p>\n\n<p>    This looks pretty sweet! My only comment is that this interface name is so long, ex: `ModeledAsyncCuratorFramework<MyModel>`.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756524","html_url":"https://github.com/apache/curator/issues/918#issuecomment-2604756524","issue_url":"https://api.github.com/repos/apache/curator/issues/918","id":2604756524,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY1MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:47:52Z","updated_at":"2025-01-21T13:35:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Note: if you use the latest Curator this is no longer a problem as Guava has been shaded into Curator.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756668","html_url":"https://github.com/apache/curator/issues/919#issuecomment-2604756668","issue_url":"https://api.github.com/repos/apache/curator/issues/919","id":2604756668,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY2Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T16:31:36Z","updated_at":"2025-01-21T13:35:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I'm not sure what this proves. Curator will continue to have a dependency on Guava because of some public APIs in Curator. But the usage of Guava is shaded into Curator itself so it no longer matters what version of Guava you use. Showing the dependency tree is irrelevant.</p>\n\n<p>Maybe we need a Tech Note on this. I'll try to write one when I can.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756675","html_url":"https://github.com/apache/curator/issues/919#issuecomment-2604756675","issue_url":"https://api.github.com/repos/apache/curator/issues/919","id":2604756675,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY2NzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T16:36:34Z","updated_at":"2025-01-21T13:35:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ozawa\">ozawa</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a> I'm sorry that my first report was not correct. I meant that curator-client still uses not-shaded Guava: com.google.common, not org.apache.curator. Isn't it problem?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756683","html_url":"https://github.com/apache/curator/issues/919#issuecomment-2604756683","issue_url":"https://api.github.com/repos/apache/curator/issues/919","id":2604756683,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY2ODM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T16:38:03Z","updated_at":"2025-01-21T13:35:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>No, it's not a problem. Because of a few public APIs in Curator that use Guava classes we had to leave the dependency in Curator. But, I assure you that, aside from 4 or 5 classes, Guava is shaded into Curator. Use whatever version of Guava you like and you will not have class conflicts.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756688","html_url":"https://github.com/apache/curator/issues/919#issuecomment-2604756688","issue_url":"https://api.github.com/repos/apache/curator/issues/919","id":2604756688,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY2ODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T16:38:26Z","updated_at":"2025-01-21T13:35:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Here's the discussion if you're interested in the details: <a href=\"https://issues.apache.org/jira/browse/CURATOR-200\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CURATOR-200</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756690","html_url":"https://github.com/apache/curator/issues/919#issuecomment-2604756690","issue_url":"https://api.github.com/repos/apache/curator/issues/919","id":2604756690,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY2OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T16:52:29Z","updated_at":"2025-01-21T13:35:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ozawa\">ozawa</a>:</i>\n<p>Thanks a lot, Jordan. I misunderstood what Curator did, and now I got the point.</p>\n\n<blockquote>\n<p>Maybe we need a Tech Note on this.</p></blockquote>\n\n<p>I think it's very helpful. IMHO, we need to emphasize that Curator has a own dependency on Guava, and it seeps into consumers of Curator. But Guava's version can be configured at consumer's side because the public APIs of Curator only use stable Guava's APIs.</p>\n\n<p>Anyway, thanks a lot! I'm sorry if I confuse you.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756696","html_url":"https://github.com/apache/curator/issues/919#issuecomment-2604756696","issue_url":"https://api.github.com/repos/apache/curator/issues/919","id":2604756696,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY2OTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T17:02:19Z","updated_at":"2025-01-21T13:35:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Here's the Tech Note. Let me know if I can improve it:</p>\n\n<p><a href=\"https://cwiki.apache.org/confluence/display/CURATOR/TN13\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://cwiki.apache.org/confluence/display/CURATOR/TN13</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727560","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727560","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727560,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1NjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T17:49:33Z","updated_at":"2025-01-21T13:24:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asloane\">asloane</a>:</i>\n<p>Seconding this.</p>\n\n<p>What's super annoying is that the background thread just dies, and yet no API calls ever throw any exceptions or ever indicate anything is wrong. If <tt>CuratorFramework.start()</tt> or <tt>LeaderLatch.await()</tt> threw an exception then we'd be fine since we'd just die and restart, but instead everything is just stuck.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727560/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604722968","html_url":"https://github.com/apache/curator/issues/721#issuecomment-2604722968","issue_url":"https://api.github.com/repos/apache/curator/issues/721","id":2604722968,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MjI5Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T18:27:48Z","updated_at":"2025-01-21T13:22:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user lucasmo opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/212\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/212</a></p>\n\n<p>    Fix guava version incompatibility with MoreExecutors.sameThreadExecutor()</p>\n\n<p>    Before I went to create this PR, I see similar ones have been closed several times, suggesting that it was addressed in <a href=\"https://github.com/apache/curator/pull/190\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/190</a> as part of <a href=\"https://issues.apache.org/jira/browse/CURATOR-200\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CURATOR-200</a></p>\n\n<p>    This doesn't appear to actually address the issue, as this error occurs:</p>\n\n<p>    ```<br/>\n    java.lang.NoSuchMethodError: com.google.common.util.concurrent.MoreExecutors.sameThreadExecutor()Lcom/google/common/util/concurrent/ListeningExecutorService;<br/>\n    at org.apache.curator.framework.listen.ListenerContainer.addListener(ListenerContainer.java:40)<br/>\n    at org.apache.curator.framework.imps.CuratorFrameworkImpl.start(CuratorFrameworkImpl.java:256)<br/>\n    at XXX.start(XXX.java:88)<br/>\n    ```</p>\n\n<p>    I'm not familiar with shading, but it appears it's either not implemented or not working properly in this case (does shading rewrite the curator source files?). This error occurs with both 2.12.0 and 3.3.0.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/lucasmo/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/lucasmo/curator</a> master</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/212.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/212.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #212</p>\n\n<hr />\n<p>commit cf40b506470930f71eb1f47a210a9d5fb9fc0b60<br/>\nAuthor: Lucas Fairchild-Madar <lfairchildmadar@conducivetech.com><br/>\nDate:   2017-04-10T18:12:31Z</p>\n\n<p>    Replace calls to MoreExecutors.sameThreadExecutor() with MoreExecutors.directExecutor()</p>\n\n<p>commit 612dde623f6c6443616ee963aef82d331782479c<br/>\nAuthor: Lucas Fairchild-Madar <lfairchildmadar@conducivetech.com><br/>\nDate:   2017-04-10T18:14:35Z</p>\n\n<p>    Bump to minimum guava version that has MoreExecutors.directExecutor()</p>\n\n<p>commit 6d050b8ec694861336aa6620f9ca8b3aa06dc605<br/>\nAuthor: lucasmo <lucas.madar@gmail.com><br/>\nDate:   2017-04-10T18:16:58Z</p>\n\n<p>    Update QueueBuilder.java</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604722968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/293041508","html_url":"https://github.com/apache/curator/pull/212#issuecomment-293041508","issue_url":"https://api.github.com/repos/apache/curator/issues/212","id":293041508,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzA0MTUwOA==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T18:42:47Z","updated_at":"2017-04-10T18:42:47Z","author_association":"MEMBER","body":"I just created this project that shows that Curator works with Guava 21. \r\n\r\nhttps://github.com/Randgalt/curator-guava-example\r\n\r\nWhat is different about your project?","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/293041508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/293042255","html_url":"https://github.com/apache/curator/pull/212#issuecomment-293042255","issue_url":"https://api.github.com/repos/apache/curator/issues/212","id":293042255,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzA0MjI1NQ==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T18:45:20Z","updated_at":"2017-04-10T18:45:20Z","author_association":"MEMBER","body":"You must be using Curator 3.2.0 and not Curator 3.3.0.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/293042255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604722971","html_url":"https://github.com/apache/curator/issues/721#issuecomment-2604722971","issue_url":"https://api.github.com/repos/apache/curator/issues/721","id":2604722971,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MjI5NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T19:06:22Z","updated_at":"2025-01-21T13:22:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/212\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/212</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604722971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727567","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727567","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727567,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T19:21:52Z","updated_at":"2025-01-21T13:24:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asloane\">asloane</a>:</i>\n<p>Actually I take that back; a possible workaround from the client side is this:</p>\n\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">    client.getUnhandledErrorListenable().addListener((message, e) -> {\n<span class=\"code-keyword\">throw</span> <span class=\"code-keyword\">new</span> RuntimeException(message, e);\n    });\n</pre>\n</div></div>\n\n<p>edit: no, the thrown exception here will also just be printed and not cause the app to exit, so you have to flip some sort of flag in the callback which your main app watches instead.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727571","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727571","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727571,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T22:01:57Z","updated_at":"2025-01-21T13:24:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>I don't believe there's a way of configuring Curator to modify the exceptions that it considers retryable currently.</p>\n\n<p>I'm not sure if changing Curator to retry on the UnknownHostException would do much anyway. The exception is being thrown by the underlying ZK client. Every time Curator tried to create a new ZK client while the hostname was unresolvable, the error would occur.</p>\n\n<p>I guess if your DNS outage is only for a short period (or you have a long retry period defined) then it would be recoverable.</p>\n\n<p>I think that possibly the best generic fix is to make the RetryLoop code have a default set of error codes that are retryable and then allow that to be overridden. I think that this is a bit of effort due to the way that RetryLoop is currently accessed (statically), but I will have a look into it.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727577","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727577","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727577,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1Nzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T23:05:19Z","updated_at":"2025-01-21T13:24:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asloane\">asloane</a>:</i>\n<p>Right, there are two cases (permanent and temporary), but in both cases I would argue the behavior is undesirable.</p>\n\n<p>If the host is truly not resolvable, then you get the above background thread exception logged, and... nothing else is obviously wrong. <tt>CuratorFrameworkImpl.start()</tt> returns without issue while the background thread hangs, and there's no API-level indication, unless you've registered an UnhandledErrorListenable, that anything is wrong, at least if you're using simple things like <tt>LeaderLatch</tt>.</p>\n\n<p>If it's a temporary DNS failure, and retrying would work, then retrying in the background and not complaining in <tt>start()</tt> is fine, but if it's permanent you're stuck without really bubbling the configuration error to the surface.</p>\n\n<p>Even just not treating the error within <tt>CuratorFrameworkImpl.start()</tt> as a background exception but instead just throwing it to the caller would improve the situation. And if it was previously connected, and is reconnecting outside of <tt>start</tt> then attempting to reconnect to zk makes sense.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727585","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727585","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727585,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T23:33:21Z","updated_at":"2025-01-21T13:24:04Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>My concern with modifying the start() method functionality is that it breaks the current contract. The current start() method definition contains no throws clause.</p>\n\n<p>We could possibly introduce a separate start() method that explicitly fails if no connection to Zookeeper can be established. Would that in conjunction with having control over which exceptions / errors are retryable solve your respective problems?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/293164214","html_url":"https://github.com/apache/curator/pull/212#issuecomment-293164214","issue_url":"https://api.github.com/repos/apache/curator/issues/212","id":293164214,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE2NDIxNA==","user":{"login":"LucasMadar","id":1664459,"node_id":"MDQ6VXNlcjE2NjQ0NTk=","avatar_url":"https://avatars.githubusercontent.com/u/1664459?v=4","gravatar_id":"","url":"https://api.github.com/users/LucasMadar","html_url":"https://github.com/LucasMadar","followers_url":"https://api.github.com/users/LucasMadar/followers","following_url":"https://api.github.com/users/LucasMadar/following{/other_user}","gists_url":"https://api.github.com/users/LucasMadar/gists{/gist_id}","starred_url":"https://api.github.com/users/LucasMadar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LucasMadar/subscriptions","organizations_url":"https://api.github.com/users/LucasMadar/orgs","repos_url":"https://api.github.com/users/LucasMadar/repos","events_url":"https://api.github.com/users/LucasMadar/events{/privacy}","received_events_url":"https://api.github.com/users/LucasMadar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T06:31:08Z","updated_at":"2017-04-11T06:31:08Z","author_association":"NONE","body":"Looks like you're correct. I also did the same below with 2.12.0 (the version we're using). Thanks for investigating; sorry for the trouble.\r\n\r\n```\r\n$ wget http://central.maven.org/maven2/org/apache/curator/curator-framework/3.3.0/curator-framework-3.3.0.jar\r\n$ jar xvf curator-framework-3.3.0.jar\r\n$ javap -c org/apache/curator/framework/listen/ListenerContainer.class\r\n\r\n  public void addListener(T);\r\n    Code:\r\n       0: aload_0\r\n       1: aload_1\r\n       2: invokestatic  #50                 // Method org/apache/curator/shaded/com/google/common/util/concurrent/MoreExecutors.sameThreadExecutor:()Lorg/apache/curator/shaded/com/google/common/util/concurrent/ListeningExecutorService;\r\n       5: invokevirtual #53                 // Method addListener:(Ljava/lang/Object;Ljava/util/concurrent/Executor;)V\r\n       8: return\r\n```","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/293164214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727590","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727590","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727590,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T18:27:42Z","updated_at":"2025-01-21T13:24:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asloane\">asloane</a>:</i>\n<p>Yeah, that's what I was thinking. No throws clause on start, so there's no API-compatible way to fix that...</p>\n\n<p>I think that sounds like a reasonable solution.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727592","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727592","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727592,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T22:03:20Z","updated_at":"2025-01-21T13:24:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a>, <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lvfangmin\" class=\"user-hover\" rel=\"lvfangmin\">Fangmin Lv</a></p>\n\n<p>Any thoughts on this approach? If everyone is happy with this, I'll have a look at implementing it.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727594","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727594","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727594,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T02:59:09Z","updated_at":"2025-01-21T13:24:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>You can always wrap the exception in RuntimeException and put the work in the existing start(). </p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727597","html_url":"https://github.com/apache/curator/issues/749#issuecomment-2604727597","issue_url":"https://api.github.com/repos/apache/curator/issues/749","id":2604727597,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3Mjc1OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T03:04:32Z","updated_at":"2025-01-21T13:24:05Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cammckenzie\">cammckenzie</a>:</i>\n<p>So you're saying just add an unhandled exception handler and have it throw a Runtime exception if it encounters an UnknownHostException (in this case)?</p>\n\n<p>That doesn't handle the case where we've already connected and want to allow reconnection does it?</p>\n\n<p>We would need to implement a way of programatically defining retryable errors as well.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604727597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/294260472","html_url":"https://github.com/apache/curator/pull/210#issuecomment-294260472","issue_url":"https://api.github.com/repos/apache/curator/issues/210","id":294260472,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDI2MDQ3Mg==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-15T00:29:03Z","updated_at":"2017-04-15T00:29:03Z","author_association":"MEMBER","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/294260472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756820","html_url":"https://github.com/apache/curator/issues/920#issuecomment-2604756820","issue_url":"https://api.github.com/repos/apache/curator/issues/920","id":2604756820,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY4MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-15T00:29:05Z","updated_at":"2025-01-21T13:35:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/210\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/210</a></p>\n\n<p>    LGTM</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756823","html_url":"https://github.com/apache/curator/issues/920#issuecomment-2604756823","issue_url":"https://api.github.com/repos/apache/curator/issues/920","id":2604756823,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY4MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-15T03:54:49Z","updated_at":"2025-01-21T13:35:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/210\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/210</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756098","html_url":"https://github.com/apache/curator/issues/915#issuecomment-2604756098","issue_url":"https://api.github.com/repos/apache/curator/issues/915","id":2604756098,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTYwOTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T18:58:50Z","updated_at":"2025-01-21T13:35:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>I see the race - I'll prepare a fix</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756101","html_url":"https://github.com/apache/curator/issues/915#issuecomment-2604756101","issue_url":"https://api.github.com/repos/apache/curator/issues/915","id":2604756101,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTYxMDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T18:59:28Z","updated_at":"2025-01-21T13:35:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user Randgalt opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/213\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/213</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/CURATOR-395\" title=\"Potential null dereference in PersistentNode\" class=\"issue-link\" data-issue-key=\"CURATOR-395\"><del>CURATOR-395</del></a> Potential null dereference in PersistentNode</p>\n\n<p>    localCreateMethod could be null in a race condition</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/apache/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator</a> <a href=\"https://issues.apache.org/jira/browse/CURATOR-395\" title=\"Potential null dereference in PersistentNode\" class=\"issue-link\" data-issue-key=\"CURATOR-395\"><del>CURATOR-395</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/213.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/213.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #213</p>\n\n<hr />\n<p>commit 302661a7af89d4101a9751acfa4897c45fcc44d9<br/>\nAuthor: randgalt <randgalt@apache.org><br/>\nDate:   2017-04-17T18:58:15Z</p>\n\n<p>    localCreateMethod could be null in a race condition</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/294567592","html_url":"https://github.com/apache/curator/pull/171#issuecomment-294567592","issue_url":"https://api.github.com/repos/apache/curator/issues/171","id":294567592,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDU2NzU5Mg==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T19:32:09Z","updated_at":"2017-04-17T19:32:09Z","author_association":"MEMBER","body":"ZooKeeper 3.5.3-beta has been released with TTL support so this PR is now ready.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/294567592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748504","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748504","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748504,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1MDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T19:32:11Z","updated_at":"2025-01-21T13:32:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171</a></p>\n\n<p>    ZooKeeper 3.5.3-beta has been released with TTL support so this PR is now ready.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/294604076","html_url":"https://github.com/apache/curator/pull/213#issuecomment-294604076","issue_url":"https://api.github.com/repos/apache/curator/issues/213","id":294604076,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDYwNDA3Ng==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T21:47:14Z","updated_at":"2017-04-17T21:47:14Z","author_association":"CONTRIBUTOR","body":"I think that the fix is fine, but why is the createMethod a lazily instantiated reference? Couldn't it just be a normal reference that gets created in the constructor? We seem to have everything we need there to create it.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/294604076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756103","html_url":"https://github.com/apache/curator/issues/915#issuecomment-2604756103","issue_url":"https://api.github.com/repos/apache/curator/issues/915","id":2604756103,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTYxMDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T21:47:16Z","updated_at":"2025-01-21T13:35:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/213\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/213</a></p>\n\n<p>    I think that the fix is fine, but why is the createMethod a lazily instantiated reference? Couldn't it just be a normal reference that gets created in the constructor? We seem to have everything we need there to create it.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/294628630","html_url":"https://github.com/apache/curator/pull/213#issuecomment-294628630","issue_url":"https://api.github.com/repos/apache/curator/issues/213","id":294628630,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDYyODYzMA==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T23:46:29Z","updated_at":"2017-04-17T23:46:29Z","author_association":"MEMBER","body":"> why is the createMethod a lazily instantiated reference? Couldn't it just be a normal reference that gets created in the constructor\r\n\r\nIt's due to https://issues.apache.org/jira/browse/CURATOR-364","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/294628630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756105","html_url":"https://github.com/apache/curator/issues/915#issuecomment-2604756105","issue_url":"https://api.github.com/repos/apache/curator/issues/915","id":2604756105,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTYxMDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T23:46:31Z","updated_at":"2025-01-21T13:35:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/213\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/213</a></p>\n\n<p>    > why is the createMethod a lazily instantiated reference? Couldn't it just be a normal reference that gets created in the constructor</p>\n\n<p>    It's due to <a href=\"https://issues.apache.org/jira/browse/CURATOR-364\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CURATOR-364</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/294630195","html_url":"https://github.com/apache/curator/pull/213#issuecomment-294630195","issue_url":"https://api.github.com/repos/apache/curator/issues/213","id":294630195,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDYzMDE5NQ==","user":{"login":"cammckenzie","id":7763121,"node_id":"MDQ6VXNlcjc3NjMxMjE=","avatar_url":"https://avatars.githubusercontent.com/u/7763121?v=4","gravatar_id":"","url":"https://api.github.com/users/cammckenzie","html_url":"https://github.com/cammckenzie","followers_url":"https://api.github.com/users/cammckenzie/followers","following_url":"https://api.github.com/users/cammckenzie/following{/other_user}","gists_url":"https://api.github.com/users/cammckenzie/gists{/gist_id}","starred_url":"https://api.github.com/users/cammckenzie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cammckenzie/subscriptions","organizations_url":"https://api.github.com/users/cammckenzie/orgs","repos_url":"https://api.github.com/users/cammckenzie/repos","events_url":"https://api.github.com/users/cammckenzie/events{/privacy}","received_events_url":"https://api.github.com/users/cammckenzie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T23:57:54Z","updated_at":"2017-04-17T23:57:54Z","author_association":"CONTRIBUTOR","body":"Ah, I see now. It's the Preconditions.checkState call that causes the issue. I thought that we could just hold a reference to the builder and then call forPath() on it when required. But that checkState call will fail if the client is not started.\r\n\r\nSo, the PR looks OK to me. Merge away.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/294630195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756109","html_url":"https://github.com/apache/curator/issues/915#issuecomment-2604756109","issue_url":"https://api.github.com/repos/apache/curator/issues/915","id":2604756109,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTYxMDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T23:57:56Z","updated_at":"2025-01-21T13:35:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/213\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/213</a></p>\n\n<p>    Ah, I see now. It's the Preconditions.checkState call that causes the issue. I thought that we could just hold a reference to the builder and then call forPath() on it when required. But that checkState call will fail if the client is not started.</p>\n\n<p>    So, the PR looks OK to me. Merge away.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/294630403","html_url":"https://github.com/apache/curator/pull/213#issuecomment-294630403","issue_url":"https://api.github.com/repos/apache/curator/issues/213","id":294630403,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDYzMDQwMw==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T23:59:29Z","updated_at":"2017-04-17T23:59:29Z","author_association":"MEMBER","body":"TBH - I'd totally forgotten why it was done this way. I had to do a git bisect to find the reason.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/294630403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756116","html_url":"https://github.com/apache/curator/issues/915#issuecomment-2604756116","issue_url":"https://api.github.com/repos/apache/curator/issues/915","id":2604756116,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTYxMTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T23:59:30Z","updated_at":"2025-01-21T13:35:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/213\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/213</a></p>\n\n<p>    TBH - I'd totally forgotten why it was done this way. I had to do a git bisect to find the reason.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756119","html_url":"https://github.com/apache/curator/issues/915#issuecomment-2604756119","issue_url":"https://api.github.com/repos/apache/curator/issues/915","id":2604756119,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTYxMTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T00:00:16Z","updated_at":"2025-01-21T13:35:15Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/213\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/213</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748513","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748513","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748513,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1MTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T00:06:17Z","updated_at":"2025-01-21T13:32:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r111847846\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r111847846</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/imps/CreateBuilderImpl.java &#8212;<br/>\n    @@ -83,6 +85,13 @@ public CreateBuilderMain orSetData()<br/>\n     return this;<br/>\n }</p>\n\n<p>    +    @Override<br/>\n    +    public CreateBuilderMain withTtl(long ttl)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I've started using strict camel case for everything. It's easier to remember. But, it's not a big deal to me.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748519","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748519","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748519,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T00:27:30Z","updated_at":"2025-01-21T13:32:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r111849959\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r111849959</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/test/java/org/apache/curator/framework/imps/TestTtlNodes.java &#8212;<br/>\n    @@ -0,0 +1,88 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + *   <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.curator.framework.imps;<br/>\n    +<br/>\n    +import org.apache.curator.framework.CuratorFramework;<br/>\n    +import org.apache.curator.framework.CuratorFrameworkFactory;<br/>\n    +import org.apache.curator.framework.api.BackgroundCallback;<br/>\n    +import org.apache.curator.framework.api.CuratorEvent;<br/>\n    +import org.apache.curator.retry.RetryOneTime;<br/>\n    +import org.apache.curator.test.BaseClassForTests;<br/>\n    +import org.apache.curator.test.Timing;<br/>\n    +import org.apache.zookeeper.CreateMode;<br/>\n    +import org.testng.Assert;<br/>\n    +import org.testng.annotations.AfterMethod;<br/>\n    +import org.testng.annotations.BeforeMethod;<br/>\n    +import org.testng.annotations.Test;<br/>\n    +import java.util.concurrent.CountDownLatch;<br/>\n    +<br/>\n    +public class TestTtlNodes extends BaseClassForTests<br/>\n    +{<br/>\n    +    @BeforeMethod<br/>\n    +    @Override<br/>\n    +    public void setup() throws Exception<br/>\n    +    </p>\n{\n    +System.setProperty(\"znode.container.checkIntervalMs\", \"1\");\n    +super.setup();\n    +    }\n<p>    +<br/>\n    +    @AfterMethod<br/>\n    +    @Override<br/>\n    +    public void teardown() throws Exception<br/>\n    +    </p>\n{\n    +super.teardown();\n    +System.clearProperty(\"znode.container.checkIntervalMs\");\n    +    }\n<p>    +<br/>\n    +    @Test<br/>\n    +    public void testBasic() throws Exception<br/>\n    +    {<br/>\n    +try ( CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1)) )<br/>\n    +{<br/>\n    +    client.start();<br/>\n    +<br/>\n    +    client.create().withTtl(10).creatingParentsIfNeeded().withMode(CreateMode.PERSISTENT_WITH_TTL).forPath(\"/a/b/c\");<br/>\n    +    Thread.sleep(20);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    You're probably right, my concern is that I don't know how quick ZK responds to these TTL expiry events. You've only got a 10ms window here for ZK to remove the node. Maybe that's enough.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748526","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748526","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748526,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T00:31:39Z","updated_at":"2025-01-21T13:32:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r111850346\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r111850346</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/test/java/org/apache/curator/framework/imps/TestTtlNodes.java &#8212;<br/>\n    @@ -0,0 +1,88 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + *   <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.curator.framework.imps;<br/>\n    +<br/>\n    +import org.apache.curator.framework.CuratorFramework;<br/>\n    +import org.apache.curator.framework.CuratorFrameworkFactory;<br/>\n    +import org.apache.curator.framework.api.BackgroundCallback;<br/>\n    +import org.apache.curator.framework.api.CuratorEvent;<br/>\n    +import org.apache.curator.retry.RetryOneTime;<br/>\n    +import org.apache.curator.test.BaseClassForTests;<br/>\n    +import org.apache.curator.test.Timing;<br/>\n    +import org.apache.zookeeper.CreateMode;<br/>\n    +import org.testng.Assert;<br/>\n    +import org.testng.annotations.AfterMethod;<br/>\n    +import org.testng.annotations.BeforeMethod;<br/>\n    +import org.testng.annotations.Test;<br/>\n    +import java.util.concurrent.CountDownLatch;<br/>\n    +<br/>\n    +public class TestTtlNodes extends BaseClassForTests<br/>\n    +{<br/>\n    +    @BeforeMethod<br/>\n    +    @Override<br/>\n    +    public void setup() throws Exception<br/>\n    +    </p>\n{\n    +System.setProperty(\"znode.container.checkIntervalMs\", \"1\");\n    +super.setup();\n    +    }\n<p>    +<br/>\n    +    @AfterMethod<br/>\n    +    @Override<br/>\n    +    public void teardown() throws Exception<br/>\n    +    </p>\n{\n    +super.teardown();\n    +System.clearProperty(\"znode.container.checkIntervalMs\");\n    +    }\n<p>    +<br/>\n    +    @Test<br/>\n    +    public void testBasic() throws Exception<br/>\n    +    {<br/>\n    +try ( CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1)) )<br/>\n    +{<br/>\n    +    client.start();<br/>\n    +<br/>\n    +    client.create().withTtl(10).creatingParentsIfNeeded().withMode(CreateMode.PERSISTENT_WITH_TTL).forPath(\"/a/b/c\");<br/>\n    +    Thread.sleep(20);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I know exactly how long because I wrote it <img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/biggrin.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/> Note at the top of the test class: `System.setProperty(\"znode.container.checkIntervalMs\", \"1\");`</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748531","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748531","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748531,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T01:17:06Z","updated_at":"2025-01-21T13:32:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r111854284\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r111854284</a></p>\n\n<p>    &#8212; Diff: curator-recipes/src/test/java/org/apache/curator/framework/recipes/nodes/TestPersistentTtlNode.java &#8212;<br/>\n    @@ -44,25 +45,49 @@ public void testBasic() throws Exception<br/>\n     {<br/>\n client.start();</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>try (PersistentTtlNode node = new PersistentTtlNode(client, \"/test\", 10, new byte<span class=\"error\">&#91;0&#93;</span>))<br/>\n    +    try (PersistentTtlNode node = new PersistentTtlNode(client, \"/test\", 100, new byte<span class=\"error\">&#91;0&#93;</span>))<br/>\n {<br/>\n     node.start();<br/>\n     node.waitForInitialCreate(timing.session(), TimeUnit.MILLISECONDS);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    This should probably assert that the return is true?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748535","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748535","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748535,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T01:17:06Z","updated_at":"2025-01-21T13:32:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r111854064\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r111854064</a></p>\n\n<p>    &#8212; Diff: curator-recipes/src/test/java/org/apache/curator/framework/recipes/nodes/TestPersistentTtlNode.java &#8212;<br/>\n    @@ -0,0 +1,58 @@<br/>\n    +package org.apache.curator.framework.recipes.nodes;<br/>\n    +<br/>\n    +import org.apache.curator.framework.CuratorFramework;<br/>\n    +import org.apache.curator.framework.CuratorFrameworkFactory;<br/>\n    +import org.apache.curator.retry.RetryOneTime;<br/>\n    +import org.apache.curator.test.BaseClassForTests;<br/>\n    +import org.apache.curator.test.Timing;<br/>\n    +import org.testng.Assert;<br/>\n    +import org.testng.annotations.AfterMethod;<br/>\n    +import org.testng.annotations.BeforeMethod;<br/>\n    +import org.testng.annotations.Test;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +<br/>\n    +public class TestPersistentTtlNode extends BaseClassForTests<br/>\n    +{<br/>\n    +    private final Timing timing = new Timing();<br/>\n    +<br/>\n    +    @BeforeMethod<br/>\n    +    @Override<br/>\n    +    public void setup() throws Exception<br/>\n    +    </p>\n{\n    +System.setProperty(\"znode.container.checkIntervalMs\", \"1\");\n    +super.setup();\n    +    }\n<p>    +<br/>\n    +    @AfterMethod<br/>\n    +    @Override<br/>\n    +    public void teardown() throws Exception<br/>\n    +    </p>\n{\n    +System.clearProperty(\"znode.container.checkIntervalMs\");\n    +super.teardown();\n    +    }\n<p>    +<br/>\n    +    @Test<br/>\n    +    public void testBasic() throws Exception<br/>\n    +    {<br/>\n    +try (CuratorFramework client = CuratorFrameworkFactory.newClient(server.getConnectString(), new RetryOneTime(1)))<br/>\n    +{<br/>\n    +    client.start();<br/>\n    +<br/>\n    +    try (PersistentTtlNode node = new PersistentTtlNode(client, \"/test\", 10, new byte<span class=\"error\">&#91;0&#93;</span>))<br/>\n    +    {<br/>\n    +node.start();<br/>\n    +node.waitForInitialCreate(timing.session(), TimeUnit.MILLISECONDS);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This should probably assert that the return is true?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756981","html_url":"https://github.com/apache/curator/issues/921#issuecomment-2604756981","issue_url":"https://api.github.com/repos/apache/curator/issues/921","id":2604756981,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY5ODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-18T16:27:07Z","updated_at":"2025-01-21T13:35:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user srdo opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/214\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/214</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/CURATOR-401\" title=\"Make InterProcessMutex.isOwnedByCurrentThread public\" class=\"issue-link\" data-issue-key=\"CURATOR-401\"><del>CURATOR-401</del></a>: Make InterProcessMutex.isOwnedByCurrentThread public</p>\n\n<p>    See <a href=\"https://issues.apache.org/jira/browse/CURATOR-401\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CURATOR-401</a></p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/srdo/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/curator</a> <a href=\"https://issues.apache.org/jira/browse/CURATOR-401\" title=\"Make InterProcessMutex.isOwnedByCurrentThread public\" class=\"issue-link\" data-issue-key=\"CURATOR-401\"><del>CURATOR-401</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/214.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/214.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #214</p>\n\n<hr />\n<p>commit 96cb3374f1170afd1b3a5f7ac0fe82d79636a093<br/>\nAuthor: Stig Rohde Døssing <stigdoessing@gmail.com><br/>\nDate:   2017-04-18T16:24:56Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/CURATOR-401\" title=\"Make InterProcessMutex.isOwnedByCurrentThread public\" class=\"issue-link\" data-issue-key=\"CURATOR-401\"><del>CURATOR-401</del></a>: Make InterProcessMutex.isOwnedByCurrentThread public</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/295849269","html_url":"https://github.com/apache/curator/pull/198#issuecomment-295849269","issue_url":"https://api.github.com/repos/apache/curator/issues/198","id":295849269,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NTg0OTI2OQ==","user":{"login":"akira","id":43946,"node_id":"MDQ6VXNlcjQzOTQ2","avatar_url":"https://avatars.githubusercontent.com/u/43946?v=4","gravatar_id":"","url":"https://api.github.com/users/akira","html_url":"https://github.com/akira","followers_url":"https://api.github.com/users/akira/followers","following_url":"https://api.github.com/users/akira/following{/other_user}","gists_url":"https://api.github.com/users/akira/gists{/gist_id}","starred_url":"https://api.github.com/users/akira/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akira/subscriptions","organizations_url":"https://api.github.com/users/akira/orgs","repos_url":"https://api.github.com/users/akira/repos","events_url":"https://api.github.com/users/akira/events{/privacy}","received_events_url":"https://api.github.com/users/akira/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-20T18:34:48Z","updated_at":"2017-04-20T18:34:48Z","author_association":"CONTRIBUTOR","body":"@lvfangmin thanks, when do you think it will be merged?","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/295849269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604754310","html_url":"https://github.com/apache/curator/issues/906#issuecomment-2604754310","issue_url":"https://api.github.com/repos/apache/curator/issues/906","id":2604754310,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTQzMTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-20T18:34:50Z","updated_at":"2025-01-21T13:34:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user akira commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/198\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/198</a></p>\n\n<p>    @lvfangmin thanks, when do you think it will be merged?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604754310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706881","html_url":"https://github.com/apache/curator/issues/627#issuecomment-2604706881","issue_url":"https://api.github.com/repos/apache/curator/issues/627","id":2604706881,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDY4ODE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-21T17:41:04Z","updated_at":"2025-01-21T13:15:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=srdo\">srdo</a>:</i>\n<p>This is still an issue in 2.12.0, and looking at the code also seems to be a problem in 3.x. It occurs consistently for me in a test where I've disabled retries and are trying to release an InterProcessMutex while there is no connection to Zookeeper (probably a contrived example, but I suspect the same thing would happen with any guaranteed delete). It looks to me like the problem is that CuratorFrameworkImpl.processBackgroundOperation actually does the operation in the foreground on the first attempt <a href=\"https://github.com/apache/curator/blob/master/curator-framework/src/main/java/org/apache/curator/framework/imps/CuratorFrameworkImpl.java#L505\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/blob/master/curator-framework/src/main/java/org/apache/curator/framework/imps/CuratorFrameworkImpl.java#L505</a>. Maybe this can be fixed by making processBackgroundOperation enqueue the operation instead of trying to perform it, and then let the background operations loop pick up the operation instead?</p>\n\n<div class=\"code panel\" style=\"border-width: 1px;\"><div class=\"codeContent panelContent\">\n<pre class=\"code-java\">at org.apache.curator.framework.imps.DeleteBuilderImpl$4.retriesExhausted(DeleteBuilderImpl.java:217)\nat org.apache.curator.framework.imps.CuratorFrameworkImpl.checkBackgroundRetry(CuratorFrameworkImpl.java:716)\nat org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:857)\nat org.apache.curator.framework.imps.CuratorFrameworkImpl.processBackgroundOperation(CuratorFrameworkImpl.java:507)\nat org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:221)\nat org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:35)\nat org.apache.curator.framework.imps.FailedDeleteManager.addFailedDelete(FailedDeleteManager.java:55)\nat org.apache.curator.framework.imps.DeleteBuilderImpl$4.retriesExhausted(DeleteBuilderImpl.java:217)\nat org.apache.curator.framework.imps.CuratorFrameworkImpl.checkBackgroundRetry(CuratorFrameworkImpl.java:716)\nat org.apache.curator.framework.imps.CuratorFrameworkImpl.performBackgroundOperation(CuratorFrameworkImpl.java:857)\nat org.apache.curator.framework.imps.CuratorFrameworkImpl.processBackgroundOperation(CuratorFrameworkImpl.java:507)\nat org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:221)\nat org.apache.curator.framework.imps.DeleteBuilderImpl.forPath(DeleteBuilderImpl.java:35)\nat org.apache.curator.framework.imps.FailedDeleteManager.addFailedDelete(FailedDeleteManager.java:55)\netc.\n</pre>\n</div></div>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706887","html_url":"https://github.com/apache/curator/issues/627#issuecomment-2604706887","issue_url":"https://api.github.com/repos/apache/curator/issues/627","id":2604706887,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDY4ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-21T20:14:48Z","updated_at":"2025-01-21T13:15:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user srdo opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/215\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/215</a></p>\n\n<p>     <a href=\"https://issues.apache.org/jira/browse/CURATOR-106\" title=\"Issuing a guaranteed delete can cause stack overflow if ZK is not reachable\" class=\"issue-link\" data-issue-key=\"CURATOR-106\">CURATOR-106</a>: Ensure background operations happen in the background thread to avoid stack overflows when retrying guaranteed operations</p>\n\n<p>    See <a href=\"https://issues.apache.org/jira/browse/CURATOR-106?focusedCommentId=15979112&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15979112\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CURATOR-106?focusedCommentId=15979112&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15979112</a></p>\n\n<p>    Also a few tests in TestNamespaceFacade were not passing because they were using blank connect strings. I'd be happy to open a separate issue for that change if necessary, or remove it if I misunderstood the tests.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/srdo/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/curator</a> <a href=\"https://issues.apache.org/jira/browse/CURATOR-106\" title=\"Issuing a guaranteed delete can cause stack overflow if ZK is not reachable\" class=\"issue-link\" data-issue-key=\"CURATOR-106\">CURATOR-106</a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/215.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/215.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #215</p>\n\n<hr />\n<p>commit 2422c2be094835e84161919b3fee5e4c872d4397<br/>\nAuthor: Stig Rohde Døssing <sdo@it-minds.dk><br/>\nDate:   2017-04-21T20:03:27Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/CURATOR-106\" title=\"Issuing a guaranteed delete can cause stack overflow if ZK is not reachable\" class=\"issue-link\" data-issue-key=\"CURATOR-106\">CURATOR-106</a>: Ensure background operations happen in the background thread to avoid stack overflows when retrying guaranteed operations</p>\n\n<p>commit e7bf733d91460117d19958221b4902f4b99efb2e<br/>\nAuthor: Stig Rohde Døssing <sdo@it-minds.dk><br/>\nDate:   2017-04-21T20:03:58Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/CURATOR-106\" title=\"Issuing a guaranteed delete can cause stack overflow if ZK is not reachable\" class=\"issue-link\" data-issue-key=\"CURATOR-106\">CURATOR-106</a>: Fix flaky unit test</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/296383384","html_url":"https://github.com/apache/curator/pull/215#issuecomment-296383384","issue_url":"https://api.github.com/repos/apache/curator/issues/215","id":296383384,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjM4MzM4NA==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-22T16:07:53Z","updated_at":"2017-04-22T16:07:53Z","author_association":"MEMBER","body":"This will break most clients. It's vital that, under normal circumstances, background callbacks execute from ZooKeeper's thread. ZooKeeper uses the same thread for watchers and background callbacks. This change will break that. ","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/296383384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706894","html_url":"https://github.com/apache/curator/issues/627#issuecomment-2604706894","issue_url":"https://api.github.com/repos/apache/curator/issues/627","id":2604706894,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDY4OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-22T16:07:55Z","updated_at":"2025-01-21T13:15:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/215\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/215</a></p>\n\n<p>    This will break most clients. It's vital that, under normal circumstances, background callbacks execute from ZooKeeper's thread. ZooKeeper uses the same thread for watchers and background callbacks. This change will break that. </p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/296387528","html_url":"https://github.com/apache/curator/pull/215#issuecomment-296387528","issue_url":"https://api.github.com/repos/apache/curator/issues/215","id":296387528,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjM4NzUyOA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-22T17:08:22Z","updated_at":"2017-04-22T17:08:22Z","author_association":"CONTRIBUTOR","body":"Hi @Randgalt. Just to make sure, you're talking about calls to BackgroundCallback.processResult, right?\r\n\r\nI don't follow how this change causes those to be invoked from a different thread than usual. The changed code is only hit if processBackgroundOperation is called with a null event (isInitialExecution is true). As far as I can tell, the invocations that happen from the Zookeeper callbacks always seem to pass a non-null event, and so don't hit the changed code. \r\n\r\nI took a look at the call sites for BackgroundCallback.processResult, and the only way I can see that this change has changed the calling thread is if CuratorFrameworkImpl.processBackgroundOperation is called with a null parameter, and CuratorFrameworkImpl.performBackgroundOperation then hits a ConnectionLossException, through checkBackgroundRetry -> sendToBackgroundCallback -> BackgroundCallback.processResult. https://github.com/apache/curator/blob/master/curator-framework/src/main/java/org/apache/curator/framework/imps/CuratorFrameworkImpl.java#L857. The other invocations of sendToBackgroundCallback (the only call site for BackgroundCallback.processResult except for the wrapper in Backgrounding) only happen through a call to processBackgroundOperation with a non-null event.\r\n\r\nI did a quick spot check using the BackgroundCallback in CuratorFrameworkBackground.testBasic. Printing the thread executing BackgroundCallback.processResult before the change:\r\nThe executing thread Thread[main-EventThread,5,main]\r\n\r\nafter the change:\r\nThe executing thread Thread[main-EventThread,5,main]","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/296387528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706900","html_url":"https://github.com/apache/curator/issues/627#issuecomment-2604706900","issue_url":"https://api.github.com/repos/apache/curator/issues/627","id":2604706900,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDY5MDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-22T17:08:23Z","updated_at":"2025-01-21T13:15:29Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user srdo commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/215\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/215</a></p>\n\n<p>    Hi @Randgalt. Just to make sure, you're talking about calls to BackgroundCallback.processResult, right?</p>\n\n<p>    I don't follow how this change causes those to be invoked from a different thread than usual. The changed code is only hit if processBackgroundOperation is called with a null event (isInitialExecution is true). As far as I can tell, the invocations that happen from the Zookeeper callbacks always seem to pass a non-null event, and so don't hit the changed code. </p>\n\n<p>    I took a look at the call sites for BackgroundCallback.processResult, and the only way I can see that this change has changed the calling thread is if CuratorFrameworkImpl.processBackgroundOperation is called with a null parameter, and CuratorFrameworkImpl.performBackgroundOperation then hits a ConnectionLossException, through checkBackgroundRetry -> sendToBackgroundCallback -> BackgroundCallback.processResult. <a href=\"https://github.com/apache/curator/blob/master/curator-framework/src/main/java/org/apache/curator/framework/imps/CuratorFrameworkImpl.java#L857\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/blob/master/curator-framework/src/main/java/org/apache/curator/framework/imps/CuratorFrameworkImpl.java#L857</a>. The other invocations of sendToBackgroundCallback (the only call site for BackgroundCallback.processResult except for the wrapper in Backgrounding) only happen through a call to processBackgroundOperation with a non-null event.</p>\n\n<p>    I did a quick spot check using the BackgroundCallback in CuratorFrameworkBackground.testBasic. Printing the thread executing BackgroundCallback.processResult before the change:<br/>\n    The executing thread Thread<span class=\"error\">&#91;main-EventThread,5,main&#93;</span></p>\n\n<p>    after the change:<br/>\n    The executing thread Thread<span class=\"error\">&#91;main-EventThread,5,main&#93;</span></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/296393077","html_url":"https://github.com/apache/curator/pull/215#issuecomment-296393077","issue_url":"https://api.github.com/repos/apache/curator/issues/215","id":296393077,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjM5MzA3Nw==","user":{"login":"Randgalt","id":264818,"node_id":"MDQ6VXNlcjI2NDgxOA==","avatar_url":"https://avatars.githubusercontent.com/u/264818?v=4","gravatar_id":"","url":"https://api.github.com/users/Randgalt","html_url":"https://github.com/Randgalt","followers_url":"https://api.github.com/users/Randgalt/followers","following_url":"https://api.github.com/users/Randgalt/following{/other_user}","gists_url":"https://api.github.com/users/Randgalt/gists{/gist_id}","starred_url":"https://api.github.com/users/Randgalt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Randgalt/subscriptions","organizations_url":"https://api.github.com/users/Randgalt/orgs","repos_url":"https://api.github.com/users/Randgalt/repos","events_url":"https://api.github.com/users/Randgalt/events{/privacy}","received_events_url":"https://api.github.com/users/Randgalt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-22T18:39:31Z","updated_at":"2017-04-22T18:39:31Z","author_association":"MEMBER","body":"OK - I didn't look at the change deeply. I'll look more when I have a chance","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/296393077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706905","html_url":"https://github.com/apache/curator/issues/627#issuecomment-2604706905","issue_url":"https://api.github.com/repos/apache/curator/issues/627","id":2604706905,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDY5MDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-22T18:39:33Z","updated_at":"2025-01-21T13:15:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/215\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/215</a></p>\n\n<p>    OK - I didn't look at the change deeply. I'll look more when I have a chance</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/296393580","html_url":"https://github.com/apache/curator/pull/215#issuecomment-296393580","issue_url":"https://api.github.com/repos/apache/curator/issues/215","id":296393580,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NjM5MzU4MA==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-22T18:48:37Z","updated_at":"2017-04-22T18:48:37Z","author_association":"CONTRIBUTOR","body":"Thanks :)","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/296393580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706914","html_url":"https://github.com/apache/curator/issues/627#issuecomment-2604706914","issue_url":"https://api.github.com/repos/apache/curator/issues/627","id":2604706914,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3MDY5MTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-22T18:48:39Z","updated_at":"2025-01-21T13:15:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user srdo commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/215\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/215</a></p>\n\n<p>    Thanks <img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/smile.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604706914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757114","html_url":"https://github.com/apache/curator/issues/922#issuecomment-2604757114","issue_url":"https://api.github.com/repos/apache/curator/issues/922","id":2604757114,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTcxMTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-24T18:35:22Z","updated_at":"2025-01-21T13:35:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user srdo opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/216\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/216</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/CURATOR-402\" title=\"Curator should not use QuorumServer.addr when updating the connect string dynamically\" class=\"issue-link\" data-issue-key=\"CURATOR-402\"><del>CURATOR-402</del></a>: Curator should not use QuorumServer.addr when updating the connect string dynamically</p>\n\n<p>    …e the client connect string, resulting in a client unable to reconnect</p>\n\n<p>    See <a href=\"https://issues.apache.org/jira/browse/CURATOR-402\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/CURATOR-402</a>.</p>\n\n<p>    I took a look at adding a test for this, but both addresses are null when using a single testing server, and I couldn't find a way to start a testing cluster where clientAddr is null.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/srdo/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/curator</a> <a href=\"https://issues.apache.org/jira/browse/CURATOR-402\" title=\"Curator should not use QuorumServer.addr when updating the connect string dynamically\" class=\"issue-link\" data-issue-key=\"CURATOR-402\"><del>CURATOR-402</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/216.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/216.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #216</p>\n\n<hr />\n<p>commit 942b96368dbd536a61c5cb150bd081a6f0ac2754<br/>\nAuthor: Stig Rohde Døssing <sdo@it-minds.dk><br/>\nDate:   2017-04-24T18:23:41Z</p>\n\n<p>    Fix EnsembleTracker sometimes using the Zookeeper peer ports to update the client connect string, resulting in a client unable to reconnect</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748542","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748542","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748542,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-24T19:10:36Z","updated_at":"2025-01-21T13:32:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user madrob commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r113029300\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r113029300</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/imps/CreateBuilderImpl.java &#8212;<br/>\n    @@ -83,6 +85,13 @@ public CreateBuilderMain orSetData()<br/>\n     return this;<br/>\n }</p>\n\n<p>    +    @Override<br/>\n    +    public CreateBuilderMain withTtl(long ttl)<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    +1 to strict camel case. I don't like how it looks either, but I do like that it is more consistent.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748546","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748546","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748546,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-24T19:10:36Z","updated_at":"2025-01-21T13:32:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user madrob commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r113029044\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r113029044</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/api/CreateBuilder.java &#8212;<br/>\n    @@ -18,8 +18,19 @@<br/>\n      */<br/>\n     package org.apache.curator.framework.api;</p>\n\n<p>    -public interface CreateBuilder extends</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>CreateBuilderMain<br/>\n    +public interface CreateBuilder extends CreateBuilderMain\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Why not extend `CreateBuilder2` here? Less duplicate code/comments for `withTtl`</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748546/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748550","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748550","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748550,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-24T19:10:36Z","updated_at":"2025-01-21T13:32:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user madrob commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r113031493\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r113031493</a></p>\n\n<p>    &#8212; Diff: curator-recipes/src/main/java/org/apache/curator/framework/recipes/nodes/PersistentTtlNode.java &#8212;<br/>\n    @@ -0,0 +1,208 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + *   <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.curator.framework.recipes.nodes;<br/>\n    +<br/>\n    +import org.apache.curator.framework.CuratorFramework;<br/>\n    +import org.apache.curator.utils.ThreadUtils;<br/>\n    +import org.apache.curator.utils.ZKPaths;<br/>\n    +import org.apache.zookeeper.CreateMode;<br/>\n    +import org.apache.zookeeper.KeeperException;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import java.io.Closeable;<br/>\n    +import java.io.IOException;<br/>\n    +import java.util.Objects;<br/>\n    +import java.util.concurrent.Executors;<br/>\n    +import java.util.concurrent.Future;<br/>\n    +import java.util.concurrent.ScheduledExecutorService;<br/>\n    +import java.util.concurrent.TimeUnit;<br/>\n    +import java.util.concurrent.atomic.AtomicReference;<br/>\n    +<br/>\n    +/**<br/>\n    + * <p><br/>\n    + *     Manages a </p>\n{@link PersistentNode}\n<p> that uses </p>\n{@link CreateMode#CONTAINER}\n<p>. Asynchronously<br/>\n    + *     it creates or updates a child on the persistent node that is marked with a provided TTL.<br/>\n    + * </p><br/>\n    + *<br/>\n    + * <p><br/>\n    + *     The effect of this is to have a node that can be watched, etc. The child node serves as<br/>\n    + *     a method of having the parent node deleted if the TTL expires. i.e. if the process<br/>\n    + *     that is running the PersistentTtlNode crashes and the TTL elapses, first the child node<br/>\n    + *     will be deleted due to the TTL expiration and then the parent node will be deleted as it's<br/>\n    + *     a container node with no children.<br/>\n    + * </p><br/>\n    + *<br/>\n    + * <p><br/>\n    + *     PersistentTtlNode is useful when you need to create a TTL node but don't want to keep<br/>\n    + *     it alive manually by periodically setting data - PersistentTtlNode does that for you. Further<br/>\n    + *     the keep-alive is done in a way that does not generate watch triggers on the parent node.<br/>\n    + * </p><br/>\n    + */<br/>\n    +public class PersistentTtlNode implements Closeable<br/>\n    +{<br/>\n    +    public static final String DEFAULT_CHILD_NODE_NAME = \"touch\";<br/>\n    +    public static final int DEFAULT_TOUCH_SCHEDULE_FACTOR = 2;<br/>\n    +<br/>\n    +    private final Logger log = LoggerFactory.getLogger(getClass());<br/>\n    +    private final PersistentNode node;<br/>\n    +    private final CuratorFramework client;<br/>\n    +    private final long ttlMs;<br/>\n    +    private final int touchScheduleFactor;<br/>\n    +    private final ScheduledExecutorService executorService;<br/>\n    +    private final AtomicReference<Future<?>> futureRef = new AtomicReference<>();<br/>\n    +    private final String childPath;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * @param client the client<br/>\n    +     * @param path path for the parent ZNode<br/>\n    +     * @param ttlMs max ttl for the node in milliseconds<br/>\n    +     * @param initData data for the node<br/>\n    +     */<br/>\n    +    public PersistentTtlNode(CuratorFramework client, String path, long ttlMs, byte[] initData)<br/>\n    +    </p>\n{\n    +this(client, Executors.newSingleThreadScheduledExecutor(ThreadUtils.newThreadFactory(\"PersistentTtlNode\")), path, ttlMs, initData, DEFAULT_CHILD_NODE_NAME, DEFAULT_TOUCH_SCHEDULE_FACTOR);\n    +    }\n<p>    +<br/>\n    +    /**<br/>\n    +     * @param client the client<br/>\n    +     * @param path path for the parent ZNode<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    missing javadoc for executor service. probably worthwhile to caution people that if the executor service is overloaded then it may impact the ability to do ttl updates. we should also give users a way to realize that this is the case when their nodes start expiring. probably not a very common use case though.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/296875754","html_url":"https://github.com/apache/curator/pull/216#issuecomment-296875754","issue_url":"https://api.github.com/repos/apache/curator/issues/216","id":296875754,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Njg3NTc1NA==","user":{"login":"lvfangmin","id":2357288,"node_id":"MDQ6VXNlcjIzNTcyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2357288?v=4","gravatar_id":"","url":"https://api.github.com/users/lvfangmin","html_url":"https://github.com/lvfangmin","followers_url":"https://api.github.com/users/lvfangmin/followers","following_url":"https://api.github.com/users/lvfangmin/following{/other_user}","gists_url":"https://api.github.com/users/lvfangmin/gists{/gist_id}","starred_url":"https://api.github.com/users/lvfangmin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvfangmin/subscriptions","organizations_url":"https://api.github.com/users/lvfangmin/orgs","repos_url":"https://api.github.com/users/lvfangmin/repos","events_url":"https://api.github.com/users/lvfangmin/events{/privacy}","received_events_url":"https://api.github.com/users/lvfangmin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T02:40:51Z","updated_at":"2017-04-25T02:40:51Z","author_association":"CONTRIBUTOR","body":"This fix looks good to time, but I'd like @Randgalt to accept it since he has more context about the changes he made in CURATOR-345.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/296875754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757120","html_url":"https://github.com/apache/curator/issues/922#issuecomment-2604757120","issue_url":"https://api.github.com/repos/apache/curator/issues/922","id":2604757120,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTcxMjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T02:40:52Z","updated_at":"2025-01-21T13:35:40Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user lvfangmin commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/216\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/216</a></p>\n\n<p>    This fix looks good to time, but I'd like @Randgalt to accept it since he has more context about the changes he made in <a href=\"https://issues.apache.org/jira/browse/CURATOR-345\" title=\"NPE in EnsembleTracker when starting Curator\" class=\"issue-link\" data-issue-key=\"CURATOR-345\"><del>CURATOR-345</del></a>.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756988","html_url":"https://github.com/apache/curator/issues/921#issuecomment-2604756988","issue_url":"https://api.github.com/repos/apache/curator/issues/921","id":2604756988,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY5ODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T02:50:49Z","updated_at":"2025-01-21T13:35:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/214\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/214</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/296877953","html_url":"https://github.com/apache/curator/pull/214#issuecomment-296877953","issue_url":"https://api.github.com/repos/apache/curator/issues/214","id":296877953,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Njg3Nzk1Mw==","user":{"login":"lvfangmin","id":2357288,"node_id":"MDQ6VXNlcjIzNTcyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2357288?v=4","gravatar_id":"","url":"https://api.github.com/users/lvfangmin","html_url":"https://github.com/lvfangmin","followers_url":"https://api.github.com/users/lvfangmin/followers","following_url":"https://api.github.com/users/lvfangmin/following{/other_user}","gists_url":"https://api.github.com/users/lvfangmin/gists{/gist_id}","starred_url":"https://api.github.com/users/lvfangmin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvfangmin/subscriptions","organizations_url":"https://api.github.com/users/lvfangmin/orgs","repos_url":"https://api.github.com/users/lvfangmin/repos","events_url":"https://api.github.com/users/lvfangmin/events{/privacy}","received_events_url":"https://api.github.com/users/lvfangmin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T02:50:59Z","updated_at":"2017-04-25T02:50:59Z","author_association":"CONTRIBUTOR","body":"LGTM +1.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/296877953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756993","html_url":"https://github.com/apache/curator/issues/921#issuecomment-2604756993","issue_url":"https://api.github.com/repos/apache/curator/issues/921","id":2604756993,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTY5OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T02:51:01Z","updated_at":"2025-01-21T13:35:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user lvfangmin commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/214\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/214</a></p>\n\n<p>    LGTM +1.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604756993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/296879685","html_url":"https://github.com/apache/curator/pull/198#issuecomment-296879685","issue_url":"https://api.github.com/repos/apache/curator/issues/198","id":296879685,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Njg3OTY4NQ==","user":{"login":"lvfangmin","id":2357288,"node_id":"MDQ6VXNlcjIzNTcyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2357288?v=4","gravatar_id":"","url":"https://api.github.com/users/lvfangmin","html_url":"https://github.com/lvfangmin","followers_url":"https://api.github.com/users/lvfangmin/followers","following_url":"https://api.github.com/users/lvfangmin/following{/other_user}","gists_url":"https://api.github.com/users/lvfangmin/gists{/gist_id}","starred_url":"https://api.github.com/users/lvfangmin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvfangmin/subscriptions","organizations_url":"https://api.github.com/users/lvfangmin/orgs","repos_url":"https://api.github.com/users/lvfangmin/repos","events_url":"https://api.github.com/users/lvfangmin/events{/privacy}","received_events_url":"https://api.github.com/users/lvfangmin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T02:57:31Z","updated_at":"2017-04-25T02:57:31Z","author_association":"CONTRIBUTOR","body":"@akira sorry for the lately reply, I was waiting for another LGTM, the tests look good on my Mac, I'm going to merge the code now.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/296879685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604754313","html_url":"https://github.com/apache/curator/issues/906#issuecomment-2604754313","issue_url":"https://api.github.com/repos/apache/curator/issues/906","id":2604754313,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTQzMTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T02:57:32Z","updated_at":"2025-01-21T13:34:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user lvfangmin commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/198\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/198</a></p>\n\n<p>    @akira sorry for the lately reply, I was waiting for another LGTM, the tests look good on my Mac, I'm going to merge the code now.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604754313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604754320","html_url":"https://github.com/apache/curator/issues/906#issuecomment-2604754320","issue_url":"https://api.github.com/repos/apache/curator/issues/906","id":2604754320,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTQzMjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T03:09:26Z","updated_at":"2025-01-21T13:34:36Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/198\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/198</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604754320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748557","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748557","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748557,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T14:45:22Z","updated_at":"2025-01-21T13:32:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r113215426\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r113215426</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/api/CreateBuilder.java &#8212;<br/>\n    @@ -18,8 +18,19 @@<br/>\n      */<br/>\n     package org.apache.curator.framework.api;</p>\n\n<p>    -public interface CreateBuilder extends</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>CreateBuilderMain<br/>\n    +public interface CreateBuilder extends CreateBuilderMain\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    It's because of `orSetData()`</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748561","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748561","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748561,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1NjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T14:52:23Z","updated_at":"2025-01-21T13:32:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748566","html_url":"https://github.com/apache/curator/issues/871#issuecomment-2604748566","issue_url":"https://api.github.com/repos/apache/curator/issues/871","id":2604748566,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NDg1NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-25T15:01:24Z","updated_at":"2025-01-21T13:32:13Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user madrob commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/171#discussion_r113220323\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/171#discussion_r113220323</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/api/CreateBuilder.java &#8212;<br/>\n    @@ -18,8 +18,19 @@<br/>\n      */<br/>\n     package org.apache.curator.framework.api;</p>\n\n<p>    -public interface CreateBuilder extends</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>CreateBuilderMain<br/>\n    +public interface CreateBuilder extends CreateBuilderMain\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Right. That's not a problem.</p>\n\n<p>    `public interface CreateBuilder extends CreateBuilder2 </p>\n{ CreateBuilder2 orSetData() }\n<p>`</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604748566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/297944463","html_url":"https://github.com/apache/curator/pull/208#issuecomment-297944463","issue_url":"https://api.github.com/repos/apache/curator/issues/208","id":297944463,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Nzk0NDQ2Mw==","user":{"login":"betalb","id":36754,"node_id":"MDQ6VXNlcjM2NzU0","avatar_url":"https://avatars.githubusercontent.com/u/36754?v=4","gravatar_id":"","url":"https://api.github.com/users/betalb","html_url":"https://github.com/betalb","followers_url":"https://api.github.com/users/betalb/followers","following_url":"https://api.github.com/users/betalb/following{/other_user}","gists_url":"https://api.github.com/users/betalb/gists{/gist_id}","starred_url":"https://api.github.com/users/betalb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/betalb/subscriptions","organizations_url":"https://api.github.com/users/betalb/orgs","repos_url":"https://api.github.com/users/betalb/repos","events_url":"https://api.github.com/users/betalb/events{/privacy}","received_events_url":"https://api.github.com/users/betalb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-28T08:50:37Z","updated_at":"2017-04-28T08:53:42Z","author_association":"NONE","body":"But what about case when service uses old version (or compat mode) and client has new code?\r\n\r\nAfter de-serialisation `enabled` flag will be false and client will be intrepreting this service as disabled, which also is not good.","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/297944463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604755890","html_url":"https://github.com/apache/curator/issues/914#issuecomment-2604755890","issue_url":"https://api.github.com/repos/apache/curator/issues/914","id":2604755890,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTU4OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-28T08:50:39Z","updated_at":"2025-01-21T13:35:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user betalb commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/208\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/208</a></p>\n\n<p>    But what about case when service, uses old version (or compat mode) and client has new code?</p>\n\n<p>    After de-serialisation enabled flag will be false, and client will be intrepreting this service as disabled, which also is not good</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604755890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757256","html_url":"https://github.com/apache/curator/issues/923#issuecomment-2604757256","issue_url":"https://api.github.com/repos/apache/curator/issues/923","id":2604757256,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTcyNTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-28T13:13:23Z","updated_at":"2025-01-21T13:35:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>This keeps coming up for some reason. Guava is now shaded into Curator 3.3.0 and 2.12.0. I've proved that this works here: <a href=\"https://github.com/Randgalt/curator-guava-example\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/Randgalt/curator-guava-example</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757366","html_url":"https://github.com/apache/curator/issues/924#issuecomment-2604757366","issue_url":"https://api.github.com/repos/apache/curator/issues/924","id":2604757366,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTczNjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-29T18:36:30Z","updated_at":"2025-01-21T13:35:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>This is an API change which sucks. I'm not sure what to do about our version number. This has not been released very long. Maybe just make the change and not worry about it?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757373","html_url":"https://github.com/apache/curator/issues/924#issuecomment-2604757373","issue_url":"https://api.github.com/repos/apache/curator/issues/924","id":2604757373,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTczNzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-29T19:12:51Z","updated_at":"2025-01-21T13:35:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user Randgalt opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/217\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/217</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/CURATOR-404\" title=\"AsyncTransactionOp#create returns the wrong DSL type\" class=\"issue-link\" data-issue-key=\"CURATOR-404\"><del>CURATOR-404</del></a> AsyncTransactionCreateBuilder has API mistake</p>\n\n<p>    intermediate AsyncTransactionCreateBuilder DSL methods should return AsyncPathAndBytesable not AsyncPathable.</p>\n\n<p>    The good news here is the 99.9% of old clients will still work as this is an intermediate API call only. e.g.</p>\n\n<p>    `client.transactionOp().create().compressed().forPath()` still works. It merely now gains the ability to set the byte array (as it should).</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/apache/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator</a> <a href=\"https://issues.apache.org/jira/browse/CURATOR-404\" title=\"AsyncTransactionOp#create returns the wrong DSL type\" class=\"issue-link\" data-issue-key=\"CURATOR-404\"><del>CURATOR-404</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/217.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/217.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #217</p>\n\n<hr />\n<p>commit 35f5d274e572b91332ab04f3d03f79938cd216f3<br/>\nAuthor: randgalt <randgalt@apache.org><br/>\nDate:   2017-04-29T19:10:25Z</p>\n\n<p>    intermediate AsyncTransactionCreateBuilder DSL methods should return AsyncPathAndBytesable not AsynccPathable</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757377","html_url":"https://github.com/apache/curator/issues/924#issuecomment-2604757377","issue_url":"https://api.github.com/repos/apache/curator/issues/924","id":2604757377,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTczNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-30T06:19:00Z","updated_at":"2025-01-21T13:35:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mdrob\">mdrob</a>:</i>\n<p>Why 99.9%? What's the client that breaks? Looks completely backwards compatible to me, (on my phone though, do can't write a test case now) just not forward compatible. Gotta increment minor version number then. Better than users losing trust, IMO.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757382","html_url":"https://github.com/apache/curator/issues/924#issuecomment-2604757382","issue_url":"https://api.github.com/repos/apache/curator/issues/924","id":2604757382,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTczODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-30T17:13:52Z","updated_at":"2025-01-21T13:35:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>Actually, you're right <a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mdrob\" class=\"user-hover\" rel=\"mdrob\">Mike Drob</a> - I forgot that <tt>AsyncPathAndBytesable</tt> extends <tt>AsyncPathable</tt>.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757388","html_url":"https://github.com/apache/curator/issues/924#issuecomment-2604757388","issue_url":"https://api.github.com/repos/apache/curator/issues/924","id":2604757388,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTczODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-01T19:56:03Z","updated_at":"2025-01-21T13:35:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/217\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/217</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757257","html_url":"https://github.com/apache/curator/issues/923#issuecomment-2604757257","issue_url":"https://api.github.com/repos/apache/curator/issues/923","id":2604757257,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTcyNTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-01T23:32:13Z","updated_at":"2025-01-21T13:35:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaz\">dimaz</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\" class=\"user-hover\" rel=\"randgalt\">Jordan Zimmerman</a>, sorry, I am probably misunderstanding what you mean here but isn't shading Guava a recipe for disaster? If application brings curator and Guava as a dependency then it will have have two different versions available and then it will be at the mercy of the classloader - whichever version is loaded first, wins.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757262","html_url":"https://github.com/apache/curator/issues/923#issuecomment-2604757262","issue_url":"https://api.github.com/repos/apache/curator/issues/923","id":2604757262,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTcyNjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-01T23:35:36Z","updated_at":"2025-01-21T13:35:44Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>No - shading means \"hiding\" the library. All of Guava (except for 3 classes) is now hidden behind Curator specific package names. It's as if it's a completely different library. There are no conflicts now with any version of Guava. Details here: <a href=\"https://cwiki.apache.org/confluence/display/CURATOR/TN13\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://cwiki.apache.org/confluence/display/CURATOR/TN13</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757266","html_url":"https://github.com/apache/curator/issues/923#issuecomment-2604757266","issue_url":"https://api.github.com/repos/apache/curator/issues/923","id":2604757266,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTcyNjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T18:41:11Z","updated_at":"2025-01-21T13:35:44Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dimaz\">dimaz</a>:</i>\n<p>Makes sense. Thanks for explaining</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757655","html_url":"https://github.com/apache/curator/issues/926#issuecomment-2604757655","issue_url":"https://api.github.com/repos/apache/curator/issues/926","id":2604757655,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc2NTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T19:54:56Z","updated_at":"2025-01-21T13:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragonsinth\">dragonsinth</a>:</i>\n<p>Do you want the old master as <tt>master-2.0</tt> or <tt>CURATOR&#45;2.0</tt> to match with the current scheme that <tt>CURATOR&#45;3.0</tt> suggests?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757660","html_url":"https://github.com/apache/curator/issues/926#issuecomment-2604757660","issue_url":"https://api.github.com/repos/apache/curator/issues/926","id":2604757660,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc2NjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T19:56:07Z","updated_at":"2025-01-21T13:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>It doesn't matter to me. But, I thought that <tt>master&#45;2.0</tt> looks cleaner. Or, maybe <tt>old&#45;master</tt> or <tt>old&#45;master&#45;2.0</tt>?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757665","html_url":"https://github.com/apache/curator/issues/926#issuecomment-2604757665","issue_url":"https://api.github.com/repos/apache/curator/issues/926","id":2604757665,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc2NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T20:08:16Z","updated_at":"2025-01-21T13:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragonsinth\">dragonsinth</a>:</i>\n<ul class=\"alternate\" type=\"square\">\n\t<li>master is on 3.0 now</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>I left a <a href=\"https://issues.apache.org/jira/browse/CURATOR-2\" title=\"OSGi-friend distribution\" class=\"issue-link\" data-issue-key=\"CURATOR-2\"><del>CURATOR-2</del></a>.0 branch where master was, you could create a master-2.0 there if you object to the naming</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>Consider deleting the <a href=\"https://issues.apache.org/jira/browse/CURATOR-3\" title=\"LeaderLatch race condition causing extra nodes to be added in Zookeeper Edit\" class=\"issue-link\" data-issue-key=\"CURATOR-3\"><del>CURATOR-3</del></a>.0 branch at some point</li>\n</ul>\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757668","html_url":"https://github.com/apache/curator/issues/926#issuecomment-2604757668","issue_url":"https://api.github.com/repos/apache/curator/issues/926","id":2604757668,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc2Njg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T20:09:46Z","updated_at":"2025-01-21T13:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=randgalt\">randgalt</a>:</i>\n<p>For posterity, can you please list the steps you took to do this?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757674","html_url":"https://github.com/apache/curator/issues/926#issuecomment-2604757674","issue_url":"https://api.github.com/repos/apache/curator/issues/926","id":2604757674,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc2NzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T20:10:02Z","updated_at":"2025-01-21T13:35:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragonsinth\">dragonsinth</a>:</i>\n<p>I'm not super strongly opinionated, but I haven't seen other projects use a <tt>master-2.0</tt> convention before.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757679","html_url":"https://github.com/apache/curator/issues/926#issuecomment-2604757679","issue_url":"https://api.github.com/repos/apache/curator/issues/926","id":2604757679,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc2Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-02T20:14:27Z","updated_at":"2025-01-21T13:35:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dragonsinth\">dragonsinth</a>:</i>\n<p>What I did.  (Note, my Apache remote is named \"apache\" in my repo, not \"origin\")</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>git remote update # to be sure I had everything current locally</li>\n\t<li>git checkout master; git merge # checkout and update master</li>\n\t<li>git branch <a href=\"https://issues.apache.org/jira/browse/CURATOR-2\" title=\"OSGi-friend distribution\" class=\"issue-link\" data-issue-key=\"CURATOR-2\"><del>CURATOR-2</del></a>.0 # mark the old master branch</li>\n\t<li>git checkout <a href=\"https://issues.apache.org/jira/browse/CURATOR-3\" title=\"LeaderLatch race condition causing extra nodes to be added in Zookeeper Edit\" class=\"issue-link\" data-issue-key=\"CURATOR-3\"><del>CURATOR-3</del></a>.0; git merge # checkout and update 3.0</li>\n\t<li>git merge master -m \"<a href=\"https://issues.apache.org/jira/browse/CURATOR-3\" title=\"LeaderLatch race condition causing extra nodes to be added in Zookeeper Edit\" class=\"issue-link\" data-issue-key=\"CURATOR-3\"><del>CURATOR-3</del></a>.0 becomes the master branch.\"</li>\n\t<li>inspect / test the result</li>\n\t<li>git push apache HEAD:<a href=\"https://issues.apache.org/jira/browse/CURATOR-3\" title=\"LeaderLatch race condition causing extra nodes to be added in Zookeeper Edit\" class=\"issue-link\" data-issue-key=\"CURATOR-3\"><del>CURATOR-3</del></a>.0 # fast forward</li>\n\t<li>git push apache HEAD:master # fast forward</li>\n\t<li>git push apache <a href=\"https://issues.apache.org/jira/browse/CURATOR-2\" title=\"OSGi-friend distribution\" class=\"issue-link\" data-issue-key=\"CURATOR-2\"><del>CURATOR-2</del></a>.0:<a href=\"https://issues.apache.org/jira/browse/CURATOR-2\" title=\"OSGi-friend distribution\" class=\"issue-link\" data-issue-key=\"CURATOR-2\"><del>CURATOR-2</del></a>.0 # new branch</li>\n</ul>\n","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757809","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757809","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757809,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T12:59:34Z","updated_at":"2025-01-21T13:35:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user Randgalt opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/CURATOR-407\" title=\"Create Transaction DSL is missing TTL support\" class=\"issue-link\" data-issue-key=\"CURATOR-407\"><del>CURATOR-407</del></a> Added ttl suppport to Create transactions</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/apache/curator\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator</a> <a href=\"https://issues.apache.org/jira/browse/CURATOR-407\" title=\"Create Transaction DSL is missing TTL support\" class=\"issue-link\" data-issue-key=\"CURATOR-407\"><del>CURATOR-407</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #218</p>\n\n<hr />\n<p>commit d7d84c5527d8e35fc01b6aedb78eaafa9739018d<br/>\nAuthor: randgalt <randgalt@apache.org><br/>\nDate:   2017-05-03T12:56:51Z</p>\n\n<p>    Added ttl suppport to Create transactions</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757812","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757812","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757812,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4MTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T22:45:28Z","updated_at":"2025-01-21T13:35:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114670616\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114670616</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/api/transaction/TransactionCreateBuilder.java &#8212;<br/>\n    @@ -18,17 +18,17 @@<br/>\n      */<br/>\n     package org.apache.curator.framework.api.transaction;</p>\n\n<p>    -import org.apache.curator.framework.api.ACLCreateModePathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.ACLPathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.Compressible;<br/>\n    -import org.apache.curator.framework.api.CreateModable;<br/>\n    -import org.apache.curator.framework.api.PathAndBytesable;<br/>\n    -<br/>\n    -public interface TransactionCreateBuilder<T> extends</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>PathAndBytesable<T>,</li>\n\t<li>CreateModable<ACLPathAndBytesable<T>>,</li>\n\t<li>ACLPathAndBytesable<T>,</li>\n\t<li>ACLCreateModePathAndBytesable<T>,</li>\n\t<li>Compressible<ACLCreateModePathAndBytesable<T>><br/>\n    +public interface TransactionCreateBuilder<T> extends TransactionCreateBuilder2<T>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I'm sure there's a reason for this approach, but can you enlighten me as to why you don't just add the withTtl() method to the TransactionCreateBuilder and not introduce the TransactionCreateBuilder2?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757815","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757815","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757815,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T22:45:28Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114670214\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114670214</a></p>\n\n<p>    &#8212; Diff: curator-x-async/src/main/java/org/apache/curator/x/async/details/AsyncTransactionOpImpl.java &#8212;<br/>\n    @@ -77,6 +78,13 @@ public AsyncTransactionCreateBuilder create()<br/>\n }</p>\n\n<p> @Override<br/>\n    +    public AsyncPathAndBytesable<CuratorOp> withTtl(long ttl)<br/>\n    +    </p>\n{\n    +this.ttl = ttl;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n public AsyncPathAndBytesable<CuratorOp> withOptions(CreateMode createMode, List<ACL> aclList, boolean compressed)<br/>\n {<br/>\n     this.createMode = Objects.requireNonNull(createMode, \"createMode cannot be null\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Can't this just call the newly overloaded withOptions and pass in a TTL of -1?</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757825","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757825","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757825,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4MjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T22:46:55Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114670836\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114670836</a></p>\n\n<p>    &#8212; Diff: curator-x-async/src/main/java/org/apache/curator/x/async/details/AsyncTransactionOpImpl.java &#8212;<br/>\n    @@ -77,6 +78,13 @@ public AsyncTransactionCreateBuilder create()<br/>\n }</p>\n\n<p> @Override<br/>\n    +    public AsyncPathAndBytesable<CuratorOp> withTtl(long ttl)<br/>\n    +    </p>\n{\n    +this.ttl = ttl;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n public AsyncPathAndBytesable<CuratorOp> withOptions(CreateMode createMode, List<ACL> aclList, boolean compressed)<br/>\n {<br/>\n     this.createMode = Objects.requireNonNull(createMode, \"createMode cannot be null\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Yeah - that's true</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757830","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757830","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757830,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T22:50:14Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114671266\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114671266</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/api/transaction/TransactionCreateBuilder.java &#8212;<br/>\n    @@ -18,17 +18,17 @@<br/>\n      */<br/>\n     package org.apache.curator.framework.api.transaction;</p>\n\n<p>    -import org.apache.curator.framework.api.ACLCreateModePathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.ACLPathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.Compressible;<br/>\n    -import org.apache.curator.framework.api.CreateModable;<br/>\n    -import org.apache.curator.framework.api.PathAndBytesable;<br/>\n    -<br/>\n    -public interface TransactionCreateBuilder<T> extends</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>PathAndBytesable<T>,</li>\n\t<li>CreateModable<ACLPathAndBytesable<T>>,</li>\n\t<li>ACLPathAndBytesable<T>,</li>\n\t<li>ACLCreateModePathAndBytesable<T>,</li>\n\t<li>Compressible<ACLCreateModePathAndBytesable<T>><br/>\n    +public interface TransactionCreateBuilder<T> extends TransactionCreateBuilder2<T>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    What would `withTTL()` return? It could return `TransactionCreateBuilder<T>` but then you'd be able to do:</p>\n\n<p>    ```<br/>\n    client.create().withTtl<img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/error.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/>.withTtl<img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/error.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/>.withTtl<img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/error.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/>...<br/>\n    ```<br/>\n    The rest of the DSLs avoid this type of thing.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757835","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757835","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757835,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T23:06:05Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114673449\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114673449</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/api/transaction/TransactionCreateBuilder.java &#8212;<br/>\n    @@ -18,17 +18,17 @@<br/>\n      */<br/>\n     package org.apache.curator.framework.api.transaction;</p>\n\n<p>    -import org.apache.curator.framework.api.ACLCreateModePathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.ACLPathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.Compressible;<br/>\n    -import org.apache.curator.framework.api.CreateModable;<br/>\n    -import org.apache.curator.framework.api.PathAndBytesable;<br/>\n    -<br/>\n    -public interface TransactionCreateBuilder<T> extends</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>PathAndBytesable<T>,</li>\n\t<li>CreateModable<ACLPathAndBytesable<T>>,</li>\n\t<li>ACLPathAndBytesable<T>,</li>\n\t<li>ACLCreateModePathAndBytesable<T>,</li>\n\t<li>Compressible<ACLCreateModePathAndBytesable<T>><br/>\n    +public interface TransactionCreateBuilder<T> extends TransactionCreateBuilder2<T>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Yep good point.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757838","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757838","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757838,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T23:07:21Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114673589\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114673589</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/api/transaction/TransactionCreateBuilder.java &#8212;<br/>\n    @@ -18,17 +18,17 @@<br/>\n      */<br/>\n     package org.apache.curator.framework.api.transaction;</p>\n\n<p>    -import org.apache.curator.framework.api.ACLCreateModePathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.ACLPathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.Compressible;<br/>\n    -import org.apache.curator.framework.api.CreateModable;<br/>\n    -import org.apache.curator.framework.api.PathAndBytesable;<br/>\n    -<br/>\n    -public interface TransactionCreateBuilder<T> extends</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>PathAndBytesable<T>,</li>\n\t<li>CreateModable<ACLPathAndBytesable<T>>,</li>\n\t<li>ACLPathAndBytesable<T>,</li>\n\t<li>ACLCreateModePathAndBytesable<T>,</li>\n\t<li>Compressible<ACLCreateModePathAndBytesable<T>><br/>\n    +public interface TransactionCreateBuilder<T> extends TransactionCreateBuilder2<T>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    BTW - I think the original Curator DSL was good for its day but the new Async DSL is way cooler <img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/biggrin.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/> and easier to understand (I think).</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757844","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757844","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757844,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-03T23:17:27Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114674883\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114674883</a></p>\n\n<p>    &#8212; Diff: curator-framework/src/main/java/org/apache/curator/framework/api/transaction/TransactionCreateBuilder.java &#8212;<br/>\n    @@ -18,17 +18,17 @@<br/>\n      */<br/>\n     package org.apache.curator.framework.api.transaction;</p>\n\n<p>    -import org.apache.curator.framework.api.ACLCreateModePathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.ACLPathAndBytesable;<br/>\n    -import org.apache.curator.framework.api.Compressible;<br/>\n    -import org.apache.curator.framework.api.CreateModable;<br/>\n    -import org.apache.curator.framework.api.PathAndBytesable;<br/>\n    -<br/>\n    -public interface TransactionCreateBuilder<T> extends</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>PathAndBytesable<T>,</li>\n\t<li>CreateModable<ACLPathAndBytesable<T>>,</li>\n\t<li>ACLPathAndBytesable<T>,</li>\n\t<li>ACLCreateModePathAndBytesable<T>,</li>\n\t<li>Compressible<ACLCreateModePathAndBytesable<T>><br/>\n    +public interface TransactionCreateBuilder<T> extends TransactionCreateBuilder2<T>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Yeah, it looks cool, I'll have to have a play when I get some time. Unfortunately, I'm not doing anything ZK related at work at the moment, so it will have to wait for now.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757850","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757850","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757850,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-04T02:53:54Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Randgalt commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114692753\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114692753</a></p>\n\n<p>    &#8212; Diff: curator-x-async/src/main/java/org/apache/curator/x/async/details/AsyncTransactionOpImpl.java &#8212;<br/>\n    @@ -77,6 +78,13 @@ public AsyncTransactionCreateBuilder create()<br/>\n }</p>\n\n<p> @Override<br/>\n    +    public AsyncPathAndBytesable<CuratorOp> withTtl(long ttl)<br/>\n    +    </p>\n{\n    +this.ttl = ttl;\n    +return this;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n public AsyncPathAndBytesable<CuratorOp> withOptions(CreateMode createMode, List<ACL> aclList, boolean compressed)<br/>\n {<br/>\n     this.createMode = Objects.requireNonNull(createMode, \"createMode cannot be null\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757857","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757857","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757857,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4NTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-04T03:02:21Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user cammckenzie commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218#discussion_r114693246\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218#discussion_r114693246</a></p>\n\n<p>    &#8212; Diff: curator-x-async/src/main/java/org/apache/curator/x/async/details/AsyncTransactionOpImpl.java &#8212;<br/>\n    @@ -87,10 +87,7 @@ public AsyncTransactionCreateBuilder create()<br/>\n @Override<br/>\n public AsyncPathAndBytesable<CuratorOp> withOptions(CreateMode createMode, List<ACL> aclList, boolean compressed)</p>\n {\n    -this.createMode = Objects.requireNonNull(createMode, \"createMode cannot be null\");\n    -this.aclList = aclList;\n    -this.compressed = compressed;\n    -return this;\n    +return withOptions(createMode, aclList, compressed, ttl);\n }\n<p>    &#8212; End diff &#8211;</p>\n\n<p>    Ok, looks good to me.</p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757865","html_url":"https://github.com/apache/curator/issues/927#issuecomment-2604757865","issue_url":"https://api.github.com/repos/apache/curator/issues/927","id":2604757865,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MDQ3NTc4NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-04T03:04:17Z","updated_at":"2025-01-21T13:35:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/curator/pull/218\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/curator/pull/218</a></p>","reactions":{"url":"https://api.github.com/repos/apache/curator/issues/comments/2604757865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]