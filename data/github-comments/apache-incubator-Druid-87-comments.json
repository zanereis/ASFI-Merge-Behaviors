[{"url":"https://api.github.com/repos/apache/druid/issues/comments/219569214","html_url":"https://github.com/apache/druid/pull/2913#issuecomment-219569214","issue_url":"https://api.github.com/repos/apache/druid/issues/2913","id":219569214,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTU2OTIxNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T22:36:35Z","updated_at":"2016-05-16T22:36:35Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219569214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219569329","html_url":"https://github.com/apache/druid/pull/2947#issuecomment-219569329","issue_url":"https://api.github.com/repos/apache/druid/issues/2947","id":219569329,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTU2OTMyOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T22:37:13Z","updated_at":"2016-05-16T22:37:13Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219569329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219572484","html_url":"https://github.com/apache/druid/pull/2955#issuecomment-219572484","issue_url":"https://api.github.com/repos/apache/druid/issues/2955","id":219572484,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTU3MjQ4NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T22:53:52Z","updated_at":"2016-05-16T22:53:52Z","author_association":"CONTRIBUTOR","body":"@b-slim fyi, I moved the injection methodology to pull directly from `Task`\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219572484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219574852","html_url":"https://github.com/apache/druid/pull/2971#issuecomment-219574852","issue_url":"https://api.github.com/repos/apache/druid/issues/2971","id":219574852,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTU3NDg1Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T23:06:55Z","updated_at":"2016-05-16T23:06:55Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219574852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219577001","html_url":"https://github.com/apache/druid/pull/2972#issuecomment-219577001","issue_url":"https://api.github.com/repos/apache/druid/issues/2972","id":219577001,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTU3NzAwMQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T23:20:07Z","updated_at":"2016-05-16T23:20:07Z","author_association":"CONTRIBUTOR","body":"üëç  if we have more comments about how the algorithm works\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219577001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219581232","html_url":"https://github.com/apache/druid/pull/2972#issuecomment-219581232","issue_url":"https://api.github.com/repos/apache/druid/issues/2972","id":219581232,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTU4MTIzMg==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-16T23:46:35Z","updated_at":"2016-05-16T23:46:35Z","author_association":"MEMBER","body":"@fjy added a few more comments + links to the PR description in the code\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219581232/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219597087","html_url":"https://github.com/apache/druid/pull/2601#issuecomment-219597087","issue_url":"https://api.github.com/repos/apache/druid/issues/2601","id":219597087,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTU5NzA4Nw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T01:37:17Z","updated_at":"2016-05-17T01:37:17Z","author_association":"CONTRIBUTOR","body":"looks like it never was backported to 0.9.0 , I'm moving the milestone to 0.9.1\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219597087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219643936","html_url":"https://github.com/apache/druid/issues/2885#issuecomment-219643936","issue_url":"https://api.github.com/repos/apache/druid/issues/2885","id":219643936,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY0MzkzNg==","user":{"login":"zzl0","id":4735446,"node_id":"MDQ6VXNlcjQ3MzU0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/4735446?v=4","gravatar_id":"","url":"https://api.github.com/users/zzl0","html_url":"https://github.com/zzl0","followers_url":"https://api.github.com/users/zzl0/followers","following_url":"https://api.github.com/users/zzl0/following{/other_user}","gists_url":"https://api.github.com/users/zzl0/gists{/gist_id}","starred_url":"https://api.github.com/users/zzl0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzl0/subscriptions","organizations_url":"https://api.github.com/users/zzl0/orgs","repos_url":"https://api.github.com/users/zzl0/repos","events_url":"https://api.github.com/users/zzl0/events{/privacy}","received_events_url":"https://api.github.com/users/zzl0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T07:48:09Z","updated_at":"2016-05-17T07:48:09Z","author_association":"NONE","body":"@fjy @drcrallen I met this problem too, is it a feature ?!\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219643936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219645773","html_url":"https://github.com/apache/druid/pull/2972#issuecomment-219645773","issue_url":"https://api.github.com/repos/apache/druid/issues/2972","id":219645773,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY0NTc3Mw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T07:57:03Z","updated_at":"2016-05-17T07:57:03Z","author_association":"MEMBER","body":":+1:\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219645773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219668702","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219668702","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219668702,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY2ODcwMg==","user":{"login":"du00cs","id":6407028,"node_id":"MDQ6VXNlcjY0MDcwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6407028?v=4","gravatar_id":"","url":"https://api.github.com/users/du00cs","html_url":"https://github.com/du00cs","followers_url":"https://api.github.com/users/du00cs/followers","following_url":"https://api.github.com/users/du00cs/following{/other_user}","gists_url":"https://api.github.com/users/du00cs/gists{/gist_id}","starred_url":"https://api.github.com/users/du00cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/du00cs/subscriptions","organizations_url":"https://api.github.com/users/du00cs/orgs","repos_url":"https://api.github.com/users/du00cs/repos","events_url":"https://api.github.com/users/du00cs/events{/privacy}","received_events_url":"https://api.github.com/users/du00cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T09:40:38Z","updated_at":"2016-05-17T09:43:49Z","author_association":"CONTRIBUTOR","body":"@fjy @spektom I have tracked for this for days and found a way to speed up. Simplest way to solve it: change replace `targetPartitionSize` to `numShards` equal to 1 or some reasonable values.\n\n``` json\n    \"tuningConfig\": {\n      \"type\": \"hadoop\",\n      \"partitionsSpec\": {\n        \"type\": \"hashed\",\n        \"numShards\": 1,\n        \"assumeGrouped\": true\n      }\n```\n\nThe problem is that if a shard(I think it is nearly equal to say a `segment` too) contains rollup records less than `targetPartitionSize`, it will get a `NonShardSpec`. All `NonShardSpec` ones will have the same `shardNum` and same reduce. In my case, rollup records will never reach 5m at all and all records from mappers will flow to the same reducer. This slows down the indexing, especially when data is large but rollup is small.\n\nTo fix this, nonempty shards should not get a `NonShardSpec` and others remain the same. I think It is simple to do that. If I could,  I want to have a try,\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219668702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219675725","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219675725","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219675725,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY3NTcyNQ==","user":{"login":"spektom","id":158011,"node_id":"MDQ6VXNlcjE1ODAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/158011?v=4","gravatar_id":"","url":"https://api.github.com/users/spektom","html_url":"https://github.com/spektom","followers_url":"https://api.github.com/users/spektom/followers","following_url":"https://api.github.com/users/spektom/following{/other_user}","gists_url":"https://api.github.com/users/spektom/gists{/gist_id}","starred_url":"https://api.github.com/users/spektom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spektom/subscriptions","organizations_url":"https://api.github.com/users/spektom/orgs","repos_url":"https://api.github.com/users/spektom/repos","events_url":"https://api.github.com/users/spektom/events{/privacy}","received_events_url":"https://api.github.com/users/spektom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T10:12:10Z","updated_at":"2016-05-17T10:12:10Z","author_association":"NONE","body":"@du00cs we don't know how many shards it's going to create, since we're rebuilding the data for the whole time period (years) every day. We do this in order to organize events by secondary time dimension.\n\nIf I understand correctly, there are some days for which the number of output rows is less than the `targetPartitionSize`, so indexing for these days is performed in one reduce task. This is how the data segments are spread over the timeline:\n\n![screenshot from 2016-05-17 12 58 00](https://cloud.githubusercontent.com/assets/158011/15318611/82e0bff4-1c2f-11e6-9c61-6855052e687c.png)\n\nThanks for the explanation!\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219675725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219685931","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219685931","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219685931,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTY4NTkzMQ==","user":{"login":"du00cs","id":6407028,"node_id":"MDQ6VXNlcjY0MDcwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6407028?v=4","gravatar_id":"","url":"https://api.github.com/users/du00cs","html_url":"https://github.com/du00cs","followers_url":"https://api.github.com/users/du00cs/followers","following_url":"https://api.github.com/users/du00cs/following{/other_user}","gists_url":"https://api.github.com/users/du00cs/gists{/gist_id}","starred_url":"https://api.github.com/users/du00cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/du00cs/subscriptions","organizations_url":"https://api.github.com/users/du00cs/orgs","repos_url":"https://api.github.com/users/du00cs/repos","events_url":"https://api.github.com/users/du00cs/events{/privacy}","received_events_url":"https://api.github.com/users/du00cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T11:01:55Z","updated_at":"2016-05-17T11:01:55Z","author_association":"CONTRIBUTOR","body":"@spektom `numShards` do not mean 1 shard in the end total. It is the number of shards per segment, so feel free to set 1 or 2 or some else.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219685931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219709709","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219709709","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219709709,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTcwOTcwOQ==","user":{"login":"spektom","id":158011,"node_id":"MDQ6VXNlcjE1ODAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/158011?v=4","gravatar_id":"","url":"https://api.github.com/users/spektom","html_url":"https://github.com/spektom","followers_url":"https://api.github.com/users/spektom/followers","following_url":"https://api.github.com/users/spektom/following{/other_user}","gists_url":"https://api.github.com/users/spektom/gists{/gist_id}","starred_url":"https://api.github.com/users/spektom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spektom/subscriptions","organizations_url":"https://api.github.com/users/spektom/orgs","repos_url":"https://api.github.com/users/spektom/repos","events_url":"https://api.github.com/users/spektom/events{/privacy}","received_events_url":"https://api.github.com/users/spektom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T12:59:28Z","updated_at":"2016-05-17T12:59:28Z","author_association":"NONE","body":"@du00cs It worked! Thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219709709/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219733421","html_url":"https://github.com/apache/druid/issues/2329#issuecomment-219733421","issue_url":"https://api.github.com/repos/apache/druid/issues/2329","id":219733421,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTczMzQyMQ==","user":{"login":"milimetric","id":1038928,"node_id":"MDQ6VXNlcjEwMzg5Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/1038928?v=4","gravatar_id":"","url":"https://api.github.com/users/milimetric","html_url":"https://github.com/milimetric","followers_url":"https://api.github.com/users/milimetric/followers","following_url":"https://api.github.com/users/milimetric/following{/other_user}","gists_url":"https://api.github.com/users/milimetric/gists{/gist_id}","starred_url":"https://api.github.com/users/milimetric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milimetric/subscriptions","organizations_url":"https://api.github.com/users/milimetric/orgs","repos_url":"https://api.github.com/users/milimetric/repos","events_url":"https://api.github.com/users/milimetric/events{/privacy}","received_events_url":"https://api.github.com/users/milimetric/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T14:23:21Z","updated_at":"2016-05-17T14:23:44Z","author_association":"NONE","body":"Are there plans for evolving lookups to help with slowly changing dimensions?  QTL is useful if product id X is always a product called \"Rubber Duck\".  But if the product name changes to \"Rubber Ducky\" on a specific date, it would be nice to specify that the query time lookup should use the date of the \"fact table\" record when doing the lookup.  Just in case that didn't make sense:\n\ndatasource: product_sales\n\n```\n    {id: X, ts: 2013, sales: 123}\n    {id: X, ts: 2014, sales: 234}\n    {id: X, ts: 2015, sales: 345}\n```\n\nlookup: product information\n\n```\n    {ids: [X], ts: 2013, name: \"Rubber Duck\"}\n    {ids: [X], ts: 2015, name: \"Rubber Ducky\"}\n```\n\nso when grouping sales by product name, I'd expect:\n\n```\n\"Rubber Duck\": (2013 + 2014 sales) 357 in sales\n\"Rubber Ducky\": (only 2015 sales) 345 in sales\n```\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219733421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219749468","html_url":"https://github.com/apache/druid/issues/2885#issuecomment-219749468","issue_url":"https://api.github.com/repos/apache/druid/issues/2885","id":219749468,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc0OTQ2OA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T15:12:21Z","updated_at":"2016-05-17T15:12:21Z","author_association":"CONTRIBUTOR","body":"@drcrallen yes we haven't ported it yet. We actually need to rewrite all the extension installation docs for Druid\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219749468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219774592","html_url":"https://github.com/apache/druid/issues/2885#issuecomment-219774592","issue_url":"https://api.github.com/repos/apache/druid/issues/2885","id":219774592,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc3NDU5Mg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T16:29:19Z","updated_at":"2016-05-17T16:29:19Z","author_association":"CONTRIBUTOR","body":"@zzl0 no, it is a limitation of the existing pull-deps tool. Overcoming this limitation for smarter pull-deps would be a feature.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219774592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219778056","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219778056","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219778056,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc3ODA1Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T16:41:09Z","updated_at":"2016-05-17T16:41:27Z","author_association":"CONTRIBUTOR","body":"I'm actually going to re-open this until there's a bit more on the subject. I'm also curious if there was some change in 0.9.0 which modified hashing behavior.\n\nIf my understanding of your analysis is correct, you are saying the jobs which were taking crazy long times were all resulting in a none shardspec (meaning only one shard per segment interval), and when you are indexing a large number of segment intervals, all of the none shardspecs go to the same reducer?\n\n@spektom\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219778056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219778302","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219778302","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219778302,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc3ODMwMg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T16:42:02Z","updated_at":"2016-05-17T16:42:02Z","author_association":"CONTRIBUTOR","body":"@himanshug do you know of any change which would have caused this behavior in 0.9.0?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219778302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219780755","html_url":"https://github.com/apache/druid/issues/2329#issuecomment-219780755","issue_url":"https://api.github.com/repos/apache/druid/issues/2329","id":219780755,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc4MDc1NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T16:50:33Z","updated_at":"2016-05-17T16:50:33Z","author_association":"CONTRIBUTOR","body":"I have not heard that in the plans and here's why:\n\nThere is a distinction between an attribute of an event, and an attribute of something that is not an event (an attribute of an attribute .... like a name for an ID).\n\nWhat QTL is designed to handle, and what the immediate future of QTL (from our side at MMX, community discussion and contribution beyond our plans are always welcomed and encouraged) will handle is attributes of attributes. Where you have an attribute which describes an event, but that attribute is immutable. Attributes of those attributes may be mutable though. So you might have an attribute of a product being End Of Life, but suddenly it is doing well, so you extend the End Of Life, or something. The End Of Life is an attribute of the product ID, NOT of the events related to the product, and is therefore a candidate for being able to be included in QTL workflows in the current and immediate future incarnations.\n\nWhat you are describing are first class immutable attributes of events, and are not currently supported. What you CAN do is have an immutable attribute of the event be product_name_id and have that be stamped with the event, then QTL can lookup the human-friendly name.\n\nAs always, such items are open to discussion.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219780755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219791505","html_url":"https://github.com/apache/druid/pull/2971#issuecomment-219791505","issue_url":"https://api.github.com/repos/apache/druid/issues/2971","id":219791505,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc5MTUwNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T17:26:31Z","updated_at":"2016-05-17T17:26:55Z","author_association":"CONTRIBUTOR","body":"```\ntestQueryWithSegmentSpec(io.druid.segment.realtime.RealtimeManagerTest)  Time elapsed: 10.011 sec  <<< ERROR!\njava.lang.Exception: test timed out after 10000 milliseconds\n    at java.io.UnixFileSystem.createFileExclusively(Native Method)\n    at java.io.File.createTempFile(File.java:2024)\n    at java.io.File.createTempFile(File.java:2070)\n    at io.druid.segment.data.TmpFileIOPeon.makeOutputStream(TmpFileIOPeon.java:55)\n    at io.druid.segment.data.VSizeIndexedWriter.open(VSizeIndexedWriter.java:74)\n    at io.druid.segment.IndexMerger.makeIndexFiles(IndexMerger.java:775)\n    at io.druid.segment.IndexMerger.merge(IndexMerger.java:423)\n    at io.druid.segment.IndexMerger.mergeQueryableIndex(IndexMerger.java:244)\n    at io.druid.segment.IndexMerger.mergeQueryableIndex(IndexMerger.java:217)\n    at io.druid.segment.TestIndex.mergedRealtimeIndex(TestIndex.java:150)\n    at io.druid.query.QueryRunnerTestHelper.makeQueryRunners(QueryRunnerTestHelper.java:326)\n    at io.druid.segment.realtime.RealtimeManagerTest.testQueryWithSegmentSpec(RealtimeManagerTest.java:479)\n```\n\nhttps://travis-ci.org/druid-io/druid/jobs/130879520\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219791505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219792233","html_url":"https://github.com/apache/druid/pull/2971#issuecomment-219792233","issue_url":"https://api.github.com/repos/apache/druid/issues/2971","id":219792233,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc5MjIzMw==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T17:28:42Z","updated_at":"2016-05-17T17:28:42Z","author_association":"MEMBER","body":"üëç after travis\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219792233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219793246","html_url":"https://github.com/apache/druid/issues/2966#issuecomment-219793246","issue_url":"https://api.github.com/repos/apache/druid/issues/2966","id":219793246,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTc5MzI0Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T17:31:53Z","updated_at":"2016-05-17T17:31:53Z","author_association":"CONTRIBUTOR","body":"@fjy if default behavior breaks or has bad side effects over a certain size, it is not clear to me we should keep it.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219793246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219815013","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219815013","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219815013,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTgxNTAxMw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T18:45:38Z","updated_at":"2016-05-17T18:45:38Z","author_association":"CONTRIBUTOR","body":"that behavior existed pre 0.9.0 release too, i think this manifestation is not from 0.9.0 upgrade but the specific dataset . i believe, 0.8.3 release on same dataset will show same behavior.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219815013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219819116","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219819116","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219819116,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTgxOTExNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T18:59:02Z","updated_at":"2016-05-17T18:59:02Z","author_association":"CONTRIBUTOR","body":"@himanshug the log from the original comment makes it look like multiple segments are getting made by the same reducer; AFAIK that's not supposed to happen. It should be one segment per reducer, right?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219819116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219834321","html_url":"https://github.com/apache/druid/pull/2955#issuecomment-219834321","issue_url":"https://api.github.com/repos/apache/druid/issues/2955","id":219834321,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTgzNDMyMQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T19:55:45Z","updated_at":"2016-05-17T19:55:45Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219834321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219844506","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219844506","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219844506,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg0NDUwNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T20:32:27Z","updated_at":"2016-05-17T20:58:38Z","author_association":"CONTRIBUTOR","body":"@gianm there would be one segment per reducer ( but, there would be multiple intermediate persists on same reducer though which is what you probably noticed in the reducer log).\nwe need to see the druid task log really to know number of reducers started but I guess they were more than one.  From the spec printed , indexer hadoop job should have had 379 reducers.\n@spektom  can you share the druid task log?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219844506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219858919","html_url":"https://github.com/apache/druid/pull/2955#issuecomment-219858919","issue_url":"https://api.github.com/repos/apache/druid/issues/2955","id":219858919,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg1ODkxOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T21:25:09Z","updated_at":"2016-05-17T21:25:09Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219858919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219860178","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219860178","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219860178,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg2MDE3OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T21:29:41Z","updated_at":"2016-05-17T21:29:41Z","author_association":"CONTRIBUTOR","body":"@himanshug i'm looking at the log that @spektom posted in the original comment; it has a lot of \"upload complete\" messages for different segments. assuming that log is from a single reducer, that seems suspicious.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219860178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219860363","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219860363","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219860363,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg2MDM2Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T21:30:24Z","updated_at":"2016-05-17T21:30:24Z","author_association":"CONTRIBUTOR","body":"@spektom do you have a copy of the Druid task log? (What you get when you click \"log (all)\" next to a task in the overlord)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219860363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219867253","html_url":"https://github.com/apache/druid/pull/2980#issuecomment-219867253","issue_url":"https://api.github.com/repos/apache/druid/issues/2980","id":219867253,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg2NzI1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T21:59:37Z","updated_at":"2016-05-17T21:59:37Z","author_association":"CONTRIBUTOR","body":"I like the name QueryGranularities better than QueryGranularityUtil but otherwise üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219867253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219867802","html_url":"https://github.com/apache/druid/pull/2980#issuecomment-219867802","issue_url":"https://api.github.com/repos/apache/druid/issues/2980","id":219867802,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg2NzgwMg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T22:02:06Z","updated_at":"2016-05-17T22:02:06Z","author_association":"CONTRIBUTOR","body":"Added a test which showcases the bug. I can switch the class from util --> granularities. give me 1 sec\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219867802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219872933","html_url":"https://github.com/apache/druid/pull/2980#issuecomment-219872933","issue_url":"https://api.github.com/repos/apache/druid/issues/2980","id":219872933,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg3MjkzMw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T22:26:21Z","updated_at":"2016-05-17T22:26:21Z","author_association":"CONTRIBUTOR","body":"marking as incompatible because it may require extensions to change their class\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219872933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219875587","html_url":"https://github.com/apache/druid/pull/2955#issuecomment-219875587","issue_url":"https://api.github.com/repos/apache/druid/issues/2955","id":219875587,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg3NTU4Nw==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T22:39:40Z","updated_at":"2016-05-17T22:39:40Z","author_association":"MEMBER","body":"üëç after travis\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219875587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219878249","html_url":"https://github.com/apache/druid/pull/2926#issuecomment-219878249","issue_url":"https://api.github.com/repos/apache/druid/issues/2926","id":219878249,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg3ODI0OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T22:54:31Z","updated_at":"2016-05-17T22:54:31Z","author_association":"CONTRIBUTOR","body":"@b-slim are there particular blocking issues here? I'm not convinced the tests will translate well.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219878249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219883321","html_url":"https://github.com/apache/druid/pull/2980#issuecomment-219883321","issue_url":"https://api.github.com/repos/apache/druid/issues/2980","id":219883321,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg4MzMyMQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-17T23:23:38Z","updated_at":"2016-05-17T23:23:38Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219883321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219897156","html_url":"https://github.com/apache/druid/issues/2965#issuecomment-219897156","issue_url":"https://api.github.com/repos/apache/druid/issues/2965","id":219897156,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTg5NzE1Ng==","user":{"login":"javasoze","id":168714,"node_id":"MDQ6VXNlcjE2ODcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/168714?v=4","gravatar_id":"","url":"https://api.github.com/users/javasoze","html_url":"https://github.com/javasoze","followers_url":"https://api.github.com/users/javasoze/followers","following_url":"https://api.github.com/users/javasoze/following{/other_user}","gists_url":"https://api.github.com/users/javasoze/gists{/gist_id}","starred_url":"https://api.github.com/users/javasoze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javasoze/subscriptions","organizations_url":"https://api.github.com/users/javasoze/orgs","repos_url":"https://api.github.com/users/javasoze/repos","events_url":"https://api.github.com/users/javasoze/events{/privacy}","received_events_url":"https://api.github.com/users/javasoze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T00:56:23Z","updated_at":"2016-05-18T00:56:23Z","author_association":"CONTRIBUTOR","body":"I see Druid as two very abstract parts:\n\n1) A distributed system that handles realtime ingestion into and manages realtime segments.\n2) A storage and querying engine for realtime event data.\n\nWith the current implementation, power of 1) can not be fully leveraged since it can ONLY understand segments created by 2), which I find limiting.\n\nThis proposal separates 1) and 2) into a clean and isolated pieces that can be iterated on separately and as a result, making druid more extensible and powerful.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219897156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219907220","html_url":"https://github.com/apache/druid/issues/2885#issuecomment-219907220","issue_url":"https://api.github.com/repos/apache/druid/issues/2885","id":219907220,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkwNzIyMA==","user":{"login":"zzl0","id":4735446,"node_id":"MDQ6VXNlcjQ3MzU0NDY=","avatar_url":"https://avatars.githubusercontent.com/u/4735446?v=4","gravatar_id":"","url":"https://api.github.com/users/zzl0","html_url":"https://github.com/zzl0","followers_url":"https://api.github.com/users/zzl0/followers","following_url":"https://api.github.com/users/zzl0/following{/other_user}","gists_url":"https://api.github.com/users/zzl0/gists{/gist_id}","starred_url":"https://api.github.com/users/zzl0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzl0/subscriptions","organizations_url":"https://api.github.com/users/zzl0/orgs","repos_url":"https://api.github.com/users/zzl0/repos","events_url":"https://api.github.com/users/zzl0/events{/privacy}","received_events_url":"https://api.github.com/users/zzl0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T02:15:07Z","updated_at":"2016-05-18T02:15:07Z","author_association":"NONE","body":"@drcrallen thanks for your explanation\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219907220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219911618","html_url":"https://github.com/apache/druid/pull/2981#issuecomment-219911618","issue_url":"https://api.github.com/repos/apache/druid/issues/2981","id":219911618,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkxMTYxOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T02:49:43Z","updated_at":"2016-05-18T02:49:43Z","author_association":"CONTRIBUTOR","body":"@xvrl the old code doesn't look buggy to me; queries get Segments from getAndIncrementSegment which is synchronized with swapSegment. If a query had got the Segment, then the \"close\" in swapSegment will just decrement the refcount, not actually close the segment.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219911618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219911671","html_url":"https://github.com/apache/druid/pull/2981#issuecomment-219911671","issue_url":"https://api.github.com/repos/apache/druid/issues/2981","id":219911671,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkxMTY3MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T02:50:06Z","updated_at":"2016-05-18T02:50:06Z","author_association":"CONTRIBUTOR","body":"do you have a stack trace of the error you're seeing?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219911671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219917572","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219917572","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219917572,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkxNzU3Mg==","user":{"login":"spektom","id":158011,"node_id":"MDQ6VXNlcjE1ODAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/158011?v=4","gravatar_id":"","url":"https://api.github.com/users/spektom","html_url":"https://github.com/spektom","followers_url":"https://api.github.com/users/spektom/followers","following_url":"https://api.github.com/users/spektom/following{/other_user}","gists_url":"https://api.github.com/users/spektom/gists{/gist_id}","starred_url":"https://api.github.com/users/spektom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spektom/subscriptions","organizations_url":"https://api.github.com/users/spektom/orgs","repos_url":"https://api.github.com/users/spektom/repos","events_url":"https://api.github.com/users/spektom/events{/privacy}","received_events_url":"https://api.github.com/users/spektom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T03:41:08Z","updated_at":"2016-05-18T03:41:08Z","author_association":"NONE","body":"@drcrallen Attaching [log.gz](https://github.com/druid-io/druid/files/269607/log.gz)\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219917572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219919109","html_url":"https://github.com/apache/druid/pull/2983#issuecomment-219919109","issue_url":"https://api.github.com/repos/apache/druid/issues/2983","id":219919109,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkxOTEwOQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T03:56:06Z","updated_at":"2016-05-18T03:56:06Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219919109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219919617","html_url":"https://github.com/apache/druid/pull/2983#issuecomment-219919617","issue_url":"https://api.github.com/repos/apache/druid/issues/2983","id":219919617,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkxOTYxNw==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T04:01:25Z","updated_at":"2016-05-18T04:01:25Z","author_association":"MEMBER","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219919617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219922359","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219922359","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219922359,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkyMjM1OQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T04:29:23Z","updated_at":"2016-05-18T04:29:23Z","author_association":"CONTRIBUTOR","body":"@spektom that does not seem to have much of task log, generally task log for hadoop index task would contain task definition json, details of the hadoop jobs launched, their counter etc. Did you get it from the overlord console for the task in question?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219922359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219923344","html_url":"https://github.com/apache/druid/pull/2981#issuecomment-219923344","issue_url":"https://api.github.com/repos/apache/druid/issues/2981","id":219923344,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkyMzM0NA==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T04:39:10Z","updated_at":"2016-05-18T04:39:10Z","author_association":"MEMBER","body":"my bad, this issue was already fixed in https://github.com/druid-io/druid/pull/2301 and was just looking at some old logs\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219923344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219925440","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219925440","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219925440,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkyNTQ0MA==","user":{"login":"spektom","id":158011,"node_id":"MDQ6VXNlcjE1ODAxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/158011?v=4","gravatar_id":"","url":"https://api.github.com/users/spektom","html_url":"https://github.com/spektom","followers_url":"https://api.github.com/users/spektom/followers","following_url":"https://api.github.com/users/spektom/following{/other_user}","gists_url":"https://api.github.com/users/spektom/gists{/gist_id}","starred_url":"https://api.github.com/users/spektom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spektom/subscriptions","organizations_url":"https://api.github.com/users/spektom/orgs","repos_url":"https://api.github.com/users/spektom/repos","events_url":"https://api.github.com/users/spektom/events{/privacy}","received_events_url":"https://api.github.com/users/spektom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T04:59:18Z","updated_at":"2016-05-18T04:59:26Z","author_association":"NONE","body":"@himanshug  No, I've got it from the deep storage (under indexing-logs/\nfolder)\n\nOn Wed, May 18, 2016 at 7:29 AM, Himanshu notifications@github.com wrote:\n\n> @spektom https://github.com/spektom that does not seem to have much of\n> task log, generally task log for hadoop index task would contain task\n> definition json, details of the hadoop jobs launched, their counter etc.\n> Did you get it from the overlord console for the task in question?\n> \n> ‚Äî\n> You are receiving this because you were mentioned.\n> Reply to this email directly or view it on GitHub\n> https://github.com/druid-io/druid/issues/2906#issuecomment-219922359\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219925440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219939835","html_url":"https://github.com/apache/druid/pull/2938#issuecomment-219939835","issue_url":"https://api.github.com/repos/apache/druid/issues/2938","id":219939835,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkzOTgzNQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T06:46:55Z","updated_at":"2016-05-18T06:46:55Z","author_association":"MEMBER","body":"üëç , only a minor nit: https://github.com/druid-io/druid/pull/2938#discussion_r63653046\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219939835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219939976","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219939976","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219939976,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTkzOTk3Ng==","user":{"login":"du00cs","id":6407028,"node_id":"MDQ6VXNlcjY0MDcwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6407028?v=4","gravatar_id":"","url":"https://api.github.com/users/du00cs","html_url":"https://github.com/du00cs","followers_url":"https://api.github.com/users/du00cs/followers","following_url":"https://api.github.com/users/du00cs/following{/other_user}","gists_url":"https://api.github.com/users/du00cs/gists{/gist_id}","starred_url":"https://api.github.com/users/du00cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/du00cs/subscriptions","organizations_url":"https://api.github.com/users/du00cs/orgs","repos_url":"https://api.github.com/users/du00cs/repos","events_url":"https://api.github.com/users/du00cs/events{/privacy}","received_events_url":"https://api.github.com/users/du00cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T06:47:43Z","updated_at":"2016-05-18T06:47:43Z","author_association":"CONTRIBUTOR","body":"@himanshug @gianm I run across the same problem as @spektom. I tracked for some while and finally located it.\n\nIn `DetermineHashedPartitionsJob` If a segment (after rollup) has less records than `targetPartition` it will get a `NonShardSpec` and a unique shardNum. This is ok, but when `IndexGeneratorJob` rebuilds the configurations from the former stage, it lost the `shardNum`. Because all the `NonShardSpec` will be put into a `Map<ShardSpec, HadoopyShardSpec> hadoopShardSpecLookup`, and this lead to all `NonShardSpec` shards to have the same `shardNum` and finally actually only one reduce working.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219939976/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219953450","html_url":"https://github.com/apache/druid/pull/2984#issuecomment-219953450","issue_url":"https://api.github.com/repos/apache/druid/issues/2984","id":219953450,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTk1MzQ1MA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T07:57:54Z","updated_at":"2016-05-18T07:57:54Z","author_association":"MEMBER","body":"could you add a test also ? \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219953450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219955643","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219955643","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219955643,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTk1NTY0Mw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T08:08:51Z","updated_at":"2016-05-18T08:08:51Z","author_association":"MEMBER","body":"replacing NoneShardSpec with HashBasedNumberedShardSpec works for now since HashBasedNumberedShardSpec does not implement equals method, this seems very fragile way of fixing things that can break in unexpected ways if someone adds an equals method to all the ShardSpecs, \n\nIMHO, It seems the actual issue is with the `Map<ShardSpec, HadoopyShardSpec> hadoopShardSpecLookup` being used as a data structure in HadoopDruidIndexerConfig which is not accounting for interval for which the shardSpec belong to.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219955643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219959286","html_url":"https://github.com/apache/druid/pull/2978#issuecomment-219959286","issue_url":"https://api.github.com/repos/apache/druid/issues/2978","id":219959286,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTk1OTI4Ng==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T08:26:09Z","updated_at":"2016-05-18T08:26:09Z","author_association":"MEMBER","body":":+1:\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219959286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219962583","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-219962583","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":219962583,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTk2MjU4Mw==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T08:41:00Z","updated_at":"2016-05-18T08:41:00Z","author_association":"MEMBER","body":"#2985 has the changes i am referring to. in my comment\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219962583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/219977407","html_url":"https://github.com/apache/druid/issues/2970#issuecomment-219977407","issue_url":"https://api.github.com/repos/apache/druid/issues/2970","id":219977407,"node_id":"MDEyOklzc3VlQ29tbWVudDIxOTk3NzQwNw==","user":{"login":"valenpo","id":1099203,"node_id":"MDQ6VXNlcjEwOTkyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/1099203?v=4","gravatar_id":"","url":"https://api.github.com/users/valenpo","html_url":"https://github.com/valenpo","followers_url":"https://api.github.com/users/valenpo/followers","following_url":"https://api.github.com/users/valenpo/following{/other_user}","gists_url":"https://api.github.com/users/valenpo/gists{/gist_id}","starred_url":"https://api.github.com/users/valenpo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/valenpo/subscriptions","organizations_url":"https://api.github.com/users/valenpo/orgs","repos_url":"https://api.github.com/users/valenpo/repos","events_url":"https://api.github.com/users/valenpo/events{/privacy}","received_events_url":"https://api.github.com/users/valenpo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T09:45:42Z","updated_at":"2016-05-18T09:45:42Z","author_association":"NONE","body":"@fjy thanks. Will follow you recommendations. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/219977407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220024457","html_url":"https://github.com/apache/druid/pull/2985#issuecomment-220024457","issue_url":"https://api.github.com/repos/apache/druid/issues/2985","id":220024457,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDAyNDQ1Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T13:24:02Z","updated_at":"2016-05-18T13:24:02Z","author_association":"CONTRIBUTOR","body":"üëç other than minor comments\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220024457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220026384","html_url":"https://github.com/apache/druid/pull/2985#issuecomment-220026384","issue_url":"https://api.github.com/repos/apache/druid/issues/2985","id":220026384,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDAyNjM4NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T13:31:22Z","updated_at":"2016-05-18T13:31:22Z","author_association":"CONTRIBUTOR","body":"Looks like this bug has been around for a long time, but the behavior from #2906 was new in 0.9.0 due to https://github.com/druid-io/druid-api/commit/95b5557583f38423a3c0a3f1504795a3bdeed917. Beforehand this bug was often masked because different NoneShardSpec instances, even though they were all equal, would often have different hashCodes and so the map could store a few of them without them colliding.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220026384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220027424","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-220027424","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":220027424,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDAyNzQyNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T13:35:01Z","updated_at":"2016-05-18T13:35:01Z","author_association":"CONTRIBUTOR","body":"Great catch @du00cs, and thanks @spektom for the report!\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220027424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220027854","html_url":"https://github.com/apache/druid/pull/2985#issuecomment-220027854","issue_url":"https://api.github.com/repos/apache/druid/issues/2985","id":220027854,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDAyNzg1NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T13:36:36Z","updated_at":"2016-05-18T13:36:36Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51 btw, is it possible to have a test for this?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220027854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220028299","html_url":"https://github.com/apache/druid/pull/2984#issuecomment-220028299","issue_url":"https://api.github.com/repos/apache/druid/issues/2984","id":220028299,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDAyODI5OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T13:38:13Z","updated_at":"2016-05-18T13:38:13Z","author_association":"CONTRIBUTOR","body":"@du00cs I think the fix in #2985 is a cleaner fix, that existing `hadoopShardSpecLookup` map is really suspicious as-is. The ShardSpec isn't in general going to be unique across the entire job, only within an interval. thanks a lot for finding the problem though.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220028299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220092310","html_url":"https://github.com/apache/druid/pull/2984#issuecomment-220092310","issue_url":"https://api.github.com/repos/apache/druid/issues/2984","id":220092310,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDA5MjMxMA==","user":{"login":"du00cs","id":6407028,"node_id":"MDQ6VXNlcjY0MDcwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6407028?v=4","gravatar_id":"","url":"https://api.github.com/users/du00cs","html_url":"https://github.com/du00cs","followers_url":"https://api.github.com/users/du00cs/followers","following_url":"https://api.github.com/users/du00cs/following{/other_user}","gists_url":"https://api.github.com/users/du00cs/gists{/gist_id}","starred_url":"https://api.github.com/users/du00cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/du00cs/subscriptions","organizations_url":"https://api.github.com/users/du00cs/orgs","repos_url":"https://api.github.com/users/du00cs/repos","events_url":"https://api.github.com/users/du00cs/events{/privacy}","received_events_url":"https://api.github.com/users/du00cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T17:02:02Z","updated_at":"2016-05-18T17:02:02Z","author_association":"CONTRIBUTOR","body":"I should argue that ShardSpec is now unique across the entire job, but cleaner fix is always more welcome. Happy to see the quick fix by @nishantmonu51 \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220092310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220092963","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-220092963","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":220092963,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDA5Mjk2Mw==","user":{"login":"du00cs","id":6407028,"node_id":"MDQ6VXNlcjY0MDcwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6407028?v=4","gravatar_id":"","url":"https://api.github.com/users/du00cs","html_url":"https://github.com/du00cs","followers_url":"https://api.github.com/users/du00cs/followers","following_url":"https://api.github.com/users/du00cs/following{/other_user}","gists_url":"https://api.github.com/users/du00cs/gists{/gist_id}","starred_url":"https://api.github.com/users/du00cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/du00cs/subscriptions","organizations_url":"https://api.github.com/users/du00cs/orgs","repos_url":"https://api.github.com/users/du00cs/repos","events_url":"https://api.github.com/users/du00cs/events{/privacy}","received_events_url":"https://api.github.com/users/du00cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T17:04:20Z","updated_at":"2016-05-18T17:04:20Z","author_association":"CONTRIBUTOR","body":"Nice quick fix. Thanks @nishantmonu51 , the bug confused me a lot.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220092963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220101495","html_url":"https://github.com/apache/druid/pull/2926#issuecomment-220101495","issue_url":"https://api.github.com/repos/apache/druid/issues/2926","id":220101495,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDEwMTQ5NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T17:34:52Z","updated_at":"2016-05-18T17:34:52Z","author_association":"CONTRIBUTOR","body":"```\nTests run: 16, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 31.362 sec <<< FAILURE! - in io.druid.indexing.overlord.RemoteTaskRunnerTest\ntestRunSameAvailabilityGroup(io.druid.indexing.overlord.RemoteTaskRunnerTest)  Time elapsed: 2.208 sec  <<< FAILURE!\njava.lang.AssertionError: null\n    at org.junit.Assert.fail(Assert.java:86)\n    at org.junit.Assert.assertTrue(Assert.java:41)\n    at org.junit.Assert.assertTrue(Assert.java:52)\n    at io.druid.indexing.overlord.RemoteTaskRunnerTest.testRunSameAvailabilityGroup(RemoteTaskRunnerTest.java:202)\n\n```\n\ntransient failure\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220101495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220127470","html_url":"https://github.com/apache/druid/pull/2985#issuecomment-220127470","issue_url":"https://api.github.com/repos/apache/druid/issues/2985","id":220127470,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDEyNzQ3MA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T19:08:13Z","updated_at":"2016-05-18T19:08:13Z","author_association":"MEMBER","body":"@gianm @drcrallen: Added test and handled review comments\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220127470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220136412","html_url":"https://github.com/apache/druid/pull/2985#issuecomment-220136412","issue_url":"https://api.github.com/repos/apache/druid/issues/2985","id":220136412,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDEzNjQxMg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T19:43:32Z","updated_at":"2016-05-18T19:43:32Z","author_association":"CONTRIBUTOR","body":":+1:\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220136412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220137855","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-220137855","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":220137855,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDEzNzg1NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T19:49:29Z","updated_at":"2016-05-18T19:49:38Z","author_association":"CONTRIBUTOR","body":"@du00cs thanks for investigating and finding the cause. @gianm I was looking at the behavior of using none shard spec in the case of less rows than targetPartitionSize which existed since before, thanks for pursuing this.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220137855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220140021","html_url":"https://github.com/apache/druid/pull/2985#issuecomment-220140021","issue_url":"https://api.github.com/repos/apache/druid/issues/2985","id":220140021,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE0MDAyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T19:57:56Z","updated_at":"2016-05-18T19:57:56Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220140021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220144942","html_url":"https://github.com/apache/druid/issues/2906#issuecomment-220144942","issue_url":"https://api.github.com/repos/apache/druid/issues/2906","id":220144942,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE0NDk0Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T20:16:57Z","updated_at":"2016-05-18T20:16:57Z","author_association":"CONTRIBUTOR","body":"Fixed by #2985\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220144942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220149336","html_url":"https://github.com/apache/druid/pull/2988#issuecomment-220149336","issue_url":"https://api.github.com/repos/apache/druid/issues/2988","id":220149336,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE0OTMzNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T20:33:18Z","updated_at":"2016-05-18T20:33:18Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220149336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220149941","html_url":"https://github.com/apache/druid/pull/2988#issuecomment-220149941","issue_url":"https://api.github.com/repos/apache/druid/issues/2988","id":220149941,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE0OTk0MQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T20:35:28Z","updated_at":"2016-05-18T20:35:28Z","author_association":"MEMBER","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220149941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220155962","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220155962","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220155962,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE1NTk2Mg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T20:58:17Z","updated_at":"2016-05-18T20:58:17Z","author_association":"CONTRIBUTOR","body":":+1: sounds good, I would imagine still having a limit maxResultSizeBytes used at historicals while merging results from runners to prevent somebody from overloading historical with a very large query.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220155962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220165733","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220165733","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220165733,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE2NTczMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T21:36:46Z","updated_at":"2016-05-18T21:36:46Z","author_association":"CONTRIBUTOR","body":"yeah, I think that'd be useful, or even a config to disable temporary disk storage. In that case the processing buffer size acts as a limit on how much we can group.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220165733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220167006","html_url":"https://github.com/apache/druid/pull/2525#issuecomment-220167006","issue_url":"https://api.github.com/repos/apache/druid/issues/2525","id":220167006,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE2NzAwNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T21:42:19Z","updated_at":"2016-05-18T21:42:19Z","author_association":"CONTRIBUTOR","body":"Moving this to 0.9.2. @navis Please let us know when you get a chance to look at this PR again.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220167006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220184590","html_url":"https://github.com/apache/druid/pull/2864#issuecomment-220184590","issue_url":"https://api.github.com/repos/apache/druid/issues/2864","id":220184590,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE4NDU5MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T23:08:22Z","updated_at":"2016-05-18T23:08:22Z","author_association":"CONTRIBUTOR","body":"closing this for now, hopefully can resolve conflicts and reopen later.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220184590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220185102","html_url":"https://github.com/apache/druid/pull/2864#issuecomment-220185102","issue_url":"https://api.github.com/repos/apache/druid/issues/2864","id":220185102,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE4NTEwMg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-18T23:11:45Z","updated_at":"2016-05-18T23:11:45Z","author_association":"CONTRIBUTOR","body":"don't forget to open before you push or else you'll not be able to open the PR again.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220185102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220199318","html_url":"https://github.com/apache/druid/pull/2525#issuecomment-220199318","issue_url":"https://api.github.com/repos/apache/druid/issues/2525","id":220199318,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDE5OTMxOA==","user":{"login":"navis","id":809395,"node_id":"MDQ6VXNlcjgwOTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/809395?v=4","gravatar_id":"","url":"https://api.github.com/users/navis","html_url":"https://github.com/navis","followers_url":"https://api.github.com/users/navis/followers","following_url":"https://api.github.com/users/navis/following{/other_user}","gists_url":"https://api.github.com/users/navis/gists{/gist_id}","starred_url":"https://api.github.com/users/navis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navis/subscriptions","organizations_url":"https://api.github.com/users/navis/orgs","repos_url":"https://api.github.com/users/navis/repos","events_url":"https://api.github.com/users/navis/events{/privacy}","received_events_url":"https://api.github.com/users/navis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T00:48:08Z","updated_at":"2016-05-19T00:48:08Z","author_association":"CONTRIBUTOR","body":"@fjy As commented in https://github.com/druid-io/druid/pull/2525#discussion_r62967078, I really don't want doing `instanceOf` for all of the inputs.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220199318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220200665","html_url":"https://github.com/apache/druid/pull/2836#issuecomment-220200665","issue_url":"https://api.github.com/repos/apache/druid/issues/2836","id":220200665,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDIwMDY2NQ==","user":{"login":"navis","id":809395,"node_id":"MDQ6VXNlcjgwOTM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/809395?v=4","gravatar_id":"","url":"https://api.github.com/users/navis","html_url":"https://github.com/navis","followers_url":"https://api.github.com/users/navis/followers","following_url":"https://api.github.com/users/navis/following{/other_user}","gists_url":"https://api.github.com/users/navis/gists{/gist_id}","starred_url":"https://api.github.com/users/navis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/navis/subscriptions","organizations_url":"https://api.github.com/users/navis/orgs","repos_url":"https://api.github.com/users/navis/repos","events_url":"https://api.github.com/users/navis/events{/privacy}","received_events_url":"https://api.github.com/users/navis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T00:58:40Z","updated_at":"2016-05-19T00:58:40Z","author_association":"CONTRIBUTOR","body":"rebased and refactored to be looked less awful\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220200665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220242643","html_url":"https://github.com/apache/druid/issues/2989#issuecomment-220242643","issue_url":"https://api.github.com/repos/apache/druid/issues/2989","id":220242643,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDI0MjY0Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T06:56:03Z","updated_at":"2016-05-19T06:56:03Z","author_association":"CONTRIBUTOR","body":"Sounds like we should probably leave the \"alphanumeric\" comparator untouched, but add a \"numeric\" comparator, and update the docs for bound, topN, and groupBy to clarify what the comparators do. Would also be nice to have some tests for the alphanumeric comparator, I don't see any right now.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220242643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220244589","html_url":"https://github.com/apache/druid/pull/2913#issuecomment-220244589","issue_url":"https://api.github.com/repos/apache/druid/issues/2913","id":220244589,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDI0NDU4OQ==","user":{"login":"javasoze","id":168714,"node_id":"MDQ6VXNlcjE2ODcxNA==","avatar_url":"https://avatars.githubusercontent.com/u/168714?v=4","gravatar_id":"","url":"https://api.github.com/users/javasoze","html_url":"https://github.com/javasoze","followers_url":"https://api.github.com/users/javasoze/followers","following_url":"https://api.github.com/users/javasoze/following{/other_user}","gists_url":"https://api.github.com/users/javasoze/gists{/gist_id}","starred_url":"https://api.github.com/users/javasoze/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/javasoze/subscriptions","organizations_url":"https://api.github.com/users/javasoze/orgs","repos_url":"https://api.github.com/users/javasoze/repos","events_url":"https://api.github.com/users/javasoze/events{/privacy}","received_events_url":"https://api.github.com/users/javasoze/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T07:08:24Z","updated_at":"2016-05-19T07:08:24Z","author_association":"CONTRIBUTOR","body":"@fjy Do you mean the log.warn()?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220244589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220245321","html_url":"https://github.com/apache/druid/issues/2989#issuecomment-220245321","issue_url":"https://api.github.com/repos/apache/druid/issues/2989","id":220245321,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDI0NTMyMQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T07:13:11Z","updated_at":"2016-05-19T07:13:11Z","author_association":"CONTRIBUTOR","body":"Yep, as @gianm said I did not suggest removing alphanumeric. It's cool. I just want something that would work for decimals and negatives\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220245321/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220277871","html_url":"https://github.com/apache/druid/issues/2965#issuecomment-220277871","issue_url":"https://api.github.com/repos/apache/druid/issues/2965","id":220277871,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDI3Nzg3MQ==","user":{"login":"binlijin","id":1531353,"node_id":"MDQ6VXNlcjE1MzEzNTM=","avatar_url":"https://avatars.githubusercontent.com/u/1531353?v=4","gravatar_id":"","url":"https://api.github.com/users/binlijin","html_url":"https://github.com/binlijin","followers_url":"https://api.github.com/users/binlijin/followers","following_url":"https://api.github.com/users/binlijin/following{/other_user}","gists_url":"https://api.github.com/users/binlijin/gists{/gist_id}","starred_url":"https://api.github.com/users/binlijin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/binlijin/subscriptions","organizations_url":"https://api.github.com/users/binlijin/orgs","repos_url":"https://api.github.com/users/binlijin/repos","events_url":"https://api.github.com/users/binlijin/events{/privacy}","received_events_url":"https://api.github.com/users/binlijin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T09:48:22Z","updated_at":"2016-05-19T09:48:22Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220277871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220339206","html_url":"https://github.com/apache/druid/issues/2991#issuecomment-220339206","issue_url":"https://api.github.com/repos/apache/druid/issues/2991","id":220339206,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDMzOTIwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T14:22:00Z","updated_at":"2016-05-19T14:22:00Z","author_association":"CONTRIBUTOR","body":"Multi-threaded add in IncrementalIndex exists because it is also used for groupBy, which does multi-threaded merging of partial results. In #2987 I'm suggesting no longer using IncrementalIndex for groupBy, which could mean IncrementalIndex might not have to support multi-threaded adds anymore.\n\nBtw, out of curiosity why would you use longMax for building but longSum for querying?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220339206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220376906","html_url":"https://github.com/apache/druid/issues/2992#issuecomment-220376906","issue_url":"https://api.github.com/repos/apache/druid/issues/2992","id":220376906,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM3NjkwNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T16:21:17Z","updated_at":"2016-05-19T16:21:17Z","author_association":"CONTRIBUTOR","body":"context is https://github.com/druid-io/druid/pull/2926#discussion_r63897059\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220376906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220387854","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220387854","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220387854,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM4Nzg1NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:00:56Z","updated_at":"2016-05-19T17:00:56Z","author_association":"CONTRIBUTOR","body":"((maybe too deep of a question at this level)) Does this mean the query results to be merged can be put into the off-heap buffer without doing deserialization from historicals?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220387854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220388982","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220388982","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220388982,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM4ODk4Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:05:03Z","updated_at":"2016-05-19T17:10:53Z","author_association":"CONTRIBUTOR","body":"@drcrallen I don't understand the question, put into which off-heap buffer by what?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220388982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220389615","html_url":"https://github.com/apache/druid/pull/2990#issuecomment-220389615","issue_url":"https://api.github.com/repos/apache/druid/issues/2990","id":220389615,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM4OTYxNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:07:39Z","updated_at":"2016-05-19T17:09:48Z","author_association":"CONTRIBUTOR","body":"Hi @javasoze thanks for the PR, the discussion in #2965  is about getting rid of \n\n``` java\n    public QueryableIndex asQueryableIndex();\n    public StorageAdapter asStorageAdapter();\n```\n\nMy understanding of the state of the discussion is that having only `<T> T as(Class<T> clazz);` is fine as long as there is clear javadoc explanations on the limitations of using anything other than `StorageAdapter` or `QueryableIndex`.\n\nAs such the `Segment` interface should have the methods in question removed, and the javadoc for the functionality of `as` needs expanded greatly.\n\nAlso the import formatting seems off, can you run it against https://github.com/druid-io/druid/blob/master/druid_intellij_formatting.xml ?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220389615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220390033","html_url":"https://github.com/apache/druid/pull/2990#issuecomment-220390033","issue_url":"https://api.github.com/repos/apache/druid/issues/2990","id":220390033,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5MDAzMw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:09:12Z","updated_at":"2016-05-19T17:09:12Z","author_association":"CONTRIBUTOR","body":"@drcrallen I think you meant #2965 not #2987\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220390033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220390253","html_url":"https://github.com/apache/druid/pull/2990#issuecomment-220390253","issue_url":"https://api.github.com/repos/apache/druid/issues/2990","id":220390253,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5MDI1Mw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:09:59Z","updated_at":"2016-05-19T17:09:59Z","author_association":"CONTRIBUTOR","body":"@gianm yes fixed, silly git auto-filling\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220390253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220390986","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220390986","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220390986,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5MDk4Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:12:49Z","updated_at":"2016-05-19T17:12:49Z","author_association":"CONTRIBUTOR","body":"Thinking about it more I think I was asking the wrong kind of question. I was getting at a question about if results are going to be serialized multiple times if they are all stored off-heap, but I think I mis-understood what part of the results go into the ByteBuffer blocking pool. \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220390986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220391102","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220391102","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220391102,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5MTEwMg==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:13:18Z","updated_at":"2016-05-19T17:13:18Z","author_association":"CONTRIBUTOR","body":"Other question: Does this just push the \"do I have enough memory?\" question from the heap size to the individual `BlockingPool<ByteBuffer>` buffer size?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220391102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220392131","html_url":"https://github.com/apache/druid/issues/2989#issuecomment-220392131","issue_url":"https://api.github.com/repos/apache/druid/issues/2989","id":220392131,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5MjEzMQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:17:15Z","updated_at":"2016-05-19T17:17:15Z","author_association":"CONTRIBUTOR","body":"I should also add that I think it makes sense for the boudns filter API to change from:\n\n``` json\n{\n  \"...\": \"...\",\n  \"alphaNumeric\": true\n}\n```\n\nto:\n\n``` json\n{\n  \"...\": \"...\",\n  \"compare\": \"lexicographic OR alphaNumeric OR numeric\"\n}\n```\n\nwith `\"alphaNumeric\": true` translating to `\"compare\": \"alphaNumeric\"` for backwards compatibility\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220392131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220392694","html_url":"https://github.com/apache/druid/issues/2965#issuecomment-220392694","issue_url":"https://api.github.com/repos/apache/druid/issues/2965","id":220392694,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5MjY5NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:19:20Z","updated_at":"2016-05-19T17:19:20Z","author_association":"CONTRIBUTOR","body":"To be clear üëç  on the proposal, but the wording of the javadoc contract for `as` needs to be very clear on what the expectations of acceptable parameters are.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220392694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220393359","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220393359","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220393359,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5MzM1OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:21:55Z","updated_at":"2016-05-19T17:23:33Z","author_association":"CONTRIBUTOR","body":"Yes, pretty much, although the behavior when the answer is \"no\" is better ‚Äì¬†the query will not start until it can allocate the memory it needs, instead of throwing OOME somewhere in the middle.\n\nThe problem the merge pool is trying to solve is that the `@Global StupidPool<ByteBuffer>` is used by processing threads and bad things happen if it is used by anything that is not a processing thread, or if it is used more than once by a processing thread (allocations without bound, deep in the query runner stack).\n\nThe merger needs to allocate a buffer that is usable by processing threads, but is not associated with any one of them in particular. If it drew from the `@Global StupidPool<ByteBuffer>` then we could potentially draw as many of those buffers as we have jetty threads, which is a whole lot of buffers. IMO it's better to use a limited-size blocking pool such that queries that need merge buffers need to wait until one is available before they start running.\n\nSo with that strategy, the max number of buffers would be something like `druid.processing.numThreads + druid.processing.numMergeBuffers` rather than `druid.processing.numThreads` or `druid.processing.numThreads + druid.server.http.numThreads`.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220393359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220395445","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220395445","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220395445,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5NTQ0NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:29:25Z","updated_at":"2016-05-19T17:29:25Z","author_association":"CONTRIBUTOR","body":"@gianm How are you wanting to handle the blocking merge pool's ByteBuffers? Are the individual pool elements dynamically expandable?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220395445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220397452","html_url":"https://github.com/apache/druid/issues/2987#issuecomment-220397452","issue_url":"https://api.github.com/repos/apache/druid/issues/2987","id":220397452,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDM5NzQ1Mg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T17:36:35Z","updated_at":"2016-05-19T17:36:35Z","author_association":"CONTRIBUTOR","body":"I was thinking they would be fixed size just like the processing buffers (probably the same size to keep things simple). If a merge buffer isn't big enough to do the merging work, the query could either fail or it could write to temp files on disk (query's choice). If however much disk space we allow the queries to use is ALSO not enough then the query fails.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220397452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220405485","html_url":"https://github.com/apache/druid/pull/2525#issuecomment-220405485","issue_url":"https://api.github.com/repos/apache/druid/issues/2525","id":220405485,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQwNTQ4NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T18:05:22Z","updated_at":"2016-05-19T18:05:22Z","author_association":"CONTRIBUTOR","body":"@navis can you explain a bit more about needing to support floats and longs? Why not just have doubles be the default of storing variance? Is it to save storage space?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220405485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220431542","html_url":"https://github.com/apache/druid/issues/2994#issuecomment-220431542","issue_url":"https://api.github.com/repos/apache/druid/issues/2994","id":220431542,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQzMTU0Mg==","user":{"login":"redlion99","id":936350,"node_id":"MDQ6VXNlcjkzNjM1MA==","avatar_url":"https://avatars.githubusercontent.com/u/936350?v=4","gravatar_id":"","url":"https://api.github.com/users/redlion99","html_url":"https://github.com/redlion99","followers_url":"https://api.github.com/users/redlion99/followers","following_url":"https://api.github.com/users/redlion99/following{/other_user}","gists_url":"https://api.github.com/users/redlion99/gists{/gist_id}","starred_url":"https://api.github.com/users/redlion99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/redlion99/subscriptions","organizations_url":"https://api.github.com/users/redlion99/orgs","repos_url":"https://api.github.com/users/redlion99/repos","events_url":"https://api.github.com/users/redlion99/events{/privacy}","received_events_url":"https://api.github.com/users/redlion99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T19:44:40Z","updated_at":"2016-05-19T19:44:40Z","author_association":"NONE","body":"druid.selectors.coordinator.serviceName is required since 0.8.3\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220431542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220449400","html_url":"https://github.com/apache/druid/pull/2995#issuecomment-220449400","issue_url":"https://api.github.com/repos/apache/druid/issues/2995","id":220449400,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQ0OTQwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T20:55:18Z","updated_at":"2016-05-19T20:55:18Z","author_association":"CONTRIBUTOR","body":"üëç \n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220449400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220454813","html_url":"https://github.com/apache/druid/pull/2819#issuecomment-220454813","issue_url":"https://api.github.com/repos/apache/druid/issues/2819","id":220454813,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQ1NDgxMw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T21:17:21Z","updated_at":"2016-05-19T21:17:21Z","author_association":"CONTRIBUTOR","body":"@drcrallen i have added the streaming capabilities, can you please check this ?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220454813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220464397","html_url":"https://github.com/apache/druid/pull/2926#issuecomment-220464397","issue_url":"https://api.github.com/repos/apache/druid/issues/2926","id":220464397,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQ2NDM5Nw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T22:00:31Z","updated_at":"2016-05-19T22:00:31Z","author_association":"CONTRIBUTOR","body":"@drcrallen there is some minor open comments i think, otherwise looks good to me, can you ask someone from MTX to take a final look tonight and i will do last pass tomorrow ?\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220464397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220476621","html_url":"https://github.com/apache/druid/pull/2996#issuecomment-220476621","issue_url":"https://api.github.com/repos/apache/druid/issues/2996","id":220476621,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQ3NjYyMQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T23:09:04Z","updated_at":"2016-05-19T23:09:04Z","author_association":"CONTRIBUTOR","body":"Travis went crazy: `The command \"eval git clone --depth=50 --branch=nicerLogOnMoveError https://github.com/druid-io/druid.git druid-io/druid\" failed. Retrying, 2 of 3.`\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220476621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220483501","html_url":"https://github.com/apache/druid/issues/2997#issuecomment-220483501","issue_url":"https://api.github.com/repos/apache/druid/issues/2997","id":220483501,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQ4MzUwMQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-19T23:56:33Z","updated_at":"2016-05-19T23:56:33Z","author_association":"CONTRIBUTOR","body":"This should probably go against https://github.com/metamx/bytebuffer-collections/\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220483501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/220484934","html_url":"https://github.com/apache/druid/issues/2997#issuecomment-220484934","issue_url":"https://api.github.com/repos/apache/druid/issues/2997","id":220484934,"node_id":"MDEyOklzc3VlQ29tbWVudDIyMDQ4NDkzNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-20T00:06:34Z","updated_at":"2016-05-20T00:06:34Z","author_association":"CONTRIBUTOR","body":"@drcrallen \n\nI'll close this then, the issue is now at:\nhttps://github.com/metamx/bytebuffer-collections/issues/31\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/220484934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]