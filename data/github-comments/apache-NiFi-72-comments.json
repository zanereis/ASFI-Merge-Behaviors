[{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353098533","html_url":"https://github.com/apache/nifi/pull/2351#issuecomment-353098533","issue_url":"https://api.github.com/repos/apache/nifi/issues/2351","id":353098533,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzA5ODUzMw==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-20T15:44:17Z","updated_at":"2017-12-20T15:52:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the commit, great stuff!  Do you think the processing of the stack for each record will be ok in terms of performance impact?  I wonder if we'd be better off building a tree when building a component map, along with another \"index\" map from component id -> node in the tree. It might replace the need for other \"inheritance\" maps or property maps (as the node could hold the properties). Then we can get the component and traverse to the root during the filter?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353098533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353247371","html_url":"https://github.com/apache/nifi/pull/2351#issuecomment-353247371","issue_url":"https://api.github.com/repos/apache/nifi/issues/2351","id":353247371,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzI0NzM3MQ==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-21T03:16:08Z","updated_at":"2017-12-21T03:16:08Z","author_association":"MEMBER","body":"@mattyb149 Good catch. Yeah, simple ProcessGroupID tree structure would help optimizing lookup at filtering. Please add that and squash commits, then I'll do a final review and merge it. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353247371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353352622","html_url":"https://github.com/apache/nifi/pull/2355#issuecomment-353352622","issue_url":"https://api.github.com/repos/apache/nifi/issues/2355","id":353352622,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzM1MjYyMg==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-21T13:37:42Z","updated_at":"2017-12-21T13:37:42Z","author_association":"CONTRIBUTOR","body":"+1, merging to master, thanks @ijokarumawak ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353352622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353359471","html_url":"https://github.com/apache/nifi/pull/2354#issuecomment-353359471","issue_url":"https://api.github.com/repos/apache/nifi/issues/2354","id":353359471,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzM1OTQ3MQ==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-21T14:08:13Z","updated_at":"2017-12-21T14:08:13Z","author_association":"CONTRIBUTOR","body":"+1, confirmed that default system timestamp precision is set as expected, merging to master, thanks @ijokarumawak ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353359471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353401596","html_url":"https://github.com/apache/nifi/pull/2310#issuecomment-353401596","issue_url":"https://api.github.com/repos/apache/nifi/issues/2310","id":353401596,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzQwMTU5Ng==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-21T16:56:09Z","updated_at":"2017-12-21T16:56:09Z","author_association":"CONTRIBUTOR","body":"OK... So I've been doing some tests and it's working as I'd expect. The only remark I have is in terms of performances: ingestion rate is very low (and creating a lot of \"dropped\") but it might be explained because I'm running everything locally (?).\r\n\r\nFor anyone interested to try this PR. I've been following the quick start [here](http://druid.io/docs/0.11.0/tutorials/quickstart.html). And I've been using this [workflow](https://gist.github.com/pvillard31/29956e9d7292551f9e8328bb62cbeb6c). (you'd need to update the ExecuteProcess processor to use the correct path pointing to the quickstart script generating data)\r\n\r\nOnce data is ingested into Druid, I'm issuing requests to get top 25 servers from the metrics we are ingesting:\r\n\r\n````json\r\n{\r\n  \"queryType\" : \"topN\",\r\n  \"dataSource\" : \"metrics\",\r\n  \"intervals\" : [\"2017-01-01/2017-12-31\"],\r\n  \"granularity\" : \"all\",\r\n  \"dimension\" : \"server\",\r\n  \"metric\" : \"count\",\r\n  \"threshold\" : 25,\r\n  \"aggregations\" : [\r\n    {\r\n      \"type\" : \"longSum\",\r\n      \"name\" : \"count\",\r\n      \"fieldName\" : \"count\"\r\n    }\r\n  ]\r\n}\r\n````\r\n\r\nResult:\r\n\r\n````shell\r\n$ curl -L -H'Content-Type: application/json' -XPOST --data-binary @quickstart/metrics.json http://localhost:8082/druid/v2/?pretty\r\n[ {\r\n  \"timestamp\" : \"2017-12-21T16:28:00.000Z\",\r\n  \"result\" : [ {\r\n    \"count\" : 2518,\r\n    \"server\" : \"www5.example.com\"\r\n  }, {\r\n    \"count\" : 2505,\r\n    \"server\" : \"www1.example.com\"\r\n  }, {\r\n    \"count\" : 2494,\r\n    \"server\" : \"www2.example.com\"\r\n  }, {\r\n    \"count\" : 2467,\r\n    \"server\" : \"www4.example.com\"\r\n  }, {\r\n    \"count\" : 2466,\r\n    \"server\" : \"www3.example.com\"\r\n  } ]\r\n} ]\r\n````\r\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353401596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353446761","html_url":"https://github.com/apache/nifi/pull/2310#issuecomment-353446761","issue_url":"https://api.github.com/repos/apache/nifi/issues/2310","id":353446761,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzQ0Njc2MQ==","user":{"login":"vvaks0","id":16780537,"node_id":"MDQ6VXNlcjE2NzgwNTM3","avatar_url":"https://avatars.githubusercontent.com/u/16780537?v=4","gravatar_id":"","url":"https://api.github.com/users/vvaks0","html_url":"https://github.com/vvaks0","followers_url":"https://api.github.com/users/vvaks0/followers","following_url":"https://api.github.com/users/vvaks0/following{/other_user}","gists_url":"https://api.github.com/users/vvaks0/gists{/gist_id}","starred_url":"https://api.github.com/users/vvaks0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvaks0/subscriptions","organizations_url":"https://api.github.com/users/vvaks0/orgs","repos_url":"https://api.github.com/users/vvaks0/repos","events_url":"https://api.github.com/users/vvaks0/events{/privacy}","received_events_url":"https://api.github.com/users/vvaks0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-21T20:12:18Z","updated_at":"2017-12-21T20:12:18Z","author_association":"NONE","body":"@pvillard31 You are likely seeing a lot of dropped events because the timestamps in the events are out of synch with the server clock. If your segment granularity is set to 10 minutes, late window set to 1 minute and the event timestamp is more than 11 minutes out of synch with the server time, that data is considered \"late\" (since the target index task will have closed). What kind of ingestion rates on what input volume? Are you seeing a lot of queuing? Can you check your middle manager configuration/resource allocation?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353446761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353505592","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-353505592","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":353505592,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzUwNTU5Mg==","user":{"login":"JPercivall","id":11302527,"node_id":"MDQ6VXNlcjExMzAyNTI3","avatar_url":"https://avatars.githubusercontent.com/u/11302527?v=4","gravatar_id":"","url":"https://api.github.com/users/JPercivall","html_url":"https://github.com/JPercivall","followers_url":"https://api.github.com/users/JPercivall/followers","following_url":"https://api.github.com/users/JPercivall/following{/other_user}","gists_url":"https://api.github.com/users/JPercivall/gists{/gist_id}","starred_url":"https://api.github.com/users/JPercivall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JPercivall/subscriptions","organizations_url":"https://api.github.com/users/JPercivall/orgs","repos_url":"https://api.github.com/users/JPercivall/repos","events_url":"https://api.github.com/users/JPercivall/events{/privacy}","received_events_url":"https://api.github.com/users/JPercivall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-22T02:15:59Z","updated_at":"2017-12-22T02:15:59Z","author_association":"CONTRIBUTOR","body":"Not sure if I should comment here or capture in a new ticket since this PR is so big but from the Registry Clients page, it would be nice to have an icon to click to open the Registry in a new tab.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353505592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353510030","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-353510030","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":353510030,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzUxMDAzMA==","user":{"login":"JPercivall","id":11302527,"node_id":"MDQ6VXNlcjExMzAyNTI3","avatar_url":"https://avatars.githubusercontent.com/u/11302527?v=4","gravatar_id":"","url":"https://api.github.com/users/JPercivall","html_url":"https://github.com/JPercivall","followers_url":"https://api.github.com/users/JPercivall/followers","following_url":"https://api.github.com/users/JPercivall/following{/other_user}","gists_url":"https://api.github.com/users/JPercivall/gists{/gist_id}","starred_url":"https://api.github.com/users/JPercivall/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JPercivall/subscriptions","organizations_url":"https://api.github.com/users/JPercivall/orgs","repos_url":"https://api.github.com/users/JPercivall/repos","events_url":"https://api.github.com/users/JPercivall/events{/privacy}","received_events_url":"https://api.github.com/users/JPercivall/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-22T02:53:45Z","updated_at":"2017-12-22T02:53:45Z","author_association":"CONTRIBUTOR","body":"Small bug with the visuals on nested flows:\r\n\r\n- Start with a versioned flow that contains a nested versioned flow. Both are up to date.\r\n- Make a change to the nested flow.\r\n- Notice that it correctly has the \"*\" saying it has local uncommitted changes.\r\n- Go to the top versioned flow, notice that it says that it is still up to date.\r\n\r\nThis is different than if the nested flow wasn't versioned. In that case, the top level properly shows the \"*\".\r\n\r\nFortunately, if I go to commit the top level versioned flow it correctly tells me I can't because I have a nested versioned flow with uncommitted changes.\r\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353510030/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353595543","html_url":"https://github.com/apache/nifi/pull/222#issuecomment-353595543","issue_url":"https://api.github.com/repos/apache/nifi/issues/222","id":353595543,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzU5NTU0Mw==","user":{"login":"jugi92","id":7531816,"node_id":"MDQ6VXNlcjc1MzE4MTY=","avatar_url":"https://avatars.githubusercontent.com/u/7531816?v=4","gravatar_id":"","url":"https://api.github.com/users/jugi92","html_url":"https://github.com/jugi92","followers_url":"https://api.github.com/users/jugi92/followers","following_url":"https://api.github.com/users/jugi92/following{/other_user}","gists_url":"https://api.github.com/users/jugi92/gists{/gist_id}","starred_url":"https://api.github.com/users/jugi92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugi92/subscriptions","organizations_url":"https://api.github.com/users/jugi92/orgs","repos_url":"https://api.github.com/users/jugi92/repos","events_url":"https://api.github.com/users/jugi92/events{/privacy}","received_events_url":"https://api.github.com/users/jugi92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-22T13:10:02Z","updated_at":"2017-12-22T13:10:41Z","author_association":"CONTRIBUTOR","body":"I understand that Apache Nifi can not deliver custom solutions for individual proprietary JMS providers. But as I understood, the dynamic property was build exactly for the purpose to set custom attributes of the Connection Factory as mentioned in the Documentation:\r\n[JMSConnectionFactoryProvider](https://nifi.apache.org/docs/nifi-docs/components/org.apache.nifi/nifi-jms-cf-service-nar/1.4.0/org.apache.nifi.jms.cf.JMSConnectionFactoryProvider/index.html)\r\n\r\n So the question is if this is working for other providers and the implementation on Tibco Site does not allow the dynamic setting of attributes or is it a problem in Nifi that it does not call the set Method of the attribute correctly?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353595543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353596461","html_url":"https://github.com/apache/nifi/pull/222#issuecomment-353596461","issue_url":"https://api.github.com/repos/apache/nifi/issues/222","id":353596461,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzU5NjQ2MQ==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-22T13:16:05Z","updated_at":"2017-12-22T13:16:05Z","author_association":"CONTRIBUTOR","body":"@jugi92 you're right that the NIFi support for dynamic/custom attributes to help with Vendor differences.  However, even in that case it appears (though I've not personally verified) that this isn't enough in the Tibco case for getting TLS setup propertly for them.  For the NiFi method to work the custom attributes need to correspond to bean properties/setters.  If their approach requires more awareness then it will require a specific component for them.  I am aware of plenty of NiFi/Tibco integrations but they're outside of Apache at this point given what Mike highlighted above.\r\n\r\nIf you are able to investigate the Tibco TLS setup requirements and see what the gap is perhaps it can be done in a vendor neutral way","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353596461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353597389","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-353597389","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":353597389,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzU5NzM4OQ==","user":{"login":"mcgilman","id":123395,"node_id":"MDQ6VXNlcjEyMzM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/123395?v=4","gravatar_id":"","url":"https://api.github.com/users/mcgilman","html_url":"https://github.com/mcgilman","followers_url":"https://api.github.com/users/mcgilman/followers","following_url":"https://api.github.com/users/mcgilman/following{/other_user}","gists_url":"https://api.github.com/users/mcgilman/gists{/gist_id}","starred_url":"https://api.github.com/users/mcgilman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcgilman/subscriptions","organizations_url":"https://api.github.com/users/mcgilman/orgs","repos_url":"https://api.github.com/users/mcgilman/repos","events_url":"https://api.github.com/users/mcgilman/events{/privacy}","received_events_url":"https://api.github.com/users/mcgilman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-22T13:21:43Z","updated_at":"2017-12-22T13:21:43Z","author_association":"CONTRIBUTOR","body":"@JPercivall Thanks for taking the time to check this out. The behavior your seeing regarding the propagation of the local modification indicator is correct. When there is a nested version Process Group, it's state reflects on its node on the canvas. On the parent Process Group, you can see aggregate counts (on the bottom or it's node) to know that there are nested versioned Process Groups in various states. Additionally, version actions on the parent Process Group are disabled. Once the nested versioned Process Group has been committed, then the parent Process Group become dirty and would require a commit of the new version coordinates of the nested version Process Group.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353597389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353605575","html_url":"https://github.com/apache/nifi/pull/2359#issuecomment-353605575","issue_url":"https://api.github.com/repos/apache/nifi/issues/2359","id":353605575,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzYwNTU3NQ==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-22T14:12:22Z","updated_at":"2017-12-22T14:12:22Z","author_association":"CONTRIBUTOR","body":"I have done a decent bit of local testing but would like to perform more testing before merging this to master. Creating pull request so that those who may be interested can test to see how this affects performance and ensure that all is still correct.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353605575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353638027","html_url":"https://github.com/apache/nifi/pull/222#issuecomment-353638027","issue_url":"https://api.github.com/repos/apache/nifi/issues/222","id":353638027,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzYzODAyNw==","user":{"login":"jugi92","id":7531816,"node_id":"MDQ6VXNlcjc1MzE4MTY=","avatar_url":"https://avatars.githubusercontent.com/u/7531816?v=4","gravatar_id":"","url":"https://api.github.com/users/jugi92","html_url":"https://github.com/jugi92","followers_url":"https://api.github.com/users/jugi92/followers","following_url":"https://api.github.com/users/jugi92/following{/other_user}","gists_url":"https://api.github.com/users/jugi92/gists{/gist_id}","starred_url":"https://api.github.com/users/jugi92/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jugi92/subscriptions","organizations_url":"https://api.github.com/users/jugi92/orgs","repos_url":"https://api.github.com/users/jugi92/repos","events_url":"https://api.github.com/users/jugi92/events{/privacy}","received_events_url":"https://api.github.com/users/jugi92/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-22T17:04:11Z","updated_at":"2017-12-22T17:04:11Z","author_association":"CONTRIBUTOR","body":"I found out that it works if the SSL Context Service is configured correctly and the dynamic property is provided as shown below:\r\n\r\nProperty | Value\r\n----------|-----------\r\nSSL Context Service | SSLContextServiceForJMS\r\nSSLTrustedCertificate | /path/to/TrustedCertificate.cer\r\n\r\nSo the dynamic attributes are a really valuable thing.\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353638027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353667702","html_url":"https://github.com/apache/nifi/pull/2113#issuecomment-353667702","issue_url":"https://api.github.com/repos/apache/nifi/issues/2113","id":353667702,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzY2NzcwMg==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-22T20:13:09Z","updated_at":"2017-12-22T20:13:09Z","author_association":"CONTRIBUTOR","body":"@mattyb149  I think I got your changes done now. I renamed a few classes to remove obvious references to ElasticSearch 5.X because the goal is to make it an obvious fit with 6.X too now that that is out.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353667702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353737706","html_url":"https://github.com/apache/nifi/pull/2357#issuecomment-353737706","issue_url":"https://api.github.com/repos/apache/nifi/issues/2357","id":353737706,"node_id":"MDEyOklzc3VlQ29tbWVudDM1MzczNzcwNg==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-23T17:16:06Z","updated_at":"2017-12-23T17:16:06Z","author_association":"CONTRIBUTOR","body":"+1, merging to master, thanks @apiri ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353737706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353746116","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-353746116","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":353746116,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mzc0NjExNg==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-23T20:22:05Z","updated_at":"2017-12-23T20:22:05Z","author_association":"MEMBER","body":"> use UGI.loginUserFromKeytab. This brings those components in line with daemon-process-style usage, made possible by NiFi's InstanceClassloader isolation. Relogin (on ticket expiry/connection failure) can now be properly handled by hadoop-client code implicitly.\r\n\r\nInteresting. I'm trying to understand how to state this problem outside the context of NiFi (because the fix still confounds me). It seems like what's being stated is: when `UserGroupInformation.loginUserFromKeytabAndReturnUGI()` is used, the implicit re-login code called inside of the HDFS client code (e.g. `Client$Connection#handleSaslConnectionFailure()`) does the wrong thing. Looking at this again:\r\n\r\n```java\r\nif (UserGroupInformation.isLoginKeytabBased()) {\r\n  UserGroupInformation.getLoginUser().reloginFromKeytab();\r\n} else if (UserGroupInformation.isLoginTicketBased()) {\r\n  UserGroupInformation.getLoginUser().reloginFromTicketCache();\r\n}\r\n```\r\n\r\nSeems to paint a pretty clear picture as to why, when the loginUser isn't the one we're executing the call as, the relogin fails. Makes me wonder why HDFS isn't doing a `getCurrentUser()` instead of the `getLoginUser()`...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353746116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353746203","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-353746203","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":353746203,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mzc0NjIwMw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-23T20:23:50Z","updated_at":"2017-12-23T20:23:50Z","author_association":"MEMBER","body":"Corollary: can this be reproduced outside the context of NiFi now that a solution in NiFi was observed? Maybe that's a pending action item? :)","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353746203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353748883","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-353748883","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":353748883,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mzc0ODg4Mw==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-23T21:21:05Z","updated_at":"2017-12-23T21:21:05Z","author_association":"CONTRIBUTOR","body":"I think the primary observed scenario was that when using {code}UserGroupInformation.loginUserFromKeytabAndReturnUGI(){code} the UGI static member 'loginUser' was not being set.  The 'user' object's 'login' was being set in the created UGI instance (non static).  As a result explicit logins were working but implicit (hadoop initiated ones) appeared not be.  We could get the lockup in that case to happen within 30 mins or so.  Once we switched to using the loginFromKeytab/getCurrentUser the static member variable of UGI was set and the flow would work for hours then again lockup.  Now, keep in mind here we had created a thread that ran every 60 seconds to do an explicit relogin and the hadoop client which would automatically do it when necessary. In tracing through that scenario what it appears was happening is a race condition on the 'subject' object whereby we'd do a relogin which clears out the subject (as a logout is called) and in that time we likely conducted a hadoop operation which triggered hadoop subject login but the context was wiped and so it ended up in the promptForName.  That is the working theory.\r\n\r\nThe results so far are very promising.\r\n\r\nOne should be able to pretty easily replicate what NiFi is/was doing outside of NiFi in so far as interaction with HDFS.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353748883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353791922","html_url":"https://github.com/apache/nifi/pull/2175#issuecomment-353791922","issue_url":"https://api.github.com/repos/apache/nifi/issues/2175","id":353791922,"node_id":"MDEyOklzc3VlQ29tbWVudDM1Mzc5MTkyMg==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-24T16:05:57Z","updated_at":"2017-12-24T16:05:57Z","author_association":"CONTRIBUTOR","body":"> Are you seeing \"not-found-updates\" as failures, and \"not-found-deletes\" as successful? If so then are you ok with that behavior? I'm tending towards keeping it that way.\r\n\r\nAbsolutely. I think it is natural behavior and makes validating flows easier. For example, if you run through a bulk delete once and then replay it to verify nothing was left, you don't want a success message in the first case and a failure message in the latter if both deletes cleanly executed.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/353791922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354021299","html_url":"https://github.com/apache/nifi/pull/2284#issuecomment-354021299","issue_url":"https://api.github.com/repos/apache/nifi/issues/2284","id":354021299,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDAyMTI5OQ==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-26T22:43:58Z","updated_at":"2017-12-26T22:43:58Z","author_association":"CONTRIBUTOR","body":"@mosermw can you rebase and force push so we can get travis to do its thing.\r\n\r\nWe need someone to review.  It *might* be best to make it smaller by leaving these new methods unsupported/unused in the existing processors if I'm understanding that right.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354021299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354023188","html_url":"https://github.com/apache/nifi/pull/2028#issuecomment-354023188","issue_url":"https://api.github.com/repos/apache/nifi/issues/2028","id":354023188,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDAyMzE4OA==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-26T23:07:37Z","updated_at":"2017-12-26T23:07:37Z","author_association":"CONTRIBUTOR","body":"@WilliamNouet  can you please see my last set of comments.  A rebase and some progress on the licensing will be necessary. I can definitely help that.  I have some time over the next couple of days and this is one I'd be happy to try and knock out if time allows.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354023188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354128342","html_url":"https://github.com/apache/nifi/pull/1637#issuecomment-354128342","issue_url":"https://api.github.com/repos/apache/nifi/issues/1637","id":354128342,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDEyODM0Mg==","user":{"login":"mosermw","id":10587698,"node_id":"MDQ6VXNlcjEwNTg3Njk4","avatar_url":"https://avatars.githubusercontent.com/u/10587698?v=4","gravatar_id":"","url":"https://api.github.com/users/mosermw","html_url":"https://github.com/mosermw","followers_url":"https://api.github.com/users/mosermw/followers","following_url":"https://api.github.com/users/mosermw/following{/other_user}","gists_url":"https://api.github.com/users/mosermw/gists{/gist_id}","starred_url":"https://api.github.com/users/mosermw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mosermw/subscriptions","organizations_url":"https://api.github.com/users/mosermw/orgs","repos_url":"https://api.github.com/users/mosermw/repos","events_url":"https://api.github.com/users/mosermw/events{/privacy}","received_events_url":"https://api.github.com/users/mosermw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-27T15:19:08Z","updated_at":"2017-12-27T15:19:08Z","author_association":"MEMBER","body":"Bump.  I had forgotten about this, but it looks like it can still merge cleanly.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354128342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354130092","html_url":"https://github.com/apache/nifi/pull/2284#issuecomment-354130092","issue_url":"https://api.github.com/repos/apache/nifi/issues/2284","id":354130092,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDEzMDA5Mg==","user":{"login":"mosermw","id":10587698,"node_id":"MDQ6VXNlcjEwNTg3Njk4","avatar_url":"https://avatars.githubusercontent.com/u/10587698?v=4","gravatar_id":"","url":"https://api.github.com/users/mosermw","html_url":"https://github.com/mosermw","followers_url":"https://api.github.com/users/mosermw/followers","following_url":"https://api.github.com/users/mosermw/following{/other_user}","gists_url":"https://api.github.com/users/mosermw/gists{/gist_id}","starred_url":"https://api.github.com/users/mosermw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mosermw/subscriptions","organizations_url":"https://api.github.com/users/mosermw/orgs","repos_url":"https://api.github.com/users/mosermw/repos","events_url":"https://api.github.com/users/mosermw/events{/privacy}","received_events_url":"https://api.github.com/users/mosermw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-27T15:31:40Z","updated_at":"2017-12-27T15:31:40Z","author_association":"MEMBER","body":"Thank you Joe and Koji for taking a look at this.  I struggled with deciding whether to provide a default UnsupportedOperationException or to provide the new methods in the various DistributedMapCacheClient implementations.  I will happily change this PR to go with the UnsupportedOperationException route.  Give me a little time to make the changes and force push, but it should be a much smaller PR and easier to review.\r\n\r\nI agree that a keySet method could become problematic in a distributed Map environment.  However I believe it's important to provide as much of the Java Map interface in the distributed Map as we can, and let the implementer beware of the potential problems.  I do know some folks who have extended DistributedMapCacheClient with their own implementations, and I would like the keySet method to exist to support them.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354130092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354184344","html_url":"https://github.com/apache/nifi/pull/2180#issuecomment-354184344","issue_url":"https://api.github.com/repos/apache/nifi/issues/2180","id":354184344,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDE4NDM0NA==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-27T22:03:45Z","updated_at":"2017-12-27T22:03:45Z","author_association":"CONTRIBUTOR","body":"@mattyb149 If you get a chance, could you take a look? I just rebased it against master.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354184344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354188979","html_url":"https://github.com/apache/nifi/pull/2284#issuecomment-354188979","issue_url":"https://api.github.com/repos/apache/nifi/issues/2284","id":354188979,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDE4ODk3OQ==","user":{"login":"mosermw","id":10587698,"node_id":"MDQ6VXNlcjEwNTg3Njk4","avatar_url":"https://avatars.githubusercontent.com/u/10587698?v=4","gravatar_id":"","url":"https://api.github.com/users/mosermw","html_url":"https://github.com/mosermw","followers_url":"https://api.github.com/users/mosermw/followers","following_url":"https://api.github.com/users/mosermw/following{/other_user}","gists_url":"https://api.github.com/users/mosermw/gists{/gist_id}","starred_url":"https://api.github.com/users/mosermw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mosermw/subscriptions","organizations_url":"https://api.github.com/users/mosermw/orgs","repos_url":"https://api.github.com/users/mosermw/repos","events_url":"https://api.github.com/users/mosermw/events{/privacy}","received_events_url":"https://api.github.com/users/mosermw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-27T22:44:10Z","updated_at":"2017-12-27T22:44:10Z","author_association":"MEMBER","body":"I rebased and force pushed the discussed changes.  It appears that the Travis failure is unrelated?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354188979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354207212","html_url":"https://github.com/apache/nifi/pull/2284#issuecomment-354207212","issue_url":"https://api.github.com/repos/apache/nifi/issues/2284","id":354207212,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDIwNzIxMg==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T00:59:12Z","updated_at":"2017-12-28T00:59:12Z","author_association":"MEMBER","body":"@mosermw Thank you for updating the PR, it's much easier to review now. The code implemented at DistributedMapCacheClientService and MapCacheServer looks good to me. Travis error should be fine as the failure looks depending on execution condition.\r\n\r\nHowever, let me ask one more time since adding methods is easy but hard to remove afterwards for things like this. Are all of these three methods, `removeAndGet`, `removeByPatternAndGet` and `keySet` required by the folks you know of? I prefer to minimize the addition as those methods are only supported by DistributedMapCacheClientService, which means those will not be used by most developers who write Processors. Also, it confuses such developers which to choose from `remove` and `removeAndGet`. Probably I imagine these concerns are what made you struggle with implementing default method to just throw UnsupportedOperationException.\r\n\r\nIf there is no significant needs for `removeAndGet` and `removeByPatternAndGet`, then I'd prefer omit these method from DistributedMapCacheClient interface. As long as we support `keySet`, pretty much everything can be done at the caller side. The only benefit to have AndGet methods I am aware of is reducing the network traffic, and atomicity (atomicity is not that important in these method IMHO). Do you think those are more important than adding mostly unsupported methods into a common interface?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354207212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354289283","html_url":"https://github.com/apache/nifi/pull/2284#issuecomment-354289283","issue_url":"https://api.github.com/repos/apache/nifi/issues/2284","id":354289283,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDI4OTI4Mw==","user":{"login":"devriesb","id":1944264,"node_id":"MDQ6VXNlcjE5NDQyNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1944264?v=4","gravatar_id":"","url":"https://api.github.com/users/devriesb","html_url":"https://github.com/devriesb","followers_url":"https://api.github.com/users/devriesb/followers","following_url":"https://api.github.com/users/devriesb/following{/other_user}","gists_url":"https://api.github.com/users/devriesb/gists{/gist_id}","starred_url":"https://api.github.com/users/devriesb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/devriesb/subscriptions","organizations_url":"https://api.github.com/users/devriesb/orgs","repos_url":"https://api.github.com/users/devriesb/repos","events_url":"https://api.github.com/users/devriesb/events{/privacy}","received_events_url":"https://api.github.com/users/devriesb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T13:35:27Z","updated_at":"2017-12-28T13:35:27Z","author_association":"CONTRIBUTOR","body":"Koji,\n\n\"Are all of these three methods, removeAndGet, removeByPatternAndGet and\nkeySet required by the folks you know of?\" - Yes.\n\n\"atomicity is not that important in these method IMHO\" - I think you'll\nfind not everyone shares that opinion.\n\nUltimately, removeAndGet behaves the same as the remove() method of the\njava Map interface, which is the behavior I (and I would suspect many\nothers) would expect.  While I understand providing a \"flavor\" of this\nmethod that does not return the removed value to save network traffic, I\nwould have preferred those be named differently.  However, since we're now\nlocked into \"remove\" not returning the removed value, \"removeAndGet\" is\nlikely as good as we're going to get.\n\nBrandon\n\n\n\nOn Wed, Dec 27, 2017 at 7:59 PM Koji Kawamura <notifications@github.com>\nwrote:\n\n> @mosermw <https://github.com/mosermw> Thank you for updating the PR, it's\n> much easier to review now. The code implemented at\n> DistributedMapCacheClientService and MapCacheServer looks good to me.\n> Travis error should be fine as the failure looks depending on execution\n> condition.\n>\n> However, let me ask one more time since adding methods is easy but hard to\n> remove afterwards for things like this. Are all of these three methods,\n> removeAndGet, removeByPatternAndGet and keySet required by the folks you\n> know of? I prefer to minimize the addition as those methods are only\n> supported by DistributedMapCacheClientService, which means those will not\n> be used by most developers who write Processors. Also, it confuses such\n> developers which to choose from remove and removeAndGet. Probably I\n> imagine these concerns are what made you struggle with implementing default\n> method to just throw UnsupportedOperationException.\n>\n> If there is no significant needs for removeAndGet and\n> removeByPatternAndGet, then I'd prefer omit these method from\n> DistributedMapCacheClient interface. As long as we support keySet, pretty\n> much everything can be done at the caller side. The only benefit to have\n> AndGet methods I am aware of is reducing the network traffic, and atomicity\n> (atomicity is not that important in these method IMHO). Do you think those\n> are more important than adding mostly unsupported methods into a common\n> interface?\n>\n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/nifi/pull/2284#issuecomment-354207212>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AB2qyBEO72vOhV9p-2HcFIUoAS3_UM9xks5tEufigaJpZM4Qmhur>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354289283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354304873","html_url":"https://github.com/apache/nifi/pull/2284#issuecomment-354304873","issue_url":"https://api.github.com/repos/apache/nifi/issues/2284","id":354304873,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDMwNDg3Mw==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T15:23:28Z","updated_at":"2017-12-28T15:23:28Z","author_association":"MEMBER","body":"@mosermw @devriesb Thanks for sharing your opinions. I think we have enough discussion and since there are multiple audience willing to have these method. I am going to merge this. Thanks again for your contribution and improving the project!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354304873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354312478","html_url":"https://github.com/apache/nifi/pull/2310#issuecomment-354312478","issue_url":"https://api.github.com/repos/apache/nifi/issues/2310","id":354312478,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDMxMjQ3OA==","user":{"login":"MikeThomsen","id":108184,"node_id":"MDQ6VXNlcjEwODE4NA==","avatar_url":"https://avatars.githubusercontent.com/u/108184?v=4","gravatar_id":"","url":"https://api.github.com/users/MikeThomsen","html_url":"https://github.com/MikeThomsen","followers_url":"https://api.github.com/users/MikeThomsen/followers","following_url":"https://api.github.com/users/MikeThomsen/following{/other_user}","gists_url":"https://api.github.com/users/MikeThomsen/gists{/gist_id}","starred_url":"https://api.github.com/users/MikeThomsen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MikeThomsen/subscriptions","organizations_url":"https://api.github.com/users/MikeThomsen/orgs","repos_url":"https://api.github.com/users/MikeThomsen/repos","events_url":"https://api.github.com/users/MikeThomsen/events{/privacy}","received_events_url":"https://api.github.com/users/MikeThomsen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T16:10:32Z","updated_at":"2017-12-28T16:10:32Z","author_association":"CONTRIBUTOR","body":"@mattyb149 @pvillard31 FWIW, I read on the Druid site that you can use Kafka to load data into Druid instead of Tranquility. I don't know anything about Tranquility, but working up a flow that uses Kafka to ingest data into Druid would be a very useful story to deliver to users of NiFi and Druid.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354312478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354317696","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354317696","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354317696,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDMxNzY5Ng==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T16:42:41Z","updated_at":"2017-12-28T16:42:41Z","author_association":"CONTRIBUTOR","body":"@mcgilman - when adding a variable to a versioned PG, it does not show changes to be committed. Is it expected?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354317696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354323666","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354323666","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354323666,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDMyMzY2Ng==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T17:22:30Z","updated_at":"2017-12-28T17:22:30Z","author_association":"CONTRIBUTOR","body":"@pvillard31 if the variable is added and not referenced by anything then i believe that is expected behavior, there would be no reason to include that variable in the versioned flow sent to the registry if it is not referenced by anything","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354323666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354328991","html_url":"https://github.com/apache/nifi/pull/2310#issuecomment-354328991","issue_url":"https://api.github.com/repos/apache/nifi/issues/2310","id":354328991,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDMyODk5MQ==","user":{"login":"vvaks0","id":16780537,"node_id":"MDQ6VXNlcjE2NzgwNTM3","avatar_url":"https://avatars.githubusercontent.com/u/16780537?v=4","gravatar_id":"","url":"https://api.github.com/users/vvaks0","html_url":"https://github.com/vvaks0","followers_url":"https://api.github.com/users/vvaks0/followers","following_url":"https://api.github.com/users/vvaks0/following{/other_user}","gists_url":"https://api.github.com/users/vvaks0/gists{/gist_id}","starred_url":"https://api.github.com/users/vvaks0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvaks0/subscriptions","organizations_url":"https://api.github.com/users/vvaks0/orgs","repos_url":"https://api.github.com/users/vvaks0/repos","events_url":"https://api.github.com/users/vvaks0/events{/privacy}","received_events_url":"https://api.github.com/users/vvaks0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T18:00:43Z","updated_at":"2017-12-28T18:00:43Z","author_association":"NONE","body":"@MikeThomsen There is an indexing service that works with Kafka. However, for high volume use cases, this requires a lot of Kafka resources just to ingest data into Druid. Presumably, all that data would have already flowed through and been processed by Nifi. Providing the capability to send the data directly into Druid can really reduce the required hardware resources, management overhead, and usage complexity.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354328991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354330522","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354330522","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354330522,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDMzMDUyMg==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T18:11:25Z","updated_at":"2017-12-28T18:13:02Z","author_association":"CONTRIBUTOR","body":"@bbende - let's say I create a PG with a processor ListHDFS and I set ``${principal}`` and ``${keytab}`` for Kerberos properties. If I start versioning and then add the variables, there is no change to commit. Note that if I start versioning the PG with the variables already defined and then update the variables, there is no change to commit.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354330522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354332031","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354332031","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354332031,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDMzMjAzMQ==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T18:22:28Z","updated_at":"2017-12-28T18:22:28Z","author_association":"CONTRIBUTOR","body":"@pvillard31 I see what you are saying.. so the flow referenced variables which didn't really exist yet so in v1 of the flow it didn't capture any variables, then you want to add them but adding them on its own doesn't trigger a local change to be committed... \r\n\r\n@markap14 @mcgilman thoughts?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354332031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354363018","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354363018","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354363018,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDM2MzAxOA==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-28T21:47:41Z","updated_at":"2017-12-28T21:47:41Z","author_association":"CONTRIBUTOR","body":"It probably makes sense to consider a versioned flow dirty if new variables are added which are already referenced (by name) in an EL statement in the flow.  So long as Variable Registry values are evaluated after more localized things such as flowfile attributes this seems ok.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354363018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354429413","html_url":"https://github.com/apache/nifi/pull/2294#issuecomment-354429413","issue_url":"https://api.github.com/repos/apache/nifi/issues/2294","id":354429413,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDQyOTQxMw==","user":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-29T10:40:10Z","updated_at":"2017-12-29T10:40:10Z","author_association":"CONTRIBUTOR","body":"@MikeThomsen there are validation errors due to unused imports. May you please fix them?\r\n```\r\n[^[[1;33mWARNING^[[m] src/main/java/org/apache/nifi/hbase/DeleteHBaseRow.java:[31,8] (imports) UnusedImports: Unused import - java.io.IOException.\r\n[^[[1;33mWARNING^[[m] src/main/java/org/apache/nifi/hbase/DeleteHBaseRow.java:[33,8] (imports) UnusedImports: Unused import - java.util.HashMap.\r\n[^[[1;33mWARNING^[[m] src/main/java/org/apache/nifi/hbase/DeleteHBaseRow.java:[35,8] (imports) UnusedImports: Unused import - java.util.Map.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354429413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354456744","html_url":"https://github.com/apache/nifi/pull/2359#issuecomment-354456744","issue_url":"https://api.github.com/repos/apache/nifi/issues/2359","id":354456744,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDQ1Njc0NA==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-29T15:03:22Z","updated_at":"2017-12-29T15:03:22Z","author_association":"CONTRIBUTOR","body":"Reviewing...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354456744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354461667","html_url":"https://github.com/apache/nifi/pull/2359#issuecomment-354461667","issue_url":"https://api.github.com/repos/apache/nifi/issues/2359","id":354461667,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDQ2MTY2Nw==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-29T15:43:32Z","updated_at":"2017-12-29T15:43:54Z","author_association":"CONTRIBUTOR","body":"+1 LGTM, ran a full build with contrib-check and unit tests, and tried UpdateRecord, QueryRecord, and ConvertRecord with various schemas, Readers/Writers, with/out Expression Language, etc. I didn't do any explicit performance testing (metrics, e.g.) but it did seem to perform faster.  Thanks for the improvements! Merging to master","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354461667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354462401","html_url":"https://github.com/apache/nifi/pull/2180#issuecomment-354462401","issue_url":"https://api.github.com/repos/apache/nifi/issues/2180","id":354462401,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDQ2MjQwMQ==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-29T15:49:42Z","updated_at":"2017-12-29T15:49:42Z","author_association":"CONTRIBUTOR","body":"@MikeThomsen not sure I'll get a chance before the New Year, but I will take a look when I get some time","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354462401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354515608","html_url":"https://github.com/apache/nifi/pull/2361#issuecomment-354515608","issue_url":"https://api.github.com/repos/apache/nifi/issues/2361","id":354515608,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDUxNTYwOA==","user":{"login":"adamlamar","id":13948507,"node_id":"MDQ6VXNlcjEzOTQ4NTA3","avatar_url":"https://avatars.githubusercontent.com/u/13948507?v=4","gravatar_id":"","url":"https://api.github.com/users/adamlamar","html_url":"https://github.com/adamlamar","followers_url":"https://api.github.com/users/adamlamar/followers","following_url":"https://api.github.com/users/adamlamar/following{/other_user}","gists_url":"https://api.github.com/users/adamlamar/gists{/gist_id}","starred_url":"https://api.github.com/users/adamlamar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamlamar/subscriptions","organizations_url":"https://api.github.com/users/adamlamar/orgs","repos_url":"https://api.github.com/users/adamlamar/repos","events_url":"https://api.github.com/users/adamlamar/events{/privacy}","received_events_url":"https://api.github.com/users/adamlamar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-30T00:14:52Z","updated_at":"2017-12-30T00:14:52Z","author_association":"CONTRIBUTOR","body":"@ijokarumawak I did as you suggested and pulled `persistState` out in the case when no new keys have been listed, but this actually caused unit tests to fail. This is because `currentTimestamp` never changes during the main loop, so even though `commit` calls `persistState`, the value of `currentTimestamp` doesn't change until the main loop exits. Which is why `persistState` is required in both exit paths.\r\n\r\nInstead, I took a slightly different approach with the change just pushed. Since `currentTimestamp` is the current value persisted to the state manager, `maxTimestamp` is the highest timestamp seen in the main loop, and `currentKeys` is tied to `maxTimestamp` (not `currentTimestamp`), I removed the `persistState` call in `commit`, and did `persistState` at the end of `onTrigger` only. While this does continue to `persistState` on each exit, it reduces the number of `persistState` calls to once per `onTrigger` rather than once per 1000 keys iterated (which was done previously in `commit`).\r\n\r\nI did a bunch of manual testing with concurrent `PutS3Object` and `ListS3` and always got the correct number of listed keys, even when uploading 20k+ objects using 10 threads. I tried a few strategies to skip `persistState` if nothing had changed, but in manual testing it always produced the wrong number of keys, although sometimes only off by 1. The current code should be quite an improvement to the load on the state manager, even if it isn't ideal.\r\n\r\nI also introduced `totalListCount` which helps tighten up the log messages a bit. Previously it would \"successfully list X objects\" followed by \"no new objects to list\" in a single `onTrigger` (this was apparent in the unit test output). `totalListCount` also avoids an unnecessary `yield`.\r\n\r\nThere's a lot going on in this one - let me know if you have any other questions!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354515608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354549243","html_url":"https://github.com/apache/nifi/pull/2285#issuecomment-354549243","issue_url":"https://api.github.com/repos/apache/nifi/issues/2285","id":354549243,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDU0OTI0Mw==","user":{"login":"JohannesDaniel","id":20088497,"node_id":"MDQ6VXNlcjIwMDg4NDk3","avatar_url":"https://avatars.githubusercontent.com/u/20088497?v=4","gravatar_id":"","url":"https://api.github.com/users/JohannesDaniel","html_url":"https://github.com/JohannesDaniel","followers_url":"https://api.github.com/users/JohannesDaniel/followers","following_url":"https://api.github.com/users/JohannesDaniel/following{/other_user}","gists_url":"https://api.github.com/users/JohannesDaniel/gists{/gist_id}","starred_url":"https://api.github.com/users/JohannesDaniel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohannesDaniel/subscriptions","organizations_url":"https://api.github.com/users/JohannesDaniel/orgs","repos_url":"https://api.github.com/users/JohannesDaniel/repos","events_url":"https://api.github.com/users/JohannesDaniel/events{/privacy}","received_events_url":"https://api.github.com/users/JohannesDaniel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-30T14:34:12Z","updated_at":"2017-12-30T14:34:12Z","author_association":"CONTRIBUTOR","body":"I made TestGetSolr a bit more simpler by adding a method for the generic creation of TestRunners. I moved all remaining PropertyDescriptors from SolrProcessor to SolrUtils as they will be needed also for e. g. ControllerServices. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354549243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354549278","html_url":"https://github.com/apache/nifi/pull/2285#issuecomment-354549278","issue_url":"https://api.github.com/repos/apache/nifi/issues/2285","id":354549278,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDU0OTI3OA==","user":{"login":"JohannesDaniel","id":20088497,"node_id":"MDQ6VXNlcjIwMDg4NDk3","avatar_url":"https://avatars.githubusercontent.com/u/20088497?v=4","gravatar_id":"","url":"https://api.github.com/users/JohannesDaniel","html_url":"https://github.com/JohannesDaniel","followers_url":"https://api.github.com/users/JohannesDaniel/followers","following_url":"https://api.github.com/users/JohannesDaniel/following{/other_user}","gists_url":"https://api.github.com/users/JohannesDaniel/gists{/gist_id}","starred_url":"https://api.github.com/users/JohannesDaniel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohannesDaniel/subscriptions","organizations_url":"https://api.github.com/users/JohannesDaniel/orgs","repos_url":"https://api.github.com/users/JohannesDaniel/repos","events_url":"https://api.github.com/users/JohannesDaniel/events{/privacy}","received_events_url":"https://api.github.com/users/JohannesDaniel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-30T14:34:53Z","updated_at":"2017-12-30T14:34:53Z","author_association":"CONTRIBUTOR","body":"I replaced the values by static imports","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354549278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354585311","html_url":"https://github.com/apache/nifi/pull/2361#issuecomment-354585311","issue_url":"https://api.github.com/repos/apache/nifi/issues/2361","id":354585311,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDU4NTMxMQ==","user":{"login":"adamlamar","id":13948507,"node_id":"MDQ6VXNlcjEzOTQ4NTA3","avatar_url":"https://avatars.githubusercontent.com/u/13948507?v=4","gravatar_id":"","url":"https://api.github.com/users/adamlamar","html_url":"https://github.com/adamlamar","followers_url":"https://api.github.com/users/adamlamar/followers","following_url":"https://api.github.com/users/adamlamar/following{/other_user}","gists_url":"https://api.github.com/users/adamlamar/gists{/gist_id}","starred_url":"https://api.github.com/users/adamlamar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamlamar/subscriptions","organizations_url":"https://api.github.com/users/adamlamar/orgs","repos_url":"https://api.github.com/users/adamlamar/repos","events_url":"https://api.github.com/users/adamlamar/events{/privacy}","received_events_url":"https://api.github.com/users/adamlamar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-31T04:54:00Z","updated_at":"2017-12-31T04:54:00Z","author_association":"CONTRIBUTOR","body":"@ijokarumawak From the <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/API/v2-RESTBucketGET.html#v2-RESTBucketGET-requests\">AWS S3 API documentation</a> (see the `continuation-token` section):\r\n\r\n> Amazon S3 lists objects in UTF-8 character encoding in lexicographical order\r\n\r\nI really wish we could take the approach you suggested (would certainly make things easier), but since the entries are in lexicographical/alphabetical order, we must iterate over the entire listing before updating `currentTimestamp`. Otherwise we risk skipping keys newer than `currentTimestamp` but older than keys in the middle of the list. The lexicographical ordering also matches my experience when using the API.\r\n\r\nUnfortunately this does also mean that duplicates are possible when a listing fails, like the `IOException` scenario you mentioned. This is an existing limitation in ListS3.\r\n\r\nI appreciate your help getting this reviewed! :)","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354585311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354591260","html_url":"https://github.com/apache/nifi/pull/2361#issuecomment-354591260","issue_url":"https://api.github.com/repos/apache/nifi/issues/2361","id":354591260,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDU5MTI2MA==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-31T08:14:18Z","updated_at":"2017-12-31T08:14:18Z","author_association":"MEMBER","body":"@adamlamar I tried to find the API documentation but couldn't find the exact statement. Thanks, now it does makes sense to defer updating `currentTimestamp` after all listed entities are examined.\r\n\r\nActually that makes me want to ask another related question. Do we risk making duplication by updating `currentKeys` in the middle of the loop?\r\n\r\n## Simulation\r\n\r\nFor example, ListS3 listed following entities at the 1st onTrigger. \r\n\r\n### The 1st onTrigger simulation at t1\r\n\r\nThis should track `currentTimestamp` as `t1`, and `currentKeys` as `b1.txt`.\r\n\r\n|name|last modified|listed at|\r\n|-----|-------------|--------|\r\n|a1.txt|t1 - x|t1|\r\n|b1.txt|t1|t1|\r\n\r\n### The 2nd onTrigger simulation at t2\r\n\r\nIf S3 is being updated at the same time, there may be additional entities having the same t1 timestamp, but were not listed at the 1st onTrigger. In such case, those will be listed at the next onTrigger. Following table shows the expected effect of tracking `currentKeys`. `b1.txt` will not be listed at t2 because it's already listed at t1 and kept in `currentKeys`.\r\n\r\n|name|last modified|listed at|\r\n|-----|-------------|--------|\r\n|a1.txt|t1 - x|t1|\r\n|b1.txt|t1|t1|\r\n|c1.txt|t1|t2|\r\n|d1.txt|t1|t2|\r\n\r\n### The 2nd onTrigger simulation at t2 with newer timestamp entry preceding in lexicographical order\r\n\r\nBased on the above scenario, let's think about an edge case. New entries having later lastModified timestamp can be added at the same time at the time of the 2nd onTrigger ran. This might break the current implementation that updates `currentKeys` in the middle of the loop because entities are returned in lexicographical order. What if there was `a2.txt` having later timestamp than t1?\r\n\r\n|name|last modified|listed at|\r\n|-----|-------------|--------|\r\n|a1.txt|t1 - x|t1|\r\n|a2.txt|t2|t2|\r\n|b1.txt|t1|t1 and *t2*|\r\n|c1.txt|t1|t2|\r\n|d1.txt|t1|t2|\r\n\r\nWith current implementation, `b1.txt` would be listed again at t2.\r\n\r\n## Suggestion\r\n\r\n- Like `maxTimestamp` (representing the latest timestamp at current onTrigger) and `currentTimestamp` (representing the latest timestamp at the last onTrigger), use separate variables to track the keys having the latest timestamp at the last run and current run.\r\n- Probably renaming variables would make code more readable. \r\n- Update only `maxTimestamp` and the keys with the latest timestamp of current iteration inside the loop, leave the variables which tracks the previous onTrigger state as it is. Then, after the loop, update the variables to track `previous` onTrigger state.\r\n\r\nAbove approach would reflect background better, and also provide cleaner easily understandable code. I may be overly concerning details, but am feeling this can be better a bit more. Thanks for your patience!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354591260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354596688","html_url":"https://github.com/apache/nifi/pull/2364#issuecomment-354596688","issue_url":"https://api.github.com/repos/apache/nifi/issues/2364","id":354596688,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDU5NjY4OA==","user":{"login":"yuri1969","id":13468636,"node_id":"MDQ6VXNlcjEzNDY4NjM2","avatar_url":"https://avatars.githubusercontent.com/u/13468636?v=4","gravatar_id":"","url":"https://api.github.com/users/yuri1969","html_url":"https://github.com/yuri1969","followers_url":"https://api.github.com/users/yuri1969/followers","following_url":"https://api.github.com/users/yuri1969/following{/other_user}","gists_url":"https://api.github.com/users/yuri1969/gists{/gist_id}","starred_url":"https://api.github.com/users/yuri1969/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuri1969/subscriptions","organizations_url":"https://api.github.com/users/yuri1969/orgs","repos_url":"https://api.github.com/users/yuri1969/repos","events_url":"https://api.github.com/users/yuri1969/events{/privacy}","received_events_url":"https://api.github.com/users/yuri1969/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-31T10:33:43Z","updated_at":"2017-12-31T10:33:43Z","author_association":"CONTRIBUTOR","body":"The PG names/IDs display style improvements are welcomed.\r\n\r\nNote: The `GET flow/search-results` API was changed.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354596688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354627517","html_url":"https://github.com/apache/nifi/pull/2350#issuecomment-354627517","issue_url":"https://api.github.com/repos/apache/nifi/issues/2350","id":354627517,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDYyNzUxNw==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-12-31T23:13:26Z","updated_at":"2017-12-31T23:13:26Z","author_association":"CONTRIBUTOR","body":"Made all changes noted in the review comments. Ran sample executions with invalid and valid input files / scenarios to ensure the tooling changes worked. \r\n\r\nRan `contrib-check` and all tests pass. +1, merging. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354627517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354672058","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354672058","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354672058,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDY3MjA1OA==","user":{"login":"jtstorck","id":19271493,"node_id":"MDQ6VXNlcjE5MjcxNDkz","avatar_url":"https://avatars.githubusercontent.com/u/19271493?v=4","gravatar_id":"","url":"https://api.github.com/users/jtstorck","html_url":"https://github.com/jtstorck","followers_url":"https://api.github.com/users/jtstorck/followers","following_url":"https://api.github.com/users/jtstorck/following{/other_user}","gists_url":"https://api.github.com/users/jtstorck/gists{/gist_id}","starred_url":"https://api.github.com/users/jtstorck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtstorck/subscriptions","organizations_url":"https://api.github.com/users/jtstorck/orgs","repos_url":"https://api.github.com/users/jtstorck/repos","events_url":"https://api.github.com/users/jtstorck/events{/privacy}","received_events_url":"https://api.github.com/users/jtstorck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-01T19:39:19Z","updated_at":"2018-01-01T19:39:19Z","author_association":"CONTRIBUTOR","body":"The NiFi Registry integration looks great!  I did noticed a syncing/timing issue when working with two process groups referencing the same versioned flow.  If one of these process groups is modified (for example, a processor was added) and the changes are committed, the second process group will report that it's up to do date, though it doesn't have any of the changes that were committed.  It appears there's a period of time between the commit of the changes and NiFi's retrieval/integration of the updates from the registry. Refreshing the NiFi UI during this time period will still show both process groups as up to date, though the process group with the second instance of that versioned flow will still not have the changes.  Some moments later, the second process group's icon will report that there's a new version.  Updating that second process group to the new version works as expected.\r\n\r\nI can see this only being an issue on the node used to make these changes, and will really only be observed when there's another process group with the same flow elsewhere on the canvas.  It does seem a bit odd that, on that particular node, the second process group of the versioned flow does not immediately show that a new version is available.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354672058/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354773840","html_url":"https://github.com/apache/nifi/pull/2358#issuecomment-354773840","issue_url":"https://api.github.com/repos/apache/nifi/issues/2358","id":354773840,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDc3Mzg0MA==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T14:10:00Z","updated_at":"2018-01-02T14:10:00Z","author_association":"CONTRIBUTOR","body":"Reviewing...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354773840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354776894","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354776894","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354776894,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDc3Njg5NA==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T14:25:54Z","updated_at":"2018-01-02T14:25:54Z","author_association":"CONTRIBUTOR","body":"@jtstorck that is correct, the Process Group will reach out to the flow registry to check for changes every so often. So if you have two Process Groups referencing the same flow, it is expected to behave as described. I can understand how this may be a bit confusing, though. We could have NiFi automatically check for any Process Groups that reference the same flow when a new version is pushed to the registry and at that point update its status. However, I do believe that this should be created as a separate JIRA rather than holding up this one, since it is not a functional problem. Do you agree?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354776894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354784393","html_url":"https://github.com/apache/nifi/pull/2358#issuecomment-354784393","issue_url":"https://api.github.com/repos/apache/nifi/issues/2358","id":354784393,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDc4NDM5Mw==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T15:00:11Z","updated_at":"2018-01-02T15:00:11Z","author_association":"CONTRIBUTOR","body":"Tested by visiting http://localhost:8080/nifi-api/controller without the patch applied -- error \"The specified resource could not be found\". With the patch applied -- returns expected JSON:\r\n\r\n`{\"controller\":{\"id\":\"b76231af-0160-1000-11f3-3e937575391f\",\"runningCount\":0,\"stoppedCount\":0,\"invalidCount\":0,\"disabledCount\":0,\"inputPortCount\":0,\"outputPortCount\":0,\"siteToSiteSecure\":false,\"instanceId\":\"b76231b1-0160-1000-9062-ebe2c82af742\",\"inputPorts\":[],\"outputPorts\":[]}}`\r\n\r\nRan `contrib-check` and all tests pass. +1, merging. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354784393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354785138","html_url":"https://github.com/apache/nifi/pull/2358#issuecomment-354785138","issue_url":"https://api.github.com/repos/apache/nifi/issues/2358","id":354785138,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDc4NTEzOA==","user":{"login":"alopresto","id":798465,"node_id":"MDQ6VXNlcjc5ODQ2NQ==","avatar_url":"https://avatars.githubusercontent.com/u/798465?v=4","gravatar_id":"","url":"https://api.github.com/users/alopresto","html_url":"https://github.com/alopresto","followers_url":"https://api.github.com/users/alopresto/followers","following_url":"https://api.github.com/users/alopresto/following{/other_user}","gists_url":"https://api.github.com/users/alopresto/gists{/gist_id}","starred_url":"https://api.github.com/users/alopresto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alopresto/subscriptions","organizations_url":"https://api.github.com/users/alopresto/orgs","repos_url":"https://api.github.com/users/alopresto/repos","events_url":"https://api.github.com/users/alopresto/events{/privacy}","received_events_url":"https://api.github.com/users/alopresto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T15:03:14Z","updated_at":"2018-01-02T15:03:14Z","author_association":"CONTRIBUTOR","body":"@mcgilman there was a space in the magic incantation to close this PR. Please close it at your convenience. The merge commit is [10755e2](https://github.com/apache/nifi/commit/b7c9c88f9f786f9a84b0c1dc34026194010755e2). ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354785138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354792625","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354792625","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354792625,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDc5MjYyNQ==","user":{"login":"jtstorck","id":19271493,"node_id":"MDQ6VXNlcjE5MjcxNDkz","avatar_url":"https://avatars.githubusercontent.com/u/19271493?v=4","gravatar_id":"","url":"https://api.github.com/users/jtstorck","html_url":"https://github.com/jtstorck","followers_url":"https://api.github.com/users/jtstorck/followers","following_url":"https://api.github.com/users/jtstorck/following{/other_user}","gists_url":"https://api.github.com/users/jtstorck/gists{/gist_id}","starred_url":"https://api.github.com/users/jtstorck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtstorck/subscriptions","organizations_url":"https://api.github.com/users/jtstorck/orgs","repos_url":"https://api.github.com/users/jtstorck/repos","events_url":"https://api.github.com/users/jtstorck/events{/privacy}","received_events_url":"https://api.github.com/users/jtstorck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T15:33:12Z","updated_at":"2018-01-02T15:33:12Z","author_association":"CONTRIBUTOR","body":"@markap14 I agree that this behavior should not hold up the initial integration.  It is an edge case and users are unlikely to observe it.  However, I can see users wanting to reference a versioned flow multiple times from various spots in their flows and creating multiple instances of that versioned flow within other process groups, and as you mentioned it could be confusing for the user.  We should probably note the expecting syncing behavior with the NiFi Registry in the documentation. I can create a separate JIRA for addressing this particular case.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354792625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354798918","html_url":"https://github.com/apache/nifi/pull/2358#issuecomment-354798918","issue_url":"https://api.github.com/repos/apache/nifi/issues/2358","id":354798918,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDc5ODkxOA==","user":{"login":"mcgilman","id":123395,"node_id":"MDQ6VXNlcjEyMzM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/123395?v=4","gravatar_id":"","url":"https://api.github.com/users/mcgilman","html_url":"https://github.com/mcgilman","followers_url":"https://api.github.com/users/mcgilman/followers","following_url":"https://api.github.com/users/mcgilman/following{/other_user}","gists_url":"https://api.github.com/users/mcgilman/gists{/gist_id}","starred_url":"https://api.github.com/users/mcgilman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcgilman/subscriptions","organizations_url":"https://api.github.com/users/mcgilman/orgs","repos_url":"https://api.github.com/users/mcgilman/repos","events_url":"https://api.github.com/users/mcgilman/events{/privacy}","received_events_url":"https://api.github.com/users/mcgilman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T15:58:59Z","updated_at":"2018-01-02T15:58:59Z","author_association":"CONTRIBUTOR","body":"Thanks @alopresto! Closing...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354798918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354805478","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354805478","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354805478,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDgwNTQ3OA==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T16:22:51Z","updated_at":"2018-01-02T16:22:51Z","author_association":"CONTRIBUTOR","body":"I'll start reviewing this...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354805478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354819494","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354819494","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354819494,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDgxOTQ5NA==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T17:16:43Z","updated_at":"2018-01-02T17:16:43Z","author_association":"CONTRIBUTOR","body":"@bbende @mcgilman - I just did few tests with latest changes and I want to confirm this is the expected behaviour: if versioning a process groups with defined variables that are used in processors of the PG, then updating the values of the variables won't be considered as a change.\r\n\r\nI do understand/agree that this is the expected behaviour: it is a way to provide a generic flow that is configurable through variables and everyone can instantiate the flow and update the variables for their own use case. Then, as @JPercivall suggested, when importing a PG, it could be nice to have a dialog window with all the variables included in the process group that need to be configured (NIFIREG-81).\r\n\r\nHowever if the flow evolves and variables are added/deleted, this is not considered as a change. I'm a bit worried about this if it's not clearly documented. Let's say in v1, I have a variable that is defined at versioned PG level, and then, at v2, I removed the variable at PG level because I want to use an environment variable. When updating to v2 in another environment, the user will have to remember that the variable needs to be manually removed even though the environment variable has been defined because the PG variable will overide the environment variable.\r\n\r\nI think that deleting/adding variables should be considered as a change for the versioning. Thoughts? (this could totally be addressed in a separate JIRA)","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354819494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354843731","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-354843731","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":354843731,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDg0MzczMQ==","user":{"login":"jomach","id":4804546,"node_id":"MDQ6VXNlcjQ4MDQ1NDY=","avatar_url":"https://avatars.githubusercontent.com/u/4804546?v=4","gravatar_id":"","url":"https://api.github.com/users/jomach","html_url":"https://github.com/jomach","followers_url":"https://api.github.com/users/jomach/followers","following_url":"https://api.github.com/users/jomach/following{/other_user}","gists_url":"https://api.github.com/users/jomach/gists{/gist_id}","starred_url":"https://api.github.com/users/jomach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jomach/subscriptions","organizations_url":"https://api.github.com/users/jomach/orgs","repos_url":"https://api.github.com/users/jomach/repos","events_url":"https://api.github.com/users/jomach/events{/privacy}","received_events_url":"https://api.github.com/users/jomach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T18:43:37Z","updated_at":"2018-01-02T18:43:55Z","author_association":"NONE","body":"So The Fix is removing the Nifi Thread that renews the Kerberos Token ? \r\nFrom what I noticed until now using the UserGroupInformation class is that if I call the method loginUserFromKeytab it will be set for the complete JVM, not allowing scenarios where Nifi needs to connect to two different Hadoop clusters with Kerberos. If we use loginUserFromKeytabAndReturnUGI it will be contained in that returned Object.  I looked at the code verz quickly and it seems that we removed the Thread that takes care of renewing the token.  Could we leverage something like: UserGroupInformation.checkTGTAndReloginFromKeytab or we could trigger  UserGroupInformation.spawnAutoRenewalThreadForUserCreds using UserGroupInformation.loginUserFromSubject","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354843731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354845198","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354845198","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354845198,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDg0NTE5OA==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T18:49:43Z","updated_at":"2018-01-02T18:49:43Z","author_association":"CONTRIBUTOR","body":"@pvillard31 the current thinking behind variables is that they serve as a starting point when someone imports a flow, but aren't considered as changes that make a flow \"dirty\" and require a commit.\r\n\r\nWhen a version of a PG is saved to the registry it does capture all of the variables and their values at that point in time. So in a PG that already has v1 saved to the registry, if you add a variable and make any other change, even a positional change, then it will capture the new variable in v2.\r\n\r\nChanges to variable values do not make a PG dirty because when a versioned flow is imported to another NiFi instance, the user will most likely need to change the variable values to something specific to the environment, along with setting/changing sensitive properties and RPG URLs, which are both not part of variables (eventually there could be a nicer way of identifying these things that the user would want to modify after import). We don't want these changes to make this newly imported PG appear as dirty, because then it couldn't be upgraded to the next version without first saving or reverting these changes. \r\n\r\nWhen a PG is upgraded, if it contains new variables that are not already defined/visible in the PG being upgraded, then those variables will be added, but it won't touch any existing variable values, and won't touch sensitive properties or RPG URLs. This lets the user customize the values once on the initial import, and then not have to redo it on every upgrade, they would only need to customize newly added variables/sensitive props/RPGs.\r\n\r\nThere are definitely a lot of edge cases and different perspectives to consider, and I think we can figure out what improvements need to be made based on feedback as users start integrating the registry into their environments.\r\n\r\nAll that being said, the code that does the comparison of versions and triggers a PG to be dirty is actually part of the registry (nifi-registry-flow-diff). So any improvements/changes to that would have to be made outside of this PR against the registry for the next release, either 0.1.1 or 0.2.0, whichever is decided.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354845198/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354847578","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-354847578","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":354847578,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDg0NzU3OA==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T18:59:40Z","updated_at":"2018-01-02T18:59:40Z","author_association":"CONTRIBUTOR","body":"> When a version of a PG is saved to the registry it does capture all of the variables and their values at that point in time. So in a PG that already has v1 saved to the registry, if you add a variable and make any other change, even a positional change, then it will capture the new variable in v2.\r\n\r\nI somehow missed that part while doing my tests... Looks good!\r\n\r\n> Changes to variable values do not make a PG dirty because when a versioned flow is imported to another NiFi instance, the user will most likely need to change the variable values to something specific to the environment...\r\n\r\nTotally agree, value changes should not make the flow dirty.\r\n\r\nThanks for your explanations!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354847578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354851605","html_url":"https://github.com/apache/nifi/pull/2351#issuecomment-354851605","issue_url":"https://api.github.com/repos/apache/nifi/issues/2351","id":354851605,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDg1MTYwNQ==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T19:17:09Z","updated_at":"2018-01-02T19:17:09Z","author_association":"CONTRIBUTOR","body":"@ijokarumawak Looks great, thanks!  Guess I was a little careless with implementation and testing on that go-round, thanks for getting it across the finish line. I ran the tests and with a number of scenarios on a live NiFi to verify things seem to be working smoothly. Will let Travis finish then merge to master.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354851605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354852613","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-354852613","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":354852613,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDg1MjYxMw==","user":{"login":"jtstorck","id":19271493,"node_id":"MDQ6VXNlcjE5MjcxNDkz","avatar_url":"https://avatars.githubusercontent.com/u/19271493?v=4","gravatar_id":"","url":"https://api.github.com/users/jtstorck","html_url":"https://github.com/jtstorck","followers_url":"https://api.github.com/users/jtstorck/followers","following_url":"https://api.github.com/users/jtstorck/following{/other_user}","gists_url":"https://api.github.com/users/jtstorck/gists{/gist_id}","starred_url":"https://api.github.com/users/jtstorck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtstorck/subscriptions","organizations_url":"https://api.github.com/users/jtstorck/orgs","repos_url":"https://api.github.com/users/jtstorck/repos","events_url":"https://api.github.com/users/jtstorck/events{/privacy}","received_events_url":"https://api.github.com/users/jtstorck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T19:21:29Z","updated_at":"2018-01-02T19:21:29Z","author_association":"CONTRIBUTOR","body":"@jomach Yes, this PR will remove the explicit relogin attempts from Hadoop/HBase/Hive components.  This will allow the hadoop libraries we use to handle relogin implicitly, since NiFi's explicit relogin attempts were creating race conditions in UGI and underlying classes, and not all of the code NiFi depends on or uses is thread-safe.  We lessen this issue by using NiFi's instance-based classloading, which brings me to the next point.\r\n\r\nRegarding UGI.loginUserFromKeytab, NiFi employs classloader isolation on a per-component basis.  This means that each instance of a PutHDFS processor (for example) has its own classloader by which the hadoop libraries are loaded.  Since the UGI instance maintains the state of the login configuration, authenticated Subject, etc, due to the classloader isolation, that state will be separate from instantiations of UGI in other components.  Loosely speaking, they are considered different types since they were loaded by different classloaders, and their state will not be shared.  This allows NiFi to use UGI.loginUserFromKeytab and the instances of components that use UGI can be considered \"daemon processes\".\r\n\r\nUGI.spawnAutoRenewalThreadForUserCreds is only started (implicitly by the UGI class itself) if the login was done from the ticket cache, and NiFi explicitly wants to use the keytab during authentication, not the ticket cache.  NiFi uses keytabs so that it can function in a multi-tenant environment.  With kinit, only one principal would be able to be authenticated since it's done via an OS user, and we'd like to avoid that.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354852613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354854979","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-354854979","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":354854979,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDg1NDk3OQ==","user":{"login":"jomach","id":4804546,"node_id":"MDQ6VXNlcjQ4MDQ1NDY=","avatar_url":"https://avatars.githubusercontent.com/u/4804546?v=4","gravatar_id":"","url":"https://api.github.com/users/jomach","html_url":"https://github.com/jomach","followers_url":"https://api.github.com/users/jomach/followers","following_url":"https://api.github.com/users/jomach/following{/other_user}","gists_url":"https://api.github.com/users/jomach/gists{/gist_id}","starred_url":"https://api.github.com/users/jomach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jomach/subscriptions","organizations_url":"https://api.github.com/users/jomach/orgs","repos_url":"https://api.github.com/users/jomach/repos","events_url":"https://api.github.com/users/jomach/events{/privacy}","received_events_url":"https://api.github.com/users/jomach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T19:31:39Z","updated_at":"2018-01-02T19:32:38Z","author_association":"NONE","body":"@jtstorck\r\n\r\n> hadoop libraries we use to handle relogin implicitly\r\n\r\nCan you give an Example which libraries handle this implicitly? \r\nRegarding spawnAutoRenewalThreadForUserCreds, you are 100% correct I digged a little further and I was missing the !isKeytab on the if.  This seems to be a general issue with Hadoop and not Nifi it self but we need to live with it. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354854979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354864486","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-354864486","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":354864486,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDg2NDQ4Ng==","user":{"login":"jtstorck","id":19271493,"node_id":"MDQ6VXNlcjE5MjcxNDkz","avatar_url":"https://avatars.githubusercontent.com/u/19271493?v=4","gravatar_id":"","url":"https://api.github.com/users/jtstorck","html_url":"https://github.com/jtstorck","followers_url":"https://api.github.com/users/jtstorck/followers","following_url":"https://api.github.com/users/jtstorck/following{/other_user}","gists_url":"https://api.github.com/users/jtstorck/gists{/gist_id}","starred_url":"https://api.github.com/users/jtstorck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtstorck/subscriptions","organizations_url":"https://api.github.com/users/jtstorck/orgs","repos_url":"https://api.github.com/users/jtstorck/repos","events_url":"https://api.github.com/users/jtstorck/events{/privacy}","received_events_url":"https://api.github.com/users/jtstorck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T20:14:53Z","updated_at":"2018-01-02T20:14:53Z","author_association":"CONTRIBUTOR","body":"@jomach Anything that uses org.apache.hadoop.ipc.Client should handle implicit relogin, through a method that handles connection failures: org.apache.hadoop.ipc.Client.handleSaslConnectionFailure, which resides in hadoop-common.\r\n\r\norg.apache.hadoop.hdfs.DistributedFileSystem, in hadoop-hdfs, uses the Client to connect to HDFS.  If any failure occurs when making the connection, the first thing it does is use UGI to relogin.  With the knowledge of this, all the explicit NiFi relogin logic has been removed in this PR.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354864486/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354865781","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-354865781","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":354865781,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDg2NTc4MQ==","user":{"login":"jomach","id":4804546,"node_id":"MDQ6VXNlcjQ4MDQ1NDY=","avatar_url":"https://avatars.githubusercontent.com/u/4804546?v=4","gravatar_id":"","url":"https://api.github.com/users/jomach","html_url":"https://github.com/jomach","followers_url":"https://api.github.com/users/jomach/followers","following_url":"https://api.github.com/users/jomach/following{/other_user}","gists_url":"https://api.github.com/users/jomach/gists{/gist_id}","starred_url":"https://api.github.com/users/jomach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jomach/subscriptions","organizations_url":"https://api.github.com/users/jomach/orgs","repos_url":"https://api.github.com/users/jomach/repos","events_url":"https://api.github.com/users/jomach/events{/privacy}","received_events_url":"https://api.github.com/users/jomach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-02T20:21:18Z","updated_at":"2018-01-02T20:21:18Z","author_association":"NONE","body":"Yes, the rpc clients renew the tickets.  I agreed with this change now. Hope that others can understand that better now. \r\n\r\nthanks @jtstorck ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354865781/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354913839","html_url":"https://github.com/apache/nifi/pull/2285#issuecomment-354913839","issue_url":"https://api.github.com/repos/apache/nifi/issues/2285","id":354913839,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDkxMzgzOQ==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T00:42:22Z","updated_at":"2018-01-03T00:42:22Z","author_association":"MEMBER","body":"@JohannesDaniel Thanks for the updates. Now it LGTM, +1. Merging in. Thank you for your contribution!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354913839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354924540","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-354924540","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":354924540,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDkyNDU0MA==","user":{"login":"risdenk","id":3384157,"node_id":"MDQ6VXNlcjMzODQxNTc=","avatar_url":"https://avatars.githubusercontent.com/u/3384157?v=4","gravatar_id":"","url":"https://api.github.com/users/risdenk","html_url":"https://github.com/risdenk","followers_url":"https://api.github.com/users/risdenk/followers","following_url":"https://api.github.com/users/risdenk/following{/other_user}","gists_url":"https://api.github.com/users/risdenk/gists{/gist_id}","starred_url":"https://api.github.com/users/risdenk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/risdenk/subscriptions","organizations_url":"https://api.github.com/users/risdenk/orgs","repos_url":"https://api.github.com/users/risdenk/repos","events_url":"https://api.github.com/users/risdenk/events{/privacy}","received_events_url":"https://api.github.com/users/risdenk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T02:15:33Z","updated_at":"2018-01-03T02:15:33Z","author_association":"NONE","body":"Change looks very promising. I'm a huge +1 for removing the explicit relogin thread and corresponding relogin interval setting. The wrapping in doas also matches the doas code that Elasticsearch uses the the HDFS snapshot repository. \r\n\r\nFor the `-Djavax.security.auth.useSubjectCredsOnly=true` recommendation, is this just to ensure that this is never set to `false`? I thought the default was `true` anyway. Is there a known case where this is set to false by default?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354924540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354930436","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-354930436","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":354930436,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDkzMDQzNg==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T03:21:51Z","updated_at":"2018-01-03T03:21:51Z","author_association":"CONTRIBUTOR","body":"Yeah the docs suggest it will be true by default but in the environment(s) we were running against it was consistently being set to false which opened us up to this risk.  By explicitly setting it to true for NiFi we're correctly asserting that under no circumstance should the NiFi app ever be asked to go grab user supplied input for Kerberos logins.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354930436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354931011","html_url":"https://github.com/apache/nifi/pull/2360#issuecomment-354931011","issue_url":"https://api.github.com/repos/apache/nifi/issues/2360","id":354931011,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDkzMTAxMQ==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T03:27:46Z","updated_at":"2018-01-03T03:27:46Z","author_association":"CONTRIBUTOR","body":"You can pretty easily verify it in your environment by running \r\n\r\njinfo <pid>\r\n\r\nIf you see that property set and equal to false then there is a good chance this will correct it.\r\n\r\nI ran that against a live NiFi JVM PID and it came back with that property set and false.  Now, with this PR, it comes back set and true and the prompt for name code path never executes.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354931011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354942391","html_url":"https://github.com/apache/nifi/pull/2361#issuecomment-354942391","issue_url":"https://api.github.com/repos/apache/nifi/issues/2361","id":354942391,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDk0MjM5MQ==","user":{"login":"adamlamar","id":13948507,"node_id":"MDQ6VXNlcjEzOTQ4NTA3","avatar_url":"https://avatars.githubusercontent.com/u/13948507?v=4","gravatar_id":"","url":"https://api.github.com/users/adamlamar","html_url":"https://github.com/adamlamar","followers_url":"https://api.github.com/users/adamlamar/followers","following_url":"https://api.github.com/users/adamlamar/following{/other_user}","gists_url":"https://api.github.com/users/adamlamar/gists{/gist_id}","starred_url":"https://api.github.com/users/adamlamar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamlamar/subscriptions","organizations_url":"https://api.github.com/users/adamlamar/orgs","repos_url":"https://api.github.com/users/adamlamar/repos","events_url":"https://api.github.com/users/adamlamar/events{/privacy}","received_events_url":"https://api.github.com/users/adamlamar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T06:00:59Z","updated_at":"2018-01-03T06:00:59Z","author_association":"CONTRIBUTOR","body":"> Do we risk making duplication by updating currentKeys in the middle of the loop?\r\n\r\nYes, I think we do! I identified a similar (possibly the same) bug, and I agree with all of your suggestions. The question in my mind is whether we should fix all of these issues in this JIRA or defer to another. As far as the original JIRA goes, I believe the current commit will address the issue. I also did a fair bit of manual testing so I would be comfortable moving forward with this change as-is.\r\n\r\nBefore refactoring, I'd like to put some additional unit tests in place for safety. Its clear from the discussion that there is some meat here and I'd really like to enumerate a few cases I've seen while testing in unit tests.\r\n\r\nSo its up to you - would you prefer that I start the unit tests and address (potentially) multiple bugs in this PR, or should we merge this and create another JIRA?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354942391/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354978653","html_url":"https://github.com/apache/nifi/pull/2285#issuecomment-354978653","issue_url":"https://api.github.com/repos/apache/nifi/issues/2285","id":354978653,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDk3ODY1Mw==","user":{"login":"JohannesDaniel","id":20088497,"node_id":"MDQ6VXNlcjIwMDg4NDk3","avatar_url":"https://avatars.githubusercontent.com/u/20088497?v=4","gravatar_id":"","url":"https://api.github.com/users/JohannesDaniel","html_url":"https://github.com/JohannesDaniel","followers_url":"https://api.github.com/users/JohannesDaniel/followers","following_url":"https://api.github.com/users/JohannesDaniel/following{/other_user}","gists_url":"https://api.github.com/users/JohannesDaniel/gists{/gist_id}","starred_url":"https://api.github.com/users/JohannesDaniel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohannesDaniel/subscriptions","organizations_url":"https://api.github.com/users/JohannesDaniel/orgs","repos_url":"https://api.github.com/users/JohannesDaniel/repos","events_url":"https://api.github.com/users/JohannesDaniel/events{/privacy}","received_events_url":"https://api.github.com/users/JohannesDaniel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T10:22:37Z","updated_at":"2018-01-03T10:22:37Z","author_association":"CONTRIBUTOR","body":"@ijokarumawak not too important, but do you know why this commit is not linked to my account? it is linked to \"U-WOODMARK\\johannes.peter\"","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354978653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354987517","html_url":"https://github.com/apache/nifi/pull/2361#issuecomment-354987517","issue_url":"https://api.github.com/repos/apache/nifi/issues/2361","id":354987517,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDk4NzUxNw==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T11:09:41Z","updated_at":"2018-01-03T11:09:41Z","author_association":"MEMBER","body":"@adamlamar How long do you think you need to address multiple bugs you are aware of? If those can be addressed in the same ListS3 processor, then I'd prefer to have all (as much as we can) in this JIRA/PR, as we can reduce testing effort and overall review cycle. If it's too complicated to be done at once, then please submit different JIRAs to beak those into smaller pieces. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354987517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354988193","html_url":"https://github.com/apache/nifi/pull/2285#issuecomment-354988193","issue_url":"https://api.github.com/repos/apache/nifi/issues/2285","id":354988193,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDk4ODE5Mw==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T11:13:32Z","updated_at":"2018-01-03T11:13:32Z","author_association":"MEMBER","body":"@JohannesDaniel Would you check your working environment setting, especially email address? I just squashed commits into one and pushed into master branch, didn't modify author info.\r\nhttps://help.github.com/articles/setting-your-commit-email-address-in-git/","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354988193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354991136","html_url":"https://github.com/apache/nifi/pull/2285#issuecomment-354991136","issue_url":"https://api.github.com/repos/apache/nifi/issues/2285","id":354991136,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NDk5MTEzNg==","user":{"login":"JohannesDaniel","id":20088497,"node_id":"MDQ6VXNlcjIwMDg4NDk3","avatar_url":"https://avatars.githubusercontent.com/u/20088497?v=4","gravatar_id":"","url":"https://api.github.com/users/JohannesDaniel","html_url":"https://github.com/JohannesDaniel","followers_url":"https://api.github.com/users/JohannesDaniel/followers","following_url":"https://api.github.com/users/JohannesDaniel/following{/other_user}","gists_url":"https://api.github.com/users/JohannesDaniel/gists{/gist_id}","starred_url":"https://api.github.com/users/JohannesDaniel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JohannesDaniel/subscriptions","organizations_url":"https://api.github.com/users/JohannesDaniel/orgs","repos_url":"https://api.github.com/users/JohannesDaniel/repos","events_url":"https://api.github.com/users/JohannesDaniel/events{/privacy}","received_events_url":"https://api.github.com/users/JohannesDaniel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T11:30:35Z","updated_at":"2018-01-03T11:30:46Z","author_association":"CONTRIBUTOR","body":"@ijokarumawak Ah I see. Sorry for this. Will we leave it as it (for this commit) is or can we fix this?\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/354991136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355035378","html_url":"https://github.com/apache/nifi/pull/2221#issuecomment-355035378","issue_url":"https://api.github.com/repos/apache/nifi/issues/2221","id":355035378,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTAzNTM3OA==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T15:10:47Z","updated_at":"2018-01-03T15:10:47Z","author_association":"CONTRIBUTOR","body":"I'd like to merge this in as is (barring any feedback) and add the timezone support later. \r\n\r\nI created this JIRA for the timezone support: https://issues.apache.org/jira/browse/NIFI-4732","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355035378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355040205","html_url":"https://github.com/apache/nifi/pull/2221#issuecomment-355040205","issue_url":"https://api.github.com/repos/apache/nifi/issues/2221","id":355040205,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA0MDIwNQ==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T15:29:20Z","updated_at":"2018-01-03T15:29:20Z","author_association":"CONTRIBUTOR","body":"@bbende sounds reasonable to me. Will review as-is for now.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355040205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355040292","html_url":"https://github.com/apache/nifi/pull/2221#issuecomment-355040292","issue_url":"https://api.github.com/repos/apache/nifi/issues/2221","id":355040292,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA0MDI5Mg==","user":{"login":"mattyb149","id":2124747,"node_id":"MDQ6VXNlcjIxMjQ3NDc=","avatar_url":"https://avatars.githubusercontent.com/u/2124747?v=4","gravatar_id":"","url":"https://api.github.com/users/mattyb149","html_url":"https://github.com/mattyb149","followers_url":"https://api.github.com/users/mattyb149/followers","following_url":"https://api.github.com/users/mattyb149/following{/other_user}","gists_url":"https://api.github.com/users/mattyb149/gists{/gist_id}","starred_url":"https://api.github.com/users/mattyb149/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattyb149/subscriptions","organizations_url":"https://api.github.com/users/mattyb149/orgs","repos_url":"https://api.github.com/users/mattyb149/repos","events_url":"https://api.github.com/users/mattyb149/events{/privacy}","received_events_url":"https://api.github.com/users/mattyb149/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T15:29:43Z","updated_at":"2018-01-03T15:29:43Z","author_association":"CONTRIBUTOR","body":"@bbende works for me too. Mark will review as-is for now ;)","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355040292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355050698","html_url":"https://github.com/apache/nifi/pull/2221#issuecomment-355050698","issue_url":"https://api.github.com/repos/apache/nifi/issues/2221","id":355050698,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA1MDY5OA==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T16:07:18Z","updated_at":"2018-01-03T16:07:18Z","author_association":"CONTRIBUTOR","body":"All looks good to me! +1 merged to master.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355050698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355054470","html_url":"https://github.com/apache/nifi/pull/2367#issuecomment-355054470","issue_url":"https://api.github.com/repos/apache/nifi/issues/2367","id":355054470,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA1NDQ3MA==","user":{"login":"bbende","id":605416,"node_id":"MDQ6VXNlcjYwNTQxNg==","avatar_url":"https://avatars.githubusercontent.com/u/605416?v=4","gravatar_id":"","url":"https://api.github.com/users/bbende","html_url":"https://github.com/bbende","followers_url":"https://api.github.com/users/bbende/followers","following_url":"https://api.github.com/users/bbende/following{/other_user}","gists_url":"https://api.github.com/users/bbende/gists{/gist_id}","starred_url":"https://api.github.com/users/bbende/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbende/subscriptions","organizations_url":"https://api.github.com/users/bbende/orgs","repos_url":"https://api.github.com/users/bbende/repos","events_url":"https://api.github.com/users/bbende/events{/privacy}","received_events_url":"https://api.github.com/users/bbende/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T16:21:19Z","updated_at":"2018-01-03T16:21:19Z","author_association":"CONTRIBUTOR","body":"+1 Builds cleanly and project structure looks correct between processors and service API, going to merge","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355054470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355065102","html_url":"https://github.com/apache/nifi/pull/2365#issuecomment-355065102","issue_url":"https://api.github.com/repos/apache/nifi/issues/2365","id":355065102,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA2NTEwMg==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T17:00:07Z","updated_at":"2018-01-03T17:00:07Z","author_association":"CONTRIBUTOR","body":"@mcgilman the test failures in Travis-CI appear to be informative and important.  Can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355065102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355067071","html_url":"https://github.com/apache/nifi/pull/1241#issuecomment-355067071","issue_url":"https://api.github.com/repos/apache/nifi/issues/1241","id":355067071,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA2NzA3MQ==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T17:07:46Z","updated_at":"2018-01-03T17:07:46Z","author_association":"CONTRIBUTOR","body":"@jskora This is our oldest untouched PR.  Do you still think it is good to go?\r\n\r\n@markap14  Can you take a look?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355067071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355072904","html_url":"https://github.com/apache/nifi/pull/2363#issuecomment-355072904","issue_url":"https://api.github.com/repos/apache/nifi/issues/2363","id":355072904,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA3MjkwNA==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T17:30:00Z","updated_at":"2018-01-03T17:30:00Z","author_association":"CONTRIBUTOR","body":"We should avoid the use of ThreadLocal storage completely.  NiFi will not give the same thread back to the same processor with any guarantees at all.  So we'd be caching/caching/caching and perhaps even leaking information across threads like that.  I think we should work the root cause angle with jolt","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355072904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355073854","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-355073854","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":355073854,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA3Mzg1NA==","user":{"login":"scottyaslan","id":6797571,"node_id":"MDQ6VXNlcjY3OTc1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/6797571?v=4","gravatar_id":"","url":"https://api.github.com/users/scottyaslan","html_url":"https://github.com/scottyaslan","followers_url":"https://api.github.com/users/scottyaslan/followers","following_url":"https://api.github.com/users/scottyaslan/following{/other_user}","gists_url":"https://api.github.com/users/scottyaslan/gists{/gist_id}","starred_url":"https://api.github.com/users/scottyaslan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottyaslan/subscriptions","organizations_url":"https://api.github.com/users/scottyaslan/orgs","repos_url":"https://api.github.com/users/scottyaslan/repos","events_url":"https://api.github.com/users/scottyaslan/events{/privacy}","received_events_url":"https://api.github.com/users/scottyaslan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T17:33:35Z","updated_at":"2018-01-03T18:20:50Z","author_association":"CONTRIBUTOR","body":"@mcgilman I noticed an issue caused by limited screen height when trying to import a flow and there are a large number of buckets in the selected registry. See screenshot: \r\n![screen shot 2018-01-03 at 12 29 49 pm](https://user-images.githubusercontent.com/6797571/34531977-4d87eb6a-f082-11e7-9a4a-2afa0f5f789f.png)\r\n \r\nThe user is unable to select bucket 5 - 11 and therefore unable to select a flow from those buckets.\r\n\r\nThe same issue exists for selecting a flow from a bucket when the number of flows in the bucket is sufficiently large:\r\n\r\n![screen shot 2018-01-03 at 12 44 33 pm](https://user-images.githubusercontent.com/6797571/34532364-e736580e-f083-11e7-8f22-b93b2b6232f6.png)\r\n\r\nFlow 6 - 9 is unselectable by the user.\r\n\r\nThe same issue would exist for selecting the registry as well...","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355073854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355078754","html_url":"https://github.com/apache/nifi/pull/1241#issuecomment-355078754","issue_url":"https://api.github.com/repos/apache/nifi/issues/1241","id":355078754,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA3ODc1NA==","user":{"login":"jskora","id":181587,"node_id":"MDQ6VXNlcjE4MTU4Nw==","avatar_url":"https://avatars.githubusercontent.com/u/181587?v=4","gravatar_id":"","url":"https://api.github.com/users/jskora","html_url":"https://github.com/jskora","followers_url":"https://api.github.com/users/jskora/followers","following_url":"https://api.github.com/users/jskora/following{/other_user}","gists_url":"https://api.github.com/users/jskora/gists{/gist_id}","starred_url":"https://api.github.com/users/jskora/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jskora/subscriptions","organizations_url":"https://api.github.com/users/jskora/orgs","repos_url":"https://api.github.com/users/jskora/repos","events_url":"https://api.github.com/users/jskora/events{/privacy}","received_events_url":"https://api.github.com/users/jskora/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T17:51:45Z","updated_at":"2018-01-03T17:51:45Z","author_association":"CONTRIBUTOR","body":"@joewitt Since 0.x is end-of-life, this is OBE and should be closed.\r\n\r\nIIRC, the root problem was writing records first and then checking afterward to see if storage limits were exceeded and a rollover needed.  If the storage limits don't leave a margin before reaching the physical capacity, writes can fill the disk and crash the NiFi and possible the system.  I looked at the 1.x repositories in depth since they were re-written, but if the same write-then-check behavior exists this could still be a problem.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355078754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355095672","html_url":"https://github.com/apache/nifi/pull/2368#issuecomment-355095672","issue_url":"https://api.github.com/repos/apache/nifi/issues/2368","id":355095672,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTA5NTY3Mg==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T18:57:14Z","updated_at":"2018-01-03T18:57:14Z","author_association":"CONTRIBUTOR","body":"@mattyb149  you'll also need that Apache Ivy NOTICE update in the nifi-assembly/NOTICE as well.\r\n\r\nthanks","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355095672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355130429","html_url":"https://github.com/apache/nifi/pull/2138#issuecomment-355130429","issue_url":"https://api.github.com/repos/apache/nifi/issues/2138","id":355130429,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTEzMDQyOQ==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T21:20:33Z","updated_at":"2018-01-03T21:20:33Z","author_association":"CONTRIBUTOR","body":"Hey @mattyb149, I rebased against master to account for the changes made by Mark in the test framework. Let me know if there is something else.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355130429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355144736","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-355144736","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":355144736,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE0NDczNg==","user":{"login":"mcgilman","id":123395,"node_id":"MDQ6VXNlcjEyMzM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/123395?v=4","gravatar_id":"","url":"https://api.github.com/users/mcgilman","html_url":"https://github.com/mcgilman","followers_url":"https://api.github.com/users/mcgilman/followers","following_url":"https://api.github.com/users/mcgilman/following{/other_user}","gists_url":"https://api.github.com/users/mcgilman/gists{/gist_id}","starred_url":"https://api.github.com/users/mcgilman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcgilman/subscriptions","organizations_url":"https://api.github.com/users/mcgilman/orgs","repos_url":"https://api.github.com/users/mcgilman/repos","events_url":"https://api.github.com/users/mcgilman/events{/privacy}","received_events_url":"https://api.github.com/users/mcgilman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-03T22:23:19Z","updated_at":"2018-01-03T22:23:19Z","author_association":"CONTRIBUTOR","body":"@scottyaslan Thanks! I've addressed issues with the menu going off the screen. If you have a second to verify again, it would be appreciated.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355144736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355171814","html_url":"https://github.com/apache/nifi/pull/2365#issuecomment-355171814","issue_url":"https://api.github.com/repos/apache/nifi/issues/2365","id":355171814,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE3MTgxNA==","user":{"login":"mcgilman","id":123395,"node_id":"MDQ6VXNlcjEyMzM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/123395?v=4","gravatar_id":"","url":"https://api.github.com/users/mcgilman","html_url":"https://github.com/mcgilman","followers_url":"https://api.github.com/users/mcgilman/followers","following_url":"https://api.github.com/users/mcgilman/following{/other_user}","gists_url":"https://api.github.com/users/mcgilman/gists{/gist_id}","starred_url":"https://api.github.com/users/mcgilman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcgilman/subscriptions","organizations_url":"https://api.github.com/users/mcgilman/orgs","repos_url":"https://api.github.com/users/mcgilman/repos","events_url":"https://api.github.com/users/mcgilman/events{/privacy}","received_events_url":"https://api.github.com/users/mcgilman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T01:04:01Z","updated_at":"2018-01-04T01:05:48Z","author_association":"CONTRIBUTOR","body":"@joewitt Looks like the previous implementation using a `com.sun` class used two space indentation. Primarily investigation suggests a few options...\r\n\r\n- Accept a new default of 4 spaces.\r\n- Set a property which configures an internal indentation strategy\r\n\r\n`marshaller.setProperty(\"com.sun.xml.internal.bind.indentString\", \"  \");`\r\n\r\n- Add a dependency on the BSD licensed stax-utils\r\n\r\n```\r\n<dependency>\r\n    <groupId>net.java.dev.stax-utils</groupId>\r\n    <artifactId>stax-utils</artifactId>\r\n    <version>20070216</version>\r\n</dependency>\r\n```\r\nhttps://mvnrepository.com/artifact/net.java.dev.stax-utils/stax-utils/20070216\r\n\r\nwhich offers a similar (same?) `com.sun` class that we were previously referencing.\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355171814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355191649","html_url":"https://github.com/apache/nifi/pull/2365#issuecomment-355191649","issue_url":"https://api.github.com/repos/apache/nifi/issues/2365","id":355191649,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE5MTY0OQ==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T03:38:21Z","updated_at":"2018-01-04T03:38:21Z","author_association":"CONTRIBUTOR","body":"@mcgilman in my opinion we should set the indentString property to maintain consistency with the older format","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355191649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355193316","html_url":"https://github.com/apache/nifi/pull/2219#issuecomment-355193316","issue_url":"https://api.github.com/repos/apache/nifi/issues/2219","id":355193316,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE5MzMxNg==","user":{"login":"scottyaslan","id":6797571,"node_id":"MDQ6VXNlcjY3OTc1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/6797571?v=4","gravatar_id":"","url":"https://api.github.com/users/scottyaslan","html_url":"https://github.com/scottyaslan","followers_url":"https://api.github.com/users/scottyaslan/followers","following_url":"https://api.github.com/users/scottyaslan/following{/other_user}","gists_url":"https://api.github.com/users/scottyaslan/gists{/gist_id}","starred_url":"https://api.github.com/users/scottyaslan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/scottyaslan/subscriptions","organizations_url":"https://api.github.com/users/scottyaslan/orgs","repos_url":"https://api.github.com/users/scottyaslan/repos","events_url":"https://api.github.com/users/scottyaslan/events{/privacy}","received_events_url":"https://api.github.com/users/scottyaslan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T03:54:59Z","updated_at":"2018-01-04T03:54:59Z","author_association":"CONTRIBUTOR","body":"@mcgilman thanks! I am a +1 for the UI portion of this PR! Very nice work and thank you for this contribution.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355193316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355196862","html_url":"https://github.com/apache/nifi/pull/2361#issuecomment-355196862","issue_url":"https://api.github.com/repos/apache/nifi/issues/2361","id":355196862,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE5Njg2Mg==","user":{"login":"adamlamar","id":13948507,"node_id":"MDQ6VXNlcjEzOTQ4NTA3","avatar_url":"https://avatars.githubusercontent.com/u/13948507?v=4","gravatar_id":"","url":"https://api.github.com/users/adamlamar","html_url":"https://github.com/adamlamar","followers_url":"https://api.github.com/users/adamlamar/followers","following_url":"https://api.github.com/users/adamlamar/following{/other_user}","gists_url":"https://api.github.com/users/adamlamar/gists{/gist_id}","starred_url":"https://api.github.com/users/adamlamar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamlamar/subscriptions","organizations_url":"https://api.github.com/users/adamlamar/orgs","repos_url":"https://api.github.com/users/adamlamar/repos","events_url":"https://api.github.com/users/adamlamar/events{/privacy}","received_events_url":"https://api.github.com/users/adamlamar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T04:32:56Z","updated_at":"2018-01-04T04:32:56Z","author_association":"CONTRIBUTOR","body":"@ijokarumawak Roger, I will expand the scope of this JIRA to include those other fixes. Should be doable in a single JIRA, was just unsure how you all prefer to move forward. Thanks again for all your help - will likely be several days before I'm able to push new commits.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355196862/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355197043","html_url":"https://github.com/apache/nifi/pull/2365#issuecomment-355197043","issue_url":"https://api.github.com/repos/apache/nifi/issues/2365","id":355197043,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE5NzA0Mw==","user":{"login":"mcgilman","id":123395,"node_id":"MDQ6VXNlcjEyMzM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/123395?v=4","gravatar_id":"","url":"https://api.github.com/users/mcgilman","html_url":"https://github.com/mcgilman","followers_url":"https://api.github.com/users/mcgilman/followers","following_url":"https://api.github.com/users/mcgilman/following{/other_user}","gists_url":"https://api.github.com/users/mcgilman/gists{/gist_id}","starred_url":"https://api.github.com/users/mcgilman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcgilman/subscriptions","organizations_url":"https://api.github.com/users/mcgilman/orgs","repos_url":"https://api.github.com/users/mcgilman/repos","events_url":"https://api.github.com/users/mcgilman/events{/privacy}","received_events_url":"https://api.github.com/users/mcgilman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T04:34:53Z","updated_at":"2018-01-04T04:34:53Z","author_association":"CONTRIBUTOR","body":"@joewitt I agree that we should remain consistent with the older format. I don't think I fully explained option 3. The stax-utils artifact appears to package the same `com.sun` class we were previously referencing but in a `javanet.staxutils` package. This may be the safer of the two options as we wouldn't be relying on an internal/undocumented `Marshaller` property. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355197043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355197552","html_url":"https://github.com/apache/nifi/pull/2365#issuecomment-355197552","issue_url":"https://api.github.com/repos/apache/nifi/issues/2365","id":355197552,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE5NzU1Mg==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T04:40:07Z","updated_at":"2018-01-04T04:40:07Z","author_association":"CONTRIBUTOR","body":"@mcgilman you explained it fine.  You just didn't indicate you had a preference :)\r\n\r\nLet me read up on that thing.  I agree depending on internal/undoc items is uncool.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355197552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355198598","html_url":"https://github.com/apache/nifi/pull/2365#issuecomment-355198598","issue_url":"https://api.github.com/repos/apache/nifi/issues/2365","id":355198598,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE5ODU5OA==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T04:51:56Z","updated_at":"2018-01-04T04:51:56Z","author_association":"CONTRIBUTOR","body":"Option1: Change from the old impl/dep which had 4 spaces to JDK built-in classes which is now 2.\r\n  Pro: Removes a problematic dependency.  Con: Impacts users doing pure diffs of templates.\r\n\r\nOption2: Set the com.sun.indent property on the marshaller.  This is not doc'd or guaranteed and could change.  If it does change it could break the app since it would throw an exception if it gets a property it doesn't understand.\r\n\r\nOption3: Use the 2007/java.net binary you found.  Given that is from a now defunct location it is hard to really trust it from an L&N pov and it appears to have a transitive dep based on looking at its pom.  In general i dont love this option.\r\n\r\nSo my preference is in order 1, 3, 2.\r\n\r\nWhat do you think @mcgilman ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355198598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355198866","html_url":"https://github.com/apache/nifi/pull/2365#issuecomment-355198866","issue_url":"https://api.github.com/repos/apache/nifi/issues/2365","id":355198866,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTE5ODg2Ng==","user":{"login":"mcgilman","id":123395,"node_id":"MDQ6VXNlcjEyMzM5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/123395?v=4","gravatar_id":"","url":"https://api.github.com/users/mcgilman","html_url":"https://github.com/mcgilman","followers_url":"https://api.github.com/users/mcgilman/followers","following_url":"https://api.github.com/users/mcgilman/following{/other_user}","gists_url":"https://api.github.com/users/mcgilman/gists{/gist_id}","starred_url":"https://api.github.com/users/mcgilman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcgilman/subscriptions","organizations_url":"https://api.github.com/users/mcgilman/orgs","repos_url":"https://api.github.com/users/mcgilman/repos","events_url":"https://api.github.com/users/mcgilman/events{/privacy}","received_events_url":"https://api.github.com/users/mcgilman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T04:54:33Z","updated_at":"2018-01-04T04:54:33Z","author_association":"CONTRIBUTOR","body":"@joewitt I agree regarding the questionable L&N on option 3. I also agree with your take on option two. Let me update the PR. ","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355198866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355213246","html_url":"https://github.com/apache/nifi/pull/2363#issuecomment-355213246","issue_url":"https://api.github.com/repos/apache/nifi/issues/2363","id":355213246,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTIxMzI0Ng==","user":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T07:08:15Z","updated_at":"2018-01-04T07:08:15Z","author_association":"CONTRIBUTOR","body":"Thanks for your comment @joewitt. I think we can't fix this in jolt since the root cause is our concurrent usage of their utilities and fixing it there seems an overkill to me. What do you think about using a pool instead of the thread local then?","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355213246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355226765","html_url":"https://github.com/apache/nifi/pull/2285#issuecomment-355226765","issue_url":"https://api.github.com/repos/apache/nifi/issues/2285","id":355226765,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTIyNjc2NQ==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T08:39:34Z","updated_at":"2018-01-04T08:39:34Z","author_association":"MEMBER","body":"@JohannesDaniel Technically, we can [amend old commit info](https://stackoverflow.com/questions/3042437/change-commit-author-at-one-specific-commit). However, I think it requires a force push, which may lose commits if coming at the same time, and for every local branch people cloned to be updated. So if we decide to do that operation, we need to announce that to NiFi dev ML at least. Please initiate such conversation at NiFi dev ML if needed. Thank you.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355226765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355226918","html_url":"https://github.com/apache/nifi/pull/2285#issuecomment-355226918","issue_url":"https://api.github.com/repos/apache/nifi/issues/2285","id":355226918,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTIyNjkxOA==","user":{"login":"ijokarumawak","id":1107620,"node_id":"MDQ6VXNlcjExMDc2MjA=","avatar_url":"https://avatars.githubusercontent.com/u/1107620?v=4","gravatar_id":"","url":"https://api.github.com/users/ijokarumawak","html_url":"https://github.com/ijokarumawak","followers_url":"https://api.github.com/users/ijokarumawak/followers","following_url":"https://api.github.com/users/ijokarumawak/following{/other_user}","gists_url":"https://api.github.com/users/ijokarumawak/gists{/gist_id}","starred_url":"https://api.github.com/users/ijokarumawak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijokarumawak/subscriptions","organizations_url":"https://api.github.com/users/ijokarumawak/orgs","repos_url":"https://api.github.com/users/ijokarumawak/repos","events_url":"https://api.github.com/users/ijokarumawak/events{/privacy}","received_events_url":"https://api.github.com/users/ijokarumawak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T08:40:25Z","updated_at":"2018-01-04T08:40:25Z","author_association":"MEMBER","body":"So, I'd prefer leaving as it is if it's not too critical.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355226918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355254083","html_url":"https://github.com/apache/nifi/pull/2224#issuecomment-355254083","issue_url":"https://api.github.com/repos/apache/nifi/issues/2224","id":355254083,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTI1NDA4Mw==","user":{"login":"pvillard31","id":11541012,"node_id":"MDQ6VXNlcjExNTQxMDEy","avatar_url":"https://avatars.githubusercontent.com/u/11541012?v=4","gravatar_id":"","url":"https://api.github.com/users/pvillard31","html_url":"https://github.com/pvillard31","followers_url":"https://api.github.com/users/pvillard31/followers","following_url":"https://api.github.com/users/pvillard31/following{/other_user}","gists_url":"https://api.github.com/users/pvillard31/gists{/gist_id}","starred_url":"https://api.github.com/users/pvillard31/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvillard31/subscriptions","organizations_url":"https://api.github.com/users/pvillard31/orgs","repos_url":"https://api.github.com/users/pvillard31/repos","events_url":"https://api.github.com/users/pvillard31/events{/privacy}","received_events_url":"https://api.github.com/users/pvillard31/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T10:56:45Z","updated_at":"2018-01-04T10:56:45Z","author_association":"CONTRIBUTOR","body":"I just rebased against master and added 1.0 Kafka processors.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355254083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355291484","html_url":"https://github.com/apache/nifi/pull/2363#issuecomment-355291484","issue_url":"https://api.github.com/repos/apache/nifi/issues/2363","id":355291484,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTI5MTQ4NA==","user":{"login":"joewitt","id":3057465,"node_id":"MDQ6VXNlcjMwNTc0NjU=","avatar_url":"https://avatars.githubusercontent.com/u/3057465?v=4","gravatar_id":"","url":"https://api.github.com/users/joewitt","html_url":"https://github.com/joewitt","followers_url":"https://api.github.com/users/joewitt/followers","following_url":"https://api.github.com/users/joewitt/following{/other_user}","gists_url":"https://api.github.com/users/joewitt/gists{/gist_id}","starred_url":"https://api.github.com/users/joewitt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joewitt/subscriptions","organizations_url":"https://api.github.com/users/joewitt/orgs","repos_url":"https://api.github.com/users/joewitt/repos","events_url":"https://api.github.com/users/joewitt/events{/privacy}","received_events_url":"https://api.github.com/users/joewitt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T14:11:41Z","updated_at":"2018-01-04T14:11:41Z","author_association":"CONTRIBUTOR","body":"@mgaido91 If the root problem appears to be that the jolt object needed is not thread safe then using a pool of lazily initialized objects makes great sense.  You can create them when one is not available and return it to the pool and that will naturally max out at total num threads for that processor.  You can clear out the pool whenever the processor is unscheduled.\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355291484/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355293036","html_url":"https://github.com/apache/nifi/pull/2369#issuecomment-355293036","issue_url":"https://api.github.com/repos/apache/nifi/issues/2369","id":355293036,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTI5MzAzNg==","user":{"login":"markap14","id":184268,"node_id":"MDQ6VXNlcjE4NDI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/184268?v=4","gravatar_id":"","url":"https://api.github.com/users/markap14","html_url":"https://github.com/markap14","followers_url":"https://api.github.com/users/markap14/followers","following_url":"https://api.github.com/users/markap14/following{/other_user}","gists_url":"https://api.github.com/users/markap14/gists{/gist_id}","starred_url":"https://api.github.com/users/markap14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/markap14/subscriptions","organizations_url":"https://api.github.com/users/markap14/orgs","repos_url":"https://api.github.com/users/markap14/repos","events_url":"https://api.github.com/users/markap14/events{/privacy}","received_events_url":"https://api.github.com/users/markap14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T14:18:11Z","updated_at":"2018-01-04T14:18:11Z","author_association":"CONTRIBUTOR","body":"@joewitt all looks good to me. I don't have a running JMS broker or Couchbase server to test against. However, I did review the code & the maven config and all looks correct. I was also able to verify the linkage between the processors and the related controller services was working correctly, so I feel good about it. +1 merged to master.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355293036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355308196","html_url":"https://github.com/apache/nifi/pull/2363#issuecomment-355308196","issue_url":"https://api.github.com/repos/apache/nifi/issues/2363","id":355308196,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTMwODE5Ng==","user":{"login":"mgaido91","id":8821783,"node_id":"MDQ6VXNlcjg4MjE3ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8821783?v=4","gravatar_id":"","url":"https://api.github.com/users/mgaido91","html_url":"https://github.com/mgaido91","followers_url":"https://api.github.com/users/mgaido91/followers","following_url":"https://api.github.com/users/mgaido91/following{/other_user}","gists_url":"https://api.github.com/users/mgaido91/gists{/gist_id}","starred_url":"https://api.github.com/users/mgaido91/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgaido91/subscriptions","organizations_url":"https://api.github.com/users/mgaido91/orgs","repos_url":"https://api.github.com/users/mgaido91/repos","events_url":"https://api.github.com/users/mgaido91/events{/privacy}","received_events_url":"https://api.github.com/users/mgaido91/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-01-04T15:16:44Z","updated_at":"2018-01-04T15:16:44Z","author_association":"CONTRIBUTOR","body":"Thanks for your suggestion @joewitt, I'll update this PR accordingly ASAP, thanks.","reactions":{"url":"https://api.github.com/repos/apache/nifi/issues/comments/355308196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]