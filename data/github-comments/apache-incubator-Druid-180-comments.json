[{"url":"https://api.github.com/repos/apache/druid/issues/comments/373110052","html_url":"https://github.com/apache/druid/issues/5485#issuecomment-373110052","issue_url":"https://api.github.com/repos/apache/druid/issues/5485","id":373110052,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzExMDA1Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T17:36:03Z","updated_at":"2018-03-14T17:36:03Z","author_association":"MEMBER","body":"Yes, this is a bug. I will create a PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373110052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373113608","html_url":"https://github.com/apache/druid/issues/5347#issuecomment-373113608","issue_url":"https://api.github.com/repos/apache/druid/issues/5347","id":373113608,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzExMzYwOA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T17:46:18Z","updated_at":"2018-03-14T17:46:18Z","author_association":"CONTRIBUTOR","body":"@clintropolis has been looking at adding new integer encodings for the data section of string columns and has run into confusion as well about the best way to extend the current system.\r\n\r\n@clintropolis - maybe you can suggest some ways to improve it based on your experience doing this investigation?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373113608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373128174","html_url":"https://github.com/apache/druid/pull/5478#issuecomment-373128174","issue_url":"https://api.github.com/repos/apache/druid/issues/5478","id":373128174,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzEyODE3NA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T18:29:12Z","updated_at":"2018-03-14T18:29:12Z","author_association":"CONTRIBUTOR","body":"Thanks, i have fixed the doc and added a sentence about pros/cons of using Double columns.\r\nAm not sure what kind of number you guys expect please let me know and will address it in a follow-up. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373128174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373157390","html_url":"https://github.com/apache/druid/pull/5477#issuecomment-373157390","issue_url":"https://api.github.com/repos/apache/druid/issues/5477","id":373157390,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE1NzM5MA==","user":{"login":"bolkedebruin","id":4282712,"node_id":"MDQ6VXNlcjQyODI3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/4282712?v=4","gravatar_id":"","url":"https://api.github.com/users/bolkedebruin","html_url":"https://github.com/bolkedebruin","followers_url":"https://api.github.com/users/bolkedebruin/followers","following_url":"https://api.github.com/users/bolkedebruin/following{/other_user}","gists_url":"https://api.github.com/users/bolkedebruin/gists{/gist_id}","starred_url":"https://api.github.com/users/bolkedebruin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bolkedebruin/subscriptions","organizations_url":"https://api.github.com/users/bolkedebruin/orgs","repos_url":"https://api.github.com/users/bolkedebruin/repos","events_url":"https://api.github.com/users/bolkedebruin/events{/privacy}","received_events_url":"https://api.github.com/users/bolkedebruin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T20:07:37Z","updated_at":"2018-03-14T20:07:37Z","author_association":"CONTRIBUTOR","body":"@gianm Done.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373157390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373160664","html_url":"https://github.com/apache/druid/pull/5478#issuecomment-373160664","issue_url":"https://api.github.com/repos/apache/druid/issues/5478","id":373160664,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE2MDY2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T20:19:03Z","updated_at":"2018-03-14T20:19:14Z","author_association":"CONTRIBUTOR","body":"@b-slim What I was thinking was that as people decide if they want to use floats or doubles, they will weigh the tradeoff of accuracy against storage size / performance. Presumably doubles use more space. They may be slower too (?). People can do their own tests but it might still be useful for us to publish some numbers.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373160664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373176960","html_url":"https://github.com/apache/druid/pull/5478#issuecomment-373176960","issue_url":"https://api.github.com/repos/apache/druid/issues/5478","id":373176960,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE3Njk2MA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T21:14:21Z","updated_at":"2018-03-14T21:14:21Z","author_association":"CONTRIBUTOR","body":"@gianm fair enough for the speed part I thought the effect can be very negligible since we are using 64-bit primitive doubles to aggregate, but you are right maybe we can have a hit due to deserialization and loading into memory. Will add that to my list.  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373176960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373184121","html_url":"https://github.com/apache/druid/issues/5485#issuecomment-373184121","issue_url":"https://api.github.com/repos/apache/druid/issues/5485","id":373184121,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE4NDEyMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T21:40:18Z","updated_at":"2018-03-14T21:40:18Z","author_association":"MEMBER","body":"#5488","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373184121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373184224","html_url":"https://github.com/apache/druid/pull/5484#issuecomment-373184224","issue_url":"https://api.github.com/repos/apache/druid/issues/5484","id":373184224,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE4NDIyNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T21:40:44Z","updated_at":"2018-03-14T21:40:44Z","author_association":"MEMBER","body":"What about reverting this PR after #5488 is merged?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373184224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373186289","html_url":"https://github.com/apache/druid/pull/5488#issuecomment-373186289","issue_url":"https://api.github.com/repos/apache/druid/issues/5488","id":373186289,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE4NjI4OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T21:48:40Z","updated_at":"2018-03-14T21:48:40Z","author_association":"CONTRIBUTOR","body":"I know it is more of a pain, but I think it'd be nice to do this as two patches, one for the combine and one for the bug fix. It will make the git history more readable. Not to mention, the review of the bugfix will be more readable.\r\n\r\nI think the combining of those modules makes total sense at this point.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373186289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373186366","html_url":"https://github.com/apache/druid/pull/5488#issuecomment-373186366","issue_url":"https://api.github.com/repos/apache/druid/issues/5488","id":373186366,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE4NjM2Ng==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T21:49:02Z","updated_at":"2018-03-14T21:49:02Z","author_association":"CONTRIBUTOR","body":"@leventov can we do this in 2 different PRs? like that we can revert if needed, sorry for extra work","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373186366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373186446","html_url":"https://github.com/apache/druid/issues/5485#issuecomment-373186446","issue_url":"https://api.github.com/repos/apache/druid/issues/5485","id":373186446,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE4NjQ0Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T21:49:23Z","updated_at":"2018-03-14T21:49:23Z","author_association":"MEMBER","body":"Also @niketh the fact that you hit `HttpPostEmitter.limitBuffersToEmitSize()` means that your emitting service doesn't keep up with the rate of emitted events, and they are dropped. You may want to adjust HttpPostEmitter configurations, or look at it's metrics.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373186446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373193202","html_url":"https://github.com/apache/druid/pull/5477#issuecomment-373193202","issue_url":"https://api.github.com/repos/apache/druid/issues/5477","id":373193202,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE5MzIwMg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T22:15:48Z","updated_at":"2018-03-14T22:15:48Z","author_association":"CONTRIBUTOR","body":"Thanks @bolkedebruin ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373193202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373193536","html_url":"https://github.com/apache/druid/pull/5490#issuecomment-373193536","issue_url":"https://api.github.com/repos/apache/druid/issues/5490","id":373193536,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE5MzUzNg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T22:17:12Z","updated_at":"2018-03-14T22:17:12Z","author_association":"CONTRIBUTOR","body":"looks good to me, but there are some merge conflicts. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373193536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373196114","html_url":"https://github.com/apache/druid/issues/5491#issuecomment-373196114","issue_url":"https://api.github.com/repos/apache/druid/issues/5491","id":373196114,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzE5NjExNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-14T22:28:09Z","updated_at":"2018-03-14T22:28:09Z","author_association":"CONTRIBUTOR","body":"I'll take a look at this","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373196114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373216587","html_url":"https://github.com/apache/druid/pull/5148#issuecomment-373216587","issue_url":"https://api.github.com/repos/apache/druid/issues/5148","id":373216587,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzIxNjU4Nw==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T00:09:23Z","updated_at":"2018-03-15T00:09:23Z","author_association":"CONTRIBUTOR","body":"> Also, IntelliJ inspections build failure is related to this PR, please fix\r\n\r\nWhich one is this?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373216587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373236375","html_url":"https://github.com/apache/druid/issues/5493#issuecomment-373236375","issue_url":"https://api.github.com/repos/apache/druid/issues/5493","id":373236375,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzIzNjM3NQ==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T02:07:55Z","updated_at":"2018-03-15T02:07:55Z","author_association":"CONTRIBUTOR","body":"\r\n[5493.txt](https://github.com/druid-io/druid/files/1813764/5493.txt)\r\n\r\nPatch file with fix and test case attached.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373236375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373236623","html_url":"https://github.com/apache/druid/issues/5493#issuecomment-373236623","issue_url":"https://api.github.com/repos/apache/druid/issues/5493","id":373236623,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzIzNjYyMw==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T02:09:22Z","updated_at":"2018-03-15T02:09:22Z","author_association":"CONTRIBUTOR","body":"@jihoonson, @gianm  - as part of working on https://github.com/druid-io/druid/pull/5471/, I discovered this issue with nested queries. When you get a chance, can you please take a look? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373236623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373253333","html_url":"https://github.com/apache/druid/issues/5493#issuecomment-373253333","issue_url":"https://api.github.com/repos/apache/druid/issues/5493","id":373253333,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzI1MzMzMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T03:58:13Z","updated_at":"2018-03-15T03:58:13Z","author_association":"CONTRIBUTOR","body":"@samarthjain is the attached patch is for #5471? If so, you can simply push more commits to your repository. It will be reflected automatically to your PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373253333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373255308","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-373255308","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":373255308,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzI1NTMwOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T04:13:54Z","updated_at":"2018-03-15T04:13:54Z","author_association":"CONTRIBUTOR","body":"@drcrallen any other comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373255308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373256994","html_url":"https://github.com/apache/druid/issues/5493#issuecomment-373256994","issue_url":"https://api.github.com/repos/apache/druid/issues/5493","id":373256994,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzI1Njk5NA==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T04:25:56Z","updated_at":"2018-03-15T04:25:56Z","author_association":"CONTRIBUTOR","body":"@jihoonson, the patch is not related to 5471. It looks like a bug in general.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373256994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373261541","html_url":"https://github.com/apache/druid/issues/5493#issuecomment-373261541","issue_url":"https://api.github.com/repos/apache/druid/issues/5493","id":373261541,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzI2MTU0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T05:02:12Z","updated_at":"2018-03-15T05:02:12Z","author_association":"CONTRIBUTOR","body":"@samarthjain oh nice! Then, would you make another PR for this issue? It would be much better to review your work.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373261541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373271324","html_url":"https://github.com/apache/druid/pull/3091#issuecomment-373271324","issue_url":"https://api.github.com/repos/apache/druid/issues/3091","id":373271324,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzI3MTMyNA==","user":{"login":"singhania","id":4375517,"node_id":"MDQ6VXNlcjQzNzU1MTc=","avatar_url":"https://avatars.githubusercontent.com/u/4375517?v=4","gravatar_id":"","url":"https://api.github.com/users/singhania","html_url":"https://github.com/singhania","followers_url":"https://api.github.com/users/singhania/followers","following_url":"https://api.github.com/users/singhania/following{/other_user}","gists_url":"https://api.github.com/users/singhania/gists{/gist_id}","starred_url":"https://api.github.com/users/singhania/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhania/subscriptions","organizations_url":"https://api.github.com/users/singhania/orgs","repos_url":"https://api.github.com/users/singhania/repos","events_url":"https://api.github.com/users/singhania/events{/privacy}","received_events_url":"https://api.github.com/users/singhania/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T06:11:10Z","updated_at":"2018-03-15T06:11:10Z","author_association":"NONE","body":"Hi,\r\nAny work still going on to support multiple dimension in dimension spec ? \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373271324/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373284745","html_url":"https://github.com/apache/druid/issues/5493#issuecomment-373284745","issue_url":"https://api.github.com/repos/apache/druid/issues/5493","id":373284745,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzI4NDc0NQ==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T07:24:35Z","updated_at":"2018-03-15T07:24:35Z","author_association":"CONTRIBUTOR","body":"Created https://github.com/druid-io/druid/pull/5496","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373284745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373476139","html_url":"https://github.com/apache/druid/issues/5481#issuecomment-373476139","issue_url":"https://api.github.com/repos/apache/druid/issues/5481","id":373476139,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzQ3NjEzOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T18:22:43Z","updated_at":"2018-03-15T18:22:59Z","author_association":"CONTRIBUTOR","body":"The feature freezing for our next release is scheduled on around April 7. After that, we will create release candidates. Release candidates include all available features in our next release, but there might be some bugs. So, we will do some tests for a while. You can also try release candidates and that will help us to test them!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373476139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373480748","html_url":"https://github.com/apache/druid/issues/5499#issuecomment-373480748","issue_url":"https://api.github.com/repos/apache/druid/issues/5499","id":373480748,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzQ4MDc0OA==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T18:37:30Z","updated_at":"2018-03-15T18:37:30Z","author_association":"CONTRIBUTOR","body":"yeah, it is sad! I have been asking Sketch devs to add some basic docs examples but nothing is happening, I guess writing docs is not glorious...\r\nhttps://github.com/druid-io/druid/pull/5148#issuecomment-361965095 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373480748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373481077","html_url":"https://github.com/apache/druid/pull/5148#issuecomment-373481077","issue_url":"https://api.github.com/repos/apache/druid/issues/5148","id":373481077,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzQ4MTA3Nw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T18:38:34Z","updated_at":"2018-03-15T18:38:34Z","author_association":"CONTRIBUTOR","body":"here is one more voice https://github.com/druid-io/druid/issues/5499","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373481077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373520975","html_url":"https://github.com/apache/druid/pull/5496#issuecomment-373520975","issue_url":"https://api.github.com/repos/apache/druid/issues/5496","id":373520975,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzUyMDk3NQ==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T20:59:23Z","updated_at":"2018-03-15T20:59:23Z","author_association":"CONTRIBUTOR","body":"Just wanted to state it out in case the issue is not apparent -  today, we look at the outermost query's segment spec to figure out what segments to query. This could return wrong results when the inner query segment spec is different from the outer query's segment spec.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373520975/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373547196","html_url":"https://github.com/apache/druid/pull/5452#issuecomment-373547196","issue_url":"https://api.github.com/repos/apache/druid/issues/5452","id":373547196,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzU0NzE5Ng==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T22:47:40Z","updated_at":"2018-03-15T22:47:40Z","author_association":"MEMBER","body":"\n\n\n\nReview status: 128 of 194 files reviewed at latest revision, 29 unresolved discussions.\n\n---\n\n*[processing/src/main/java/io/druid/query/aggregation/last/DoubleLastAggregatorFactory.java, line 154 at r2](https://reviewable.io:443/reviews/druid-io/druid/5452#-L7STR6TgqZmCU5RnGvS:-L7fq9G2qWVtKYILoDkG:blkwbqj) ([raw file](https://github.com/druid-io/druid/blob/97f6114190ed8f1de5412160a6dea20b2af08f76/processing/src/main/java/io/druid/query/aggregation/last/DoubleLastAggregatorFactory.java#L154)):*\n<details><summary><i>Previously, b-slim (Slim) wrote…</i></summary><blockquote>\n\nwhy are we changing this? I know it is the same size but not really needed.\n</blockquote></details>\n\nfixed.\n\n---\n\n*[processing/src/main/java/io/druid/query/filter/SelectorDimFilter.java, line 79 at r2](https://reviewable.io:443/reviews/druid-io/druid/5452#-L7SWC65uMp6jBwNQtUs:-L7fp_H2ekcPqIfdVqWA:b-qssebl) ([raw file](https://github.com/druid-io/druid/blob/97f6114190ed8f1de5412160a6dea20b2af08f76/processing/src/main/java/io/druid/query/filter/SelectorDimFilter.java#L79)):*\n<details><summary><i>Previously, b-slim (Slim) wrote…</i></summary><blockquote>\n\n5 ?\n</blockquote></details>\n\nfixed.\n\n---\n\n*[sql/src/main/java/io/druid/sql/calcite/planner/Calcites.java, line 108 at r2](https://reviewable.io:443/reviews/druid-io/druid/5452#-L7SZez2PgTxv6I94IWB:-L7fpgR9NJP7uKh0Nkz0:bbxldru) ([raw file](https://github.com/druid-io/druid/blob/97f6114190ed8f1de5412160a6dea20b2af08f76/sql/src/main/java/io/druid/sql/calcite/planner/Calcites.java#L108)):*\n<details><summary><i>Previously, b-slim (Slim) wrote…</i></summary><blockquote>\n\nthis will throw an exception, is that what should be done? the old code seems to be fine with nulls?\n</blockquote></details>\n\nyes, we never expect null here now. \n\n---\n\n*[sql/src/main/java/io/druid/sql/calcite/planner/DruidOperatorTable.java, line 121 at r2](https://reviewable.io:443/reviews/druid-io/druid/5452#-L7SZx3sKskwtPhpkvqh:-L7fpj9ItnRbqqMdQXpm:b-8t2esw) ([raw file](https://github.com/druid-io/druid/blob/97f6114190ed8f1de5412160a6dea20b2af08f76/sql/src/main/java/io/druid/sql/calcite/planner/DruidOperatorTable.java#L121)):*\n<details><summary><i>Previously, b-slim (Slim) wrote…</i></summary><blockquote>\n\nwhy not  == null or != null ?\n</blockquote></details>\n\n==  and !=  are binary operators in SQL which when comparing nulls return false as per sql standard. \ne.g. Select null == null; will return false \nand Select isNull(null) will return true; \n\n---\n\n\n*Comments from [Reviewable](https://reviewable.io:443/reviews/druid-io/druid/5452)*\n<!-- Sent from Reviewable.io -->\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373547196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373547365","html_url":"https://github.com/apache/druid/pull/5452#issuecomment-373547365","issue_url":"https://api.github.com/repos/apache/druid/issues/5452","id":373547365,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzU0NzM2NQ==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T22:48:25Z","updated_at":"2018-03-15T22:48:25Z","author_association":"MEMBER","body":"@leventov @b-slim fixed review comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373547365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373558389","html_url":"https://github.com/apache/druid/pull/5500#issuecomment-373558389","issue_url":"https://api.github.com/repos/apache/druid/issues/5500","id":373558389,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzU1ODM4OQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-15T23:48:31Z","updated_at":"2018-03-15T23:48:31Z","author_association":"CONTRIBUTOR","body":":+1: after CI","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373558389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373705929","html_url":"https://github.com/apache/druid/issues/4345#issuecomment-373705929","issue_url":"https://api.github.com/repos/apache/druid/issues/4345","id":373705929,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzcwNTkyOQ==","user":{"login":"Sarvesh1990","id":6920414,"node_id":"MDQ6VXNlcjY5MjA0MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/6920414?v=4","gravatar_id":"","url":"https://api.github.com/users/Sarvesh1990","html_url":"https://github.com/Sarvesh1990","followers_url":"https://api.github.com/users/Sarvesh1990/followers","following_url":"https://api.github.com/users/Sarvesh1990/following{/other_user}","gists_url":"https://api.github.com/users/Sarvesh1990/gists{/gist_id}","starred_url":"https://api.github.com/users/Sarvesh1990/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sarvesh1990/subscriptions","organizations_url":"https://api.github.com/users/Sarvesh1990/orgs","repos_url":"https://api.github.com/users/Sarvesh1990/repos","events_url":"https://api.github.com/users/Sarvesh1990/events{/privacy}","received_events_url":"https://api.github.com/users/Sarvesh1990/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T13:00:14Z","updated_at":"2018-03-16T13:00:14Z","author_association":"NONE","body":"Hey. Can I take up this issue? I have recently started using druid in one of my project and really liked the product. I am new to open source so don't want to pick something big at this stage. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373705929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373760395","html_url":"https://github.com/apache/druid/pull/5501#issuecomment-373760395","issue_url":"https://api.github.com/repos/apache/druid/issues/5501","id":373760395,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzc2MDM5NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T16:01:31Z","updated_at":"2018-03-16T16:01:31Z","author_association":"CONTRIBUTOR","body":"The CI failure was https://github.com/druid-io/druid/issues/5502, which doesn't seem related to this patch. I restarted the tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373760395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373763616","html_url":"https://github.com/apache/druid/issues/4345#issuecomment-373763616","issue_url":"https://api.github.com/repos/apache/druid/issues/4345","id":373763616,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzc2MzYxNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T16:11:42Z","updated_at":"2018-03-16T16:11:42Z","author_association":"CONTRIBUTOR","body":"Hi @Sarvesh1990, definitely!\r\n\r\nFor the first thing (number of merge buffers allocated), that should probably be the number of merge buffers outstanding at a point in time. For an example of another metric that does this, check `jetty/numOpenConnections` in JettyServerModule. And then consider adding something similar to DruidProcessingModule.\r\n\r\nFor the second thing (amount of time spent waiting for a merge buffer), that should probably be a query metric, so the thing to do would be to add a new method like `reportMergeBufferWaitTime(long timeNs)` to QueryMetrics. And then call it with the amount of time it took to call `mergeBufferPool.take()` in GroupByMergingQueryRunnerV2.\r\n\r\nThese could be done as separate PRs since they are not related.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373763616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373820719","html_url":"https://github.com/apache/druid/issues/5497#issuecomment-373820719","issue_url":"https://api.github.com/repos/apache/druid/issues/5497","id":373820719,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzgyMDcxOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T19:28:06Z","updated_at":"2018-03-16T19:28:06Z","author_association":"CONTRIBUTOR","body":"Hi @erankor, the usual way to do this is (2): using longSum and adding a `\"count\": 1` to the regular events.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373820719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373821358","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-373821358","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":373821358,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzgyMTM1OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T19:30:48Z","updated_at":"2018-03-16T19:30:48Z","author_association":"MEMBER","body":"@gianm @b-slim do you have more comments here?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373821358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373825829","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-373825829","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":373825829,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzgyNTgyOQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T19:48:57Z","updated_at":"2018-03-16T19:48:57Z","author_association":"CONTRIBUTOR","body":"👍  after tests. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373825829/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373828317","html_url":"https://github.com/apache/druid/issues/5497#issuecomment-373828317","issue_url":"https://api.github.com/repos/apache/druid/issues/5497","id":373828317,"node_id":"MDEyOklzc3VlQ29tbWVudDM3MzgyODMxNw==","user":{"login":"erankor","id":4777488,"node_id":"MDQ6VXNlcjQ3Nzc0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4777488?v=4","gravatar_id":"","url":"https://api.github.com/users/erankor","html_url":"https://github.com/erankor","followers_url":"https://api.github.com/users/erankor/followers","following_url":"https://api.github.com/users/erankor/following{/other_user}","gists_url":"https://api.github.com/users/erankor/gists{/gist_id}","starred_url":"https://api.github.com/users/erankor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erankor/subscriptions","organizations_url":"https://api.github.com/users/erankor/orgs","repos_url":"https://api.github.com/users/erankor/repos","events_url":"https://api.github.com/users/erankor/events{/privacy}","received_events_url":"https://api.github.com/users/erankor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T19:59:04Z","updated_at":"2018-03-16T19:59:04Z","author_association":"NONE","body":"Thanks @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373828317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373844865","html_url":"https://github.com/apache/druid/issues/5493#issuecomment-373844865","issue_url":"https://api.github.com/repos/apache/druid/issues/5493","id":373844865,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzg0NDg2NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T21:05:50Z","updated_at":"2018-03-16T21:05:50Z","author_association":"CONTRIBUTOR","body":"Close via #5496.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373844865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373846174","html_url":"https://github.com/apache/druid/pull/5461#issuecomment-373846174","issue_url":"https://api.github.com/repos/apache/druid/issues/5461","id":373846174,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzg0NjE3NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-16T21:11:31Z","updated_at":"2018-03-16T21:11:31Z","author_association":"MEMBER","body":"Thanks for reviews","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373846174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/373988325","html_url":"https://github.com/apache/druid/issues/5497#issuecomment-373988325","issue_url":"https://api.github.com/repos/apache/druid/issues/5497","id":373988325,"node_id":"MDEyOklzc3VlQ29tbWVudDM3Mzk4ODMyNQ==","user":{"login":"erankor","id":4777488,"node_id":"MDQ6VXNlcjQ3Nzc0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4777488?v=4","gravatar_id":"","url":"https://api.github.com/users/erankor","html_url":"https://github.com/erankor","followers_url":"https://api.github.com/users/erankor/followers","following_url":"https://api.github.com/users/erankor/following{/other_user}","gists_url":"https://api.github.com/users/erankor/gists{/gist_id}","starred_url":"https://api.github.com/users/erankor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erankor/subscriptions","organizations_url":"https://api.github.com/users/erankor/orgs","repos_url":"https://api.github.com/users/erankor/repos","events_url":"https://api.github.com/users/erankor/events{/privacy}","received_events_url":"https://api.github.com/users/erankor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-18T10:47:47Z","updated_at":"2018-03-18T10:47:47Z","author_association":"NONE","body":"@gianm, a follow up question - if I change my schema now from count to longSum, so that new segments will be indexed with longSum while old segments were indexed with count, is it expected to cause any issue? (e.g. will a query that spans across the two types return the correct result)\r\nMy guess is that count gets translated internally to longSum, and if that is the case, a segment created with count should be equivalent to one created with with longSum. But just wanted to make sure...\r\n\r\nThanks!\r\n\r\nEran","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/373988325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374090420","html_url":"https://github.com/apache/druid/issues/5497#issuecomment-374090420","issue_url":"https://api.github.com/repos/apache/druid/issues/5497","id":374090420,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDA5MDQyMA==","user":{"login":"dragonls","id":2565118,"node_id":"MDQ6VXNlcjI1NjUxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/2565118?v=4","gravatar_id":"","url":"https://api.github.com/users/dragonls","html_url":"https://github.com/dragonls","followers_url":"https://api.github.com/users/dragonls/followers","following_url":"https://api.github.com/users/dragonls/following{/other_user}","gists_url":"https://api.github.com/users/dragonls/gists{/gist_id}","starred_url":"https://api.github.com/users/dragonls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragonls/subscriptions","organizations_url":"https://api.github.com/users/dragonls/orgs","repos_url":"https://api.github.com/users/dragonls/repos","events_url":"https://api.github.com/users/dragonls/events{/privacy}","received_events_url":"https://api.github.com/users/dragonls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T03:22:45Z","updated_at":"2018-03-19T03:22:45Z","author_association":"CONTRIBUTOR","body":"The old segments using longSum will get 0 because they don't have the \"count\" field. (While using longSum to an unknow or unexisted field, it gets 0 defaultly.)\r\nThat may be better to reindex the old segments.\r\n\r\nAnd you could also do some test about this before doing it online.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374090420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374093737","html_url":"https://github.com/apache/druid/pull/5081#issuecomment-374093737","issue_url":"https://api.github.com/repos/apache/druid/issues/5081","id":374093737,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDA5MzczNw==","user":{"login":"dragonls","id":2565118,"node_id":"MDQ6VXNlcjI1NjUxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/2565118?v=4","gravatar_id":"","url":"https://api.github.com/users/dragonls","html_url":"https://github.com/dragonls","followers_url":"https://api.github.com/users/dragonls/followers","following_url":"https://api.github.com/users/dragonls/following{/other_user}","gists_url":"https://api.github.com/users/dragonls/gists{/gist_id}","starred_url":"https://api.github.com/users/dragonls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragonls/subscriptions","organizations_url":"https://api.github.com/users/dragonls/orgs","repos_url":"https://api.github.com/users/dragonls/repos","events_url":"https://api.github.com/users/dragonls/events{/privacy}","received_events_url":"https://api.github.com/users/dragonls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T03:51:17Z","updated_at":"2018-03-19T03:51:17Z","author_association":"CONTRIBUTOR","body":"@quenlang This is the code changes.\r\nCode position: \r\nBatch support: https://github.com/druid-io/druid/blob/druid-0.12.0/api/src/main/java/io/druid/data/input/impl/InputRowParser.java#L47\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374093737/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374158163","html_url":"https://github.com/apache/druid/issues/5497#issuecomment-374158163","issue_url":"https://api.github.com/repos/apache/druid/issues/5497","id":374158163,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDE1ODE2Mw==","user":{"login":"erankor","id":4777488,"node_id":"MDQ6VXNlcjQ3Nzc0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4777488?v=4","gravatar_id":"","url":"https://api.github.com/users/erankor","html_url":"https://github.com/erankor","followers_url":"https://api.github.com/users/erankor/followers","following_url":"https://api.github.com/users/erankor/following{/other_user}","gists_url":"https://api.github.com/users/erankor/gists{/gist_id}","starred_url":"https://api.github.com/users/erankor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erankor/subscriptions","organizations_url":"https://api.github.com/users/erankor/orgs","repos_url":"https://api.github.com/users/erankor/repos","events_url":"https://api.github.com/users/erankor/events{/privacy}","received_events_url":"https://api.github.com/users/erankor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T09:58:19Z","updated_at":"2018-03-19T09:58:19Z","author_association":"NONE","body":"@dragonls, it's the other way around, the old segments use count aggregation, so it doesn't matter that the events don't have the `count` field (it will only be problematic if I will reindex them with the new schema). \r\nFor new segments, I will make sure to add the `count` field to the JSONs before I update the schema to longSum. \r\nThe question was whether segments that were ingested with longSum are equivalent to segments that were ingested with count (my guess is that they are, but would be great to get a confirmation on this)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374158163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374219503","html_url":"https://github.com/apache/druid/issues/5497#issuecomment-374219503","issue_url":"https://api.github.com/repos/apache/druid/issues/5497","id":374219503,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDIxOTUwMw==","user":{"login":"dragonls","id":2565118,"node_id":"MDQ6VXNlcjI1NjUxMTg=","avatar_url":"https://avatars.githubusercontent.com/u/2565118?v=4","gravatar_id":"","url":"https://api.github.com/users/dragonls","html_url":"https://github.com/dragonls","followers_url":"https://api.github.com/users/dragonls/followers","following_url":"https://api.github.com/users/dragonls/following{/other_user}","gists_url":"https://api.github.com/users/dragonls/gists{/gist_id}","starred_url":"https://api.github.com/users/dragonls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dragonls/subscriptions","organizations_url":"https://api.github.com/users/dragonls/orgs","repos_url":"https://api.github.com/users/dragonls/repos","events_url":"https://api.github.com/users/dragonls/events{/privacy}","received_events_url":"https://api.github.com/users/dragonls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T13:54:53Z","updated_at":"2018-03-19T13:54:53Z","author_association":"CONTRIBUTOR","body":"@erankor The results are not the same.\r\nThe result using count may be smaller than that using longSum. The records with the same dimensions in one segment will be count just as 1.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374219503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374302233","html_url":"https://github.com/apache/druid/pull/5414#issuecomment-374302233","issue_url":"https://api.github.com/repos/apache/druid/issues/5414","id":374302233,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDMwMjIzMw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T17:42:19Z","updated_at":"2018-03-19T17:42:19Z","author_association":"CONTRIBUTOR","body":"@gianm / @leventov any other comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374302233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374304541","html_url":"https://github.com/apache/druid/pull/5413#issuecomment-374304541","issue_url":"https://api.github.com/repos/apache/druid/issues/5413","id":374304541,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDMwNDU0MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T17:49:15Z","updated_at":"2018-03-19T17:49:15Z","author_association":"CONTRIBUTOR","body":"@leventov anything else here?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374304541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374311190","html_url":"https://github.com/apache/druid/issues/5481#issuecomment-374311190","issue_url":"https://api.github.com/repos/apache/druid/issues/5481","id":374311190,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDMxMTE5MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T18:08:52Z","updated_at":"2018-03-19T18:10:13Z","author_association":"CONTRIBUTOR","body":"The doc has been updated [here](https://github.com/druid-io/druid-io.github.io/pull/447). I'm closing this issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374311190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374311675","html_url":"https://github.com/apache/druid/pull/5429#issuecomment-374311675","issue_url":"https://api.github.com/repos/apache/druid/issues/5429","id":374311675,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDMxMTY3NQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T18:10:27Z","updated_at":"2018-03-19T18:10:27Z","author_association":"CONTRIBUTOR","body":"@jihoonson any other comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374311675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374335208","html_url":"https://github.com/apache/druid/pull/5504#issuecomment-374335208","issue_url":"https://api.github.com/repos/apache/druid/issues/5504","id":374335208,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDMzNTIwOA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-19T19:17:54Z","updated_at":"2018-03-19T19:17:54Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374335208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374442631","html_url":"https://github.com/apache/druid/pull/5478#issuecomment-374442631","issue_url":"https://api.github.com/repos/apache/druid/issues/5478","id":374442631,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDQ0MjYzMQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T01:36:40Z","updated_at":"2018-03-20T01:36:40Z","author_association":"MEMBER","body":"@b-slim @drcrallen @gianm @leventov I've been running benchmarks and collecting speeds and sizes for integer columns following up on https://github.com/druid-io/druid/issues/4080#issuecomment-363191013, so I got curious late one night last week and went ahead and ran the same(ish) benchmarks on floats and doubles and results are pretty much what I expected. To summarize, I see between 10-50% decrease in select speed depending on number of rows selected and type of value distribution, and up to double the encoded size. Note: the dip at the end of the plots is an artifact of the parameters for number of filtered rows the benchmarks were run with didn't include `rows - 1`, and is actually a cliff from the filter being null in the benchmark:\r\n```\r\nif (filter == null) {\r\n  for (int i = 0; i < rows; i++) {\r\n    blackhole.consume(data.get(i));\r\n  }\r\n} else {\r\n  for (int i = filter.nextSetBit(0); i >= 0; i = filter.nextSetBit(i + 1)) {\r\n    blackhole.consume(data.get(i));\r\n  }\r\n}\r\n```\r\nIn my experimental branch, I've modified the zipf value generator to use `sample` of the distribution directly instead of enumerating a distribution so that large cardinalities can be tested, hence the 'lazy' in the name. (Modified benchmarking code is not pushed anywhere yet).\r\n\r\nNormal distribution:\r\n![normal](https://user-images.githubusercontent.com/1577461/37615304-33d55586-2b6a-11e8-93af-a696b51b9300.png)\r\n\r\nUniform distribution:\r\n![uniform](https://user-images.githubusercontent.com/1577461/37615348-4a13654a-2b6a-11e8-8a43-930fd0b0e80b.png)\r\n\r\nMath.random positive distribution:\r\n![random positive](https://user-images.githubusercontent.com/1577461/37615367-58f1bc06-2b6a-11e8-851c-9d7bdb5882dd.png)\r\n\r\nZipf distribution:\r\n(integer values stored in float/double column)\r\n![zipf low ints in floats](https://user-images.githubusercontent.com/1577461/37615404-7a19af92-2b6a-11e8-8143-148cfa004d21.png)\r\n\r\nZipf distribution scaled with Math.PI:\r\n![zipf low scaled with pi](https://user-images.githubusercontent.com/1577461/37615431-8c87978e-2b6a-11e8-9569-904bbac483e0.png)\r\n\r\nZipf distribution scaled with Math.PI (half zeros):\r\n![pi zipf low half zeros](https://user-images.githubusercontent.com/1577461/37615472-a7ae97ec-2b6a-11e8-83b8-11fd3cc702f6.png)\r\n\r\nZipf distribution scaled with Math.PI (mostly zeros):\r\n![pi zipf low mostly zeros](https://user-images.githubusercontent.com/1577461/37615492-b3674bce-2b6a-11e8-9123-7251b1a0999b.png)\r\n\r\nTo put that into percentage slower:\r\nThis is for normal distribution, but other graphs are similar.\r\n![normal-distribution percentage change](https://user-images.githubusercontent.com/1577461/37623410-dce0bfc8-2b81-11e8-90d1-fb9641fc3299.png)\r\n\r\nDon't let this dissuade anyone else from running benchmarks to validate what I see here.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374442631/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374447853","html_url":"https://github.com/apache/druid/pull/5478#issuecomment-374447853","issue_url":"https://api.github.com/repos/apache/druid/issues/5478","id":374447853,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDQ0Nzg1Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T02:07:10Z","updated_at":"2018-03-20T02:07:10Z","author_association":"CONTRIBUTOR","body":"@clintropolis Thanks for doing this! now QQ, when you say floats does that means Double32 bits or the new Float 32 aggregators? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374447853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374470149","html_url":"https://github.com/apache/druid/pull/5478#issuecomment-374470149","issue_url":"https://api.github.com/repos/apache/druid/issues/5478","id":374470149,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDQ3MDE0OQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T04:24:33Z","updated_at":"2018-03-20T04:24:33Z","author_association":"MEMBER","body":"@b-slim these were just run directly against `ColumnarDoubles` and `ColumnarFloats` implementations and are similar in nature to what `FloatCompressionBenchmark` and `CompressedColumnarIntsBenchmark` are doing rather than full query benchmarks. If I have a chance later I'll try to collect some more data and see if I can paint a more complete picture.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374470149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374605227","html_url":"https://github.com/apache/druid/pull/5471#issuecomment-374605227","issue_url":"https://api.github.com/repos/apache/druid/issues/5471","id":374605227,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDYwNTIyNw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T13:52:29Z","updated_at":"2018-03-20T13:52:29Z","author_association":"CONTRIBUTOR","body":"Can this PR include more description in the master comment about what it is accomplishing and how it is accomplishing it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374605227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374605586","html_url":"https://github.com/apache/druid/pull/5414#issuecomment-374605586","issue_url":"https://api.github.com/repos/apache/druid/issues/5414","id":374605586,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDYwNTU4Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T13:53:27Z","updated_at":"2018-03-20T13:53:27Z","author_association":"CONTRIBUTOR","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374605586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374608201","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-374608201","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":374608201,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDYwODIwMQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T14:00:51Z","updated_at":"2018-03-20T14:00:51Z","author_association":"CONTRIBUTOR","body":"@jihoonson just https://github.com/druid-io/druid/pull/5382/files#r175774341 similar to https://github.com/druid-io/druid/blob/89215382510a6eceac898d14022b76a065fd7cdf/aws-common/src/main/java/io/druid/common/aws/AWSCredentialsConfig.java#L34","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374608201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374660846","html_url":"https://github.com/apache/druid/pull/5478#issuecomment-374660846","issue_url":"https://api.github.com/repos/apache/druid/issues/5478","id":374660846,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDY2MDg0Ng==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T16:20:36Z","updated_at":"2018-03-20T16:20:36Z","author_association":"CONTRIBUTOR","body":"@clintropolis ColumnarFloats is using 32bits to aggregate and store ie true floats32 bits. I thought the ask here is to compare the 2 variant of Double columns, variant one is old school store as 32bits and aggregate as 64bits, Variant 2 is stored as 64bits and aggregated as 64bits. I hope that makes sense.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374660846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374666353","html_url":"https://github.com/apache/druid/pull/5413#issuecomment-374666353","issue_url":"https://api.github.com/repos/apache/druid/issues/5413","id":374666353,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDY2NjM1Mw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T16:34:56Z","updated_at":"2018-03-20T16:34:56Z","author_association":"CONTRIBUTOR","body":"ick, looks like `io.druid.curator.announcement.Announcer#Announcer` shuts down the announcer it was passed! which causes tests to fail. I'm going to remove the failure on shutdown","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374666353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374667013","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-374667013","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":374667013,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDY2NzAxMw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T16:36:34Z","updated_at":"2018-03-20T16:36:34Z","author_association":"CONTRIBUTOR","body":"@drcrallen ok, I agree it's needed. But, I would like to do in a follow-up PR because this PR easily conflicts with others. If you think its' fine, then I'll raise an issue for it. If not, I'll separate the proxy configuration from this PR and make another one. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374667013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374672099","html_url":"https://github.com/apache/druid/pull/5413#issuecomment-374672099","issue_url":"https://api.github.com/repos/apache/druid/issues/5413","id":374672099,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDY3MjA5OQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T16:49:48Z","updated_at":"2018-03-20T16:49:48Z","author_association":"CONTRIBUTOR","body":"had to revert \"only one instance\" for the same thread executor service :( ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374672099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374732885","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-374732885","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":374732885,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDczMjg4NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T19:48:11Z","updated_at":"2018-03-20T19:48:11Z","author_association":"CONTRIBUTOR","body":"@drcrallen thanks. Raised https://github.com/druid-io/druid/issues/5507.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374732885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374754855","html_url":"https://github.com/apache/druid/pull/5413#issuecomment-374754855","issue_url":"https://api.github.com/repos/apache/druid/issues/5413","id":374754855,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc1NDg1NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:00:23Z","updated_at":"2018-03-20T21:00:23Z","author_association":"MEMBER","body":"Why?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374754855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374767902","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-374767902","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":374767902,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc2NzkwMg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T21:45:44Z","updated_at":"2018-03-20T21:45:44Z","author_association":"CONTRIBUTOR","body":"@jon-wei thanks for the review. Addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374767902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374774819","html_url":"https://github.com/apache/druid/issues/5506#issuecomment-374774819","issue_url":"https://api.github.com/repos/apache/druid/issues/5506","id":374774819,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc3NDgxOQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T22:12:10Z","updated_at":"2018-03-20T22:12:10Z","author_association":"CONTRIBUTOR","body":"Looks that this happens only when there remain some tasks in ZooKeeper, but not in Overlord. This can happen if the overlord is restarted.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374774819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374785908","html_url":"https://github.com/apache/druid/pull/5510#issuecomment-374785908","issue_url":"https://api.github.com/repos/apache/druid/issues/5510","id":374785908,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDc4NTkwOA==","user":{"login":"nishantmonu51","id":5023786,"node_id":"MDQ6VXNlcjUwMjM3ODY=","avatar_url":"https://avatars.githubusercontent.com/u/5023786?v=4","gravatar_id":"","url":"https://api.github.com/users/nishantmonu51","html_url":"https://github.com/nishantmonu51","followers_url":"https://api.github.com/users/nishantmonu51/followers","following_url":"https://api.github.com/users/nishantmonu51/following{/other_user}","gists_url":"https://api.github.com/users/nishantmonu51/gists{/gist_id}","starred_url":"https://api.github.com/users/nishantmonu51/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nishantmonu51/subscriptions","organizations_url":"https://api.github.com/users/nishantmonu51/orgs","repos_url":"https://api.github.com/users/nishantmonu51/repos","events_url":"https://api.github.com/users/nishantmonu51/events{/privacy}","received_events_url":"https://api.github.com/users/nishantmonu51/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-20T22:59:29Z","updated_at":"2018-03-20T22:59:29Z","author_association":"MEMBER","body":"thanks @clintropolis, missed this while working on review comments. \r\nWill add tests in my follow up PR https://github.com/druid-io/druid/pull/5452 that completes this feature. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374785908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374801485","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-374801485","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":374801485,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDgwMTQ4NQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T00:21:21Z","updated_at":"2018-03-21T00:21:21Z","author_association":"MEMBER","body":"I've had a couple of passes through this now, LGTM :+1: (though you'll probably want to pull latest and undo this fix https://github.com/druid-io/druid/pull/5510/files just wasn't sure when this PR will be merged)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374801485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374804464","html_url":"https://github.com/apache/druid/pull/5511#issuecomment-374804464","issue_url":"https://api.github.com/repos/apache/druid/issues/5511","id":374804464,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDgwNDQ2NA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T00:40:49Z","updated_at":"2018-03-21T00:40:49Z","author_association":"MEMBER","body":":+1: We should call out in release notes that there will be a small per task increase in the amount of data stored in zookeeper.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374804464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/374953164","html_url":"https://github.com/apache/druid/pull/5511#issuecomment-374953164","issue_url":"https://api.github.com/repos/apache/druid/issues/5511","id":374953164,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NDk1MzE2NA==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T14:19:49Z","updated_at":"2018-03-21T14:19:49Z","author_association":"CONTRIBUTOR","body":"@jihoonson can you record in this PR where that assurance is made... prior shutdown tasks should be terminated instead of added to the active queue. I forget where it is and its not easy to find.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/374953164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375037387","html_url":"https://github.com/apache/druid/pull/5511#issuecomment-375037387","issue_url":"https://api.github.com/repos/apache/druid/issues/5511","id":375037387,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTAzNzM4Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T17:53:05Z","updated_at":"2018-04-04T17:18:24Z","author_association":"CONTRIBUTOR","body":"@drcrallen if you mean `TaskQueue` by the active queue, `TaskQueue` is a waiting queue for tasks. When a task becomes ready, it calls `TaskRunner.run()` to run a task. Once a task is added to `TaskRunner`, it isn't added back to `TaskQueue`. \r\n\r\nWhen the `remoteTaskRunner` sees an unknown prior shutdown task, it adds the task to its `runningTasks` (https://github.com/druid-io/druid/blob/master/indexing-service/src/main/java/io/druid/indexing/overlord/RemoteTaskRunner.java#L966-L983) and immediately completes that task (https://github.com/druid-io/druid/blob/master/indexing-service/src/main/java/io/druid/indexing/overlord/RemoteTaskRunner.java#L994-L996).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375037387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375038191","html_url":"https://github.com/apache/druid/pull/5511#issuecomment-375038191","issue_url":"https://api.github.com/repos/apache/druid/issues/5511","id":375038191,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTAzODE5MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T17:55:09Z","updated_at":"2018-03-21T17:55:09Z","author_association":"CONTRIBUTOR","body":"> there will be a small per task increase in the amount of data stored in zookeeper.\r\n\r\n@clintropolis thanks for the review. This also sounds good.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375038191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375094961","html_url":"https://github.com/apache/druid/issues/5512#issuecomment-375094961","issue_url":"https://api.github.com/repos/apache/druid/issues/5512","id":375094961,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTA5NDk2MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T21:04:00Z","updated_at":"2018-03-21T21:04:00Z","author_association":"CONTRIBUTOR","body":"Hi @indrekj, thank you for the reporting. That error might happen if there is no corresponding metadata files (`metadata.smoosh` or `metadata.drd`) for segments. Which version of segment format are you using?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375094961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375107680","html_url":"https://github.com/apache/druid/issues/5505#issuecomment-375107680","issue_url":"https://api.github.com/repos/apache/druid/issues/5505","id":375107680,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTEwNzY4MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T21:50:21Z","updated_at":"2018-03-21T21:50:21Z","author_association":"MEMBER","body":"`AlertEvent` is not marked as `@PublicApi`. It could be, but other committers should agree on that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375107680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375109169","html_url":"https://github.com/apache/druid/issues/5505#issuecomment-375109169","issue_url":"https://api.github.com/repos/apache/druid/issues/5505","id":375109169,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTEwOTE2OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T21:56:28Z","updated_at":"2018-03-21T21:56:28Z","author_association":"CONTRIBUTOR","body":"I could see a good argument for making AlertEvent, ServiceMetricEvent, and RequestLogEvent public APIs. It's useful to poke at them in emitter extensions.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375109169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375111953","html_url":"https://github.com/apache/druid/pull/5513#issuecomment-375111953","issue_url":"https://api.github.com/repos/apache/druid/issues/5513","id":375111953,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExMTk1Mw==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:07:36Z","updated_at":"2018-03-21T22:07:36Z","author_association":"CONTRIBUTOR","body":"Please note that the tuple sketch module is still in a pull request under review, not in master","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375111953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375113401","html_url":"https://github.com/apache/druid/issues/5499#issuecomment-375113401","issue_url":"https://api.github.com/repos/apache/druid/issues/5499","id":375113401,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExMzQwMQ==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:13:45Z","updated_at":"2018-03-21T22:13:45Z","author_association":"CONTRIBUTOR","body":"https://github.com/druid-io/druid/pull/5513","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375113401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375114373","html_url":"https://github.com/apache/druid/pull/5513#issuecomment-375114373","issue_url":"https://api.github.com/repos/apache/druid/issues/5513","id":375114373,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExNDM3Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:18:04Z","updated_at":"2018-03-21T22:18:04Z","author_association":"CONTRIBUTOR","body":"Got it. In that case these should be tied to the same release, so we don't release the docs without the feature.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375114373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375114459","html_url":"https://github.com/apache/druid/pull/5513#issuecomment-375114459","issue_url":"https://api.github.com/repos/apache/druid/issues/5513","id":375114459,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExNDQ1OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:18:20Z","updated_at":"2018-03-21T22:18:20Z","author_association":"CONTRIBUTOR","body":"Is #5148 the tuple sketch?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375114459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375114671","html_url":"https://github.com/apache/druid/pull/5148#issuecomment-375114671","issue_url":"https://api.github.com/repos/apache/druid/issues/5148","id":375114671,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExNDY3MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:19:20Z","updated_at":"2018-03-21T22:19:20Z","author_association":"CONTRIBUTOR","body":"I think the docs are in #5513 so I am gonna set these two to the same milestone.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375114671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375116282","html_url":"https://github.com/apache/druid/issues/5404#issuecomment-375116282","issue_url":"https://api.github.com/repos/apache/druid/issues/5404","id":375116282,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExNjI4Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:26:37Z","updated_at":"2018-03-21T22:26:37Z","author_association":"CONTRIBUTOR","body":"> with transactional producers you can no longer expect data message offsets to be sequential. Control messages (used for transaction markers) take up their own offsets. Applications, however, never see those offsets, because they either get filtered out on the broker (when down-converting for older clients) or on the client (during transaction processing).\r\n\r\n@xvrl thanks, good to know. \r\n\r\nIMO, it sounds good to me to trust Kafka more and remove our sanity check if there is no way to figure out which offsets are taken up by control messages. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375116282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375116331","html_url":"https://github.com/apache/druid/pull/5513#issuecomment-375116331","issue_url":"https://api.github.com/repos/apache/druid/issues/5513","id":375116331,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExNjMzMQ==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:26:51Z","updated_at":"2018-03-21T22:26:51Z","author_association":"CONTRIBUTOR","body":"yes, thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375116331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375118469","html_url":"https://github.com/apache/druid/pull/5382#issuecomment-375118469","issue_url":"https://api.github.com/repos/apache/druid/issues/5382","id":375118469,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExODQ2OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:36:15Z","updated_at":"2018-03-21T22:36:15Z","author_association":"CONTRIBUTOR","body":"I'm going to merge this PR shortly. @b-slim @drcrallen @jon-wei thanks for the review!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375118469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375119385","html_url":"https://github.com/apache/druid/issues/5404#issuecomment-375119385","issue_url":"https://api.github.com/repos/apache/druid/issues/5404","id":375119385,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTExOTM4NQ==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:40:10Z","updated_at":"2018-03-21T22:40:10Z","author_association":"MEMBER","body":"@jihoonson One thing we can check for though is to make sure that offsets haven't moved from where we expect the to be if we for whatever reason we have to re-create the consumer in the same consumer group (e.g. maybe on task restart). This would avoid losing data in situations where offsets were reset for some reason.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375119385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375120576","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-375120576","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":375120576,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTEyMDU3Ng==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:45:41Z","updated_at":"2018-03-21T22:45:41Z","author_association":"CONTRIBUTOR","body":"I strongly think we need to be really careful with a large refactor of the ingestion code that doesn't seem to add much of a performance improvement and carefully test that it doesn't break anything. My vote is to not merge this code unless we are confident about that.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375120576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375121611","html_url":"https://github.com/apache/druid/pull/5335#issuecomment-375121611","issue_url":"https://api.github.com/repos/apache/druid/issues/5335","id":375121611,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTEyMTYxMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-21T22:50:52Z","updated_at":"2018-03-21T22:50:52Z","author_association":"MEMBER","body":"@fjy this PR actually fixes a bug in index merging code.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375121611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375147139","html_url":"https://github.com/apache/druid/pull/5513#issuecomment-375147139","issue_url":"https://api.github.com/repos/apache/druid/issues/5513","id":375147139,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE0NzEzOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T01:19:03Z","updated_at":"2018-03-22T01:19:03Z","author_association":"CONTRIBUTOR","body":"Thanks @AlexanderSaydakov - I updated the milestone on #5148.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375147139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375179384","html_url":"https://github.com/apache/druid/issues/5304#issuecomment-375179384","issue_url":"https://api.github.com/repos/apache/druid/issues/5304","id":375179384,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTE3OTM4NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T04:53:09Z","updated_at":"2018-03-22T06:43:48Z","author_association":"CONTRIBUTOR","body":"@zhangxinyu1 first of all, I really apologize for late response. I have been quite busy and forgot about this issue. Sorry.\r\n\r\nThe updated proposal looks very good to me. Especially the query optimization part sounds good enough as a first step. Regarding the management of derivedDatasources, I have some comments.\r\n\r\n> Segment granularity and query granularity should keep the same with base datasource.\r\n\r\nThe segment granularity of the base dataSource can be changed. For example, [compactionTask](http://druid.io/docs/latest/ingestion/tasks.html#compaction-task) merges all segments in the given interval regardless of whatever their segment granularity was. Keeping query granularity sounds good.\r\n\r\n> The only difference is that the version of segments generated by derived-datasource-index-task is not the time when task is submitted, but the related base datasource segments version.\r\n\r\nI think this might be hacky because it needs to add an exception to our segment versioning system for only derived dataSources. I would think it might be better to keep the version of the base segments which are used for generating the latest derived dataSource. If the version of the base segments is larger than the one in derivedDataSourceSupervisor, the derived dataSource should be disabled and a new task to make the fresh derived dataSource can be submitted. \r\n\r\n> If the timeline of derived-datasource is more than base-datasource, supervisor will set used=false and submit kill tasks for those segments.\r\n\r\nProbably we need to keep a mapping information between original segments and derived segments.\r\n\r\n> When the base datasource is disable, all its derived datasource supervisor will be shutdown. \r\n\r\nI wonder how this can be achieved. Do you have an idea about where the relationships between base dataSources and their derived dataSources are stored?\r\n\r\nI think this is a really nice proposal and hope we can make it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375179384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375229875","html_url":"https://github.com/apache/druid/issues/5512#issuecomment-375229875","issue_url":"https://api.github.com/repos/apache/druid/issues/5512","id":375229875,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTIyOTg3NQ==","user":{"login":"indrekj","id":3438,"node_id":"MDQ6VXNlcjM0Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/3438?v=4","gravatar_id":"","url":"https://api.github.com/users/indrekj","html_url":"https://github.com/indrekj","followers_url":"https://api.github.com/users/indrekj/followers","following_url":"https://api.github.com/users/indrekj/following{/other_user}","gists_url":"https://api.github.com/users/indrekj/gists{/gist_id}","starred_url":"https://api.github.com/users/indrekj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/indrekj/subscriptions","organizations_url":"https://api.github.com/users/indrekj/orgs","repos_url":"https://api.github.com/users/indrekj/repos","events_url":"https://api.github.com/users/indrekj/events{/privacy}","received_events_url":"https://api.github.com/users/indrekj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T09:20:44Z","updated_at":"2018-03-22T09:20:44Z","author_association":"NONE","body":"An example of a segment:\r\n```\r\n  {\r\n    \"dataSource\": \"engagement_events-cobrowsing_events-v2\",\r\n    \"interval\": \"2016-02-22T18:00:00.000Z/2016-02-22T19:00:00.000Z\",\r\n    \"version\": \"2016-05-04T08:28:26.063Z\",\r\n    \"loadSpec\": {\r\n      \"type\": \"s3_zip\",\r\n      \"bucket\": \"REPLACED\",\r\n      \"key\": \"REPLACED/engagement_events-cobrowsing_events-v2/2016-02-22T18:00:00.000Z_2016-02-22T19:00:00.000Z/2016-05-04T08:28:26.063Z/0/index.zip\"\r\n    },\r\n    \"dimensions\": \"operator_id,site_id,sub_engagement_id,type\",\r\n    \"metrics\": \"count\",\r\n    \"shardSpec\": {\r\n      \"type\": \"none\"\r\n    },\r\n    \"binaryVersion\": 9,\r\n    \"size\": 4296,\r\n    \"identifier\": \"engagement_events-cobrowsing_events-v2_2016-02-22T18:00:00.000Z_2016-02-22T19:00:00.000Z_2016-05-04T08:28:26.063Z\"\r\n  }\r\n```\r\n\r\nGiven index.zip has `00000.smoosh`, `meta.smoosh` and `version.bin` inside it.\r\n\r\n`meta.smoosh` content:\r\n```\r\nv1,2147483647,1\r\n__time,0,3508,3918\r\ncount,0,3101,3508\r\nindex.drd,0,3918,4131\r\noperator_id,0,0,824\r\nsite_id,0,824,1592\r\nsub_engagement_id,0,1592,2584\r\ntype,0,2584,3101\r\n```\r\n\r\n`xxd -p version.bin` content: `00000009`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375229875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375400816","html_url":"https://github.com/apache/druid/issues/4544#issuecomment-375400816","issue_url":"https://api.github.com/repos/apache/druid/issues/4544","id":375400816,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQwMDgxNg==","user":{"login":"kalyanjanaki","id":12227088,"node_id":"MDQ6VXNlcjEyMjI3MDg4","avatar_url":"https://avatars.githubusercontent.com/u/12227088?v=4","gravatar_id":"","url":"https://api.github.com/users/kalyanjanaki","html_url":"https://github.com/kalyanjanaki","followers_url":"https://api.github.com/users/kalyanjanaki/followers","following_url":"https://api.github.com/users/kalyanjanaki/following{/other_user}","gists_url":"https://api.github.com/users/kalyanjanaki/gists{/gist_id}","starred_url":"https://api.github.com/users/kalyanjanaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kalyanjanaki/subscriptions","organizations_url":"https://api.github.com/users/kalyanjanaki/orgs","repos_url":"https://api.github.com/users/kalyanjanaki/repos","events_url":"https://api.github.com/users/kalyanjanaki/events{/privacy}","received_events_url":"https://api.github.com/users/kalyanjanaki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T17:55:14Z","updated_at":"2018-03-22T17:55:14Z","author_association":"NONE","body":"Hello erankor,\r\n\r\nYou said you are using EMR and telling  \"apt-get\"  Amazon linux uses YUM right ?\r\n\r\nRegards\r\nKalyan ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375400816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375402953","html_url":"https://github.com/apache/druid/pull/5148#issuecomment-375402953","issue_url":"https://api.github.com/repos/apache/druid/issues/5148","id":375402953,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQwMjk1Mw==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T18:01:44Z","updated_at":"2018-03-22T18:01:44Z","author_association":"CONTRIBUTOR","body":"> Also, IntelliJ inspections build failure is related to this PR, please fix\r\n\r\nCould you clarify this if still relevant please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375402953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375419697","html_url":"https://github.com/apache/druid/issues/5512#issuecomment-375419697","issue_url":"https://api.github.com/repos/apache/druid/issues/5512","id":375419697,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQxOTY5Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T18:54:37Z","updated_at":"2018-03-22T18:54:37Z","author_association":"CONTRIBUTOR","body":"@indrekj thanks for posting them. ```CompactionTask``` internally generates an indexTask spec using the metadata of existing segments. The metadata is stored in `xxxxx.smoosh` file and `metadata.drd` is seen in `meta.smoosh` file which represents the position of metadata in `xxxxx.smoosh` file. This is valid for only directly created V9 segments. If you converted segment versions using a sort of convertSegmentTask, `metadata.drd` might not exist. \r\n\r\nI raised https://github.com/druid-io/druid/issues/5520. In the meantime, you can use indexTask to explicitly specify metricsSpec.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375419697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375420143","html_url":"https://github.com/apache/druid/pull/5519#issuecomment-375420143","issue_url":"https://api.github.com/repos/apache/druid/issues/5519","id":375420143,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQyMDE0Mw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T18:56:05Z","updated_at":"2018-03-22T18:56:05Z","author_association":"CONTRIBUTOR","body":"@aleksi75 thanks! Would you please fill CLA http://druid.io/community/cla.html ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375420143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375444075","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-375444075","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":375444075,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ0NDA3NQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T20:20:59Z","updated_at":"2018-03-22T20:20:59Z","author_association":"MEMBER","body":"Please add appropriate `@PublicApi` annotations in this PR. Also, the restored methods should be annotated `@SuppressWarnings(\"unused\")` with comments that they are used in some proprietary extensions.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375444075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375465640","html_url":"https://github.com/apache/druid/issues/4544#issuecomment-375465640","issue_url":"https://api.github.com/repos/apache/druid/issues/4544","id":375465640,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ2NTY0MA==","user":{"login":"erankor","id":4777488,"node_id":"MDQ6VXNlcjQ3Nzc0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4777488?v=4","gravatar_id":"","url":"https://api.github.com/users/erankor","html_url":"https://github.com/erankor","followers_url":"https://api.github.com/users/erankor/followers","following_url":"https://api.github.com/users/erankor/following{/other_user}","gists_url":"https://api.github.com/users/erankor/gists{/gist_id}","starred_url":"https://api.github.com/users/erankor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erankor/subscriptions","organizations_url":"https://api.github.com/users/erankor/orgs","repos_url":"https://api.github.com/users/erankor/repos","events_url":"https://api.github.com/users/erankor/events{/privacy}","received_events_url":"https://api.github.com/users/erankor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T21:36:16Z","updated_at":"2018-03-22T21:36:16Z","author_association":"NONE","body":"@kalyanjanaki, the commands above were not executed on EMR servers, they were executed on Druid servers, and we're installing Druid on Ubuntu","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375465640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375469167","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-375469167","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":375469167,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ2OTE2Nw==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T21:50:03Z","updated_at":"2018-03-22T21:50:20Z","author_association":"CONTRIBUTOR","body":"@leventov `@PublicApi` and other druid specific annotations are not accessible from `java-util`. Would it make sense to move the emitter related code over to `druid-api`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375469167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375477598","html_url":"https://github.com/apache/druid/issues/5203#issuecomment-375477598","issue_url":"https://api.github.com/repos/apache/druid/issues/5203","id":375477598,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ3NzU5OA==","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T22:25:32Z","updated_at":"2018-03-22T22:25:32Z","author_association":"NONE","body":"Anyone have an update on this issue?  ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375477598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375478086","html_url":"https://github.com/apache/druid/issues/4544#issuecomment-375478086","issue_url":"https://api.github.com/repos/apache/druid/issues/4544","id":375478086,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTQ3ODA4Ng==","user":{"login":"kalyanjanaki","id":12227088,"node_id":"MDQ6VXNlcjEyMjI3MDg4","avatar_url":"https://avatars.githubusercontent.com/u/12227088?v=4","gravatar_id":"","url":"https://api.github.com/users/kalyanjanaki","html_url":"https://github.com/kalyanjanaki","followers_url":"https://api.github.com/users/kalyanjanaki/followers","following_url":"https://api.github.com/users/kalyanjanaki/following{/other_user}","gists_url":"https://api.github.com/users/kalyanjanaki/gists{/gist_id}","starred_url":"https://api.github.com/users/kalyanjanaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kalyanjanaki/subscriptions","organizations_url":"https://api.github.com/users/kalyanjanaki/orgs","repos_url":"https://api.github.com/users/kalyanjanaki/repos","events_url":"https://api.github.com/users/kalyanjanaki/events{/privacy}","received_events_url":"https://api.github.com/users/kalyanjanaki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-22T22:27:42Z","updated_at":"2018-03-22T22:27:54Z","author_association":"NONE","body":"Hello Erankor,\r\n\r\nThanks for your response.  My questions might seem silly please bear with me.\r\n\r\n So you have  installed  Druid on separate nodes than Hadoop nodes. In that case does Druid have Hadoop client installed with in its installation ? Do we have to setup password less sssh from Middlemanager servers to Our  EMR cluster ? because  for hadoop client application to work there should be password less ssh from client node to all hadoop nodes. This was not part of druid Documentation that was confusing to me.\r\n\r\n\r\n\r\nRegards\r\nKalyan ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375478086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375509430","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-375509430","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":375509430,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTUwOTQzMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T01:24:17Z","updated_at":"2018-03-23T01:24:17Z","author_association":"MEMBER","body":"It's going to happen in https://github.com/druid-io/druid/pull/5490","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375509430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375511925","html_url":"https://github.com/apache/druid/pull/5490#issuecomment-375511925","issue_url":"https://api.github.com/repos/apache/druid/issues/5490","id":375511925,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTUxMTkyNQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T01:39:27Z","updated_at":"2018-03-23T01:39:27Z","author_association":"CONTRIBUTOR","body":"@leventov would you resolve conflicts? I think this PR should be merged as soon as possible to avoid further conflicts.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375511925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375556356","html_url":"https://github.com/apache/druid/issues/4544#issuecomment-375556356","issue_url":"https://api.github.com/repos/apache/druid/issues/4544","id":375556356,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTU1NjM1Ng==","user":{"login":"erankor","id":4777488,"node_id":"MDQ6VXNlcjQ3Nzc0ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4777488?v=4","gravatar_id":"","url":"https://api.github.com/users/erankor","html_url":"https://github.com/erankor","followers_url":"https://api.github.com/users/erankor/followers","following_url":"https://api.github.com/users/erankor/following{/other_user}","gists_url":"https://api.github.com/users/erankor/gists{/gist_id}","starred_url":"https://api.github.com/users/erankor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erankor/subscriptions","organizations_url":"https://api.github.com/users/erankor/orgs","repos_url":"https://api.github.com/users/erankor/repos","events_url":"https://api.github.com/users/erankor/events{/privacy}","received_events_url":"https://api.github.com/users/erankor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T06:18:48Z","updated_at":"2018-03-23T06:18:48Z","author_association":"NONE","body":"No, Druid nodes don't need to ssh into Hadoop nodes, I think they communicate over port 8020","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375556356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375706463","html_url":"https://github.com/apache/druid/pull/5522#issuecomment-375706463","issue_url":"https://api.github.com/repos/apache/druid/issues/5522","id":375706463,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTcwNjQ2Mw==","user":{"login":"a2l007","id":4603202,"node_id":"MDQ6VXNlcjQ2MDMyMDI=","avatar_url":"https://avatars.githubusercontent.com/u/4603202?v=4","gravatar_id":"","url":"https://api.github.com/users/a2l007","html_url":"https://github.com/a2l007","followers_url":"https://api.github.com/users/a2l007/followers","following_url":"https://api.github.com/users/a2l007/following{/other_user}","gists_url":"https://api.github.com/users/a2l007/gists{/gist_id}","starred_url":"https://api.github.com/users/a2l007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2l007/subscriptions","organizations_url":"https://api.github.com/users/a2l007/orgs","repos_url":"https://api.github.com/users/a2l007/repos","events_url":"https://api.github.com/users/a2l007/events{/privacy}","received_events_url":"https://api.github.com/users/a2l007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T15:38:16Z","updated_at":"2018-03-23T15:38:16Z","author_association":"CONTRIBUTOR","body":"Will make the changes once that PR is merged.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375706463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/375726061","html_url":"https://github.com/apache/druid/pull/5429#issuecomment-375726061","issue_url":"https://api.github.com/repos/apache/druid/issues/5429","id":375726061,"node_id":"MDEyOklzc3VlQ29tbWVudDM3NTcyNjA2MQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-03-23T16:38:07Z","updated_at":"2018-03-23T16:38:07Z","author_association":"CONTRIBUTOR","body":"A few days have passed and no other comments","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/375726061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]