[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961686675","html_url":"https://github.com/apache/iceberg/pull/3326#issuecomment-961686675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3326","id":961686675,"node_id":"IC_kwDOCW7NX845UiyT","user":{"login":"harshm-dev","id":57615655,"node_id":"MDQ6VXNlcjU3NjE1NjU1","avatar_url":"https://avatars.githubusercontent.com/u/57615655?v=4","gravatar_id":"","url":"https://api.github.com/users/harshm-dev","html_url":"https://github.com/harshm-dev","followers_url":"https://api.github.com/users/harshm-dev/followers","following_url":"https://api.github.com/users/harshm-dev/following{/other_user}","gists_url":"https://api.github.com/users/harshm-dev/gists{/gist_id}","starred_url":"https://api.github.com/users/harshm-dev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshm-dev/subscriptions","organizations_url":"https://api.github.com/users/harshm-dev/orgs","repos_url":"https://api.github.com/users/harshm-dev/repos","events_url":"https://api.github.com/users/harshm-dev/events{/privacy}","received_events_url":"https://api.github.com/users/harshm-dev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T07:44:58Z","updated_at":"2021-11-05T07:44:58Z","author_association":"CONTRIBUTOR","body":"- [@rymurr ] type and catalog-type kinda mean the same thing ...  I wonder if we could deprecate one of them : \r\n\r\nI agree, that we should align the conf properties, make it `catalog-type` consistently. However, I would scope changing the conf property names as a separate track. \r\n\r\n- [@jackye1995 ] by enabling catalog type, we are forcing everyone to register the catalog as a type which is just more work without too much benefit compared to using impl for all new catalogs, and only keep type for backwards compatibility. There will always be private catalog implementations that you cannot express as an open source type and has to be loaded using impl anyway.\r\n\r\nSorry I wasn't a part of previous discussion. The issue/change in not to use `type` in a forceful way, and does not remove the support for `catalog-impl`. \r\nI interpret these conf as follows -`catalog-impl` for custom catalog implementations, `type` for catalog implementations provided OOB by Iceberg. If we're using this method for few known types (hive/hadoop), why not do it for all the known types?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961686675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961691841","html_url":"https://github.com/apache/iceberg/pull/3323#issuecomment-961691841","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3323","id":961691841,"node_id":"IC_kwDOCW7NX845UkDB","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T07:56:03Z","updated_at":"2021-11-05T07:56:03Z","author_association":"MEMBER","body":"@Reo-LEI would you mind to fix this conflicts ?  I will plan to go through the whole PR, thanks for the contribution !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961691841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961692478","html_url":"https://github.com/apache/iceberg/pull/3323#issuecomment-961692478","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3323","id":961692478,"node_id":"IC_kwDOCW7NX845UkM-","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T07:57:22Z","updated_at":"2021-11-05T07:57:22Z","author_association":"CONTRIBUTOR","body":"had a lot of thinking around this PR, I decide to write down in a doc, @openinx @rdblue @stevenzwu please let me know what you think!\r\n\r\nhttps://docs.google.com/document/d/18N-xwZasXLNEl2407xT1oD08Mv9Kd3p0xMX7ZJFyV20/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961692478/reactions","total_count":3,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961753691","html_url":"https://github.com/apache/iceberg/pull/3323#issuecomment-961753691","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3323","id":961753691,"node_id":"IC_kwDOCW7NX845UzJb","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T09:42:46Z","updated_at":"2021-11-05T09:42:46Z","author_association":"CONTRIBUTOR","body":"@openinx Thanks for your review! I have been resolve the conflict, please go ahead. ðŸ˜„ ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961753691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961954789","html_url":"https://github.com/apache/iceberg/pull/3476#issuecomment-961954789","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3476","id":961954789,"node_id":"IC_kwDOCW7NX845VkPl","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T14:46:57Z","updated_at":"2021-11-05T14:46:57Z","author_association":"CONTRIBUTOR","body":"there is a whitespace change\r\n\r\n-    testImplementation(\"org.apache.flink:flink-test-utils-junit:${flinkVersion}\") {\r\n+    testImplementation (\"org.apache.flink:flink-test-utils-junit:${flinkVersion}\") {","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/961954789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962003507","html_url":"https://github.com/apache/iceberg/issues/562#issuecomment-962003507","issue_url":"https://api.github.com/repos/apache/iceberg/issues/562","id":962003507,"node_id":"IC_kwDOCW7NX845VwIz","user":{"login":"BACtaki","id":7691755,"node_id":"MDQ6VXNlcjc2OTE3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/7691755?v=4","gravatar_id":"","url":"https://api.github.com/users/BACtaki","html_url":"https://github.com/BACtaki","followers_url":"https://api.github.com/users/BACtaki/followers","following_url":"https://api.github.com/users/BACtaki/following{/other_user}","gists_url":"https://api.github.com/users/BACtaki/gists{/gist_id}","starred_url":"https://api.github.com/users/BACtaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BACtaki/subscriptions","organizations_url":"https://api.github.com/users/BACtaki/orgs","repos_url":"https://api.github.com/users/BACtaki/repos","events_url":"https://api.github.com/users/BACtaki/events{/privacy}","received_events_url":"https://api.github.com/users/BACtaki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T15:44:20Z","updated_at":"2021-11-05T15:44:20Z","author_association":"NONE","body":"Hi @danielcweeks , is anyone working on this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962003507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962005947","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962005947","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962005947,"node_id":"IC_kwDOCW7NX845Vwu7","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T15:47:43Z","updated_at":"2021-11-05T15:47:43Z","author_association":"CONTRIBUTOR","body":"> one more thing to consider on your PR is how to update SupportsCatalogOptions to be able to pass the time travel information.\r\n\r\nI was thinking about this a bit more and I think that the read options are still passed through. All we should need to do is to standardize the time travel property names and pass the values to the new `loadTable` method. Something like this:\r\n* User calls `spark.read.format(\"iceberg\").option(\"version\", 123245).load(\"db.table\")`\r\n* Spark uses `SupportsCatalogOptions` to get `(catalog, Identifier.of(\"db\", \"table\"))`\r\n* Spark extracts `version` from the read options and calls `catalog.loadTable(ident, version)`\r\n\r\nI think that should work. What do you think, @huaxingao?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962005947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962011180","html_url":"https://github.com/apache/iceberg/pull/3323#issuecomment-962011180","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3323","id":962011180,"node_id":"IC_kwDOCW7NX845VyAs","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T15:54:17Z","updated_at":"2021-11-05T16:01:17Z","author_association":"CONTRIBUTOR","body":"Iâ€˜m very grateful to @jackye1995 for his excellent work. I think Jack summarized this PR from the background, implementation, benefits very well in this [document](https://docs.google.com/document/d/18N-xwZasXLNEl2407xT1oD08Mv9Kd3p0xMX7ZJFyV20/edit?usp=sharing). And Jack proposed two approach in the document to improve the defects of this PR in CDC case. I would like to make some additions and summaries to this document, and continue to discuss the approach about how to deal with the equality deletes compaction in CDC case at here. @rdblue  @openinx \r\n@stevenzwu @kbendick \r\n\r\nAt first, I want to discuss the effectiveness of current implementation of streaming rewrite(apply delta deletes to delta data). We can measure this effectiveness from the type of data stream and whether the table partition type. For the data stream type, we can be divided into append stream and update stream(include upsert and retract/cdc stream). For the table partition type, we can devided into partitioned and unpartitioned, and partitioned can be further divided into partitions that contain time and partitions that do not contain time. For effectiveness, we use `o` to indicate the streaming rewrite is effective that is mean the streaming rewrite can do the same and good as the `RewriteDataFiles` action and user not need to run `RewriteDataFiles` in addition, and we use `x` to indicate the streaming rewrite is not very effective that is mean the streaming rewrite can not do well as the `RewriteDataFiles` action and user still need to run `RewriteDataFiles` in addition. Finally, we can get the matrix as follow: \r\nÂ  | unpartitioned | partitioned without time | partitioned with time\r\n:--: | :--: | :--: | :--:\r\nappend stream | o | o | o\r\nupsert stream | x | x | o\r\nretract stream | x | x | o\r\n\r\nFor append stream, streaming rewrite can work well in all partition type because there are no delete files and we only need to bin pack data files. For update stream(upsert and retract stream), streaming rewrite can work well with table of partitioned with time. Because the result will become certain over time, such as we have an day and hour partition table and T partition result will be certain in T+1 moment, so we can rewrite T partition after T. However,  streaming rewrite can not work well with table of partitioned without time, as Jack mentioned in the doc, the high seqNum equality delete file still in storage and when we read the table, they will still apply to the low seqNum data files even if this data file has been rewritten before. So, I agree with Jack that we should first find a way to deal with the remaining equality deletes.\r\n\r\nAnd then, I want to discuss the approach about how to deal with the remaining equality deletes.  Jack list two approach in the doc. The approach A is gathering the equality delete files and then perform a table scan to rewrite the affected data files. And the approach B is to convert the equality deletes to position deletes and then perform a table scan to apply the position deletes and rewrite the affected data files. Both approach require extra table scan and data rewrite, I think these approach is work, but will be complicated and we need to reconsider the cost and benefit. \r\n\r\nFinally, I think we can have approach C that we can simply rewrite the delta equality delete files to the new one and replace them by [`rewriteFiles`](https://github.com/apache/iceberg/blob/d85a2b25cfa453d211043cf0868dd18de9827808/api/src/main/java/org/apache/iceberg/RewriteFiles.java#L63) . As I said above, currently impelemention of streaming rewrite can not work well with table of partitioned without time because the high seqNum equality delete files(the delta equality delete files) still in storage, and we know the streaming rewrite can apply all deletes to data files. Therefore, if we can rewrite these delta delete files to a new one and bringing them from older seqNum to a high seqNum(the latest commit seqNum), and then remove these delete files from latest snapthot, we can keep the number of equaliy delete fies at a low and same as the number of data files. In this approach, we no need extra table scan and data rewrite, and we remove unnecessary equality delete files and avoid apply them to the rewritten data files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962011180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962022697","html_url":"https://github.com/apache/iceberg/pull/3376#issuecomment-962022697","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3376","id":962022697,"node_id":"IC_kwDOCW7NX845V00p","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T16:08:44Z","updated_at":"2021-11-05T16:08:44Z","author_association":"CONTRIBUTOR","body":"@rdblue I think this looks good to me overall after a few rounds of review, could you also take a look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962022697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962026695","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962026695","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962026695,"node_id":"IC_kwDOCW7NX845V1zH","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T16:13:39Z","updated_at":"2021-11-05T16:13:39Z","author_association":"CONTRIBUTOR","body":"@rdblue \r\nYes, I think that should work. \r\nSo there is no need to modify `SupportsCatalogOptions`. All I need to do is to add the new overloaded loadTable methods to pass in time travel info as follows, right?\r\n```\r\nCatalogV2Util\r\ndef loadTable(catalog: CatalogPlugin, ident: Identifier, version: String): Option[Table]\r\ndef loadTable(catalog: CatalogPlugin, ident: Identifier, timestamp: long): Option[Table]\r\n\r\nTableCatalog\r\ndefault Table loadTable(Identifier ident, String version) {\r\n    throw new UnsupportedOperationException(\"Load table with version is not supported.\");\r\n}\r\n\r\ndefault Table loadTable(Identifier ident, timestamp: long) {\r\n    throw new UnsupportedOperationException(\"Load table with timestamp is not supported.\");\r\n}\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962026695/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962029531","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962029531","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962029531,"node_id":"IC_kwDOCW7NX845V2fb","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T16:17:14Z","updated_at":"2021-11-05T16:18:43Z","author_association":"CONTRIBUTOR","body":"@huaxingao, that looks great to me!\r\n\r\nYou might want to just pass options into `CatalogV2Util` and have it load the table from there. That way, it will always go through the same path to decide which `loadTable` to call.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962029531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962037799","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962037799","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962037799,"node_id":"IC_kwDOCW7NX845V4gn","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T16:28:14Z","updated_at":"2021-11-05T16:28:14Z","author_association":"CONTRIBUTOR","body":"@rdblue \r\n> You might want to just pass options into CatalogV2Util and have it load the table from there...\r\n\r\nSure! Sounds good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962037799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962041309","html_url":"https://github.com/apache/iceberg/pull/3375#issuecomment-962041309","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3375","id":962041309,"node_id":"IC_kwDOCW7NX845V5Xd","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T16:32:47Z","updated_at":"2021-11-05T16:32:47Z","author_association":"MEMBER","body":"@RussellSpitzer : Thanks for the review. I will look into it. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962041309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962046571","html_url":"https://github.com/apache/iceberg/pull/3450#issuecomment-962046571","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3450","id":962046571,"node_id":"IC_kwDOCW7NX845V6pr","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T16:40:04Z","updated_at":"2021-11-05T16:40:04Z","author_association":"CONTRIBUTOR","body":"Can `year`, `month`, `day`, and `hour` be consolidated into a single function?:\r\n```py\r\nfrom typing import Union, Literal\r\n\r\ndef get_time_transform(\r\n    transform: Type,\r\n    interval: Union[\r\n        Literal[\"year\"],\r\n        Literal[\"month\"],\r\n        Literal[\"day\"],\r\n        Literal[\"hour\"]\r\n    ],\r\n):\r\n\r\n    if interval not in _VALID_TIME_GRANULARITY[transform]:\r\n        raise ValueError(f\"Cannot partition type {transform} by {interval}\")\r\n\r\n    return _TIME_TRANSFORMS[transform][interval]\r\n```\r\n\r\nThen a call to that function can be made in `from_string` which can be renamed to something like `get_transform_from_type` and be the single entrypoint function for getting a type of `Transform`. The other module level functions could then be changed to internal functions prefixed with an underscore.\r\n\r\nSo usage would look like:\r\n```py\r\nfrom iceberg.types import DateType, TimestampType\r\nfrom iceberg.transforms import get_transform_from_type\r\n\r\ntransform_a = get_transform_from_type(DateType, \"year\")\r\nprint(transform_a) # Time(transform_type=DateType, name=\"year\")\r\n\r\ntransform_b = get_transform_from_type(TimestampType, \"day\")\r\nprint(transform_b)  # Time(transform_type=TimestampType, name=\"day\")\r\n\r\ntransform_c = get_transform_from_type(DateType, \"identity\")\r\nprint(transform_c)  # Identity(transform_type=DateType)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962046571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962068168","html_url":"https://github.com/apache/iceberg/issues/562#issuecomment-962068168","issue_url":"https://api.github.com/repos/apache/iceberg/issues/562","id":962068168,"node_id":"IC_kwDOCW7NX845V_7I","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T17:09:55Z","updated_at":"2021-11-05T17:09:55Z","author_association":"CONTRIBUTOR","body":"The python library as a whole is currently being refactored[1]. Part of the\ngoal of that effort is to produce a library with that feature.\nI'd encourage you to join the sync meeting[2](there is one coming up next\nWednesday 11/10) if you are interested in get more context on the current\nprogress, or to read the meeting notes[3] if you aren't able to attend\n\n[1]\nhttps://docs.google.com/document/d/17emc0cag-edj0Nf9CCgZa0UZhEBIfHhUZH-7u5CAenc/edit#\n[2] https://groups.google.com/g/iceberg-python-sync\n[3]\nhttps://docs.google.com/document/d/1oMKodaZJrOJjPfc8PDVAoTdl02eGQKHlhwuggiw7s9U/edit#\n\nOn Fri, Nov 5, 2021, 8:44 AM Badrul Chowdhury ***@***.***>\nwrote:\n\n> Hi @danielcweeks <https://github.com/danielcweeks> , is anyone working on\n> this?\n>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/issues/562#issuecomment-962003507>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAMETH3AHJOPOQDJ2F2BELDUKQCW5ANCNFSM4JCLSX7Q>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962068168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962068331","html_url":"https://github.com/apache/iceberg/pull/3323#issuecomment-962068331","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3323","id":962068331,"node_id":"IC_kwDOCW7NX845V_9r","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T17:10:09Z","updated_at":"2021-11-05T17:10:09Z","author_association":"CONTRIBUTOR","body":"@jackye1995, thanks for taking the time to write up your thoughts. That doc is really helpful.\r\n\r\nI had previously been thinking about this mostly in terms of an append stream and v1 tables. Like @Reo-LEI notes, inline compaction for append streams is safe (for v1 tables) and is a good idea if you want frequent checkpoints but don't want a ton of small files. For v1 tables, we know that there won't be equality or position delete files, so we can easily compact. For v2 tables, append streams are pretty much like CDC streams because we may have concurrent writers adding equality or position delete files.\r\n\r\nThat brings us back to Jack's points about adapting this idea to CDC streams. First, equality deletes create sequence number boundaries that make it difficult to compact. But I think there are still some use cases where this is valuable even if we only plan on compacting within a sequence number. Write tasks necessarily align with partitions, so compacting across tasks may still be valuable. For example, CDC writes to an unpartitioned table from multiple tasks will create a data file per task (per checkpoint) that is probably not full size.\r\n\r\nWhile there may be multiple files per partition, I think that the larger use case is compacting across checkpoints and that will require addressing compaction across sequence numbers. Let's assume that we have a fairly regular CDC stream for a bucketed table so that the commit for each bucket has one equality delete and one data file per checkpoint, and optionally a position delete file for the data file. That's the worst case that Jack describes, where there is nothing to compact within each sequence number except position deletes. Here are the files committed by sequence number for just one bucket (bucket_id = 0):\r\n\r\n| Type | Seq 107 | Seq 106 | Seq 105 | Seq 104 | Seq 103 |\r\n| -- | -- | -- | -- | -- | -- |\r\n| data | data-107.parquet | data-106.parquet | data-105.parquet | data-104.parquet | data-103.parquet |\r\n| eq-deletes | eq-107.parquet | eq-106.parquet | eq-105.parquet | eq-104.parquet | eq-103.parquet |\r\n| pos-deletes |  | pos-106.parquet |  |  |  pos-103.parquet |\r\n\r\nI think that we actually can do some compaction in this situation. Say we want to compact `data-103.parquet` through `data-107.parquet`. Then we need to apply all newer equality deletes to each data file:\r\n\r\n| File | Delete files to apply |\r\n| -- | -- |\r\n| data-103.parquet | eq-{104,105,106,107}.parquet, pos-103.parquet |\r\n| data-104.parquet | eq-{105,106,107}.parquet |\r\n| data-105.parquet | eq-{106,107}.parquet |\r\n| data-106.parquet | eq-107.parquet, pos-106.parquet |\r\n| data-107.parquet |  |\r\n\r\nThe position delete files can be removed because they only reference data-103.parquet and data-106.parquet. The equality deletes must remain in the table in case they deleted data in other files. The new compacted data file should be data-107-compacted.parquet and should be committed at sequence number 107 so that future equality deletes are still applied correctly.\r\n\r\nAnother thing to keep in mind is that we may have equality and position deletes coming from concurrent writers. But in this case all we would need to do is update the task emitting committed data files to emit all delete files, even those from concurrent writers. For example, maybe sequence number 5 was written by a concurrent commit. Then the delete files for that commit, eq-105.parquet, should be used. But the data file should not be part of the compaction (it would be compacted by a parallel Flink job).\r\n\r\nI think that this compaction strategy would address Jack's concern and is a safe way to compact across sequence numbers with equality deletes. The key idea is that we leave the equality delete files in the table so we don't have to worry about existing data files that aren't part of the stream we are compacting.\r\n\r\nI think that what I'm proposing is similar to @Reo-LEI's comment, except that it limits the scope of the compaction differently. Using time-based partitions would make us reasonably confident that the compaction is targeted, but the drawback is that we would still need to plan a scan, and it may still be impacted by concurrent deletes. But my strategy of keeping the compaction scoped to just files written by one Flink job and incrementally including delete files is a clean way to handle the issues and ensure that compaction won't conflict with one another.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962068331/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962068853","html_url":"https://github.com/apache/iceberg/issues/562#issuecomment-962068853","issue_url":"https://api.github.com/repos/apache/iceberg/issues/562","id":962068853,"node_id":"IC_kwDOCW7NX845WAF1","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T17:10:54Z","updated_at":"2021-11-05T17:10:54Z","author_association":"CONTRIBUTOR","body":"I should also mention there is a Slack workspace for the project:\nhttps://join.slack.com/t/apache-iceberg/shared_invite/zt-tlv0zjz6-jGJEkHfb1~heMCJA3Uycrg\n\nOn Fri, Nov 5, 2021 at 10:09 AM Ted Gooch ***@***.***> wrote:\n\n> The python library as a whole is currently being refactored[1]. Part of\n> the goal of that effort is to produce a library with that feature.\n> I'd encourage you to join the sync meeting[2](there is one coming up next\n> Wednesday 11/10) if you are interested in get more context on the current\n> progress, or to read the meeting notes[3] if you aren't able to attend\n>\n> [1]\n> https://docs.google.com/document/d/17emc0cag-edj0Nf9CCgZa0UZhEBIfHhUZH-7u5CAenc/edit#\n> [2] https://groups.google.com/g/iceberg-python-sync\n> [3]\n> https://docs.google.com/document/d/1oMKodaZJrOJjPfc8PDVAoTdl02eGQKHlhwuggiw7s9U/edit#\n>\n> On Fri, Nov 5, 2021, 8:44 AM Badrul Chowdhury ***@***.***>\n> wrote:\n>\n>> Hi @danielcweeks <https://github.com/danielcweeks> , is anyone working\n>> on this?\n>>\n>> â€”\n>> You are receiving this because you authored the thread.\n>> Reply to this email directly, view it on GitHub\n>> <https://github.com/apache/iceberg/issues/562#issuecomment-962003507>,\n>> or unsubscribe\n>> <https://github.com/notifications/unsubscribe-auth/AAMETH3AHJOPOQDJ2F2BELDUKQCW5ANCNFSM4JCLSX7Q>\n>> .\n>>\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962068853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962081724","html_url":"https://github.com/apache/iceberg/pull/3472#issuecomment-962081724","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3472","id":962081724,"node_id":"IC_kwDOCW7NX845WDO8","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T17:28:36Z","updated_at":"2021-11-05T17:28:36Z","author_association":"CONTRIBUTOR","body":"Thanks for the review! @kbendick @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962081724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962088462","html_url":"https://github.com/apache/iceberg/issues/562#issuecomment-962088462","issue_url":"https://api.github.com/repos/apache/iceberg/issues/562","id":962088462,"node_id":"IC_kwDOCW7NX845WE4O","user":{"login":"BACtaki","id":7691755,"node_id":"MDQ6VXNlcjc2OTE3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/7691755?v=4","gravatar_id":"","url":"https://api.github.com/users/BACtaki","html_url":"https://github.com/BACtaki","followers_url":"https://api.github.com/users/BACtaki/followers","following_url":"https://api.github.com/users/BACtaki/following{/other_user}","gists_url":"https://api.github.com/users/BACtaki/gists{/gist_id}","starred_url":"https://api.github.com/users/BACtaki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BACtaki/subscriptions","organizations_url":"https://api.github.com/users/BACtaki/orgs","repos_url":"https://api.github.com/users/BACtaki/repos","events_url":"https://api.github.com/users/BACtaki/events{/privacy}","received_events_url":"https://api.github.com/users/BACtaki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T17:38:43Z","updated_at":"2021-11-05T17:38:43Z","author_association":"NONE","body":"Thanks @TGooch44 ! I'll join the meeting on 11/10 to see how I can get involved.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962088462/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962119653","html_url":"https://github.com/apache/iceberg/pull/3452#issuecomment-962119653","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3452","id":962119653,"node_id":"IC_kwDOCW7NX845WMfl","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T18:25:09Z","updated_at":"2021-11-05T18:25:09Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @rdblue @jackye1995 @aokolnychyi for this relatively simple but useful PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962119653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962120186","html_url":"https://github.com/apache/iceberg/pull/3451#issuecomment-962120186","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3451","id":962120186,"node_id":"IC_kwDOCW7NX845WMn6","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T18:26:03Z","updated_at":"2021-11-05T18:26:03Z","author_association":"CONTRIBUTOR","body":"cc @RussellSpitzer @aokolnychyi @nastra for this simple but needed PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962120186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962133229","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962133229","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962133229,"node_id":"IC_kwDOCW7NX845WPzt","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T18:46:43Z","updated_at":"2021-11-05T18:46:43Z","author_association":"CONTRIBUTOR","body":"> For branch: `SELECT * from t.<branch> TIMESTAMP AS OF <timestamp>` is also what I am considering, although it means we cannot use metadata table name as the branch name, but we can discuss on that. The question I have more is if we want to have a more \"formal\" support, like `SELECT * from table TIMESTAMP AS OF <timestamp> IN BRANCH <branch>` just to make things up.\r\n\r\nIt is still strange for me why deviate from the standard SQL for time travel when we developing a new feature, but I heard about the Spark community, and I can accept that we have constraints there.\r\n\r\nIf we do not have the same constraints for handling branches I would go for having `IN BRANCH` in the SQL query. using `t@branch` would be acceptable as well. I would suggest to avoid overloading `.` again. Using `.` for separating branches/tags/metadata tables would cause complications/ambiguities later which we can avoid by using very specific SQL syntax, or specific separators.\r\n\r\nThanks,\r\nPeter","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962133229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962248937","html_url":"https://github.com/apache/iceberg/pull/3422#issuecomment-962248937","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3422","id":962248937,"node_id":"IC_kwDOCW7NX845WsDp","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T22:05:35Z","updated_at":"2021-11-05T22:07:56Z","author_association":"COLLABORATOR","body":"@rdblue @kbendick @samredai  i made a markdown table for files, if you guys click 'View File' in github it should show what it looks like.  If you want i can extend this to the other ones too, or do it separately.\r\n\r\nBy the way i also found a possible problem in the spec_id column added in #3015 , it should probably get hidden just like partition column if table is unpartitioned, I could fix that in another PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962248937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962267333","html_url":"https://github.com/apache/iceberg/pull/3287#issuecomment-962267333","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3287","id":962267333,"node_id":"IC_kwDOCW7NX845WwjF","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T22:57:12Z","updated_at":"2021-11-08T17:45:57Z","author_association":"CONTRIBUTOR","body":"The Spark 3.0 compiling issue is due to a sbt behavior, which reads all public methods in dependencies and analysis if there is any dependency missing. Spark 3.0 depends on iceberg-core, which exposes the RoaringBitmap by the method\r\n```\r\npublic Roaring64Bitmap deletedRowPositions()\r\n```\r\nThe workaround is to wrap Roaring64Bitmap with an interface, so that we don't expose RoaringBitmap in a public method. It has the following benefits:\r\n1. Solve Spark 3.0 compiling issue.\r\n2. Decouple the implementation with interface. For example, we can implement it with other data structures(e.g. set) if needed.\r\n3. More descriptive method names from the new interface.\r\n\r\nThe related sbt code:\r\nhttps://github.com/sbt/zinc/blob/ce0f0a4427fed23a509221a7e68d8f0ea7b88bb3/zinc/src/main/scala/sbt/internal/inc/javac/AnalyzingJavaCompiler.scala#L170\r\n\r\nMany thanks to @aokolnychyi  and @RussellSpitzer for helping debugging and solution suggestion.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962267333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962270388","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962270388","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962270388,"node_id":"IC_kwDOCW7NX845WxS0","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T23:06:53Z","updated_at":"2021-11-05T23:06:53Z","author_association":"CONTRIBUTOR","body":"@rdblue @huaxingao I agree with your core suggestion:\r\n- Overload `TableCatalog#loadTable` with variants that take a version (String) or a timestamp (long, millis since the Unix epoch) parameter. Then standardize names of options that correspond to VERSION AS OF and TIMESTAMP AS OF, and if one of them is set, call the appropriate`TableCatalog#loadTable`.\r\n\r\nMay I suggest \"as-of-version\" and \"as-of-timestamp\" for the options? We already use \"as-of-timestamp\" in Iceberg. (Side note: In Iceberg documentation, the \"as-of-timestamp\" option is shown being used with a String rather than a long value, but we actually use the value as a long.)\r\n\r\nI support being able to use a tag instead of the snapshot-id for the value of VERSION AS OF. But I'm less convinced of the value of being able to use a branch. Perhaps it is enough to support using the branch as part of the table identifier (whether delimited by `.` or another symbol)? It would be nice to support specifying the branch in SQL using something like IN BRANCH as @jackye1995 suggested (and @pvary finds acceptable); correct me if I'm wrong, but is the problem then that it will be opposed if it is not in Delta Lake?\r\n\r\nAn orthogonal question for @huaxingao: is it possible to have FOR SYSTEM_TIME AS OF as a synonym for TIMESTAMP AS OF and FOR SYSTEM_VERSION AS OF as a synonym for VERSION AS OF in Spark SQL? While they are not what is used in Delta Lake, I'm just suggesting them as synonyms. This would allow compatibility with Hive and Impala.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962270388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962272652","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962272652","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962272652,"node_id":"IC_kwDOCW7NX845Wx2M","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T23:13:42Z","updated_at":"2021-11-05T23:16:33Z","author_association":"CONTRIBUTOR","body":"> @wypoon and others. For our next release, should we add something like this PR so that we can fix schemas with time travel in Spark 3.0? We don't have to document that we support time travel through table identifiers so that we can remove it later and replace it with the `AS OF` syntax. What do you think?\r\n> \r\nI'm ok with that idea. (You mean Spark 3.0, 3.1 and 3.2, right?) I would like to get the schema for snapshot done for Spark 3!\r\nSince the special identifiers will be just for the use of the implementation (not for public use), we just need one syntax for each of \"snapshot-id\" and \"as-of-timestamp\".","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962272652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962276530","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962276530","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962276530,"node_id":"IC_kwDOCW7NX845Wyyy","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T23:25:28Z","updated_at":"2021-11-05T23:25:28Z","author_association":"CONTRIBUTOR","body":"> The reason why I think we should consider supporting a branch name in `VERSION AS OF` is so that we have something that may be portable across systems that don't support more than db and table in table identifiers, like Trino.\r\n\r\nI missed that. Can Trino support a new syntax like IN BRANCH? But we might have difficulty to support IN BRANCH in Spark? Can we do it in an extension in Iceberg?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962276530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962278737","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962278737","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962278737,"node_id":"IC_kwDOCW7NX845WzVR","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-05T23:33:07Z","updated_at":"2021-11-05T23:33:07Z","author_association":"CONTRIBUTOR","body":"@wypoon \r\nAre `timestampAsOf` and `versionAsOf` OK for you? I saw the following in Delta Lake doc:\r\n```\r\ndf1 = spark.read.format('delta').option('timestampAsOf', '2019-01-01').load('/mnt/delta/people-10m')\r\ndf2 = spark.read.format('delta').option('versionAsOf', 2).load('/mnt/delta/people-10m')\r\n```\r\nSpark has a very strict control over adding new SQL syntax. Normally only ANSI standard SQL syntax can be added. I will give it a try and propose adding `FOR SYSTEM_TIME AS OF` and `FOR SYSTEM_VERSION AS OF` as synonyms.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962278737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962287299","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962287299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962287299,"node_id":"IC_kwDOCW7NX845W1bD","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T00:07:28Z","updated_at":"2021-11-06T00:07:28Z","author_association":"CONTRIBUTOR","body":"I like the idea to support SYSTEM_TIME and SYSTEM_VERSION for compatibility. That sounds reasonable to me. Do the keywords have underscores in them? If so, is that needed for some reason?\r\n\r\nThe IN BRANCH syntax is fine with me, but it would mean another addition to SparkSQL syntax and I'm not confident that it would be accepted. I also think that it's more natural to use `db.table.branch`, but I don't think that will be supported everywhere. The easiest way to get this in is probably to implement IN BRANCH elsewhere and cite that as precedent.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962287299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962287663","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962287663","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962287663,"node_id":"IC_kwDOCW7NX845W1gv","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T00:08:44Z","updated_at":"2021-11-06T00:08:44Z","author_association":"CONTRIBUTOR","body":"> Can Trino support a new syntax like IN BRANCH? But we might have difficulty to support IN BRANCH in Spark? Can we do it in an extension in Iceberg?\r\n\r\nProbably. I think it's more likely that Trino supports that than multi-part identifiers, but I'm not sure if they would be open to it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962287663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962288211","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962288211","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962288211,"node_id":"IC_kwDOCW7NX845W1pT","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T00:10:35Z","updated_at":"2021-11-06T00:10:35Z","author_association":"CONTRIBUTOR","body":"@huaxingao, can we support both `timestampAsOf` and `as-of-timestamp` / `versionAsOf` and `as-of-version` since there are multiple precedents?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962288211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962293037","html_url":"https://github.com/apache/iceberg/pull/3059#issuecomment-962293037","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3059","id":962293037,"node_id":"IC_kwDOCW7NX845W20t","user":{"login":"xinbinhuang","id":27927454,"node_id":"MDQ6VXNlcjI3OTI3NDU0","avatar_url":"https://avatars.githubusercontent.com/u/27927454?v=4","gravatar_id":"","url":"https://api.github.com/users/xinbinhuang","html_url":"https://github.com/xinbinhuang","followers_url":"https://api.github.com/users/xinbinhuang/followers","following_url":"https://api.github.com/users/xinbinhuang/following{/other_user}","gists_url":"https://api.github.com/users/xinbinhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/xinbinhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinbinhuang/subscriptions","organizations_url":"https://api.github.com/users/xinbinhuang/orgs","repos_url":"https://api.github.com/users/xinbinhuang/repos","events_url":"https://api.github.com/users/xinbinhuang/events{/privacy}","received_events_url":"https://api.github.com/users/xinbinhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T00:33:42Z","updated_at":"2021-11-06T00:33:42Z","author_association":"CONTRIBUTOR","body":"> Looks good to me, I only had a minor question about whether we should test v1 tables who have had spec columns added and then removed but I think this isn't strictly necessary.\r\n\r\n@RussellSpitzer Sorry for taking this long. I've added the test to check unpartitioned spec after removing all columns. PTAL.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962293037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962294787","html_url":"https://github.com/apache/iceberg/issues/3281#issuecomment-962294787","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3281","id":962294787,"node_id":"IC_kwDOCW7NX845W3QD","user":{"login":"xinbinhuang","id":27927454,"node_id":"MDQ6VXNlcjI3OTI3NDU0","avatar_url":"https://avatars.githubusercontent.com/u/27927454?v=4","gravatar_id":"","url":"https://api.github.com/users/xinbinhuang","html_url":"https://github.com/xinbinhuang","followers_url":"https://api.github.com/users/xinbinhuang/followers","following_url":"https://api.github.com/users/xinbinhuang/following{/other_user}","gists_url":"https://api.github.com/users/xinbinhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/xinbinhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinbinhuang/subscriptions","organizations_url":"https://api.github.com/users/xinbinhuang/orgs","repos_url":"https://api.github.com/users/xinbinhuang/repos","events_url":"https://api.github.com/users/xinbinhuang/events{/privacy}","received_events_url":"https://api.github.com/users/xinbinhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T00:43:17Z","updated_at":"2021-11-06T00:43:17Z","author_association":"CONTRIBUTOR","body":"can you assign this to me? :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962294787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962295250","html_url":"https://github.com/apache/iceberg/issues/3117#issuecomment-962295250","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3117","id":962295250,"node_id":"IC_kwDOCW7NX845W3XS","user":{"login":"xinbinhuang","id":27927454,"node_id":"MDQ6VXNlcjI3OTI3NDU0","avatar_url":"https://avatars.githubusercontent.com/u/27927454?v=4","gravatar_id":"","url":"https://api.github.com/users/xinbinhuang","html_url":"https://github.com/xinbinhuang","followers_url":"https://api.github.com/users/xinbinhuang/followers","following_url":"https://api.github.com/users/xinbinhuang/following{/other_user}","gists_url":"https://api.github.com/users/xinbinhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/xinbinhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinbinhuang/subscriptions","organizations_url":"https://api.github.com/users/xinbinhuang/orgs","repos_url":"https://api.github.com/users/xinbinhuang/repos","events_url":"https://api.github.com/users/xinbinhuang/events{/privacy}","received_events_url":"https://api.github.com/users/xinbinhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T00:45:38Z","updated_at":"2021-11-06T00:45:38Z","author_association":"CONTRIBUTOR","body":"@openinx  I would like to work on this. Can you assign it to me?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962295250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962298847","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962298847","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962298847,"node_id":"IC_kwDOCW7NX845W4Pf","user":{"login":"wypoon","id":3925490,"node_id":"MDQ6VXNlcjM5MjU0OTA=","avatar_url":"https://avatars.githubusercontent.com/u/3925490?v=4","gravatar_id":"","url":"https://api.github.com/users/wypoon","html_url":"https://github.com/wypoon","followers_url":"https://api.github.com/users/wypoon/followers","following_url":"https://api.github.com/users/wypoon/following{/other_user}","gists_url":"https://api.github.com/users/wypoon/gists{/gist_id}","starred_url":"https://api.github.com/users/wypoon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wypoon/subscriptions","organizations_url":"https://api.github.com/users/wypoon/orgs","repos_url":"https://api.github.com/users/wypoon/repos","events_url":"https://api.github.com/users/wypoon/events{/privacy}","received_events_url":"https://api.github.com/users/wypoon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T01:04:51Z","updated_at":"2021-11-06T01:04:51Z","author_association":"CONTRIBUTOR","body":"@huaxingao thanks. For the synonym proposal, you can cite [HIVE-25344](https://issues.apache.org/jira/browse/HIVE-25344).\r\nFor the option names, I'm fine with \"timestampAsOf\" and \"versionAsOf\" if that is what the Spark community agrees to. I expected that we have to break with the existing \"snapshot-id\" anyway. But if the community will accept \"as-of-timestamp\" and (for consistency) \"as-of-version\" as alternatives, that would be great.\r\n\r\n@pvary can you comment on the question about the underscores in SYSTEM_TIME and SYSTEM_VERSION?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962298847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962364884","html_url":"https://github.com/apache/iceberg/issues/3464#issuecomment-962364884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3464","id":962364884,"node_id":"IC_kwDOCW7NX845XIXU","user":{"login":"CircArgs","id":35903677,"node_id":"MDQ6VXNlcjM1OTAzNjc3","avatar_url":"https://avatars.githubusercontent.com/u/35903677?v=4","gravatar_id":"","url":"https://api.github.com/users/CircArgs","html_url":"https://github.com/CircArgs","followers_url":"https://api.github.com/users/CircArgs/followers","following_url":"https://api.github.com/users/CircArgs/following{/other_user}","gists_url":"https://api.github.com/users/CircArgs/gists{/gist_id}","starred_url":"https://api.github.com/users/CircArgs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CircArgs/subscriptions","organizations_url":"https://api.github.com/users/CircArgs/orgs","repos_url":"https://api.github.com/users/CircArgs/repos","events_url":"https://api.github.com/users/CircArgs/events{/privacy}","received_events_url":"https://api.github.com/users/CircArgs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T01:48:40Z","updated_at":"2021-11-06T01:49:15Z","author_association":"CONTRIBUTOR","body":"@jun-he thanks a lot for the explanation. I have a good idea of what you're describing I think. I definitely dont want to seem like I'm making an argument for types to be based on dataclasses or anything I just used them to get the more auto implemented methods for free for my example (and I still had to make the decorator to account for the special null behavior I saw in the legacy python implementation). \r\n\r\nIt still seems to me that the fixed types fit well into the model I tried to describe though. What do you think about something like (also in the updated gist https://gist.github.com/CircArgs/a4571332d72888e3773f66bd180bb0e0):\r\n\r\n```python\r\n@dataclass\r\nclass _FixedTypeBase(Type):\r\n    '''base fixed type for behavior of a fixed type e.g. FixedType[16]'''\r\n    value: bytes\r\n        \r\n    def __repr__(self):\r\n        return f'FixedType{self._length}(value={self.value})'\r\n    \r\n    def __str__(self):\r\n        return repr(self)\r\n\r\nclass FixedTypes:\r\n    implemented: Dict[int, _FixedTypeBase]=dict()\r\n    \r\n    def __getitem__(self, length: int):\r\n        if length in self.implemented:\r\n            return self.implemented[length]\r\n        else:\r\n            class _FixedType(_FixedTypeBase):\r\n                _length = length\r\n            self.implemented[length]=_FixedType\r\n            return _FixedType\r\n        \r\n    \r\n\r\nFixedType=FixedTypes()\r\n\r\n#usage\r\n# FixedType[16](string.encode(...))\r\nFixedType[16]==FixedType[16]\r\n```\r\n\r\nI went with this pattern in case there's a need for types of arbitrary length, but if they were to be just 8, 16, 32, 64, ... then I could see why they might just be written out fully without this. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962364884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962372928","html_url":"https://github.com/apache/iceberg/issues/3475#issuecomment-962372928","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3475","id":962372928,"node_id":"IC_kwDOCW7NX845XKVA","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T02:19:16Z","updated_at":"2021-11-06T02:32:38Z","author_association":"CONTRIBUTOR","body":"Agreed there is a lot of information buried within a single sub-section. Although the extra level of nesting under `Spec` does get busy very fast (see the image below).\r\n\r\n<img width=\"1791\" alt=\"Screen Shot 2021-11-05 at 7 13 39 PM\" src=\"https://user-images.githubusercontent.com/43911210/140594439-2f77a16f-a68e-4d7a-a179-eaa3b3965153.png\">\r\n\r\nHow about if we break them out into top sections under Format? The subsections in the page can then all be changed to `##` and be displayed in the navbar.\r\n```\r\n.\r\nâ””â”€â”€ Format\r\n    â”œâ”€â”€ Definitions\r\n    â”œâ”€â”€ Spec Overview\r\n    â”œâ”€â”€ Spec Details\r\n    â”œâ”€â”€ Table Metadata\r\n    â””â”€â”€ Appendices\r\n```\r\nHere are some screenshots of what that looks like:\r\n![019](https://user-images.githubusercontent.com/43911210/140594986-8671eef9-5f3e-4e3c-96f0-988d9aa72234.png)\r\n![020](https://user-images.githubusercontent.com/43911210/140594990-64081925-34d1-43c9-9377-81465b7a1b8e.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962372928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962378074","html_url":"https://github.com/apache/iceberg/issues/3474#issuecomment-962378074","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3474","id":962378074,"node_id":"IC_kwDOCW7NX845XLla","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T02:35:10Z","updated_at":"2021-11-06T02:35:10Z","author_association":"CONTRIBUTOR","body":"You're exactly right that it doesn't show the section because it's a single file referenced at the top-level section. We could definitely break it up into multiple files but one issue to consider there is that the url links would change and could break links that have been saved/shared/bookmarked.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962378074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962379147","html_url":"https://github.com/apache/iceberg/pull/3480#issuecomment-962379147","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3480","id":962379147,"node_id":"IC_kwDOCW7NX845XL2L","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T02:44:04Z","updated_at":"2021-11-06T02:44:04Z","author_association":"CONTRIBUTOR","body":"@rdblue @RussellSpitzer @aokolnychyi @puneetzaroo @Reo-LEI @openinx ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962379147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962381119","html_url":"https://github.com/apache/iceberg/issues/3464#issuecomment-962381119","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3464","id":962381119,"node_id":"IC_kwDOCW7NX845XMU_","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T03:02:41Z","updated_at":"2021-11-06T03:02:41Z","author_association":"CONTRIBUTOR","body":"One thing I noticed about how types.py is currently is that because the types are a mix of classes (`DecimalType`, `FixedType`, etc) and instances (`BooleanType`, `IntegerType`, etc), checking a type is a little inconsistent. For example:\r\n```py\r\ntype_1 = FixedType(8)\r\nisinstance(type_1, FixedType)  # True\r\n\r\ntype_2 = BooleanType\r\nisinstance(type_2, BooleanType)  # False\r\ntype_2 == BooleanType  # True\r\n```\r\n\r\nIf using dataclasses gives us the expected behavior for all relevant dunder methods (or even 90%, we can override any of them), and it allows us to consolidate the logic in literals.py and types.py, that would cut down the code significantly. I think it's worth trying out and validating against existing tests.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962381119/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962394057","html_url":"https://github.com/apache/iceberg/pull/3422#issuecomment-962394057","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3422","id":962394057,"node_id":"IC_kwDOCW7NX845XPfJ","user":{"login":"samredai","id":43911210,"node_id":"MDQ6VXNlcjQzOTExMjEw","avatar_url":"https://avatars.githubusercontent.com/u/43911210?v=4","gravatar_id":"","url":"https://api.github.com/users/samredai","html_url":"https://github.com/samredai","followers_url":"https://api.github.com/users/samredai/followers","following_url":"https://api.github.com/users/samredai/following{/other_user}","gists_url":"https://api.github.com/users/samredai/gists{/gist_id}","starred_url":"https://api.github.com/users/samredai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samredai/subscriptions","organizations_url":"https://api.github.com/users/samredai/orgs","repos_url":"https://api.github.com/users/samredai/repos","events_url":"https://api.github.com/users/samredai/events{/privacy}","received_events_url":"https://api.github.com/users/samredai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T04:44:53Z","updated_at":"2021-11-06T04:44:53Z","author_association":"CONTRIBUTOR","body":"GitHub injects some overflow css to add the scroll bar, if we switch to markdown tables we'd have to add that as well. Here's how the table currently would look:\r\n<img width=\"1781\" alt=\"Screen Shot 2021-11-05 at 9 22 44 PM\" src=\"https://user-images.githubusercontent.com/43911210/140597755-5ca6eecc-8c89-4289-94fe-aba0baf7a231.png\">\r\n\r\nBut adding the following:\r\n### extra.css\r\n```css\r\n.markdown-table-container {\r\n  width: 780px;\r\n  overflow-x: scroll;\r\n}\r\n```\r\nand then surrounding your markdown table with:\r\n```html\r\n<div class=\"markdown-table-container\" markdown=\"block\">\r\n...markdown table here...\r\n</div>\r\n```\r\nwill make it look like this with the scrollbar:\r\n<img width=\"1781\" alt=\"Screen Shot 2021-11-05 at 9 44 05 PM\" src=\"https://user-images.githubusercontent.com/43911210/140598189-38f0f601-061e-4b81-87c8-11bf03a7e1a7.png\">\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962394057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962396643","html_url":"https://github.com/apache/iceberg/pull/3461#issuecomment-962396643","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3461","id":962396643,"node_id":"IC_kwDOCW7NX845XQHj","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T05:13:35Z","updated_at":"2021-11-06T05:13:35Z","author_association":"CONTRIBUTOR","body":"I went ahead and implemented the custom rule to support all transforms.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962396643/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962404513","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962404513","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962404513,"node_id":"IC_kwDOCW7NX845XSCh","user":{"login":"huaxingao","id":13592258,"node_id":"MDQ6VXNlcjEzNTkyMjU4","avatar_url":"https://avatars.githubusercontent.com/u/13592258?v=4","gravatar_id":"","url":"https://api.github.com/users/huaxingao","html_url":"https://github.com/huaxingao","followers_url":"https://api.github.com/users/huaxingao/followers","following_url":"https://api.github.com/users/huaxingao/following{/other_user}","gists_url":"https://api.github.com/users/huaxingao/gists{/gist_id}","starred_url":"https://api.github.com/users/huaxingao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huaxingao/subscriptions","organizations_url":"https://api.github.com/users/huaxingao/orgs","repos_url":"https://api.github.com/users/huaxingao/repos","events_url":"https://api.github.com/users/huaxingao/events{/privacy}","received_events_url":"https://api.github.com/users/huaxingao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T06:45:22Z","updated_at":"2021-11-06T06:45:22Z","author_association":"CONTRIBUTOR","body":"@rdblue Yes, I will try to add  `SYSTEM_TIME` and `SYSTEM_VERSION`, and also `as-of-timestamp` /`as-of-version`. Hopefully, I won't get any objections.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962404513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962408637","html_url":"https://github.com/apache/iceberg/pull/3461#issuecomment-962408637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3461","id":962408637,"node_id":"IC_kwDOCW7NX845XTC9","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T06:56:56Z","updated_at":"2021-11-06T06:56:56Z","author_association":"CONTRIBUTOR","body":"This one is ready for a proper review round.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962408637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962492491","html_url":"https://github.com/apache/iceberg/pull/3479#issuecomment-962492491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3479","id":962492491,"node_id":"IC_kwDOCW7NX845XnhL","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T18:35:53Z","updated_at":"2021-11-06T18:35:53Z","author_association":"CONTRIBUTOR","body":"Given the fact that we now have options for building against multiple Spark, Flink and Hive versions using different Java JDK versions, I think it's worth mentioning something in the line of:\r\n\r\n> It is recommended to report the Java, Scala, Spark, Flink and Hive versions you have tested against when you vote.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962492491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962492670","html_url":"https://github.com/apache/iceberg/pull/3478#issuecomment-962492670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3478","id":962492670,"node_id":"IC_kwDOCW7NX845Xnj-","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T18:37:32Z","updated_at":"2021-11-06T18:37:32Z","author_association":"CONTRIBUTOR","body":"looks like the build fails due to the recent Flink CI change, it can probably be fixed with rebase, could you rebase your change?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962492670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962492882","html_url":"https://github.com/apache/iceberg/pull/3473#issuecomment-962492882","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3473","id":962492882,"node_id":"IC_kwDOCW7NX845XnnS","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T18:39:11Z","updated_at":"2021-11-06T18:39:11Z","author_association":"CONTRIBUTOR","body":"Got 2 approvals, thanks for the review @kbendick @yyanyy , I will merge on Monday if there is no additional comments received.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962492882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962494255","html_url":"https://github.com/apache/iceberg/pull/3479#issuecomment-962494255","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3479","id":962494255,"node_id":"IC_kwDOCW7NX845Xn8v","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T18:49:37Z","updated_at":"2021-11-06T18:55:17Z","author_association":"CONTRIBUTOR","body":"> Given the fact that we now have options for building against multiple Spark, Flink and Hive versions using different Java JDK versions, I think it's worth mentioning something in the line of:\r\n> \r\n> > It is recommended to report the Java, Scala, Spark, Flink and Hive versions you have tested against when you vote.\r\n\r\n+1. Especially for manual tests (eg not the unit tests), thatâ€™s really valuable to include. If we all test with the latest supported versions, thatâ€™s something that would be nice to know so others can decide if theyâ€™d like to run more tests.\r\n\r\nSome users canâ€™t or donâ€™t upgrade very often (especially with Spark), and it would be a disservice to them to not try to test the things we still actively support, especially as release manager etc.\r\n\r\nIâ€™d be interested in any thoughts on how to tackle this challenge (and how important it is), as we integrate with such a large number of tools and versions of each.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962494255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962495537","html_url":"https://github.com/apache/iceberg/issues/3475#issuecomment-962495537","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3475","id":962495537,"node_id":"IC_kwDOCW7NX845XoQx","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T19:00:19Z","updated_at":"2021-11-06T19:00:19Z","author_association":"CONTRIBUTOR","body":"Thanks for testing it out! I am for the approach of breaking down to the sections you proposed, that is much easier to navigate for readers. For backwards compatibility, users accessing `/spec` can always land in the overview page.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962495537/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962495811","html_url":"https://github.com/apache/iceberg/issues/3474#issuecomment-962495811","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3474","id":962495811,"node_id":"IC_kwDOCW7NX845XoVD","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T19:02:27Z","updated_at":"2021-11-06T19:02:27Z","author_association":"CONTRIBUTOR","body":"What about using:\r\n\r\n```\r\n  - Hive:\r\n      - Getting Started: hive.md\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962495811/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962513587","html_url":"https://github.com/apache/iceberg/issues/3484#issuecomment-962513587","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3484","id":962513587,"node_id":"IC_kwDOCW7NX845Xsqz","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T21:40:25Z","updated_at":"2021-11-06T21:40:25Z","author_association":"CONTRIBUTOR","body":"@samredai @kbendick ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962513587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962520068","html_url":"https://github.com/apache/iceberg/issues/2645#issuecomment-962520068","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2645","id":962520068,"node_id":"IC_kwDOCW7NX845XuQE","user":{"login":"xinbinhuang","id":27927454,"node_id":"MDQ6VXNlcjI3OTI3NDU0","avatar_url":"https://avatars.githubusercontent.com/u/27927454?v=4","gravatar_id":"","url":"https://api.github.com/users/xinbinhuang","html_url":"https://github.com/xinbinhuang","followers_url":"https://api.github.com/users/xinbinhuang/followers","following_url":"https://api.github.com/users/xinbinhuang/following{/other_user}","gists_url":"https://api.github.com/users/xinbinhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/xinbinhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinbinhuang/subscriptions","organizations_url":"https://api.github.com/users/xinbinhuang/orgs","repos_url":"https://api.github.com/users/xinbinhuang/repos","events_url":"https://api.github.com/users/xinbinhuang/events{/privacy}","received_events_url":"https://api.github.com/users/xinbinhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T22:50:19Z","updated_at":"2021-11-06T22:50:19Z","author_association":"CONTRIBUTOR","body":"@openinx want to take a stab at this. Can you assign to me?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962520068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962520832","html_url":"https://github.com/apache/iceberg/issues/3227#issuecomment-962520832","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3227","id":962520832,"node_id":"IC_kwDOCW7NX845XucA","user":{"login":"xinbinhuang","id":27927454,"node_id":"MDQ6VXNlcjI3OTI3NDU0","avatar_url":"https://avatars.githubusercontent.com/u/27927454?v=4","gravatar_id":"","url":"https://api.github.com/users/xinbinhuang","html_url":"https://github.com/xinbinhuang","followers_url":"https://api.github.com/users/xinbinhuang/followers","following_url":"https://api.github.com/users/xinbinhuang/following{/other_user}","gists_url":"https://api.github.com/users/xinbinhuang/gists{/gist_id}","starred_url":"https://api.github.com/users/xinbinhuang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xinbinhuang/subscriptions","organizations_url":"https://api.github.com/users/xinbinhuang/orgs","repos_url":"https://api.github.com/users/xinbinhuang/repos","events_url":"https://api.github.com/users/xinbinhuang/events{/privacy}","received_events_url":"https://api.github.com/users/xinbinhuang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-06T22:58:23Z","updated_at":"2021-11-06T22:58:23Z","author_association":"CONTRIBUTOR","body":"@jun-he I want to take a stab at this if it doesn't have dependencies on other issues. Can you assign it to me?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962520832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962542950","html_url":"https://github.com/apache/iceberg/pull/3482#issuecomment-962542950","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3482","id":962542950,"node_id":"IC_kwDOCW7NX845Xz1m","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T02:49:30Z","updated_at":"2021-11-07T02:49:30Z","author_association":"CONTRIBUTOR","body":"I have modify it","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962542950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962657305","html_url":"https://github.com/apache/iceberg/pull/3489#issuecomment-962657305","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3489","id":962657305,"node_id":"IC_kwDOCW7NX845YPwZ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:15:53Z","updated_at":"2021-11-07T18:15:53Z","author_association":"CONTRIBUTOR","body":"Thanks, @brandboat!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962657305/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962659210","html_url":"https://github.com/apache/iceberg/pull/3488#issuecomment-962659210","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3488","id":962659210,"node_id":"IC_kwDOCW7NX845YQOK","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:29:59Z","updated_at":"2021-11-07T18:29:59Z","author_association":"CONTRIBUTOR","body":"What is the use case for this setting? Do you have data to show that in some situations, 1000 is too small or too large? A much simpler fix is to update this setting for all tables. I'd like to make sure it is necessary to add a config for this instead of just fixing it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962659210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962659394","html_url":"https://github.com/apache/iceberg/pull/3487#issuecomment-962659394","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3487","id":962659394,"node_id":"IC_kwDOCW7NX845YQRC","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:31:28Z","updated_at":"2021-11-07T18:31:28Z","author_association":"CONTRIBUTOR","body":"This doesn't appear to add an icon for JetBrains as it says in the description. Looks like this only adds the icon file to .gitignore. Can you clarify that this is what you intend to do?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962659394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962659907","html_url":"https://github.com/apache/iceberg/pull/3490#issuecomment-962659907","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3490","id":962659907,"node_id":"IC_kwDOCW7NX845YQZD","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:35:08Z","updated_at":"2021-11-07T18:35:08Z","author_association":"CONTRIBUTOR","body":"#3461 implements a real `Write` to request distribution and ordering, so I think that is a better direction.\r\n\r\nIn addition, we generally don't want to make changes like this without a reason to. Cosmetic changes can cause commit conflicts and make it hard to maintain branches. It's okay to implement an older API if it means less code churn.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962659907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962662548","html_url":"https://github.com/apache/iceberg/pull/3476#issuecomment-962662548","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3476","id":962662548,"node_id":"IC_kwDOCW7NX845YRCU","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:55:03Z","updated_at":"2021-11-07T18:55:03Z","author_association":"CONTRIBUTOR","body":"@kbendick, I think this PR should focus on just the build and file changes. We can update the code and remove dynamic calls later. That keeps this simple so we don't have to find where 1.13 changed in a huge commit.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962662548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962662904","html_url":"https://github.com/apache/iceberg/pull/3476#issuecomment-962662904","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3476","id":962662904,"node_id":"IC_kwDOCW7NX845YRH4","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:58:03Z","updated_at":"2021-11-07T18:58:03Z","author_association":"CONTRIBUTOR","body":"I'm going to merge this so that we can unblock follow-up projects, like FLIP-27 and Flink 1.14. Thanks @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962662904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962663060","html_url":"https://github.com/apache/iceberg/pull/3492#issuecomment-962663060","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3492","id":962663060,"node_id":"IC_kwDOCW7NX845YRKU","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T18:59:19Z","updated_at":"2021-11-07T18:59:19Z","author_association":"CONTRIBUTOR","body":"I ran CI to demonstrate the issue with this change. Here's the test failure:\r\n\r\n```\r\norg.apache.iceberg.spark.source.TestSparkRollingFileWriters > testRollingPositionDeleteWriterNoRecords[FileFormat=AVRO, Partitioned=false] FAILED\r\n    java.lang.NullPointerException\r\n        at org.apache.iceberg.io.RollingPositionDeleteWriter.newWriter(RollingPositionDeleteWriter.java:54)\r\n        at org.apache.iceberg.io.RollingPositionDeleteWriter.newWriter(RollingPositionDeleteWriter.java:36)\r\n        at org.apache.iceberg.io.RollingFileWriter.openCurrentWriter(RollingFileWriter.java:105)\r\n        at org.apache.iceberg.io.RollingFileWriter.<init>(RollingFileWriter.java:55)\r\n        at org.apache.iceberg.io.RollingPositionDeleteWriter.<init>(RollingPositionDeleteWriter.java:46)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962663060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962664631","html_url":"https://github.com/apache/iceberg/pull/3422#issuecomment-962664631","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3422","id":962664631,"node_id":"IC_kwDOCW7NX845YRi3","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T19:10:35Z","updated_at":"2021-11-07T19:10:35Z","author_association":"CONTRIBUTOR","body":"+1 to adding the scroll bar. Thanks @samredai!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962664631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962664868","html_url":"https://github.com/apache/iceberg/pull/3422#issuecomment-962664868","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3422","id":962664868,"node_id":"IC_kwDOCW7NX845YRmk","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T19:12:06Z","updated_at":"2021-11-07T19:12:06Z","author_association":"CONTRIBUTOR","body":"The markdown table looks good to me. The only problem is that now just this table is markdown. Anyone want to follow up with an update for the other tables?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962664868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962671939","html_url":"https://github.com/apache/iceberg/pull/3461#issuecomment-962671939","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3461","id":962671939,"node_id":"IC_kwDOCW7NX845YTVD","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T20:04:25Z","updated_at":"2021-11-07T20:04:25Z","author_association":"CONTRIBUTOR","body":"Awesome work, @aokolnychyi! This looks nearly there to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962671939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962681328","html_url":"https://github.com/apache/iceberg/pull/3454#issuecomment-962681328","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3454","id":962681328,"node_id":"IC_kwDOCW7NX845YVnw","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T21:11:23Z","updated_at":"2021-11-07T21:11:23Z","author_association":"CONTRIBUTOR","body":"@jackye1995, thanks for getting this done! Sorry I didn't have a chance to review it sooner.\r\n\r\nMy only comment is that I don't think that we are using \"min\" in a consistent way so the option names may be confusing. For file sizes, min and max are the min and max _allowed_ file sizes. Anything that is larger than max or less than min gets rewritten. But min deletes per file is actually the minimum before taking action. In other words, it is the _maximum allowed_ number of delete files.\r\n\r\nI'd prefer making these consistent and using `max-delete-files` instead of `min-deletes-per-file`. That fixes the min/max issue and also is more clear that we are talking about delete files and not actual deletes in the files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962681328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962684130","html_url":"https://github.com/apache/iceberg/pull/3292#issuecomment-962684130","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3292","id":962684130,"node_id":"IC_kwDOCW7NX845YWTi","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T21:32:20Z","updated_at":"2021-11-07T21:32:20Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, if I understand what this is doing correctly, it looks like this is fixing two problems. First, Iceberg can probably pack tasks more densely at read time. The 75/75/75/75 situation you describe also applies to regular task planning and that's why you're changing the config there. Second, the bin packing strategy needs to configure the scan it creates with the new config you introduced. But, this has to guess at how it can split files.\r\n\r\nI think that we may be able to do this in a more straightforward way. Instead of using two configs, a size to split tasks down to and a size to combine up to, I think we can update just the split code to be a little smarter.\r\n\r\nWe already have a `split` implementation of `FileScanTask` that uses row group offsets. That's the smallest chunk of a Parquet or ORC file that we can split down to. What if we produce one task per row group rather than trying to guess how far down to split? Then we could combine just like normal. We could also avoid producing a ton of tiny splits by basing this on a heuristic and the original target split size. In `FileScanTask.split`, actually split down to `targetSize / 4`.\r\n\r\nWhat do you think? That would simplify configuration and make it possible for us to more densely pack splits for normal scans as well as those for compaction.\r\n\r\nIf you like it, I think we would also want to add a way to combine tasks for the same file back into larger splits. For example, `FileScanTask(a.parquet, 0, 50)` and `FileScanTask(a.parquet, 50, 100)` in the same combined task would be rewritten as `FileScanTask(a.parquet, 0, 100)`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962684130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962689525","html_url":"https://github.com/apache/iceberg/issues/3464#issuecomment-962689525","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3464","id":962689525,"node_id":"IC_kwDOCW7NX845YXn1","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:11:16Z","updated_at":"2021-11-07T22:11:16Z","author_association":"CONTRIBUTOR","body":"@samredai, I agree. If we can fix the problem that some types are actually instances, that would be great. I'm not sure how to do that though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962689525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962689879","html_url":"https://github.com/apache/iceberg/pull/3493#issuecomment-962689879","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3493","id":962689879,"node_id":"IC_kwDOCW7NX845YXtX","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:13:14Z","updated_at":"2021-11-07T22:13:14Z","author_association":"CONTRIBUTOR","body":"Thanks, @williamhyun!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962689879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962689995","html_url":"https://github.com/apache/iceberg/pull/3491#issuecomment-962689995","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3491","id":962689995,"node_id":"IC_kwDOCW7NX845YXvL","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:13:53Z","updated_at":"2021-11-07T22:13:53Z","author_association":"CONTRIBUTOR","body":"I'm going to wait to merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962689995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962690118","html_url":"https://github.com/apache/iceberg/pull/3452#issuecomment-962690118","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3452","id":962690118,"node_id":"IC_kwDOCW7NX845YXxG","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:14:42Z","updated_at":"2021-11-07T22:14:42Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962690118/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962690260","html_url":"https://github.com/apache/iceberg/pull/3442#issuecomment-962690260","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3442","id":962690260,"node_id":"IC_kwDOCW7NX845YXzU","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:15:41Z","updated_at":"2021-11-07T22:15:41Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962690260/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962690885","html_url":"https://github.com/apache/iceberg/pull/3446#issuecomment-962690885","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3446","id":962690885,"node_id":"IC_kwDOCW7NX845YX9F","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:19:21Z","updated_at":"2021-11-07T22:19:21Z","author_association":"CONTRIBUTOR","body":"Thanks for the update, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962690885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962692791","html_url":"https://github.com/apache/iceberg/pull/3442#issuecomment-962692791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3442","id":962692791,"node_id":"IC_kwDOCW7NX845YYa3","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:31:59Z","updated_at":"2021-11-07T22:32:28Z","author_association":"CONTRIBUTOR","body":"Sure thing.\r\n\r\nIâ€™m focusing right now on another task, but after that I plan on introducing a slightly higher level orchestration for the tests so that if one fails, they all abort early (like they do within a single workflow).\r\n\r\nI know we talked about potential benefits of going back to the old single method, but the tests take generally longer to run that way. Cancelling all while running them via individual workflow files definitely can be done with existing primitives from GH Actions.\r\n\r\nUntil I sort out the practical details of that, this PR and the others like it are low hanging fruit to avoid running unnecessary tests where possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962692791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962696101","html_url":"https://github.com/apache/iceberg/pull/3493#issuecomment-962696101","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3493","id":962696101,"node_id":"IC_kwDOCW7NX845YZOl","user":{"login":"dongjoon-hyun","id":9700541,"node_id":"MDQ6VXNlcjk3MDA1NDE=","avatar_url":"https://avatars.githubusercontent.com/u/9700541?v=4","gravatar_id":"","url":"https://api.github.com/users/dongjoon-hyun","html_url":"https://github.com/dongjoon-hyun","followers_url":"https://api.github.com/users/dongjoon-hyun/followers","following_url":"https://api.github.com/users/dongjoon-hyun/following{/other_user}","gists_url":"https://api.github.com/users/dongjoon-hyun/gists{/gist_id}","starred_url":"https://api.github.com/users/dongjoon-hyun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dongjoon-hyun/subscriptions","organizations_url":"https://api.github.com/users/dongjoon-hyun/orgs","repos_url":"https://api.github.com/users/dongjoon-hyun/repos","events_url":"https://api.github.com/users/dongjoon-hyun/events{/privacy}","received_events_url":"https://api.github.com/users/dongjoon-hyun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T22:54:41Z","updated_at":"2021-11-07T22:54:41Z","author_association":"MEMBER","body":"Thank you, @rdblue !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962696101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962701123","html_url":"https://github.com/apache/iceberg/pull/3204#issuecomment-962701123","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3204","id":962701123,"node_id":"IC_kwDOCW7NX845YadD","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T23:22:48Z","updated_at":"2021-11-07T23:22:48Z","author_association":"CONTRIBUTOR","body":"@hameizi, can you help review and test #3480? That's an alternative approach to what you're doing here that sets the sequence number per data file. I think that change is actually really important. While I was reviewing this, I thought that it was probably not a good idea to set the sequence number by reusing inheritance. Now that we've thought through the use case more, we've come up with a good reason not to: it makes it so we can't recover the sequence number where files were added, not just the sequence number where the data lives in time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962701123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962701637","html_url":"https://github.com/apache/iceberg/pull/3459#issuecomment-962701637","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3459","id":962701637,"node_id":"IC_kwDOCW7NX845YalF","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-07T23:26:05Z","updated_at":"2021-11-07T23:26:05Z","author_association":"CONTRIBUTOR","body":"I think there's also a larger question here: do we want to support some of the other methods, like `dropPartition`? It's easy enough to turn that into a delete filter. The problem is that we don't encourage people to interact with tables through partitions because partitioning can change.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962701637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962738018","html_url":"https://github.com/apache/iceberg/pull/3487#issuecomment-962738018","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3487","id":962738018,"node_id":"IC_kwDOCW7NX845Yjdi","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T01:33:06Z","updated_at":"2021-11-08T01:33:06Z","author_association":"CONTRIBUTOR","body":"> This doesn't appear to add an icon for JetBrains as it says in the description. Looks like this only adds the icon file to .gitignore. Can you clarify that this is what you intend to do?\r\n\r\nYeahï¼Œadd the `icon.png` to `.idea` folder and modify `.gitignore` file to exclude it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962738018/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962748559","html_url":"https://github.com/apache/iceberg/pull/3490#issuecomment-962748559","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3490","id":962748559,"node_id":"IC_kwDOCW7NX845YmCP","user":{"login":"zhaomin1423","id":49054376,"node_id":"MDQ6VXNlcjQ5MDU0Mzc2","avatar_url":"https://avatars.githubusercontent.com/u/49054376?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaomin1423","html_url":"https://github.com/zhaomin1423","followers_url":"https://api.github.com/users/zhaomin1423/followers","following_url":"https://api.github.com/users/zhaomin1423/following{/other_user}","gists_url":"https://api.github.com/users/zhaomin1423/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaomin1423/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaomin1423/subscriptions","organizations_url":"https://api.github.com/users/zhaomin1423/orgs","repos_url":"https://api.github.com/users/zhaomin1423/repos","events_url":"https://api.github.com/users/zhaomin1423/events{/privacy}","received_events_url":"https://api.github.com/users/zhaomin1423/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T02:05:51Z","updated_at":"2021-11-08T02:05:51Z","author_association":"MEMBER","body":"> #3461 implements a real `Write` to request distribution and ordering, so I think that is a better direction.\r\n> \r\n> In addition, we generally don't want to make changes like this without a reason to. Cosmetic changes can cause commit conflicts and make it hard to maintain branches. It's okay to implement an older API if it means less code churn.\r\n\r\nI see, Thanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962748559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962753051","html_url":"https://github.com/apache/iceberg/pull/3491#issuecomment-962753051","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3491","id":962753051,"node_id":"IC_kwDOCW7NX845YnIb","user":{"login":"zhaomin1423","id":49054376,"node_id":"MDQ6VXNlcjQ5MDU0Mzc2","avatar_url":"https://avatars.githubusercontent.com/u/49054376?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaomin1423","html_url":"https://github.com/zhaomin1423","followers_url":"https://api.github.com/users/zhaomin1423/followers","following_url":"https://api.github.com/users/zhaomin1423/following{/other_user}","gists_url":"https://api.github.com/users/zhaomin1423/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaomin1423/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaomin1423/subscriptions","organizations_url":"https://api.github.com/users/zhaomin1423/orgs","repos_url":"https://api.github.com/users/zhaomin1423/repos","events_url":"https://api.github.com/users/zhaomin1423/events{/privacy}","received_events_url":"https://api.github.com/users/zhaomin1423/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T02:16:15Z","updated_at":"2021-11-08T02:16:15Z","author_association":"MEMBER","body":"> I'm going to wait to merge this.\r\n\r\nThank you for reviewing my work.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962753051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962757141","html_url":"https://github.com/apache/iceberg/pull/3422#issuecomment-962757141","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3422","id":962757141,"node_id":"IC_kwDOCW7NX845YoIV","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T02:26:35Z","updated_at":"2021-11-08T02:26:35Z","author_association":"CONTRIBUTOR","body":"> The markdown table looks good to me. The only problem is that now just this table is markdown. Anyone want to follow up with an update for the other tables?\r\n\r\n@rdblue I can update other tables in this pr #3482 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962757141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962768767","html_url":"https://github.com/apache/iceberg/issues/3494#issuecomment-962768767","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3494","id":962768767,"node_id":"IC_kwDOCW7NX845Yq9_","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T03:02:34Z","updated_at":"2021-11-08T03:02:34Z","author_association":"CONTRIBUTOR","body":"spark.sql(\r\n      s\"\"\"\r\n        |CREATE TABLE IF NOT EXISTS hadoop_prod.$schemaName.$tableName (\r\n        |    id string,\r\n        |    data string,\r\n        |    jydw_no string,\r\n        |    ts timestamp)\r\n        |USING iceberg\r\n        |--PARTITIONED BY (bucket(12, id), days(ts), truncate(jydw_no, 5))\r\n        |PARTITIONED BY (days(ts))\r\n        |TBLPROPERTIES ('write.distribution-mode'='hash', 'write.metadata.compression-codec'='gzip',\r\n        | 'write.metadata.delete-after-commit.enabled'='true', 'write.metadata.previous-versions-max'='9')\r\n        |\"\"\".stripMargin)\r\n\r\nspark.sql(\r\n      s\"\"\"\r\n         |INSERT OVERWRITE hadoop_prod.$schemaName.$tableName\r\n         |  VALUES ($index, '$index', 'B3$index', CAST (from_utc_timestamp('2021-11-08 07:00:00', 'Asia/Shanghai') AS timestamp))\r\n         |\"\"\".stripMargin)\r\n\r\nin this DML the function of \"from_utc_timestamp\" is setted partitioned by '2021-11-08', but unused fuction it is setted partitioned by '2021-11-07', how to setting spark config of the partitioned by '2021-11-08'?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962768767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962838534","html_url":"https://github.com/apache/iceberg/pull/3120#issuecomment-962838534","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3120","id":962838534,"node_id":"IC_kwDOCW7NX845Y8AG","user":{"login":"Reo-LEI","id":17312872,"node_id":"MDQ6VXNlcjE3MzEyODcy","avatar_url":"https://avatars.githubusercontent.com/u/17312872?v=4","gravatar_id":"","url":"https://api.github.com/users/Reo-LEI","html_url":"https://github.com/Reo-LEI","followers_url":"https://api.github.com/users/Reo-LEI/followers","following_url":"https://api.github.com/users/Reo-LEI/following{/other_user}","gists_url":"https://api.github.com/users/Reo-LEI/gists{/gist_id}","starred_url":"https://api.github.com/users/Reo-LEI/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Reo-LEI/subscriptions","organizations_url":"https://api.github.com/users/Reo-LEI/orgs","repos_url":"https://api.github.com/users/Reo-LEI/repos","events_url":"https://api.github.com/users/Reo-LEI/events{/privacy}","received_events_url":"https://api.github.com/users/Reo-LEI/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T06:05:09Z","updated_at":"2021-11-08T06:05:09Z","author_association":"CONTRIBUTOR","body":"@rdblue @stevenzwu @kbendick @jackye1995 Thanks every one for review! As Ryan's [comment](https://github.com/apache/iceberg/pull/3120#discussion_r742123603), current implementation will violates Spark's threading model. And since I start work on #3323, I think we should improve the read performance by rewrite data files and delete files in time, maybe this PR is not necessary. I will do some test after I finish #3323 and see how much benefit this optimization can bring, and then consider whether we still need this optimization. Thanks every one's work again!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962838534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962843440","html_url":"https://github.com/apache/iceberg/issues/3496#issuecomment-962843440","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3496","id":962843440,"node_id":"IC_kwDOCW7NX845Y9Mw","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T06:14:35Z","updated_at":"2021-11-08T06:14:35Z","author_association":"MEMBER","body":"cc: @aokolnychyi , @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962843440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962856290","html_url":"https://github.com/apache/iceberg/issues/2360#issuecomment-962856290","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2360","id":962856290,"node_id":"IC_kwDOCW7NX845ZAVi","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T06:44:34Z","updated_at":"2021-11-08T06:48:49Z","author_association":"MEMBER","body":"Suppose we do not intend to access iceberg internal API in test classes of `iceberg-spark`, `iceberg-spark-extension` modules (correct me if I'm wrong), move all test classes to `iceberg-spark-runtime` module should solve this problem.\r\n\r\nThis approach also solves #2382","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962856290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962883471","html_url":"https://github.com/apache/iceberg/pull/3434#issuecomment-962883471","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3434","id":962883471,"node_id":"IC_kwDOCW7NX845ZG-P","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T07:35:21Z","updated_at":"2021-11-08T07:35:21Z","author_association":"MEMBER","body":"Since we've got this #3476 merged, let's update this PR. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962883471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962950112","html_url":"https://github.com/apache/iceberg/issues/3494#issuecomment-962950112","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3494","id":962950112,"node_id":"IC_kwDOCW7NX845ZXPg","user":{"login":"felixYyu","id":3785228,"node_id":"MDQ6VXNlcjM3ODUyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3785228?v=4","gravatar_id":"","url":"https://api.github.com/users/felixYyu","html_url":"https://github.com/felixYyu","followers_url":"https://api.github.com/users/felixYyu/followers","following_url":"https://api.github.com/users/felixYyu/following{/other_user}","gists_url":"https://api.github.com/users/felixYyu/gists{/gist_id}","starred_url":"https://api.github.com/users/felixYyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixYyu/subscriptions","organizations_url":"https://api.github.com/users/felixYyu/orgs","repos_url":"https://api.github.com/users/felixYyu/repos","events_url":"https://api.github.com/users/felixYyu/events{/privacy}","received_events_url":"https://api.github.com/users/felixYyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T09:11:20Z","updated_at":"2021-11-08T09:13:28Z","author_association":"CONTRIBUTOR","body":"cc @rdblue @aokolnychyi @RussellSpitzer  can you help? thanks\r\nbase on iceberg-spark3-runtime version 0.12.0","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962950112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962964814","html_url":"https://github.com/apache/iceberg/pull/3269#issuecomment-962964814","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3269","id":962964814,"node_id":"IC_kwDOCW7NX845Za1O","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T09:28:20Z","updated_at":"2021-11-08T09:28:20Z","author_association":"CONTRIBUTOR","body":"> I like the idea to support SYSTEM_TIME and SYSTEM_VERSION for compatibility. That sounds reasonable to me. Do the keywords have underscores in them? If so, is that needed for some reason?\r\n\r\nAFAIK the SQL 11 standard defines them this way: https://sigmodrecord.org/?smd_process_download=1&download_id=3338\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962964814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962986129","html_url":"https://github.com/apache/iceberg/pull/3392#issuecomment-962986129","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3392","id":962986129,"node_id":"IC_kwDOCW7NX845ZgCR","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T09:57:13Z","updated_at":"2021-11-08T09:57:13Z","author_association":"CONTRIBUTOR","body":"Pushed the fix for Hive master.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962986129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962987296","html_url":"https://github.com/apache/iceberg/issues/3496#issuecomment-962987296","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3496","id":962987296,"node_id":"IC_kwDOCW7NX845ZgUg","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T09:58:48Z","updated_at":"2021-11-08T09:58:48Z","author_association":"MEMBER","body":"I know that we support `deleteWith` method in spark action to collect expired data file, manifest file and manifest list. \r\nBut user cannot delete it as it might be referenced by other live snapshots. \r\nSo as `RemoveSnapshots#cleanExpiredSnapshots` is already having the logic to find out files that are not referenced by any live snapshots. I think we should support enabling it from actions also.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/962987296/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963113146","html_url":"https://github.com/apache/iceberg/pull/3482#issuecomment-963113146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3482","id":963113146,"node_id":"IC_kwDOCW7NX845Z_C6","user":{"login":"KnightChess","id":20125927,"node_id":"MDQ6VXNlcjIwMTI1OTI3","avatar_url":"https://avatars.githubusercontent.com/u/20125927?v=4","gravatar_id":"","url":"https://api.github.com/users/KnightChess","html_url":"https://github.com/KnightChess","followers_url":"https://api.github.com/users/KnightChess/followers","following_url":"https://api.github.com/users/KnightChess/following{/other_user}","gists_url":"https://api.github.com/users/KnightChess/gists{/gist_id}","starred_url":"https://api.github.com/users/KnightChess/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KnightChess/subscriptions","organizations_url":"https://api.github.com/users/KnightChess/orgs","repos_url":"https://api.github.com/users/KnightChess/repos","events_url":"https://api.github.com/users/KnightChess/events{/privacy}","received_events_url":"https://api.github.com/users/KnightChess/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T12:42:35Z","updated_at":"2021-11-08T12:42:35Z","author_association":"CONTRIBUTOR","body":"@rdblue \r\n1. I have update all table format\r\n2. use three-level title `all metadata` to split it\r\n3. other fix","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963113146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963156998","html_url":"https://github.com/apache/iceberg/issues/3496#issuecomment-963156998","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3496","id":963156998,"node_id":"IC_kwDOCW7NX845aJwG","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T13:35:55Z","updated_at":"2021-11-08T13:35:55Z","author_association":"MEMBER","body":"The default behavior of the Action is to remove the files which are no longer live. The difference between the table api and the action, is that the Action determines the set of files to be removed by using a distributed job while the table api does this calculation locally.\r\n\r\nThe main reason behind writing the action was that the default api does not scale well for extremely large tables. To preserve the functionality of the original api we added the flag which causes the original api to just remove snapshots and not delete files. The Action then takes the difference in state between before and after running the api, and uses that information to delete the files.\r\n\r\nThis is explained in the Java Doc for the Class\r\nhttps://github.com/apache/iceberg/blob/9b285d049c094ca6ee717e159249dee36d118894/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/BaseExpireSnapshotsSparkAction.java#L54-L67\r\n\r\nHere you can see the delete function is applied on the diff set result\r\n\r\nhttps://github.com/apache/iceberg/blob/9b285d049c094ca6ee717e159249dee36d118894/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/BaseExpireSnapshotsSparkAction.java#L214-L221\r\n\r\nThe default delete action removes the files see\r\n\r\nhttps://github.com/apache/iceberg/blob/9b285d049c094ca6ee717e159249dee36d118894/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/BaseExpireSnapshotsSparkAction.java#L82-L89\r\n\r\n---\r\n\r\nSo I do not believe any changes are needed here. If a user did want to use a separate delete facility I would actually suggest they use \r\n\r\nhttps://github.com/apache/iceberg/blob/9b285d049c094ca6ee717e159249dee36d118894/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/BaseExpireSnapshotsSparkAction.java#L154\r\n\r\nwhich was added explicitly for users who have some sort of distributed async delete solution","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963156998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963163923","html_url":"https://github.com/apache/iceberg/issues/3496#issuecomment-963163923","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3496","id":963163923,"node_id":"IC_kwDOCW7NX845aLcT","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T13:45:11Z","updated_at":"2021-11-08T13:45:11Z","author_association":"MEMBER","body":"> Here you can see the delete function is applied on the diff set result\r\n\r\n@RussellSpitzer : Yeah, that's my concern. we cannot just delete the files formed by diff set right? **Because those files can still be referred by new snapshots which are not expired.** I saw the logic to handle this problem in `RemoveSnapshots#cleanExpiredSnapshots` \r\n\r\nBut I didn't see that logic in Actions flow. So, how it is handled in actions flow ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963163923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963166556","html_url":"https://github.com/apache/iceberg/issues/3496#issuecomment-963166556","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3496","id":963166556,"node_id":"IC_kwDOCW7NX845aMFc","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T13:48:32Z","updated_at":"2021-11-08T13:48:32Z","author_association":"MEMBER","body":"It is handled by using the \"ALL\" versions of the respective metadata tables which check not just the set of live files, but also all files which are currently reachable by any known snapshot.\r\n\r\nSee\r\n\r\nhttps://github.com/apache/iceberg/blob/9b285d049c094ca6ee717e159249dee36d118894/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/BaseSparkAction.java#L119\r\n\r\nhttps://github.com/apache/iceberg/blob/9b285d049c094ca6ee717e159249dee36d118894/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/BaseSparkAction.java#L119\r\n\r\nhttps://github.com/apache/iceberg/blob/9b285d049c094ca6ee717e159249dee36d118894/spark/v3.2/spark/src/main/java/org/apache/iceberg/spark/actions/BaseSparkAction.java#L139-L140\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963166556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963168188","html_url":"https://github.com/apache/iceberg/issues/3496#issuecomment-963168188","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3496","id":963168188,"node_id":"IC_kwDOCW7NX845aMe8","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T13:50:38Z","updated_at":"2021-11-08T13:50:38Z","author_association":"MEMBER","body":"got it. Thanks for the clarifications. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963168188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963171155","html_url":"https://github.com/apache/iceberg/issues/3494#issuecomment-963171155","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3494","id":963171155,"node_id":"IC_kwDOCW7NX845aNNT","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T13:54:14Z","updated_at":"2021-11-08T13:54:14Z","author_association":"MEMBER","body":"Underlying hidden partitioning is always done based on UTC, we had a few discussion on extending this in the past, but it was decided not to do so.\r\n\r\nhttps://github.com/apache/iceberg/pull/1368\r\nhttps://github.com/apache/iceberg/pull/1355\r\nhttps://github.com/apache/iceberg/issues/2947","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963171155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963300323","html_url":"https://github.com/apache/iceberg/pull/3497#issuecomment-963300323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3497","id":963300323,"node_id":"IC_kwDOCW7NX845asvj","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T15:59:44Z","updated_at":"2021-11-08T15:59:44Z","author_association":"CONTRIBUTOR","body":"Thanks, @marton-bod!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963300323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963303005","html_url":"https://github.com/apache/iceberg/pull/3487#issuecomment-963303005","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3487","id":963303005,"node_id":"IC_kwDOCW7NX845atZd","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T16:01:39Z","updated_at":"2021-11-08T16:01:39Z","author_association":"CONTRIBUTOR","body":"I agree with @pan3793. The .gitignore change shouldn't be necessary. I'm also not sure that we need to be adding customization for a particular IDE to the project. It would be great to hear what other people think about this. FYI @jackye1995, @RussellSpitzer, @kbendick, @openinx.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963303005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963303880","html_url":"https://github.com/apache/iceberg/pull/3495#issuecomment-963303880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3495","id":963303880,"node_id":"IC_kwDOCW7NX845atnI","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T16:02:33Z","updated_at":"2021-11-08T16:02:33Z","author_association":"CONTRIBUTOR","body":"As I noted on #3487, I'm not sure that we want to add settings for a specific IDE to the project. Would we also add settings for eclipse or netbeans?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963303880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963327233","html_url":"https://github.com/apache/iceberg/issues/3494#issuecomment-963327233","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3494","id":963327233,"node_id":"IC_kwDOCW7NX845azUB","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T16:26:19Z","updated_at":"2021-11-08T16:26:19Z","author_association":"CONTRIBUTOR","body":"Yes, Russell is correct. The time zone used for partitioning is internal and isn't a good idea to change. You should be able to set the SQL session time zone in Spark and use that just fine, but Iceberg will always partition values in UTC because the partition boundaries shouldn't matter to applications since they are hidden. If you need to ensure that there are partition boundaries in certain places, you can use hourly partitioning.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963327233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963341693","html_url":"https://github.com/apache/iceberg/issues/3499#issuecomment-963341693","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3499","id":963341693,"node_id":"IC_kwDOCW7NX845a219","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-08T16:32:54Z","updated_at":"2021-11-08T16:32:54Z","author_association":"CONTRIBUTOR","body":"We can probably just offer a new test class with 1 catalog and migrate some tests to use it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/963341693/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null}]