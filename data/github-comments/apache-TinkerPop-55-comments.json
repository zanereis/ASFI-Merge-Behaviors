[{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/683951472","html_url":"https://github.com/apache/tinkerpop/pull/1307#issuecomment-683951472","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1307","id":683951472,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Mzk1MTQ3Mg==","user":{"login":"rdtr","id":1691122,"node_id":"MDQ6VXNlcjE2OTExMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1691122?v=4","gravatar_id":"","url":"https://api.github.com/users/rdtr","html_url":"https://github.com/rdtr","followers_url":"https://api.github.com/users/rdtr/followers","following_url":"https://api.github.com/users/rdtr/following{/other_user}","gists_url":"https://api.github.com/users/rdtr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdtr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdtr/subscriptions","organizations_url":"https://api.github.com/users/rdtr/orgs","repos_url":"https://api.github.com/users/rdtr/repos","events_url":"https://api.github.com/users/rdtr/events{/privacy}","received_events_url":"https://api.github.com/users/rdtr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T18:28:51Z","updated_at":"2020-08-31T18:28:51Z","author_association":"CONTRIBUTOR","body":"Thanks, yes on our end we extend the default `Graph`, `Traversal` and `TraversalSource` class for our own usage so having `Traversal` sets a provider's own `TraverserSet` implementation would work for us üëç","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/683951472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684011732","html_url":"https://github.com/apache/tinkerpop/pull/1318#issuecomment-684011732","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1318","id":684011732,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDAxMTczMg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T20:11:34Z","updated_at":"2020-08-31T20:11:34Z","author_association":"CONTRIBUTOR","body":"Getting a failing test:\r\n\r\n```\r\n[ERROR] Failures: \r\n[ERROR]   GremlinServerSessionIntegrateTest.shouldBlockAdditionalRequestsDuringClose:209 \r\nExpected: a collection containing \"INFO - Rolling back open transactions on graph before killing session: shouldBlockAdditionalRequestsDuringClose\\n\"\r\n     but: was \"WARN - Timeout while trying to close connection on shouldBlockAdditionalRequestsDuringClose - force closing - server will close session on shutdown or expiration.\\n\"\r\n[INFO] \r\n[ERROR] Tests run: 270, Failures: 1, Errors: 0, Skipped: 1\r\n```\r\n\r\nI think you just need to rebase since you fixed this on 3.4-dev right?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684011732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684120489","html_url":"https://github.com/apache/tinkerpop/pull/1318#issuecomment-684120489","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1318","id":684120489,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDEyMDQ4OQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T00:33:05Z","updated_at":"2020-09-01T00:33:05Z","author_association":"CONTRIBUTOR","body":"I see you brought in the fix from 3.4-dev and the test failure is cleaned up. I'm good with this change - builds with:\r\n\r\n`mvn clean install -pl gremlin-server,gremlin-console -DskipIntegrationTests=false -DincludeNeo4j`\r\n\r\nVOTE +1 (i assume you won't bring in that merge commit at d632f2a to the release branches and will squash the \"changelog\" commit)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684120489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684638997","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-684638997","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":684638997,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDYzODk5Nw==","user":{"login":"QwentB","id":18392554,"node_id":"MDQ6VXNlcjE4MzkyNTU0","avatar_url":"https://avatars.githubusercontent.com/u/18392554?v=4","gravatar_id":"","url":"https://api.github.com/users/QwentB","html_url":"https://github.com/QwentB","followers_url":"https://api.github.com/users/QwentB/followers","following_url":"https://api.github.com/users/QwentB/following{/other_user}","gists_url":"https://api.github.com/users/QwentB/gists{/gist_id}","starred_url":"https://api.github.com/users/QwentB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QwentB/subscriptions","organizations_url":"https://api.github.com/users/QwentB/orgs","repos_url":"https://api.github.com/users/QwentB/repos","events_url":"https://api.github.com/users/QwentB/events{/privacy}","received_events_url":"https://api.github.com/users/QwentB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T09:17:17Z","updated_at":"2020-09-01T09:17:17Z","author_association":"NONE","body":"If considerfing a JWT authentication and an ABAC authorization implementation, the token will obviously contains the userId/subject but also most probably user attributes/claims that will be needed for the authorization process.\r\nWouldn't it make sense to use the AuthenticatedUser as the container for these attributes in a Map for example?\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684638997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684794092","html_url":"https://github.com/apache/tinkerpop/pull/1321#issuecomment-684794092","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1321","id":684794092,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDc5NDA5Mg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T11:48:38Z","updated_at":"2020-09-01T11:48:38Z","author_association":"CONTRIBUTOR","body":"I addressed all of the @FlorianHockmann suggestions - good catch with using \"https\" for links. I'd done that consistently elsewhere in our docs long ago but must have missed these somehow. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684794092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684879607","html_url":"https://github.com/apache/tinkerpop/pull/1318#issuecomment-684879607","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1318","id":684879607,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDg3OTYwNw==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T14:05:34Z","updated_at":"2020-09-01T14:05:43Z","author_association":"CONTRIBUTOR","body":"Just a thought - before you go to merge this, you might want to test it on `master` to be sure all the tests are still ok.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/684879607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/685186035","html_url":"https://github.com/apache/tinkerpop/pull/1290#issuecomment-685186035","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1290","id":685186035,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTE4NjAzNQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T23:27:33Z","updated_at":"2020-09-01T23:27:33Z","author_association":"CONTRIBUTOR","body":"Docker problems seem resolved now for some reason. I wonder if I ran afoul of an out-of-date docker image. Travis failures around spark still seem spread about. Restarted some travis builds that failed.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/685186035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/686279849","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-686279849","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":686279849,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjI3OTg0OQ==","user":{"login":"vtslab","id":6702316,"node_id":"MDQ6VXNlcjY3MDIzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6702316?v=4","gravatar_id":"","url":"https://api.github.com/users/vtslab","html_url":"https://github.com/vtslab","followers_url":"https://api.github.com/users/vtslab/followers","following_url":"https://api.github.com/users/vtslab/following{/other_user}","gists_url":"https://api.github.com/users/vtslab/gists{/gist_id}","starred_url":"https://api.github.com/users/vtslab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtslab/subscriptions","organizations_url":"https://api.github.com/users/vtslab/orgs","repos_url":"https://api.github.com/users/vtslab/repos","events_url":"https://api.github.com/users/vtslab/events{/privacy}","received_events_url":"https://api.github.com/users/vtslab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T06:18:17Z","updated_at":"2020-09-03T06:18:17Z","author_association":"CONTRIBUTOR","body":"@QwentB Thanks for joining in. I am not familiar with JWT tokens, but I understand that a client receives the token after authentication. However, in the context of a secure websockets connection, once a client is authenticated there is no need to exchange tokens for authorizing traversal requests. Do I miss something? Do you only refer to gremlin-server acting as an HTTP endpoint (still present for serving languages without GLV support)? \r\nDo you mean AuthenticatedUser or AuthorizedUser as the container for authorization attributes?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/686279849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/686356336","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-686356336","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":686356336,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjM1NjMzNg==","user":{"login":"QwentB","id":18392554,"node_id":"MDQ6VXNlcjE4MzkyNTU0","avatar_url":"https://avatars.githubusercontent.com/u/18392554?v=4","gravatar_id":"","url":"https://api.github.com/users/QwentB","html_url":"https://github.com/QwentB","followers_url":"https://api.github.com/users/QwentB/followers","following_url":"https://api.github.com/users/QwentB/following{/other_user}","gists_url":"https://api.github.com/users/QwentB/gists{/gist_id}","starred_url":"https://api.github.com/users/QwentB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QwentB/subscriptions","organizations_url":"https://api.github.com/users/QwentB/orgs","repos_url":"https://api.github.com/users/QwentB/repos","events_url":"https://api.github.com/users/QwentB/events{/privacy}","received_events_url":"https://api.github.com/users/QwentB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T09:02:53Z","updated_at":"2020-09-03T09:02:53Z","author_association":"NONE","body":"@vtslab Thanks for your answer.\r\nYes the client receive a token after authenticating on an identity provider service, which might be part of the same infrastructure (i.e. a corporate service) or external (Google, Facebook ...). However, when the token is received by the consuming service (Janus or Gremlin here), it should be validated (signature, issuer, date time of issue, end of validity...) before being accepted as valid credentials. Considering the actual authentication scheme in Gremlin, this is a typical SASL use case and the token validation process is the \"real\" local authentication handled by the Authenticator.\r\n\r\nIt means that the Authenticator will have to \"open\" the token to extract the subject (aka the user id) but might as well extract all other claims (aka user attributes/properties) available in the token. My point is that if these attributes were to be used in the authorization process, the Authorizer must be provided with either the attributes (extracted by the Authenticator), or the token (and then reopen it and extract all attributes). IMO it make sense to deal with the token only once, for obvious performance reasons, but also for an ABAC Authorizer to be independent of the Authentication mechanism. With this in mind, the AuthenticatedUser seems to be the right container to convey these data.\r\n\r\nThe JWT authentication shall be used for both HTTP requests and WebSockets. For WebSockets, the authentication happens during the initial connection and before the request upgrade, so if the AuthenticatedUser with the attributes is available in the ChannelContext, it can used by the authorization process each time a RequestMessage is received.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/686356336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/687078050","html_url":"https://github.com/apache/tinkerpop/pull/1323#issuecomment-687078050","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1323","id":687078050,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NzA3ODA1MA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T11:04:32Z","updated_at":"2020-09-04T11:04:32Z","author_association":"CONTRIBUTOR","body":"nice one - i assume the merge commit won't go to the release branches - VOTE +1 ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/687078050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/687849953","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-687849953","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":687849953,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Nzg0OTk1Mw==","user":{"login":"vtslab","id":6702316,"node_id":"MDQ6VXNlcjY3MDIzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6702316?v=4","gravatar_id":"","url":"https://api.github.com/users/vtslab","html_url":"https://github.com/vtslab","followers_url":"https://api.github.com/users/vtslab/followers","following_url":"https://api.github.com/users/vtslab/following{/other_user}","gists_url":"https://api.github.com/users/vtslab/gists{/gist_id}","starred_url":"https://api.github.com/users/vtslab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtslab/subscriptions","organizations_url":"https://api.github.com/users/vtslab/orgs","repos_url":"https://api.github.com/users/vtslab/repos","events_url":"https://api.github.com/users/vtslab/events{/privacy}","received_events_url":"https://api.github.com/users/vtslab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-06T17:32:29Z","updated_at":"2020-09-07T05:48:55Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation @QwentB, this makes sense. Apart from making unit tests, your request is really simple: allow the Authenticator implementation to pass on some user defined properties (typically a Map) inside the returned AuthenticatedUser. The current Authorizer proposal already receives the AuthenticatedUser and can read the user defined properties if it has knowledge about their meaning. TinkerPop itself has no knowledge about the user defined properties: it just allows for solutions that implement both the Authenticator and Authorizer interfaces and leverage the channelizer to store and pass on the user defined properties. \r\n[Edit 7 sep] Note that the Authenticator/Authorizer implementation could cache the user-defined properties itself, but it would not know when the websockets connection closed and the properties could be released from the cache.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/687849953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/688149654","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-688149654","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":688149654,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODE0OTY1NA==","user":{"login":"QwentB","id":18392554,"node_id":"MDQ6VXNlcjE4MzkyNTU0","avatar_url":"https://avatars.githubusercontent.com/u/18392554?v=4","gravatar_id":"","url":"https://api.github.com/users/QwentB","html_url":"https://github.com/QwentB","followers_url":"https://api.github.com/users/QwentB/followers","following_url":"https://api.github.com/users/QwentB/following{/other_user}","gists_url":"https://api.github.com/users/QwentB/gists{/gist_id}","starred_url":"https://api.github.com/users/QwentB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QwentB/subscriptions","organizations_url":"https://api.github.com/users/QwentB/orgs","repos_url":"https://api.github.com/users/QwentB/repos","events_url":"https://api.github.com/users/QwentB/events{/privacy}","received_events_url":"https://api.github.com/users/QwentB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-07T08:16:18Z","updated_at":"2020-09-07T08:16:18Z","author_association":"NONE","body":"@vtslab functionnaly this is what I had in mind.\r\nI'm not sure to understand your point about the WS connection closing. If the WebSocket connection is closed not further calls would be made on the Authenticator/Authorizer so their state and the presence of the properties does not really matter. \r\nThis being said, we should make sure they will all be cleanly garbage collected and it might requires some 'dispose' action. I'm not very familiar with Netty but there should be a way to be notified when the Channel is being closed.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/688149654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/688785640","html_url":"https://github.com/apache/tinkerpop/pull/1325#issuecomment-688785640","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1325","id":688785640,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODc4NTY0MA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T10:45:49Z","updated_at":"2020-09-08T10:45:49Z","author_association":"CONTRIBUTOR","body":"There are a number of places in TinkerPop code that handle `MultiIterator` instances. I guess we don't need to explicitly `close()` those as I don't think they hold expensive resources open (that I am aware of). Any thoughts on that?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/688785640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/688805164","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-688805164","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":688805164,"node_id":"MDEyOklzc3VlQ29tbWVudDY4ODgwNTE2NA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T11:25:13Z","updated_at":"2020-09-08T11:25:13Z","author_association":"CONTRIBUTOR","body":"As an aside from some of the technical discussion here - thanks for participating @QwentB - I thought that there was some relevance in this thread on Gremlin Users:\r\n\r\nhttps://groups.google.com/g/gremlin-users/c/Ff0sHJk7JiE/m/tsJFsNurAgAJ\r\n\r\nA common use case that seems related to authorization is to apply some `TraversalStrategy` to a `TraversalSource` based on the user. As you can see from that thread, it's often \"hard\" to do that.  @vtslab any thoughts on the matter? ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/688805164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/689428667","html_url":"https://github.com/apache/tinkerpop/pull/1325#issuecomment-689428667","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1325","id":689428667,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTQyODY2Nw==","user":{"login":"rdtr","id":1691122,"node_id":"MDQ6VXNlcjE2OTExMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1691122?v=4","gravatar_id":"","url":"https://api.github.com/users/rdtr","html_url":"https://github.com/rdtr","followers_url":"https://api.github.com/users/rdtr/followers","following_url":"https://api.github.com/users/rdtr/following{/other_user}","gists_url":"https://api.github.com/users/rdtr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdtr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdtr/subscriptions","organizations_url":"https://api.github.com/users/rdtr/orgs","repos_url":"https://api.github.com/users/rdtr/repos","events_url":"https://api.github.com/users/rdtr/events{/privacy}","received_events_url":"https://api.github.com/users/rdtr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T08:58:37Z","updated_at":"2020-09-09T08:58:37Z","author_association":"CONTRIBUTOR","body":"I agree that we don't need to explicitly call `close` in TinkerPop's code.\r\n\r\nThe change is mainly for providers. When overriding TinkerPop's API to retrieve elements from their own internal Storage layer, if the returned iterator holds any reference which must be released in the end, it is the provider's responsibility to call `close` in their own method. \r\n\r\nTinkerPop's base class and TinkerGraph doesn't have the resource issue so we don't need to call `close` there.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/689428667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/689472760","html_url":"https://github.com/apache/tinkerpop/pull/1325#issuecomment-689472760","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1325","id":689472760,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTQ3Mjc2MA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T10:26:15Z","updated_at":"2020-09-09T10:26:15Z","author_association":"CONTRIBUTOR","body":"VOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/689472760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/690262834","html_url":"https://github.com/apache/tinkerpop/pull/1326#issuecomment-690262834","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1326","id":690262834,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDI2MjgzNA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T12:49:43Z","updated_at":"2020-09-10T12:49:43Z","author_association":"CONTRIBUTOR","body":"Thanks - cherry-picked to 3.4-dev and merged to master: 947c97a420e956944e97322149fc2150ef1981f0","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/690262834/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/690812660","html_url":"https://github.com/apache/tinkerpop/pull/1327#issuecomment-690812660","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1327","id":690812660,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDgxMjY2MA==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T01:08:36Z","updated_at":"2020-09-11T01:08:36Z","author_association":"MEMBER","body":"VOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/690812660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/692061859","html_url":"https://github.com/apache/tinkerpop/pull/1328#issuecomment-692061859","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1328","id":692061859,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjA2MTg1OQ==","user":{"login":"krlawrence","id":27897072,"node_id":"MDQ6VXNlcjI3ODk3MDcy","avatar_url":"https://avatars.githubusercontent.com/u/27897072?v=4","gravatar_id":"","url":"https://api.github.com/users/krlawrence","html_url":"https://github.com/krlawrence","followers_url":"https://api.github.com/users/krlawrence/followers","following_url":"https://api.github.com/users/krlawrence/following{/other_user}","gists_url":"https://api.github.com/users/krlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/krlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krlawrence/subscriptions","organizations_url":"https://api.github.com/users/krlawrence/orgs","repos_url":"https://api.github.com/users/krlawrence/repos","events_url":"https://api.github.com/users/krlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/krlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T13:43:39Z","updated_at":"2020-09-14T13:43:39Z","author_association":"CONTRIBUTOR","body":"This is something I also get asked about a lot by Javascript Gremlin users. \r\n\r\nI looked over the changes and LGTM\r\n\r\nVOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/692061859/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/694891630","html_url":"https://github.com/apache/tinkerpop/pull/1330#issuecomment-694891630","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1330","id":694891630,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDg5MTYzMA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T14:10:39Z","updated_at":"2020-09-18T14:10:39Z","author_association":"CONTRIBUTOR","body":"thanks - I suppose we can go to netty 4.1.52 but could you please further explain the need for the surefire upgrade?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/694891630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/694944302","html_url":"https://github.com/apache/tinkerpop/pull/1330#issuecomment-694944302","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1330","id":694944302,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDk0NDMwMg==","user":{"login":"odidev","id":40816837,"node_id":"MDQ6VXNlcjQwODE2ODM3","avatar_url":"https://avatars.githubusercontent.com/u/40816837?v=4","gravatar_id":"","url":"https://api.github.com/users/odidev","html_url":"https://github.com/odidev","followers_url":"https://api.github.com/users/odidev/followers","following_url":"https://api.github.com/users/odidev/following{/other_user}","gists_url":"https://api.github.com/users/odidev/gists{/gist_id}","starred_url":"https://api.github.com/users/odidev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/odidev/subscriptions","organizations_url":"https://api.github.com/users/odidev/orgs","repos_url":"https://api.github.com/users/odidev/repos","events_url":"https://api.github.com/users/odidev/events{/privacy}","received_events_url":"https://api.github.com/users/odidev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T15:47:28Z","updated_at":"2020-09-18T15:47:28Z","author_association":"CONTRIBUTOR","body":"@spmallette ,\r\nYes, I agree with you and verified that in this package, surefire update is not required.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/694944302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/695120686","html_url":"https://github.com/apache/tinkerpop/pull/1328#issuecomment-695120686","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1328","id":695120686,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTEyMDY4Ng==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T23:00:01Z","updated_at":"2020-09-18T23:00:01Z","author_association":"CONTRIBUTOR","body":"Seeing a problem with the work I did here while doing TINKERPOP-2421 - I will fix it on that PR. The `TraversalStrategy` tests weren't doing what i thought they were. Sorry!","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/695120686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/695131208","html_url":"https://github.com/apache/tinkerpop/pull/1329#issuecomment-695131208","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1329","id":695131208,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTEzMTIwOA==","user":{"login":"rdtr","id":1691122,"node_id":"MDQ6VXNlcjE2OTExMjI=","avatar_url":"https://avatars.githubusercontent.com/u/1691122?v=4","gravatar_id":"","url":"https://api.github.com/users/rdtr","html_url":"https://github.com/rdtr","followers_url":"https://api.github.com/users/rdtr/followers","following_url":"https://api.github.com/users/rdtr/following{/other_user}","gists_url":"https://api.github.com/users/rdtr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdtr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdtr/subscriptions","organizations_url":"https://api.github.com/users/rdtr/orgs","repos_url":"https://api.github.com/users/rdtr/repos","events_url":"https://api.github.com/users/rdtr/events{/privacy}","received_events_url":"https://api.github.com/users/rdtr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T23:51:40Z","updated_at":"2020-09-18T23:51:40Z","author_association":"CONTRIBUTOR","body":"+1, great step towards driver compatibility across languages","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/695131208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/696037519","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-696037519","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":696037519,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjAzNzUxOQ==","user":{"login":"QwentB","id":18392554,"node_id":"MDQ6VXNlcjE4MzkyNTU0","avatar_url":"https://avatars.githubusercontent.com/u/18392554?v=4","gravatar_id":"","url":"https://api.github.com/users/QwentB","html_url":"https://github.com/QwentB","followers_url":"https://api.github.com/users/QwentB/followers","following_url":"https://api.github.com/users/QwentB/following{/other_user}","gists_url":"https://api.github.com/users/QwentB/gists{/gist_id}","starred_url":"https://api.github.com/users/QwentB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QwentB/subscriptions","organizations_url":"https://api.github.com/users/QwentB/orgs","repos_url":"https://api.github.com/users/QwentB/repos","events_url":"https://api.github.com/users/QwentB/events{/privacy}","received_events_url":"https://api.github.com/users/QwentB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T10:45:24Z","updated_at":"2020-09-21T10:45:24Z","author_association":"NONE","body":"Thanks @spmallette for linking to two threads as they're obviously related.\r\n\r\nI'm not sure if it would cover all possible use cases, but the Authorizer could return the RequestMessage instead of the AuthorizedUser. It would allow an implementation to do some pre-checks (script vs bytecode, VertexProgram, Lambda, use of specific strategies or steps...), but also update the RequestMessage by adding/modifying steps, add/remove Strategies or even change the \"resource\" that will be effectivelly bound to the request.\r\n\r\nAs pointed by @vtslab, the user's authorizations must be available in the context for WebSocket requests, so they can be applied without requiring authentication. If the Authorizer return a RequestMessage, an AuthorizedUserProvider component is probably needed to build the actual AuthorizedUser and add it to the channel context. \r\n\r\nThe pipeline would then look like:\r\n\r\n1. `Authenticator` returns the `AuthenticatedUser`\r\n2. `AuthorizedUserProvider` takes the `AuthenticatedUser` as parameter and return the `AuthorizedUser` which will be added to `ChannelContext`\r\n3. `Authorizer` takes the `AuthorizedUser` and the `RequestMessage` as parameters and return a potentialy updated `RequestMessage`\r\n\r\nThis require the AuthorizedUser to contains the authorizations for the user. To stay agnostic of any implementation, the AuthorizedUser could be specified as a parametrized class defining the authorizations' type. It might also be relevant that the AuthorizedUser contains some global metadata about the authorizations (i.e. date time of issue to force a renewal). \r\nIn the end the AuthorizedUser could look like:\r\n```\r\n**\r\n * @param <A> the type of Authorizations\r\n */\r\npublic class AuthorizedUser<A> {\r\n\r\n    private final String name;\r\n    private final Map<String, Object> metadata;\r\n    private final Map<String, A> authorizations;\r\n\r\n    /**\r\n     * Construct an AuthorizedUser instance\r\n     *\r\n     * @param name           the name of the AuthenticatedUser\r\n     * @param metadata       a key/value store for information about the given authorizations\r\n     * @param authorizations the authorizations given to the user for each resource\r\n     */\r\n    public AuthorizedUser(String name, Map<String, Object> metadata, Map<String, A> authorizations) {\r\n        this.name = name;\r\n        this.metadata = metadata;\r\n        this.authorizations = authorizations;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map<String, Object> getMetadata() {\r\n        return metadata;\r\n    }\r\n\r\n    public Map<String, A> getAuthorizations() {\r\n        return authorizations;\r\n    }\r\n}\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/696037519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/696299135","html_url":"https://github.com/apache/tinkerpop/pull/1330#issuecomment-696299135","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1330","id":696299135,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjI5OTEzNQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T18:44:02Z","updated_at":"2020-09-21T18:44:02Z","author_association":"CONTRIBUTOR","body":"cherry picked to 3.4-dev as e80d3bad90d0abfd082153be85e09f98f0cb64a9","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/696299135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/699999726","html_url":"https://github.com/apache/tinkerpop/pull/1333#issuecomment-699999726","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1333","id":699999726,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTk5OTcyNg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-28T13:16:07Z","updated_at":"2020-09-28T13:16:07Z","author_association":"CONTRIBUTOR","body":"VOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/699999726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/700007900","html_url":"https://github.com/apache/tinkerpop/pull/1334#issuecomment-700007900","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1334","id":700007900,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDAwNzkwMA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-28T13:30:27Z","updated_at":"2020-09-28T13:30:27Z","author_association":"CONTRIBUTOR","body":"Glad you were able to improve this code. The `ctx.fireChannelRead(frame.retain(2));` always bugged me. I'd recommend that you merge to `master` and run tests before merging this as I think you will find some conflict there\r\n\r\nVOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/700007900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/700059045","html_url":"https://github.com/apache/tinkerpop/pull/1335#issuecomment-700059045","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1335","id":700059045,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMDA1OTA0NQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-28T14:53:57Z","updated_at":"2020-09-28T14:53:57Z","author_association":"CONTRIBUTOR","body":"I didn't look at this in detail yet because gremlin-server integration tests are failing in Travis. I've already restarted them once and they failed a second time. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/700059045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/702304343","html_url":"https://github.com/apache/tinkerpop/pull/1335#issuecomment-702304343","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1335","id":702304343,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjMwNDM0Mw==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T18:02:51Z","updated_at":"2020-10-01T18:02:51Z","author_association":"MEMBER","body":"> I didn't look at this in detail yet because gremlin-server integration tests are failing in Travis. I've already restarted them once and they failed a second time.\r\n\r\nI have removed the test since it is not valid anymore. The test used to check if server responded with a pong but now that logic is handled by Netty. If you feel strongly that we should keep that test then we can add some logic to make the test work again but instead I was planning to solve it separately by getting rid of our custom keep alive logic with Netty's IdleHandler.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/702304343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/702665737","html_url":"https://github.com/apache/tinkerpop/pull/1335#issuecomment-702665737","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1335","id":702665737,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjY2NTczNw==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T10:55:22Z","updated_at":"2020-10-02T10:55:22Z","author_association":"CONTRIBUTOR","body":"This is a good change - nice that you pushed functionality down to netty so that we don't have to test/manage it üèÜ  \r\n\r\nPlease include CHANGELOG entry and the new `wsHandshakeTimeoutMillis` configuration option should be documented here:\r\n\r\nhttps://tinkerpop.apache.org/docs/current/reference/#_configuration\r\n\r\nAssuming those little changes, VOTE +1\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/702665737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/702676775","html_url":"https://github.com/apache/tinkerpop/pull/1336#issuecomment-702676775","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1336","id":702676775,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjY3Njc3NQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T11:20:01Z","updated_at":"2020-10-02T11:20:01Z","author_association":"CONTRIBUTOR","body":"Thanks for this documentation update - it's nice to get new recipes.\r\n\r\nYou might want to change the target branch to 3.4-dev so that this recipe gets published with the next release otherwise it will have to wait until 3.5.0 which probably won't be in the next release round. It's fine if you don't, I can bring it to 3.4-dev myself on merge.\r\n\r\nThe loop section is good - I would add a link from the `repeat()` and `loops()` steps in the `the-traversal.asciidoc` to the recipe. At the bottom of each is an \"Additional References\" section. Right now they all link to javadocs but I think it would help bring some notice to \"Recipes\" if we linked from there to relevant/related recipes. I would name the link as \"Recipes - Looping\" and add them after all the javadoc. \r\n\r\nOther than that, VOTE +1\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/702676775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/703388507","html_url":"https://github.com/apache/tinkerpop/pull/1336#issuecomment-703388507","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1336","id":703388507,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzM4ODUwNw==","user":{"login":"bechbd","id":6898505,"node_id":"MDQ6VXNlcjY4OTg1MDU=","avatar_url":"https://avatars.githubusercontent.com/u/6898505?v=4","gravatar_id":"","url":"https://api.github.com/users/bechbd","html_url":"https://github.com/bechbd","followers_url":"https://api.github.com/users/bechbd/followers","following_url":"https://api.github.com/users/bechbd/following{/other_user}","gists_url":"https://api.github.com/users/bechbd/gists{/gist_id}","starred_url":"https://api.github.com/users/bechbd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bechbd/subscriptions","organizations_url":"https://api.github.com/users/bechbd/orgs","repos_url":"https://api.github.com/users/bechbd/repos","events_url":"https://api.github.com/users/bechbd/events{/privacy}","received_events_url":"https://api.github.com/users/bechbd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T04:24:00Z","updated_at":"2020-10-05T04:24:00Z","author_association":"CONTRIBUTOR","body":"I've updated per your comments, Stephen.  I added the links into the traversal steps but I didn't change the base branch to 3.4-dev so if you can do that on merge it would be appreciated.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/703388507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704181736","html_url":"https://github.com/apache/tinkerpop/pull/1338#issuecomment-704181736","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1338","id":704181736,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDE4MTczNg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T10:35:26Z","updated_at":"2020-10-06T10:35:26Z","author_association":"CONTRIBUTOR","body":"Thanks you. For future reference there is no need to open a JIRA for small documentation fixes like this. If you plan a new section of the reference documentation, are considering extensive contextual changes to some aspect of the javadoc, etc. then a JIRA would probably be good. Otherwise, feel free to submit spelling fixes as a PR without one.\r\n\r\nI've cherry-picked this change to 3.4-dev and merged forward to master: 60f65e659855f54d2818697c389eb125c0a547d2","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704181736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704186418","html_url":"https://github.com/apache/tinkerpop/pull/1337#issuecomment-704186418","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1337","id":704186418,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDE4NjQxOA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T10:45:48Z","updated_at":"2020-10-06T10:45:48Z","author_association":"CONTRIBUTOR","body":"Thank you for providing this fix. \r\n\r\nCould you please re-target this pull request at the 3.4-dev branch (that way the fix will go to the next release at 3.4.9)? On another administrative note, we typically add a CHANGELOG entry that describes the change (which is separate from adding the JIRA, which happens on release). If you could do that, it would polish up this PR, but if not, no worries, I can add it on merge. \r\n\r\n@jorgebay any chance you have a few minutes to review this one?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704186418/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704198688","html_url":"https://github.com/apache/tinkerpop/pull/1337#issuecomment-704198688","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1337","id":704198688,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDE5ODY4OA==","user":{"login":"jorgebay","id":2931196,"node_id":"MDQ6VXNlcjI5MzExOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2931196?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgebay","html_url":"https://github.com/jorgebay","followers_url":"https://api.github.com/users/jorgebay/followers","following_url":"https://api.github.com/users/jorgebay/following{/other_user}","gists_url":"https://api.github.com/users/jorgebay/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgebay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgebay/subscriptions","organizations_url":"https://api.github.com/users/jorgebay/orgs","repos_url":"https://api.github.com/users/jorgebay/repos","events_url":"https://api.github.com/users/jorgebay/events{/privacy}","received_events_url":"https://api.github.com/users/jorgebay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T11:12:51Z","updated_at":"2020-10-06T11:12:51Z","author_association":"CONTRIBUTOR","body":"@spmallette Sure, thanks for the ping.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704198688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704442723","html_url":"https://github.com/apache/tinkerpop/pull/1337#issuecomment-704442723","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1337","id":704442723,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDQ0MjcyMw==","user":{"login":"sergsalo","id":242369,"node_id":"MDQ6VXNlcjI0MjM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/242369?v=4","gravatar_id":"","url":"https://api.github.com/users/sergsalo","html_url":"https://github.com/sergsalo","followers_url":"https://api.github.com/users/sergsalo/followers","following_url":"https://api.github.com/users/sergsalo/following{/other_user}","gists_url":"https://api.github.com/users/sergsalo/gists{/gist_id}","starred_url":"https://api.github.com/users/sergsalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergsalo/subscriptions","organizations_url":"https://api.github.com/users/sergsalo/orgs","repos_url":"https://api.github.com/users/sergsalo/repos","events_url":"https://api.github.com/users/sergsalo/events{/privacy}","received_events_url":"https://api.github.com/users/sergsalo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T17:49:33Z","updated_at":"2020-10-06T17:49:33Z","author_association":"CONTRIBUTOR","body":"I will check the toJSON and will do what you guys suggested. \r\n\r\nOn the other note - have you guys considered of using Typescript for gremlin-javascript?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704442723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704761854","html_url":"https://github.com/apache/tinkerpop/pull/1337#issuecomment-704761854","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1337","id":704761854,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDc2MTg1NA==","user":{"login":"jorgebay","id":2931196,"node_id":"MDQ6VXNlcjI5MzExOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2931196?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgebay","html_url":"https://github.com/jorgebay","followers_url":"https://api.github.com/users/jorgebay/followers","following_url":"https://api.github.com/users/jorgebay/following{/other_user}","gists_url":"https://api.github.com/users/jorgebay/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgebay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgebay/subscriptions","organizations_url":"https://api.github.com/users/jorgebay/orgs","repos_url":"https://api.github.com/users/jorgebay/repos","events_url":"https://api.github.com/users/jorgebay/events{/privacy}","received_events_url":"https://api.github.com/users/jorgebay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T07:52:12Z","updated_at":"2020-10-07T07:52:12Z","author_association":"CONTRIBUTOR","body":"> have you guys considered of using Typescript for gremlin-javascript?\r\n\r\nI think migrating the gremlin-js codebase to TypeScript would require an effort for little gain (language preferences vary by engineer).\r\n\r\nOn the other hand, about TypeScript from the user pov, there are definitions: https://www.npmjs.com/package/@types/gremlin\r\n\r\nand a ticket to support it within the library: https://issues.apache.org/jira/browse/TINKERPOP-2027","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/704761854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705222739","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705222739","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705222739,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTIyMjczOQ==","user":{"login":"sergsalo","id":242369,"node_id":"MDQ6VXNlcjI0MjM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/242369?v=4","gravatar_id":"","url":"https://api.github.com/users/sergsalo","html_url":"https://github.com/sergsalo","followers_url":"https://api.github.com/users/sergsalo/followers","following_url":"https://api.github.com/users/sergsalo/following{/other_user}","gists_url":"https://api.github.com/users/sergsalo/gists{/gist_id}","starred_url":"https://api.github.com/users/sergsalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergsalo/subscriptions","organizations_url":"https://api.github.com/users/sergsalo/orgs","repos_url":"https://api.github.com/users/sergsalo/repos","events_url":"https://api.github.com/users/sergsalo/events{/privacy}","received_events_url":"https://api.github.com/users/sergsalo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T22:17:22Z","updated_at":"2020-10-07T22:17:22Z","author_association":"CONTRIBUTOR","body":"@spmallette hi, where do I add a change log?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705222739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705454822","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705454822","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705454822,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTQ1NDgyMg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T09:39:06Z","updated_at":"2020-10-08T09:39:06Z","author_association":"CONTRIBUTOR","body":"here - https://github.com/apache/tinkerpop/blob/3.4-dev/CHANGELOG.asciidoc\r\n\r\njust add a bullet to 3.4.9 - thanks!\r\n\r\non a side, note i'm not sure why travis failed - i restarted the builds. i imagine it was some travis environmental timeout or something.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705454822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705496206","html_url":"https://github.com/apache/tinkerpop/pull/1336#issuecomment-705496206","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1336","id":705496206,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTQ5NjIwNg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T11:03:25Z","updated_at":"2020-10-08T11:03:25Z","author_association":"CONTRIBUTOR","body":"Cherry-picked to 3.4-dev as two commits: 43cd897f83509660d4f7064dcef14dd15ef6c9ca and c3a732bf302fdf7421745fd60087fa8d8970a34b","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705496206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705505605","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705505605","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705505605,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTUwNTYwNQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T11:23:57Z","updated_at":"2020-10-08T11:23:57Z","author_association":"CONTRIBUTOR","body":"Looking at the build failure - I sense it is because you need to update the templating system. You just need to add this change:\r\n\r\nhttps://github.com/apache/tinkerpop/pull/1341/files#diff-2289ce5bddc098e63bae601f203c71b9R126-R133\r\n\r\nhere:\r\n\r\nhttps://github.com/apache/tinkerpop/blob/c3a732bf302fdf7421745fd60087fa8d8970a34b/gremlin-javascript/glv/TraversalSource.template#L125\r\n\r\nThat change should solve the problem. Sorry - that's definitely not an obvious thing to do. The templating system goes away in 3.5.0.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705505605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705621275","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-705621275","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":705621275,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTYyMTI3NQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T14:47:18Z","updated_at":"2020-10-08T14:47:18Z","author_association":"CONTRIBUTOR","body":"We had it this way purposely. because you might want to configure the server with no graphs at all. I'd admit it an odd use case. I suppose we could think about changing it. Perhaps users would be better served to know that their graph configurations failed. If they wanted the corner use case to start with no graphs at all I suppose they could provide their own `GraphManager` to allow that (or perhaps we could provide that implementation ourselves as a utility). Let's see if anyone else comments on this change and I'll put some more thought to it. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705621275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705781611","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705781611","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705781611,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc4MTYxMQ==","user":{"login":"sergsalo","id":242369,"node_id":"MDQ6VXNlcjI0MjM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/242369?v=4","gravatar_id":"","url":"https://api.github.com/users/sergsalo","html_url":"https://github.com/sergsalo","followers_url":"https://api.github.com/users/sergsalo/followers","following_url":"https://api.github.com/users/sergsalo/following{/other_user}","gists_url":"https://api.github.com/users/sergsalo/gists{/gist_id}","starred_url":"https://api.github.com/users/sergsalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergsalo/subscriptions","organizations_url":"https://api.github.com/users/sergsalo/orgs","repos_url":"https://api.github.com/users/sergsalo/repos","events_url":"https://api.github.com/users/sergsalo/events{/privacy}","received_events_url":"https://api.github.com/users/sergsalo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:38:34Z","updated_at":"2020-10-08T19:38:34Z","author_association":"CONTRIBUTOR","body":"@spmallette committed the changes. build still failed","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705781611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705782863","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705782863","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705782863,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc4Mjg2Mw==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:41:00Z","updated_at":"2020-10-08T19:41:00Z","author_association":"CONTRIBUTOR","body":"travis is so unstable - the javascript build passed so i think you might have it working right. i've re-execute the one build that failed.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705782863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705798092","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705798092","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705798092,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5ODA5Mg==","user":{"login":"sergsalo","id":242369,"node_id":"MDQ6VXNlcjI0MjM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/242369?v=4","gravatar_id":"","url":"https://api.github.com/users/sergsalo","html_url":"https://github.com/sergsalo","followers_url":"https://api.github.com/users/sergsalo/followers","following_url":"https://api.github.com/users/sergsalo/following{/other_user}","gists_url":"https://api.github.com/users/sergsalo/gists{/gist_id}","starred_url":"https://api.github.com/users/sergsalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergsalo/subscriptions","organizations_url":"https://api.github.com/users/sergsalo/orgs","repos_url":"https://api.github.com/users/sergsalo/repos","events_url":"https://api.github.com/users/sergsalo/events{/privacy}","received_events_url":"https://api.github.com/users/sergsalo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:13:21Z","updated_at":"2020-10-08T20:13:21Z","author_association":"CONTRIBUTOR","body":"@spmallette looks good.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705798092/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705817275","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705817275","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705817275,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgxNzI3NQ==","user":{"login":"sergsalo","id":242369,"node_id":"MDQ6VXNlcjI0MjM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/242369?v=4","gravatar_id":"","url":"https://api.github.com/users/sergsalo","html_url":"https://github.com/sergsalo","followers_url":"https://api.github.com/users/sergsalo/followers","following_url":"https://api.github.com/users/sergsalo/following{/other_user}","gists_url":"https://api.github.com/users/sergsalo/gists{/gist_id}","starred_url":"https://api.github.com/users/sergsalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergsalo/subscriptions","organizations_url":"https://api.github.com/users/sergsalo/orgs","repos_url":"https://api.github.com/users/sergsalo/repos","events_url":"https://api.github.com/users/sergsalo/events{/privacy}","received_events_url":"https://api.github.com/users/sergsalo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:53:25Z","updated_at":"2020-10-08T20:53:25Z","author_association":"CONTRIBUTOR","body":"@spmallette so, will you need to approve this PR to move forward? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705817275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705823170","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705823170","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705823170,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgyMzE3MA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T21:05:36Z","updated_at":"2020-10-08T21:05:36Z","author_association":"CONTRIBUTOR","body":"Our review/merge procedures require either:\r\n\r\n1.  3 +1s from committers OR \r\n2. At least a single +1 from a committer and 7 day open wait period for comment\r\n\r\nhttps://tinkerpop.apache.org/docs/current/dev/developer/#rtc\r\n\r\ni will look at this in more detail tomorrow (and hopefully @jorgebay will have time to get a second look) but I sense you have things in pretty good order now.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705823170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705823907","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705823907","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705823907,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgyMzkwNw==","user":{"login":"sergsalo","id":242369,"node_id":"MDQ6VXNlcjI0MjM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/242369?v=4","gravatar_id":"","url":"https://api.github.com/users/sergsalo","html_url":"https://github.com/sergsalo","followers_url":"https://api.github.com/users/sergsalo/followers","following_url":"https://api.github.com/users/sergsalo/following{/other_user}","gists_url":"https://api.github.com/users/sergsalo/gists{/gist_id}","starred_url":"https://api.github.com/users/sergsalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergsalo/subscriptions","organizations_url":"https://api.github.com/users/sergsalo/orgs","repos_url":"https://api.github.com/users/sergsalo/repos","events_url":"https://api.github.com/users/sergsalo/events{/privacy}","received_events_url":"https://api.github.com/users/sergsalo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T21:07:17Z","updated_at":"2020-10-08T21:07:17Z","author_association":"CONTRIBUTOR","body":"@spmallette I have found one more bug TINKERPOP-2439. Should I just fix in the same PR? (I will add one more unit test and changelog)","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705823907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705825833","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-705825833","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":705825833,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgyNTgzMw==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T21:11:23Z","updated_at":"2020-10-08T21:11:23Z","author_association":"CONTRIBUTOR","body":"It is fine if you add to this one. Sure. Thanks for continuing to find/fix things.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/705825833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/706113215","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-706113215","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":706113215,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjExMzIxNQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T10:54:31Z","updated_at":"2020-10-09T10:54:31Z","author_association":"CONTRIBUTOR","body":"It looks like you got a mix of commits in your pull request now - do you mind cleaning up your commit history a bit so that it just has you commits in it?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/706113215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/706241293","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-706241293","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":706241293,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjI0MTI5Mw==","user":{"login":"sergsalo","id":242369,"node_id":"MDQ6VXNlcjI0MjM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/242369?v=4","gravatar_id":"","url":"https://api.github.com/users/sergsalo","html_url":"https://github.com/sergsalo","followers_url":"https://api.github.com/users/sergsalo/followers","following_url":"https://api.github.com/users/sergsalo/following{/other_user}","gists_url":"https://api.github.com/users/sergsalo/gists{/gist_id}","starred_url":"https://api.github.com/users/sergsalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergsalo/subscriptions","organizations_url":"https://api.github.com/users/sergsalo/orgs","repos_url":"https://api.github.com/users/sergsalo/repos","events_url":"https://api.github.com/users/sergsalo/events{/privacy}","received_events_url":"https://api.github.com/users/sergsalo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T15:16:04Z","updated_at":"2020-10-09T15:16:04Z","author_association":"CONTRIBUTOR","body":"@spmallette yes, will do.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/706241293/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/706320097","html_url":"https://github.com/apache/tinkerpop/pull/1339#issuecomment-706320097","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1339","id":706320097,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNjMyMDA5Nw==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-09T17:50:42Z","updated_at":"2020-10-09T17:50:42Z","author_association":"CONTRIBUTOR","body":"Addressed all your comments @FlorianHockmann - thanks!","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/706320097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707335254","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-707335254","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":707335254,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzMzNTI1NA==","user":{"login":"sergsalo","id":242369,"node_id":"MDQ6VXNlcjI0MjM2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/242369?v=4","gravatar_id":"","url":"https://api.github.com/users/sergsalo","html_url":"https://github.com/sergsalo","followers_url":"https://api.github.com/users/sergsalo/followers","following_url":"https://api.github.com/users/sergsalo/following{/other_user}","gists_url":"https://api.github.com/users/sergsalo/gists{/gist_id}","starred_url":"https://api.github.com/users/sergsalo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sergsalo/subscriptions","organizations_url":"https://api.github.com/users/sergsalo/orgs","repos_url":"https://api.github.com/users/sergsalo/repos","events_url":"https://api.github.com/users/sergsalo/events{/privacy}","received_events_url":"https://api.github.com/users/sergsalo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-12T20:40:43Z","updated_at":"2020-10-12T20:40:43Z","author_association":"CONTRIBUTOR","body":"@spmallette I removed the mix of commits. There are conflicts that you should resolve from your side i think .","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707335254/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707653519","html_url":"https://github.com/apache/tinkerpop/pull/1343#issuecomment-707653519","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1343","id":707653519,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzY1MzUxOQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-13T10:40:06Z","updated_at":"2020-10-13T10:40:06Z","author_association":"CONTRIBUTOR","body":"Good change - Glad the `shouldKeepAliveForWebSockets()` test is back. I suppose there is nothing now testing `scheduleKeepAlive()` logic - which remains fairly complex. I haven't thought about it, but is there any way to continue to cover that logic with tests (until we, i assume, one day remove the custom keep-alive all together)? ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707653519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707657089","html_url":"https://github.com/apache/tinkerpop/pull/1344#issuecomment-707657089","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1344","id":707657089,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzY1NzA4OQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-13T10:47:00Z","updated_at":"2020-10-13T10:47:00Z","author_association":"CONTRIBUTOR","body":"cool - the test changes that show the difference in payload sizes are pretty compelling. this might be a smart change to promote in the upgrade documentation. a small benchmark to demonstrate might be neat too. i can work on that sort of thing if you want to move on from this enhancement - just let me know.\r\n\r\nVOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707657089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707658949","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-707658949","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":707658949,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzY1ODk0OQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-13T10:50:41Z","updated_at":"2020-10-13T10:50:41Z","author_association":"CONTRIBUTOR","body":"A CHANGELOG conflict is not a big deal - easy for either of us to resolve (we just don't get a travis run to look at when there is a conflict on the PR, but that's fine, i can build locally on merge). I will merge tomorrow unless we get two more VOTEs today.\r\n\r\nVOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707658949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707903925","html_url":"https://github.com/apache/tinkerpop/pull/1344#issuecomment-707903925","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1344","id":707903925,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNzkwMzkyNQ==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-13T17:43:11Z","updated_at":"2020-10-13T17:43:11Z","author_association":"MEMBER","body":"> a small benchmark to demonstrate might be neat too. i can work on that sort of thing if you want to move on from this enhancement - just let me know.\r\n\r\nThank you for offering. I would prefer if you would pick it up please.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/707903925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708305406","html_url":"https://github.com/apache/tinkerpop/pull/1348#issuecomment-708305406","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1348","id":708305406,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODMwNTQwNg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-14T10:13:58Z","updated_at":"2020-10-14T10:13:58Z","author_association":"CONTRIBUTOR","body":"looks like you based your change on your local `master` branch but then pointed the PR at `3.4-dev`.  i think you just need to rebase.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708305406/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708367515","html_url":"https://github.com/apache/tinkerpop/pull/1341#issuecomment-708367515","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1341","id":708367515,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODM2NzUxNQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-14T12:27:11Z","updated_at":"2020-10-14T12:27:11Z","author_association":"CONTRIBUTOR","body":"I needed to add in this commit as the template changed again (can't wait until 3.5.0 when we don't have to fuss with that system anymore and changes don't have to go through that) - edaa482b0e262ad054491ab51379ab4bccdc06a1\r\n\r\nother than that, this one is all settled. thanks @sergsalo for taking care of this one and carrying it all the way through with all the changes we requested. hope to see you on future contributions üôÇ ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708367515/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708385238","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-708385238","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":708385238,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODM4NTIzOA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-14T12:59:36Z","updated_at":"2020-10-14T12:59:46Z","author_association":"CONTRIBUTOR","body":"No comments from anyone so I suppose there are no high-priority concerns. I suppose this isn't a bad change and might actually help new users who might get their configurations wrong and then wonder why they are getting errors. I suppose that has happened before. Here's some things that I think need to be done to get this one ready for proper review:\r\n\r\n1. I would prefer that `DefaultGraphManager` be left alone and instead make it a basis for extension. I would recommend creating an extension of `DefaultGraphManager` called `CheckedGraphManager` (open to another name if you have a suggestion) that basically do the functionality you are suggesting. I would think this new class would just call `super()` in the constructor then do the validation. You will need to alter `DefaultGraphManager` scopes to make this work.\r\n1. I think we should continue to target `master` (3.5.0) with this change and therefore it is safe to change the default [here](https://github.com/apache/tinkerpop/blob/master/gremlin-server/src/main/java/org/apache/tinkerpop/gremlin/server/Settings.java#L192) to your new class.\r\n1. A unit test would go in this package [here](https://github.com/apache/tinkerpop/blob/501e926afd5dd956b2c2c823c5304978f732d54f/gremlin-server/src/test/java/org/apache/tinkerpop/gremlin/server/util/) \r\n1. A more robust error message [here](https://github.com/apache/tinkerpop/pull/1342/files#diff-6c52c03578764d296f1f68e7d7a7bca7c34ee8af013737f596b9879afa730a08R73) would be nice and I think we'd prefer `IllegalStateException`\r\n1. For situations where there are no graphs because of exceptions [here](https://github.com/apache/tinkerpop/pull/1342/files#diff-6c52c03578764d296f1f68e7d7a7bca7c34ee8af013737f596b9879afa730a08R74-R79) I'm not sure we need to rethrow the exceptions as we all ready WARN above of such problems. I think a simple well-formed `IllegalStateException` that no graphs are present and the server stopping should be sufficient.\r\n1. I presume throwing an exception will stop Gremlin Server from starting. I don't think that breaks any of our integration tests because they all start with configured graphs. I suppose you will find that out. We might want integration tests for this change to ensure the server shuts down nicely/cleanly, but let's see what the rest of these changes look like first.\r\n1. This is a breaking change in behavior so I think we will need [Upgrade Documentation](https://github.com/apache/tinkerpop/blob/501e926afd5dd956b2c2c823c5304978f732d54f/docs/src/upgrade/release-3.5.x.asciidoc) for both users and providers on this PR.\r\n\r\nI'm not sure if that's everything or not, but I can't see much further on this one without some of these changes in place. It's always interesting how software works - take something though to be \"simple\" and it quickly unravels into something quite the opposite. Please let me know if you have any questions @mmadoo ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708385238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708433204","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-708433204","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":708433204,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODQzMzIwNA==","user":{"login":"mmadoo","id":1867448,"node_id":"MDQ6VXNlcjE4Njc0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1867448?v=4","gravatar_id":"","url":"https://api.github.com/users/mmadoo","html_url":"https://github.com/mmadoo","followers_url":"https://api.github.com/users/mmadoo/followers","following_url":"https://api.github.com/users/mmadoo/following{/other_user}","gists_url":"https://api.github.com/users/mmadoo/gists{/gist_id}","starred_url":"https://api.github.com/users/mmadoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmadoo/subscriptions","organizations_url":"https://api.github.com/users/mmadoo/orgs","repos_url":"https://api.github.com/users/mmadoo/repos","events_url":"https://api.github.com/users/mmadoo/events{/privacy}","received_events_url":"https://api.github.com/users/mmadoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-14T14:16:26Z","updated_at":"2020-10-14T14:16:26Z","author_association":"CONTRIBUTOR","body":"I do not have change the  Upgrade Documentation as this GraphManager is not the default, so it will not break anything. An option is to set like it in 3.4 branch and to make it default in master.\r\n\r\nAlso, why does DefaultGraphManager was final (class and methods), this make harder to do a extension on this class.  I have only removed final on class (I like the Jetty approach that allows override at nearly any level)","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708433204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708463050","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-708463050","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":708463050,"node_id":"MDEyOklzc3VlQ29tbWVudDcwODQ2MzA1MA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-14T15:03:14Z","updated_at":"2020-10-14T15:05:13Z","author_association":"CONTRIBUTOR","body":"> I do not have change the Upgrade Documentation as this GraphManager is not the default, so it will not break anything. An option is to set like it in 3.4 branch and to make it default in master.\r\n\r\nSee item 2 above. I was offering you the option to change to your new one. If you want to point this PR at `3.4-dev` then true, you don't need Upgrade documentation.\r\n\r\n> Also, why does DefaultGraphManager was final (class and methods), this make harder to do a extension on this class. I have only removed final on class (I like the Jetty approach that allows override at nearly any level)\r\n\r\nI made mention of this in item 1 - \"You will need to alter DefaultGraphManager scopes to make this work\". Yes, you will need to make `DefaultGraphManager` more extensible by removing `final`, changing member variable scopes to `protected`, etc. There were reasons for doing it that way initially, but I don't think they apply so much anymore.....plus, you are now adding this change, so time to open it up for extension.\r\n\r\nI think I would also add another item:\r\n\r\n8. Reference documentation should probably refer to the two options we have after your change. You could just update the `graphManager` key in the Gremlin Server Configuration section [here](https://github.com/apache/tinkerpop/blob/501e926afd5dd956b2c2c823c5304978f732d54f/docs/src/reference/gremlin-applications.asciidoc#configuring).","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/708463050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/709201172","html_url":"https://github.com/apache/tinkerpop/pull/1349#issuecomment-709201172","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1349","id":709201172,"node_id":"MDEyOklzc3VlQ29tbWVudDcwOTIwMTE3Mg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-15T11:05:49Z","updated_at":"2020-10-15T11:05:49Z","author_association":"CONTRIBUTOR","body":"good addition - i didn't want to trouble you with some minor edits so i just did them myself here: 30dd4c69ff477640c5433cbaee632db10d783219 \r\n\r\nhopefully, those changes were fine with you. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/709201172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/709849039","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-709849039","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":709849039,"node_id":"MDEyOklzc3VlQ29tbWVudDcwOTg0OTAzOQ==","user":{"login":"vtslab","id":6702316,"node_id":"MDQ6VXNlcjY3MDIzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6702316?v=4","gravatar_id":"","url":"https://api.github.com/users/vtslab","html_url":"https://github.com/vtslab","followers_url":"https://api.github.com/users/vtslab/followers","following_url":"https://api.github.com/users/vtslab/following{/other_user}","gists_url":"https://api.github.com/users/vtslab/gists{/gist_id}","starred_url":"https://api.github.com/users/vtslab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtslab/subscriptions","organizations_url":"https://api.github.com/users/vtslab/orgs","repos_url":"https://api.github.com/users/vtslab/repos","events_url":"https://api.github.com/users/vtslab/events{/privacy}","received_events_url":"https://api.github.com/users/vtslab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-16T06:45:02Z","updated_at":"2020-10-16T06:45:02Z","author_association":"CONTRIBUTOR","body":"Thanks @QwentB for further elaborating your thoughts. There are some aspects, though, that make me hesitant to pursue them.\r\n\r\nFirst, storing authorization data in the pipeline has some impact on the number of connections that can be open. That would be problematic in a scenario where many users are served who fire a query now and then. When the Authorizer caches the authorization data, however, it can simply put a limit on the size of the cache. \r\n\r\nSecondly, while one could modify the RequestMessage to support specific usage scenarios, it does not seem necessary. If a RequestMessage is not admissable in its present form, the Authorizer can simply reject it and add a helpful reject message. Add/remove Strategies can be done by offering the same graph via different GraphTraversalSources that differ by the Strategies applied. So, I feel that the suggestion to have the Authorizer return a possibly modified RequestMessage is out of scope for the current PR. It could be added later on, if really required.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/709849039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/709990702","html_url":"https://github.com/apache/tinkerpop/pull/1345#issuecomment-709990702","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1345","id":709990702,"node_id":"MDEyOklzc3VlQ29tbWVudDcwOTk5MDcwMg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-16T11:31:19Z","updated_at":"2020-10-16T11:31:19Z","author_association":"CONTRIBUTOR","body":"The merge to `master` on this is not being friendly. We refactored the `Translator` functionality for 3.5.0......forgot about that. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/709990702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/710124396","html_url":"https://github.com/apache/tinkerpop/pull/1344#issuecomment-710124396","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1344","id":710124396,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMDEyNDM5Ng==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-16T15:43:56Z","updated_at":"2020-10-16T15:44:23Z","author_association":"CONTRIBUTOR","body":"I did a really simple test - just ran a script through the console and flipped on a JFR:\r\n\r\n```groovy\r\n// 3.4.8\r\ngraphson = new GraphSONMessageSerializerV3d0()\r\ncluster = Cluster.build().serializer(graphson).maxContentLength(6553600).maxConnectionPoolSize(16).minConnectionPoolSize(16).create()\r\nclient = cluster.connect()\r\ng = traversal().withRemote(DriverRemoteConnection.using(client))\r\n(0..<1024).each { g.V().repeat(both()).times(10).emit().fold().toList();[] };[]\r\n\r\ngraphbin = new GraphBinaryMessageSerializerV1()\r\ncluster = Cluster.build().serializer(graphbin).maxContentLength(6553600).maxConnectionPoolSize(16).minConnectionPoolSize(16).create()\r\nclient = cluster.connect()\r\ng = traversal().withRemote(DriverRemoteConnection.using(client))\r\n(0..<1024).each { g.V().repeat(both()).times(10).emit().fold().toList();[] };[]\r\n\r\n// 3.4.9\r\ngraphson = new GraphSONMessageSerializerV3d0()\r\ncluster = Cluster.build().serializer(graphson).maxConnectionPoolSize(16).minConnectionPoolSize(16).create()\r\nclient = cluster.connect()\r\ng = traversal().withRemote(DriverRemoteConnection.using(client))\r\n(0..<1024).each { g.V().repeat(both()).times(10).emit().fold().toList();[] };[]\r\n\r\ngraphbin = new GraphBinaryMessageSerializerV1()\r\ncluster = Cluster.build().serializer(graphbin).maxConnectionPoolSize(16).minConnectionPoolSize(16).create()\r\nclient = cluster.connect()\r\ng = traversal().withRemote(DriverRemoteConnection.using(client))\r\n(0..<1024).each { g.V().repeat(both()).times(10).emit().fold().toList();[] };[]\r\n```\r\n\r\nNote that with 3.4.9 we don't need to even increase the `maxContentLength` which is nice because it means users will have less chance of hitting that problem early. The results had me questioning whether or not I even did this test right as there was so much less IO going on:\r\n\r\n## 3.4.8 and GraphSON\r\n\r\n![image](https://user-images.githubusercontent.com/384249/96279097-40bb4500-0fa4-11eb-8fca-ff225c88529f.png)\r\n\r\n## 3.4.9 and GraphSON\r\n\r\n![image](https://user-images.githubusercontent.com/384249/96279293-76f8c480-0fa4-11eb-8f3b-4104242067da.png)\r\n\r\n## 3.4.8 and GraphBinary\r\n\r\n![image](https://user-images.githubusercontent.com/384249/96279358-8f68df00-0fa4-11eb-8c33-b1886cb76363.png)\r\n\r\n## 3.4.9 and GraphBinary\r\n\r\n![image](https://user-images.githubusercontent.com/384249/96279473-b6271580-0fa4-11eb-907a-a3d021c6a9e1.png)\r\n\r\nIn this process, i did some testing of the version interoperability by accident using 3.4.8 across 3.4.9 and it worked nicely. didn't try 3.4.9 to 3.4.8 but i presume that would be fine as well given the initial description on this PR. \r\n\r\nWhen this merges I can write something up about it and CTR it into the documentation.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/710124396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/712110239","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-712110239","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":712110239,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjExMDIzOQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-19T12:04:08Z","updated_at":"2020-10-19T12:04:08Z","author_association":"CONTRIBUTOR","body":"This PR is looking pretty good. It looks like the only two issues from my first review that are still outstanding are:\r\n\r\n> 6. I presume throwing an exception will stop Gremlin Server from starting. I don't think that breaks any of our integration tests because they all start with configured graphs. I suppose you will find that out. We might want integration tests for this change to ensure the server shuts down nicely/cleanly, but let's see what the rest of these changes look like first.\r\n\r\nI think an integration test would be good. We didn't have any \"shutdown\" tests for you to use as a model so I quickly added one, which would probably a good idea anyway, so you can add yours to that: 339551d2f080bd0d7756315643ed96da7dfff634\r\n\r\n> 7. This is a breaking change in behavior so I think we will need Upgrade Documentation for both users and providers on this PR.\r\n\r\nWe don't have a breaking change anymore since we kept the `DefaultGraphManager` functionality untouched. If you like you can have this functionality in 3.4.9 by re-targeting your PR to the `3.4-dev` branch otherwise, feel free to leave it here on `master` for 3.5.0.  In either case, I think it would be nice to introduce this functionality in the `Upgrade Documentation`. Adding that bit of extra documentation would nicely tidy this PR up, but I'm happy to write that up on merge if you like.\r\n\r\nAs a final point of tidying, after you choose the branch you are aimed at, please clean up the git history a bit and squash your commits down to one as we prepare for a final merge. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/712110239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/712263821","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-712263821","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":712263821,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjI2MzgyMQ==","user":{"login":"QwentB","id":18392554,"node_id":"MDQ6VXNlcjE4MzkyNTU0","avatar_url":"https://avatars.githubusercontent.com/u/18392554?v=4","gravatar_id":"","url":"https://api.github.com/users/QwentB","html_url":"https://github.com/QwentB","followers_url":"https://api.github.com/users/QwentB/followers","following_url":"https://api.github.com/users/QwentB/following{/other_user}","gists_url":"https://api.github.com/users/QwentB/gists{/gist_id}","starred_url":"https://api.github.com/users/QwentB/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/QwentB/subscriptions","organizations_url":"https://api.github.com/users/QwentB/orgs","repos_url":"https://api.github.com/users/QwentB/repos","events_url":"https://api.github.com/users/QwentB/events{/privacy}","received_events_url":"https://api.github.com/users/QwentB/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-19T15:56:46Z","updated_at":"2020-10-19T15:56:46Z","author_association":"NONE","body":"Thanks for your answer @vtslab \r\n\r\nI agree that caching authorization have a memory impact and that it does not make sense with a \"many users submitting few requests\" scenario, on the other hand, if you consider the gremlin server as a storage backend accessed by a few front-end servers (so a \"few users / many requests\" scenario) caching the authorizations makes more sense. You're absolutely right that it should definitely have some configurable limits and eviction strategy.\r\nAll this being said, caching was just an example of the possibilities offered to potential implementations, my main point was more \"separation of concerns\" related as, IMO, the authorization provisioning should be separated from the authorization process itself.\r\n\r\nRegarding the second point, I might be misunderstanding what you mean by:\r\n\r\n> \"Add/remove Strategies can be done by offering the same graph via different GraphTraversalSources that differ by the Strategies applied\"\r\n\r\n, but I guess you're referring to the statically defined traversalSources in the server's configuration file. The use case being the definition of a `graph1ReadOnly` traversal sources pointing to `graph1` but with a ReadOnlyStrategy, and then make sure `ReadOnlyUser` can only access `graph1ReadOnly`, and the same principle could be applied to a `graph1WithoutConfidentialData` traversal source with a SubgraphStrategy applied.\r\n\r\nI agree that request message analysis coupled with such configuration provides some interesting features and will cover some use cases, but it is not applicable to an ABAC implementation where the potential combinatory of all attributes does not allow the static definition of all possible traversal sources. With the Authorizer interface returning a RequestMessage, an Authorizer could, for example, inject a SubgraphStrategy matching the exact authorizations of the user and effectively limitating the visbility.\r\n\r\nI'm also wondering why the Authorizer is currently returning an AuthorizedUser which does not contain much and does not seems to be used anywhere afterward. If the idea is to add it to the context and use it later down the pipeline, for example, to call the \"withAuthorizaton' method of an AuthorizedTraversalSource, I thing we're back to point #1 about storing data in the context.\r\n","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/712263821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/712500482","html_url":"https://github.com/apache/tinkerpop/pull/1343#issuecomment-712500482","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1343","id":712500482,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjUwMDQ4Mg==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-19T23:42:17Z","updated_at":"2020-10-19T23:42:17Z","author_association":"MEMBER","body":"> Good change - Glad the `shouldKeepAliveForWebSockets()` test is back. I suppose there is nothing now testing `scheduleKeepAlive()` logic - which remains fairly complex. I haven't thought about it, but is there any way to continue to cover that logic with tests (until we, i assume, one day remove the custom keep-alive all together)?\r\n\r\nLet's keep this out of the scope of this review? Asking because we don't even have a channelizer in the code base which would use the old code path, hence, testing becomes difficult.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/712500482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/712756886","html_url":"https://github.com/apache/tinkerpop/pull/1343#issuecomment-712756886","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1343","id":712756886,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMjc1Njg4Ng==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-20T10:32:55Z","updated_at":"2020-10-20T10:32:55Z","author_association":"CONTRIBUTOR","body":"hmm - true. perhaps some aspect of keep-alive was wrong from the beginning. The `Connection` probably shouldn't have needed to know anything about keep-alive infrastructure. If you agree, I think I'd propose that we deprecate that functionality and remove it in 3.5.0 (all of this can be in a different JIRA and we can move forward with merging this as it is). Does that make sense?\r\n\r\nEither way, VOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/712756886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/713014082","html_url":"https://github.com/apache/tinkerpop/pull/1343#issuecomment-713014082","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1343","id":713014082,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMzAxNDA4Mg==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-20T17:16:29Z","updated_at":"2020-10-20T17:16:29Z","author_association":"MEMBER","body":"> hmm - true. perhaps some aspect of keep-alive was wrong from the beginning. The `Connection` probably shouldn't have needed to know anything about keep-alive infrastructure. If you agree, I think I'd propose that we deprecate that functionality and remove it in 3.5.0 (all of this can be in a different JIRA and we can move forward with merging this as it is). Does that make sense?\r\n> \r\n> Either way, VOTE +1\r\n\r\nYes I agree that this should be deprecated in 3.5 I will remove it from master as part of the merge and do a CTR update to documentation.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/713014082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/713018099","html_url":"https://github.com/apache/tinkerpop/pull/1312#issuecomment-713018099","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1312","id":713018099,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMzAxODA5OQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-20T17:23:17Z","updated_at":"2020-10-20T17:23:17Z","author_association":"CONTRIBUTOR","body":"VOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/713018099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/713481848","html_url":"https://github.com/apache/tinkerpop/pull/1343#issuecomment-713481848","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1343","id":713481848,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMzQ4MTg0OA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-21T10:48:18Z","updated_at":"2020-10-21T10:48:36Z","author_association":"CONTRIBUTOR","body":"I made some minor tweaks to deprecation messaging: 35871ebdbbfd9799f230d37013da511a9487672d and created  https://issues.apache.org/jira/browse/TINKERPOP-2455 for removal of the functionality in 3.5.0","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/713481848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/713811240","html_url":"https://github.com/apache/tinkerpop/pull/1347#issuecomment-713811240","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1347","id":713811240,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMzgxMTI0MA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-21T19:05:37Z","updated_at":"2020-10-21T19:05:37Z","author_association":"CONTRIBUTOR","body":"Minor nit in review for changelog but other than that VOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/713811240/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/716359919","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-716359919","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":716359919,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjM1OTkxOQ==","user":{"login":"vtslab","id":6702316,"node_id":"MDQ6VXNlcjY3MDIzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6702316?v=4","gravatar_id":"","url":"https://api.github.com/users/vtslab","html_url":"https://github.com/vtslab","followers_url":"https://api.github.com/users/vtslab/followers","following_url":"https://api.github.com/users/vtslab/following{/other_user}","gists_url":"https://api.github.com/users/vtslab/gists{/gist_id}","starred_url":"https://api.github.com/users/vtslab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtslab/subscriptions","organizations_url":"https://api.github.com/users/vtslab/orgs","repos_url":"https://api.github.com/users/vtslab/repos","events_url":"https://api.github.com/users/vtslab/events{/privacy}","received_events_url":"https://api.github.com/users/vtslab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-26T07:22:39Z","updated_at":"2020-10-26T07:22:39Z","author_association":"CONTRIBUTOR","body":"The latest commits bring the PR somewhat closer to a completion. Apart from being more complete, the following points were addressed:\r\n- the AuthorizedUser was removed from the Authorizer API. As also remarked by QwentB, it had no function.\r\n- a mechanism was added to facilitate interaction between the Authorizer and Authentication implementations (to support one-pass interrogation of an external access control service),  by means of the AuthenticatorAuthorizer interface. Actually, I am still in doubt whether this is the best solution because it lays the burden on the TinkerPop code. Alternatives are there, e.g. by implementing the Authenticator as a singleton or even via the network. Any thoughts?\r\n\r\nThanks, @QwentB, for your patient explanation about ABAC. Indeed, if authorization is very granular, this cannot be supported with static GraphTraversalSources. So, now I support your suggestion to have authorize() return a RequestMessage and passing this on into the pipeline. Although this makes the pipeline less transparent, there is already a (necessary) precedent in tossing around with the RequestMessage in the SaslAuthenticationHandler. @spmallette, agree?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/716359919/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/716767285","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-716767285","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":716767285,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjc2NzI4NQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-26T19:17:28Z","updated_at":"2020-10-26T19:17:28Z","author_association":"CONTRIBUTOR","body":"I was a bit skeptical of the travis errors at first, but your pull request doesn't build for me and i'm not sure what's wrong. Were you able to get a basic `mvn clean install` to work on your end?","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/716767285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717102445","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-717102445","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":717102445,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzEwMjQ0NQ==","user":{"login":"mmadoo","id":1867448,"node_id":"MDQ6VXNlcjE4Njc0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1867448?v=4","gravatar_id":"","url":"https://api.github.com/users/mmadoo","html_url":"https://github.com/mmadoo","followers_url":"https://api.github.com/users/mmadoo/followers","following_url":"https://api.github.com/users/mmadoo/following{/other_user}","gists_url":"https://api.github.com/users/mmadoo/gists{/gist_id}","starred_url":"https://api.github.com/users/mmadoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmadoo/subscriptions","organizations_url":"https://api.github.com/users/mmadoo/orgs","repos_url":"https://api.github.com/users/mmadoo/repos","events_url":"https://api.github.com/users/mmadoo/events{/privacy}","received_events_url":"https://api.github.com/users/mmadoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T09:18:56Z","updated_at":"2020-10-27T09:18:56Z","author_association":"CONTRIBUTOR","body":"> I was a bit skeptical of the travis errors at first, but your pull request doesn't build for me and i'm not sure what's wrong. Were you able to get a basic `mvn clean install` to work on your end?\r\n\r\nI am able to run successfully the same commands as travis job:\r\n```\r\nmvn clean install -q -DskipTests -Dci\r\nmvn verify -pl :gremlin-server -DskipTests -DskipIntegrationTests=false -DincludeNeo4j\r\n```\r\n\r\nIn[ travis build](https://travis-ci.org/github/apache/tinkerpop/jobs/738014227), I can see that openjdk 11 is used. May be, the issue is due to the PR was created to master and not 3.4-dev. When I latter changed the target branch, may be travis is still use the master travis configuration file.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717102445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717169627","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-717169627","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":717169627,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzE2OTYyNw==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T11:12:21Z","updated_at":"2020-10-27T11:12:21Z","author_association":"CONTRIBUTOR","body":"I noticed the travis issue with the jdk (which is why i was skeptical...i should have wrote that), but I'm building locally with:\r\n\r\n```text\r\n$ mvn -version\r\nApache Maven 3.6.0\r\nMaven home: /usr/share/maven\r\nJava version: 1.8.0_242, vendor: AdoptOpenJDK, runtime: /home/smallette/.sdkman/candidates/java/8.0.242.hs-adpt/jre\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: \"linux\", version: \"5.4.0-52-generic\", arch: \"amd64\", family: \"unix\"\r\n```\r\n\r\nMy errors are in Gremlin Server:\r\n\r\n```text\r\n[ERROR] Errors: \r\n[ERROR]   RemoteGraphGroovyTranslatorProcessComputerTest.initializationError ? Runtime j...\r\n[ERROR]   RemoteGraphGroovyTranslatorProcessStandardTest.initializationError ? Runtime j...\r\n[ERROR]   GraphBinaryRemoteGraphProcessComputerTest.initializationError ? Runtime java.u...\r\n[ERROR]   GraphBinaryRemoteGraphProcessStandardTest.initializationError ? Runtime java.u...\r\n[ERROR]   GraphSONRemoteGraphProcessComputerTest.initializationError ? Runtime java.util...\r\n[ERROR]   GraphSONRemoteGraphProcessStandardTest.initializationError ? Runtime java.util...\r\n[ERROR]   GryoRemoteGraphProcessComputerTest.initializationError ? Runtime java.util.con...\r\n[ERROR]   GryoRemoteGraphProcessStandardTest.initializationError ? Runtime java.util.con...\r\n```\r\n\r\nThey seem related to this stacktrace perhaps:\r\n\r\n```text\r\n[ERROR] initializationError(org.apache.tinkerpop.gremlin.process.remote.GraphSONRemoteGraphProcessStandardTest)  Time elapsed: 0.001 s  <<< ERROR!\r\njava.lang.RuntimeException: java.util.concurrent.ExecutionException: java.io.IOException: Could not bind to localhost and 45940 - perhaps something else is bound to that address.\r\n\tat org.apache.tinkerpop.gremlin.driver.remote.AbstractRemoteGraphProvider.<init>(AbstractRemoteGraphProvider.java:233)\r\n\tat org.apache.tinkerpop.gremlin.driver.remote.AbstractRemoteGraphProvider.<init>(AbstractRemoteGraphProvider.java:223)\r\n\tat org.apache.tinkerpop.gremlin.driver.remote.GraphSONRemoteGraphProvider.<init>(GraphSONRemoteGraphProvider.java:28)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat java.lang.Class.newInstance(Class.java:442)\r\n\tat org.apache.tinkerpop.gremlin.AbstractGremlinSuite.<init>(AbstractGremlinSuite.java:99)\r\n\tat org.apache.tinkerpop.gremlin.process.ProcessStandardSuite.<init>(ProcessStandardSuite.java:277)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:107)\r\n\tat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n\tat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n\tat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n\tat org.junit.internal.requests.ClassRequest.getRunner(ClassRequest.java:33)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:362)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238)\r\n\tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125)\r\n\tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413)\r\nCaused by: java.util.concurrent.ExecutionException: java.io.IOException: Could not bind to localhost and 45940 - perhaps something else is bound to that address.\r\n\tat java.util.concurrent.CompletableFuture.reportGet(CompletableFuture.java:357)\r\n\tat java.util.concurrent.CompletableFuture.get(CompletableFuture.java:1928)\r\n\tat org.apache.tinkerpop.gremlin.driver.remote.AbstractRemoteGraphProvider.startServer(AbstractRemoteGraphProvider.java:331)\r\n\tat org.apache.tinkerpop.gremlin.driver.remote.AbstractRemoteGraphProvider.<init>(AbstractRemoteGraphProvider.java:231)\r\n\t... 27 more\r\nCaused by: java.io.IOException: Could not bind to localhost and 45940 - perhaps something else is bound to that address.\r\n\tat org.apache.tinkerpop.gremlin.server.GremlinServer$1.operationComplete(GremlinServer.java:186)\r\n\tat org.apache.tinkerpop.gremlin.server.GremlinServer$1.operationComplete(GremlinServer.java:173)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:577)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:551)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:490)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:615)\r\n\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:608)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.safeSetFailure(AbstractChannel.java:998)\r\n\tat io.netty.channel.AbstractChannel$AbstractUnsafe.bind(AbstractChannel.java:552)\r\n\tat io.netty.channel.DefaultChannelPipeline$HeadContext.bind(DefaultChannelPipeline.java:1334)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.invokeBind(AbstractChannelHandlerContext.java:506)\r\n\tat io.netty.channel.AbstractChannelHandlerContext.bind(AbstractChannelHandlerContext.java:491)\r\n\tat io.netty.channel.DefaultChannelPipeline.bind(DefaultChannelPipeline.java:973)\r\n\tat io.netty.channel.AbstractChannel.bind(AbstractChannel.java:248)\r\n\tat io.netty.bootstrap.AbstractBootstrap$2.run(AbstractBootstrap.java:356)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nI've tested to check with `lsof -i :45940` to see if anything else was holding that port and i don't find anything. It makes me think that somehow the changes have stopped Gremlin Server from shutting down cleanly in integration tests?? I don't see any indication of that in the code but perhaps that is what is happening. I don't get these issue on `3.4-dev` which indicates that the problem is on this branch.\r\n\r\nI think that the reason you don't see error is because you `-DskipTests` in both commands which ignores unit tests which is precisely where the build is failing. Please try to build with `mvn clean install` and see if you hit the same problem as I have.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717169627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717237779","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-717237779","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":717237779,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzIzNzc3OQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T13:19:55Z","updated_at":"2020-10-27T13:19:55Z","author_association":"CONTRIBUTOR","body":"I gave this a review - big body of work @vtslab ü•á \r\n\r\ni think my review will give you a few things to chew on as this closes in on its final state. I still see a bunch of code formatting and documentation concerns I didn't comment on, but figured those could wait for your next iteration, but other than that I think I'm feeling pretty positively about the direction. \r\n\r\nAlso, thanks to @QwentB for putting some thoughts in here. Feedback is appreciated. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717237779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717250250","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-717250250","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":717250250,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzI1MDI1MA==","user":{"login":"mmadoo","id":1867448,"node_id":"MDQ6VXNlcjE4Njc0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1867448?v=4","gravatar_id":"","url":"https://api.github.com/users/mmadoo","html_url":"https://github.com/mmadoo","followers_url":"https://api.github.com/users/mmadoo/followers","following_url":"https://api.github.com/users/mmadoo/following{/other_user}","gists_url":"https://api.github.com/users/mmadoo/gists{/gist_id}","starred_url":"https://api.github.com/users/mmadoo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mmadoo/subscriptions","organizations_url":"https://api.github.com/users/mmadoo/orgs","repos_url":"https://api.github.com/users/mmadoo/repos","events_url":"https://api.github.com/users/mmadoo/events{/privacy}","received_events_url":"https://api.github.com/users/mmadoo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T13:39:26Z","updated_at":"2020-10-27T13:39:26Z","author_association":"CONTRIBUTOR","body":"It should be fixed now, the server was not stopped in GremlinServerShutdownIntegrationTest","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717250250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717302561","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-717302561","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":717302561,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzMwMjU2MQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T14:57:21Z","updated_at":"2020-10-27T14:57:21Z","author_association":"CONTRIBUTOR","body":"ah - nice. sorry i suppose that was my mistake. i got too used to relying on the test infrastructure to cleanup Gremlin Server for me and that test didn't extend from that framework. Retesting on my end now - assuming it all passes I'll get this merged.\r\n\r\nVOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717302561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717384332","html_url":"https://github.com/apache/tinkerpop/pull/1342#issuecomment-717384332","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1342","id":717384332,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzM4NDMzMg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T16:58:53Z","updated_at":"2020-10-27T16:58:53Z","author_association":"CONTRIBUTOR","body":"Merged - thanks for your work on this. Take care!","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/717384332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/723240681","html_url":"https://github.com/apache/tinkerpop/pull/1353#issuecomment-723240681","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1353","id":723240681,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzI0MDY4MQ==","user":{"login":"MartinHaeusler","id":16356998,"node_id":"MDQ6VXNlcjE2MzU2OTk4","avatar_url":"https://avatars.githubusercontent.com/u/16356998?v=4","gravatar_id":"","url":"https://api.github.com/users/MartinHaeusler","html_url":"https://github.com/MartinHaeusler","followers_url":"https://api.github.com/users/MartinHaeusler/followers","following_url":"https://api.github.com/users/MartinHaeusler/following{/other_user}","gists_url":"https://api.github.com/users/MartinHaeusler/gists{/gist_id}","starred_url":"https://api.github.com/users/MartinHaeusler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MartinHaeusler/subscriptions","organizations_url":"https://api.github.com/users/MartinHaeusler/orgs","repos_url":"https://api.github.com/users/MartinHaeusler/repos","events_url":"https://api.github.com/users/MartinHaeusler/events{/privacy}","received_events_url":"https://api.github.com/users/MartinHaeusler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T18:46:45Z","updated_at":"2020-11-06T18:46:45Z","author_association":"CONTRIBUTOR","body":"I just noticed that my IntelliJ code formatter may have been a little over-zealous with the TestSupport file. I can fix that if it bugs anyone.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/723240681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/723264175","html_url":"https://github.com/apache/tinkerpop/pull/1353#issuecomment-723264175","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1353","id":723264175,"node_id":"MDEyOklzc3VlQ29tbWVudDcyMzI2NDE3NQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-06T19:40:50Z","updated_at":"2020-11-06T19:40:50Z","author_association":"CONTRIBUTOR","body":"I'm currently testing this change cherry-picked back to `3.4-dev`.  ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/723264175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/724009038","html_url":"https://github.com/apache/tinkerpop/pull/1355#issuecomment-724009038","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1355","id":724009038,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDAwOTAzOA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T13:20:45Z","updated_at":"2020-11-09T13:20:45Z","author_association":"CONTRIBUTOR","body":"I think that the value of the speed improvement here is worth the removal and the possible breaking change. The scope of the \"break\" itself seems fairly narrow and isolated - this will not affect a lot of users (if any). If I want to take a breaking change like this within patch versions I usually just email the dev list with a DISCUSS thread and explain the reasoning/scope for the breaking change (I sometimes even email the user list if i feel it is of effect to a large number of users who might want to have an objection but i don't think that's necessary for this change). I then end the dev list post with a statement of a \"72 hour lazy consensus in effect\" and then link the DISCUSS thread in the JIRA.\r\n\r\nI don't think this change needs Upgrade Documentation, but a CHANGELOG entry would be good.\r\n\r\nNote that these initializations have already been removed on `master` iirc.\r\n\r\nAssuming all that is in place, then VOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/724009038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/724033915","html_url":"https://github.com/apache/tinkerpop/pull/1353#issuecomment-724033915","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1353","id":724033915,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNDAzMzkxNQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-09T14:05:25Z","updated_at":"2020-11-09T14:05:25Z","author_association":"CONTRIBUTOR","body":"I merged this on 9262a62446f2d470cc5f4a7cee20913ed11690f1 - thanks!","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/724033915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/725513067","html_url":"https://github.com/apache/tinkerpop/pull/1356#issuecomment-725513067","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1356","id":725513067,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNTUxMzA2Nw==","user":{"login":"jorgebay","id":2931196,"node_id":"MDQ6VXNlcjI5MzExOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2931196?v=4","gravatar_id":"","url":"https://api.github.com/users/jorgebay","html_url":"https://github.com/jorgebay","followers_url":"https://api.github.com/users/jorgebay/followers","following_url":"https://api.github.com/users/jorgebay/following{/other_user}","gists_url":"https://api.github.com/users/jorgebay/gists{/gist_id}","starred_url":"https://api.github.com/users/jorgebay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jorgebay/subscriptions","organizations_url":"https://api.github.com/users/jorgebay/orgs","repos_url":"https://api.github.com/users/jorgebay/repos","events_url":"https://api.github.com/users/jorgebay/events{/privacy}","received_events_url":"https://api.github.com/users/jorgebay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-11T16:12:12Z","updated_at":"2020-11-11T16:12:12Z","author_association":"CONTRIBUTOR","body":"WOOT! nice!\r\n\r\nI'll review it shortly.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/725513067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/726758273","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-726758273","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":726758273,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjc1ODI3Mw==","user":{"login":"vtslab","id":6702316,"node_id":"MDQ6VXNlcjY3MDIzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6702316?v=4","gravatar_id":"","url":"https://api.github.com/users/vtslab","html_url":"https://github.com/vtslab","followers_url":"https://api.github.com/users/vtslab/followers","following_url":"https://api.github.com/users/vtslab/following{/other_user}","gists_url":"https://api.github.com/users/vtslab/gists{/gist_id}","starred_url":"https://api.github.com/users/vtslab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtslab/subscriptions","organizations_url":"https://api.github.com/users/vtslab/orgs","repos_url":"https://api.github.com/users/vtslab/repos","events_url":"https://api.github.com/users/vtslab/events{/privacy}","received_events_url":"https://api.github.com/users/vtslab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-13T13:15:16Z","updated_at":"2020-11-13T13:15:16Z","author_association":"CONTRIBUTOR","body":"I just discovered from the code comments that SubgraphStrategy has an unusual implementation for concatenating two withStrategies() steps: the second one simply supersedes the first one instead of &&-ing the predicates of the two SubgraphStrategies as one would expect. I can confirm this behavior in gremlin console. \r\nNow that we want to advocate the use of SubgraphStrategy for authorization, this behavior requires at least some lines and an example in the traversal ref docs. Personally, I would not object against modifying the semantics of SubgraphStrategy concatenation, thus introducing a breaking change. **What is your preference what to do and in what ticket/PR?** I have not checked yet whether &&-ing the predicates is easy to implement.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/726758273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/726770564","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-726770564","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":726770564,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjc3MDU2NA==","user":{"login":"vtslab","id":6702316,"node_id":"MDQ6VXNlcjY3MDIzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/6702316?v=4","gravatar_id":"","url":"https://api.github.com/users/vtslab","html_url":"https://github.com/vtslab","followers_url":"https://api.github.com/users/vtslab/followers","following_url":"https://api.github.com/users/vtslab/following{/other_user}","gists_url":"https://api.github.com/users/vtslab/gists{/gist_id}","starred_url":"https://api.github.com/users/vtslab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vtslab/subscriptions","organizations_url":"https://api.github.com/users/vtslab/orgs","repos_url":"https://api.github.com/users/vtslab/repos","events_url":"https://api.github.com/users/vtslab/events{/privacy}","received_events_url":"https://api.github.com/users/vtslab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-13T13:40:53Z","updated_at":"2020-11-14T11:35:31Z","author_association":"CONTRIBUTOR","body":"Another consideration is the authorization of OLAP requests (initially also mentioned by @FlorianHockmann). For HadoopGraph it seems sufficient to give some users access and others not. Here, one could use a new ComputerDenyStrategy.\r\nFor TinkerGraphComputer and FulgoraGraphComputer that run inside the Gremlin Server instance, OLAP also might be legitimate for some users, but here you would like to restrict the number of workers that a client can request, e.g. to 4 to give some speed up with respect to OLTP, but not drain the server. Here, one would rather have some WorkerRestrictStrategy. Of course, the two could coincide if you allow for WorkerRestrictStrategy.build.set(0).create(). Any opinions?\r\n[Edited] we also have the scripEvaluationTimeout, but this does not seem to protect against requesting a large number of computer workers.\r\n[2nd edit] There is also the VertexProgramStrategy that is inserted into the bytecode by the withComputer() step automatically. This can be inspected by an Authorizer if it wants to deny OLAP. So, my comments above are only relevant for consistency: one can configure a GraphTraversalSource with a ReadOnlyStrategy, but there is no ComputerDenyStrategy. But forget about the WorkerRestrictStrategy because restricting computer workers is better handled by the Authorizer. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/726770564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/726841623","html_url":"https://github.com/apache/tinkerpop/pull/1308#issuecomment-726841623","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1308","id":726841623,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjg0MTYyMw==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-13T15:53:08Z","updated_at":"2020-11-13T15:53:08Z","author_association":"CONTRIBUTOR","body":"> I just discovered from the code comments that SubgraphStrategy has an unusual implementation for concatenating two withStrategies() steps: the second one simply supersedes the first one instead of &&-ing the predicates of the two SubgraphStrategies as one would expect. \r\n\r\nI'm not sure that we have any strategy that is designed in such a way that more than one instance can be added. Even `OptionsStrategy` has special handling such that calls to `with()` find the strategy first and modify it rather than adding multiple instances with the expectation that they merge. \r\n\r\n> Personally, I would not object against modifying the semantics of SubgraphStrategy concatenation, thus introducing a breaking change. What is your preference what to do and in what ticket/PR? I have not checked yet whether &&-ing the predicates is easy to implement.\r\n\r\nPerhaps we should make the implicit rule of a single strategy instance explicit somehow. All strategies might not be mergeable as easily as say `OptionsStrategy` so perhaps we could create an interface that provides a method to merge them. If that interface isn't present on a strategy added more than once we could raise an error. I don't know if `SubgraphStrategy` will merge  predicates well...i guess it would just wrap the predicate in `and()`? That's already a really complex strategy...would hate to make it more so. \r\n\r\nCreated https://issues.apache.org/jira/browse/TINKERPOP-2473 for further consideration/discussion.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/726841623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/727945754","html_url":"https://github.com/apache/tinkerpop/pull/1358#issuecomment-727945754","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1358","id":727945754,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNzk0NTc1NA==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T12:23:35Z","updated_at":"2020-11-16T12:23:35Z","author_association":"CONTRIBUTOR","body":"VOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/727945754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729147101","html_url":"https://github.com/apache/tinkerpop/pull/1358#issuecomment-729147101","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1358","id":729147101,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTE0NzEwMQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T19:21:20Z","updated_at":"2020-11-17T19:21:20Z","author_association":"CONTRIBUTOR","body":"Could you please re-target this pull request to `3.4-dev` branch? I should have noticed that on my previous review...\r\n\r\nStarting to think about whether `Configuring` should be a feature of all steps and what refactoring that might mean. There is a JIRA issue somewhere that talks about the use of `Parameters` on many other steps than just the `Mutating` ones. I'll go find that and review a bit. That said, I still think it will be fine if this PR merged just as it is...just going to think on it a bit longer.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729147101/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729174343","html_url":"https://github.com/apache/tinkerpop/pull/1355#issuecomment-729174343","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1355","id":729174343,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTE3NDM0Mw==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T20:12:37Z","updated_at":"2020-11-17T20:12:37Z","author_association":"MEMBER","body":"Dev mailing list discussion for this breaking change: https://lists.apache.org/thread.html/r9bc162d489d61fcf32184cf7e45f9e06f34daa0970ac20dc09304b95%40%3Cdev.tinkerpop.apache.org%3E ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729174343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729203661","html_url":"https://github.com/apache/tinkerpop/pull/1359#issuecomment-729203661","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1359","id":729203661,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTIwMzY2MQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T20:45:24Z","updated_at":"2020-11-17T20:45:24Z","author_association":"CONTRIBUTOR","body":"This is a good change. There's no reason I can think of to `hasNext()` before checking the barrier limit. Cherry-picked and merged as CTR: 325d772d9be02bc51dbf1bb5efda37541ad47bd6\r\n\r\nThanks you!","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729203661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729273911","html_url":"https://github.com/apache/tinkerpop/pull/1359#issuecomment-729273911","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1359","id":729273911,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTI3MzkxMQ==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T23:22:56Z","updated_at":"2020-11-17T23:22:56Z","author_association":"MEMBER","body":"Congratulations and thank you @Liu-Delin for your first contribution to Apache TinkerPop. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729273911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729278116","html_url":"https://github.com/apache/tinkerpop/pull/1358#issuecomment-729278116","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1358","id":729278116,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTI3ODExNg==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T23:35:33Z","updated_at":"2020-11-17T23:35:33Z","author_association":"MEMBER","body":"> Starting to think about whether Configuring should be a feature of all steps and what refactoring that might mean\r\n\r\n+1 \r\n\r\nAs an evolution of the language itself, I am of the opinion that we should provide the ability to add \"query hints\" using the `with` step to every step in the language. This provides flexibility to the providers to extend the meaning of steps in their own fashion.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729278116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729668582","html_url":"https://github.com/apache/tinkerpop/pull/1360#issuecomment-729668582","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1360","id":729668582,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTY2ODU4Mg==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T13:14:28Z","updated_at":"2020-11-18T13:14:28Z","author_association":"CONTRIBUTOR","body":"I like the new behavior you have here - do you have any sense of how much initialization speed you gained in making these changes? Also, i think this is a nice improvement to write a few words about in the Upgrade Documentation - always good to call attention to performance enhancements.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729668582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729731359","html_url":"https://github.com/apache/tinkerpop/pull/1358#issuecomment-729731359","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1358","id":729731359,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTczMTM1OQ==","user":{"login":"spmallette","id":384249,"node_id":"MDQ6VXNlcjM4NDI0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/384249?v=4","gravatar_id":"","url":"https://api.github.com/users/spmallette","html_url":"https://github.com/spmallette","followers_url":"https://api.github.com/users/spmallette/followers","following_url":"https://api.github.com/users/spmallette/following{/other_user}","gists_url":"https://api.github.com/users/spmallette/gists{/gist_id}","starred_url":"https://api.github.com/users/spmallette/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/spmallette/subscriptions","organizations_url":"https://api.github.com/users/spmallette/orgs","repos_url":"https://api.github.com/users/spmallette/repos","events_url":"https://api.github.com/users/spmallette/events{/privacy}","received_events_url":"https://api.github.com/users/spmallette/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T14:53:41Z","updated_at":"2020-11-18T14:53:41Z","author_association":"CONTRIBUTOR","body":"This was the issue I was thinking of:\r\n\r\nhttps://issues.apache.org/jira/browse/TINKERPOP-1329\r\n\r\nThe comments are a bit tangential to the issue so you can largely stay focused on the description. It does indeed bring up the notion of using `Parameterizing` on filter steps as the next logical place where we would implement that functionality. This is relevant because `Configuring` extends `Parameterizing` and uses the same infrastructure to support it. \r\n\r\nPerhaps we consider a broader implementation for 3.5.0 and stick to this more localized changed here in 3.4.x. I feel like I'd need to do some exploratory implementation to see what impacts it would have - just poking around the code isn't enlightening me just now. ","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/729731359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/730440382","html_url":"https://github.com/apache/tinkerpop/pull/1361#issuecomment-730440382","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1361","id":730440382,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ0MDM4Mg==","user":{"login":"krlawrence","id":27897072,"node_id":"MDQ6VXNlcjI3ODk3MDcy","avatar_url":"https://avatars.githubusercontent.com/u/27897072?v=4","gravatar_id":"","url":"https://api.github.com/users/krlawrence","html_url":"https://github.com/krlawrence","followers_url":"https://api.github.com/users/krlawrence/followers","following_url":"https://api.github.com/users/krlawrence/following{/other_user}","gists_url":"https://api.github.com/users/krlawrence/gists{/gist_id}","starred_url":"https://api.github.com/users/krlawrence/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krlawrence/subscriptions","organizations_url":"https://api.github.com/users/krlawrence/orgs","repos_url":"https://api.github.com/users/krlawrence/repos","events_url":"https://api.github.com/users/krlawrence/events{/privacy}","received_events_url":"https://api.github.com/users/krlawrence/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T15:12:54Z","updated_at":"2020-11-19T15:12:54Z","author_association":"CONTRIBUTOR","body":"I pulled the branch and built. Confirm the problem I reported is fixed.\r\n\r\nVOTE +1","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/730440382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/730724811","html_url":"https://github.com/apache/tinkerpop/pull/1360#issuecomment-730724811","issue_url":"https://api.github.com/repos/apache/tinkerpop/issues/1360","id":730724811,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDcyNDgxMQ==","user":{"login":"divijvaidya","id":71267,"node_id":"MDQ6VXNlcjcxMjY3","avatar_url":"https://avatars.githubusercontent.com/u/71267?v=4","gravatar_id":"","url":"https://api.github.com/users/divijvaidya","html_url":"https://github.com/divijvaidya","followers_url":"https://api.github.com/users/divijvaidya/followers","following_url":"https://api.github.com/users/divijvaidya/following{/other_user}","gists_url":"https://api.github.com/users/divijvaidya/gists{/gist_id}","starred_url":"https://api.github.com/users/divijvaidya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/divijvaidya/subscriptions","organizations_url":"https://api.github.com/users/divijvaidya/orgs","repos_url":"https://api.github.com/users/divijvaidya/repos","events_url":"https://api.github.com/users/divijvaidya/events{/privacy}","received_events_url":"https://api.github.com/users/divijvaidya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T00:35:31Z","updated_at":"2020-11-20T00:35:31Z","author_association":"MEMBER","body":"> I like the new behavior you have here - do you have any sense of how much initialization speed you gained in making these changes?\r\n\r\nOnce we have merge this, the removal of serializer one and another PR about shutdown I am filing soon, I will perform a benchmark and add results to upgrade documentation.","reactions":{"url":"https://api.github.com/repos/apache/tinkerpop/issues/comments/730724811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]