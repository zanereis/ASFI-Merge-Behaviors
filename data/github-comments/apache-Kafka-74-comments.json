[{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227156515","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227156515","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227156515,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzE1NjUxNQ==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T14:22:07Z","updated_at":"2016-06-20T14:22:07Z","author_association":"CONTRIBUTOR","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227156515/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227169087","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227169087","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227169087,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzE2OTA4Nw==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T15:02:49Z","updated_at":"2016-06-20T15:02:49Z","author_association":"MEMBER","body":"One comment question. Otherwise LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227169087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227178050","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227178050","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227178050,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzE3ODA1MA==","user":{"login":"miguno","id":294849,"node_id":"MDQ6VXNlcjI5NDg0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/294849?v=4","gravatar_id":"","url":"https://api.github.com/users/miguno","html_url":"https://github.com/miguno","followers_url":"https://api.github.com/users/miguno/followers","following_url":"https://api.github.com/users/miguno/following{/other_user}","gists_url":"https://api.github.com/users/miguno/gists{/gist_id}","starred_url":"https://api.github.com/users/miguno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguno/subscriptions","organizations_url":"https://api.github.com/users/miguno/orgs","repos_url":"https://api.github.com/users/miguno/repos","events_url":"https://api.github.com/users/miguno/events{/privacy}","received_events_url":"https://api.github.com/users/miguno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T15:32:39Z","updated_at":"2016-06-20T15:32:39Z","author_association":"CONTRIBUTOR","body":"Meta-comment: I think the PR title is not very descriptive.\n\nComment/question:  The main change I am seeing here is that we are requiring the user to explicitly add store names as input params to API calls, which adds noise to the API imho.  I suppose there's no real way around that?  Could we (don't shoot me, just saying), for example, make the names optional but then the user would not be able to query any such state?  In other words, \"if you want to query the state later, then you must provide names /here/ and /there/, otherwise you can skip providing state store names\"?  Such an approach might be less cumbersome but perhaps also more confusing (\"Hey, why can I query THIS state but not THAT state?  Ah, I must know/remember that stores must be named for being queriable\").\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227178050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227205367","html_url":"https://github.com/apache/kafka/pull/1527#issuecomment-227205367","issue_url":"https://api.github.com/repos/apache/kafka/issues/1527","id":227205367,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzIwNTM2Nw==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T17:07:15Z","updated_at":"2016-06-20T17:07:15Z","author_association":"MEMBER","body":"Maybe @gwenshap.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227205367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227205454","html_url":"https://github.com/apache/kafka/pull/1527#issuecomment-227205454","issue_url":"https://api.github.com/repos/apache/kafka/issues/1527","id":227205454,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzIwNTQ1NA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T17:07:36Z","updated_at":"2016-06-20T17:07:36Z","author_association":"MEMBER","body":"Thanks for picking this up by the way. :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227205454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227206071","html_url":"https://github.com/apache/kafka/pull/1527#issuecomment-227206071","issue_url":"https://api.github.com/repos/apache/kafka/issues/1527","id":227206071,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzIwNjA3MQ==","user":{"login":"wushujames","id":677529,"node_id":"MDQ6VXNlcjY3NzUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/677529?v=4","gravatar_id":"","url":"https://api.github.com/users/wushujames","html_url":"https://github.com/wushujames","followers_url":"https://api.github.com/users/wushujames/followers","following_url":"https://api.github.com/users/wushujames/following{/other_user}","gists_url":"https://api.github.com/users/wushujames/gists{/gist_id}","starred_url":"https://api.github.com/users/wushujames/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wushujames/subscriptions","organizations_url":"https://api.github.com/users/wushujames/orgs","repos_url":"https://api.github.com/users/wushujames/repos","events_url":"https://api.github.com/users/wushujames/events{/privacy}","received_events_url":"https://api.github.com/users/wushujames/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T17:09:49Z","updated_at":"2016-06-20T17:09:49Z","author_association":"CONTRIBUTOR","body":"Aside from copy/pasting the descriptions from the old docs into the new docs, I chose not to correct any of the descriptions in this, to make this a mostly mechanical change. I figured that a mechanical change could go in quickly, while new wording might require a couple iterations back and forth.\n\nHowever, I noticed a couple things that are wrong/could be improved. For example, the description for flush.messages wrongly says \n\n> This setting can be overridden on a per-topic basis\n\nwhen it already is a topic-level config. And the topic-level description of flush.messages is actually better than the broker level config, so it would make sense to update the broker level config.\n\nShould I make those improvements? I can make them in a separate checkin, since those might require more discussion.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227206071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227244241","html_url":"https://github.com/apache/kafka/pull/1528#issuecomment-227244241","issue_url":"https://api.github.com/repos/apache/kafka/issues/1528","id":227244241,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI0NDI0MQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T19:29:23Z","updated_at":"2016-06-20T19:29:23Z","author_association":"CONTRIBUTOR","body":"LGTM. There's a trivial checkstyle fix which I'll fix up when committing. Thanks @rollulus!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227244241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227252952","html_url":"https://github.com/apache/kafka/pull/1525#issuecomment-227252952","issue_url":"https://api.github.com/repos/apache/kafka/issues/1525","id":227252952,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI1Mjk1Mg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T20:03:17Z","updated_at":"2016-06-20T20:03:17Z","author_association":"CONTRIBUTOR","body":"LGTM overall. @dguy Maybe we can merge the functions in `StateTestUtils` into `TestUtils` and remove that class file? If you feel more comfortable doing it in a separate PR we can merge it as is.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227252952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227259448","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227259448","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227259448,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI1OTQ0OA==","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T20:28:42Z","updated_at":"2016-06-20T20:28:42Z","author_association":"CONTRIBUTOR","body":"@hachikuji updated PR to instead increase poll time. Sanity tested the change.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227259448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227263327","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227263327","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227263327,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI2MzMyNw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T20:43:17Z","updated_at":"2016-06-20T20:43:17Z","author_association":"CONTRIBUTOR","body":"@SinghAsDev LGTM. Would be nice to hear @becketqin's thoughts to make sure there weren't any good reasons to keep the timeout low.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227263327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227269465","html_url":"https://github.com/apache/kafka/pull/1336#issuecomment-227269465","issue_url":"https://api.github.com/repos/apache/kafka/issues/1336","id":227269465,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI2OTQ2NQ==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:06:06Z","updated_at":"2016-06-20T21:06:06Z","author_association":"CONTRIBUTOR","body":"@vahidhashemian I'm wondering about approaches for testing this patch. One possibility is to parse the output in the test case and build assertions off from that. Another option might be to decouple the command logic from the print logic so that you can build test cases using a convenient object representation. What do you think?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227269465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227270452","html_url":"https://github.com/apache/kafka/pull/1524#issuecomment-227270452","issue_url":"https://api.github.com/repos/apache/kafka/issues/1524","id":227270452,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI3MDQ1Mg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:10:09Z","updated_at":"2016-06-20T21:10:09Z","author_association":"CONTRIBUTOR","body":"@sakamotomsh Are you running the examples with latest trunk? There is a recent change to unify the aggregation operators for `KStream` and `KTable` which introduces `groupByKey` in `KStream` to replace `aggregateByKey` / `countByKey` / etc.\n\nAlso the Jenkins failure indicates similar issues:\n\n```\n:streams:examples:compileJava/x1/jenkins/jenkins-slave/workspace/kafka-trunk-git-pr-jdk7/streams/examples/src/main/java/org/apache/kafka/streams/examples/wordcount/WordCountDemo.java:75: error: cannot find symbol\n                .countByKey(\"Counts\");\n                ^\n  symbol:   method countByKey(String)\n  location: interface KStream<String,String>\n1 error\n FAILED\n```\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227270452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227272692","html_url":"https://github.com/apache/kafka/pull/1525#issuecomment-227272692","issue_url":"https://api.github.com/repos/apache/kafka/issues/1525","id":227272692,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI3MjY5Mg==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:18:52Z","updated_at":"2016-06-20T21:18:52Z","author_association":"CONTRIBUTOR","body":"@guozhangwang It would be good to get this one in as is now and I will do the merge as a separate PR tomorrow. Saves another cycle (with time difference etc)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227272692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227272913","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227272913","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227272913,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI3MjkxMw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:19:47Z","updated_at":"2016-06-20T21:19:47Z","author_association":"CONTRIBUTOR","body":"@mjsax timeNanos is of course more precise than timeMillis, but often more expensive depending on the OS as well. It was originally timeNanos and I replaced it with timeMillis trying to make it cheaper while trading accuracy; and since Greg reported that it is actually not the main fraction of the overhead I said I'll change it back.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227272913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227273819","html_url":"https://github.com/apache/kafka/pull/1529#issuecomment-227273819","issue_url":"https://api.github.com/repos/apache/kafka/issues/1529","id":227273819,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI3MzgxOQ==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:23:06Z","updated_at":"2016-06-20T21:23:06Z","author_association":"MEMBER","body":"Please review anyof @guozhangwang @dguy @enothereska @miguno \n(I update `TimeWindowsTest` for proper JUnit assert usage because I used it as template for `JoinWindowsTest` -- if you think those changes are not required, I can revert them)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227273819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227274763","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227274763","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227274763,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI3NDc2Mw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:26:55Z","updated_at":"2016-06-20T21:26:55Z","author_association":"CONTRIBUTOR","body":"@miguno @mjsax @dguy @ijuma @gfodor Thanks for all the helpful feedbacks! I agree that sampling / average-on-batching should be considered only as a last resort for reducing overheads, and based on that this is what I am going to do in this PR and possibly in the future:\n1. Move to per-thread sensors without having a global per-instance sensor reporting.\n2. [In the future] If we observe that users want to have global per-instance sensor reporting out-of-the-box, fix KAFKA-3115 and add the per-instance sensor as the parent over all per-thread sensors (note that it is already supported in `Sensor` today).\n3. [In the future] If we still observe high overhead of metrics reporting after KAFKA-3115 is fixed. Consider sampling for a subset of frequent sensors like process-latency.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227274763/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227275470","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227275470","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227275470,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI3NTQ3MA==","user":{"login":"granthenke","id":1928566,"node_id":"MDQ6VXNlcjE5Mjg1NjY=","avatar_url":"https://avatars.githubusercontent.com/u/1928566?v=4","gravatar_id":"","url":"https://api.github.com/users/granthenke","html_url":"https://github.com/granthenke","followers_url":"https://api.github.com/users/granthenke/followers","following_url":"https://api.github.com/users/granthenke/following{/other_user}","gists_url":"https://api.github.com/users/granthenke/gists{/gist_id}","starred_url":"https://api.github.com/users/granthenke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granthenke/subscriptions","organizations_url":"https://api.github.com/users/granthenke/orgs","repos_url":"https://api.github.com/users/granthenke/repos","events_url":"https://api.github.com/users/granthenke/events{/privacy}","received_events_url":"https://api.github.com/users/granthenke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:29:43Z","updated_at":"2016-06-20T21:29:43Z","author_association":"MEMBER","body":"I haven't seen a case or report why the current value could be or is problematic. What reason do we have to change it? Is there zero risk in changing it? \n\nIf my understanding is correct, increasing the timeout above the request timeout or metadata timeout just means that the looping will now move from MM to the [while loop inside of the Consumer](https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/consumer/KafkaConsumer.java#L936) because of [how the Network client poll works](https://github.com/apache/kafka/blob/trunk/clients/src/main/java/org/apache/kafka/clients/NetworkClient.java#L257). \n\nBecause request.timeout.ms defaults to 30 seconds and metadata.max.age.ms defaults to 5 minutes. I think the longest we would be saving a CPU cycle is 30 seconds regardless of the poll timeout. I could be interpreting the code wrong though. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227275470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227276393","html_url":"https://github.com/apache/kafka/pull/1502#issuecomment-227276393","issue_url":"https://api.github.com/repos/apache/kafka/issues/1502","id":227276393,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI3NjM5Mw==","user":{"login":"Ishiihara","id":1189848,"node_id":"MDQ6VXNlcjExODk4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1189848?v=4","gravatar_id":"","url":"https://api.github.com/users/Ishiihara","html_url":"https://github.com/Ishiihara","followers_url":"https://api.github.com/users/Ishiihara/followers","following_url":"https://api.github.com/users/Ishiihara/following{/other_user}","gists_url":"https://api.github.com/users/Ishiihara/gists{/gist_id}","starred_url":"https://api.github.com/users/Ishiihara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ishiihara/subscriptions","organizations_url":"https://api.github.com/users/Ishiihara/orgs","repos_url":"https://api.github.com/users/Ishiihara/repos","events_url":"https://api.github.com/users/Ishiihara/events{/privacy}","received_events_url":"https://api.github.com/users/Ishiihara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:33:23Z","updated_at":"2016-06-20T21:34:41Z","author_association":"CONTRIBUTOR","body":"@hachikuji Thanks for the review and I just realized that we have a JIRA for this. PTAL.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227276393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227277576","html_url":"https://github.com/apache/kafka/pull/1525#issuecomment-227277576","issue_url":"https://api.github.com/repos/apache/kafka/issues/1525","id":227277576,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI3NzU3Ng==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T21:38:01Z","updated_at":"2016-06-20T21:38:01Z","author_association":"CONTRIBUTOR","body":"Merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227277576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227285157","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227285157","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227285157,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI4NTE1Nw==","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T22:09:20Z","updated_at":"2016-06-20T22:09:20Z","author_association":"CONTRIBUTOR","body":"@granthenke this came up as a related question from customer. I think what we are comparing here is, poll every second even if no data is arriving, vs return when sufficient amount of data has arrived (which is configurable). Sure, it is not going to save significant amount of CPU and that is stated in previous comments. I agree that this change is not improving behavior of MM by a lot, and so if there is some risk associated with it, we should drop the change. However, I will be interested to know what risk you see with the suggested change.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227285157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227287236","html_url":"https://github.com/apache/kafka/pull/861#issuecomment-227287236","issue_url":"https://api.github.com/repos/apache/kafka/issues/861","id":227287236,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI4NzIzNg==","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T22:19:02Z","updated_at":"2016-06-20T22:19:02Z","author_association":"CONTRIBUTOR","body":"@ewencp it passes each time with Java8, however frequently, but not always, fails on 1.7. I am looking into the test failures. Did you see the errors with Java 7 or 8?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227287236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227287503","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227287503","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227287503,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI4NzUwMw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T22:20:20Z","updated_at":"2016-06-20T22:20:20Z","author_association":"CONTRIBUTOR","body":"Yeah, I'm a little doubtful of any real CPU impact. As Grant mentions, the consumer hides its own loop behind the poll API, and the frequency is bound basically by the heartbeat interval. That said, I tend to see polling with a large timeout as a better pattern, though this is largely my own preference. It would let us drop the hasNext() check on the following line, but it seems not too big of a deal either way.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227287503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227287699","html_url":"https://github.com/apache/kafka/pull/861#issuecomment-227287699","issue_url":"https://api.github.com/repos/apache/kafka/issues/861","id":227287699,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI4NzY5OQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T22:21:12Z","updated_at":"2016-06-20T22:21:12Z","author_association":"CONTRIBUTOR","body":"@SinghAsDev JDK 7\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227287699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227290043","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227290043","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227290043,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzI5MDA0Mw==","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T22:32:07Z","updated_at":"2016-06-20T22:32:07Z","author_association":"CONTRIBUTOR","body":"I can be convinced either ways on this. Let's wait on @becketqin feedback as well, and we can close it accordingly.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227290043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227300071","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227300071","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227300071,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwMDA3MQ==","user":{"login":"aartigupta","id":3031383,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMwMzEzODM=","avatar_url":"https://avatars.githubusercontent.com/u/3031383?v=4","gravatar_id":"","url":"https://api.github.com/users/aartigupta","html_url":"https://github.com/aartigupta","followers_url":"https://api.github.com/users/aartigupta/followers","following_url":"https://api.github.com/users/aartigupta/following{/other_user}","gists_url":"https://api.github.com/users/aartigupta/gists{/gist_id}","starred_url":"https://api.github.com/users/aartigupta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aartigupta/subscriptions","organizations_url":"https://api.github.com/users/aartigupta/orgs","repos_url":"https://api.github.com/users/aartigupta/repos","events_url":"https://api.github.com/users/aartigupta/events{/privacy}","received_events_url":"https://api.github.com/users/aartigupta/received_events","type":"Organization","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T23:29:34Z","updated_at":"2016-06-20T23:29:34Z","author_association":"NONE","body":"If we decide to move to per thread sensors,(no global per instance recording)  do we still need KAFKA-3811 (Introduce Kafka Streams metrics recording levels)\nhttps://issues.apache.org/jira/browse/KAFKA-3811\n\n---\n\nProposal from guozhangwang:\n\nThe proposal is to introduce configuration to control the granularity/volumes of metrics emitted by Kafka Streams jobs, since the per-record level metrics introduce non-trivial overhead and are possibly less useful once a job has been optimized. \n\nlevel0 (stream thread global): per-record process / punctuate latency, commit latency, poll latency, etc\n\nlevel1 (per processor node, and per state store): IO latency, per-record .. latency, forward throughput, etc.\n\nAnd by default we only turn on level0.\n\n---\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227300071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227300399","html_url":"https://github.com/apache/kafka/pull/1530#issuecomment-227300399","issue_url":"https://api.github.com/repos/apache/kafka/issues/1530","id":227300399,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwMDM5OQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T23:31:42Z","updated_at":"2016-06-20T23:31:42Z","author_association":"CONTRIBUTOR","body":"Also optimized away extra `CurrentTimeMillis` calls and some minor fixes. Ping @ijuma @miguno @mjsax @dguy @junrao .\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227300399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227300493","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227300493","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227300493,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwMDQ5Mw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T23:32:16Z","updated_at":"2016-06-20T23:32:16Z","author_association":"CONTRIBUTOR","body":"Replacing this PR with #1530\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227300493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227300812","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227300812","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227300812,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwMDgxMg==","user":{"login":"gfodor","id":220020,"node_id":"MDQ6VXNlcjIyMDAyMA==","avatar_url":"https://avatars.githubusercontent.com/u/220020?v=4","gravatar_id":"","url":"https://api.github.com/users/gfodor","html_url":"https://github.com/gfodor","followers_url":"https://api.github.com/users/gfodor/followers","following_url":"https://api.github.com/users/gfodor/following{/other_user}","gists_url":"https://api.github.com/users/gfodor/gists{/gist_id}","starred_url":"https://api.github.com/users/gfodor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gfodor/subscriptions","organizations_url":"https://api.github.com/users/gfodor/orgs","repos_url":"https://api.github.com/users/gfodor/repos","events_url":"https://api.github.com/users/gfodor/events{/privacy}","received_events_url":"https://api.github.com/users/gfodor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T23:34:09Z","updated_at":"2016-06-20T23:34:09Z","author_association":"CONTRIBUTOR","body":"@aartigupta doesn't seem so if this shows in a profiler to resolve the issue. @guozhangwang are there any tests in place that have been able to reproduce the issue beyond my profiling of our job in production? if not it seems like maybe taking one of the existing load tests and cranking up the threads might be a good first attempt. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227300812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227301022","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227301022","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227301022,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwMTAyMg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T23:35:32Z","updated_at":"2016-06-20T23:35:32Z","author_association":"CONTRIBUTOR","body":"@aartigupta I think KAFKA-3811 is to have finer-grained metrics at the per-processor-node level, which is semi-orthogonal to this PR, right? More specifically, I would imagine the hierarchy in the future would be:\n\nlevel0: KafkaStreams instance-level metrics.\nlevel1: per-thread metrics within a single KafkaStreams instance.\nlevel2: per-processor-node / state-store metrics within a single thread.\n...\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227301022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227301155","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227301155","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227301155,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwMTE1NQ==","user":{"login":"gfodor","id":220020,"node_id":"MDQ6VXNlcjIyMDAyMA==","avatar_url":"https://avatars.githubusercontent.com/u/220020?v=4","gravatar_id":"","url":"https://api.github.com/users/gfodor","html_url":"https://github.com/gfodor","followers_url":"https://api.github.com/users/gfodor/followers","following_url":"https://api.github.com/users/gfodor/following{/other_user}","gists_url":"https://api.github.com/users/gfodor/gists{/gist_id}","starred_url":"https://api.github.com/users/gfodor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gfodor/subscriptions","organizations_url":"https://api.github.com/users/gfodor/orgs","repos_url":"https://api.github.com/users/gfodor/repos","events_url":"https://api.github.com/users/gfodor/events{/privacy}","received_events_url":"https://api.github.com/users/gfodor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-20T23:36:18Z","updated_at":"2016-06-20T23:36:18Z","author_association":"CONTRIBUTOR","body":"I'll admit I'm still a little nervous that it sounds like nobody has reproduced this issue besides me -- nor has anyone been able to confirm if this is indeed a contention issue or instead CPU burn inside of the other loops inside of Sensor.record. It seems unlikely it's not the contention, but it'd be nice to be sure :)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227301155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227306696","html_url":"https://github.com/apache/kafka/pull/1336#issuecomment-227306696","issue_url":"https://api.github.com/repos/apache/kafka/issues/1336","id":227306696,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwNjY5Ng==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T00:12:42Z","updated_at":"2016-06-21T07:01:24Z","author_association":"CONTRIBUTOR","body":"@junrao @hachikuji Thank you very much for your careful review and feedback. I made some changes in the new patch based on the feedback received.\n\n@junrao The only part that is outstanding in addressing your feedback is [your comment about how to find members with no topic partition](https://github.com/apache/kafka/pull/1336#discussion_r67726141). I responded to your comment and will wait for your clarification as I may be missing something.\n\n@hachikuji Both approaches you suggested for designing unit tests for this patch should work. Parsing the output and writing assertions based on that would be faster but probably not the cleaner option, in my opinion. Separating the logic from reporting seems more reasonable to me but it would require more time and thinking. I can take either direction once I hear your (and others') feedback about it.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227306696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227308133","html_url":"https://github.com/apache/kafka/pull/1531#issuecomment-227308133","issue_url":"https://api.github.com/repos/apache/kafka/issues/1531","id":227308133,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwODEzMw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T00:23:27Z","updated_at":"2016-06-21T00:23:27Z","author_association":"CONTRIBUTOR","body":"Ping @ewencp \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227308133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227308221","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227308221","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227308221,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMwODIyMQ==","user":{"login":"aartigupta","id":3031383,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMwMzEzODM=","avatar_url":"https://avatars.githubusercontent.com/u/3031383?v=4","gravatar_id":"","url":"https://api.github.com/users/aartigupta","html_url":"https://github.com/aartigupta","followers_url":"https://api.github.com/users/aartigupta/followers","following_url":"https://api.github.com/users/aartigupta/following{/other_user}","gists_url":"https://api.github.com/users/aartigupta/gists{/gist_id}","starred_url":"https://api.github.com/users/aartigupta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aartigupta/subscriptions","organizations_url":"https://api.github.com/users/aartigupta/orgs","repos_url":"https://api.github.com/users/aartigupta/repos","events_url":"https://api.github.com/users/aartigupta/events{/privacy}","received_events_url":"https://api.github.com/users/aartigupta/received_events","type":"Organization","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T00:24:03Z","updated_at":"2016-06-21T00:24:03Z","author_association":"NONE","body":"@guozhangwang thanks for the clarification, \n\nThere are two related PRs.\nhttps://issues.apache.org/jira/browse/KAFKA-3715 Higher granularity streams metrics\nhttps://issues.apache.org/jira/browse/KAFKA-3811 Introduce Kafka Streams metrics recording levels\n\nThe following hierarchy makes sense but I wonder what all level 0 would include? (since process / punctuate latency, commit latency, poll latency have now been moved to per stream thread measurement only?)\n\nlevel0: KafkaStreams instance-level metrics.\nlevel1: per-thread metrics within a single KafkaStreams instance.\nlevel2: per-processor-node / state-store metrics within a single thread.\n\n@gfodor, maybe i am being naive here but I found the profiling results using Yourkit profiler inconclusive over runs using SmipleBenchmark\n\nsee https://github.com/apache/kafka/pull/1446#issuecomment-225488213\n\n@guozhangwang do you have any suggestions on which tests /scenarios make a good example of load tests. I can use that to help in profiling the code you have in this PR, and use the same example to profile the per node metrics addition in  KAFKA-3715. (i.e. profile the same scenario with and without the metrics recorded at each level)\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227308221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227310487","html_url":"https://github.com/apache/kafka/pull/1531#issuecomment-227310487","issue_url":"https://api.github.com/repos/apache/kafka/issues/1531","id":227310487,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMxMDQ4Nw==","user":{"login":"Ishiihara","id":1189848,"node_id":"MDQ6VXNlcjExODk4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1189848?v=4","gravatar_id":"","url":"https://api.github.com/users/Ishiihara","html_url":"https://github.com/Ishiihara","followers_url":"https://api.github.com/users/Ishiihara/followers","following_url":"https://api.github.com/users/Ishiihara/following{/other_user}","gists_url":"https://api.github.com/users/Ishiihara/gists{/gist_id}","starred_url":"https://api.github.com/users/Ishiihara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ishiihara/subscriptions","organizations_url":"https://api.github.com/users/Ishiihara/orgs","repos_url":"https://api.github.com/users/Ishiihara/repos","events_url":"https://api.github.com/users/Ishiihara/events{/privacy}","received_events_url":"https://api.github.com/users/Ishiihara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T00:40:50Z","updated_at":"2016-06-21T00:40:50Z","author_association":"CONTRIBUTOR","body":"Making the changes to synchronous is less sensitive to timing. I think It should be fine as unit tests are checking the correctness for basic cases. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227310487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227313879","html_url":"https://github.com/apache/kafka/pull/1531#issuecomment-227313879","issue_url":"https://api.github.com/repos/apache/kafka/issues/1531","id":227313879,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMxMzg3OQ==","user":{"login":"Ishiihara","id":1189848,"node_id":"MDQ6VXNlcjExODk4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1189848?v=4","gravatar_id":"","url":"https://api.github.com/users/Ishiihara","html_url":"https://github.com/Ishiihara","followers_url":"https://api.github.com/users/Ishiihara/followers","following_url":"https://api.github.com/users/Ishiihara/following{/other_user}","gists_url":"https://api.github.com/users/Ishiihara/gists{/gist_id}","starred_url":"https://api.github.com/users/Ishiihara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Ishiihara/subscriptions","organizations_url":"https://api.github.com/users/Ishiihara/orgs","repos_url":"https://api.github.com/users/Ishiihara/repos","events_url":"https://api.github.com/users/Ishiihara/events{/privacy}","received_events_url":"https://api.github.com/users/Ishiihara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T01:06:39Z","updated_at":"2016-06-21T01:06:39Z","author_association":"CONTRIBUTOR","body":"As discussed offline with @hachikuji, the addition of `future.get()` is to ensure that the exception thrown by the executor is propagated.  Also it is not safe to throw the `InterruptedException` as the flag set by the exception is only cleared with next `awaitLatch`. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227313879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227331565","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227331565","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227331565,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMzMTU2NQ==","user":{"login":"xiaotao183","id":706267,"node_id":"MDQ6VXNlcjcwNjI2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/706267?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaotao183","html_url":"https://github.com/xiaotao183","followers_url":"https://api.github.com/users/xiaotao183/followers","following_url":"https://api.github.com/users/xiaotao183/following{/other_user}","gists_url":"https://api.github.com/users/xiaotao183/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaotao183/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaotao183/subscriptions","organizations_url":"https://api.github.com/users/xiaotao183/orgs","repos_url":"https://api.github.com/users/xiaotao183/repos","events_url":"https://api.github.com/users/xiaotao183/events{/privacy}","received_events_url":"https://api.github.com/users/xiaotao183/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T03:29:54Z","updated_at":"2016-06-21T03:35:08Z","author_association":"CONTRIBUTOR","body":"Increasing the poll time to `Long.MAX_VALUE` would have impact on offset commit especially for low volume topic. Any uncommitted messages before entering `poll(Long.MAX_VALUE)` will not be committed until a new message arrives.  We actually breaks the contract of `offset.commit.interval.ms`\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227331565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227331719","html_url":"https://github.com/apache/kafka/pull/1531#issuecomment-227331719","issue_url":"https://api.github.com/repos/apache/kafka/issues/1531","id":227331719,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMzMTcxOQ==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T03:31:15Z","updated_at":"2016-06-21T03:31:15Z","author_association":"CONTRIBUTOR","body":"LGTM. Will merge to both trunk and 0.10.0 since it just cleans up the unit test and should hopefully help w/ stability of 0.10.0 builds too.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227331719/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227335748","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227335748","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227335748,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzMzNTc0OA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T04:09:07Z","updated_at":"2016-06-21T04:09:07Z","author_association":"CONTRIBUTOR","body":"@xiaotao183 Great point. It seems we could either leave this as it is or we could use `offset.commit.interval.ms` as the timeout passed to `poll()`. It's probably also worth adding a comment in the code explaining the dependence so that we're not tempted to make the same change again in the future.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227335748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227343926","html_url":"https://github.com/apache/kafka/pull/922#issuecomment-227343926","issue_url":"https://api.github.com/repos/apache/kafka/issues/922","id":227343926,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM0MzkyNg==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T05:27:12Z","updated_at":"2016-06-21T05:27:12Z","author_association":"CONTRIBUTOR","body":"LGTM (@vahidhashemian don't worry too much about the PR builder results, we know they are flaky atm and I just did some tests locally). Thanks!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227343926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227349194","html_url":"https://github.com/apache/kafka/pull/1533#issuecomment-227349194","issue_url":"https://api.github.com/repos/apache/kafka/issues/1533","id":227349194,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM0OTE5NA==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T06:09:23Z","updated_at":"2016-06-21T06:09:23Z","author_association":"CONTRIBUTOR","body":"@ijuma could you have a look? Thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227349194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227355634","html_url":"https://github.com/apache/kafka/pull/922#issuecomment-227355634","issue_url":"https://api.github.com/repos/apache/kafka/issues/922","id":227355634,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM1NTYzNA==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T06:54:02Z","updated_at":"2016-06-21T06:54:02Z","author_association":"CONTRIBUTOR","body":"Thanks @ewencp.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227355634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227356561","html_url":"https://github.com/apache/kafka/pull/1529#issuecomment-227356561","issue_url":"https://api.github.com/repos/apache/kafka/issues/1529","id":227356561,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM1NjU2MQ==","user":{"login":"miguno","id":294849,"node_id":"MDQ6VXNlcjI5NDg0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/294849?v=4","gravatar_id":"","url":"https://api.github.com/users/miguno","html_url":"https://github.com/miguno","followers_url":"https://api.github.com/users/miguno/followers","following_url":"https://api.github.com/users/miguno/following{/other_user}","gists_url":"https://api.github.com/users/miguno/gists{/gist_id}","starred_url":"https://api.github.com/users/miguno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguno/subscriptions","organizations_url":"https://api.github.com/users/miguno/orgs","repos_url":"https://api.github.com/users/miguno/repos","events_url":"https://api.github.com/users/miguno/events{/privacy}","received_events_url":"https://api.github.com/users/miguno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T06:59:23Z","updated_at":"2016-06-21T06:59:23Z","author_association":"CONTRIBUTOR","body":"We may also need to update the javadocs of `JoinWindows`, notably the class-level javadocs.  For example, we should explain the contract of window sizes (e.g. must not be negative).\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227356561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227359021","html_url":"https://github.com/apache/kafka/pull/1530#issuecomment-227359021","issue_url":"https://api.github.com/repos/apache/kafka/issues/1530","id":227359021,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM1OTAyMQ==","user":{"login":"miguno","id":294849,"node_id":"MDQ6VXNlcjI5NDg0OQ==","avatar_url":"https://avatars.githubusercontent.com/u/294849?v=4","gravatar_id":"","url":"https://api.github.com/users/miguno","html_url":"https://github.com/miguno","followers_url":"https://api.github.com/users/miguno/followers","following_url":"https://api.github.com/users/miguno/following{/other_user}","gists_url":"https://api.github.com/users/miguno/gists{/gist_id}","starred_url":"https://api.github.com/users/miguno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/miguno/subscriptions","organizations_url":"https://api.github.com/users/miguno/orgs","repos_url":"https://api.github.com/users/miguno/repos","events_url":"https://api.github.com/users/miguno/events{/privacy}","received_events_url":"https://api.github.com/users/miguno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T07:13:58Z","updated_at":"2016-06-21T07:13:58Z","author_association":"CONTRIBUTOR","body":"Why no unit tests for the metrics functionality?  If we feel collecting metrics is important, we should also verify that we are collecting them correctly, no?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227359021/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227371162","html_url":"https://github.com/apache/kafka/pull/1533#issuecomment-227371162","issue_url":"https://api.github.com/repos/apache/kafka/issues/1533","id":227371162,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM3MTE2Mg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T08:14:25Z","updated_at":"2016-06-21T08:14:25Z","author_association":"MEMBER","body":"LGTM if the tests pass.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227371162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227377029","html_url":"https://github.com/apache/kafka/pull/1530#issuecomment-227377029","issue_url":"https://api.github.com/repos/apache/kafka/issues/1530","id":227377029,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM3NzAyOQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T08:41:01Z","updated_at":"2016-06-21T08:41:01Z","author_association":"MEMBER","body":"Do we have some numbers on the impact of this change? Personally, I think changes motivated by performance need to be backed by numbers so that we can justify them. Otherwise, it's like flying blind.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227377029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227377187","html_url":"https://github.com/apache/kafka/pull/1446#issuecomment-227377187","issue_url":"https://api.github.com/repos/apache/kafka/issues/1446","id":227377187,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM3NzE4Nw==","user":{"login":"gfodor","id":220020,"node_id":"MDQ6VXNlcjIyMDAyMA==","avatar_url":"https://avatars.githubusercontent.com/u/220020?v=4","gravatar_id":"","url":"https://api.github.com/users/gfodor","html_url":"https://github.com/gfodor","followers_url":"https://api.github.com/users/gfodor/followers","following_url":"https://api.github.com/users/gfodor/following{/other_user}","gists_url":"https://api.github.com/users/gfodor/gists{/gist_id}","starred_url":"https://api.github.com/users/gfodor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gfodor/subscriptions","organizations_url":"https://api.github.com/users/gfodor/orgs","repos_url":"https://api.github.com/users/gfodor/repos","events_url":"https://api.github.com/users/gfodor/events{/privacy}","received_events_url":"https://api.github.com/users/gfodor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T08:41:38Z","updated_at":"2016-06-21T08:41:38Z","author_association":"CONTRIBUTOR","body":"hey @aartigupta it's kind of hard to tell based on your screenshots where the time is going since I don't see any drilldown into the call stacks of the StreamThread run loops. It's probably necessary for you to flip things on in the YourKit profiler so you can get the full call stacks and determine if `Sensor.record` is the source of most of the time.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227377187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227393777","html_url":"https://github.com/apache/kafka/pull/1529#issuecomment-227393777","issue_url":"https://api.github.com/repos/apache/kafka/issues/1529","id":227393777,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM5Mzc3Nw==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T09:53:14Z","updated_at":"2016-06-21T09:53:14Z","author_association":"MEMBER","body":"@miguno Added a line to the class JavaDoc.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227393777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227396052","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227396052","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227396052,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzM5NjA1Mg==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T10:03:49Z","updated_at":"2016-06-21T10:03:49Z","author_association":"MEMBER","body":"I don't think there is more noise than before... The name parameter is only \"moved\" from the window to the operator what is more intuitive anyway.\nAbout making the name an optional parameter: I think, people might not know if they want to query a state or not when designing/coding the application (or change their mind later on). So having explicit names seems to be better.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227396052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227413473","html_url":"https://github.com/apache/kafka/pull/1532#issuecomment-227413473","issue_url":"https://api.github.com/repos/apache/kafka/issues/1532","id":227413473,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzQxMzQ3Mw==","user":{"login":"bbejeck","id":199238,"node_id":"MDQ6VXNlcjE5OTIzOA==","avatar_url":"https://avatars.githubusercontent.com/u/199238?v=4","gravatar_id":"","url":"https://api.github.com/users/bbejeck","html_url":"https://github.com/bbejeck","followers_url":"https://api.github.com/users/bbejeck/followers","following_url":"https://api.github.com/users/bbejeck/following{/other_user}","gists_url":"https://api.github.com/users/bbejeck/gists{/gist_id}","starred_url":"https://api.github.com/users/bbejeck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbejeck/subscriptions","organizations_url":"https://api.github.com/users/bbejeck/orgs","repos_url":"https://api.github.com/users/bbejeck/repos","events_url":"https://api.github.com/users/bbejeck/events{/privacy}","received_events_url":"https://api.github.com/users/bbejeck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T11:32:41Z","updated_at":"2016-06-21T11:32:41Z","author_association":"MEMBER","body":"@guozhangwang - please review when you have time.\n\nThanks!\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227413473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227432312","html_url":"https://github.com/apache/kafka/pull/1534#issuecomment-227432312","issue_url":"https://api.github.com/repos/apache/kafka/issues/1534","id":227432312,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzQzMjMxMg==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T13:02:06Z","updated_at":"2016-06-21T13:02:06Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227432312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227432573","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227432573","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227432573,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzQzMjU3Mw==","user":{"login":"mjsax","id":8959638,"node_id":"MDQ6VXNlcjg5NTk2Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/8959638?v=4","gravatar_id":"","url":"https://api.github.com/users/mjsax","html_url":"https://github.com/mjsax","followers_url":"https://api.github.com/users/mjsax/followers","following_url":"https://api.github.com/users/mjsax/following{/other_user}","gists_url":"https://api.github.com/users/mjsax/gists{/gist_id}","starred_url":"https://api.github.com/users/mjsax/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjsax/subscriptions","organizations_url":"https://api.github.com/users/mjsax/orgs","repos_url":"https://api.github.com/users/mjsax/repos","events_url":"https://api.github.com/users/mjsax/events{/privacy}","received_events_url":"https://api.github.com/users/mjsax/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T13:03:11Z","updated_at":"2016-06-21T13:03:11Z","author_association":"MEMBER","body":"@enothereska Please update `docs/streams.html`, too.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227432573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227503027","html_url":"https://github.com/apache/kafka/pull/1336#issuecomment-227503027","issue_url":"https://api.github.com/repos/apache/kafka/issues/1336","id":227503027,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUwMzAyNw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T16:56:47Z","updated_at":"2016-06-21T16:56:47Z","author_association":"CONTRIBUTOR","body":"@vahidhashemian Yeah, I agree that separating the logic would make testing easier. It's more painful now, but making the code more testable would probably pay off in the long run. I wonder if we could introduce a simple trait to encapsulate the output writing. For example:\n\n``` scala\ntrait OutputWriter {\n  def printError(msg)\n  def printAssignmentHeader()\n  def printAssignment(topic, partition, memberId,.... etc)\n}\n```\n\nThen we could test the command using a mock implementation. Anyway, if the level of effort to get some basic coverage using this or another pattern is not too high, I'd suggest we do it here. Otherwise, we could create a followup JIRA.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227503027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227504325","html_url":"https://github.com/apache/kafka/pull/1517#issuecomment-227504325","issue_url":"https://api.github.com/repos/apache/kafka/issues/1517","id":227504325,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUwNDMyNQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T17:01:07Z","updated_at":"2016-06-21T17:01:07Z","author_association":"CONTRIBUTOR","body":"Copying some of my comments in the reprocessing wiki page here:\n\n```\nOne problem with the \"cleanup\" API proposed in KAFKA-3185 is that, step 1) delete internal kafka topics / 2) delete application committed offsets / 3) cleanup user topics, as listed in manual cleanup would better be triggered only once on one of the instances, whereas step 4): local state store data can be cleaned up separately on each instance. But requiring users to specify all the internal topic names like we did in the script is a bit too much for users.\n\nAnd another thing is that, regarding step 3), it is not clear in the auto clean-up scenario that it should be handled by Kafka Streams or users should worry about those themselves. More specifically, delete-then-recreate may not be the proper approach for all use cases.\n\nSo thinking it a bit more, now I'm thinking maybe we can do sth. like the following:\nMake KafkaStreams.cleanup() only do the local cleanup (i.e. step 4) by deleting everything under the application id sub-directory, which is required to be called only after KafkaStreams.close().\nAdd a new admin tool for cleaning up the application-related Kafka topics as well as their offsets, given the specific application id, but no need the topic names, since we can list all topics in Kafka, and delete those with application id as prefix and -changelog and -repartition as suffix; this may have some risks of deleting non-application-owned topics but should work perfectly for most of the cases; and in the future when we introduce hierarchical topics (https://cwiki.apache.org/confluence/display/KAFKA/Hierarchical+Topics) it will be completely safe to do.\nThen use delete-offset request to delete topics admin as in KAFKA-3059 to delete the offsets for all user / internal topics as well.\nThe usage pattern then is that, users first call KS.close() on all instances, and then KS.cleanup() on all instances, and then trigger this tool for step 1) and 2), and then handle their own topics as per their own needs, truncating or deleting or anything else. This pattern can be encoded in users' source manager or their own stream job management tooling (like in C3, for example).\n```\n\n@mjsax What do you think about the above proposal? I'm not suggesting we should necessarily considering doing the above pattern in this script, as the current approach is supposed only for development cycles and hence requiring it to be called on each instance would be OK because most likely there will be only one instance. But moving forward we could benefit from only requiring to call the admin tool only once.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227504325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227505460","html_url":"https://github.com/apache/kafka/pull/1529#issuecomment-227505460","issue_url":"https://api.github.com/repos/apache/kafka/issues/1529","id":227505460,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUwNTQ2MA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T17:05:11Z","updated_at":"2016-06-21T17:05:11Z","author_association":"CONTRIBUTOR","body":"Just clarifying, with JoinWindows specs both lower and higher boundary are inclusive, while for TimeWindows it is lower inclusive, higher exclusive, right?\n\nAlso @mjsax could you resolve the conflicts?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227505460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227517266","html_url":"https://github.com/apache/kafka/pull/1535#issuecomment-227517266","issue_url":"https://api.github.com/repos/apache/kafka/issues/1535","id":227517266,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUxNzI2Ng==","user":{"login":"edoardocomar","id":6661532,"node_id":"MDQ6VXNlcjY2NjE1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6661532?v=4","gravatar_id":"","url":"https://api.github.com/users/edoardocomar","html_url":"https://github.com/edoardocomar","followers_url":"https://api.github.com/users/edoardocomar/followers","following_url":"https://api.github.com/users/edoardocomar/following{/other_user}","gists_url":"https://api.github.com/users/edoardocomar/gists{/gist_id}","starred_url":"https://api.github.com/users/edoardocomar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edoardocomar/subscriptions","organizations_url":"https://api.github.com/users/edoardocomar/orgs","repos_url":"https://api.github.com/users/edoardocomar/repos","events_url":"https://api.github.com/users/edoardocomar/events{/privacy}","received_events_url":"https://api.github.com/users/edoardocomar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T17:46:39Z","updated_at":"2016-06-21T17:46:39Z","author_association":"CONTRIBUTOR","body":"Please note this PR is a tentative approach to solve issue https://issues.apache.org/jira/browse/KAFKA-3727\n\ndeveloped with @mimaison \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227517266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227526350","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227526350","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227526350,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUyNjM1MA==","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T18:18:24Z","updated_at":"2016-06-21T18:18:24Z","author_association":"CONTRIBUTOR","body":"@xiaotao183 thanks for pointing it out. I agree with @hachikuji that we should add a comment in the code. Also, I am inclined towards using `offset.commit.interval.ms` as `poll()` timeout, which by default is a minute. Makes poll time configurable without adding a new config and does not have an infinite timeout. Does it sound reasonable to you @granthenke @hachikuji @xiaotao183 @becketqin ?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227526350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227528250","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227528250","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227528250,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUyODI1MA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T18:24:49Z","updated_at":"2016-06-21T18:24:49Z","author_association":"CONTRIBUTOR","body":"@SinghAsDev Sounds good to me.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227528250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227534878","html_url":"https://github.com/apache/kafka/pull/1533#issuecomment-227534878","issue_url":"https://api.github.com/repos/apache/kafka/issues/1533","id":227534878,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUzNDg3OA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T18:47:59Z","updated_at":"2016-06-21T18:47:59Z","author_association":"CONTRIBUTOR","body":"@ijuma @enothereska LGTM. This PR build seems stalled but not on any specific test case. Maybe we can trigger a bunch of Jenkins jobs and see if it re-occurs?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227534878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227536549","html_url":"https://github.com/apache/kafka/pull/1533#issuecomment-227536549","issue_url":"https://api.github.com/repos/apache/kafka/issues/1533","id":227536549,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUzNjU0OQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T18:53:46Z","updated_at":"2016-06-21T18:53:46Z","author_association":"MEMBER","body":"@guozhangwang seems like the build took too long for some reason. It's unrelated to this PR though as the streams tests didn't actually run.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227536549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227537046","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227537046","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227537046,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzUzNzA0Ng==","user":{"login":"granthenke","id":1928566,"node_id":"MDQ6VXNlcjE5Mjg1NjY=","avatar_url":"https://avatars.githubusercontent.com/u/1928566?v=4","gravatar_id":"","url":"https://api.github.com/users/granthenke","html_url":"https://github.com/granthenke","followers_url":"https://api.github.com/users/granthenke/followers","following_url":"https://api.github.com/users/granthenke/following{/other_user}","gists_url":"https://api.github.com/users/granthenke/gists{/gist_id}","starred_url":"https://api.github.com/users/granthenke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/granthenke/subscriptions","organizations_url":"https://api.github.com/users/granthenke/orgs","repos_url":"https://api.github.com/users/granthenke/repos","events_url":"https://api.github.com/users/granthenke/events{/privacy}","received_events_url":"https://api.github.com/users/granthenke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T18:55:26Z","updated_at":"2016-06-21T18:55:26Z","author_association":"MEMBER","body":"I won't get in the way of this change going in, but I am still unconvinced. \n\nThrough extended discussion, we found that there would have been a negative impact for a change with near 0 positive impact (that I know of). Who is to say there is not another thing we are not seeing or thinking of? Since there is no real benefit what is the value of this change and risk?\n\nI would love to see more Mirrormaker testing so that we can be confident in our changes. But as its stands today we have 2 ducktape tests (test_simple_end_to_end, test_bounce).\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227537046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227541518","html_url":"https://github.com/apache/kafka/pull/1515#issuecomment-227541518","issue_url":"https://api.github.com/repos/apache/kafka/issues/1515","id":227541518,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU0MTUxOA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T19:11:59Z","updated_at":"2016-06-21T19:11:59Z","author_association":"CONTRIBUTOR","body":"Actually I think changing the poll timeout to `offset.commit.interval.ms` is justifiable because of the same problem mentioned by @xiaotao183. If the user specifies 500ms, for example, then we won't actually be able to enforce it unless the poll timeout is any higher than that. Now, sub-second commit intervals are pretty unlikely in practice (I guess), but it still seems more appropriate to use the commit interval rather than a somewhat arbitrary hard-coded value. At the very least, we should add the comment to avoid making the same mistake again in the future.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227541518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227542909","html_url":"https://github.com/apache/kafka/pull/1534#issuecomment-227542909","issue_url":"https://api.github.com/repos/apache/kafka/issues/1534","id":227542909,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU0MjkwOQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T19:17:11Z","updated_at":"2016-06-21T19:17:11Z","author_association":"CONTRIBUTOR","body":"Nice find! LGTM. Merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227542909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227563388","html_url":"https://github.com/apache/kafka/pull/1533#issuecomment-227563388","issue_url":"https://api.github.com/repos/apache/kafka/issues/1533","id":227563388,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU2MzM4OA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T20:35:19Z","updated_at":"2016-06-21T20:35:19Z","author_association":"MEMBER","body":"Running the tests locally and if they pass, I will merge.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227563388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227568214","html_url":"https://github.com/apache/kafka/pull/1533#issuecomment-227568214","issue_url":"https://api.github.com/repos/apache/kafka/issues/1533","id":227568214,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU2ODIxNA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T20:52:43Z","updated_at":"2016-06-21T20:52:43Z","author_association":"MEMBER","body":"Merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227568214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227574583","html_url":"https://github.com/apache/kafka/pull/1532#issuecomment-227574583","issue_url":"https://api.github.com/repos/apache/kafka/issues/1532","id":227574583,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU3NDU4Mw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T21:15:54Z","updated_at":"2016-06-21T21:18:35Z","author_association":"CONTRIBUTOR","body":"A couple general comments:\n1. I think we can just merge the functions in `StreamsTestUtils` to `TestUtils` to make it centralized for all unit test util functions.\n2. There are some functions like `waitUntilMinKeyValueRecordsReceived` in `IntegrationTestUtils` that can just leverage the newly added `waitCondition` call.\n3. Can we also merge the functions in `StateTestUtils` into `TestUtils` and remove that class file? Note that some of the functions like `tempDir` already exist in `TestUtils`.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227574583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227578279","html_url":"https://github.com/apache/kafka/pull/1536#issuecomment-227578279","issue_url":"https://api.github.com/repos/apache/kafka/issues/1536","id":227578279,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU3ODI3OQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T21:29:39Z","updated_at":"2016-06-21T21:29:53Z","author_association":"MEMBER","body":"Thanks @vahidhashemian. I had a look and I think we could clean-up things a bit more in the following way:\n\nhttps://github.com/ijuma/kafka/commit/8eb57014ab5cfb24099031f19b66e769e5dada9e\n\nIt reduces a bit of duplication and handles the case where the user supplies a number that is too large for a `long` value correctly.\n\nWhat do you think?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227578279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227581939","html_url":"https://github.com/apache/kafka/pull/1536#issuecomment-227581939","issue_url":"https://api.github.com/repos/apache/kafka/issues/1536","id":227581939,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU4MTkzOQ==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T21:44:16Z","updated_at":"2016-06-21T21:44:16Z","author_association":"CONTRIBUTOR","body":"@ijuma Your changes look good to me. Should I borrow them to update this PR, or let you take over the patch? Thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227581939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227582356","html_url":"https://github.com/apache/kafka/pull/1536#issuecomment-227582356","issue_url":"https://api.github.com/repos/apache/kafka/issues/1536","id":227582356,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU4MjM1Ng==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T21:45:57Z","updated_at":"2016-06-21T21:45:57Z","author_association":"MEMBER","body":"Yes, just cherry-pick the commit or integrate in any way you prefer.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227582356/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227585995","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227585995","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227585995,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU4NTk5NQ==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T22:02:08Z","updated_at":"2016-06-21T22:31:23Z","author_association":"CONTRIBUTOR","body":"A few general comments:\n1. I think it is fine to enforce users to always specify the state store names, but there are two cases we are missing in this PR, hence making it not consistent throughout the DSL:\n   1) In `KGroupedTable` we also requires users to specify a `String name` as the resulted `KTable`'s name, since we are changing it to specific state store names we should probably do the same as well: this is as simple as renaming `name` to `storeName` and corresponding java doc string.\n   2) For `KTables` that are created from source topics, if they are materialized we use the source topic name directly as the state store names; and again to be consistent we should let users to be able to override their state store names as well.\n2. In windowed KStream joins we are requiring users to provide two state store names, but I'm wondering if we can just create one state store with one name, which includes two RocksDB instances, just like what we did for windowed state store with multiple segments, so that we can save one store name required?\n3. For auto-repartitioning, in `KTable.groupBy.agg` we set the re-partition topic as `appID-state_store_name-repartition` which is easy to understand and hence for users to debug and trouble shoot, while for `KStream.groupBy.agg` we set the re-partition topic as `appID-processor_name-repartition`, where processor_name is internally created, sth. like `KSTREAM-KEY-SELECT-0000000001`, and hence very hard to understand upon debugging. I think we should change it to use the pattern as we did for KTable as well since now the state store names are always specified for stream aggregations. Thoughts @dguy since you had just touched that part of the code?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227585995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227586242","html_url":"https://github.com/apache/kafka/pull/1536#issuecomment-227586242","issue_url":"https://api.github.com/repos/apache/kafka/issues/1536","id":227586242,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU4NjI0Mg==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T22:03:11Z","updated_at":"2016-06-21T22:03:11Z","author_association":"CONTRIBUTOR","body":"Thanks @ijuma. The PR is updated.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227586242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227591454","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227591454","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227591454,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU5MTQ1NA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T22:28:08Z","updated_at":"2016-06-21T22:28:08Z","author_association":"CONTRIBUTOR","body":"Re 2) above: thinking it a bit more, now I feel that is not a good idea since it may just make the internal state store APIs worse. Let's just keep the current APIs requiring two different state store names.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227591454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227592003","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227592003","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227592003,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU5MjAwMw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T22:30:53Z","updated_at":"2016-06-22T05:39:58Z","author_association":"CONTRIBUTOR","body":"Also about 1.2) above, today we only lazy-materialize the source KTable upon request, but letting users to override its state store name now it is better to always materialize the source KTable I think; this may introduce some unnecessary overhead but hopefully this case would be rare.\n\nEDIT: this is out of the scope of this PR, just mentioning it here so that we can discuss about whether we should do it as a follow-up task.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227592003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227599503","html_url":"https://github.com/apache/kafka/pull/1215#issuecomment-227599503","issue_url":"https://api.github.com/repos/apache/kafka/issues/1215","id":227599503,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzU5OTUwMw==","user":{"login":"junrao","id":132330,"node_id":"MDQ6VXNlcjEzMjMzMA==","avatar_url":"https://avatars.githubusercontent.com/u/132330?v=4","gravatar_id":"","url":"https://api.github.com/users/junrao","html_url":"https://github.com/junrao","followers_url":"https://api.github.com/users/junrao/followers","following_url":"https://api.github.com/users/junrao/following{/other_user}","gists_url":"https://api.github.com/users/junrao/gists{/gist_id}","starred_url":"https://api.github.com/users/junrao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junrao/subscriptions","organizations_url":"https://api.github.com/users/junrao/orgs","repos_url":"https://api.github.com/users/junrao/repos","events_url":"https://api.github.com/users/junrao/events{/privacy}","received_events_url":"https://api.github.com/users/junrao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T23:11:20Z","updated_at":"2016-06-21T23:11:20Z","author_association":"CONTRIBUTOR","body":"@becketqin : Thanks for the latest patch. I made another pass and left some comments. Most of them are minor though. Once you have addressed those, it would be good if you could run through our system tests and post some performance testing results on the jira. Ideally, we probably want to load some sizable amount of data on at least 2K - 4K partitions in a broker and see if there is any performance degradation.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227599503/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227602467","html_url":"https://github.com/apache/kafka/pull/1446#issuecomment-227602467","issue_url":"https://api.github.com/repos/apache/kafka/issues/1446","id":227602467,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYwMjQ2Nw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T23:29:08Z","updated_at":"2016-06-21T23:30:45Z","author_association":"CONTRIBUTOR","body":"Thanks @aartigupta , some general comments:\n1. For naming consistency as with other metrics objects, for finer grained metrics we tend to name the sensors as \"level-name.level-id.metrics-name\", for example in `SenderMetrics` we used `topic.[topic-name].records-per-batch` etc for per topic-level metrics and in `SelectorMetrics` we used `node-[node-id].bytes-sent` etc for per node-level metrics, and in my latest PR #1530 I was doing similar naming. You may already notice that this is for creating different sensors as we synchronize at the per-sensor basis, and since in producer / consumer we always has single-thread, today we do not have any contentions for the lock yet, and in Streams we are trying to add per-thread metrics and consider adding global metrics only after the syncrhonization is removed in KAFKA-3155 since as we have discussed in other PRs with multiple threads contention overhead can be large.\n2. Different metrics reporter has the freedom of constructing their reporting metrics name from the hierarchy of \"metrics-prefix, group-name, metrics-name, metrics-tags\" where metrics-prefix are \"kafka.producer\" / \"kafka.consumer\" / \"kafka.streams\" depending on which client library you are using. And in this case the sensor names are actually ignored as they are used internally of the metrics object for grouping different metrics only. For example in `JmxReporter` we create the mbeanName / attributeName as\n\n```\nmbean: \"metrics-prefix\": type=\"group-name\", \"tag1key\"=\"tag1value\", ..., \"tagNkey\"=\"tagNvalue\"\n    attribute1: \"metrics-name1\"\n    attribute2: \"metrics-name2\"\n    ...\n```\n\nSo we need to make sure that the hierarchy is sufficient for different reporters to differentiate these metrics in their own space.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227602467/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227603492","html_url":"https://github.com/apache/kafka/pull/1490#issuecomment-227603492","issue_url":"https://api.github.com/repos/apache/kafka/issues/1490","id":227603492,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYwMzQ5Mg==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T23:35:26Z","updated_at":"2016-06-21T23:35:34Z","author_association":"CONTRIBUTOR","body":"@aartigupta As I mentioned in my previous comment, the plan is to add the level0 metrics in the future as `parent` of the level1 metrics (note in `Sensor` class we can create lower-level sensors with multiple parent sensors:\n\n```\nSensor sensor(String name, MetricConfig config, long inactiveSensorExpirationTimeSeconds, Sensor... parents)..\n```\n\nso that when its own metrics gets updated, all its parent / hence ancestors' metrics also get updated), if we observed that there is a common need from users to let the library aggregate these per-thread metrics for them instead of themselves doing it, and after KAFKA-3115 is merged in so we can get rid of the contention overhead from multiple threads.\n\nI think the `SimpleBenchmark` is a good place for profiling, since its computation is light and hence can exaggerate metrics reporting overhead, but it also involves some state stores for recoding store-related latency metrics.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227603492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227604083","html_url":"https://github.com/apache/kafka/pull/1446#issuecomment-227604083","issue_url":"https://api.github.com/repos/apache/kafka/issues/1446","id":227604083,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYwNDA4Mw==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T23:39:13Z","updated_at":"2016-06-21T23:39:13Z","author_association":"CONTRIBUTOR","body":"Btw the `SimpleBenchmark` numbers are pretty low compared to my laptop (4GB memory, and low-end CPUs). What environment did you run the profiler?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227604083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227604407","html_url":"https://github.com/apache/kafka/pull/1519#issuecomment-227604407","issue_url":"https://api.github.com/repos/apache/kafka/issues/1519","id":227604407,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYwNDQwNw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T23:41:34Z","updated_at":"2016-06-21T23:41:34Z","author_association":"CONTRIBUTOR","body":"@ewencp Should be ready for another look. I'll run another branch build to be sure and link the results when it's done.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227604407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227605468","html_url":"https://github.com/apache/kafka/pull/1519#issuecomment-227605468","issue_url":"https://api.github.com/repos/apache/kafka/issues/1519","id":227605468,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYwNTQ2OA==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-21T23:48:27Z","updated_at":"2016-06-21T23:48:27Z","author_association":"CONTRIBUTOR","body":"By the way, perhaps we should duplicate these tests to run against the standalone herder. The implementations are fairly different, so it ought to have some value.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227605468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227610292","html_url":"https://github.com/apache/kafka/pull/1536#issuecomment-227610292","issue_url":"https://api.github.com/repos/apache/kafka/issues/1536","id":227610292,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYxMDI5Mg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T00:20:58Z","updated_at":"2016-06-22T00:20:58Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227610292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227613567","html_url":"https://github.com/apache/kafka/pull/1537#issuecomment-227613567","issue_url":"https://api.github.com/repos/apache/kafka/issues/1537","id":227613567,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYxMzU2Nw==","user":{"login":"shikhar","id":74267,"node_id":"MDQ6VXNlcjc0MjY3","avatar_url":"https://avatars.githubusercontent.com/u/74267?v=4","gravatar_id":"","url":"https://api.github.com/users/shikhar","html_url":"https://github.com/shikhar","followers_url":"https://api.github.com/users/shikhar/followers","following_url":"https://api.github.com/users/shikhar/following{/other_user}","gists_url":"https://api.github.com/users/shikhar/gists{/gist_id}","starred_url":"https://api.github.com/users/shikhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shikhar/subscriptions","organizations_url":"https://api.github.com/users/shikhar/orgs","repos_url":"https://api.github.com/users/shikhar/repos","events_url":"https://api.github.com/users/shikhar/events{/privacy}","received_events_url":"https://api.github.com/users/shikhar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T00:45:22Z","updated_at":"2016-06-22T00:45:22Z","author_association":"CONTRIBUTOR","body":"@ewencp for review\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227613567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227615361","html_url":"https://github.com/apache/kafka/pull/1532#issuecomment-227615361","issue_url":"https://api.github.com/repos/apache/kafka/issues/1532","id":227615361,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYxNTM2MQ==","user":{"login":"bbejeck","id":199238,"node_id":"MDQ6VXNlcjE5OTIzOA==","avatar_url":"https://avatars.githubusercontent.com/u/199238?v=4","gravatar_id":"","url":"https://api.github.com/users/bbejeck","html_url":"https://github.com/bbejeck","followers_url":"https://api.github.com/users/bbejeck/followers","following_url":"https://api.github.com/users/bbejeck/following{/other_user}","gists_url":"https://api.github.com/users/bbejeck/gists{/gist_id}","starred_url":"https://api.github.com/users/bbejeck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bbejeck/subscriptions","organizations_url":"https://api.github.com/users/bbejeck/orgs","repos_url":"https://api.github.com/users/bbejeck/repos","events_url":"https://api.github.com/users/bbejeck/events{/privacy}","received_events_url":"https://api.github.com/users/bbejeck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T00:58:43Z","updated_at":"2016-06-22T00:58:54Z","author_association":"MEMBER","body":"> I think we can just merge the functions in StreamsTestUtils to TestUtils to make it centralized for all unit test util functions.\n\n@guozhangwang \n\nI had originally wanted to do just that.  But the `StreamsConfig` class is not visible in `TestUtils`, due to the dependency structure of the `streams` and `clients` modules.  I agree it would be nice to centralize into `TestUtils`. I thought about moving `StreamsConfigs` into the `clients` module, but I wasn't sure if that made sense.  Any recommendations?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227615361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227617740","html_url":"https://github.com/apache/kafka/pull/1532#issuecomment-227617740","issue_url":"https://api.github.com/repos/apache/kafka/issues/1532","id":227617740,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYxNzc0MA==","user":{"login":"guozhangwang","id":10729597,"node_id":"MDQ6VXNlcjEwNzI5NTk3","avatar_url":"https://avatars.githubusercontent.com/u/10729597?v=4","gravatar_id":"","url":"https://api.github.com/users/guozhangwang","html_url":"https://github.com/guozhangwang","followers_url":"https://api.github.com/users/guozhangwang/followers","following_url":"https://api.github.com/users/guozhangwang/following{/other_user}","gists_url":"https://api.github.com/users/guozhangwang/gists{/gist_id}","starred_url":"https://api.github.com/users/guozhangwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guozhangwang/subscriptions","organizations_url":"https://api.github.com/users/guozhangwang/orgs","repos_url":"https://api.github.com/users/guozhangwang/repos","events_url":"https://api.github.com/users/guozhangwang/events{/privacy}","received_events_url":"https://api.github.com/users/guozhangwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T01:17:06Z","updated_at":"2016-06-22T01:17:06Z","author_association":"CONTRIBUTOR","body":"Ah I see. Yeah package dependency wise we would like `kafka-streams` to depend on `kafka-clients`, but not vice versa. In this case, let's keep the `StreamsTestUtils` for those util functions that need to depend on `kafka-streams` but leave others to `TestUtils`.\n\nAnd regarding 3) above I think we can still make the merge as it does not have any streams package dependency.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227617740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227617960","html_url":"https://github.com/apache/kafka/pull/1519#issuecomment-227617960","issue_url":"https://api.github.com/repos/apache/kafka/issues/1519","id":227617960,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYxNzk2MA==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T01:18:52Z","updated_at":"2016-06-22T01:18:52Z","author_association":"CONTRIBUTOR","body":"@hachikuji LGTM, let me know when the tests are done and I'll commit.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227617960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227629816","html_url":"https://github.com/apache/kafka/pull/1481#issuecomment-227629816","issue_url":"https://api.github.com/repos/apache/kafka/issues/1481","id":227629816,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYyOTgxNg==","user":{"login":"jklukas","id":691060,"node_id":"MDQ6VXNlcjY5MTA2MA==","avatar_url":"https://avatars.githubusercontent.com/u/691060?v=4","gravatar_id":"","url":"https://api.github.com/users/jklukas","html_url":"https://github.com/jklukas","followers_url":"https://api.github.com/users/jklukas/followers","following_url":"https://api.github.com/users/jklukas/following{/other_user}","gists_url":"https://api.github.com/users/jklukas/gists{/gist_id}","starred_url":"https://api.github.com/users/jklukas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jklukas/subscriptions","organizations_url":"https://api.github.com/users/jklukas/orgs","repos_url":"https://api.github.com/users/jklukas/repos","events_url":"https://api.github.com/users/jklukas/events{/privacy}","received_events_url":"https://api.github.com/users/jklukas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T02:54:46Z","updated_at":"2016-06-22T02:54:46Z","author_association":"CONTRIBUTOR","body":"> should we also use getAbsolutePath on other places like StreamThread.maybeClean where we access a file / directory?\n\nIn the particular case of StreamThread, the current code looks good. It passes a string from the config into a `File` constructor, but we don't depend on the string value of the `File` object anywhere that I can see. Will still try to do more of a sweep.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227629816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227630857","html_url":"https://github.com/apache/kafka/pull/1537#issuecomment-227630857","issue_url":"https://api.github.com/repos/apache/kafka/issues/1537","id":227630857,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYzMDg1Nw==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T03:03:44Z","updated_at":"2016-06-22T03:03:44Z","author_association":"CONTRIBUTOR","body":"And lets see if this works: @confluentinc/connect might also want to take a look at this.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227630857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227635162","html_url":"https://github.com/apache/kafka/pull/1519#issuecomment-227635162","issue_url":"https://api.github.com/repos/apache/kafka/issues/1519","id":227635162,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzYzNTE2Mg==","user":{"login":"ewencp","id":47366,"node_id":"MDQ6VXNlcjQ3MzY2","avatar_url":"https://avatars.githubusercontent.com/u/47366?v=4","gravatar_id":"","url":"https://api.github.com/users/ewencp","html_url":"https://github.com/ewencp","followers_url":"https://api.github.com/users/ewencp/followers","following_url":"https://api.github.com/users/ewencp/following{/other_user}","gists_url":"https://api.github.com/users/ewencp/gists{/gist_id}","starred_url":"https://api.github.com/users/ewencp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ewencp/subscriptions","organizations_url":"https://api.github.com/users/ewencp/orgs","repos_url":"https://api.github.com/users/ewencp/repos","events_url":"https://api.github.com/users/ewencp/events{/privacy}","received_events_url":"https://api.github.com/users/ewencp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T03:42:58Z","updated_at":"2016-06-22T03:42:58Z","author_association":"CONTRIBUTOR","body":"@hachikuji Also, re: duplicating tests, I think the important question is which tests provide value and can be made to work with both easily. I'm not sure all the tests will be valuable. Even some some of the delivery semantics ones don't seem to have much value -- they really exercise the Worker*Task classes more than the herder.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227635162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227646517","html_url":"https://github.com/apache/kafka/pull/1519#issuecomment-227646517","issue_url":"https://api.github.com/repos/apache/kafka/issues/1519","id":227646517,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzY0NjUxNw==","user":{"login":"hachikuji","id":12502538,"node_id":"MDQ6VXNlcjEyNTAyNTM4","avatar_url":"https://avatars.githubusercontent.com/u/12502538?v=4","gravatar_id":"","url":"https://api.github.com/users/hachikuji","html_url":"https://github.com/hachikuji","followers_url":"https://api.github.com/users/hachikuji/followers","following_url":"https://api.github.com/users/hachikuji/following{/other_user}","gists_url":"https://api.github.com/users/hachikuji/gists{/gist_id}","starred_url":"https://api.github.com/users/hachikuji/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hachikuji/subscriptions","organizations_url":"https://api.github.com/users/hachikuji/orgs","repos_url":"https://api.github.com/users/hachikuji/repos","events_url":"https://api.github.com/users/hachikuji/events{/privacy}","received_events_url":"https://api.github.com/users/hachikuji/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T05:22:41Z","updated_at":"2016-06-22T05:22:41Z","author_association":"CONTRIBUTOR","body":"@ewencp Needed one more fix, but looks like that was enough: http://confluent-kafka-branch-builder-system-test-results.s3-us-west-2.amazonaws.com/2016-06-22--001.1466572405--hachikuji--KAFKA-3863--7f4bf57/report.html. \n\nOn duplicating tests, I agree that we should be selective. The tests in these patch are borderline I'd say. The mechanism for propagating state changes is different and should be tested, but you could argue that it's covered better in unit testing due to its simplicity.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227646517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227675600","html_url":"https://github.com/apache/kafka/pull/1536#issuecomment-227675600","issue_url":"https://api.github.com/repos/apache/kafka/issues/1536","id":227675600,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzY3NTYwMA==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T08:22:33Z","updated_at":"2016-06-22T08:22:33Z","author_association":"MEMBER","body":"Merged to trunk.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227675600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227689307","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227689307","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227689307,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzY4OTMwNw==","user":{"login":"dguy","id":54829,"node_id":"MDQ6VXNlcjU0ODI5","avatar_url":"https://avatars.githubusercontent.com/u/54829?v=4","gravatar_id":"","url":"https://api.github.com/users/dguy","html_url":"https://github.com/dguy","followers_url":"https://api.github.com/users/dguy/followers","following_url":"https://api.github.com/users/dguy/following{/other_user}","gists_url":"https://api.github.com/users/dguy/gists{/gist_id}","starred_url":"https://api.github.com/users/dguy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dguy/subscriptions","organizations_url":"https://api.github.com/users/dguy/orgs","repos_url":"https://api.github.com/users/dguy/repos","events_url":"https://api.github.com/users/dguy/events{/privacy}","received_events_url":"https://api.github.com/users/dguy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T09:22:02Z","updated_at":"2016-06-22T09:22:02Z","author_association":"CONTRIBUTOR","body":"@guozhangwang re: 3) above - yes i think it would make sense to use the storeNames now they are being passed through\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227689307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227720853","html_url":"https://github.com/apache/kafka/pull/1481#issuecomment-227720853","issue_url":"https://api.github.com/repos/apache/kafka/issues/1481","id":227720853,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzcyMDg1Mw==","user":{"login":"jklukas","id":691060,"node_id":"MDQ6VXNlcjY5MTA2MA==","avatar_url":"https://avatars.githubusercontent.com/u/691060?v=4","gravatar_id":"","url":"https://api.github.com/users/jklukas","html_url":"https://github.com/jklukas","followers_url":"https://api.github.com/users/jklukas/followers","following_url":"https://api.github.com/users/jklukas/following{/other_user}","gists_url":"https://api.github.com/users/jklukas/gists{/gist_id}","starred_url":"https://api.github.com/users/jklukas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jklukas/subscriptions","organizations_url":"https://api.github.com/users/jklukas/orgs","repos_url":"https://api.github.com/users/jklukas/repos","events_url":"https://api.github.com/users/jklukas/events{/privacy}","received_events_url":"https://api.github.com/users/jklukas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T11:53:23Z","updated_at":"2016-06-22T11:53:23Z","author_association":"CONTRIBUTOR","body":"I wasn't able to find any other problematic cases where a File path was passed as a non-absolute string, so I'm not planning any further additions to this PR.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227720853/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227750043","html_url":"https://github.com/apache/kafka/pull/1428#issuecomment-227750043","issue_url":"https://api.github.com/repos/apache/kafka/issues/1428","id":227750043,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzc1MDA0Mw==","user":{"login":"edoardocomar","id":6661532,"node_id":"MDQ6VXNlcjY2NjE1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/6661532?v=4","gravatar_id":"","url":"https://api.github.com/users/edoardocomar","html_url":"https://github.com/edoardocomar","followers_url":"https://api.github.com/users/edoardocomar/followers","following_url":"https://api.github.com/users/edoardocomar/following{/other_user}","gists_url":"https://api.github.com/users/edoardocomar/gists{/gist_id}","starred_url":"https://api.github.com/users/edoardocomar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edoardocomar/subscriptions","organizations_url":"https://api.github.com/users/edoardocomar/orgs","repos_url":"https://api.github.com/users/edoardocomar/repos","events_url":"https://api.github.com/users/edoardocomar/events{/privacy}","received_events_url":"https://api.github.com/users/edoardocomar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T13:52:13Z","updated_at":"2016-06-22T13:52:13Z","author_association":"CONTRIBUTOR","body":"Hi @ijuma @hachikuji \nwe have made a PR https://github.com/apache/kafka/pull/1535 \nto address the non existent topic or partition issue https://issues.apache.org/jira/browse/KAFKA-3727\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227750043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227768330","html_url":"https://github.com/apache/kafka/pull/1526#issuecomment-227768330","issue_url":"https://api.github.com/repos/apache/kafka/issues/1526","id":227768330,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzc2ODMzMA==","user":{"login":"enothereska","id":14234336,"node_id":"MDQ6VXNlcjE0MjM0MzM2","avatar_url":"https://avatars.githubusercontent.com/u/14234336?v=4","gravatar_id":"","url":"https://api.github.com/users/enothereska","html_url":"https://github.com/enothereska","followers_url":"https://api.github.com/users/enothereska/followers","following_url":"https://api.github.com/users/enothereska/following{/other_user}","gists_url":"https://api.github.com/users/enothereska/gists{/gist_id}","starred_url":"https://api.github.com/users/enothereska/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/enothereska/subscriptions","organizations_url":"https://api.github.com/users/enothereska/orgs","repos_url":"https://api.github.com/users/enothereska/repos","events_url":"https://api.github.com/users/enothereska/events{/privacy}","received_events_url":"https://api.github.com/users/enothereska/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T14:49:23Z","updated_at":"2016-06-22T14:49:23Z","author_association":"CONTRIBUTOR","body":"@guozhangwang I addressed 1.1, 1.2 (without the materialisation part though, but with the APIs end to end) and 3. Thanks for the feedback.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227768330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227780324","html_url":"https://github.com/apache/kafka/pull/1336#issuecomment-227780324","issue_url":"https://api.github.com/repos/apache/kafka/issues/1336","id":227780324,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzc4MDMyNA==","user":{"login":"vahidhashemian","id":13593506,"node_id":"MDQ6VXNlcjEzNTkzNTA2","avatar_url":"https://avatars.githubusercontent.com/u/13593506?v=4","gravatar_id":"","url":"https://api.github.com/users/vahidhashemian","html_url":"https://github.com/vahidhashemian","followers_url":"https://api.github.com/users/vahidhashemian/followers","following_url":"https://api.github.com/users/vahidhashemian/following{/other_user}","gists_url":"https://api.github.com/users/vahidhashemian/gists{/gist_id}","starred_url":"https://api.github.com/users/vahidhashemian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vahidhashemian/subscriptions","organizations_url":"https://api.github.com/users/vahidhashemian/orgs","repos_url":"https://api.github.com/users/vahidhashemian/repos","events_url":"https://api.github.com/users/vahidhashemian/events{/privacy}","received_events_url":"https://api.github.com/users/vahidhashemian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T15:26:15Z","updated_at":"2016-06-22T15:26:15Z","author_association":"CONTRIBUTOR","body":"@hachikuji Thanks for your suggestion on how to go about separating the logic. I'll give it a try and let you know how it goes.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227780324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227864504","html_url":"https://github.com/apache/kafka/pull/1540#issuecomment-227864504","issue_url":"https://api.github.com/repos/apache/kafka/issues/1540","id":227864504,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg2NDUwNA==","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T20:20:44Z","updated_at":"2016-06-22T20:20:44Z","author_association":"CONTRIBUTOR","body":"@ewencp mind looking at this minor change.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227864504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227865241","html_url":"https://github.com/apache/kafka/pull/1540#issuecomment-227865241","issue_url":"https://api.github.com/repos/apache/kafka/issues/1540","id":227865241,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg2NTI0MQ==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T20:23:43Z","updated_at":"2016-06-22T20:23:43Z","author_association":"MEMBER","body":"LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227865241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227868012","html_url":"https://github.com/apache/kafka/pull/1541#issuecomment-227868012","issue_url":"https://api.github.com/repos/apache/kafka/issues/1541","id":227868012,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg2ODAxMg==","user":{"login":"ijuma","id":24747,"node_id":"MDQ6VXNlcjI0NzQ3","avatar_url":"https://avatars.githubusercontent.com/u/24747?v=4","gravatar_id":"","url":"https://api.github.com/users/ijuma","html_url":"https://github.com/ijuma","followers_url":"https://api.github.com/users/ijuma/followers","following_url":"https://api.github.com/users/ijuma/following{/other_user}","gists_url":"https://api.github.com/users/ijuma/gists{/gist_id}","starred_url":"https://api.github.com/users/ijuma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ijuma/subscriptions","organizations_url":"https://api.github.com/users/ijuma/orgs","repos_url":"https://api.github.com/users/ijuma/repos","events_url":"https://api.github.com/users/ijuma/events{/privacy}","received_events_url":"https://api.github.com/users/ijuma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T20:33:53Z","updated_at":"2016-06-22T20:33:53Z","author_association":"MEMBER","body":"@iamnoah, Thanks for the PR. PRs should generally target trunk. As I said in the JIRA, we fixed in 0.10.0 one reason why we sometimes requested more topics than needed. Would it be possible for you to test that?\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227868012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227868856","html_url":"https://github.com/apache/kafka/pull/1541#issuecomment-227868856","issue_url":"https://api.github.com/repos/apache/kafka/issues/1541","id":227868856,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg2ODg1Ng==","user":{"login":"iamnoah","id":139201,"node_id":"MDQ6VXNlcjEzOTIwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/139201?v=4","gravatar_id":"","url":"https://api.github.com/users/iamnoah","html_url":"https://github.com/iamnoah","followers_url":"https://api.github.com/users/iamnoah/followers","following_url":"https://api.github.com/users/iamnoah/following{/other_user}","gists_url":"https://api.github.com/users/iamnoah/gists{/gist_id}","starred_url":"https://api.github.com/users/iamnoah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamnoah/subscriptions","organizations_url":"https://api.github.com/users/iamnoah/orgs","repos_url":"https://api.github.com/users/iamnoah/repos","events_url":"https://api.github.com/users/iamnoah/events{/privacy}","received_events_url":"https://api.github.com/users/iamnoah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T20:37:18Z","updated_at":"2016-06-22T20:37:18Z","author_association":"NONE","body":"@ijuma testing this against 0.10 is not going to be feasible for me. We are trying to get to 0.10, but need to get through our 0.9 upgrade first, which is impeded by this bug. \n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227868856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227872090","html_url":"https://github.com/apache/kafka/pull/1541#issuecomment-227872090","issue_url":"https://api.github.com/repos/apache/kafka/issues/1541","id":227872090,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg3MjA5MA==","user":{"login":"iamnoah","id":139201,"node_id":"MDQ6VXNlcjEzOTIwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/139201?v=4","gravatar_id":"","url":"https://api.github.com/users/iamnoah","html_url":"https://github.com/iamnoah","followers_url":"https://api.github.com/users/iamnoah/followers","following_url":"https://api.github.com/users/iamnoah/following{/other_user}","gists_url":"https://api.github.com/users/iamnoah/gists{/gist_id}","starred_url":"https://api.github.com/users/iamnoah/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamnoah/subscriptions","organizations_url":"https://api.github.com/users/iamnoah/orgs","repos_url":"https://api.github.com/users/iamnoah/repos","events_url":"https://api.github.com/users/iamnoah/events{/privacy}","received_events_url":"https://api.github.com/users/iamnoah/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T20:49:52Z","updated_at":"2016-06-22T20:49:52Z","author_association":"NONE","body":"I've rebased to target trunk and will create a new PR.\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227872090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227895865","html_url":"https://github.com/apache/kafka/pull/1540#issuecomment-227895865","issue_url":"https://api.github.com/repos/apache/kafka/issues/1540","id":227895865,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzg5NTg2NQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T22:23:46Z","updated_at":"2016-06-22T22:23:46Z","author_association":"NONE","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227895865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227900310","html_url":"https://github.com/apache/kafka/pull/861#issuecomment-227900310","issue_url":"https://api.github.com/repos/apache/kafka/issues/861","id":227900310,"node_id":"MDEyOklzc3VlQ29tbWVudDIyNzkwMDMxMA==","user":{"login":"SinghAsDev","id":4915557,"node_id":"MDQ6VXNlcjQ5MTU1NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4915557?v=4","gravatar_id":"","url":"https://api.github.com/users/SinghAsDev","html_url":"https://github.com/SinghAsDev","followers_url":"https://api.github.com/users/SinghAsDev/followers","following_url":"https://api.github.com/users/SinghAsDev/following{/other_user}","gists_url":"https://api.github.com/users/SinghAsDev/gists{/gist_id}","starred_url":"https://api.github.com/users/SinghAsDev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SinghAsDev/subscriptions","organizations_url":"https://api.github.com/users/SinghAsDev/orgs","repos_url":"https://api.github.com/users/SinghAsDev/repos","events_url":"https://api.github.com/users/SinghAsDev/events{/privacy}","received_events_url":"https://api.github.com/users/SinghAsDev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-06-22T22:46:50Z","updated_at":"2016-06-22T22:57:31Z","author_association":"CONTRIBUTOR","body":"@ewencp the test failures are fixed now. Build failed due to insufficient disk space on build machine. It works fine on my machine with Java7.\n\n```\n# There is insufficient memory for the Java Runtime Environment to continue.\n# Cannot create GC thread. Out of system resources.\n# An error report file with more information is saved as:\n# /home/jenkins/.gradle/daemon/2.4-rc-2/hs_err_pid13065.log\n```\n","reactions":{"url":"https://api.github.com/repos/apache/kafka/issues/comments/227900310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]