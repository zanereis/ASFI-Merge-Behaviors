[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671826837","html_url":"https://github.com/apache/iceberg/pull/1318#issuecomment-671826837","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1318","id":671826837,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTgyNjgzNw==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T09:06:23Z","updated_at":"2020-08-11T09:17:21Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue , thanks for your work, these two PRs look very good~\r\n\r\nI have two comments:\r\n\r\n### Optimization for Upsert data\r\n\r\nConsidering that upsert data will write insert file and delete file at the same time, this can double the storage.\r\n\r\nI'm thinking about some scenarios:\r\n-For example, the downstream does not need to restore CDC data stream.\r\n-For example, downstream engines only need PKs(equality field IDs) for delete records.\r\n\r\nHow can we reduce storage in these scenarios? Can these additional fields be nulls?\r\n\r\n### Why equality field IDs in `DeleteFile`?\r\n\r\nWhy not just primary keys definition for table? Will equality field IDs be different between files? \r\nIt can be used as schema evolution? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671826837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671849788","html_url":"https://github.com/apache/iceberg/pull/1280#issuecomment-671849788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1280","id":671849788,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTg0OTc4OA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T09:54:50Z","updated_at":"2020-08-11T09:54:50Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing and merging!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671849788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671851848","html_url":"https://github.com/apache/iceberg/pull/1317#issuecomment-671851848","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1317","id":671851848,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTg1MTg0OA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T09:59:26Z","updated_at":"2020-08-11T09:59:26Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/iceberg/pull/1307#discussion_r468201047 mentions that a workaround in `StructLikeWrapper` will be removed after adding `specId` to `DataFile`. Is that supposed to happen as part of this PR?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671851848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671884656","html_url":"https://github.com/apache/iceberg/issues/1286#issuecomment-671884656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1286","id":671884656,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTg4NDY1Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T11:15:18Z","updated_at":"2020-08-11T11:15:51Z","author_association":"CONTRIBUTOR","body":"So I added debug log messages - not fully understanding the details, so I roughly added time check for entry point, as well as log message on opening file for read or write.\r\n\r\nhttps://github.com/apache/iceberg/commit/5a0a131a76c98d417c8d6cb70947219010171420\r\n\r\nHere's the log I got with making the rewrite data action retried and finally failed.\r\n\r\nhttps://drive.google.com/file/d/1BEgSY2xbYMgmQBgL7SYCLe2pW-gkOPq3/view?usp=sharing\r\n\r\nSo you're right that manifest files are not read per retrial - so the first trial and further trials are significant difference on elapsed time. Some of output manifest files (looks to be 100+) in first trial seem to be read in further trials (no cache seems to play here), which still make further trials to be around 20 seconds. (Note that it's from local filesystem and I expect higher latency in practice.)\r\n\r\nBtw, my suggestion was focused on the characteristic of \"fast append\". If I understand correctly, fast append only adds manifest and data files and doesn't play with existing manifest and data files, and that's how the commit phase can be done in hundreds of milliseconds.\r\n\r\nThe situation what we encountered is that the rewrite data action got conflict with other commits and needs to retry, and all the commits in the meanwhile were fast append. Given the fact commits between retrial should not be so many, does it cost more if we look into which manifest files are added instead when added commits were all fast append? They shouldn't make conflict with the changes rewrite data action has made, based on the characteristic of \"fast append\", so adding them to manifest-list seems to be OK (not familiar with the spec of files so I may probably imagine the unrealistic one, so please correct me if I'm going wrong.)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671884656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671918121","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-671918121","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":671918121,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTkxODEyMQ==","user":{"login":"rymurr","id":2022305,"node_id":"MDQ6VXNlcjIwMjIzMDU=","avatar_url":"https://avatars.githubusercontent.com/u/2022305?v=4","gravatar_id":"","url":"https://api.github.com/users/rymurr","html_url":"https://github.com/rymurr","followers_url":"https://api.github.com/users/rymurr/followers","following_url":"https://api.github.com/users/rymurr/following{/other_user}","gists_url":"https://api.github.com/users/rymurr/gists{/gist_id}","starred_url":"https://api.github.com/users/rymurr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rymurr/subscriptions","organizations_url":"https://api.github.com/users/rymurr/orgs","repos_url":"https://api.github.com/users/rymurr/repos","events_url":"https://api.github.com/users/rymurr/events{/privacy}","received_events_url":"https://api.github.com/users/rymurr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T12:32:08Z","updated_at":"2020-08-11T12:32:08Z","author_association":"CONTRIBUTOR","body":"> @rymurr, you might be interested in reviewing this one.\r\n\r\nVery interested! Please give me a day or two as a bit busy at the moment. \r\n\r\nI was looking at some similar stuff with the [Arrow Datasets](https://arrow.apache.org/docs/python/dataset.html) package.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671918121/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671977593","html_url":"https://github.com/apache/iceberg/pull/1264#issuecomment-671977593","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1264","id":671977593,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MTk3NzU5Mw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T14:23:14Z","updated_at":"2020-08-11T14:23:14Z","author_association":"MEMBER","body":"Thanks everyone! I know that was a big one","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/671977593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672110999","html_url":"https://github.com/apache/iceberg/pull/1322#issuecomment-672110999","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1322","id":672110999,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjExMDk5OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T17:20:58Z","updated_at":"2020-08-11T17:20:58Z","author_association":"CONTRIBUTOR","body":"Thanks, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672110999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672123099","html_url":"https://github.com/apache/iceberg/pull/1322#issuecomment-672123099","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1322","id":672123099,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjEyMzA5OQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T17:35:46Z","updated_at":"2020-08-11T17:35:46Z","author_association":"MEMBER","body":":+1:\n\nOn Tue, Aug 11, 2020 at 12:21 PM Ryan Blue <notifications@github.com> wrote:\n\n> Thanks, @RussellSpitzer <https://github.com/RussellSpitzer>!\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1322#issuecomment-672110999>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YNQY6MNFBPVQUWPNILSAF4YRANCNFSM4P3HBJBQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672123099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672172504","html_url":"https://github.com/apache/iceberg/pull/1317#issuecomment-672172504","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1317","id":672172504,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjE3MjUwNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T18:32:53Z","updated_at":"2020-08-11T18:32:53Z","author_association":"CONTRIBUTOR","body":"@shardulm94, that is done in #1308. That PR includes the addition of `specId` to `DataFile`, but I think it is cleaner to put that change in a separate PR, which is why I opened this one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672172504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672237164","html_url":"https://github.com/apache/iceberg/pull/1318#issuecomment-672237164","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1318","id":672237164,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjIzNzE2NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T19:47:12Z","updated_at":"2020-08-11T19:47:12Z","author_association":"CONTRIBUTOR","body":"> How can we reduce storage in these scenarios? Can these additional fields be nulls?\r\n\r\nI had the same question. I think they should be null in most cases to reduce the size of delete files. It is good to have a flexible format, though.\r\n\r\n> Why not just primary keys definition for table? Will equality field IDs be different between files?\r\nIt can be used as schema evolution?\r\n\r\nThis seems like an unnecessary restriction. Users would need to know all the columns they will update by at the table creation time and include them into the composite natural key. While it is essential to sort the data by the upsert key for performance, we can still append an extra column later on. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672237164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672242173","html_url":"https://github.com/apache/iceberg/pull/1318#issuecomment-672242173","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1318","id":672242173,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjI0MjE3Mw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T19:50:16Z","updated_at":"2020-08-11T19:50:16Z","author_association":"CONTRIBUTOR","body":"Apart from comments by @JingsongLi and @chenjunjiedada, this PR looks good to me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672242173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672255352","html_url":"https://github.com/apache/iceberg/pull/1318#issuecomment-672255352","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1318","id":672255352,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjI1NTM1Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T20:13:07Z","updated_at":"2020-08-11T20:13:07Z","author_association":"CONTRIBUTOR","body":"> Can these additional fields be nulls?\r\n\r\nYes. In fact, the fields can be omitted from the delete file entirely. There is no requirement to have any fields other than the ones in the delete ID set. We may also want to build a way to pass a row to get stats for the delete file, but not actually store the deleted values. But I think optimizations like this can be done in follow-up PRs.\r\n\r\n> Why equality field IDs in DeleteFile?\r\n\r\nWhen you encode a delete, the equality columns are fixed. As Anton noted, the columns you use may change as the table schema evolves. In those cases, we need to make sure that each delete uses equality columns from when it was committed. Storing them in `DeleteFile` metadata is a good way to do that.\r\n\r\nIn addition to being able to change the column set for schema evolution, this supports being able to delete by different columns if needed. For example, a GDPR deletes may come in by email address or by user name and we want to support encoding both without scanning to find out the file/position to delete.\r\n\r\nLastly, we could store these just in file metadata. But keeping them at the table level enables a few things. First, we can group files that use the same delete fields into the same filter set. Second, we can use them at job planning time to check whether a data file and a delete file overlap using delete column stats. But we can only do that if we know which columns are used to delete at job planning time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672255352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672279713","html_url":"https://github.com/apache/iceberg/issues/1286#issuecomment-672279713","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1286","id":672279713,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjI3OTcxMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T21:06:49Z","updated_at":"2020-08-11T21:06:49Z","author_association":"CONTRIBUTOR","body":"https://drive.google.com/file/d/1BEgSY2xbYMgmQBgL7SYCLe2pW-gkOPq3/view?usp=drivesdk\r\n\r\nSorry, please retry with this link for the log.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672279713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672320969","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-672320969","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":672320969,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjMyMDk2OQ==","user":{"login":"guilload","id":3011588,"node_id":"MDQ6VXNlcjMwMTE1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/3011588?v=4","gravatar_id":"","url":"https://api.github.com/users/guilload","html_url":"https://github.com/guilload","followers_url":"https://api.github.com/users/guilload/followers","following_url":"https://api.github.com/users/guilload/following{/other_user}","gists_url":"https://api.github.com/users/guilload/gists{/gist_id}","starred_url":"https://api.github.com/users/guilload/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guilload/subscriptions","organizations_url":"https://api.github.com/users/guilload/orgs","repos_url":"https://api.github.com/users/guilload/repos","events_url":"https://api.github.com/users/guilload/events{/privacy}","received_events_url":"https://api.github.com/users/guilload/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T22:22:12Z","updated_at":"2020-08-11T22:22:12Z","author_association":"CONTRIBUTOR","body":"I've just added 2500efb, which run the Hive test suite against multiple catalog implementations.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672320969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672339916","html_url":"https://github.com/apache/iceberg/pull/1317#issuecomment-672339916","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1317","id":672339916,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjMzOTkxNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-11T23:02:27Z","updated_at":"2020-08-11T23:02:27Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing @rdsr and @shardulm94!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672339916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672406800","html_url":"https://github.com/apache/iceberg/pull/1309#issuecomment-672406800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1309","id":672406800,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjQwNjgwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T00:47:08Z","updated_at":"2020-08-12T00:47:08Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @JingsongLi and @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672406800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672411035","html_url":"https://github.com/apache/iceberg/pull/1323#issuecomment-672411035","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1323","id":672411035,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjQxMTAzNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T00:54:15Z","updated_at":"2020-08-12T00:54:15Z","author_association":"CONTRIBUTOR","body":"+1 when tests are passing.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672411035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672435125","html_url":"https://github.com/apache/iceberg/pull/1323#issuecomment-672435125","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1323","id":672435125,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjQzNTEyNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T01:33:48Z","updated_at":"2020-08-12T01:33:48Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks @gustavoatt!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672435125/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672448702","html_url":"https://github.com/apache/iceberg/pull/1323#issuecomment-672448702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1323","id":672448702,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjQ0ODcwMg==","user":{"login":"gustavoatt","id":1475634,"node_id":"MDQ6VXNlcjE0NzU2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1475634?v=4","gravatar_id":"","url":"https://api.github.com/users/gustavoatt","html_url":"https://github.com/gustavoatt","followers_url":"https://api.github.com/users/gustavoatt/followers","following_url":"https://api.github.com/users/gustavoatt/following{/other_user}","gists_url":"https://api.github.com/users/gustavoatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gustavoatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gustavoatt/subscriptions","organizations_url":"https://api.github.com/users/gustavoatt/orgs","repos_url":"https://api.github.com/users/gustavoatt/repos","events_url":"https://api.github.com/users/gustavoatt/events{/privacy}","received_events_url":"https://api.github.com/users/gustavoatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T01:53:51Z","updated_at":"2020-08-12T01:53:51Z","author_association":"CONTRIBUTOR","body":"Thanks for the fast review Ryan!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672448702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672529387","html_url":"https://github.com/apache/iceberg/pull/1320#issuecomment-672529387","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1320","id":672529387,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjUyOTM4Nw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T02:57:54Z","updated_at":"2020-08-12T02:57:54Z","author_association":"COLLABORATOR","body":"@openinx , I rebased #1272 and found failed UT. It turns out #1272 depends on this. I think this should be merged before #1272.  #1266 could be merged at first though.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672529387/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672910806","html_url":"https://github.com/apache/iceberg/pull/1323#issuecomment-672910806","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1323","id":672910806,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MjkxMDgwNg==","user":{"login":"thesquelched","id":838700,"node_id":"MDQ6VXNlcjgzODcwMA==","avatar_url":"https://avatars.githubusercontent.com/u/838700?v=4","gravatar_id":"","url":"https://api.github.com/users/thesquelched","html_url":"https://github.com/thesquelched","followers_url":"https://api.github.com/users/thesquelched/followers","following_url":"https://api.github.com/users/thesquelched/following{/other_user}","gists_url":"https://api.github.com/users/thesquelched/gists{/gist_id}","starred_url":"https://api.github.com/users/thesquelched/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thesquelched/subscriptions","organizations_url":"https://api.github.com/users/thesquelched/orgs","repos_url":"https://api.github.com/users/thesquelched/repos","events_url":"https://api.github.com/users/thesquelched/events{/privacy}","received_events_url":"https://api.github.com/users/thesquelched/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T14:37:05Z","updated_at":"2020-08-12T14:37:05Z","author_association":"NONE","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/672910806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673022067","html_url":"https://github.com/apache/iceberg/pull/1266#issuecomment-673022067","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1266","id":673022067,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzAyMjA2Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T17:54:51Z","updated_at":"2020-08-12T17:54:51Z","author_association":"CONTRIBUTOR","body":"Thanks, @chenjunjiedada. I think the implementation and tests are correct, but I'd like to fix the data assertions before merging.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673022067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673029315","html_url":"https://github.com/apache/iceberg/pull/1308#issuecomment-673029315","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1308","id":673029315,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzAyOTMxNQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T18:09:14Z","updated_at":"2020-08-12T18:09:14Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @shardulm94!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673029315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673030766","html_url":"https://github.com/apache/iceberg/pull/1318#issuecomment-673030766","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1318","id":673030766,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzAzMDc2Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T18:12:25Z","updated_at":"2020-08-12T18:12:25Z","author_association":"CONTRIBUTOR","body":"Thanks for the reviews, everyone! I've merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673030766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673034138","html_url":"https://github.com/apache/iceberg/pull/1325#issuecomment-673034138","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1325","id":673034138,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzAzNDEzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T18:19:45Z","updated_at":"2020-08-12T18:19:45Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @skambha! I think adding the column as nullable is definitely a bug, but I'm not sure that we can add non-null columns. I think we should probably fail the ALTER TABLE command.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673034138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673074730","html_url":"https://github.com/apache/iceberg/pull/1272#issuecomment-673074730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1272","id":673074730,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzA3NDczMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T19:47:30Z","updated_at":"2020-08-12T20:16:56Z","author_association":"CONTRIBUTOR","body":"From other comments, it sounds like I should review ~~#1320~~ first and then this will be rebased. I also reviewed the read side, which can be done in parallel.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673074730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673088384","html_url":"https://github.com/apache/iceberg/pull/1320#issuecomment-673088384","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1320","id":673088384,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzA4ODM4NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T20:16:06Z","updated_at":"2020-08-12T20:16:06Z","author_association":"CONTRIBUTOR","body":"I have a few minor comments, but I don't think any of those should block this going in. I think it is correct. We can make tests better by using `assertEquals` between generics and Flink RowData in follow-ups once #1266 is in.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673088384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673088643","html_url":"https://github.com/apache/iceberg/pull/1320#issuecomment-673088643","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1320","id":673088643,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzA4ODY0Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T20:16:37Z","updated_at":"2020-08-12T20:16:37Z","author_association":"CONTRIBUTOR","body":"Merged. Thanks for working on this, @openinx!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673088643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673102463","html_url":"https://github.com/apache/iceberg/pull/1314#issuecomment-673102463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1314","id":673102463,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzEwMjQ2Mw==","user":{"login":"TGooch44","id":1591711,"node_id":"MDQ6VXNlcjE1OTE3MTE=","avatar_url":"https://avatars.githubusercontent.com/u/1591711?v=4","gravatar_id":"","url":"https://api.github.com/users/TGooch44","html_url":"https://github.com/TGooch44","followers_url":"https://api.github.com/users/TGooch44/followers","following_url":"https://api.github.com/users/TGooch44/following{/other_user}","gists_url":"https://api.github.com/users/TGooch44/gists{/gist_id}","starred_url":"https://api.github.com/users/TGooch44/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TGooch44/subscriptions","organizations_url":"https://api.github.com/users/TGooch44/orgs","repos_url":"https://api.github.com/users/TGooch44/repos","events_url":"https://api.github.com/users/TGooch44/events{/privacy}","received_events_url":"https://api.github.com/users/TGooch44/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T20:46:45Z","updated_at":"2020-08-12T20:46:45Z","author_association":"CONTRIBUTOR","body":"I should have marked this is WIP. I'm still adding some logic to handle some of the other data types like timestamp.  I'll try to get this updated soon","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673102463/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673150699","html_url":"https://github.com/apache/iceberg/pull/1208#issuecomment-673150699","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1208","id":673150699,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzE1MDY5OQ==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-12T23:00:27Z","updated_at":"2020-08-12T23:00:27Z","author_association":"CONTRIBUTOR","body":"@rdblue do you have any additional comment? Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673150699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673261016","html_url":"https://github.com/apache/iceberg/pull/1266#issuecomment-673261016","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1266","id":673261016,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzI2MTAxNg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T05:11:14Z","updated_at":"2020-08-13T05:11:14Z","author_association":"COLLABORATOR","body":"@rdblue , I addressed all your comments. Please help to take another look at your convenience.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673261016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673357802","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-673357802","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":673357802,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzM1NzgwMg==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T09:03:29Z","updated_at":"2020-08-13T09:03:37Z","author_association":"CONTRIBUTOR","body":"@openinx and @rdblue I think we can consider https://github.com/apache/iceberg/pull/1332 first, what do you think?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673357802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673396848","html_url":"https://github.com/apache/iceberg/pull/1289#issuecomment-673396848","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1289","id":673396848,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzM5Njg0OA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T10:25:50Z","updated_at":"2020-08-13T10:57:21Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue, thank you so much for taking the time to look at this. Is there someway that i can see this to the finish line and help you at all with enabling this action? If you could possibly point me in the direction of whom I should speak to (I'm guessing the ASF infra team are the ones in the know, but wouldn't want to speak out without getting some guidance) we well as a general \"thumbs up\" from you since you're the PMC Chair IIUC.\r\n\r\nI'd love to help drop your very apparent high-level of burden to the current state of the project; I'd hav no problem with doing more humble work like this that's helpful but is probably not a great fit for your time and overall commitment to this project, even if you are PMC Chair. Especially once your input has already been made clear, I'm happy to see my work through to the end. And most of all, I'm by no means shy and absolutely willing to reach out and build the relationships necessary to see the project continue to improve as well as to see my contribution to the end. For many years, prior to software, I worked in customer relations position and I still function well as a possible rolodex if I do say so myself lol.\r\n\r\nAdditionally, as I also have plans to enforce some or / all of the code linter coming up after I bring up the value proposition on dev@ and squash the remaining linter warnings, it'll be especially good for me to setup a relationship with the ASF infra team. If you hadn't noticed, I'm looking to make myself useful with the early phases of my contribution and I have chosen infrastructure support to be amongst my early phase contributions to the project as I contribute and learn from others while I get more accustomed to the code base and more used to using it to more fully and correctly contribute to the project's core code (and the connectors as well for other systems, of course).\r\n\r\nFeel free to reach out to me on Slack too if you think that's a better medium for you. I'll definitely catch it there. Or if all else fails, email me (but if Slack works for you that's fab.) Thanks again for looking through this and offering your opinions and guidance.\r\n\r\n**_TLDR_** - Can I help you work with somebody in the appropriate place to get this action enabled? All I would need to get started would be at the least a department / org (like ASF infra team probably). A specific person or email address for a shared group or individuals would be possibly the most useful. Along with names so that I might slack them if need be.\r\n\r\nI'm also going to add some of the labels in manually in the next few days so that we can play with the colors and not have them be all grey when they first get added! 😄 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673396848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673464301","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-673464301","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":673464301,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzQ2NDMwMQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T13:01:38Z","updated_at":"2020-08-13T13:04:35Z","author_association":"CONTRIBUTOR","body":"Forgive my ignorance, but this is for a separate linter that we use vs. Error Prone? I noticed we used the Palantir version of both.\r\n\r\nI'm currently on a crusade to fix all of the Error Prone warnings, and potentially bring it up on the dev@ list to add a blocking check.\r\n\r\nIs there a way to autofix these things very easily in the later version?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673464301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673465778","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-673465778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":673465778,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzQ2NTc3OA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T13:04:17Z","updated_at":"2020-08-13T13:04:17Z","author_association":"CONTRIBUTOR","body":"Oh and while we're on the subject, here's my open PR on the ByteBuffers class of warnings from Error Prone. https://github.com/apache/iceberg/pull/1334\r\n\r\nThere's one area, writing ByteBuffers to Orc files, that I can't tell if I can be sure if the buffer was allocated on or off heap. The working example I have is a spark application writing to orc-files that has off-heap enabled memory.\r\n\r\nI would love your input on this small PR if you have time (of if you could ping people more versed in Orc than myself. I'm more comfortable with Parquet).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673465778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673476907","html_url":"https://github.com/apache/iceberg/issues/1028#issuecomment-673476907","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1028","id":673476907,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzQ3NjkwNw==","user":{"login":"guojuntech","id":915546,"node_id":"MDQ6VXNlcjkxNTU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/915546?v=4","gravatar_id":"","url":"https://api.github.com/users/guojuntech","html_url":"https://github.com/guojuntech","followers_url":"https://api.github.com/users/guojuntech/followers","following_url":"https://api.github.com/users/guojuntech/following{/other_user}","gists_url":"https://api.github.com/users/guojuntech/gists{/gist_id}","starred_url":"https://api.github.com/users/guojuntech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/guojuntech/subscriptions","organizations_url":"https://api.github.com/users/guojuntech/orgs","repos_url":"https://api.github.com/users/guojuntech/repos","events_url":"https://api.github.com/users/guojuntech/events{/privacy}","received_events_url":"https://api.github.com/users/guojuntech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T13:25:49Z","updated_at":"2020-08-13T13:26:32Z","author_association":"NONE","body":"@rdblue Is this rewrite process mutually exclusive with other UPDATE/DELETE operations in partition level? IIUC, we cannot generate delete files for a base file while it's being rewritten to a new base file. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673476907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673499586","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-673499586","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":673499586,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzQ5OTU4Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T14:06:03Z","updated_at":"2020-08-13T14:06:03Z","author_association":"MEMBER","body":"Yep we use this runtime called baseline\r\n\r\nhttps://github.com/apache/iceberg/blob/a6a511a98a6c679a7ac27c33832960ef8a4e88f1/build.gradle#L31\r\n\r\nWhich has a ton of different checkstyle/findbug/linter things inside of it. They are only enabled on particular modules\r\n\r\nhttps://github.com/apache/iceberg/blob/a6a511a98a6c679a7ac27c33832960ef8a4e88f1/baseline.gradle#L34-L43\r\n\r\nThen we disable a bunch of the checks\r\n\r\nhttps://github.com/apache/iceberg/blob/a6a511a98a6c679a7ac27c33832960ef8a4e88f1/baseline.gradle#L62-L79\r\n\r\n---\r\n\r\nThe plugin here automatically pulls in versions of other style / static analysis tools. They are hardwired into the plugin but I believe we can override them in the build if we really want.\r\n\r\nSee for example \r\n\r\nhttps://github.com/palantir/gradle-baseline/blob/6dea8d29efaf1b0a5b9bcc7d7ebb51fe6b388b44/gradle-baseline-java/src/main/groovy/com/palantir/baseline/plugins/BaselineCheckstyle.java#L32\r\n\r\n--\r\n\r\nThe Palantir package also does include some auto fix code which we are currently not using, or at least I haven't used them yet. \r\n\r\nhttps://github.com/palantir/gradle-baseline#programmatic-application\r\n\r\nI'll take a look at your PR ASAP too. Anything to cleanup the project is good imho!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673499586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673537884","html_url":"https://github.com/apache/iceberg/pull/1334#issuecomment-673537884","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1334","id":673537884,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzUzNzg4NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T15:14:23Z","updated_at":"2020-08-13T15:14:23Z","author_association":"MEMBER","body":"I think the copy check is unnecessary all the other suppressions seem appropriate","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673537884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673544582","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-673544582","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":673544582,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzU0NDU4Mg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T15:26:28Z","updated_at":"2020-08-13T15:26:28Z","author_association":"CONTRIBUTOR","body":"thanks @guilload @rdblue I plan to spend time on this today","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673544582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673552161","html_url":"https://github.com/apache/iceberg/pull/1335#issuecomment-673552161","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1335","id":673552161,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzU1MjE2MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T15:40:07Z","updated_at":"2020-08-13T16:01:28Z","author_association":"CONTRIBUTOR","body":"Could you take a look, @rdsr @shardulm94 @rdblue @chenjunjiedada @RussellSpitzer ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673552161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673575379","html_url":"https://github.com/apache/iceberg/pull/1289#issuecomment-673575379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1289","id":673575379,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzU3NTM3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T16:23:55Z","updated_at":"2020-08-13T16:23:55Z","author_association":"CONTRIBUTOR","body":"Thanks for following up, it looks like whatever I enabled didn't do the trick. Feel free to open an [INFRA](https://issues.apache.org/jira/projects/INFRA/summary) ticket or ask the #asfinfra channel on slack.\r\n\r\nThank you for the offer to help with improvements like this, it is great to have people like you working to make the project better!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673575379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673667764","html_url":"https://github.com/apache/iceberg/pull/1316#issuecomment-673667764","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1316","id":673667764,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzY2Nzc2NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T19:28:17Z","updated_at":"2020-08-13T19:28:17Z","author_association":"CONTRIBUTOR","body":"I merged these changes as part of #1327, which added Parquet writers as well. Thanks for reviewing, @JingsongLi, @openinx, and @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673667764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673667846","html_url":"https://github.com/apache/iceberg/pull/1327#issuecomment-673667846","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1327","id":673667846,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzY2Nzg0Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T19:28:30Z","updated_at":"2020-08-13T19:28:30Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @aokolnychyi!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673667846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673706997","html_url":"https://github.com/apache/iceberg/issues/1337#issuecomment-673706997","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1337","id":673706997,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzcwNjk5Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-13T20:58:37Z","updated_at":"2020-08-13T20:58:37Z","author_association":"CONTRIBUTOR","body":"One example is `MappedFields`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673706997/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673827075","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-673827075","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":673827075,"node_id":"MDEyOklzc3VlQ29tbWVudDY3MzgyNzA3NQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T01:44:04Z","updated_at":"2020-08-14T01:44:04Z","author_association":"CONTRIBUTOR","body":"Thank you so much @RussellSpitzer. This is super informative for me and others I'm sure. I really appreciate it. I don't want to threadjack you so I'll keep my commentary and questions over on my PR if you don't mind, but I wanted to +1 the idea of your version bumps. And also possibly discuss getting the ability to use a `github_token` in legitimate github actions (which I'll keep the discussion on my PR so as not to threadjack this discussion).\r\n\r\nI currently depend on just `./gradlew` and not the IDEA plugin, though that will be changing. I think all of the rules you mentioned becoming usable are a win. I also personally believe that linting and dependencies and its whole lifecycle are something that needs to be kept up to date or it will might one day fall really far behind and become a blocker to something else critical and it can then become pretty painful.\r\n\r\nIf you have a PR with the updated dependencies, I'd approve it (not that would help you much but I'd download it and review it at least). If you're just looking to discuss, then I'm definitely a +1.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673827075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673846140","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-673846140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":673846140,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzg0NjE0MA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T02:18:06Z","updated_at":"2020-08-14T02:18:06Z","author_association":"CONTRIBUTOR","body":"generally LG! I'm ok apart from some comments on the tests. We can even address these comments on the tests later if we like.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673846140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673852945","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-673852945","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":673852945,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzg1Mjk0NQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T02:45:52Z","updated_at":"2020-08-14T02:45:52Z","author_association":"MEMBER","body":"Let me address above comments and fix the failed unit test.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673852945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673875360","html_url":"https://github.com/apache/iceberg/pull/1336#issuecomment-673875360","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1336","id":673875360,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Mzg3NTM2MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T04:23:39Z","updated_at":"2020-08-14T04:23:39Z","author_association":"MEMBER","body":"I'm new to this but why are we shortening names at all? Were we running into some really long strings? Seems like we could just fix this by using the full names?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/673875360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674023600","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-674023600","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":674023600,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDAyMzYwMA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T11:12:07Z","updated_at":"2020-08-14T11:12:07Z","author_association":"CONTRIBUTOR","body":"I'm a fan of this feature, and I'd like to see this finally done sooner even everything is not perfect. I'm planning to do some functional test once it's merged. I'd also like to help if there're minor things to handle which can be done as follow-up.\r\n\r\nThis would be the major feature to cover the gap on use case for structured streaming between Delta Lake and Iceberg. There's a technical limitation on Spark structured streaming itself (global watermark), which requires workaround via splitting query into multiple queries & intermediate storage supporting end-to-end exactly once. Delta Lake covers the case, and I really would like to see the case also covered by Iceberg.\r\n\r\nI see there're lots of works in progress on the milestone (and these are great features which should be done), but after this we cover both batch and streaming workloads being done with Spark, which is a huge step forward on Spark users.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674023600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674155563","html_url":"https://github.com/apache/iceberg/pull/1325#issuecomment-674155563","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1325","id":674155563,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDE1NTU2Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T16:27:04Z","updated_at":"2020-08-14T16:27:04Z","author_association":"CONTRIBUTOR","body":"Looks great. Thank you for fixing this, @skambha!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674155563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674163196","html_url":"https://github.com/apache/iceberg/pull/1336#issuecomment-674163196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1336","id":674163196,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDE2MzE5Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T16:45:24Z","updated_at":"2020-08-14T16:45:24Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @RussellSpitzer! I'll fix those issues.\r\n\r\nThe short names are more obvious because they don't contain a hard-coded string that users need to know about. Consider the schema from the description, `locations list<struct<lat: double, long: double>>`. How does someone know to add `element` to reference `locations.element.lat`? I think it's more natural to allow referencing that field as `locations.lat`, as long as it doesn't conflict with other names.\r\n\r\nWe've also already supported these names, so I think we should continue to support them. But adding the full names removes ambiguity introduced by the short names.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674163196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674164207","html_url":"https://github.com/apache/iceberg/pull/1336#issuecomment-674164207","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1336","id":674164207,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDE2NDIwNw==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T16:47:44Z","updated_at":"2020-08-14T16:47:44Z","author_association":"MEMBER","body":"Ah that makes sense to me, I thought these identifiers were internal only,\nbut it makes much more sense to me now!\n\nOn Fri, Aug 14, 2020 at 11:45 AM Ryan Blue <notifications@github.com> wrote:\n\n> Thanks for reviewing, @RussellSpitzer <https://github.com/RussellSpitzer>!\n> I'll fix those issues.\n>\n> The short names are more obvious because they don't contain a hard-coded\n> string that users need to know about. Consider the schema from the\n> description, locations list<struct<lat: double, long: double>>. How does\n> someone know to add element to reference locations.element.lat? I think\n> it's more natural to allow referencing that field as locations.lat, as\n> long as it doesn't conflict with other names.\n>\n> We've also already supported these names, so I think we should continue to\n> support them. But adding the full names removes ambiguity introduced by the\n> short names.\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/iceberg/pull/1336#issuecomment-674163196>, or\n> unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AADE2YO6LJS2MP3DFDJC6LTSAVS3DANCNFSM4P6UNE3A>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674164207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674185438","html_url":"https://github.com/apache/iceberg/pull/1334#issuecomment-674185438","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1334","id":674185438,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDE4NTQzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T17:38:08Z","updated_at":"2020-08-14T17:38:08Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick! I looked through the suppressions and found one case where I think the warning was correct. We should fix that one, too.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674185438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674189505","html_url":"https://github.com/apache/iceberg/pull/1335#issuecomment-674189505","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1335","id":674189505,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDE4OTUwNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T17:47:33Z","updated_at":"2020-08-14T17:47:33Z","author_association":"CONTRIBUTOR","body":"This one is ready for another review round, @rdblue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674189505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674203642","html_url":"https://github.com/apache/iceberg/pull/1342#issuecomment-674203642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1342","id":674203642,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDIwMzY0Mg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T18:22:22Z","updated_at":"2020-08-14T18:22:22Z","author_association":"MEMBER","body":"@rdblue + @aokolnychyi  As we were talking about, a StaticTableOperations class for implementing #1344 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674203642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674205540","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-674205540","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":674205540,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDIwNTU0MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T18:27:07Z","updated_at":"2020-08-14T18:27:48Z","author_association":"MEMBER","body":"Thanks for your support, I'll try doing that. I should also probably add a doc for new developers with IDEA setup and basic build setup. I'm pretty new to this as well and I found it kind of difficult to track some of this down","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674205540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674246894","html_url":"https://github.com/apache/iceberg/pull/1342#issuecomment-674246894","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1342","id":674246894,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDI0Njg5NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T19:54:03Z","updated_at":"2020-08-14T19:54:03Z","author_association":"CONTRIBUTOR","body":"Thanks @RussellSpitzer! Overall this is the right approach and I think the implementation looks good. Just a few minor things.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674246894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674289041","html_url":"https://github.com/apache/iceberg/pull/1342#issuecomment-674289041","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1342","id":674289041,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDI4OTA0MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-14T21:59:12Z","updated_at":"2020-08-14T21:59:12Z","author_association":"MEMBER","body":"Updated","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674289041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674326047","html_url":"https://github.com/apache/iceberg/pull/1335#issuecomment-674326047","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1335","id":674326047,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDMyNjA0Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-15T01:04:10Z","updated_at":"2020-08-15T01:04:10Z","author_association":"CONTRIBUTOR","body":"+1, I just had minor comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674326047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674684490","html_url":"https://github.com/apache/iceberg/pull/1293#issuecomment-674684490","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1293","id":674684490,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDY4NDQ5MA==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T06:23:42Z","updated_at":"2020-08-17T06:23:42Z","author_association":"CONTRIBUTOR","body":"Hi @openinx , I have create #1346 for `InputFormat` and addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674684490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674693612","html_url":"https://github.com/apache/iceberg/pull/1293#issuecomment-674693612","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1293","id":674693612,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDY5MzYxMg==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T06:44:55Z","updated_at":"2020-08-17T06:44:55Z","author_association":"MEMBER","body":"Thanks for the update, I will take a look today. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674693612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674733687","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-674733687","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":674733687,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDczMzY4Nw==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T08:15:39Z","updated_at":"2020-08-17T08:15:39Z","author_association":"CONTRIBUTOR","body":"Hey @HeartSaVioR , thanks for comments. I think most of comments mentioned above have been addressed, just waiting for the review. And for some minor issues, I think we could fix them in the follow-up PRs to make the ball roll fast.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674733687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674895252","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-674895252","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":674895252,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDg5NTI1Mg==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T13:52:44Z","updated_at":"2020-08-17T13:52:44Z","author_association":"CONTRIBUTOR","body":"The following code catches the IOException and only does the logging:\r\nhttps://github.com/apache/iceberg/blob/3990daae506822dc6b85c7b6d8461be28ca5362e/core/src/main/java/org/apache/iceberg/hadoop/HadoopTableOperations.java#L275","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674895252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674898380","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-674898380","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":674898380,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDg5ODM4MA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T13:58:26Z","updated_at":"2020-08-17T13:58:26Z","author_association":"CONTRIBUTOR","body":"@rdblue that code is brought in by the initial commit and never changed after that. \r\nWould you please share your idea why you perfer to swallow the exception here? \r\nAlthough the correct v#.metadata.json are generated, they are not considered if version-hint.text is not updated, as a result, the readers could not see that new data.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674898380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674900151","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-674900151","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":674900151,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NDkwMDE1MQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T14:01:42Z","updated_at":"2020-08-17T14:02:13Z","author_association":"MEMBER","body":"@waterlx\r\n\r\nJust to clarify, \r\nUser 1 Has write and read permissions on the directory as well as unique status User2 doesn't have\r\nUser 2 Has write and read permissions on the directory but lacks authority to read files created by User1\r\n\r\nUser 1 Writes and Creates VersionHint + MetadataFile\r\nUser 2 Writes and Creates only the new Metadata file because they have permissions to do so but fails to write the Version Hint because this would require overwriting User1's version hint\r\n\r\nThen when reading User2 has issues because while they can read the Metadata they could never read the VersionHint from\r\nUser1?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/674900151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675095986","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-675095986","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":675095986,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTA5NTk4Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T20:26:43Z","updated_at":"2020-08-17T20:26:43Z","author_association":"CONTRIBUTOR","body":"@gustavoatt @rdblue quick question on int96 representation in different query engines.\r\n\r\nHere is what I see in Spark:\r\n\r\n```\r\n  val PARQUET_INT96_AS_TIMESTAMP = buildConf(\"spark.sql.parquet.int96AsTimestamp\")\r\n    .doc(\"Some Parquet-producing systems, in particular Impala, store Timestamp into INT96. \" +\r\n      \"Spark would also store Timestamp as INT96 because we need to avoid precision lost of the \" +\r\n      \"nanoseconds field. This flag tells Spark SQL to interpret INT96 data as a timestamp to \" +\r\n      \"provide compatibility with these systems.\")\r\n    .booleanConf\r\n    .createWithDefault(true)\r\n\r\n  val PARQUET_INT96_TIMESTAMP_CONVERSION = buildConf(\"spark.sql.parquet.int96TimestampConversion\")\r\n    .doc(\"This controls whether timestamp adjustments should be applied to INT96 data when \" +\r\n      \"converting to timestamps, for data written by Impala.  This is necessary because Impala \" +\r\n      \"stores INT96 data with a different timezone offset than Hive & Spark.\")\r\n    .booleanConf\r\n    .createWithDefault(false)\r\n```\r\n\r\nI remember there were changes/plans on Impala side. Does anybody know the current state?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675095986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675100339","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-675100339","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":675100339,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTEwMDMzOQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T20:35:41Z","updated_at":"2020-08-17T20:35:41Z","author_association":"MEMBER","body":"This is an incomplete upgrade but enough to compile the new code and expose the new warnings.\r\n\r\n**Version Bumps**\r\nbaseline 0.55 -> 3.36.2\r\ngit-version 0.9 -> 0.12.3\r\n\r\n**Checkstyle Changes Require for Compile**\r\n - LineLength no longer is a Treewalker so it needs to be moved\r\n - MissingJavaDocMethod is now it's own module, allowMissingThrows is now validate throws\r\n - MinLineCount was owned by MissingJavaDocMethod but we only set this to a huge number\r\n\r\n**FindBug Suppression Required for Compile**\r\n\r\n- StrictUnusedVariables must be disabled because we have several hundred cases of method parameters not being used in their bodies\r\n\r\n**New Checkstyle Violations**\r\n - RightCurly - We use Same but this triggers on private constructors with same line braces\r\n\r\n**New Baseline/Findbug Warnings**\r\n - Final Class - Class not declared final but all constructors are private\r\n - Javadoc Missing Summary - No Summary mostly in our case this is where we have methods with only a `@return`\r\n - RawTypes - Using a parameterized class without a parameterized type \r\n - ReferenceEquality - We have a few instances of == instead of Equals\r\n - LambdaMethodReference - Using s -> s.foo instead of s::foo\r\n - LoggerEnclosingClass - using getLogger for super in child\r\n - UncessaryAnonymousClass - Extend Function instead of using a lambda\r\n - CollectionUndefinedEquality - Using equality or contains on Collection without it's own equals or badly behaving equality like (UTF8 strings)\r\n - JDKObsolete : Collection of many things\r\n - - Using Date (we use Date internally in some places we don't need to be using it)\r\n - - Using linked list ( Warning argues that it is not performed compared to ArrayList and we should us that unless we need nulls or want to benchmark)\r\n - - SortedMap is deprecated use NavigableMap instead\r\n - Public constructor for Abstract Class\r\n - CollectionStreamForeach : Collection.stream.foreach should be Collection.foreach\r\n - MissingOverrides ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675100339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675100642","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-675100642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":675100642,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTEwMDY0Mg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T20:36:21Z","updated_at":"2020-08-17T20:36:21Z","author_association":"MEMBER","body":"@rdblue ^ I'll have a PR available without fixing any of this for other's reproduction in a bit","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675100642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675102013","html_url":"https://github.com/apache/iceberg/pull/1339#issuecomment-675102013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1339","id":675102013,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTEwMjAxMw==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T20:38:50Z","updated_at":"2020-08-17T20:38:50Z","author_association":"CONTRIBUTOR","body":"Friendly ping in this PR: @aokolnychyi @rdsr @rdblue Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675102013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675135938","html_url":"https://github.com/apache/iceberg/issues/1328#issuecomment-675135938","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1328","id":675135938,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTEzNTkzOA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T21:58:48Z","updated_at":"2020-08-17T21:58:48Z","author_association":"MEMBER","body":"#1350 An example if anyone wants to see the new slew of warnings and such. I'll try to figure out the RightCurly Checkstyle thing as well since front he docs It doesn't make sense to me why it's failing ...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675135938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675136724","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-675136724","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":675136724,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTEzNjcyNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T22:00:59Z","updated_at":"2020-08-17T22:00:59Z","author_association":"CONTRIBUTOR","body":"The version hint file is just that -- a hint. It is not guaranteed to be correct because we cannot guarantee that two different FS operations complete successfully (the rename to commit, and the version hint update).\r\n\r\nTo handle cases where the version hint is missing or incorrect, Iceberg should look for newer versions. If the version hint says the current version is 3, but v4.metadata.json exists, it should detect v4 and use that instead, and keep trying new version numbers until one does not exist.\r\n\r\nSo the main problem here is that you had an incorrect read when the version hint was out of date.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675136724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675139583","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-675139583","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":675139583,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTEzOTU4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T22:09:07Z","updated_at":"2020-08-17T22:09:07Z","author_association":"CONTRIBUTOR","body":"I think that the first option, int96 as timestamp, isn't very useful. I'm not aware of any system that writes int96 data that is not a timestamp. If such a system exists, we can figure out how to support it later.\r\n\r\nFor the second option, it appears that there are some adjustments made to for tables written by other systems. I think that we can do better than a global runtime flag by adding a table property that supports an adjustment for int96 data. New timestamp data will necessarily be written using int64/microseconds and will not have the problem. But we could support an adjustment to add to all int96 values.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675139583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675141179","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-675141179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":675141179,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTE0MTE3OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T22:13:30Z","updated_at":"2020-08-17T22:13:30Z","author_association":"CONTRIBUTOR","body":"I think we already cover points 1 & 2 except potentially some systems like Impala. My question is whether the current fallback scenario we have for INT96 will lead to incorrect results while reading Impala data? I tested Spark/Hive only and that works.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675141179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675146874","html_url":"https://github.com/apache/iceberg/pull/1351#issuecomment-675146874","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1351","id":675146874,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTE0Njg3NA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T22:29:49Z","updated_at":"2020-08-17T22:29:49Z","author_association":"CONTRIBUTOR","body":"@rdblue @thesquelched @gustavoatt could you take a look, please?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675146874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675153026","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-675153026","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":675153026,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTE1MzAyNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T22:49:51Z","updated_at":"2020-08-17T22:49:51Z","author_association":"CONTRIBUTOR","body":"Currently, there is no adjustment to int96 timestamp values. And I believe that any adjustment Spark makes is based on the current session time zone. If there needs to be an adjustment to imported int96 timestamps for Impala or any other writer that was incorrect, then I think it makes sense to add a static offset for all int96 values, assuming that all of them were written the same way.\r\n\r\nI'm happy to not add this if no one needs it, but I think it is the remaining piece to solve any problems that might come up.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675153026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675155272","html_url":"https://github.com/apache/iceberg/issues/1138#issuecomment-675155272","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1138","id":675155272,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTE1NTI3Mg==","user":{"login":"gustavoatt","id":1475634,"node_id":"MDQ6VXNlcjE0NzU2MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/1475634?v=4","gravatar_id":"","url":"https://api.github.com/users/gustavoatt","html_url":"https://github.com/gustavoatt","followers_url":"https://api.github.com/users/gustavoatt/followers","following_url":"https://api.github.com/users/gustavoatt/following{/other_user}","gists_url":"https://api.github.com/users/gustavoatt/gists{/gist_id}","starred_url":"https://api.github.com/users/gustavoatt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gustavoatt/subscriptions","organizations_url":"https://api.github.com/users/gustavoatt/orgs","repos_url":"https://api.github.com/users/gustavoatt/repos","events_url":"https://api.github.com/users/gustavoatt/events{/privacy}","received_events_url":"https://api.github.com/users/gustavoatt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T22:57:05Z","updated_at":"2020-08-17T22:57:05Z","author_association":"CONTRIBUTOR","body":"> Currently, there is no adjustment to int96 timestamp values. And I believe that any adjustment Spark makes is based on the current session time zone. If there needs to be an adjustment to imported int96 timestamps for Impala or any other writer that was incorrect, then I think it makes sense to add a static offset for all int96 values, assuming that all of them were written the same way.\r\n> \r\n> I'm happy to not add this if no one needs it, but I think it is the remaining piece to solve any problems that might come up.\r\n\r\nYes, Spark makes the adjustment based on the current session timezone:\r\n\r\n```scala\r\n// PARQUET_INT96_TIMESTAMP_CONVERSION says to apply timezone conversions to int96 timestamps'\r\n// *only* if the file was created by something other than \"parquet-mr\", so check the actual\r\n// writer here for this file.  We have to do this per-file, as each file in the table may\r\n// have different writers.\r\n// Define isCreatedByParquetMr as function to avoid unnecessary parquet footer reads.\r\ndef isCreatedByParquetMr: Boolean =\r\n  footerFileMetaData.getCreatedBy().startsWith(\"parquet-mr\")\r\n\r\nval convertTz =\r\n  if (timestampConversion && !isCreatedByParquetMr) {\r\n    Some(DateTimeUtils.getTimeZone(sharedConf.get(SQLConf.SESSION_LOCAL_TIMEZONE.key)))\r\n  } else {\r\n    None\r\n  }\r\n```\r\n\r\nOn our end we don't really need to add this offset since we only have to deal with int96 written by either Spark or Hive\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675155272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675179357","html_url":"https://github.com/apache/iceberg/pull/1351#issuecomment-675179357","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1351","id":675179357,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTE3OTM1Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T00:21:43Z","updated_at":"2020-08-18T00:21:43Z","author_association":"CONTRIBUTOR","body":"I've updated the PR to include size and null values counts but not min/max values.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675179357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675212776","html_url":"https://github.com/apache/iceberg/issues/1304#issuecomment-675212776","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1304","id":675212776,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTIxMjc3Ng==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T02:29:23Z","updated_at":"2020-08-18T02:29:23Z","author_association":"CONTRIBUTOR","body":"> The two methods are alternatives to one another, so I would not expect users to call both of them. I'd be okay with fixing this (open to suggestions on behavior) or simply throwing an exception if both methods are used to configure the same table scan.\r\n\r\nThank you for your reply, I think simply throwing an exception is good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675212776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675225772","html_url":"https://github.com/apache/iceberg/pull/1289#issuecomment-675225772","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1289","id":675225772,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTIyNTc3Mg==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T03:20:04Z","updated_at":"2020-08-18T03:20:04Z","author_association":"CONTRIBUTOR","body":"> Thanks for following up, it looks like whatever I enabled didn't do the trick. Feel free to open an [INFRA](https://issues.apache.org/jira/projects/INFRA/summary) ticket or ask the #asfinfra channel on slack.\r\n> \r\n> Thank you for the offer to help with improvements like this, it is great to have people like you working to make the project better!\r\n\r\nNo problem. I made two tickets, one of them because `iceberg` is not listed as a project and IIUC we're not in the incubator anymore https://issues.apache.org/jira/browse/INFRA-20712. Two, I made a ticket for enabling the auto labeler bot, https://issues.apache.org/jira/browse/INFRA-20713. I'll keep an eye on both.\r\n\r\nIt also looks like we can use Github actions (at  least they have an option for it in Jira), so that might be easier in the future. Once these tickets are done, I can create a ticket to ask. I'll keep an eye on these ones for now though!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675225772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675475247","html_url":"https://github.com/apache/iceberg/pull/1255#issuecomment-675475247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1255","id":675475247,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTQ3NTI0Nw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T13:21:37Z","updated_at":"2020-08-18T13:21:37Z","author_association":"MEMBER","body":"Ping @rdblue ,  could this be merged into master branch now ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675475247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675491544","html_url":"https://github.com/apache/iceberg/pull/1243#issuecomment-675491544","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1243","id":675491544,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTQ5MTU0NA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T13:52:19Z","updated_at":"2020-08-18T13:52:19Z","author_association":"CONTRIBUTOR","body":"Thanks @guilload lets improve the test in follow ups.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675491544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675499002","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-675499002","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":675499002,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTQ5OTAwMg==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T14:05:48Z","updated_at":"2020-08-18T14:05:48Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer , yes, it is. But I realized that Iceberg is still able to read the correct data even with the wrong version-hint. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675499002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675503748","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-675503748","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":675503748,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTUwMzc0OA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T14:13:55Z","updated_at":"2020-08-18T14:14:08Z","author_association":"CONTRIBUTOR","body":"@rdblue got your idea and I found those logic in HadoopTableOperations#refresh().\r\nSo the version hint being out of date is not the root cause of incorrect read. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675503748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675568911","html_url":"https://github.com/apache/iceberg/pull/1338#issuecomment-675568911","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1338","id":675568911,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTU2ODkxMQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T16:04:18Z","updated_at":"2020-08-18T16:04:18Z","author_association":"CONTRIBUTOR","body":"Looks good to me too, some minor comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675568911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675585039","html_url":"https://github.com/apache/iceberg/pull/1334#issuecomment-675585039","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1334","id":675585039,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTU4NTAzOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T16:34:13Z","updated_at":"2020-08-18T16:34:13Z","author_association":"CONTRIBUTOR","body":"@kbendick, can you revert the last few changes? I think this was fairly close to ready, but not any more.\r\n\r\nFor the ORC path, we do need to use the backing byte array if there is one, to avoid unnecessary copying. Copying is a really expensive operation and we want to avoid it unless the bytes are off heap. I think the only thing that needed to be fixed was to avoid modifying the original buffer by using `duplicate` before reading off-heap bytes, instead of modifying the buffer and then restoring its state.\r\n\r\nFor Pig, I think you just need to call `duplicate` before reading the bytes as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675585039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675604146","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-675604146","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":675604146,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTYwNDE0Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T17:11:54Z","updated_at":"2020-08-18T17:11:54Z","author_association":"CONTRIBUTOR","body":"@zhangdove, Iceberg does not modify timestamps other than converting between representations (like micros to millis).\r\n\r\nTimestamp modification or adjustment to display a value by time zone is done by processing engines, not by Iceberg itself. Iceberg must only store values and return the same values.\r\n\r\nTimestamp values are in microseconds and come in two flavors: timestamp is a zoneless date and time represented as microseconds from the Unix epoch in UTC, and timestamptz is an instant in time represented as microseconds from the Unix epoch in UTC.\r\n\r\nThe report in #1354 uses Spark. Spark only supports timestamptz and it passes values to Iceberg as microseconds from epoch, which Iceberg returns to Spark unmodified. The `day` partition function is not specific to a zone, which is probably the source of the confusion. The daily boundaries used by that function are UTC day boundaries, if I remember correctly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675604146/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675701942","html_url":"https://github.com/apache/iceberg/pull/1208#issuecomment-675701942","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1208","id":675701942,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTcwMTk0Mg==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T20:36:28Z","updated_at":"2020-08-18T20:36:28Z","author_association":"CONTRIBUTOR","body":"Thanks @edgarRd . I just merged this!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675701942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675734308","html_url":"https://github.com/apache/iceberg/issues/1345#issuecomment-675734308","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1345","id":675734308,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTczNDMwOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T21:40:23Z","updated_at":"2020-08-18T21:40:23Z","author_association":"CONTRIBUTOR","body":"FYI, @rdsr @edgarRd ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675734308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675740265","html_url":"https://github.com/apache/iceberg/pull/1357#issuecomment-675740265","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1357","id":675740265,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTc0MDI2NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T21:56:49Z","updated_at":"2020-08-18T21:56:49Z","author_association":"CONTRIBUTOR","body":"Looks great! Thanks @jzhuge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675740265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675741350","html_url":"https://github.com/apache/iceberg/issues/1345#issuecomment-675741350","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1345","id":675741350,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTc0MTM1MA==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T21:59:44Z","updated_at":"2020-08-18T21:59:44Z","author_association":"CONTRIBUTOR","body":"Thanks for creating this, @aokolnychyi - I think I had a similar issue in https://github.com/apache/iceberg/issues/1206. The name mapping support for ORC has been merged https://github.com/apache/iceberg/pull/1208, so I'm planning on working on this issue this week.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675741350/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675746766","html_url":"https://github.com/apache/iceberg/pull/1208#issuecomment-675746766","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1208","id":675746766,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTc0Njc2Ng==","user":{"login":"edgarRd","id":266670,"node_id":"MDQ6VXNlcjI2NjY3MA==","avatar_url":"https://avatars.githubusercontent.com/u/266670?v=4","gravatar_id":"","url":"https://api.github.com/users/edgarRd","html_url":"https://github.com/edgarRd","followers_url":"https://api.github.com/users/edgarRd/followers","following_url":"https://api.github.com/users/edgarRd/following{/other_user}","gists_url":"https://api.github.com/users/edgarRd/gists{/gist_id}","starred_url":"https://api.github.com/users/edgarRd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edgarRd/subscriptions","organizations_url":"https://api.github.com/users/edgarRd/orgs","repos_url":"https://api.github.com/users/edgarRd/repos","events_url":"https://api.github.com/users/edgarRd/events{/privacy}","received_events_url":"https://api.github.com/users/edgarRd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T22:15:20Z","updated_at":"2020-08-18T22:15:20Z","author_association":"CONTRIBUTOR","body":"Thanks @rdsr and @shardulm94 for the reviews and merging!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675746766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675755175","html_url":"https://github.com/apache/iceberg/pull/1333#issuecomment-675755175","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1333","id":675755175,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTc1NTE3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T22:41:55Z","updated_at":"2020-08-18T22:41:55Z","author_association":"CONTRIBUTOR","body":"@kbendick, any idea why there are so many commits in your PRs? Are you branching off of apache/master?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675755175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675804929","html_url":"https://github.com/apache/iceberg/pull/1358#issuecomment-675804929","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1358","id":675804929,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTgwNDkyOQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T01:49:55Z","updated_at":"2020-08-19T01:49:55Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer, equality works correctly, we just have hash collisions, I guess.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675804929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675811525","html_url":"https://github.com/apache/iceberg/issues/1349#issuecomment-675811525","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1349","id":675811525,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTgxMTUyNQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T02:16:19Z","updated_at":"2020-08-19T02:16:19Z","author_association":"CONTRIBUTOR","body":"It seems correct to me to ignore exceptions that occur while writing the hint as that hint is optional.\r\n\r\n@waterlx, how did you notice you read incorrect data? How did you load/write to the table? Did you cache the table instance?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675811525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675874398","html_url":"https://github.com/apache/iceberg/pull/1355#issuecomment-675874398","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1355","id":675874398,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTg3NDM5OA==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T06:14:06Z","updated_at":"2020-08-19T06:14:06Z","author_association":"CONTRIBUTOR","body":"@rdblue Thanks for your reply. And I still have some questions about time zones.\r\n\r\n>Timestamp modification or adjustment to display a value by time zone is done by processing engines, not by Iceberg itself. Iceberg must only store values and return the same values.\r\n\r\n1.I don't think that such an operation changes the value of the time, and Iceberg does not change the real data of the time type, but only changes the value of the time partition directory to meet the user's current time zone.\r\n\r\n2.I don't understand why iceberg must use UTC time zone in the time partition directory. The user's time data in other time zones is prone to the problems described in #1354 .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675874398/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675887605","html_url":"https://github.com/apache/iceberg/pull/1185#issuecomment-675887605","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1185","id":675887605,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTg4NzYwNQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T06:51:08Z","updated_at":"2020-08-19T06:51:08Z","author_association":"MEMBER","body":"For this pull request, there are several issue I need to explain here: \r\n1.  @JingsongLi suggest to consider the two cases: 1.  multiple flink jobs are writing the same table;  2. restart with a new job and continue to write the same time.  For the former case,  we will need a global id, such as job id or application id,  to identify the max checkpoint id we've committed for a given job. For example, we have two flink job: job1 and job2: \r\n  a.  `job1` commit the iceberg table with maxCheckpointId=1 ; \r\n  b.  the second `job2` commit the iceberg table with maxCheckpointId=5; \r\n  c.  `job1` commit the iceberg table with maxCheckpointId=2; \r\n  d.  the `job2` start to commit again, it need to find the maxCheckpointId corresponding to `job2`, which is 5 now. Then it need to rewrite its maxCheckpointId = 6 and commit the txn. \r\n\r\nThe global id of job will also help to resolve the restart issue2, because we will know that the newly started job is starting from checkpoint=1. \r\n\r\n2.  the uid of operator (from @kbendick) issue,  I read the [document](https://ci.apache.org/projects/flink/flink-docs-stable/ops/upgrading.html#matching-operator-state) in flink. Indeed, it's used for state recover and need to be unique across jobs. \r\n\r\nI've address this two issue in the new patch , also attached the unit tests. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675887605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675889266","html_url":"https://github.com/apache/iceberg/pull/1333#issuecomment-675889266","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1333","id":675889266,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTg4OTI2Ng==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T06:55:19Z","updated_at":"2020-08-19T06:55:19Z","author_association":"CONTRIBUTOR","body":"> @kbendick, any idea why there are so many commits in your PRs? Are you branching off of apache/master?\r\n\r\nI think you're right. I very obviously messed up somewhere along the way. I'm gonna just open a new PR for this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675889266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675896595","html_url":"https://github.com/apache/iceberg/pull/1334#issuecomment-675896595","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1334","id":675896595,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTg5NjU5NQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T07:13:39Z","updated_at":"2020-08-19T07:13:39Z","author_association":"CONTRIBUTOR","body":"> @kbendick, can you revert the last few changes? I think this was fairly close to ready, but not any more.\r\n> \r\n> For the ORC path, we do need to use the backing byte array if there is one, to avoid unnecessary copying. Copying is a really expensive operation and we want to avoid it unless the bytes are off heap. I think the only thing that needed to be fixed was to avoid modifying the original buffer by using `duplicate` before reading off-heap bytes, instead of modifying the buffer and then restoring its state.\r\n> \r\n> For Pig, I think you just need to call `duplicate` before reading the bytes as well.\r\n\r\nI rolled back to @edgarRd's review and then I applied all of your suggestions (I believe). Everything should be as requested now. Thanks for taking a look!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/675896595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676027734","html_url":"https://github.com/apache/iceberg/issues/1359#issuecomment-676027734","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1359","id":676027734,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjAyNzczNA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T09:30:00Z","updated_at":"2020-08-19T09:30:00Z","author_association":"CONTRIBUTOR","body":"```\r\n--conf spark.sql.catalog.spark_catalog=org.apache.iceberg.spark.SparkSessionCatalog\r\n--conf spark.sql.catalog.spark_catalog.type=hive\r\n--conf spark.sql.catalog.local=org.apache.iceberg.spark.SparkCatalog\r\n--conf spark.sql.catalog.local.type=hadoop\r\n--conf spark.sql.catalog.local.uri=hdfs://nameservice1:8020/user/spark2/iceberg\r\n```\r\n\r\nOnce we group configs by catalog then configs for `local` catalog are following:\r\n\r\n```\r\n--conf spark.sql.catalog.local=org.apache.iceberg.spark.SparkCatalog\r\n--conf spark.sql.catalog.local.type=hadoop\r\n--conf spark.sql.catalog.local.uri=hdfs://nameservice1:8020/user/spark2/iceberg\r\n```\r\n\r\n`uri` is for hive-type catalog. hadoop-type catalog requires `warehouse`.\r\n\r\nPlease refer https://iceberg.apache.org/spark/#configuring-catalogs to check required configurations.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676027734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676049225","html_url":"https://github.com/apache/iceberg/issues/1359#issuecomment-676049225","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1359","id":676049225,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjA0OTIyNQ==","user":{"login":"Heltman","id":44333070,"node_id":"MDQ6VXNlcjQ0MzMzMDcw","avatar_url":"https://avatars.githubusercontent.com/u/44333070?v=4","gravatar_id":"","url":"https://api.github.com/users/Heltman","html_url":"https://github.com/Heltman","followers_url":"https://api.github.com/users/Heltman/followers","following_url":"https://api.github.com/users/Heltman/following{/other_user}","gists_url":"https://api.github.com/users/Heltman/gists{/gist_id}","starred_url":"https://api.github.com/users/Heltman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Heltman/subscriptions","organizations_url":"https://api.github.com/users/Heltman/orgs","repos_url":"https://api.github.com/users/Heltman/repos","events_url":"https://api.github.com/users/Heltman/events{/privacy}","received_events_url":"https://api.github.com/users/Heltman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T09:44:55Z","updated_at":"2020-08-19T09:44:55Z","author_association":"CONTRIBUTOR","body":"> ```\r\n> --conf spark.sql.catalog.spark_catalog=org.apache.iceberg.spark.SparkSessionCatalog\r\n> --conf spark.sql.catalog.spark_catalog.type=hive\r\n> --conf spark.sql.catalog.local=org.apache.iceberg.spark.SparkCatalog\r\n> --conf spark.sql.catalog.local.type=hadoop\r\n> --conf spark.sql.catalog.local.uri=hdfs://nameservice1:8020/user/spark2/iceberg\r\n> ```\r\n> \r\n> Once we group configs by catalog then configs for `local` catalog are following:\r\n> \r\n> ```\r\n> --conf spark.sql.catalog.local=org.apache.iceberg.spark.SparkCatalog\r\n> --conf spark.sql.catalog.local.type=hadoop\r\n> --conf spark.sql.catalog.local.uri=hdfs://nameservice1:8020/user/spark2/iceberg\r\n> ```\r\n> \r\n> `uri` is for hive-type catalog. hadoop-type catalog requires `warehouse`.\r\n> \r\n> Please refer https://iceberg.apache.org/spark/#configuring-catalogs to check required configurations.\r\n\r\n![image](https://user-images.githubusercontent.com/44333070/90619273-9fce3900-e243-11ea-8842-ead3c91e5cac.png)\r\n\r\nthis mistake me...","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/676049225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]