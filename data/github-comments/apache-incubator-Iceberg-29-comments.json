[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607459557","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-607459557","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":607459557,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQ1OTU1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T19:57:19Z","updated_at":"2020-04-01T19:57:19Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, I think that's heading in the right direction. I like that you use manifest metadata to avoid reading the ones that we don't need to because the file would be skipped.\r\n\r\nOne problem is that it is focused on producing microbatches. I think instead it should produce a deterministic sequence of data files. The reason is to support other frameworks, like Flink. My understanding is that Flink dispatches data to tasks more like Spark batch, where the first task to finish processing gets the next data file. So I'm imagining something like an endless Iterator that can be consumed to create micro-batches, or can be used to keep dispatching new data files to existing tasks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607459557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607467147","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-607467147","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":607467147,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQ2NzE0Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T20:14:51Z","updated_at":"2020-04-01T20:14:51Z","author_association":"CONTRIBUTOR","body":"@rdblue, do you mean something like I describe in [this](https://github.com/apache/incubator-iceberg/pull/796#discussion_r399912843) comment? One potential problem in that is data replay. What if Spark asks the source to replay data that we already consumed. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607467147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607472776","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-607472776","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":607472776,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQ3Mjc3Ng==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T20:27:14Z","updated_at":"2020-04-02T20:44:47Z","author_association":"CONTRIBUTOR","body":"We can probably address the replay issue by constructing an iterator from a given `startFileIndex` every time we get a `startOffset` or have a way to resent the current pointer.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607472776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607607664","html_url":"https://github.com/apache/iceberg/issues/417#issuecomment-607607664","issue_url":"https://api.github.com/repos/apache/iceberg/issues/417","id":607607664,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzYwNzY2NA==","user":{"login":"dannyhnu","id":2500763,"node_id":"MDQ6VXNlcjI1MDA3NjM=","avatar_url":"https://avatars.githubusercontent.com/u/2500763?v=4","gravatar_id":"","url":"https://api.github.com/users/dannyhnu","html_url":"https://github.com/dannyhnu","followers_url":"https://api.github.com/users/dannyhnu/followers","following_url":"https://api.github.com/users/dannyhnu/following{/other_user}","gists_url":"https://api.github.com/users/dannyhnu/gists{/gist_id}","starred_url":"https://api.github.com/users/dannyhnu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dannyhnu/subscriptions","organizations_url":"https://api.github.com/users/dannyhnu/orgs","repos_url":"https://api.github.com/users/dannyhnu/repos","events_url":"https://api.github.com/users/dannyhnu/events{/privacy}","received_events_url":"https://api.github.com/users/dannyhnu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T03:59:47Z","updated_at":"2020-04-02T03:59:47Z","author_association":"NONE","body":"ran into the same problem here, now I had to generate a new field for partitioning:  cast(timestamp_Long as timestamp) as timestamp_Timestatmp. for user experience, please reconsider supporting partitioning on long column type","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607607664/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607613079","html_url":"https://github.com/apache/iceberg/pull/857#issuecomment-607613079","issue_url":"https://api.github.com/repos/apache/iceberg/issues/857","id":607613079,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzYxMzA3OQ==","user":{"login":"XiaokunDing","id":3050222,"node_id":"MDQ6VXNlcjMwNTAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3050222?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaokunDing","html_url":"https://github.com/XiaokunDing","followers_url":"https://api.github.com/users/XiaokunDing/followers","following_url":"https://api.github.com/users/XiaokunDing/following{/other_user}","gists_url":"https://api.github.com/users/XiaokunDing/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaokunDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaokunDing/subscriptions","organizations_url":"https://api.github.com/users/XiaokunDing/orgs","repos_url":"https://api.github.com/users/XiaokunDing/repos","events_url":"https://api.github.com/users/XiaokunDing/events{/privacy}","received_events_url":"https://api.github.com/users/XiaokunDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T04:24:35Z","updated_at":"2020-04-02T04:24:35Z","author_association":"CONTRIBUTOR","body":"Thanks @rdblue , I was  removed the  nested type.would you mind to take another look or give some advices on next stepsï¼Ÿ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607613079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607645744","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-607645744","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":607645744,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzY0NTc0NA==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T06:22:21Z","updated_at":"2020-04-02T06:22:21Z","author_association":"CONTRIBUTOR","body":"@rdblue added more unit tests. Please have a look.  Had classpath issues with mini cluster. I've explained the problem above","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607645744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607658305","html_url":"https://github.com/apache/iceberg/issues/475#issuecomment-607658305","issue_url":"https://api.github.com/repos/apache/iceberg/issues/475","id":607658305,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzY1ODMwNQ==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T06:56:01Z","updated_at":"2020-04-02T06:56:01Z","author_association":"CONTRIBUTOR","body":"@rdblue Just hit the same issue. In TypeToMessageType.java, \r\nhttps://github.com/apache/incubator-iceberg/blob/master/parquet/src/main/java/org/apache/iceberg/parquet/TypeToMessageType.java#L82, calls https://github.com/apache/incubator-iceberg/blob/master/parquet/src/main/java/org/apache/iceberg/parquet/TypeToMessageType.java#L133\r\nIt can't store the `shouldAdjustToUTC ` field.  This is the reason it can't call the correct writer. So it fails in the `if` branch, https://github.com/apache/incubator-iceberg/blob/master/parquet/src/main/java/org/apache/iceberg/parquet/Parquet.java#L212\r\n\r\nThere are few other existing tests pass, which go to https://github.com/apache/incubator-iceberg/blob/master/parquet/src/main/java/org/apache/iceberg/parquet/Parquet.java#L235, which ignores the boolean flag and write it as Timestamp.withZone(). So it passes. \r\n\r\nIn Spark parquet writer, it actually throws an exception:\r\n\r\n`java.lang.UnsupportedOperationException: Spark does not support timestamp without time zone field`\r\n\r\nIf I understand correctly, it may not be fixed by using `TypeWithSchemaVisitor ` only. I will give it a try. I have made changes to throw similar exception as Spark does and comment out some tests. That was done before I found this opened issue.\r\n\r\nIf it is not an easy fix, I will submit the exception PR.\r\n\r\nI also did a quick test on UUID and it also fails. I haven't debug that issue yet. I suspect similar issue of Logical Type support. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607658305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607730200","html_url":"https://github.com/apache/iceberg/issues/867#issuecomment-607730200","issue_url":"https://api.github.com/repos/apache/iceberg/issues/867","id":607730200,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzczMDIwMA==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T09:27:43Z","updated_at":"2020-04-02T09:27:43Z","author_association":"CONTRIBUTOR","body":"Addressed by [this commit](https://github.com/waterlx/incubator-iceberg/commit/198c19003cde8dc2874a47101ab4b3ba990895ad). Ready to close.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607730200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607731469","html_url":"https://github.com/apache/iceberg/issues/868#issuecomment-607731469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/868","id":607731469,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzczMTQ2OQ==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T09:30:20Z","updated_at":"2020-04-02T09:30:20Z","author_association":"CONTRIBUTOR","body":"Addressed by [this commit](https://github.com/waterlx/incubator-iceberg/commit/198c19003cde8dc2874a47101ab4b3ba990895ad). Ready to close.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607731469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607796003","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-607796003","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":607796003,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzc5NjAwMw==","user":{"login":"waterlx","id":13976495,"node_id":"MDQ6VXNlcjEzOTc2NDk1","avatar_url":"https://avatars.githubusercontent.com/u/13976495?v=4","gravatar_id":"","url":"https://api.github.com/users/waterlx","html_url":"https://github.com/waterlx","followers_url":"https://api.github.com/users/waterlx/followers","following_url":"https://api.github.com/users/waterlx/following{/other_user}","gists_url":"https://api.github.com/users/waterlx/gists{/gist_id}","starred_url":"https://api.github.com/users/waterlx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waterlx/subscriptions","organizations_url":"https://api.github.com/users/waterlx/orgs","repos_url":"https://api.github.com/users/waterlx/repos","events_url":"https://api.github.com/users/waterlx/events{/privacy}","received_events_url":"https://api.github.com/users/waterlx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T11:46:43Z","updated_at":"2020-04-02T11:48:22Z","author_association":"CONTRIBUTOR","body":"Some update here in case you are interested:\r\n1. Spectator and Metacat are moved. #867, #868 and #871 are closed as result.\r\n2. Some duplicated logic are added to determine whethere it is Hive Catalog or Hadoop Catalog based on a setting, which I do not think has a good fit here. But they are used to check if the code path could apply to Hadoop Catalog as well. Plan to remove them or figure out a better way. \r\n3. Working on removing S3/AWS SDK and re-writing it using FileIO. (#872)\r\n4. Will work on breaking up the logic into resonable pieces so as to add them to code base and be friendly to review, after the remove work are all cleared.\r\n5. The PR is still NOT ready for detailed review yet.\r\n\r\nMore on item 2 above:\r\nThe current logic is to pass a few parameters (String) to Fink sink, to tell it about namespace, table, even catalog, then the internal logic new Catalog and load the table. Maybe a way to simplify that is to pass an instance of [Table](https://github.com/apache/incubator-iceberg/blob/master/api/src/main/java/org/apache/iceberg/Table.java), while the sink does not need to care about if Table is loaded by Hive/Hadoop Catalog or by HadoopTables. But the idea is blocked by BaseTable being not serializable, making the logic have to do more, such as new Catalog and load table. \r\n\r\n@jerryshao @chenjunjiedada @openinx @aokolnychyi @bowenli86 @stevenzwu @rdblue FYI\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/607796003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608031554","html_url":"https://github.com/apache/iceberg/issues/567#issuecomment-608031554","issue_url":"https://api.github.com/repos/apache/iceberg/issues/567","id":608031554,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODAzMTU1NA==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T18:32:57Z","updated_at":"2020-04-02T18:32:57Z","author_association":"CONTRIBUTOR","body":"@waterlx sorry for being late. didn't get any notification email from github. I will try to comment in the individual jiras to provide more context.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608031554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608036978","html_url":"https://github.com/apache/iceberg/issues/873#issuecomment-608036978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/873","id":608036978,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODAzNjk3OA==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T18:43:37Z","updated_at":"2020-04-02T18:43:37Z","author_association":"CONTRIBUTOR","body":"@waterlx current code does try to clean up uncommitted files after closing and uploading the files. We just swallow all exceptions if the deletion failed and rely on S3 bucket retention to purge garbage.\r\nhttps://github.com/Netflix-Skunkworks/nfflink-connector-iceberg/blob/master/nfflink-connector-iceberg/src/main/java/com/netflix/spaas/nfflink/connector/iceberg/sink/IcebergWriter.java#L301-L313\r\n\r\n@rdblue it will be great if `FileAppender` can provide an `abort()` API. Right now, Iceberg writer calls `close()` API, which also uploads the files even though we don't need it to be uploaded. It just creates cleanup work for us.\r\n\r\nhowever, here is one case I am not sure how to do active cleanup. Writers uploaded the files, then failed/crashed. Where do we keep track of those files? In S3, these corner cases can be taken care of by bucket/prefix level retention policy.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608036978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608041202","html_url":"https://github.com/apache/iceberg/issues/870#issuecomment-608041202","issue_url":"https://api.github.com/repos/apache/iceberg/issues/870","id":608041202,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODA0MTIwMg==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T18:51:39Z","updated_at":"2020-04-02T18:51:39Z","author_association":"CONTRIBUTOR","body":"I 100% agree that we need to support Iceberg GenericRecord or Flink native formats. We probably need some generic serializer interface. We use Avro quite extensively in the streaming pipeline. It would be nice if we can avoid the format conversion and write Avro directly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608041202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608042765","html_url":"https://github.com/apache/iceberg/issues/869#issuecomment-608042765","issue_url":"https://api.github.com/repos/apache/iceberg/issues/869","id":608042765,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODA0Mjc2NQ==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T18:54:59Z","updated_at":"2020-04-02T18:55:17Z","author_association":"CONTRIBUTOR","body":"we should totally remove VTTS. but I do find the `low` and `high` watermark/timestamp metadata useful. I am actually thinking about adding  another `avg` watermark/timestamp in our internal code to help us publish end-to-end latency (min, max, avg) after commit is successful.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608042765/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608150642","html_url":"https://github.com/apache/iceberg/pull/889#issuecomment-608150642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/889","id":608150642,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODE1MDY0Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T23:46:52Z","updated_at":"2020-04-02T23:46:52Z","author_association":"CONTRIBUTOR","body":"Hi @leoluan2009, thanks for contributing. We don't use static imports, so we don't want to merge change 1. But fixing instances where we have accidentally used an alternative `Preconditions` class is really useful. Could you update and remove the static imports?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608150642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608153017","html_url":"https://github.com/apache/iceberg/pull/888#issuecomment-608153017","issue_url":"https://api.github.com/repos/apache/iceberg/issues/888","id":608153017,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODE1MzAxNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T23:54:19Z","updated_at":"2020-04-02T23:54:19Z","author_association":"CONTRIBUTOR","body":"Hi @leoluan2009, thanks for taking the time to look at this.\r\n\r\nI reviewed it and I don't think this is something that we should merge. Some of the cases were correct, as I pointed out. But most of the changes in this PR are simply converting a `Preconditions` check over to an `Objects` check. Other than unnecessary code churn, this actually makes the code slower because `Preconditions` uses a format string and object references. This PR uses string concatenation instead and the result is that error messages are produced every time a method runs, not just if the check fails.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608153017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608153479","html_url":"https://github.com/apache/iceberg/pull/882#issuecomment-608153479","issue_url":"https://api.github.com/repos/apache/iceberg/issues/882","id":608153479,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODE1MzQ3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T23:55:54Z","updated_at":"2020-04-02T23:55:54Z","author_association":"CONTRIBUTOR","body":"Looks reasonable to me. Thanks for fixing the size problem, @sudssf!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608153479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608157501","html_url":"https://github.com/apache/iceberg/issues/873#issuecomment-608157501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/873","id":608157501,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODE1NzUwMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T00:07:19Z","updated_at":"2020-04-03T00:10:29Z","author_association":"CONTRIBUTOR","body":"@stevenzwu, this isn't the responsibility of the appender. When writing a file, the write should invoke close to clean up resources whether or not the write was successful. If the write was successful, then the writer can move on. Otherwise, it is the writer's responsibility to delete the file.\r\n\r\nThe case you're talking about is specific to our internal S3 file system. When the internal details of the output stream are unknown, there isn't anything to do that can \"abort\" expensive operations. Because we primarily use the Hadoop FS API, that's the situation we're in. There is only close and clean up afterwards. That's why we haven't implemented this suggestion.\r\n\r\nThe right behavior here is to make a FileIO delete call to clean up a file if a write failed. In addition, tasks are responsible for deleting other completed data files that will not be committed because of task failure.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608157501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608211247","html_url":"https://github.com/apache/iceberg/pull/889#issuecomment-608211247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/889","id":608211247,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODIxMTI0Nw==","user":{"login":"leoluan2009","id":2434086,"node_id":"MDQ6VXNlcjI0MzQwODY=","avatar_url":"https://avatars.githubusercontent.com/u/2434086?v=4","gravatar_id":"","url":"https://api.github.com/users/leoluan2009","html_url":"https://github.com/leoluan2009","followers_url":"https://api.github.com/users/leoluan2009/followers","following_url":"https://api.github.com/users/leoluan2009/following{/other_user}","gists_url":"https://api.github.com/users/leoluan2009/gists{/gist_id}","starred_url":"https://api.github.com/users/leoluan2009/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leoluan2009/subscriptions","organizations_url":"https://api.github.com/users/leoluan2009/orgs","repos_url":"https://api.github.com/users/leoluan2009/repos","events_url":"https://api.github.com/users/leoluan2009/events{/privacy}","received_events_url":"https://api.github.com/users/leoluan2009/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T03:35:46Z","updated_at":"2020-04-03T03:35:46Z","author_association":"CONTRIBUTOR","body":"Hi @rdblue , thanks for your review.\r\nWould you please tell me why we don't use static imports, I think good using of static imports can make code cleaner, maybe I am wrong.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608211247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608244862","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-608244862","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":608244862,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODI0NDg2Mg==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T05:56:33Z","updated_at":"2020-04-03T05:56:33Z","author_association":"CONTRIBUTOR","body":"LGTM, just some minor comments.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608244862/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608556100","html_url":"https://github.com/apache/iceberg/pull/889#issuecomment-608556100","issue_url":"https://api.github.com/repos/apache/iceberg/issues/889","id":608556100,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODU1NjEwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T17:08:31Z","updated_at":"2020-04-03T17:08:31Z","author_association":"CONTRIBUTOR","body":"Not using static method imports is what most people wanted. It provides additional context at a method call so it is easier to see what's happening. Many methods have the same name, so it's good to know which implementation you're using.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608556100/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608560174","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-608560174","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":608560174,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODU2MDE3NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T17:17:08Z","updated_at":"2020-04-03T17:17:08Z","author_association":"CONTRIBUTOR","body":"@rdsr, this looks almost ready to me. The main thing is to add the MR tests that use a mini-DFS and mini-MR cluster.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608560174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608563215","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-608563215","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":608563215,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODU2MzIxNQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T17:23:32Z","updated_at":"2020-04-03T17:29:06Z","author_association":"CONTRIBUTOR","body":"@rdblue . Regarding mini-DFS and mini-MR. I'm facing class-path issues as explained here https://github.com/apache/incubator-iceberg/pull/843#discussion_r402075912 . I've also outlined an approach on how to add a test using iceberg-mr-runtime and iceberg-mr-runtime-test. Let me know if the mini dfs can be addressed as a separate PR","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608563215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608563983","html_url":"https://github.com/apache/iceberg/pull/887#issuecomment-608563983","issue_url":"https://api.github.com/repos/apache/iceberg/issues/887","id":608563983,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODU2Mzk4Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T17:24:58Z","updated_at":"2020-04-03T17:24:58Z","author_association":"CONTRIBUTOR","body":"Thanks, @chenjunjiedada! I made a couple of minor changes and merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608563983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608564700","html_url":"https://github.com/apache/iceberg/pull/887#issuecomment-608564700","issue_url":"https://api.github.com/repos/apache/iceberg/issues/887","id":608564700,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODU2NDcwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T17:26:23Z","updated_at":"2020-04-03T17:26:23Z","author_association":"CONTRIBUTOR","body":"One of the changes I made was to reset the field IDs in the file/position delete struct. These are separate files, so we we can reuse IDs. The reason why we assign IDs in blocks for the other metadata files is that those are stored in the same manifest file.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608564700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608612302","html_url":"https://github.com/apache/iceberg/pull/845#issuecomment-608612302","issue_url":"https://api.github.com/repos/apache/iceberg/issues/845","id":608612302,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODYxMjMwMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T19:13:14Z","updated_at":"2020-04-03T19:13:14Z","author_association":"CONTRIBUTOR","body":"I'm only about half-way done reviewing this, but I wanted to capture some thoughts about forward-compatibility that was raised by @chenjunjiedada.\r\n\r\nIf there are already multiple partition specs, then the IDs may be reused and can even conflict. This isn't something we can change because manifest files embed the field IDs in their schemas. That means assignment when there are no IDs must be from 1000 and should be independent across different partition specs.\r\n\r\nIf an older version writes to the table, then it may remove any assigned partition IDs. That means that for any format v1 table, we must remain compatible with the current assignment strategy. That way, IDs can be removed by an old writer and will be the same when they are reassigned.\r\n\r\nThis also means that evolution is limited in v1 tables. To ensure that IDs can be reassigned correctly if they are removed, partition fields cannot be dropped or reordered in any way. Otherwise, reassignment would be incorrect. That means no removing partition fields, no reordering partition fields, and no adding partition fields unless they are added at the end of the spec.\r\n\r\nWe will be able to make more evolution changes when we can guarantee that all partition fields have IDs that won't be removed. We'll make the IDs a requirement in v2 tables.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608612302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608625482","html_url":"https://github.com/apache/iceberg/pull/845#issuecomment-608625482","issue_url":"https://api.github.com/repos/apache/iceberg/issues/845","id":608625482,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODYyNTQ4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T19:44:58Z","updated_at":"2020-04-03T19:44:58Z","author_association":"CONTRIBUTOR","body":"Thanks @jun-he, this is great progress on partition field IDs! I think I understand how compatibility will work with field IDs and I tried to add that context to my comments in this PR. If it isn't clear, please let me know what doesn't make sense.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608625482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608627538","html_url":"https://github.com/apache/iceberg/pull/857#issuecomment-608627538","issue_url":"https://api.github.com/repos/apache/iceberg/issues/857","id":608627538,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODYyNzUzOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T19:49:59Z","updated_at":"2020-04-03T19:49:59Z","author_association":"CONTRIBUTOR","body":"Looks good to me. Thanks for adding this, @shawnding!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608627538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608630389","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-608630389","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":608630389,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODYzMDM4OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T19:57:09Z","updated_at":"2020-04-03T19:57:09Z","author_association":"CONTRIBUTOR","body":"> The idea is blocked by BaseTable being not serializable, making the logic have to do more, such as new Catalog and load table.\r\n\r\nWhy do you need to serialize `BaseTable`? You should only need to serialize the table's schema, partition spec, and `FileIO` instance.\r\n\r\nWe don't want `BaseTable` to be `Serializable` to prevent problems:\r\n\r\n1. `Table` and `BaseTable` expose high-level operations that we don't want to be called from tasks. If it were easy to pass a table instance to tasks, it may also seem easy to commit data files from tasks in parallel. But that's a pattern that we want to discourage.\r\n2. `BaseTable` wraps `TableOperations`, which is plugged in by catalog and can be customized. Since this is likely to be implemented outside of Iceberg, we don't want to require serialization that would make it harder to build.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608630389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608648805","html_url":"https://github.com/apache/iceberg/issues/886#issuecomment-608648805","issue_url":"https://api.github.com/repos/apache/iceberg/issues/886","id":608648805,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODY0ODgwNQ==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T20:42:36Z","updated_at":"2020-04-03T20:42:36Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/incubator-iceberg/pull/745\r\n\r\nIt seems resolved. Taking a close look to the above PR. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608648805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608710275","html_url":"https://github.com/apache/iceberg/pull/891#issuecomment-608710275","issue_url":"https://api.github.com/repos/apache/iceberg/issues/891","id":608710275,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODcxMDI3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T22:09:23Z","updated_at":"2020-04-03T22:09:23Z","author_association":"CONTRIBUTOR","body":"@Fokko, you may be interested in this one.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608710275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608710446","html_url":"https://github.com/apache/iceberg/issues/475#issuecomment-608710446","issue_url":"https://api.github.com/repos/apache/iceberg/issues/475","id":608710446,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODcxMDQ0Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-03T22:09:56Z","updated_at":"2020-04-03T22:09:56Z","author_association":"CONTRIBUTOR","body":"I just took a look and it wasn't too bad to fix it by adding support for Parquet's new logical type annotations, which came out in 1.11.0 and store `isAdjustedToUTC`. Now, places that assumed the type was `timestamptz` can correctly distinguish between the two timestamp types. The PR is #891. We may need to add support in a few more places, I didn't have time to look very thoroughly.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/608710446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609088978","html_url":"https://github.com/apache/iceberg/issues/886#issuecomment-609088978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/886","id":609088978,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTA4ODk3OA==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-04T21:04:52Z","updated_at":"2020-04-04T21:04:52Z","author_association":"CONTRIBUTOR","body":"Thanks @wangmiao1981! I didn't use that config in my GIST, and it's working fine with it. We are yet to test complex scenarios of re-ordering in StructType, Array(Struct), Map[String, StructType] but will follow back via other issues.\r\n\r\nClosing this for now. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609088978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609089854","html_url":"https://github.com/apache/iceberg/pull/577#issuecomment-609089854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/577","id":609089854,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTA4OTg1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-04T21:12:57Z","updated_at":"2020-04-04T21:12:57Z","author_association":"CONTRIBUTOR","body":"Looks like even with the new Hive version, Java 11 is still broken.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609089854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609105023","html_url":"https://github.com/apache/iceberg/issues/475#issuecomment-609105023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/475","id":609105023,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTEwNTAyMw==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-04T23:43:32Z","updated_at":"2020-04-04T23:43:32Z","author_association":"CONTRIBUTOR","body":"+1 to add logical type. Will take a look the PR above. Just started reading source code. I may give a try. \r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609105023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609697840","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-609697840","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":609697840,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTY5Nzg0MA==","user":{"login":"massdosage","id":29457,"node_id":"MDQ6VXNlcjI5NDU3","avatar_url":"https://avatars.githubusercontent.com/u/29457?v=4","gravatar_id":"","url":"https://api.github.com/users/massdosage","html_url":"https://github.com/massdosage","followers_url":"https://api.github.com/users/massdosage/followers","following_url":"https://api.github.com/users/massdosage/following{/other_user}","gists_url":"https://api.github.com/users/massdosage/gists{/gist_id}","starred_url":"https://api.github.com/users/massdosage/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/massdosage/subscriptions","organizations_url":"https://api.github.com/users/massdosage/orgs","repos_url":"https://api.github.com/users/massdosage/repos","events_url":"https://api.github.com/users/massdosage/events{/privacy}","received_events_url":"https://api.github.com/users/massdosage/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T10:00:48Z","updated_at":"2020-04-06T10:00:48Z","author_association":"CONTRIBUTOR","body":"Could someone please let us know if they want the examples moved to the respective modules so we can make that change? If not then I think all the comments from the last round of reviews have been addressed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609697840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609988951","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-609988951","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":609988951,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTk4ODk1MQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T19:23:23Z","updated_at":"2020-04-06T19:23:23Z","author_association":"CONTRIBUTOR","body":"Let me take a look at this one more time today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/609988951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610011554","html_url":"https://github.com/apache/iceberg/pull/892#issuecomment-610011554","issue_url":"https://api.github.com/repos/apache/iceberg/issues/892","id":610011554,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDAxMTU1NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T20:11:42Z","updated_at":"2020-04-06T20:11:42Z","author_association":"CONTRIBUTOR","body":"FYI, tests are passing locally, but not in Travis (OOM, then timeouts). I'm trying to fix it by increasing the heap size. This may signal that there is an ORC memory leak?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610011554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610029831","html_url":"https://github.com/apache/iceberg/pull/895#issuecomment-610029831","issue_url":"https://api.github.com/repos/apache/iceberg/issues/895","id":610029831,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDAyOTgzMQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T20:50:48Z","updated_at":"2020-04-06T20:50:48Z","author_association":"CONTRIBUTOR","body":"Will merge after build pass","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610029831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610032880","html_url":"https://github.com/apache/iceberg/pull/585#issuecomment-610032880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/585","id":610032880,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDAzMjg4MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T20:57:27Z","updated_at":"2020-04-06T20:57:27Z","author_association":"CONTRIBUTOR","body":"@andrei-ionescu, I just updated the Avro read path with the same change that you're making here in #896. The only outstanding task on this PR was to avoid breaking the other formats (Avro and ORC) and that is done by my PR here: https://github.com/apache/incubator-iceberg/pull/896/files#diff-b9074b510418ffff8aebbaaa95685541R104.\r\n\r\nAfter that goes into master, could you update this PR by adding Parquet to the `SUPPORTS_CONSTANTS` format set?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610032880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610051297","html_url":"https://github.com/apache/iceberg/pull/885#issuecomment-610051297","issue_url":"https://api.github.com/repos/apache/iceberg/issues/885","id":610051297,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA1MTI5Nw==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T21:39:48Z","updated_at":"2020-04-06T21:39:48Z","author_association":"CONTRIBUTOR","body":"Linking this PR to https://github.com/apache/incubator-iceberg/issues/824 just so this is easy to find from the issue :-) ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610051297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610059565","html_url":"https://github.com/apache/iceberg/pull/892#issuecomment-610059565","issue_url":"https://api.github.com/repos/apache/iceberg/issues/892","id":610059565,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA1OTU2NQ==","user":{"login":"rdsr","id":129474,"node_id":"MDQ6VXNlcjEyOTQ3NA==","avatar_url":"https://avatars.githubusercontent.com/u/129474?v=4","gravatar_id":"","url":"https://api.github.com/users/rdsr","html_url":"https://github.com/rdsr","followers_url":"https://api.github.com/users/rdsr/followers","following_url":"https://api.github.com/users/rdsr/following{/other_user}","gists_url":"https://api.github.com/users/rdsr/gists{/gist_id}","starred_url":"https://api.github.com/users/rdsr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdsr/subscriptions","organizations_url":"https://api.github.com/users/rdsr/orgs","repos_url":"https://api.github.com/users/rdsr/repos","events_url":"https://api.github.com/users/rdsr/events{/privacy}","received_events_url":"https://api.github.com/users/rdsr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T22:00:00Z","updated_at":"2020-04-06T22:00:00Z","author_association":"CONTRIBUTOR","body":"@shardulm94  you might be interested to have a look at this PR","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610059565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610062760","html_url":"https://github.com/apache/iceberg/issues/575#issuecomment-610062760","issue_url":"https://api.github.com/repos/apache/iceberg/issues/575","id":610062760,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA2Mjc2MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T22:08:24Z","updated_at":"2020-04-06T22:08:24Z","author_association":"CONTRIBUTOR","body":"I submitted #896 with the required Avro updates.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610062760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610064700","html_url":"https://github.com/apache/iceberg/issues/897#issuecomment-610064700","issue_url":"https://api.github.com/repos/apache/iceberg/issues/897","id":610064700,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA2NDcwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T22:13:48Z","updated_at":"2020-04-06T22:13:48Z","author_association":"CONTRIBUTOR","body":"This is the ORC part of #585.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610064700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610064812","html_url":"https://github.com/apache/iceberg/pull/896#issuecomment-610064812","issue_url":"https://api.github.com/repos/apache/iceberg/issues/896","id":610064812,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA2NDgxMg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T22:14:06Z","updated_at":"2020-04-06T22:14:06Z","author_association":"CONTRIBUTOR","body":"Opened #897 to track this for ORC.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610064812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610075049","html_url":"https://github.com/apache/iceberg/issues/360#issuecomment-610075049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/360","id":610075049,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA3NTA0OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T22:43:39Z","updated_at":"2020-04-06T22:43:39Z","author_association":"CONTRIBUTOR","body":"@openinx, what is the motivating use case for a format like that one?\r\n\r\nThe use cases that we've been considering for equality deletes mostly have a stable column set that will be used for deletes. For example, a CDC use case typically uses the primary key of the table that is changing. In that case, it's easier if the schema of the delete file is a data file with just the primary key columns. So if I had a `users` table, I might have a delete file with a single column, `user_id` with a field ID that matches the data files.\r\n\r\nWhat are the use cases for a format that allows a dynamic column set for every row? I would want to make sure that it is worth the extra complexity.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610075049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610077379","html_url":"https://github.com/apache/iceberg/pull/808#issuecomment-610077379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/808","id":610077379,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA3NzM3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T22:51:57Z","updated_at":"2020-04-06T22:51:57Z","author_association":"CONTRIBUTOR","body":"This hasn't been updated in 6 weeks since the review. I'm going to close it. Feel free to re-open when this is updated. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610077379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610080820","html_url":"https://github.com/apache/iceberg/pull/843#issuecomment-610080820","issue_url":"https://api.github.com/repos/apache/iceberg/issues/843","id":610080820,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA4MDgyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T23:03:18Z","updated_at":"2020-04-06T23:03:18Z","author_association":"CONTRIBUTOR","body":"Looks good! I merged this. Thanks for the contributions and reviews, everyone!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610080820/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610081421","html_url":"https://github.com/apache/iceberg/pull/499#issuecomment-610081421","issue_url":"https://api.github.com/repos/apache/iceberg/issues/499","id":610081421,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA4MTQyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T23:05:15Z","updated_at":"2020-04-06T23:05:15Z","author_association":"CONTRIBUTOR","body":"I'm closing this because it has been picked up as #845.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610081421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610090792","html_url":"https://github.com/apache/iceberg/pull/898#issuecomment-610090792","issue_url":"https://api.github.com/repos/apache/iceberg/issues/898","id":610090792,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDA5MDc5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T23:36:43Z","updated_at":"2020-04-06T23:36:43Z","author_association":"CONTRIBUTOR","body":"@Parth-Brahmbhatt, could you take a look at this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610090792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610101141","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-610101141","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":610101141,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDEwMTE0MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T00:11:12Z","updated_at":"2020-04-07T00:11:12Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @chenjunjiedada!\r\n\r\nA few high-level things that I think need to be fixed:\r\n* This should not replace the existing fallback that assigns IDs based on position. If the name mapping is configured, that should be used instead. Both are options. Feel free to do this by adding a name mapping to the existing `ParquetSchemaUtil` methods. We can do the fallback choice there.\r\n* This also needs to update `ParquetSchemaUtil.hasIds` so that any ID causes it to return true, instead of any missing ID. This should be okay since files either have IDs or do not, so it is not a behavior change.\r\n* As few classes should change as possible. Fallback ID assignment already works with the row group filters, so I don't think that we need to alter them. (Unless I'm missing some test case where it's failing!)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610101141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610153024","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-610153024","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":610153024,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDE1MzAyNA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T03:29:03Z","updated_at":"2020-04-07T03:29:03Z","author_association":"CONTRIBUTOR","body":"I went through the changes locally. Looks good to me. Let's resolve the current merge conflict and move examples to the dedicated module and I'll merge this PR.\r\n\r\nI think it makes sense to keep examples as unit tests for now. This decision has its own pros and cons but I would rather get this PR in sooner.\r\n\r\nLater we can use a similar approach as Spark to pull examples code into docs.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610153024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610258816","html_url":"https://github.com/apache/iceberg/pull/588#issuecomment-610258816","issue_url":"https://api.github.com/repos/apache/iceberg/issues/588","id":610258816,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI1ODgxNg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T08:43:02Z","updated_at":"2020-04-07T08:43:02Z","author_association":"COLLABORATOR","body":"@openinx @prodeezy Thanks for your review. This doesn't contain min/max sequence number computing logic right now. The plan is to add the sequence number at first since that would need some essential changes and may break compatibility like we already raised for table format. Once the sequence number is in, we will consider the optimization including min/max sequence number and etc.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610258816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610288015","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-610288015","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":610288015,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDI4ODAxNQ==","user":{"login":"cmathiesen","id":32553472,"node_id":"MDQ6VXNlcjMyNTUzNDcy","avatar_url":"https://avatars.githubusercontent.com/u/32553472?v=4","gravatar_id":"","url":"https://api.github.com/users/cmathiesen","html_url":"https://github.com/cmathiesen","followers_url":"https://api.github.com/users/cmathiesen/followers","following_url":"https://api.github.com/users/cmathiesen/following{/other_user}","gists_url":"https://api.github.com/users/cmathiesen/gists{/gist_id}","starred_url":"https://api.github.com/users/cmathiesen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmathiesen/subscriptions","organizations_url":"https://api.github.com/users/cmathiesen/orgs","repos_url":"https://api.github.com/users/cmathiesen/repos","events_url":"https://api.github.com/users/cmathiesen/events{/privacy}","received_events_url":"https://api.github.com/users/cmathiesen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T09:44:56Z","updated_at":"2020-04-07T09:44:56Z","author_association":"CONTRIBUTOR","body":"> I went through the changes locally. Looks good to me. Let's resolve the current merge conflict and move examples to the dedicated module and I'll merge this PR.\r\n> \r\n> I think it makes sense to keep examples as unit tests for now. This decision has its own pros and cons but I would rather get this PR in sooner.\r\n> \r\n> Later we can use a similar approach as Spark to pull examples code into docs.\r\n\r\nThanks for your review! Everything should be moved now and ready to go :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610288015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610363057","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-610363057","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":610363057,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDM2MzA1Nw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T12:40:58Z","updated_at":"2020-04-07T12:40:58Z","author_association":"COLLABORATOR","body":"@rdblue,  I addressed some of the comments. The remaining needs a double check.\r\n\r\nThe ID fallback way cannot work when the iceberg table schema is different from the parquet file schema as the original issue mentioned. Also, the use case in the unit test (import partial data of existing parquet files as new iceberg table) would lead to the following exception which is related to metric row group filters. Therefore I removed the ID fallback way. I 'm not very sure that is the common use case, but if the name mapping way could handle more cases correctly, then it would be better to keep that way unless there is any case that it cannot handle. Does that make sense to you?\r\n\r\n```\r\njava.lang.ClassCastException: java.lang.Integer cannot be cast to java.lang.CharSequence\r\n\tat org.apache.iceberg.types.Comparators$CharSeqComparator.compare(Comparators.java:180)\r\n\tat org.apache.iceberg.types.Comparators$NullSafeChainedComparator.compare(Comparators.java:146)\r\n\tat org.apache.iceberg.parquet.ParquetMetricsRowGroupFilter$MetricsEvalVisitor.lt(ParquetMetricsRowGroupFilter.java:202)\r\n\tat org.apache.iceberg.parquet.ParquetMetricsRowGroupFilter$MetricsEvalVisitor.lt(ParquetMetricsRowGroupFilter.java:85)\r\n\tat org.apache.iceberg.expressions.ExpressionVisitors$BoundExpressionVisitor.predicate(ExpressionVisitors.java:122)\r\n\tat org.apache.iceberg.expressions.ExpressionVisitors.visitEvaluator(ExpressionVisitors.java:321)\r\n\tat org.apache.iceberg.expressions.ExpressionVisitors.visitEvaluator(ExpressionVisitors.java:336)\r\n\tat org.apache.iceberg.parquet.ParquetMetricsRowGroupFilter$MetricsEvalVisitor.eval(ParquetMetricsRowGroupFilter.java:108)\r\n\tat org.apache.iceberg.parquet.ParquetMetricsRowGroupFilter$MetricsEvalVisitor.access$000(ParquetMetricsRowGroupFilter.java:85)\r\n\tat org.apache.iceberg.parquet.ParquetMetricsRowGroupFilter.shouldRead(ParquetMetricsRowGroupFilter.java:79)\r\n\tat org.apache.iceberg.parquet.ReadConf.<init>(ReadConf.java:96)\r\n\tat org.apache.iceberg.parquet.ParquetReader.init(ParquetReader.java:64)\r\n\tat org.apache.iceberg.parquet.ParquetReader.iterator(ParquetReader.java:74)\r\n\tat org.apache.iceberg.spark.source.RowDataReader.open(RowDataReader.java:155)\r\n\tat org.apache.iceberg.spark.source.RowDataReader.open(RowDataReader.java:117)\r\n\tat org.apache.iceberg.spark.source.BaseDataReader.next(BaseDataReader.java:79)\r\n\tat org.apache.spark.sql.execution.datasources.v2.DataSourceRDD$$anon$1.hasNext(DataSourceRDD.scala:49)\r\n\tat org.apache.spark.InterruptibleIterator.hasNext(InterruptibleIterator.scala:37)\r\n\tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.sort_addToSorter_0$(Unknown Source)\r\n\tat org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage1.processNext(Unknown Source)\r\n\tat org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n\tat org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$13$$anon$1.hasNext(WholeStageCodegenExec.scala:636)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:255)\r\n\tat org.apache.spark.sql.execution.SparkPlan$$anonfun$2.apply(SparkPlan.scala:247)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:836)\r\n\tat org.apache.spark.rdd.RDD$$anonfun$mapPartitionsInternal$1$$anonfun$apply$24.apply(RDD.scala:836)\r\n\tat org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n\tat org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\r\n\tat org.apache.spark.rdd.RDD.iterator(RDD.scala:288)\r\n\tat org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:90)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n\tat org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610363057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610523196","html_url":"https://github.com/apache/iceberg/pull/898#issuecomment-610523196","issue_url":"https://api.github.com/repos/apache/iceberg/issues/898","id":610523196,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDUyMzE5Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T17:36:10Z","updated_at":"2020-04-07T17:36:10Z","author_association":"CONTRIBUTOR","body":"Thanks for the review! I'll merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610523196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610535477","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-610535477","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":610535477,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDUzNTQ3Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T18:00:16Z","updated_at":"2020-04-07T18:00:16Z","author_association":"CONTRIBUTOR","body":"> The remaining needs a double check.\r\n\r\nI don't see replies to my comments. Can you reply so I know what you want me to double-check and why?\r\n\r\n> The ID fallback way cannot work when the iceberg table schema is different from the parquet file schema as the original issue mentioned\r\n\r\nNon-Iceberg table schemas are maintained either by position (like CSV) or by name (like JSON). The fallback strategy needs to match how schemas have been maintained for a table. We implemented position-based fallback because before Iceberg we maintained by position so we could rename fields and add fields, but not drop or reorder. Support for name mapping supports the name-based approach for maintaining a schema. Both approaches are valid.\r\n\r\nYou're right that some files are incompatible with position-based, but that just shows that you have to maintain a schema consistently. You can't use both position-based and name-based in a table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610535477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610648273","html_url":"https://github.com/apache/iceberg/pull/588#issuecomment-610648273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/588","id":610648273,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDY0ODI3Mw==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T22:18:37Z","updated_at":"2020-04-07T22:18:37Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada  Like you mentioned how the Manifestfile::sequenceNumber and DataFile::sequenceNumber are related, can you document (maybe in a field comment) what their relationship is with Snapshot::sequenceNumber? is it used for higher level ordering or default values in case Manifest doesn't have a seuqnceNumber? Will Snapshots be sorted by sequence number? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610648273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610660078","html_url":"https://github.com/apache/iceberg/pull/896#issuecomment-610660078","issue_url":"https://api.github.com/repos/apache/iceberg/issues/896","id":610660078,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDY2MDA3OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T22:57:12Z","updated_at":"2020-04-07T22:57:12Z","author_association":"CONTRIBUTOR","body":"@rdsr, tests are passing. Could you have another look?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610660078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610680239","html_url":"https://github.com/apache/iceberg/pull/892#issuecomment-610680239","issue_url":"https://api.github.com/repos/apache/iceberg/issues/892","id":610680239,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDY4MDIzOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T00:08:29Z","updated_at":"2020-04-08T00:08:29Z","author_association":"CONTRIBUTOR","body":"To follow up on my comment about a possible memory leak: I profiled the tests and didn't find a memory leak. Everything was correctly cleaned up after the test method. The solution was to avoid keeping so many copies of the test data in memory. ORC probably allocated more memory and that's why we hit the problem, but I don't think this is a problem with an ORC memory leak.\r\n\r\nWhat I did find surprising was that ORC is spending a lot more time allocating than Parquet or Avro. ORC was spending about 10x the amount of time for these tests than Parquet when writing, mostly in allocation.\r\n\r\nHere's a flame graph:\r\n![orc-allocation](https://user-images.githubusercontent.com/87915/78730567-0c2e4880-78f2-11ea-994b-0fd3700ba45c.png)\r\n\r\nThis is probably just initial allocations that are amortized over a large write. This test only uses 100 records.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610680239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610705513","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-610705513","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":610705513,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDcwNTUxMw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T01:47:02Z","updated_at":"2020-04-08T01:47:02Z","author_association":"COLLABORATOR","body":"@rdblue , thanks for the detail, I meant the comments about the ID fallback way.  I didn't take the CSV and JSON format into consideration. Now I understood the idea and will add ID fallback strategy back.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610705513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610765106","html_url":"https://github.com/apache/iceberg/issues/317#issuecomment-610765106","issue_url":"https://api.github.com/repos/apache/iceberg/issues/317","id":610765106,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDc2NTEwNg==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T05:51:21Z","updated_at":"2020-04-08T06:01:35Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi good stuff! \r\n\r\nMaybe this is out of scope for a first cut implementation, but should we also add an API for `SortOrder` evolution? Something like `UpdateSortOrder`? So that changes to sort order can be validated, controlled & audited within this API.  This API can be accessed using `Table.updateSortOrder()` maybe?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610765106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610820655","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-610820655","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":610820655,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDgyMDY1NQ==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T08:18:15Z","updated_at":"2020-04-08T08:18:15Z","author_association":"CONTRIBUTOR","body":"Hi @aokolnychyi @rdblue I start to have some time to deeply revisit the current code, I will submit a new implementation based on your comments soon. Thanks for your advices.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610820655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610994656","html_url":"https://github.com/apache/iceberg/pull/589#issuecomment-610994656","issue_url":"https://api.github.com/repos/apache/iceberg/issues/589","id":610994656,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDk5NDY1Ng==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T14:32:50Z","updated_at":"2020-04-08T14:32:50Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi nice work! \r\n\r\nMaybe this is out of scope for a first cut implementation, but should we also add an API for `SortOrder` evolution? Something like `UpdateSortOrder`? So that changes to sort order can be validated, controlled & audited within this API. This API can be accessed using `Table.updateSortOrder()` maybe?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/610994656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611041328","html_url":"https://github.com/apache/iceberg/pull/896#issuecomment-611041328","issue_url":"https://api.github.com/repos/apache/iceberg/issues/896","id":611041328,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTA0MTMyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T15:55:48Z","updated_at":"2020-04-08T15:55:48Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611041328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611041768","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-611041768","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":611041768,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTA0MTc2OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T15:56:34Z","updated_at":"2020-04-08T15:56:34Z","author_association":"CONTRIBUTOR","body":"Great, thank you @chenjunjiedada!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611041768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611074116","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-611074116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":611074116,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTA3NDExNg==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T16:58:22Z","updated_at":"2020-04-08T16:58:22Z","author_association":"COLLABORATOR","body":"@rdblue , I saw your comments while committing. You might want to see the new commit (with some rebasing commits.). I will address your lastest comments tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611074116/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611074250","html_url":"https://github.com/apache/iceberg/pull/899#issuecomment-611074250","issue_url":"https://api.github.com/repos/apache/iceberg/issues/899","id":611074250,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTA3NDI1MA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T16:58:37Z","updated_at":"2020-04-08T16:58:37Z","author_association":"CONTRIBUTOR","body":"This looks good to me, but I'd like to wait until #892 is in so we run it through more tests. Is that okay?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611074250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611153468","html_url":"https://github.com/apache/iceberg/pull/900#issuecomment-611153468","issue_url":"https://api.github.com/repos/apache/iceberg/issues/900","id":611153468,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTE1MzQ2OA==","user":{"login":"shardulm94","id":6961317,"node_id":"MDQ6VXNlcjY5NjEzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/6961317?v=4","gravatar_id":"","url":"https://api.github.com/users/shardulm94","html_url":"https://github.com/shardulm94","followers_url":"https://api.github.com/users/shardulm94/followers","following_url":"https://api.github.com/users/shardulm94/following{/other_user}","gists_url":"https://api.github.com/users/shardulm94/gists{/gist_id}","starred_url":"https://api.github.com/users/shardulm94/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shardulm94/subscriptions","organizations_url":"https://api.github.com/users/shardulm94/orgs","repos_url":"https://api.github.com/users/shardulm94/repos","events_url":"https://api.github.com/users/shardulm94/events{/privacy}","received_events_url":"https://api.github.com/users/shardulm94/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T19:39:53Z","updated_at":"2020-04-08T19:39:53Z","author_association":"CONTRIBUTOR","body":"Travis says tests haven't completed for some reason, but they are https://travis-ci.org/github/apache/incubator-iceberg/builds/672005859","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611153468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611248416","html_url":"https://github.com/apache/iceberg/pull/903#issuecomment-611248416","issue_url":"https://api.github.com/repos/apache/iceberg/issues/903","id":611248416,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTI0ODQxNg==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T23:39:06Z","updated_at":"2020-04-08T23:39:06Z","author_association":"CONTRIBUTOR","body":"LGTM, +1 (pending checks)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611248416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611256237","html_url":"https://github.com/apache/iceberg/issues/905#issuecomment-611256237","issue_url":"https://api.github.com/repos/apache/iceberg/issues/905","id":611256237,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTI1NjIzNw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T00:08:18Z","updated_at":"2020-04-09T00:09:46Z","author_association":"CONTRIBUTOR","body":"One specific case is `all_data_files` and `all_manifests`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611256237/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611306247","html_url":"https://github.com/apache/iceberg/pull/678#issuecomment-611306247","issue_url":"https://api.github.com/repos/apache/iceberg/issues/678","id":611306247,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMwNjI0Nw==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T03:22:28Z","updated_at":"2020-04-09T03:22:28Z","author_association":"CONTRIBUTOR","body":"I've merged this PR. Thanks everyone for the contributions and reviews!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611306247/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611306618","html_url":"https://github.com/apache/iceberg/pull/903#issuecomment-611306618","issue_url":"https://api.github.com/repos/apache/iceberg/issues/903","id":611306618,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMwNjYxOA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T03:23:55Z","updated_at":"2020-04-09T03:23:55Z","author_association":"CONTRIBUTOR","body":"Let me take a look at this tomorrow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611306618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611307969","html_url":"https://github.com/apache/iceberg/pull/901#issuecomment-611307969","issue_url":"https://api.github.com/repos/apache/iceberg/issues/901","id":611307969,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMwNzk2OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T03:29:04Z","updated_at":"2020-04-09T03:29:04Z","author_association":"CONTRIBUTOR","body":"Thanks, @rdblue!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611307969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611334012","html_url":"https://github.com/apache/iceberg/pull/894#issuecomment-611334012","issue_url":"https://api.github.com/repos/apache/iceberg/issues/894","id":611334012,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMzNDAxMg==","user":{"login":"mehtaashish23","id":75326,"node_id":"MDQ6VXNlcjc1MzI2","avatar_url":"https://avatars.githubusercontent.com/u/75326?v=4","gravatar_id":"","url":"https://api.github.com/users/mehtaashish23","html_url":"https://github.com/mehtaashish23","followers_url":"https://api.github.com/users/mehtaashish23/followers","following_url":"https://api.github.com/users/mehtaashish23/following{/other_user}","gists_url":"https://api.github.com/users/mehtaashish23/gists{/gist_id}","starred_url":"https://api.github.com/users/mehtaashish23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mehtaashish23/subscriptions","organizations_url":"https://api.github.com/users/mehtaashish23/orgs","repos_url":"https://api.github.com/users/mehtaashish23/repos","events_url":"https://api.github.com/users/mehtaashish23/events{/privacy}","received_events_url":"https://api.github.com/users/mehtaashish23/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T05:20:30Z","updated_at":"2020-04-09T05:20:30Z","author_association":"CONTRIBUTOR","body":"Thanks @aokolnychyi for the PR. Based on what I see on PR, you are trying to clean up files that are not referenced by `metadata` table and `all_data_files` table. I am actually going to verify it, as I get to use this work in our project, but do the files which fail to get deleted during cleanup after commit [here], is also cleaned up with this work? My point is whether the dataFile which is deleted as part of an expired snapshot belongs to `all_data_files` table or not.\r\n\r\n[here]: https://github.com/apache/incubator-iceberg/blob/master/core/src/main/java/org/apache/iceberg/RemoveSnapshots.java#L145","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611334012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611336800","html_url":"https://github.com/apache/iceberg/issues/904#issuecomment-611336800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/904","id":611336800,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTMzNjgwMA==","user":{"login":"nikshepsvn","id":23241247,"node_id":"MDQ6VXNlcjIzMjQxMjQ3","avatar_url":"https://avatars.githubusercontent.com/u/23241247?v=4","gravatar_id":"","url":"https://api.github.com/users/nikshepsvn","html_url":"https://github.com/nikshepsvn","followers_url":"https://api.github.com/users/nikshepsvn/followers","following_url":"https://api.github.com/users/nikshepsvn/following{/other_user}","gists_url":"https://api.github.com/users/nikshepsvn/gists{/gist_id}","starred_url":"https://api.github.com/users/nikshepsvn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikshepsvn/subscriptions","organizations_url":"https://api.github.com/users/nikshepsvn/orgs","repos_url":"https://api.github.com/users/nikshepsvn/repos","events_url":"https://api.github.com/users/nikshepsvn/events{/privacy}","received_events_url":"https://api.github.com/users/nikshepsvn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T05:31:10Z","updated_at":"2020-04-09T05:31:10Z","author_association":"NONE","body":"Hey Anton! I'd love to help with this (: Would you mind pointing me at some resources/giving me some context so I can get started?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611336800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611362795","html_url":"https://github.com/apache/iceberg/issues/902#issuecomment-611362795","issue_url":"https://api.github.com/repos/apache/iceberg/issues/902","id":611362795,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTM2Mjc5NQ==","user":{"login":"prodeezy","id":1474591,"node_id":"MDQ6VXNlcjE0NzQ1OTE=","avatar_url":"https://avatars.githubusercontent.com/u/1474591?v=4","gravatar_id":"","url":"https://api.github.com/users/prodeezy","html_url":"https://github.com/prodeezy","followers_url":"https://api.github.com/users/prodeezy/followers","following_url":"https://api.github.com/users/prodeezy/following{/other_user}","gists_url":"https://api.github.com/users/prodeezy/gists{/gist_id}","starred_url":"https://api.github.com/users/prodeezy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prodeezy/subscriptions","organizations_url":"https://api.github.com/users/prodeezy/orgs","repos_url":"https://api.github.com/users/prodeezy/repos","events_url":"https://api.github.com/users/prodeezy/events{/privacy}","received_events_url":"https://api.github.com/users/prodeezy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T06:53:50Z","updated_at":"2020-04-09T06:55:53Z","author_association":"CONTRIBUTOR","body":"@nikshepsvn Welcome to the community. I'm just a contributor myself so take my advice as coming in that capacity and nothing more :-)\r\n\r\nMy two cents,\r\nTo familiarize yourself I'd suggest starting with going through the spec [0] and the api [1]. Python related resources are here [2].\r\n\r\nIn general, adding tests is a good way to start with both familiarizing yourself and adding value without requiring much guidance. If you find a bug while testing put up an issue with your test as illustration and maybe put a corresponding PR up.\r\n\r\nAnother good way to contribute is documentation. If you see gaps in the documentation, you can put up a PR on the docs as well. Docs are part of the code [3].\r\n\r\nHigher level milestones are tracked here [4]. Related discussions and docs on those milestones can be found on the dev@iceberg.apache.org mailing list archives.\r\n\r\nHaving said all that, nothing precludes you from participating in discussions on issues or design docs. A fresh perspective is always welcome :-) \r\n\r\nHope this helps and Good luck!\r\n\r\n[0] - http://iceberg.incubator.apache.org/spec/ \r\n[1] - http://iceberg.incubator.apache.org/api-quickstart/\r\n[2] - http://iceberg.incubator.apache.org/python-quickstart\r\n[3] - https://github.com/apache/incubator-iceberg/tree/master/site/docs\r\n[4] -  https://github.com/apache/incubator-iceberg/milestones ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611362795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611530634","html_url":"https://github.com/apache/iceberg/pull/588#issuecomment-611530634","issue_url":"https://api.github.com/repos/apache/iceberg/issues/588","id":611530634,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTUzMDYzNA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T13:33:47Z","updated_at":"2020-04-09T13:33:47Z","author_association":"COLLABORATOR","body":"@prodeezy , There is a description in spec.md, [here](https://github.com/apache/incubator-iceberg/pull/588/files#diff-116b0afb33e66021cf000896fde94817R264). I 'm OK to add the document to Snapshot API too. Is that OK for you?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611530634/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611531156","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-611531156","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":611531156,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTUzMTE1Ng==","user":{"login":"jerryshao","id":850797,"node_id":"MDQ6VXNlcjg1MDc5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/850797?v=4","gravatar_id":"","url":"https://api.github.com/users/jerryshao","html_url":"https://github.com/jerryshao","followers_url":"https://api.github.com/users/jerryshao/followers","following_url":"https://api.github.com/users/jerryshao/following{/other_user}","gists_url":"https://api.github.com/users/jerryshao/gists{/gist_id}","starred_url":"https://api.github.com/users/jerryshao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerryshao/subscriptions","organizations_url":"https://api.github.com/users/jerryshao/orgs","repos_url":"https://api.github.com/users/jerryshao/repos","events_url":"https://api.github.com/users/jerryshao/events{/privacy}","received_events_url":"https://api.github.com/users/jerryshao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T13:34:51Z","updated_at":"2020-04-09T13:34:51Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi I was wondering what is the advantage of using size per batch to control the batch size? I think it is not so easy to set a proper size for each batch, and the underlying is still file based, so using file number to match task parallelism seems more intuitive. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611531156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611588879","html_url":"https://github.com/apache/iceberg/pull/894#issuecomment-611588879","issue_url":"https://api.github.com/repos/apache/iceberg/issues/894","id":611588879,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTU4ODg3OQ==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:24:05Z","updated_at":"2020-04-09T15:24:05Z","author_association":"CONTRIBUTOR","body":"@mehtaashish23, this action should remove all orphan files including those that we failed to delete while expiring snapshots. The `all_data_files` metadata table gives us currently referenced files in metadata.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611588879/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611590016","html_url":"https://github.com/apache/iceberg/issues/904#issuecomment-611590016","issue_url":"https://api.github.com/repos/apache/iceberg/issues/904","id":611590016,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTU5MDAxNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:26:16Z","updated_at":"2020-04-09T15:27:00Z","author_association":"CONTRIBUTOR","body":"@nikshepsvn, that'd great. Seems like @shawnding has a change already. I see a PR.\r\n\r\n@nikshepsvn, feel free to pick any other issue that you feel comfortable with. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611590016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611595216","html_url":"https://github.com/apache/iceberg/pull/906#issuecomment-611595216","issue_url":"https://api.github.com/repos/apache/iceberg/issues/906","id":611595216,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTU5NTIxNg==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:35:53Z","updated_at":"2020-04-09T15:35:53Z","author_association":"CONTRIBUTOR","body":"Thanks, @shawnding! I've merged this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611595216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611597568","html_url":"https://github.com/apache/iceberg/issues/864#issuecomment-611597568","issue_url":"https://api.github.com/repos/apache/iceberg/issues/864","id":611597568,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTU5NzU2OA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:40:22Z","updated_at":"2020-04-09T15:40:22Z","author_association":"CONTRIBUTOR","body":"I think `version-hint` is just a hint. The rename operation is the actual atomic commit. Whenever Iceberg refreshes a table, it uses the version in `version-hint` as a starting point and tries to find any new versions. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611597568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611598695","html_url":"https://github.com/apache/iceberg/pull/906#issuecomment-611598695","issue_url":"https://api.github.com/repos/apache/iceberg/issues/906","id":611598695,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTU5ODY5NQ==","user":{"login":"XiaokunDing","id":3050222,"node_id":"MDQ6VXNlcjMwNTAyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/3050222?v=4","gravatar_id":"","url":"https://api.github.com/users/XiaokunDing","html_url":"https://github.com/XiaokunDing","followers_url":"https://api.github.com/users/XiaokunDing/followers","following_url":"https://api.github.com/users/XiaokunDing/following{/other_user}","gists_url":"https://api.github.com/users/XiaokunDing/gists{/gist_id}","starred_url":"https://api.github.com/users/XiaokunDing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/XiaokunDing/subscriptions","organizations_url":"https://api.github.com/users/XiaokunDing/orgs","repos_url":"https://api.github.com/users/XiaokunDing/repos","events_url":"https://api.github.com/users/XiaokunDing/events{/privacy}","received_events_url":"https://api.github.com/users/XiaokunDing/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:42:30Z","updated_at":"2020-04-09T15:42:30Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi  thanks for merge","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611598695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611603340","html_url":"https://github.com/apache/iceberg/pull/900#issuecomment-611603340","issue_url":"https://api.github.com/repos/apache/iceberg/issues/900","id":611603340,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTYwMzM0MA==","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T15:51:15Z","updated_at":"2020-04-09T15:51:15Z","author_association":"CONTRIBUTOR","body":"Let me take a look at this PR today.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611603340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611614127","html_url":"https://github.com/apache/iceberg/pull/892#issuecomment-611614127","issue_url":"https://api.github.com/repos/apache/iceberg/issues/892","id":611614127,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTYxNDEyNw==","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T16:11:40Z","updated_at":"2020-04-09T16:11:40Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611614127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611641049","html_url":"https://github.com/apache/iceberg/pull/894#issuecomment-611641049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/894","id":611641049,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTY0MTA0OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T17:05:58Z","updated_at":"2020-04-09T17:05:58Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi, this looks almost ready to me. The parallel file listing looks like it needs to be updated, and we need javadoc. Otherwise I think the other points can be done as follow-ups.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611641049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611645616","html_url":"https://github.com/apache/iceberg/pull/830#issuecomment-611645616","issue_url":"https://api.github.com/repos/apache/iceberg/issues/830","id":611645616,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTY0NTYxNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T17:15:09Z","updated_at":"2020-04-09T17:15:09Z","author_association":"CONTRIBUTOR","body":"@chenjunjiedada, it looks like lots of places have been changed to use the original file schema, rather than the file schema with fallback IDs added. I don't think that is correct.\r\n\r\nCan you revert those changes, or help me understand why they are needed?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611645616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611707737","html_url":"https://github.com/apache/iceberg/issues/848#issuecomment-611707737","issue_url":"https://api.github.com/repos/apache/iceberg/issues/848","id":611707737,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTcwNzczNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T19:19:14Z","updated_at":"2020-04-09T19:19:14Z","author_association":"CONTRIBUTOR","body":"I'm closing this because it was implemented in #851.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611707737/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611709129","html_url":"https://github.com/apache/iceberg/issues/847#issuecomment-611709129","issue_url":"https://api.github.com/repos/apache/iceberg/issues/847","id":611709129,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTcwOTEyOQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T19:21:57Z","updated_at":"2020-04-09T19:21:57Z","author_association":"CONTRIBUTOR","body":"This will require a little work because the InputFormat added in #843 assumes that there is only one read in a MR job, but Pig may run multiple. To avoid configuration collisions, Pig has a system for isolating the config for a scan, so we'll need to override some parts of the input format to store config differently.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611709129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611712706","html_url":"https://github.com/apache/iceberg/issues/859#issuecomment-611712706","issue_url":"https://api.github.com/repos/apache/iceberg/issues/859","id":611712706,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTcxMjcwNg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T19:30:09Z","updated_at":"2020-04-09T19:30:09Z","author_association":"CONTRIBUTOR","body":"Sounds like a good idea to me to extract the parts that can be used to track non-table datasets with atomic changes.\r\n\r\nI think #118 is slightly different from my discussions with Matt. The idea there is to define an interface for file formats so you can plug in your own. Those interfaces will define capabilities that Iceberg would enforce. So if you use CSV or TSV, then Iceberg would only allow appending and renaming columns.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611712706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611713653","html_url":"https://github.com/apache/iceberg/issues/864#issuecomment-611713653","issue_url":"https://api.github.com/repos/apache/iceberg/issues/864","id":611713653,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTcxMzY1Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T19:32:24Z","updated_at":"2020-04-09T19:32:24Z","author_association":"CONTRIBUTOR","body":"Hadoop tables use an atomic rename to commit metadata. That is atomic as long as the file system supports it.\r\n\r\nThe version hint is just a hint. You can recover the actual state by making a series of `exists` calls without it. Because it is a hint, it doesn't matter if it is up to date.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611713653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611713911","html_url":"https://github.com/apache/iceberg/issues/881#issuecomment-611713911","issue_url":"https://api.github.com/repos/apache/iceberg/issues/881","id":611713911,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTcxMzkxMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T19:33:00Z","updated_at":"2020-04-09T19:33:00Z","author_association":"CONTRIBUTOR","body":"Closing this, fixed by #882.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611713911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611714404","html_url":"https://github.com/apache/iceberg/issues/860#issuecomment-611714404","issue_url":"https://api.github.com/repos/apache/iceberg/issues/860","id":611714404,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTcxNDQwNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T19:34:12Z","updated_at":"2020-04-09T19:34:12Z","author_association":"CONTRIBUTOR","body":"Iceberg has support for implementing copy-on-write right now and we are working on formats for row-level delete that use a merge-on-read approach.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611714404/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611716120","html_url":"https://github.com/apache/iceberg/issues/902#issuecomment-611716120","issue_url":"https://api.github.com/repos/apache/iceberg/issues/902","id":611716120,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTcxNjEyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T19:38:27Z","updated_at":"2020-04-09T19:38:27Z","author_association":"CONTRIBUTOR","body":"I think #837 might be a good starter issue to tackle.\r\n\r\nAvro doesn't keep track of column-level stats, so we can't currently do additional filtering on Avro files. To enable that filtering, we need to build a pass-through `FileAppender` that inspects records and keeps track of null count, total value count, lower bound, upper bound, and count of NaN values.\r\n\r\nDoing this for Avro generics is a good place to start, then moving on to get stats for Spark InternalRow.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611716120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611716824","html_url":"https://github.com/apache/iceberg/pull/889#issuecomment-611716824","issue_url":"https://api.github.com/repos/apache/iceberg/issues/889","id":611716824,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTcxNjgyNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T19:40:10Z","updated_at":"2020-04-09T19:40:10Z","author_association":"CONTRIBUTOR","body":"I'm going to close this since there hasn't been an update. Feel free to re-open if you decide to remove the static import changes. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611716824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611759086","html_url":"https://github.com/apache/iceberg/pull/585#issuecomment-611759086","issue_url":"https://api.github.com/repos/apache/iceberg/issues/585","id":611759086,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTc1OTA4Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T21:22:40Z","updated_at":"2020-04-09T21:22:40Z","author_association":"CONTRIBUTOR","body":"I'm closing this one in because I've made the Parquet changes in #909 and included @andrei-ionescu as a co-author.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611759086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611762471","html_url":"https://github.com/apache/iceberg/pull/899#issuecomment-611762471","issue_url":"https://api.github.com/repos/apache/iceberg/issues/899","id":611762471,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTc2MjQ3MQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T21:31:28Z","updated_at":"2020-04-09T21:31:28Z","author_association":"CONTRIBUTOR","body":"Looks like Travis passed, but it isn't showing up in github yet. I'm going to go ahead and merge this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611762471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611762628","html_url":"https://github.com/apache/iceberg/pull/899#issuecomment-611762628","issue_url":"https://api.github.com/repos/apache/iceberg/issues/899","id":611762628,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTc2MjYyOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T21:31:50Z","updated_at":"2020-04-09T21:31:50Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @shardulm94!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611762628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611763904","html_url":"https://github.com/apache/iceberg/pull/908#issuecomment-611763904","issue_url":"https://api.github.com/repos/apache/iceberg/issues/908","id":611763904,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMTc2MzkwNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-09T21:34:40Z","updated_at":"2020-04-09T21:34:40Z","author_association":"CONTRIBUTOR","body":"I don't think this is a good way to fix the problem. These tables do not need to use special handling for WAP, and should not have anything that depends on WAP.\r\n\r\nThe underlying problem is that `planFiles` is shared between data and metadata tables, and returns no tasks if there is no current snapshot. The solution is to fix `planFiles` for metadata tables, not to add a special case that incorrectly reports the current snapshot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/611763904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]