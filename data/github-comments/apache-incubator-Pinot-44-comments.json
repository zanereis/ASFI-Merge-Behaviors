[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499305868","html_url":"https://github.com/apache/pinot/pull/4283#issuecomment-499305868","issue_url":"https://api.github.com/repos/apache/pinot/issues/4283","id":499305868,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTMwNTg2OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T00:37:27Z","updated_at":"2019-06-06T00:37:27Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4283?src=pr&el=h1) Report\n> Merging [#4283](https://codecov.io/gh/apache/incubator-pinot/pull/4283?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/752196c659991792ae544dad4e7a356a74a697a1?src=pr&el=desc) will **decrease** coverage by `0.08%`.\n> The diff coverage is `25.65%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4283/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4283?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4283      +/-   ##\n============================================\n- Coverage     67.25%   67.16%   -0.09%     \n  Complexity       20       20              \n============================================\n  Files          1040     1040              \n  Lines         51546    51620      +74     \n  Branches       7231     7231              \n============================================\n+ Hits          34669    34673       +4     \n- Misses        14513    14573      +60     \n- Partials       2364     2374      +10\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4283?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...main/java/org/apache/pinot/common/data/Schema.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YS9TY2hlbWEuamF2YQ==) | `80.51% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...rg/apache/pinot/annotations/InterfaceAudience.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9hbm5vdGF0aW9ucy9JbnRlcmZhY2VBdWRpZW5jZS5qYXZh) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...caGroupBasedStreamPartitionAssignmentStrategy.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcGFydGl0aW9uL1JlcGxpY2FHcm91cEJhc2VkU3RyZWFtUGFydGl0aW9uQXNzaWdubWVudFN0cmF0ZWd5LmphdmE=) | `100% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/org/apache/pinot/common/config/Deserializer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL0Rlc2VyaWFsaXplci5qYXZh) | `54.86% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/org/apache/pinot/common/config/TagNameUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1RhZ05hbWVVdGlscy5qYXZh) | `79.48% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...tion/ReplicaGroupPartitionAssignmentGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcGFydGl0aW9uL1JlcGxpY2FHcm91cFBhcnRpdGlvbkFzc2lnbm1lbnRHZW5lcmF0b3IuamF2YQ==) | `94.59% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...g/apache/pinot/annotations/InterfaceStability.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9hbm5vdGF0aW9ucy9JbnRlcmZhY2VTdGFiaWxpdHkuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ache/pinot/common/data/DateTimeFormatUnitSpec.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YS9EYXRlVGltZUZvcm1hdFVuaXRTcGVjLmphdmE=) | `71.42% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../partition/StreamPartitionAssignmentGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcGFydGl0aW9uL1N0cmVhbVBhcnRpdGlvbkFzc2lnbm1lbnRHZW5lcmF0b3IuamF2YQ==) | `94% <100%> (+0.12%)` | `0 <0> (ø)` | :arrow_down: |\n| [...rg/apache/pinot/common/request/FilterOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9GaWx0ZXJPcGVyYXRvci5qYXZh) | `87.5% <100%> (-3.81%)` | `0 <0> (ø)` | |\n| ... and [44 more](https://codecov.io/gh/apache/incubator-pinot/pull/4283/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4283?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4283?src=pr&el=footer). Last update [752196c...18946af](https://codecov.io/gh/apache/incubator-pinot/pull/4283?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499305868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499310687","html_url":"https://github.com/apache/pinot/pull/4216#issuecomment-499310687","issue_url":"https://api.github.com/repos/apache/pinot/issues/4216","id":499310687,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTMxMDY4Nw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T01:06:34Z","updated_at":"2019-06-06T01:06:34Z","author_association":"CONTRIBUTOR","body":"@fx19880617 I just reformatted all thrift auto-generated files in #4283. Can you rebase the branch on master, and regenerate and reformat all thrift files? I'm going to review other parts at the same time.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499310687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499342153","html_url":"https://github.com/apache/pinot/pull/4284#issuecomment-499342153","issue_url":"https://api.github.com/repos/apache/pinot/issues/4284","id":499342153,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTM0MjE1Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T04:17:44Z","updated_at":"2019-06-06T19:12:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4284?src=pr&el=h1) Report\n> Merging [#4284](https://codecov.io/gh/apache/incubator-pinot/pull/4284?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/32b32b3d3f7d3b28c5ce65b72619761b68f3a514?src=pr&el=desc) will **decrease** coverage by `9.96%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4284/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4284?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4284      +/-   ##\n============================================\n- Coverage     67.12%   57.15%   -9.97%     \n  Complexity       20       20              \n============================================\n  Files          1040     1040              \n  Lines         51628    51628              \n  Branches       7232     7232              \n============================================\n- Hits          34654    29509    -5145     \n- Misses        14611    19937    +5326     \n+ Partials       2363     2182     -181\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4284?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/pinot/core/operator/blocks/EmptyFilterBlock.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9ibG9ja3MvRW1wdHlGaWx0ZXJCbG9jay5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...lection/iterator/FloatSelectionColumnIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vaXRlcmF0b3IvRmxvYXRTZWxlY3Rpb25Db2x1bW5JdGVyYXRvci5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ime/impl/kafka/KafkaSimpleConsumerFactoryImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtY29ubmVjdG9ycy9waW5vdC1jb25uZWN0b3Ita2Fma2EtMC45L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb3JlL3JlYWx0aW1lL2ltcGwva2Fma2EvS2Fma2FTaW1wbGVDb25zdW1lckZhY3RvcnlJbXBsLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ot/minion/events/EventObserverFactoryRegistry.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vZXZlbnRzL0V2ZW50T2JzZXJ2ZXJGYWN0b3J5UmVnaXN0cnkuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...minion/executor/ConvertToRawIndexTaskExecutor.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vZXhlY3V0b3IvQ29udmVydFRvUmF3SW5kZXhUYXNrRXhlY3V0b3IuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...on/iterator/FloatArraySelectionColumnIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vaXRlcmF0b3IvRmxvYXRBcnJheVNlbGVjdGlvbkNvbHVtbkl0ZXJhdG9yLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...a/org/apache/pinot/minion/metrics/MinionMeter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vbWV0cmljcy9NaW5pb25NZXRlci5qYXZh) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/minion/metrics/MinionQueryPhase.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vbWV0cmljcy9NaW5pb25RdWVyeVBoYXNlLmphdmE=) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...selection/iterator/IntSelectionColumnIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vaXRlcmF0b3IvSW50U2VsZWN0aW9uQ29sdW1uSXRlcmF0b3IuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| [...ection/iterator/DoubleSelectionColumnIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zZWxlY3Rpb24vaXRlcmF0b3IvRG91YmxlU2VsZWN0aW9uQ29sdW1uSXRlcmF0b3IuamF2YQ==) | `0% <0%> (-100%)` | `0% <0%> (ø)` | |\n| ... and [321 more](https://codecov.io/gh/apache/incubator-pinot/pull/4284/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4284?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4284?src=pr&el=footer). Last update [32b32b3...8d339c5](https://codecov.io/gh/apache/incubator-pinot/pull/4284?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499342153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499646492","html_url":"https://github.com/apache/pinot/pull/4285#issuecomment-499646492","issue_url":"https://api.github.com/repos/apache/pinot/issues/4285","id":499646492,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTY0NjQ5Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T20:04:36Z","updated_at":"2019-06-06T20:04:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4285?src=pr&el=h1) Report\n> Merging [#4285](https://codecov.io/gh/apache/incubator-pinot/pull/4285?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/32b32b3d3f7d3b28c5ce65b72619761b68f3a514?src=pr&el=desc) will **decrease** coverage by `<.01%`.\n> The diff coverage is `83.33%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4285/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4285?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4285      +/-   ##\n============================================\n- Coverage     67.12%   67.11%   -0.01%     \n  Complexity       20       20              \n============================================\n  Files          1040     1040              \n  Lines         51628    51629       +1     \n  Branches       7232     7232              \n============================================\n- Hits          34654    34653       -1     \n  Misses        14611    14611              \n- Partials       2363     2365       +2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4285?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...he/pinot/core/operator/CombineGroupByOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9Db21iaW5lR3JvdXBCeU9wZXJhdG9yLmphdmE=) | `75.86% <83.33%> (+0.28%)` | `0 <0> (ø)` | :arrow_down: |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...egation/function/customobject/MinMaxRangePair.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvTWluTWF4UmFuZ2VQYWlyLmphdmE=) | `75.86% <0%> (-24.14%)` | `0% <0%> (ø)` | |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `85.71% <0%> (-10.72%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `73.62% <0%> (-8.8%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...nsport/netty/PooledNettyClientResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvUG9vbGVkTmV0dHlDbGllbnRSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `85.41% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| [.../pinot/core/query/scheduler/PriorityScheduler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvUHJpb3JpdHlTY2hlZHVsZXIuamF2YQ==) | `78.08% <0%> (-2.74%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `78.57% <0%> (-1.79%)` | `0% <0%> (ø)` | |\n| [.../controller/helix/core/SegmentDeletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1NlZ21lbnREZWxldGlvbk1hbmFnZXIuamF2YQ==) | `76.61% <0%> (-1.62%)` | `0% <0%> (ø)` | |\n| ... and [15 more](https://codecov.io/gh/apache/incubator-pinot/pull/4285/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4285?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4285?src=pr&el=footer). Last update [32b32b3...1108398](https://codecov.io/gh/apache/incubator-pinot/pull/4285?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499646492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499715505","html_url":"https://github.com/apache/pinot/pull/4285#issuecomment-499715505","issue_url":"https://api.github.com/repos/apache/pinot/issues/4285","id":499715505,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTcxNTUwNQ==","user":{"login":"s-sahay","id":43484532,"node_id":"MDQ6VXNlcjQzNDg0NTMy","avatar_url":"https://avatars.githubusercontent.com/u/43484532?v=4","gravatar_id":"","url":"https://api.github.com/users/s-sahay","html_url":"https://github.com/s-sahay","followers_url":"https://api.github.com/users/s-sahay/followers","following_url":"https://api.github.com/users/s-sahay/following{/other_user}","gists_url":"https://api.github.com/users/s-sahay/gists{/gist_id}","starred_url":"https://api.github.com/users/s-sahay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s-sahay/subscriptions","organizations_url":"https://api.github.com/users/s-sahay/orgs","repos_url":"https://api.github.com/users/s-sahay/repos","events_url":"https://api.github.com/users/s-sahay/events{/privacy}","received_events_url":"https://api.github.com/users/s-sahay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T00:20:05Z","updated_at":"2019-06-07T00:20:05Z","author_association":"NONE","body":"@Jackie-Jiang : Can we add a test that would catch this kind of issue? Doing it for all config values may be a stretch but can we add one for this which can test the code path with config values set to min/max?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499715505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499720212","html_url":"https://github.com/apache/pinot/pull/4285#issuecomment-499720212","issue_url":"https://api.github.com/repos/apache/pinot/issues/4285","id":499720212,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTcyMDIxMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T00:45:36Z","updated_at":"2019-06-07T00:45:36Z","author_association":"CONTRIBUTOR","body":"@s-sahay We can put these extreme configs into an integration test. While it is hard to prevent these kinds of issues for new added configs.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499720212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499749734","html_url":"https://github.com/apache/pinot/pull/4287#issuecomment-499749734","issue_url":"https://api.github.com/repos/apache/pinot/issues/4287","id":499749734,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTc0OTczNA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T04:07:02Z","updated_at":"2019-06-07T04:07:10Z","author_association":"CONTRIBUTOR","body":"This is related to #4273 (Table level tenant isolation)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499749734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499757703","html_url":"https://github.com/apache/pinot/pull/4287#issuecomment-499757703","issue_url":"https://api.github.com/repos/apache/pinot/issues/4287","id":499757703,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTc1NzcwMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T05:04:34Z","updated_at":"2019-06-07T05:04:34Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4287?src=pr&el=h1) Report\n> Merging [#4287](https://codecov.io/gh/apache/incubator-pinot/pull/4287?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fb086485d3a092914942c579b630a46ca2f22ac5?src=pr&el=desc) will **increase** coverage by `10.14%`.\n> The diff coverage is `39.02%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4287/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4287?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #4287       +/-   ##\n============================================\n+ Coverage     57.15%   67.3%   +10.14%     \n  Complexity       20      20               \n============================================\n  Files          1040    1042        +2     \n  Lines         51629   51670       +41     \n  Branches       7232    7236        +4     \n============================================\n+ Hits          29507   34774     +5267     \n+ Misses        19941   14502     -5439     \n- Partials       2181    2394      +213\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4287?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `67.39% <0%> (+3.1%)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/common/metadata/dataset/DatasetMetadataUtil.java](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvZGF0YXNldC9EYXRhc2V0TWV0YWRhdGFVdGlsLmphdmE=) | `0% <0%> (ø)` | `0 <0> (?)` | |\n| [...pinot/common/metadata/dataset/DatasetMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvZGF0YXNldC9EYXRhc2V0TWV0YWRhdGEuamF2YQ==) | `55.17% <55.17%> (ø)` | `0 <0> (?)` | |\n| [.../apache/pinot/core/transport/DataTableHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvRGF0YVRhYmxlSGFuZGxlci5qYXZh) | `88% <0%> (-12%)` | `0% <0%> (ø)` | |\n| [...nsport/netty/PooledNettyClientResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvUG9vbGVkTmV0dHlDbGllbnRSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `85.41% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| [...inot/transport/netty/NettyTCPClientConnection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlUQ1BDbGllbnRDb25uZWN0aW9uLmphdmE=) | `81.45% <0%> (-3.32%)` | `0% <0%> (ø)` | |\n| [...ator/transform/function/BaseTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQmFzZVRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `29.95% <0%> (+0.42%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...regation/function/customobject/QuantileDigest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvUXVhbnRpbGVEaWdlc3QuamF2YQ==) | `58.18% <0%> (+0.44%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [327 more](https://codecov.io/gh/apache/incubator-pinot/pull/4287/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4287?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4287?src=pr&el=footer). Last update [fb08648...aaa9416](https://codecov.io/gh/apache/incubator-pinot/pull/4287?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499757703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499758738","html_url":"https://github.com/apache/pinot/pull/4288#issuecomment-499758738","issue_url":"https://api.github.com/repos/apache/pinot/issues/4288","id":499758738,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTc1ODczOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T05:11:28Z","updated_at":"2019-06-07T05:11:28Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4288?src=pr&el=h1) Report\n> Merging [#4288](https://codecov.io/gh/apache/incubator-pinot/pull/4288?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fb086485d3a092914942c579b630a46ca2f22ac5?src=pr&el=desc) will **increase** coverage by `10.15%`.\n> The diff coverage is `53.84%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4288/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4288?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4288       +/-   ##\n=============================================\n+ Coverage     57.15%   67.31%   +10.15%     \n  Complexity       20       20               \n=============================================\n  Files          1040     1040               \n  Lines         51629    51624        -5     \n  Branches       7232     7232               \n=============================================\n+ Hits          29507    34749     +5242     \n+ Misses        19941    14500     -5441     \n- Partials       2181     2375      +194\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4288?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...manager/realtime/LLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvTExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `71.84% <100%> (+28.32%)` | `0 <0> (ø)` | :arrow_down: |\n| [...core/retention/strategy/TimeRetentionStrategy.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9zdHJhdGVneS9UaW1lUmV0ZW50aW9uU3RyYXRlZ3kuamF2YQ==) | `100% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...manager/realtime/HLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvSExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `80.92% <100%> (+80.92%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../server/starter/helix/SegmentFetcherAndLoader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9TZWdtZW50RmV0Y2hlckFuZExvYWRlci5qYXZh) | `64.76% <33.33%> (+64.76%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `63% <43.75%> (+4.44%)` | `0 <0> (ø)` | :arrow_down: |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `79.16% <50%> (+4.16%)` | `0 <0> (ø)` | :arrow_down: |\n| [...org/apache/pinot/broker/queryquota/HitCounter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcXVlcnlxdW90YS9IaXRDb3VudGVyLmphdmE=) | `92.3% <0%> (-7.7%)` | `0% <0%> (ø)` | |\n| [...inot/transport/netty/NettyTCPClientConnection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlUQ1BDbGllbnRDb25uZWN0aW9uLmphdmE=) | `81.45% <0%> (-3.32%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (ø)` | `0% <0%> (ø)` | :arrow_down: |\n| [...ator/transform/function/BaseTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQmFzZVRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `29.95% <0%> (+0.42%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [330 more](https://codecov.io/gh/apache/incubator-pinot/pull/4288/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4288?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4288?src=pr&el=footer). Last update [fb08648...0a52b9b](https://codecov.io/gh/apache/incubator-pinot/pull/4288?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499758738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499923396","html_url":"https://github.com/apache/pinot/pull/4289#issuecomment-499923396","issue_url":"https://api.github.com/repos/apache/pinot/issues/4289","id":499923396,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTkyMzM5Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T15:11:33Z","updated_at":"2019-06-10T20:11:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4289?src=pr&el=h1) Report\n> Merging [#4289](https://codecov.io/gh/apache/incubator-pinot/pull/4289?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/75667900a7ad4739069aa2220b778ab7d7b12a6b?src=pr&el=desc) will **decrease** coverage by `0.2%`.\n> The diff coverage is `84.48%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4289/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4289?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4289      +/-   ##\n============================================\n- Coverage     67.29%   67.09%   -0.21%     \n  Complexity       20       20              \n============================================\n  Files          1040     1041       +1     \n  Lines         51662    51713      +51     \n  Branches       7238     7247       +9     \n============================================\n- Hits          34767    34696      -71     \n- Misses        14507    14651     +144     \n+ Partials       2388     2366      -22\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4289?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...re/segment/virtualcolumn/VirtualColumnContext.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L3ZpcnR1YWxjb2x1bW4vVmlydHVhbENvbHVtbkNvbnRleHQuamF2YQ==) | `100% <ø> (+8.33%)` | `0 <0> (ø)` | :arrow_down: |\n| [...helix/core/sharding/BucketizedSegmentStrategy.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3NoYXJkaW5nL0J1Y2tldGl6ZWRTZWdtZW50U3RyYXRlZ3kuamF2YQ==) | `0% <0%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../pinot/controller/api/upload/SegmentValidator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1NlZ21lbnRWYWxpZGF0b3IuamF2YQ==) | `65.38% <100%> (-0.66%)` | `0 <0> (ø)` | |\n| [...indexsegment/immutable/ImmutableSegmentLoader.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pbmRleHNlZ21lbnQvaW1tdXRhYmxlL0ltbXV0YWJsZVNlZ21lbnRMb2FkZXIuamF2YQ==) | `92.15% <100%> (-0.16%)` | `0 <0> (ø)` | |\n| [.../core/indexsegment/mutable/MutableSegmentImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pbmRleHNlZ21lbnQvbXV0YWJsZS9NdXRhYmxlU2VnbWVudEltcGwuamF2YQ==) | `81.04% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...apache/pinot/controller/api/upload/ZKOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1pLT3BlcmF0b3IuamF2YQ==) | `72.52% <100%> (-0.3%)` | `0 <0> (ø)` | |\n| [.../sharding/BalanceNumSegmentAssignmentStrategy.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3NoYXJkaW5nL0JhbGFuY2VOdW1TZWdtZW50QXNzaWdubWVudFN0cmF0ZWd5LmphdmE=) | `90.62% <100%> (-0.29%)` | `0 <0> (ø)` | |\n| [...harding/ReplicaGroupSegmentAssignmentStrategy.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3NoYXJkaW5nL1JlcGxpY2FHcm91cFNlZ21lbnRBc3NpZ25tZW50U3RyYXRlZ3kuamF2YQ==) | `100% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `62.51% <100%> (-0.7%)` | `0 <0> (ø)` | |\n| [...pache/pinot/minion/executor/PurgeTaskExecutor.java](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree#diff-cGlub3QtbWluaW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9taW5pb24vZXhlY3V0b3IvUHVyZ2VUYXNrRXhlY3V0b3IuamF2YQ==) | `69.56% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [37 more](https://codecov.io/gh/apache/incubator-pinot/pull/4289/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4289?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4289?src=pr&el=footer). Last update [7566790...2cb74a1](https://codecov.io/gh/apache/incubator-pinot/pull/4289?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499923396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499926322","html_url":"https://github.com/apache/pinot/pull/4287#issuecomment-499926322","issue_url":"https://api.github.com/repos/apache/pinot/issues/4287","id":499926322,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTkyNjMyMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T15:18:46Z","updated_at":"2019-06-07T15:18:46Z","author_association":"MEMBER","body":"What’s a dataset.  Is this a new concept ?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499926322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499988874","html_url":"https://github.com/apache/pinot/pull/4289#issuecomment-499988874","issue_url":"https://api.github.com/repos/apache/pinot/issues/4289","id":499988874,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTk4ODg3NA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T18:21:09Z","updated_at":"2019-06-07T18:21:09Z","author_association":"CONTRIBUTOR","body":"Can you add more descriptions? The only time when you call SegmentMetadata.getTableName() is during segment push?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/499988874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500017248","html_url":"https://github.com/apache/pinot/pull/4253#issuecomment-500017248","issue_url":"https://api.github.com/repos/apache/pinot/issues/4253","id":500017248,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDAxNzI0OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T19:52:18Z","updated_at":"2019-06-07T19:52:18Z","author_association":"MEMBER","body":"Is there a high level write up for this? I am looking for\r\n- user doc - How to use this feature?\r\n- what happens in the hadoop job\r\n- how flexible is this? Can it handle any input format (avro, json, thrift etc). How easy is it to add support for other formats.\r\n- ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500017248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500035046","html_url":"https://github.com/apache/pinot/pull/4290#issuecomment-500035046","issue_url":"https://api.github.com/repos/apache/pinot/issues/4290","id":500035046,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDAzNTA0Ng==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T20:53:07Z","updated_at":"2019-06-07T20:53:07Z","author_association":"CONTRIBUTOR","body":"Best to review this one commit at a time.\r\nWe now have version numbers along with the package names, so that we can easily tell later on whether we need to look up the license for a specific package simply because the version number changed.\r\nThe first commit adds version numbers to the existing license file.\r\nThe second commit removes pinot-common and pinot-core jars from the components list under apache license.\r\nThe third commit makes the modifications to the license file from the time we released 0.1.0 until now.\r\n\r\nAn easy way of doing this is to cut/paste the contents of page from the browser onto a text file, and use awk scripts to get the package and version list. Assuming you cut/paste the contents of the html file in licenses.txt\r\n\r\nYou can then run script like this:\r\n`\r\ncat licenses.txt | awk '{printf(\"%s:%s:%s\\n'\", $1, $2, $3)}' | sort > pkg-versions\r\n`\r\nNow the file `pkg-versions` has all the packages we use, with the group id and version number.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500035046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500097941","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500097941","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500097941,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDA5Nzk0MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T05:42:09Z","updated_at":"2019-06-08T05:42:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4293?src=pr&el=h1) Report\n> Merging [#4293](https://codecov.io/gh/apache/incubator-pinot/pull/4293?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/f608b38d40394be616c1c36f808403b1c8d1a695?src=pr&el=desc) will **increase** coverage by `21.33%`.\n> The diff coverage is `92.68%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4293/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4293?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4293       +/-   ##\n=============================================\n+ Coverage     45.95%   67.28%   +21.33%     \n- Complexity        0       20       +20     \n=============================================\n  Files          1040     1043        +3     \n  Lines         51662    51703       +41     \n  Branches       7238     7238               \n=============================================\n+ Hits          23739    34787    +11048     \n+ Misses        25892    14544    -11348     \n- Partials       2031     2372      +341\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4293?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...t/core/data/aggregator/ValueAggregatorFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvVmFsdWVBZ2dyZWdhdG9yRmFjdG9yeS5qYXZh) | `75% <ø> (+25%)` | `0 <0> (ø)` | :arrow_down: |\n| [...gregation/function/AggregationFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uRmFjdG9yeS5qYXZh) | `85.1% <100%> (+65.1%)` | `0 <0> (ø)` | :arrow_down: |\n| [...gregation/function/customobject/SerializedHLL.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvU2VyaWFsaXplZEhMTC5qYXZh) | `100% <100%> (ø)` | `0 <0> (?)` | |\n| [...tion/DistinctCountRawHLLMVAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50UmF3SExMTVZBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `100% <100%> (ø)` | `0 <0> (?)` | |\n| [.../aggregation/function/AggregationFunctionType.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BZ2dyZWdhdGlvbkZ1bmN0aW9uVHlwZS5qYXZh) | `96.22% <100%> (+25.63%)` | `0 <0> (ø)` | :arrow_down: |\n| [...nction/DistinctCountRawHLLAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50UmF3SExMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `85% <85%> (ø)` | `0 <0> (?)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `75% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `55.55% <0%> (-5.56%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `89.28% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| ... and [535 more](https://codecov.io/gh/apache/incubator-pinot/pull/4293/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4293?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4293?src=pr&el=footer). Last update [f608b38...520a0e4](https://codecov.io/gh/apache/incubator-pinot/pull/4293?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500097941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500127534","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500127534","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500127534,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDEyNzUzNA==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T14:16:26Z","updated_at":"2019-06-08T14:16:26Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution @ianvkoeppe. This introduces a high-level aggregation/keyword, so will be good to get input from @kishoreg on this. \r\n\r\nAlso, just wondering if there are other ways of getting this info. One possibility is that if you store the serializedHLL as a separate column already, you might be able to get it via a \"select ... limit 1\" on the column; I haven't played with serialized-hll columns before, so can't say for sure if this is valid - will check on it.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500127534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500127889","html_url":"https://github.com/apache/pinot/pull/4286#issuecomment-500127889","issue_url":"https://api.github.com/repos/apache/pinot/issues/4286","id":500127889,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDEyNzg4OQ==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T14:22:07Z","updated_at":"2019-06-08T14:22:07Z","author_association":"CONTRIBUTOR","body":"Could we please stick to the convention of including \"[TE]\" in the commit messages and PR descriptions? This will help us skip TE specific commits when we look up the changelog. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500127889/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500127928","html_url":"https://github.com/apache/pinot/pull/4272#issuecomment-500127928","issue_url":"https://api.github.com/repos/apache/pinot/issues/4272","id":500127928,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDEyNzkyOA==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T14:22:36Z","updated_at":"2019-06-08T14:22:36Z","author_association":"CONTRIBUTOR","body":"Could we please stick to the convention of including \"[TE]\" in the commit messages and PR descriptions? This will help us skip TE specific commits when we look up the changelog. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500127928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500128536","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500128536","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500128536,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDEyODUzNg==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T14:31:12Z","updated_at":"2019-06-08T14:34:49Z","author_association":"CONTRIBUTOR","body":"@sunithabeeram, thank you for the quick reply. I'm happy to speak more with @kishoreg about our use case.\r\n\r\nInterestingly, we already are planning to use serialized HLLs, but still want Pinot to do the aggregation across multiple segments before returning the serialized HLL.\r\n\r\nA more concrete example would be; given a Pinot table which has...\r\n**Unique Page Views** [SerializedHLL]\r\n**PageId** [Int]\r\n\r\n...and I want to get the total unique page views for 10,000 pages. I can't supply those 10,000 page ids in a single query because URI length will be exceeded; ~especially when ids are represented as 40+ character urns~ [Edit: Remembered we don't store ids as urns in pinot, but number of ids and query length is still an issue]. So I batch calls by 1,000 pages and get 10 responses.\r\n\r\nToday, I would have 10 responses with unique page views as a longs. I can't logically add them. With this change, I'm hoping I can get 10 serialized HLLs back, and use the HLLUtil client side to deserialize, aggregate, and then find cardinality.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500128536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500129059","html_url":"https://github.com/apache/pinot/pull/4269#issuecomment-500129059","issue_url":"https://api.github.com/repos/apache/pinot/issues/4269","id":500129059,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDEyOTA1OQ==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T14:38:15Z","updated_at":"2019-06-08T14:38:15Z","author_association":"CONTRIBUTOR","body":"Could you please call out in the description section the changes to persistent state (if any) made through this PR? What are the implications for cases where code is rolled-back with the new state?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500129059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500147509","html_url":"https://github.com/apache/pinot/pull/4294#issuecomment-500147509","issue_url":"https://api.github.com/repos/apache/pinot/issues/4294","id":500147509,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDE0NzUwOQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-08T18:14:30Z","updated_at":"2019-06-08T18:14:30Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4294?src=pr&el=h1) Report\n> Merging [#4294](https://codecov.io/gh/apache/incubator-pinot/pull/4294?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/f608b38d40394be616c1c36f808403b1c8d1a695?src=pr&el=desc) will **increase** coverage by `21.27%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4294/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4294?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4294       +/-   ##\n=============================================\n+ Coverage     45.95%   67.22%   +21.27%     \n- Complexity        0       20       +20     \n=============================================\n  Files          1040     1040               \n  Lines         51662    51662               \n  Branches       7238     7238               \n=============================================\n+ Hits          23739    34732    +10993     \n+ Misses        25892    14561    -11331     \n- Partials       2031     2369      +338\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4294?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `75% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...egation/function/customobject/MinMaxRangePair.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvTWluTWF4UmFuZ2VQYWlyLmphdmE=) | `75.86% <0%> (-24.14%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `83.92% <0%> (-8.93%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `82.6% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `91.07% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `41.17% <0%> (-1.48%)` | `0% <0%> (ø)` | |\n| [...ot/core/query/pruner/ColumnValueSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvQ29sdW1uVmFsdWVTZWdtZW50UHJ1bmVyLmphdmE=) | `87.32% <0%> (-1.41%)` | `0% <0%> (ø)` | |\n| [...ation/function/MinMaxRangeAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9NaW5NYXhSYW5nZUFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `73.25% <0%> (-1.17%)` | `0% <0%> (ø)` | |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `73% <0%> (ø)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [529 more](https://codecov.io/gh/apache/incubator-pinot/pull/4294/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4294?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4294?src=pr&el=footer). Last update [f608b38...ce11648](https://codecov.io/gh/apache/incubator-pinot/pull/4294?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500147509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500400411","html_url":"https://github.com/apache/pinot/pull/4270#issuecomment-500400411","issue_url":"https://api.github.com/repos/apache/pinot/issues/4270","id":500400411,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDQwMDQxMQ==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T12:34:50Z","updated_at":"2019-06-10T12:36:35Z","author_association":"CONTRIBUTOR","body":"@jasperjiaguo thanks for testing this out. It will be great if you can add test coverage for sorted-inverted-index by updating BaseSingleValueQueriesTest (and related tests as needed). You can do this as part of a different PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500400411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500486095","html_url":"https://github.com/apache/pinot/pull/4292#issuecomment-500486095","issue_url":"https://api.github.com/repos/apache/pinot/issues/4292","id":500486095,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDQ4NjA5NQ==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T16:36:23Z","updated_at":"2019-06-10T16:36:23Z","author_association":"NONE","body":"Will this useful? Currently most of the alerts don't have a meaningful description.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500486095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500513771","html_url":"https://github.com/apache/pinot/pull/4292#issuecomment-500513771","issue_url":"https://api.github.com/repos/apache/pinot/issues/4292","id":500513771,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDUxMzc3MQ==","user":{"login":"akshayrai","id":4448437,"node_id":"MDQ6VXNlcjQ0NDg0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/4448437?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayrai","html_url":"https://github.com/akshayrai","followers_url":"https://api.github.com/users/akshayrai/followers","following_url":"https://api.github.com/users/akshayrai/following{/other_user}","gists_url":"https://api.github.com/users/akshayrai/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayrai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayrai/subscriptions","organizations_url":"https://api.github.com/users/akshayrai/orgs","repos_url":"https://api.github.com/users/akshayrai/repos","events_url":"https://api.github.com/users/akshayrai/events{/privacy}","received_events_url":"https://api.github.com/users/akshayrai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T17:50:42Z","updated_at":"2019-06-10T17:50:42Z","author_association":"CONTRIBUTOR","body":"> Will this useful? Currently most of the alerts don't have a meaningful description.\r\n\r\n@xiaohui-sun, describing what the alert means will be very helpful to the recipients. Putting it in the email will encourage recipients to update the description.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500513771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500519775","html_url":"https://github.com/apache/pinot/pull/4290#issuecomment-500519775","issue_url":"https://api.github.com/repos/apache/pinot/issues/4290","id":500519775,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDUxOTc3NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T18:05:46Z","updated_at":"2019-06-13T18:04:22Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4290?src=pr&el=h1) Report\n> Merging [#4290](https://codecov.io/gh/apache/incubator-pinot/pull/4290?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/9a7dddc0895a3b2419792d96558f80bbc8cf45bf?src=pr&el=desc) will **decrease** coverage by `1.85%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4290/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4290?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4290      +/-   ##\n============================================\n- Coverage     67.21%   65.35%   -1.86%     \n  Complexity       20       20              \n============================================\n  Files          1043     1052       +9     \n  Lines         51743    54582    +2839     \n  Branches       7248     7771     +523     \n============================================\n+ Hits          34778    35674     +896     \n- Misses        14595    16352    +1757     \n- Partials       2370     2556     +186\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4290?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `19.17% <0%> (-21.92%)` | `0% <0%> (ø)` | |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `57.37% <0%> (-20.96%)` | `0% <0%> (ø)` | |\n| [...ava/org/apache/pinot/pql/parsers/Pql2Compiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QcWwyQ29tcGlsZXIuamF2YQ==) | `56.8% <0%> (-15.16%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `66.07% <0%> (-12.5%)` | `0% <0%> (ø)` | |\n| [...n/java/org/apache/pinot/core/transport/Server.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS90cmFuc3BvcnQvU2VydmVyLmphdmE=) | `59.25% <0%> (-7.41%)` | `0% <0%> (ø)` | |\n| [...inot/pql/parsers/pql2/ast/OutputColumnAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PdXRwdXRDb2x1bW5Bc3ROb2RlLmphdmE=) | `93.54% <0%> (-6.46%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `83.92% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...thandler/SingleConnectionBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvU2luZ2xlQ29ubmVjdGlvbkJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `84.09% <0%> (-4.55%)` | `0% <0%> (ø)` | |\n| [...t/pql/parsers/pql2/ast/BooleanOperatorAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9Cb29sZWFuT3BlcmF0b3JBc3ROb2RlLmphdmE=) | `27.77% <0%> (-3.48%)` | `0% <0%> (ø)` | |\n| ... and [72 more](https://codecov.io/gh/apache/incubator-pinot/pull/4290/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4290?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4290?src=pr&el=footer). Last update [9a7dddc...7e9478a](https://codecov.io/gh/apache/incubator-pinot/pull/4290?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500519775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500534148","html_url":"https://github.com/apache/pinot/pull/4289#issuecomment-500534148","issue_url":"https://api.github.com/repos/apache/pinot/issues/4289","id":500534148,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDUzNDE0OA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T18:23:35Z","updated_at":"2019-06-10T18:23:35Z","author_association":"CONTRIBUTOR","body":"> Can you add more descriptions? The only time when you call SegmentMetadata.getTableName() is during segment push?\r\n\r\nI have updated the commit message. \r\n1. is required. \r\n2. and 3.  is required for backward compatibility (writing table.name to segment zk metadata or segment metadata). We can remove them when we decide to remove `tableName` completely from the segment metadata.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500534148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500576086","html_url":"https://github.com/apache/pinot/pull/4298#issuecomment-500576086","issue_url":"https://api.github.com/repos/apache/pinot/issues/4298","id":500576086,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDU3NjA4Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T20:11:38Z","updated_at":"2019-06-10T20:11:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4298?src=pr&el=h1) Report\n> Merging [#4298](https://codecov.io/gh/apache/incubator-pinot/pull/4298?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/d3a2a194ac740b81249ca75be2f073602c5607f7?src=pr&el=desc) will **decrease** coverage by `0.07%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4298/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4298?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4298      +/-   ##\n============================================\n- Coverage     67.13%   67.05%   -0.08%     \n  Complexity       20       20              \n============================================\n  Files          1041     1043       +2     \n  Lines         51720    51748      +28     \n  Branches       7247     7248       +1     \n============================================\n- Hits          34723    34701      -22     \n- Misses        14633    14679      +46     \n- Partials       2364     2368       +4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4298?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...core/realtime/stream/SimpleAvroMessageDecoder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vU2ltcGxlQXZyb01lc3NhZ2VEZWNvZGVyLmphdmE=) | `0% <ø> (ø)` | `0 <0> (?)` | |\n| [...realtime/stream/AvroRecordToPinotRowGenerator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vQXZyb1JlY29yZFRvUGlub3RSb3dHZW5lcmF0b3IuamF2YQ==) | `100% <ø> (ø)` | `0 <0> (?)` | |\n| [...e/realtime/impl/kafka/KafkaAvroMessageDecoder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtY29ubmVjdG9ycy9waW5vdC1jb25uZWN0b3Ita2Fma2EtMC45L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb3JlL3JlYWx0aW1lL2ltcGwva2Fma2EvS2Fma2FBdnJvTWVzc2FnZURlY29kZXIuamF2YQ==) | `0% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `48.48% <0%> (-15.16%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `89.28% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...nsport/netty/PooledNettyClientResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvUG9vbGVkTmV0dHlDbGllbnRSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `85.41% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `73.21% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| ... and [18 more](https://codecov.io/gh/apache/incubator-pinot/pull/4298/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4298?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4298?src=pr&el=footer). Last update [d3a2a19...dbd1175](https://codecov.io/gh/apache/incubator-pinot/pull/4298?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500576086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500578651","html_url":"https://github.com/apache/pinot/pull/4296#issuecomment-500578651","issue_url":"https://api.github.com/repos/apache/pinot/issues/4296","id":500578651,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDU3ODY1MQ==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T20:19:33Z","updated_at":"2019-06-10T20:19:33Z","author_association":"NONE","body":"> Any particular reason for reverting the random backoff when saving the tasks?\r\n\r\nThis is not the root cause for the MySQL heavy load.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500578651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500609517","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500609517","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500609517,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDYwOTUxNw==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T21:54:39Z","updated_at":"2019-06-10T21:54:39Z","author_association":"CONTRIBUTOR","body":"@ianvkoeppe sounds good. Will let @kishoreg/@Jackie-Jiang chime in on this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500609517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500618262","html_url":"https://github.com/apache/pinot/pull/4300#issuecomment-500618262","issue_url":"https://api.github.com/repos/apache/pinot/issues/4300","id":500618262,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDYxODI2Mg==","user":{"login":"harleyjj","id":10106733,"node_id":"MDQ6VXNlcjEwMTA2NzMz","avatar_url":"https://avatars.githubusercontent.com/u/10106733?v=4","gravatar_id":"","url":"https://api.github.com/users/harleyjj","html_url":"https://github.com/harleyjj","followers_url":"https://api.github.com/users/harleyjj/followers","following_url":"https://api.github.com/users/harleyjj/following{/other_user}","gists_url":"https://api.github.com/users/harleyjj/gists{/gist_id}","starred_url":"https://api.github.com/users/harleyjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harleyjj/subscriptions","organizations_url":"https://api.github.com/users/harleyjj/orgs","repos_url":"https://api.github.com/users/harleyjj/repos","events_url":"https://api.github.com/users/harleyjj/events{/privacy}","received_events_url":"https://api.github.com/users/harleyjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T22:30:12Z","updated_at":"2019-06-10T22:30:12Z","author_association":"CONTRIBUTOR","body":"Sample Screenshot graph\r\n![colors-3](https://user-images.githubusercontent.com/10106733/59231178-a0c20000-8b94-11e9-87ea-ab9ee8237756.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500618262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500618421","html_url":"https://github.com/apache/pinot/pull/4300#issuecomment-500618421","issue_url":"https://api.github.com/repos/apache/pinot/issues/4300","id":500618421,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDYxODQyMQ==","user":{"login":"harleyjj","id":10106733,"node_id":"MDQ6VXNlcjEwMTA2NzMz","avatar_url":"https://avatars.githubusercontent.com/u/10106733?v=4","gravatar_id":"","url":"https://api.github.com/users/harleyjj","html_url":"https://github.com/harleyjj","followers_url":"https://api.github.com/users/harleyjj/followers","following_url":"https://api.github.com/users/harleyjj/following{/other_user}","gists_url":"https://api.github.com/users/harleyjj/gists{/gist_id}","starred_url":"https://api.github.com/users/harleyjj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harleyjj/subscriptions","organizations_url":"https://api.github.com/users/harleyjj/orgs","repos_url":"https://api.github.com/users/harleyjj/repos","events_url":"https://api.github.com/users/harleyjj/events{/privacy}","received_events_url":"https://api.github.com/users/harleyjj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T22:30:54Z","updated_at":"2019-06-10T22:30:54Z","author_association":"CONTRIBUTOR","body":"Sample Preview \r\n<img width=\"905\" alt=\"Screen Shot 2019-06-06 at 4 14 04 PM\" src=\"https://user-images.githubusercontent.com/10106733/59231201-b6cfc080-8b94-11e9-822d-e2b637f5fb69.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500618421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500619492","html_url":"https://github.com/apache/pinot/issues/4273#issuecomment-500619492","issue_url":"https://api.github.com/repos/apache/pinot/issues/4273","id":500619492,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDYxOTQ5Mg==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T22:35:58Z","updated_at":"2019-06-10T22:35:58Z","author_association":"CONTRIBUTOR","body":"Updated a full design doc: https://docs.google.com/document/d/1rt956bZqLmVjADiW-oJadQhO8vhWLsDDDBXd4dePGCM/edit?usp=sharing","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500619492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500621280","html_url":"https://github.com/apache/pinot/pull/4287#issuecomment-500621280","issue_url":"https://api.github.com/repos/apache/pinot/issues/4287","id":500621280,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDYyMTI4MA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T22:44:25Z","updated_at":"2019-06-10T22:44:25Z","author_association":"CONTRIBUTOR","body":"> What’s a dataset. Is this a new concept ?\r\n\r\nI have updated the design document https://docs.google.com/document/d/1rt956bZqLmVjADiW-oJadQhO8vhWLsDDDBXd4dePGCM/edit","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500621280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500623323","html_url":"https://github.com/apache/pinot/pull/4289#issuecomment-500623323","issue_url":"https://api.github.com/repos/apache/pinot/issues/4289","id":500623323,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDYyMzMyMw==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-10T22:54:35Z","updated_at":"2019-06-11T00:19:35Z","author_association":"CONTRIBUTOR","body":"> Can we mark segmentMetadata.getTableName() with @ deprecated?\r\n> \r\n> minor suggestions, other than that lgtm\r\n\r\nAs we discussed offline, I will deprecate `tableName` from segment zk metadata, not from segment metadata with another pr.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500623323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500638251","html_url":"https://github.com/apache/pinot/pull/4301#issuecomment-500638251","issue_url":"https://api.github.com/repos/apache/pinot/issues/4301","id":500638251,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDYzODI1MQ==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T00:13:45Z","updated_at":"2019-06-11T00:13:45Z","author_association":"NONE","body":"lgtm!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500638251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500639775","html_url":"https://github.com/apache/pinot/pull/4290#issuecomment-500639775","issue_url":"https://api.github.com/repos/apache/pinot/issues/4290","id":500639775,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDYzOTc3NQ==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T00:22:46Z","updated_at":"2019-06-11T00:22:46Z","author_association":"CONTRIBUTOR","body":"Can we fix the commit hash to whatever this pr is based and create `0.2.0` branch out of that? Otherwise, we may need to repeat this work if someone checks in any library change :)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500639775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500647191","html_url":"https://github.com/apache/pinot/pull/4290#issuecomment-500647191","issue_url":"https://api.github.com/repos/apache/pinot/issues/4290","id":500647191,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDY0NzE5MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T01:06:53Z","updated_at":"2019-06-11T01:06:53Z","author_association":"CONTRIBUTOR","body":"We cannot do that now, since we are planning to upgrade helix to  newer release anyway.\r\nThe idea of this exercise was to go through the process once and document it (since the earlier process was not documented.\r\n\r\nThe change after we add the new helix release should be small, so we should be good to go at that point.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500647191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500673258","html_url":"https://github.com/apache/pinot/pull/4269#issuecomment-500673258","issue_url":"https://api.github.com/repos/apache/pinot/issues/4269","id":500673258,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDY3MzI1OA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T03:30:49Z","updated_at":"2019-06-11T03:30:49Z","author_association":"CONTRIBUTOR","body":"> Could you please call out in the description section the changes to persistent state (if any) made through this PR? What are the implications for cases where code is rolled-back with the new state?\r\n\r\nThere is no persistent state change. Added in the commit message","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500673258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500691816","html_url":"https://github.com/apache/pinot/pull/4302#issuecomment-500691816","issue_url":"https://api.github.com/repos/apache/pinot/issues/4302","id":500691816,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDY5MTgxNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T05:26:38Z","updated_at":"2019-06-11T05:26:38Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4302?src=pr&el=h1) Report\n> Merging [#4302](https://codecov.io/gh/apache/incubator-pinot/pull/4302?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3ae95badf7e38a0074d36c2f00c6de0a2da69807?src=pr&el=desc) will **decrease** coverage by `0.07%`.\n> The diff coverage is `81.81%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4302/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4302?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4302      +/-   ##\n============================================\n- Coverage     67.29%   67.22%   -0.08%     \n  Complexity       20       20              \n============================================\n  Files          1043     1043              \n  Lines         51736    51734       -2     \n  Branches       7248     7248              \n============================================\n- Hits          34818    34779      -39     \n- Misses        14544    14579      +35     \n- Partials       2374     2376       +2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4302?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../pinot/controller/api/upload/SegmentValidator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1NlZ21lbnRWYWxpZGF0b3IuamF2YQ==) | `64.7% <100%> (-0.68%)` | `0 <0> (ø)` | |\n| [...not/controller/validation/StorageQuotaChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1N0b3JhZ2VRdW90YUNoZWNrZXIuamF2YQ==) | `71.76% <80%> (-0.33%)` | `0 <0> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.05% <0%> (-39.75%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `41.09% <0%> (-34.25%)` | `0% <0%> (ø)` | |\n| [...egation/function/customobject/MinMaxRangePair.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvTWluTWF4UmFuZ2VQYWlyLmphdmE=) | `75.86% <0%> (-24.14%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `73.62% <0%> (-8.8%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `85.71% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...ore/startree/v2/builder/BaseSingleTreeBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9idWlsZGVyL0Jhc2VTaW5nbGVUcmVlQnVpbGRlci5qYXZh) | `90.52% <0%> (-4.74%)` | `0% <0%> (ø)` | |\n| [...nsport/netty/PooledNettyClientResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvUG9vbGVkTmV0dHlDbGllbnRSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `85.41% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| ... and [27 more](https://codecov.io/gh/apache/incubator-pinot/pull/4302/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4302?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4302?src=pr&el=footer). Last update [3ae95ba...688e64a](https://codecov.io/gh/apache/incubator-pinot/pull/4302?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500691816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500865644","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500865644","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500865644,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDg2NTY0NA==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T14:25:24Z","updated_at":"2019-06-11T14:25:24Z","author_association":"CONTRIBUTOR","body":"@kishoreg and @Jackie-Jiang, please let me know if there is any additional information you need on your end.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500865644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500872566","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500872566","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500872566,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDg3MjU2Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T14:40:37Z","updated_at":"2019-06-11T14:40:37Z","author_association":"MEMBER","body":"What is the problem with passing 10k page ids in the query. I understand it will be long but can we not use Post instead of GET.  \r\n\r\nAlso, is the 10k page ids constant across queries? How did we select them. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500872566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500905548","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500905548","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500905548,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDkwNTU0OA==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T15:53:26Z","updated_at":"2019-06-11T15:53:26Z","author_association":"CONTRIBUTOR","body":"Thank you for your questions @kishoreg.\r\n\r\n> What is the problem with passing 10k page ids in the query. I understand it will be long but can we not use Post instead of GET.\r\n\r\nThis is certainly an option but only fixes half the problem. Limiting the number of ids in the request can be just as much about limiting the response size as it is about limiting the request size. For our use case, there can be many demographic dimensions which match a given filter.\r\n\r\n> Also, is the 10k page ids constant across queries? How did we select them.\r\n\r\nThey aren't necessarily constant; the 10K ids was simply meant as a generalized example of our specific use case.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500905548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500948818","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500948818","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500948818,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDk0ODgxOA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T17:40:37Z","updated_at":"2019-06-11T17:40:37Z","author_association":"MEMBER","body":"> This is certainly an option but only fixes half the problem. Limiting the number of ids in the request can be just as much about limiting the response size as it is about limiting the request size. For our use case, there can be many demographic dimensions which match a given filter.\r\n\r\nI didn't follow this. If we use POST, the query can be of any size right? \r\n\r\nOverall, I think this is a good feature to have. However, I am unable to justify that the client side batching is more efficient in terms of network (bytes moved) and compute(the total time to process the query) than passing all the page ids within the query. \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500948818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500968989","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500968989","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500968989,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDk2ODk4OQ==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T18:34:24Z","updated_at":"2019-06-11T18:34:24Z","author_association":"CONTRIBUTOR","body":"I think I can provide a more concrete example of what I meant, but there are other reasonable use cases which may be more persuasive.\r\n\r\nUse Case 1: Response Size too Large.\r\n\r\nIn the case of having 10,000 IDs, let's say we group by a persons job title. There are many job titles, so for 10,000 unique IDs, we could have a very large response size which exceeds the amount of data which can be returned. We can improve performance by querying smaller groups of data by batching the IDs and then aggregating matching records client size. (In a way, this is working around not having the ability to page results when using aggregation functions).\r\n\r\nUse Case 2: Cross Column or Cross Table Aggregations.\r\n\r\nSay I have two tables; one tracks page views by member, and another tracks ad clicks by member. If I want to see unique members who visited my website and also clicked on by ad, I would not be able to query both and add their raw numbers. Assuming I'm using the same member id in both HLLs, I could merge the raw HLL responses from Pinot to achieve this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500968989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500982459","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-500982459","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":500982459,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDk4MjQ1OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T19:12:04Z","updated_at":"2019-06-11T19:12:04Z","author_association":"MEMBER","body":"Use case 2 makes sense. Use case 1 also makes sense but that can be achieved today without this change right?.\r\n\r\nFrom the original description, I thought your requirement was something as follows -\r\n\r\n``` select discountCountHLL(memberId) from T where pageId in (...... 10,000 IDs)```\r\nand you wanted to solve this by running multiple (10 in this case) queries of the form \r\n``` select DISTINCTCOUNTRAWHLL(memberId) from T where pageId in (1000 IDs ...)```\r\n and you would then aggregate the raw HLL on the client side to get the actual distinctCount across all IDs.\r\n\r\nAm I missing something?\r\nJust to clarify, I think this is a valid feature request to have in Pinot and I will review it shortly. But wanted to get some clarity on the scenarios where this can be used. Use case 2 is one such use case.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/500982459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501022309","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-501022309","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":501022309,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTAyMjMwOQ==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T21:04:21Z","updated_at":"2019-06-11T21:05:26Z","author_association":"CONTRIBUTOR","body":"> From the original description, I thought your requirement was something as follows - select discountCountHLL(memberId) from T where pageId in (...... 10,000 IDs)\r\nand you wanted to solve this by running multiple (10 in this case) queries of the form\r\nselect DISTINCTCOUNTRAWHLL(memberId) from T where pageId in (1000 IDs ...)\r\n\r\nThe only thing missing is that we might also have a dimension to group by...\r\n`SELECT DISTINCTCOUNTRAWHLL(precomputedHLLColumn) FROM T WHERE pageId in (1000 IDS) GROUP BY JOB_TITLE`. Depending on the characteristics of the users visiting the pages, this could be tens of thousands of job titles. But I also mentioned, we have 50+ metrics in the table, so a request would be more like `SELECT SUM(col1), SUM(col2), ..., DISTINCTCOUNTRAWHLL(...)`. So the combination of a large table with many IDs, and a large dimension (job titles) means the response size could be arbitrarily large unless we make the filter more strict by batching IDs.\r\n\r\n> Just to clarify, I think this is a valid feature request to have in Pinot and I will review it shortly.\r\n\r\nCool, glad to help explain our use case more thoroughly if we can help improve documentation or solutions for future devs. Also, interested if you think an existing solution works for this 1st use case.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501022309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501049552","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-501049552","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":501049552,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTA0OTU1Mg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T22:38:05Z","updated_at":"2019-06-11T22:38:05Z","author_association":"CONTRIBUTOR","body":"@ianvkoeppe once you know the full spec of this feature going in, please add documentation in docs/pql_examples.rst, and include it in this PR.\r\n\r\nThanks.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501049552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501053208","html_url":"https://github.com/apache/pinot/pull/4304#issuecomment-501053208","issue_url":"https://api.github.com/repos/apache/pinot/issues/4304","id":501053208,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTA1MzIwOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T22:53:29Z","updated_at":"2019-06-11T22:53:29Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4304?src=pr&el=h1) Report\n> Merging [#4304](https://codecov.io/gh/apache/incubator-pinot/pull/4304?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/6c4138fc98ba11d2ad82816581f008197679bd8f?src=pr&el=desc) will **increase** coverage by `0.08%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4304/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4304?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4304      +/-   ##\n============================================\n+ Coverage     67.18%   67.27%   +0.08%     \n  Complexity       20       20              \n============================================\n  Files          1043     1043              \n  Lines         51734    51734              \n  Branches       7248     7248              \n============================================\n+ Hits          34758    34804      +46     \n+ Misses        14609    14570      -39     \n+ Partials       2367     2360       -7\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4304?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `25% <0%> (-56.25%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-13.21%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `86.95% <0%> (-8.7%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `73.62% <0%> (-7.7%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `75% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `91.07% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `76.78% <0%> (-1.79%)` | `0% <0%> (ø)` | |\n| [...ot/core/query/pruner/ColumnValueSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvQ29sdW1uVmFsdWVTZWdtZW50UHJ1bmVyLmphdmE=) | `87.32% <0%> (-1.41%)` | `0% <0%> (ø)` | |\n| [...inot/core/operator/docidsets/AndBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvQW5kQmxvY2tEb2NJZFNldC5qYXZh) | `57.63% <0%> (-1.39%)` | `0% <0%> (ø)` | |\n| ... and [24 more](https://codecov.io/gh/apache/incubator-pinot/pull/4304/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4304?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4304?src=pr&el=footer). Last update [6c4138f...57b1e88](https://codecov.io/gh/apache/incubator-pinot/pull/4304?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501053208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501067804","html_url":"https://github.com/apache/pinot/pull/4306#issuecomment-501067804","issue_url":"https://api.github.com/repos/apache/pinot/issues/4306","id":501067804,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTA2NzgwNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-11T23:59:59Z","updated_at":"2019-06-12T22:41:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4306?src=pr&el=h1) Report\n> Merging [#4306](https://codecov.io/gh/apache/incubator-pinot/pull/4306?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/4c3be2d55a74dfce75052f468174797deabde416?src=pr&el=desc) will **decrease** coverage by `1.88%`.\n> The diff coverage is `80%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4306/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4306?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master   #4306      +/-   ##\n===========================================\n- Coverage     67.18%   65.3%   -1.89%     \n  Complexity       20      20              \n===========================================\n  Files          1043    1052       +9     \n  Lines         51734   54582    +2848     \n  Branches       7248    7771     +523     \n===========================================\n+ Hits          34758   35645     +887     \n- Misses        14609   16382    +1773     \n- Partials       2367    2555     +188\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4306?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...controller/helix/core/minion/PinotTaskManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL21pbmlvbi9QaW5vdFRhc2tNYW5hZ2VyLmphdmE=) | `92.45% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...va/org/apache/pinot/controller/ControllerConf.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyQ29uZi5qYXZh) | `49.25% <100%> (+3.06%)` | `0 <0> (ø)` | :arrow_down: |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `42.62% <50%> (-0.72%)` | `0 <0> (ø)` | |\n| [...ava/org/apache/pinot/pql/parsers/Pql2Compiler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9QcWwyQ29tcGlsZXIuamF2YQ==) | `56.8% <0%> (-15.16%)` | `0% <0%> (ø)` | |\n| [...lix/EmptyBrokerOnlineOfflineStateModelFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9FbXB0eUJyb2tlck9ubGluZU9mZmxpbmVTdGF0ZU1vZGVsRmFjdG9yeS5qYXZh) | `86.66% <0%> (-13.34%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-13.21%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `73.62% <0%> (-7.7%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `89.13% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...inot/pql/parsers/pql2/ast/OutputColumnAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9PdXRwdXRDb2x1bW5Bc3ROb2RlLmphdmE=) | `93.54% <0%> (-6.46%)` | `0% <0%> (ø)` | |\n| ... and [59 more](https://codecov.io/gh/apache/incubator-pinot/pull/4306/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4306?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4306?src=pr&el=footer). Last update [4c3be2d...75e8c8b](https://codecov.io/gh/apache/incubator-pinot/pull/4306?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501067804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501096714","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-501096714","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":501096714,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTA5NjcxNA==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T02:31:05Z","updated_at":"2019-06-12T02:31:05Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu, I added a little more color to the pql_examples.rst where I had mentioned the new functions. These are the only places I see HLLs mentioned, so it is the only place I updated.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501096714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501117753","html_url":"https://github.com/apache/pinot/issues/4309#issuecomment-501117753","issue_url":"https://api.github.com/repos/apache/pinot/issues/4309","id":501117753,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTExNzc1Mw==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T04:40:21Z","updated_at":"2019-06-12T04:40:21Z","author_association":"CONTRIBUTOR","body":"We should also clean up the existing code for having clause as part of this effort.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501117753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501118143","html_url":"https://github.com/apache/pinot/issues/4309#issuecomment-501118143","issue_url":"https://api.github.com/repos/apache/pinot/issues/4309","id":501118143,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTExODE0Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T04:42:43Z","updated_at":"2019-06-12T04:42:43Z","author_association":"MEMBER","body":"Yes. That will be part of this exercise. I will work on it once we move to calcite. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501118143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501336307","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-501336307","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":501336307,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTMzNjMwNw==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T15:51:14Z","updated_at":"2019-06-12T15:51:14Z","author_association":"CONTRIBUTOR","body":"Great idea @mcvsubbu. I added additional clarification on the HLL being represented as string and point to examples and use cases for handling the response.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501336307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501342858","html_url":"https://github.com/apache/pinot/pull/4290#issuecomment-501342858","issue_url":"https://api.github.com/repos/apache/pinot/issues/4290","id":501342858,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTM0Mjg1OA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T16:06:32Z","updated_at":"2019-06-12T16:06:32Z","author_association":"CONTRIBUTOR","body":"@felixcheung do you have any other comments?\r\nCan we push this as a starter for 0.2? We do have at least one change coming to this one (we plan to integrate with a newer version of helix), so there will be one more round of update to these files as necessary.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501342858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501433548","html_url":"https://github.com/apache/pinot/pull/4200#issuecomment-501433548","issue_url":"https://api.github.com/repos/apache/pinot/issues/4200","id":501433548,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQzMzU0OA==","user":{"login":"s-sahay","id":43484532,"node_id":"MDQ6VXNlcjQzNDg0NTMy","avatar_url":"https://avatars.githubusercontent.com/u/43484532?v=4","gravatar_id":"","url":"https://api.github.com/users/s-sahay","html_url":"https://github.com/s-sahay","followers_url":"https://api.github.com/users/s-sahay/followers","following_url":"https://api.github.com/users/s-sahay/following{/other_user}","gists_url":"https://api.github.com/users/s-sahay/gists{/gist_id}","starred_url":"https://api.github.com/users/s-sahay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s-sahay/subscriptions","organizations_url":"https://api.github.com/users/s-sahay/orgs","repos_url":"https://api.github.com/users/s-sahay/repos","events_url":"https://api.github.com/users/s-sahay/events{/privacy}","received_events_url":"https://api.github.com/users/s-sahay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T20:01:20Z","updated_at":"2019-06-12T20:01:20Z","author_association":"NONE","body":"> I think we should maintain an official Pinot dockerhub account and make docker image publish as part of the release process.\r\n> \r\n> This script could also be a reference for pinot users to publish their own images.\r\n\r\n+1 on making it part of our release process. I'll create an issue for this to be tackled in our 0.3 release.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501433548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501446095","html_url":"https://github.com/apache/pinot/pull/4045#issuecomment-501446095","issue_url":"https://api.github.com/repos/apache/pinot/issues/4045","id":501446095,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQ0NjA5NQ==","user":{"login":"s-sahay","id":43484532,"node_id":"MDQ6VXNlcjQzNDg0NTMy","avatar_url":"https://avatars.githubusercontent.com/u/43484532?v=4","gravatar_id":"","url":"https://api.github.com/users/s-sahay","html_url":"https://github.com/s-sahay","followers_url":"https://api.github.com/users/s-sahay/followers","following_url":"https://api.github.com/users/s-sahay/following{/other_user}","gists_url":"https://api.github.com/users/s-sahay/gists{/gist_id}","starred_url":"https://api.github.com/users/s-sahay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/s-sahay/subscriptions","organizations_url":"https://api.github.com/users/s-sahay/orgs","repos_url":"https://api.github.com/users/s-sahay/repos","events_url":"https://api.github.com/users/s-sahay/events{/privacy}","received_events_url":"https://api.github.com/users/s-sahay/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T20:37:52Z","updated_at":"2019-06-12T20:37:52Z","author_association":"NONE","body":"@jenniferdai : Let's merge this now.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501446095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501447830","html_url":"https://github.com/apache/pinot/pull/4200#issuecomment-501447830","issue_url":"https://api.github.com/repos/apache/pinot/issues/4200","id":501447830,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQ0NzgzMA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T20:43:10Z","updated_at":"2019-06-12T20:44:01Z","author_association":"CONTRIBUTOR","body":"Synced with @fx19880617 offline. Running the script will be no-op (permission denied). Users will need to set their custom tag for publishing to their own repository.\r\n\r\nFor the official apache release, we will need to set up `apache/pinot` repository and publish the image to the repository as part of the release process.\r\n\r\n```-> % docker push pinot:latest\r\nThe push refers to repository [docker.io/library/pinot]\r\nb7c6cccc78d8: Preparing\r\n6f2fe2187e57: Preparing\r\n604345bc37d0: Preparing\r\ne8f1623f0c2c: Preparing\r\ne3b08ec2022d: Preparing\r\n4230ff7f2288: Waiting\r\n2c719774c1e1: Waiting\r\nec62f19bb3aa: Waiting\r\nf94641f1fe1f: Waiting\r\ndenied: requested access to the resource is denied","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501447830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501492753","html_url":"https://github.com/apache/pinot/pull/4290#issuecomment-501492753","issue_url":"https://api.github.com/repos/apache/pinot/issues/4290","id":501492753,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQ5Mjc1Mw==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T23:37:04Z","updated_at":"2019-06-12T23:45:29Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu I found that both Druid and Spark projects include aopalliance package for their binary distribution.\r\n \r\nhttps://github.com/apache/incubator-druid/blob/master/LICENSE.BINARY#L1256\r\nhttps://github.com/apache/spark/blob/master/LICENSE-binary#L510\r\n\r\nThey added it to `LICENSE-binary` but they did not add the license txt file. I think that we can do either of the following options:\r\n\r\n1. don't add `licenses-binary/LICENSE-aopalliance.txt`\r\n2. or keep as it is\r\n\r\nAlso, I found one project under apache license who did the similar thing as we did https://github.com/intel-cloud/cosbench/blob/master/release/licenses/AOP%20Alliance%20License%20(Public).txt \r\n\r\nBut it's not Apache project.\r\n\r\n\r\n@felixcheung Are you fine with this?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501492753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501495677","html_url":"https://github.com/apache/pinot/issues/4172#issuecomment-501495677","issue_url":"https://api.github.com/repos/apache/pinot/issues/4172","id":501495677,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQ5NTY3Nw==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T23:51:03Z","updated_at":"2019-06-12T23:51:03Z","author_association":"CONTRIBUTOR","body":"Bumping this. \r\nIn HLC we've been using `kafka.consumer.ConsumerFetcherManager.MaxLag` which seems absent for LLC.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501495677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501497288","html_url":"https://github.com/apache/pinot/issues/4172#issuecomment-501497288","issue_url":"https://api.github.com/repos/apache/pinot/issues/4172","id":501497288,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQ5NzI4OA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-12T23:58:27Z","updated_at":"2019-06-13T00:05:41Z","author_association":"CONTRIBUTOR","body":"We have added a freshness metric recently. I think that it's emitted per query request and indicates the `min(freshness timestamp among segments processed)`\r\n\r\nI think that it's slightly different from what you have measured so far with HLC though (lag directly from kafka).\r\n\r\nYou can refer to the following issue: https://github.com/apache/incubator-pinot/issues/4007\r\n\r\n@sunithabeeram Can you chime in?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501497288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501499764","html_url":"https://github.com/apache/pinot/issues/4172#issuecomment-501499764","issue_url":"https://api.github.com/repos/apache/pinot/issues/4172","id":501499764,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTQ5OTc2NA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T00:10:38Z","updated_at":"2019-06-13T00:10:38Z","author_association":"CONTRIBUTOR","body":"Design doc: https://cwiki.apache.org/confluence/display/PINOT/Pinot+Freshness+Metric","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501499764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501504927","html_url":"https://github.com/apache/pinot/issues/4172#issuecomment-501504927","issue_url":"https://api.github.com/repos/apache/pinot/issues/4172","id":501504927,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTUwNDkyNw==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T00:37:50Z","updated_at":"2019-06-13T00:37:50Z","author_association":"CONTRIBUTOR","body":"Thanks @snleee for the info! Looks like this freshness metric would help.\r\nWe'll try to pull in that change and test around.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501504927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501517725","html_url":"https://github.com/apache/pinot/issues/4172#issuecomment-501517725","issue_url":"https://api.github.com/repos/apache/pinot/issues/4172","id":501517725,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTUxNzcyNQ==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T01:51:38Z","updated_at":"2019-06-13T01:51:38Z","author_association":"CONTRIBUTOR","body":"@haibow the above design will work as long as kafka broker can provide \"timestamp\" per message. Specifically, at LinkedIn we rely on an API similar to this: https://kafka.apache.org/0100/javadoc/org/apache/kafka/clients/consumer/ConsumerRecord.html#timestamp(); this is not available in 0.9 clients, but provided by the internal version of kafka.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501517725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501546577","html_url":"https://github.com/apache/pinot/issues/4172#issuecomment-501546577","issue_url":"https://api.github.com/repos/apache/pinot/issues/4172","id":501546577,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTU0NjU3Nw==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T04:45:18Z","updated_at":"2019-06-13T04:45:18Z","author_association":"CONTRIBUTOR","body":"@sunithabeeram thanks for the clarification. Will look into this.\r\n\r\nw.r.t. freshness, how would you handle topics with low traffic rate (e.g. 1 message per 10s minutes, or just no data for a while)? Now we have alerts set up on ingestion lags; if we were to alert on this 'freshness' metric, sounds like false alarms are possible if freshness thresholds are not carefully tuned.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501546577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501555094","html_url":"https://github.com/apache/pinot/issues/4172#issuecomment-501555094","issue_url":"https://api.github.com/repos/apache/pinot/issues/4172","id":501555094,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTU1NTA5NA==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T05:34:19Z","updated_at":"2019-06-13T05:34:19Z","author_association":"CONTRIBUTOR","body":"@haibow - would like to hear how the lag based alert is tuned on your end. Do you alert on non-zero value?\r\n\r\nAs noted in the design doc, I believe the kafka offset based lag has the issue with tuning as well; unless we always get an offset lag of 0, any other number needs to be interpreted based on the events per second expected on the topic.\r\n\r\nFor alerting based on the freshness metric, the SLA should be based on the upstream characteristics and we expect this to be order of minutes (under a minute would make it quite noisy); For ex, in some cases, we have an upstream samza job that runs hourly, so freshness can be quantified only up to that delay.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501555094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501579150","html_url":"https://github.com/apache/pinot/pull/4290#issuecomment-501579150","issue_url":"https://api.github.com/repos/apache/pinot/issues/4290","id":501579150,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTU3OTE1MA==","user":{"login":"felixcheung","id":8969467,"node_id":"MDQ6VXNlcjg5Njk0Njc=","avatar_url":"https://avatars.githubusercontent.com/u/8969467?v=4","gravatar_id":"","url":"https://api.github.com/users/felixcheung","html_url":"https://github.com/felixcheung","followers_url":"https://api.github.com/users/felixcheung/followers","following_url":"https://api.github.com/users/felixcheung/following{/other_user}","gists_url":"https://api.github.com/users/felixcheung/gists{/gist_id}","starred_url":"https://api.github.com/users/felixcheung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felixcheung/subscriptions","organizations_url":"https://api.github.com/users/felixcheung/orgs","repos_url":"https://api.github.com/users/felixcheung/repos","events_url":"https://api.github.com/users/felixcheung/events{/privacy}","received_events_url":"https://api.github.com/users/felixcheung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T07:11:41Z","updated_at":"2019-06-13T07:11:41Z","author_association":"MEMBER","body":"I think so.\r\n\r\nthis is a good reference: https://github.com/apache/spark/commit/f825847c82042a9eee7bd5cfab106310d279fc32#diff-d9821b8f126666b09f58dad60a32e546","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501579150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501611216","html_url":"https://github.com/apache/pinot/pull/4290#issuecomment-501611216","issue_url":"https://api.github.com/repos/apache/pinot/issues/4290","id":501611216,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTYxMTIxNg==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T08:48:37Z","updated_at":"2019-06-13T08:48:37Z","author_association":"CONTRIBUTOR","body":"@felixcheung Thanks for the confirmation 👍 \r\n\r\n@mcvsubbu From the spark reference, it says that \r\n```\r\nPublic domain and similar works are treated like permissively licensed dependencies.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501611216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501824632","html_url":"https://github.com/apache/pinot/issues/4172#issuecomment-501824632","issue_url":"https://api.github.com/repos/apache/pinot/issues/4172","id":501824632,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMTgyNDYzMg==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-13T18:23:44Z","updated_at":"2019-06-13T18:23:44Z","author_association":"CONTRIBUTOR","body":"@sunithabeeram you are right - lag has the issues described in the design. On double check, we are just 'monitoring' but not 'alerting' on lag.\r\n\r\nOriginally I was wondering how to distinguish expected data staleness (e.g. stopped/windowed ingestion), but using dependent alerts on upstream traffic should help, i.e. if data is stale for X minutes, but input traffic was also flat for last X minutes, then the alert should be suppressed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/501824632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502188864","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-502188864","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":502188864,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjE4ODg2NA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T17:03:54Z","updated_at":"2019-06-14T17:03:54Z","author_association":"MEMBER","body":"The code looks good to me. I think it's better to return byte[] as hexString instead of string. HllUtil has a toBytes method. The HLLUtil.toString has some additional overhead that can be avoided. This will allow you to use HyperLogLog library directly to parse the byte[] in HyperLogLog.\r\n\r\nComing back to the original problem. \r\n```SELECT func(m1), func(m2)..... FROM T WHERE pageId in <1000+ values> GROUP BY job_title (high cardinality)```\r\n\r\nThere are 4 possible options. \r\n\r\n1. No batching, just get all the results in one shot. Works if the cardinality of job_title < 100k\r\n2. Batch by pageId\r\n2. Batch by job_title\r\n3. Batch by pageId and job_title (nested loop). \r\n\r\nIf possible always pick 1. After that, batching by job_title is the right solution since each response is mutually exclusive and the client can simply stitch the responses together without additional processing.\r\n\r\nBut what you are suggesting is solution 1 - batch by pageId. I am not sure why this will be better unless there is some relationship between pageId and jobTitle such that restricting pageId will automatically limit jobTitle.\r\n\r\nDoes this line of reasoning make sense? \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502188864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502202592","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-502202592","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":502202592,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjIwMjU5Mg==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T17:46:14Z","updated_at":"2019-06-14T17:46:14Z","author_association":"CONTRIBUTOR","body":"@kishoreg, thanks for your feedback.\r\n\r\n> I think it's better to return byte[] as hexString instead of string. HllUtil has a toBytes method. The HLLUtil.toString has some additional overhead that can be avoided.\r\n\r\nAwesome. I've converted it to use a HexString representation, and updated the tests accordingly.\r\n\r\n> But what you are suggesting is solution 1 - batch by pageId. I am not sure why this will be better unless there is some relationship between pageId and jobTitle such that restricting pageId will automatically limit jobTitle. Does this line of reasoning make sense?\r\n\r\nAbsolutely, we are definitely in agreement overall. I think not batching makes sense in any case possible. My example above may not exactly outline the use case for needing to batch and merge large responses. I still think it could exist. In any case, being able to merge across columns or tables which have HLLs and use the same key for the HLL is a more straightforward use case and justification.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502202592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502254249","html_url":"https://github.com/apache/pinot/issues/4317#issuecomment-502254249","issue_url":"https://api.github.com/repos/apache/pinot/issues/4317","id":502254249,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjI1NDI0OQ==","user":{"login":"buchireddy","id":945283,"node_id":"MDQ6VXNlcjk0NTI4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/945283?v=4","gravatar_id":"","url":"https://api.github.com/users/buchireddy","html_url":"https://github.com/buchireddy","followers_url":"https://api.github.com/users/buchireddy/followers","following_url":"https://api.github.com/users/buchireddy/following{/other_user}","gists_url":"https://api.github.com/users/buchireddy/gists{/gist_id}","starred_url":"https://api.github.com/users/buchireddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buchireddy/subscriptions","organizations_url":"https://api.github.com/users/buchireddy/orgs","repos_url":"https://api.github.com/users/buchireddy/repos","events_url":"https://api.github.com/users/buchireddy/events{/privacy}","received_events_url":"https://api.github.com/users/buchireddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T20:34:15Z","updated_at":"2019-06-14T20:34:15Z","author_association":"CONTRIBUTOR","body":"I've implemented a solution based on the approached discussed in the description and did some benchmarks with **String dictionary** to see the latency with VariableLength dictionary and the storage improvements it brings compared to the FixedLength dictionary. Here are the results and observations.\r\n\r\n**Time taken to lookup 10M values:**\r\n<img width=\"882\" alt=\"TimeVsDictionarySizesCharts\" src=\"https://user-images.githubusercontent.com/945283/59487242-edc20280-8e30-11e9-92d7-1891379d4639.png\">\r\n**Observation:** As can be clearly seen in the graph, as strings are getting bigger, the variable lengh dictionary is giving much better lookup latencies. When the dictionary size (cardinality) is >1M and the string sizes are small (<100), FixedLength dictionary has better lookup latencies though. \r\n\r\n**Storage requirements of VarLength dictionary:**\r\nSince the variable length dictionary doesn't do any padding, it saves the space for all the cases where the strings in the dictionary aren't of equal length. Hence, this graph plots the % storage savings with VarLength dictionary instead of absolute values.\r\n<img width=\"612\" alt=\"DictSizeVsStorageSavingsChart\" src=\"https://user-images.githubusercontent.com/945283/59487464-9ff9ca00-8e31-11e9-9e60-13228766662e.png\">\r\n**Observation:** If the strings in the dictionary are of different lengths, VarLength dictionary saves 40% space compared to the fixed length dictionary. \r\n\r\nAgain thanks @kishoreg for all the guidance on this.\r\n\r\nP.S: All raw values from the benchmarking are available at https://docs.google.com/spreadsheets/d/1iOLyhD4AUZw3JsdOkmH6h36KWYalVeUBIVcty6Pnv0E/edit?usp=sharing so feel free to copy/comment on the results.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502254249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502260190","html_url":"https://github.com/apache/pinot/pull/4318#issuecomment-502260190","issue_url":"https://api.github.com/repos/apache/pinot/issues/4318","id":502260190,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjI2MDE5MA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T20:55:18Z","updated_at":"2019-06-14T20:56:11Z","author_association":"CONTRIBUTOR","body":"@buchireddy Can you rebase the code from `apache/incubator-pinot`'s master branch? Also, it seems that your pr includes some other commits from `winedepot` branch. If would be great if you can cherry pick the commits so that this pr only includes the code changes related to variable length byte & string support for dictionary.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502260190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502264797","html_url":"https://github.com/apache/pinot/issues/4281#issuecomment-502264797","issue_url":"https://api.github.com/repos/apache/pinot/issues/4281","id":502264797,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjI2NDc5Nw==","user":{"login":"xiaohui-sun","id":44730481,"node_id":"MDQ6VXNlcjQ0NzMwNDgx","avatar_url":"https://avatars.githubusercontent.com/u/44730481?v=4","gravatar_id":"","url":"https://api.github.com/users/xiaohui-sun","html_url":"https://github.com/xiaohui-sun","followers_url":"https://api.github.com/users/xiaohui-sun/followers","following_url":"https://api.github.com/users/xiaohui-sun/following{/other_user}","gists_url":"https://api.github.com/users/xiaohui-sun/gists{/gist_id}","starred_url":"https://api.github.com/users/xiaohui-sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiaohui-sun/subscriptions","organizations_url":"https://api.github.com/users/xiaohui-sun/orgs","repos_url":"https://api.github.com/users/xiaohui-sun/repos","events_url":"https://api.github.com/users/xiaohui-sun/events{/privacy}","received_events_url":"https://api.github.com/users/xiaohui-sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T21:11:59Z","updated_at":"2019-06-14T21:11:59Z","author_association":"NONE","body":"It was because of the HTTPS redirect we recently added. I reverted the change. Please try again. @Tricalt.\r\n\r\n@harleyjj  We need to figure out how to get the environment settings without ember-cli running.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502264797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502298957","html_url":"https://github.com/apache/pinot/pull/4318#issuecomment-502298957","issue_url":"https://api.github.com/repos/apache/pinot/issues/4318","id":502298957,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjI5ODk1Nw==","user":{"login":"buchireddy","id":945283,"node_id":"MDQ6VXNlcjk0NTI4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/945283?v=4","gravatar_id":"","url":"https://api.github.com/users/buchireddy","html_url":"https://github.com/buchireddy","followers_url":"https://api.github.com/users/buchireddy/followers","following_url":"https://api.github.com/users/buchireddy/following{/other_user}","gists_url":"https://api.github.com/users/buchireddy/gists{/gist_id}","starred_url":"https://api.github.com/users/buchireddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buchireddy/subscriptions","organizations_url":"https://api.github.com/users/buchireddy/orgs","repos_url":"https://api.github.com/users/buchireddy/repos","events_url":"https://api.github.com/users/buchireddy/events{/privacy}","received_events_url":"https://api.github.com/users/buchireddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T22:25:18Z","updated_at":"2019-06-14T22:25:18Z","author_association":"CONTRIBUTOR","body":"@snleee Closing this PR since I don't want to merge all other changes from winedepot fork. I've open https://github.com/apache/incubator-pinot/pull/4321 with the intended changes only.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502298957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502300607","html_url":"https://github.com/apache/pinot/pull/4318#issuecomment-502300607","issue_url":"https://api.github.com/repos/apache/pinot/issues/4318","id":502300607,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjMwMDYwNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-14T22:33:57Z","updated_at":"2019-06-14T22:33:57Z","author_association":"CONTRIBUTOR","body":"@buchireddy  did you consider the use of [MutableOffheapByteArrayStore](https://github.com/apache/incubator-pinot/blob/master/pinot-core/src/main/java/org/apache/pinot/core/io/writer/impl/MutableOffHeapByteArrayStore.java)? I am not able to readily say whether your implementation is based on that or is something parallel. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502300607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502321465","html_url":"https://github.com/apache/pinot/pull/4320#issuecomment-502321465","issue_url":"https://api.github.com/repos/apache/pinot/issues/4320","id":502321465,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjMyMTQ2NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-15T01:00:10Z","updated_at":"2019-06-17T23:00:12Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4320?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@eee245e`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `72%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4320/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4320?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4320   +/-   ##\n=========================================\n  Coverage          ?   65.74%           \n  Complexity        ?       20           \n=========================================\n  Files             ?     1061           \n  Lines             ?    54987           \n  Branches          ?     7827           \n=========================================\n  Hits              ?    36153           \n  Misses            ?    16260           \n  Partials          ?     2574\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4320?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../pinot/core/segment/index/SegmentMetadataImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L1NlZ21lbnRNZXRhZGF0YUltcGwuamF2YQ==) | `80.81% <ø> (ø)` | `0 <0> (?)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `45.65% <ø> (ø)` | `0 <0> (?)` | |\n| [...ata/manager/realtime/RealtimeTableDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVUYWJsZURhdGFNYW5hZ2VyLmphdmE=) | `42.64% <100%> (ø)` | `0 <0> (?)` | |\n| [...manager/realtime/HLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvSExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `80.92% <100%> (ø)` | `0 <0> (?)` | |\n| [...lix/core/realtime/PinotRealtimeSegmentManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1Bpbm90UmVhbHRpbWVTZWdtZW50TWFuYWdlci5qYXZh) | `80% <100%> (ø)` | `0 <0> (?)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `69.23% <100%> (ø)` | `0 <0> (?)` | |\n| [...apache/pinot/controller/api/upload/ZKOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1pLT3BlcmF0b3IuamF2YQ==) | `72.82% <25%> (ø)` | `0 <0> (?)` | |\n| [...not/common/metadata/segment/SegmentZKMetadata.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvc2VnbWVudC9TZWdtZW50WktNZXRhZGF0YS5qYXZh) | `77.77% <50%> (ø)` | `0 <0> (?)` | |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4320/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `63.54% <60%> (ø)` | `0 <0> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4320?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4320?src=pr&el=footer). Last update [eee245e...b16a65d](https://codecov.io/gh/apache/incubator-pinot/pull/4320?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502321465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502327426","html_url":"https://github.com/apache/pinot/pull/4323#issuecomment-502327426","issue_url":"https://api.github.com/repos/apache/pinot/issues/4323","id":502327426,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjMyNzQyNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-15T02:30:06Z","updated_at":"2019-08-15T17:29:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4323?src=pr&el=h1) Report\n> Merging [#4323](https://codecov.io/gh/apache/incubator-pinot/pull/4323?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/84464afa71b475e0ce79c10359526c5bf39f0501?src=pr&el=desc) will **decrease** coverage by `0.04%`.\n> The diff coverage is `84.42%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4323/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4323?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4323      +/-   ##\n============================================\n- Coverage     64.75%   64.71%   -0.05%     \n  Complexity       20       20              \n============================================\n  Files          1073     1074       +1     \n  Lines         55704    55793      +89     \n  Branches       8115     8127      +12     \n============================================\n+ Hits          36071    36104      +33     \n- Misses        16979    17052      +73     \n+ Partials       2654     2637      -17\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4323?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `62.4% <ø> (-0.04%)` | `0 <0> (ø)` | |\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `42.3% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../pinot/controller/api/upload/SegmentValidator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9hcGkvdXBsb2FkL1NlZ21lbnRWYWxpZGF0b3IuamF2YQ==) | `64.7% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/core/data/partition/MurmurPartitionFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3BhcnRpdGlvbi9NdXJtdXJQYXJ0aXRpb25GdW5jdGlvbi5qYXZh) | `77.77% <100%> (-15.78%)` | `0 <0> (ø)` | |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `79.16% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...anager/realtime/SegmentBuildTimeLeaseExtender.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvU2VnbWVudEJ1aWxkVGltZUxlYXNlRXh0ZW5kZXIuamF2YQ==) | `57.4% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `81.96% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...manager/realtime/LLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvTExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `70.87% <100%> (-0.32%)` | `0 <0> (ø)` | |\n| [...n/java/org/apache/pinot/common/utils/HashUtil.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvSGFzaFV0aWwuamF2YQ==) | `43.1% <100%> (+37.38%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ontrollerResourceMasterSlaveStateModelFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3N0YXRlbW9kZWwvTGVhZENvbnRyb2xsZXJSZXNvdXJjZU1hc3RlclNsYXZlU3RhdGVNb2RlbEZhY3RvcnkuamF2YQ==) | `100% <100%> (ø)` | `0 <0> (?)` | |\n| ... and [52 more](https://codecov.io/gh/apache/incubator-pinot/pull/4323/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4323?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4323?src=pr&el=footer). Last update [84464af...92ae1ab](https://codecov.io/gh/apache/incubator-pinot/pull/4323?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502327426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502547203","html_url":"https://github.com/apache/pinot/pull/4318#issuecomment-502547203","issue_url":"https://api.github.com/repos/apache/pinot/issues/4318","id":502547203,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjU0NzIwMw==","user":{"login":"buchireddy","id":945283,"node_id":"MDQ6VXNlcjk0NTI4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/945283?v=4","gravatar_id":"","url":"https://api.github.com/users/buchireddy","html_url":"https://github.com/buchireddy","followers_url":"https://api.github.com/users/buchireddy/followers","following_url":"https://api.github.com/users/buchireddy/following{/other_user}","gists_url":"https://api.github.com/users/buchireddy/gists{/gist_id}","starred_url":"https://api.github.com/users/buchireddy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/buchireddy/subscriptions","organizations_url":"https://api.github.com/users/buchireddy/orgs","repos_url":"https://api.github.com/users/buchireddy/repos","events_url":"https://api.github.com/users/buchireddy/events{/privacy}","received_events_url":"https://api.github.com/users/buchireddy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T06:09:14Z","updated_at":"2019-06-17T06:09:14Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu I did look at `MutableOffheapByteArrayStore` and took some concepts from it while implementing `VarLengthBytesValueReaderWriter` too. However, I haven't used the former fully because of the following reasons:\r\n* In order to support a seamless transition from fixed length to variable length offline dictionary, we need a special magic header to be added at the beginning, which needs some changes to  `MutableOffheapByteArrayStore`.\r\n* `MutableOffheapByteArrayStore` is handling the buffer expansions, multiple buffers logic because it needs to be mutable but the immutable one doesn't need all those.\r\n\r\nSo, it's a trade-off b/w simple code vs avoiding the code duplication (though we anyways need a new class for variable length dictionary class implementation). I'm open for debate and for further brainstorming.\r\n\r\nP.S: This is my first time going through Pinot code so please let me know if I'm missing any aspects here.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502547203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502692020","html_url":"https://github.com/apache/pinot/pull/4318#issuecomment-502692020","issue_url":"https://api.github.com/repos/apache/pinot/issues/4318","id":502692020,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjY5MjAyMA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T13:54:25Z","updated_at":"2019-06-17T13:54:25Z","author_association":"CONTRIBUTOR","body":"Mutable byte array store can be modified to have a header, no problem. It is currently used as a volatile store for comsuming segments, so changing it to include a header is not backward incompatible.\r\n\r\nWhy not modify it to have the header and also derive an unmutable class from it to be used during segment generation?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502692020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502731120","html_url":"https://github.com/apache/pinot/pull/4318#issuecomment-502731120","issue_url":"https://api.github.com/repos/apache/pinot/issues/4318","id":502731120,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjczMTEyMA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T15:26:48Z","updated_at":"2019-06-17T15:26:48Z","author_association":"MEMBER","body":"Let’s move the discussion to the issue #4317. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502731120/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502732165","html_url":"https://github.com/apache/pinot/pull/4325#issuecomment-502732165","issue_url":"https://api.github.com/repos/apache/pinot/issues/4325","id":502732165,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjczMjE2NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T15:29:24Z","updated_at":"2019-06-17T15:29:24Z","author_association":"MEMBER","body":"Are there any backwards incompatible changes? Is it possible to test this with server running old version of fast util and broker new version of fastutil ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502732165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502752823","html_url":"https://github.com/apache/pinot/pull/4325#issuecomment-502752823","issue_url":"https://api.github.com/repos/apache/pinot/issues/4325","id":502752823,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjc1MjgyMw==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T16:20:27Z","updated_at":"2019-06-17T16:20:49Z","author_association":"CONTRIBUTOR","body":"Could you please categorize the code changes into the following buckets:\r\n1. Required for compiling with new library.\r\n2. Required for functional correctness (eg compiles with new library, but fails without this change).\r\n3. Code cleanup, not required for library upgrade (I see several changes to replace anonymous classes with lambda).","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502752823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502805937","html_url":"https://github.com/apache/pinot/pull/4293#issuecomment-502805937","issue_url":"https://api.github.com/repos/apache/pinot/issues/4293","id":502805937,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjgwNTkzNw==","user":{"login":"ianvkoeppe","id":13874383,"node_id":"MDQ6VXNlcjEzODc0Mzgz","avatar_url":"https://avatars.githubusercontent.com/u/13874383?v=4","gravatar_id":"","url":"https://api.github.com/users/ianvkoeppe","html_url":"https://github.com/ianvkoeppe","followers_url":"https://api.github.com/users/ianvkoeppe/followers","following_url":"https://api.github.com/users/ianvkoeppe/following{/other_user}","gists_url":"https://api.github.com/users/ianvkoeppe/gists{/gist_id}","starred_url":"https://api.github.com/users/ianvkoeppe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ianvkoeppe/subscriptions","organizations_url":"https://api.github.com/users/ianvkoeppe/orgs","repos_url":"https://api.github.com/users/ianvkoeppe/repos","events_url":"https://api.github.com/users/ianvkoeppe/events{/privacy}","received_events_url":"https://api.github.com/users/ianvkoeppe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T18:49:26Z","updated_at":"2019-06-17T18:49:26Z","author_association":"CONTRIBUTOR","body":"Anything else you need on your end @kishoreg?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502805937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502851013","html_url":"https://github.com/apache/pinot/issues/4317#issuecomment-502851013","issue_url":"https://api.github.com/repos/apache/pinot/issues/4317","id":502851013,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg1MTAxMw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T21:06:19Z","updated_at":"2019-06-17T21:06:19Z","author_association":"MEMBER","body":"Comment from @mcvsubbu \r\n@buchireddy did you consider the use of MutableOffheapByteArrayStore? I am not able to readily say whether your implementation is based on that or is something parallel.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502851013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502851088","html_url":"https://github.com/apache/pinot/issues/4317#issuecomment-502851088","issue_url":"https://api.github.com/repos/apache/pinot/issues/4317","id":502851088,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg1MTA4OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T21:06:34Z","updated_at":"2019-06-17T21:06:34Z","author_association":"MEMBER","body":"From @buchireddy \r\n@mcvsubbu I did look at MutableOffheapByteArrayStore and took some concepts from it while implementing VarLengthBytesValueReaderWriter too. However, I haven't used the former fully because of the following reasons:\r\n\r\nIn order to support a seamless transition from fixed length to variable length offline dictionary, we need a special magic header to be added at the beginning, which needs some changes to MutableOffheapByteArrayStore.\r\nMutableOffheapByteArrayStore is handling the buffer expansions, multiple buffers logic because it needs to be mutable but the immutable one doesn't need all those.\r\nSo, it's a trade-off b/w simple code vs avoiding the code duplication (though we anyways need a new class for variable length dictionary class implementation). I'm open for debate and for further brainstorming.\r\n\r\nP.S: This is my first time going through Pinot code so please let me know if I'm missing any aspects here.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502851088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502851255","html_url":"https://github.com/apache/pinot/issues/4317#issuecomment-502851255","issue_url":"https://api.github.com/repos/apache/pinot/issues/4317","id":502851255,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg1MTI1NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T21:07:06Z","updated_at":"2019-06-17T21:07:06Z","author_association":"MEMBER","body":"From @mcvsubbu \r\nMutable byte array store can be modified to have a header, no problem. It is currently used as a volatile store for comsuming segments, so changing it to include a header is not backward incompatible.\r\n\r\nWhy not modify it to have the header and also derive an unmutable class from it to be used during segment generation?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502851255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502867589","html_url":"https://github.com/apache/pinot/issues/4317#issuecomment-502867589","issue_url":"https://api.github.com/repos/apache/pinot/issues/4317","id":502867589,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg2NzU4OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T22:02:02Z","updated_at":"2019-06-17T22:02:02Z","author_association":"MEMBER","body":"@mcvsubbu I had not looked into the details of MutableOffheapByteArrayStore. I do see some similarity between the two implementations. I also see some similarity with VarByteChunkWriter and VarByteChunkReader.\r\n\r\nLooks like we have 3 classes of use cases\r\n\r\n1. Multiple Buffers, maintain offset index for each entry in the buffer (MutableByteArrayStore)\r\n2. Multiple Buffers, maintain offset index only at chunk level (Scan within the chunk) - VarByteChunkReader/Writer\r\n3. Single Buffer, maintain offset for each entry in the buffer (This is what @buchireddy has implemented)\r\n\r\nIdeally, we should have a VarByte Indexed/Unindexed Reader/Writer with no notion of expansion. Multiple buffer implementations should just be wrappers on top of these things.\r\n\r\nMy suggestion is to implement the VarByteIndexedReaderWriter since we don't have such a primitive (This should look similar to the Buffer class within MutableOffHeapByteStore). In another PR, we can change MutableOffHeapByteStore to use the VarByteIndexedReaderWriter. Similarly, VarByteChunkReaderWriter should use VarByteUnIndexedReaderWriter implementation.\r\n\r\nThis will also allow us to support NoDictionary for BYTES data-type in real-time which is not currently supported.\r\n\r\nThoughts?\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502867589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502889267","html_url":"https://github.com/apache/pinot/issues/4225#issuecomment-502889267","issue_url":"https://api.github.com/repos/apache/pinot/issues/4225","id":502889267,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg4OTI2Nw==","user":{"login":"haibow","id":4624440,"node_id":"MDQ6VXNlcjQ2MjQ0NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4624440?v=4","gravatar_id":"","url":"https://api.github.com/users/haibow","html_url":"https://github.com/haibow","followers_url":"https://api.github.com/users/haibow/followers","following_url":"https://api.github.com/users/haibow/following{/other_user}","gists_url":"https://api.github.com/users/haibow/gists{/gist_id}","starred_url":"https://api.github.com/users/haibow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haibow/subscriptions","organizations_url":"https://api.github.com/users/haibow/orgs","repos_url":"https://api.github.com/users/haibow/repos","events_url":"https://api.github.com/users/haibow/events{/privacy}","received_events_url":"https://api.github.com/users/haibow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-17T23:38:06Z","updated_at":"2019-06-17T23:38:06Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang I tried the reload option\r\n1. update schema for a table\r\n2. reload all segments for the table (without restarting servers)\r\n3. query the table again and see if the new field appears\r\n\r\nSeems it only works for OFFLINE table. For REALTIME table, segments are still loaded with old schema.\r\n\r\nLooking at code, seems schema is re-fetched for OFFLINE table only:\r\n```\r\n    // For OFFLINE table, try to get schema for default columns\r\n    if (TableNameBuilder.OFFLINE.tableHasTypeSuffix(tableNameWithType)) {\r\n      schema = ZKMetadataProvider.getTableSchema(_propertyStore, tableNameWithType);\r\n    }\r\n```\r\nhttps://github.com/apache/incubator-pinot/blob/master/pinot-server/src/main/java/org/apache/pinot/server/starter/helix/HelixInstanceDataManager.java#L201-L204\r\n\r\nDo you recall what was the reason/concern not to re-fetch schema for REALTIME tables?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502889267/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502896395","html_url":"https://github.com/apache/pinot/issues/4225#issuecomment-502896395","issue_url":"https://api.github.com/repos/apache/pinot/issues/4225","id":502896395,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjg5NjM5NQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T00:14:43Z","updated_at":"2019-06-18T00:14:43Z","author_association":"CONTRIBUTOR","body":"@haibow The reason for that is HLC realtime table does not have a backup on controller side, and if we mess up with the segment, there is no way to recover.\r\nSince this feature is quite stable, we might be able to revisit and see if we can enable it for realtime table as well.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502896395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502911692","html_url":"https://github.com/apache/pinot/pull/4330#issuecomment-502911692","issue_url":"https://api.github.com/repos/apache/pinot/issues/4330","id":502911692,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjkxMTY5Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T01:40:46Z","updated_at":"2019-06-18T19:42:31Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4330?src=pr&el=h1) Report\n> Merging [#4330](https://codecov.io/gh/apache/incubator-pinot/pull/4330?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/4ad049faf874b1726806455fda31d7a9d93da207?src=pr&el=desc) will **increase** coverage by `9.35%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4330/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4330?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4330      +/-   ##\n============================================\n+ Coverage     56.23%   65.58%   +9.35%     \n  Complexity       20       20              \n============================================\n  Files          1061     1061              \n  Lines         54984    54988       +4     \n  Branches       7825     7827       +2     \n============================================\n+ Hits          30919    36064    +5145     \n+ Misses        21678    16359    -5319     \n- Partials       2387     2565     +178\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4330?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...regation/function/customobject/QuantileDigest.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvUXVhbnRpbGVEaWdlc3QuamF2YQ==) | `57.74% <0%> (-0.45%)` | `0% <0%> (ø)` | |\n| [...ator/transform/function/BaseTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQmFzZVRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `29.95% <0%> (+0.42%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...g/apache/pinot/common/utils/helix/HelixHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvaGVsaXgvSGVsaXhIZWxwZXIuamF2YQ==) | `56.25% <0%> (+0.56%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `87.45% <0%> (+0.76%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...r/transform/function/ValueInTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVmFsdWVJblRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `39.2% <0%> (+0.8%)` | `0% <0%> (ø)` | :arrow_down: |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `70.39% <0%> (+0.87%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...e/io/writer/impl/MutableOffHeapByteArrayStore.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby93cml0ZXIvaW1wbC9NdXRhYmxlT2ZmSGVhcEJ5dGVBcnJheVN0b3JlLmphdmE=) | `86.45% <0%> (+1.04%)` | `0% <0%> (ø)` | :arrow_down: |\n| [.../pinot/core/segment/index/SegmentMetadataImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L1NlZ21lbnRNZXRhZGF0YUltcGwuamF2YQ==) | `80.81% <0%> (+1.22%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...rEqualitiesToInClauseFilterQueryTreeOptimizer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvTXVsdGlwbGVPckVxdWFsaXRpZXNUb0luQ2xhdXNlRmlsdGVyUXVlcnlUcmVlT3B0aW1pemVyLmphdmE=) | `93.33% <0%> (+1.33%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...g/apache/pinot/common/response/ServerInstance.java](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvU2VydmVySW5zdGFuY2UuamF2YQ==) | `79.72% <0%> (+1.35%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [316 more](https://codecov.io/gh/apache/incubator-pinot/pull/4330/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4330?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4330?src=pr&el=footer). Last update [4ad049f...0549dd8](https://codecov.io/gh/apache/incubator-pinot/pull/4330?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502911692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502915199","html_url":"https://github.com/apache/pinot/pull/4329#issuecomment-502915199","issue_url":"https://api.github.com/repos/apache/pinot/issues/4329","id":502915199,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMjkxNTE5OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T01:59:20Z","updated_at":"2019-06-18T01:59:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4329?src=pr&el=h1) Report\n> Merging [#4329](https://codecov.io/gh/apache/incubator-pinot/pull/4329?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/4ad049faf874b1726806455fda31d7a9d93da207?src=pr&el=desc) will **increase** coverage by `9.54%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4329/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4329?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4329      +/-   ##\n============================================\n+ Coverage     56.23%   65.77%   +9.54%     \n  Complexity       20       20              \n============================================\n  Files          1061     1061              \n  Lines         54984    54984              \n  Branches       7825     7825              \n============================================\n+ Hits          30919    36168    +5249     \n+ Misses        21678    16247    -5431     \n- Partials       2387     2569     +182\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4329?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...nsport/netty/PooledNettyClientResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvUG9vbGVkTmV0dHlDbGllbnRSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `85.41% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (ø)` | `0% <0%> (ø)` | :arrow_down: |\n| [...ator/transform/function/BaseTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vQmFzZVRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `29.95% <0%> (+0.42%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...ment/creator/impl/SegmentColumnarIndexCreator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2NyZWF0b3IvaW1wbC9TZWdtZW50Q29sdW1uYXJJbmRleENyZWF0b3IuamF2YQ==) | `87.45% <0%> (+0.76%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...r/transform/function/ValueInTransformFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vZnVuY3Rpb24vVmFsdWVJblRyYW5zZm9ybUZ1bmN0aW9uLmphdmE=) | `39.2% <0%> (+0.8%)` | `0% <0%> (ø)` | :arrow_down: |\n| [.../helix/core/realtime/SegmentCompletionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlYWx0aW1lL1NlZ21lbnRDb21wbGV0aW9uTWFuYWdlci5qYXZh) | `70.39% <0%> (+0.87%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...e/io/writer/impl/MutableOffHeapByteArrayStore.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9pby93cml0ZXIvaW1wbC9NdXRhYmxlT2ZmSGVhcEJ5dGVBcnJheVN0b3JlLmphdmE=) | `86.45% <0%> (+1.04%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `74.72% <0%> (+1.09%)` | `0% <0%> (ø)` | :arrow_down: |\n| [.../pinot/core/segment/index/SegmentMetadataImpl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zZWdtZW50L2luZGV4L1NlZ21lbnRNZXRhZGF0YUltcGwuamF2YQ==) | `80.81% <0%> (+1.22%)` | `0% <0%> (ø)` | :arrow_down: |\n| [...g/apache/pinot/common/response/ServerInstance.java](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvU2VydmVySW5zdGFuY2UuamF2YQ==) | `79.72% <0%> (+1.35%)` | `0% <0%> (ø)` | :arrow_down: |\n| ... and [321 more](https://codecov.io/gh/apache/incubator-pinot/pull/4329/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4329?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4329?src=pr&el=footer). Last update [4ad049f...534d79d](https://codecov.io/gh/apache/incubator-pinot/pull/4329?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/502915199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503243421","html_url":"https://github.com/apache/pinot/issues/4317#issuecomment-503243421","issue_url":"https://api.github.com/repos/apache/pinot/issues/4317","id":503243421,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzI0MzQyMQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T17:53:58Z","updated_at":"2019-06-18T17:53:58Z","author_association":"CONTRIBUTOR","body":"I am sure I am missing something, but I don't see why we should try to combine VarByteChunkReader into this logic.  If we can take bay steps,  at least we can avoid duplication between MutableOffheapByteArrayStore and whatever @buchireddy has implemented (haven't seen it yet, please point me to a PR).\r\n\r\nWe can then look into how other classes can fold into a single base class.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503243421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503277146","html_url":"https://github.com/apache/pinot/issues/4317#issuecomment-503277146","issue_url":"https://api.github.com/repos/apache/pinot/issues/4317","id":503277146,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzI3NzE0Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T19:26:24Z","updated_at":"2019-06-18T19:26:24Z","author_association":"MEMBER","body":"Take a look at the code within MutableOffHeapByteArrayStore.Buffer. That's exactly along the lines of what we need for a Var length Dictionary. But that's tightly coupled with MutableOffHeapByteArrayStore (e.g. it has the startIndex, which should have been managed within MutableOffHeapByteArrayStore). \r\n\r\nThere are few more things such as in real-time we don't know the number of entries upfront but in case of the immutable dictionary, we know the exact number of entries, size of each entry and total size. There might be some additional optimizations we can do based on these things. This is a classic case for cuckoo hashing as well.\r\n\r\nOne possibility is to extract out the MutableOffHeapByteArrayStore.Buffer inner class as VarByteReaderWriter. \r\n\r\nLet's get this feature in without touching any of the existing functionalities. I can do the cleanup in another PR.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503277146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503322539","html_url":"https://github.com/apache/pinot/issues/4334#issuecomment-503322539","issue_url":"https://api.github.com/repos/apache/pinot/issues/4334","id":503322539,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzMyMjUzOQ==","user":{"login":"akshayrai","id":4448437,"node_id":"MDQ6VXNlcjQ0NDg0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/4448437?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayrai","html_url":"https://github.com/akshayrai","followers_url":"https://api.github.com/users/akshayrai/followers","following_url":"https://api.github.com/users/akshayrai/following{/other_user}","gists_url":"https://api.github.com/users/akshayrai/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayrai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayrai/subscriptions","organizations_url":"https://api.github.com/users/akshayrai/orgs","repos_url":"https://api.github.com/users/akshayrai/repos","events_url":"https://api.github.com/users/akshayrai/events{/privacy}","received_events_url":"https://api.github.com/users/akshayrai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T21:40:00Z","updated_at":"2019-06-18T21:40:00Z","author_association":"CONTRIBUTOR","body":"@ShubhamMMT1 can you share the events you see in the logs? Any error or warning messages? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503322539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503332658","html_url":"https://github.com/apache/pinot/issues/4332#issuecomment-503332658","issue_url":"https://api.github.com/repos/apache/pinot/issues/4332","id":503332658,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzMzMjY1OA==","user":{"login":"akshayrai","id":4448437,"node_id":"MDQ6VXNlcjQ0NDg0Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/4448437?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayrai","html_url":"https://github.com/akshayrai","followers_url":"https://api.github.com/users/akshayrai/followers","following_url":"https://api.github.com/users/akshayrai/following{/other_user}","gists_url":"https://api.github.com/users/akshayrai/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayrai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayrai/subscriptions","organizations_url":"https://api.github.com/users/akshayrai/orgs","repos_url":"https://api.github.com/users/akshayrai/repos","events_url":"https://api.github.com/users/akshayrai/events{/privacy}","received_events_url":"https://api.github.com/users/akshayrai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-18T22:16:56Z","updated_at":"2019-06-18T22:19:51Z","author_association":"CONTRIBUTOR","body":"@vasilije90 appreciate your efforts in narrowing down the issue.\r\n\r\nHave you configured the time format correctly as per [instructions here](https://thirdeye.readthedocs.io/en/latest/import_sql_metric.html#import-sql-metric)? Do you have mixed time format in mysql?\r\n\r\nCan you also share the complete stack-trace?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503332658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503377579","html_url":"https://github.com/apache/pinot/pull/4338#issuecomment-503377579","issue_url":"https://api.github.com/repos/apache/pinot/issues/4338","id":503377579,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM3NzU3OQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T02:10:08Z","updated_at":"2019-06-19T02:10:08Z","author_association":"CONTRIBUTOR","body":"Not sure if I follow the description. If for a given partition, there are 'n' replicas that are all in consuming  state, will the first instance get all the QPS? If yes, that will cause a huge spike for one instance (I am sure I am missing something here). If not, what does 'allow' mean?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503377579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503379408","html_url":"https://github.com/apache/pinot/pull/4338#issuecomment-503379408","issue_url":"https://api.github.com/repos/apache/pinot/issues/4338","id":503379408,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM3OTQwOA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T02:20:16Z","updated_at":"2019-06-19T02:20:16Z","author_association":"CONTRIBUTOR","body":"> Not sure if I follow the description. If for a given partition, there are 'n' replicas that are all in consuming state, will the first instance get all the QPS? If yes, that will cause a huge spike for one instance (I am sure I am missing something here). If not, what does 'allow' mean?\r\n\r\nWhen a segment finishes consumption and the next segment starts consuming, there could be a short period of time where the ideal state looks like the follows:\r\n```\r\n-------- Server1   Server2   Server3\r\nSegment1 ONLINE    CONSUMING CONSUMING\r\nSegment2 CONSUMING CONSUMING CONSUMING\r\n```\r\nThe current algorithm will allow only the segment2 (last one) in consuming state, which means Segment1 will only have one replica (Server1) up as Server2 and Server3 are in CONSUMING state. This is causing Server1 becoming the hotspot.\r\n\r\nThe new algorithm will allow only the segment1 in consuming state, which means Segment2 won't be queried.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503379408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503381307","html_url":"https://github.com/apache/pinot/pull/4338#issuecomment-503381307","issue_url":"https://api.github.com/repos/apache/pinot/issues/4338","id":503381307,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM4MTMwNw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T02:30:15Z","updated_at":"2019-06-19T02:30:15Z","author_association":"MEMBER","body":"I can’t follow. Can you review your comment again and see if there is any typo. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503381307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503389816","html_url":"https://github.com/apache/pinot/pull/4338#issuecomment-503389816","issue_url":"https://api.github.com/repos/apache/pinot/issues/4338","id":503389816,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM4OTgxNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T03:17:51Z","updated_at":"2019-06-19T05:44:36Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4338?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@dd73957`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `80%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4338/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4338?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4338   +/-   ##\n=========================================\n  Coverage          ?   65.64%           \n  Complexity        ?       20           \n=========================================\n  Files             ?     1061           \n  Lines             ?    54960           \n  Branches          ?     7820           \n=========================================\n  Hits              ?    36080           \n  Misses            ?    16309           \n  Partials          ?     2571\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4338?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/builder/LowLevelConsumerRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4338/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0xvd0xldmVsQ29uc3VtZXJSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `78% <0%> (ø)` | `0 <0> (?)` | |\n| [...uting/builder/LowLevelRoutingTableBuilderUtil.java](https://codecov.io/gh/apache/incubator-pinot/pull/4338/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0xvd0xldmVsUm91dGluZ1RhYmxlQnVpbGRlclV0aWwuamF2YQ==) | `92.3% <100%> (ø)` | `0 <0> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4338?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4338?src=pr&el=footer). Last update [dd73957...f8833d1](https://codecov.io/gh/apache/incubator-pinot/pull/4338?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503389816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503390342","html_url":"https://github.com/apache/pinot/pull/4339#issuecomment-503390342","issue_url":"https://api.github.com/repos/apache/pinot/issues/4339","id":503390342,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMzM5MDM0Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-19T03:20:52Z","updated_at":"2019-06-19T03:20:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4339?src=pr&el=h1) Report\n> :exclamation: No coverage uploaded for pull request base (`master@dd73957`). [Click here to learn what that means](https://docs.codecov.io/docs/error-reference#section-missing-base-commit).\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4339/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4339?src=pr&el=tree)\n\n```diff\n@@            Coverage Diff            @@\n##             master    #4339   +/-   ##\n=========================================\n  Coverage          ?   65.52%           \n  Complexity        ?       20           \n=========================================\n  Files             ?     1061           \n  Lines             ?    54976           \n  Branches          ?     7825           \n=========================================\n  Hits              ?    36023           \n  Misses            ?    16391           \n  Partials          ?     2562\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4339?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ot/controller/helix/core/util/HelixSetupUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4339/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3V0aWwvSGVsaXhTZXR1cFV0aWxzLmphdmE=) | `80.95% <100%> (ø)` | `0 <0> (?)` | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4339?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4339?src=pr&el=footer). Last update [dd73957...35dad73](https://codecov.io/gh/apache/incubator-pinot/pull/4339?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/503390342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]