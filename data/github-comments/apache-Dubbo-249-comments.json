[{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1259143850","html_url":"https://github.com/apache/dubbo/pull/10685#issuecomment-1259143850","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10685","id":1259143850,"node_id":"IC_kwDOAEfiCM5LDQKq","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-27T08:10:07Z","updated_at":"2022-09-27T08:14:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10685?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10685](https://codecov.io/gh/apache/dubbo/pull/10685?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (47eb875) into [3.1](https://codecov.io/gh/apache/dubbo/commit/e6748c7cb76fddc01c95433d866999350e38a4c4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e6748c7) will **increase** coverage by `0.00%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@            Coverage Diff            @@\n##                3.1   #10685   +/-   ##\n=========================================\n  Coverage     65.21%   65.22%           \n  Complexity      493      493           \n=========================================\n  Files          1336     1336           \n  Lines         56922    56927    +5     \n  Branches       8435     8436    +1     \n=========================================\n+ Hits          37124    37132    +8     \n+ Misses        15831    15826    -5     \n- Partials       3967     3969    +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10685?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...apache/dubbo/common/constants/CommonConstants.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vY29uc3RhbnRzL0NvbW1vbkNvbnN0YW50cy5qYXZh) | `100.00% <ø> (ø)` | |\n| [.../threadpool/manager/DefaultExecutorRepository.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9tYW5hZ2VyL0RlZmF1bHRFeGVjdXRvclJlcG9zaXRvcnkuamF2YQ==) | `70.28% <100.00%> (+0.87%)` | :arrow_up: |\n| [...g/apache/dubbo/remoting/api/ConnectionHandler.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9hcGkvQ29ubmVjdGlvbkhhbmRsZXIuamF2YQ==) | `51.51% <0.00%> (-9.10%)` | :arrow_down: |\n| [.../common/threadpool/serial/SerializingExecutor.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9zZXJpYWwvU2VyaWFsaXppbmdFeGVjdXRvci5qYXZh) | `72.41% <0.00%> (-6.90%)` | :arrow_down: |\n| [...ubbo/registry/client/AbstractServiceDiscovery.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvQWJzdHJhY3RTZXJ2aWNlRGlzY292ZXJ5LmphdmE=) | `81.34% <0.00%> (-1.50%)` | :arrow_down: |\n| [...ting/zookeeper/curator/CuratorZookeeperClient.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3Rpbmctem9va2VlcGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvY3VyYXRvci9DdXJhdG9yWm9va2VlcGVyQ2xpZW50LmphdmE=) | `70.51% <0.00%> (-0.86%)` | :arrow_down: |\n| [.../dubbo/registry/integration/RegistryDirectory.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9pbnRlZ3JhdGlvbi9SZWdpc3RyeURpcmVjdG9yeS5qYXZh) | `48.58% <0.00%> (+0.35%)` | :arrow_up: |\n| [...rg/apache/dubbo/common/timer/HashedWheelTimer.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGltZXIvSGFzaGVkV2hlZWxUaW1lci5qYXZh) | `86.25% <0.00%> (+0.68%)` | :arrow_up: |\n| [...ng/zookeeper/curator5/Curator5ZookeeperClient.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3Rpbmctem9va2VlcGVyLWN1cmF0b3I1L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvY3VyYXRvcjUvQ3VyYXRvcjVab29rZWVwZXJDbGllbnQuamF2YQ==) | `71.22% <0.00%> (+0.94%)` | :arrow_up: |\n| [...pache/dubbo/registry/support/AbstractRegistry.java](https://codecov.io/gh/apache/dubbo/pull/10685/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9zdXBwb3J0L0Fic3RyYWN0UmVnaXN0cnkuamF2YQ==) | `69.40% <0.00%> (+2.30%)` | :arrow_up: |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1259143850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1259176265","html_url":"https://github.com/apache/dubbo/pull/10671#issuecomment-1259176265","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10671","id":1259176265,"node_id":"IC_kwDOAEfiCM5LDYFJ","user":{"login":"niejian","id":7080323,"node_id":"MDQ6VXNlcjcwODAzMjM=","avatar_url":"https://avatars.githubusercontent.com/u/7080323?v=4","gravatar_id":"","url":"https://api.github.com/users/niejian","html_url":"https://github.com/niejian","followers_url":"https://api.github.com/users/niejian/followers","following_url":"https://api.github.com/users/niejian/following{/other_user}","gists_url":"https://api.github.com/users/niejian/gists{/gist_id}","starred_url":"https://api.github.com/users/niejian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niejian/subscriptions","organizations_url":"https://api.github.com/users/niejian/orgs","repos_url":"https://api.github.com/users/niejian/repos","events_url":"https://api.github.com/users/niejian/events{/privacy}","received_events_url":"https://api.github.com/users/niejian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-27T08:38:23Z","updated_at":"2022-09-27T08:38:23Z","author_association":"CONTRIBUTOR","body":"#10686","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1259176265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1259207345","html_url":"https://github.com/apache/dubbo/pull/10686#issuecomment-1259207345","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10686","id":1259207345,"node_id":"IC_kwDOAEfiCM5LDfqx","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-27T09:05:23Z","updated_at":"2022-09-28T07:15:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10686?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10686](https://codecov.io/gh/apache/dubbo/pull/10686?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e6748c7) into [3.1](https://codecov.io/gh/apache/dubbo/commit/e6748c7cb76fddc01c95433d866999350e38a4c4?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e6748c7) will **not change** coverage.\n> The diff coverage is `n/a`.\n\n> :exclamation: Current head e6748c7 differs from pull request most recent head 51ea524. Consider uploading reports for the commit 51ea524 to get more accurate results\n\n```diff\n@@            Coverage Diff            @@\n##                3.1   #10686   +/-   ##\n=========================================\n  Coverage     65.22%   65.22%           \n  Complexity      494      494           \n=========================================\n  Files          1336     1336           \n  Lines         56922    56922           \n  Branches       8435     8435           \n=========================================\n  Hits          37129    37129           \n  Misses        15827    15827           \n  Partials       3966     3966           \n```\n\n\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1259207345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260268168","html_url":"https://github.com/apache/dubbo/pull/10686#issuecomment-1260268168","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10686","id":1260268168,"node_id":"IC_kwDOAEfiCM5LHiqI","user":{"login":"niejian","id":7080323,"node_id":"MDQ6VXNlcjcwODAzMjM=","avatar_url":"https://avatars.githubusercontent.com/u/7080323?v=4","gravatar_id":"","url":"https://api.github.com/users/niejian","html_url":"https://github.com/niejian","followers_url":"https://api.github.com/users/niejian/followers","following_url":"https://api.github.com/users/niejian/following{/other_user}","gists_url":"https://api.github.com/users/niejian/gists{/gist_id}","starred_url":"https://api.github.com/users/niejian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niejian/subscriptions","organizations_url":"https://api.github.com/users/niejian/orgs","repos_url":"https://api.github.com/users/niejian/repos","events_url":"https://api.github.com/users/niejian/events{/privacy}","received_events_url":"https://api.github.com/users/niejian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T01:15:12Z","updated_at":"2022-09-28T01:15:12Z","author_association":"CONTRIBUTOR","body":"@AlbumenJ \r\nI have alread changed the way to get  `namespace` -> `podNamespace = referenceParameters.getOrDefault`. Pls check it","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260268168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260334355","html_url":"https://github.com/apache/dubbo/issues/10689#issuecomment-1260334355","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10689","id":1260334355,"node_id":"IC_kwDOAEfiCM5LHy0T","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T03:19:11Z","updated_at":"2022-09-28T03:19:11Z","author_association":"CONTRIBUTOR","body":"@AlbumenJ 有几个挺严重的bug 公司希望可以尽快更新到3.1.1 请问什么时候可以正式发布啊","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260334355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260339337","html_url":"https://github.com/apache/dubbo/issues/10689#issuecomment-1260339337","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10689","id":1260339337,"node_id":"IC_kwDOAEfiCM5LH0CJ","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T03:29:28Z","updated_at":"2022-09-28T03:29:28Z","author_association":"MEMBER","body":"今天或明天会发完","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260339337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260354741","html_url":"https://github.com/apache/dubbo/issues/10687#issuecomment-1260354741","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10687","id":1260354741,"node_id":"IC_kwDOAEfiCM5LH3y1","user":{"login":"EarthChen","id":20179425,"node_id":"MDQ6VXNlcjIwMTc5NDI1","avatar_url":"https://avatars.githubusercontent.com/u/20179425?v=4","gravatar_id":"","url":"https://api.github.com/users/EarthChen","html_url":"https://github.com/EarthChen","followers_url":"https://api.github.com/users/EarthChen/followers","following_url":"https://api.github.com/users/EarthChen/following{/other_user}","gists_url":"https://api.github.com/users/EarthChen/gists{/gist_id}","starred_url":"https://api.github.com/users/EarthChen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EarthChen/subscriptions","organizations_url":"https://api.github.com/users/EarthChen/orgs","repos_url":"https://api.github.com/users/EarthChen/repos","events_url":"https://api.github.com/users/EarthChen/events{/privacy}","received_events_url":"https://api.github.com/users/EarthChen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T04:00:36Z","updated_at":"2022-09-28T04:00:36Z","author_association":"MEMBER","body":"欢迎提个 pr来支持一下 https://github.com/apache/dubbo-spi-extensions","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260354741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260518844","html_url":"https://github.com/apache/dubbo/pull/10622#issuecomment-1260518844","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10622","id":1260518844,"node_id":"IC_kwDOAEfiCM5LIf28","user":{"login":"chickenlj","id":18097545,"node_id":"MDQ6VXNlcjE4MDk3NTQ1","avatar_url":"https://avatars.githubusercontent.com/u/18097545?v=4","gravatar_id":"","url":"https://api.github.com/users/chickenlj","html_url":"https://github.com/chickenlj","followers_url":"https://api.github.com/users/chickenlj/followers","following_url":"https://api.github.com/users/chickenlj/following{/other_user}","gists_url":"https://api.github.com/users/chickenlj/gists{/gist_id}","starred_url":"https://api.github.com/users/chickenlj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chickenlj/subscriptions","organizations_url":"https://api.github.com/users/chickenlj/orgs","repos_url":"https://api.github.com/users/chickenlj/repos","events_url":"https://api.github.com/users/chickenlj/events{/privacy}","received_events_url":"https://api.github.com/users/chickenlj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T07:47:32Z","updated_at":"2022-09-28T07:49:07Z","author_association":"CONTRIBUTOR","body":"Can you please explain the design of the configuration of the metrics-related properties, I noticed there are metrics properties defined in both ApplicationConfig and MetricsConfig，\r\n\r\n```java\r\n    String METRICS_SERVICE_PORT_KEY = \"metrics-service-port\";\r\n\r\n    String METRICS_SERVICE_PROTOCOL_KEY = \"metrics-service-protocol\";\r\n```\r\n\r\n```java\r\n/**\r\n * MetricsConfig\r\n */\r\npublic class MetricsConfig extends AbstractConfig {\r\n\r\n    private static final long serialVersionUID = -9089919311611546383L;\r\n\r\n    private String protocol;\r\n\r\n    /**\r\n     * Enable jvm metrics when collecting.\r\n     */\r\n    private Boolean enableJvmMetrics;\r\n\r\n......\r\n\r\n}\r\n```\r\n\r\nWhen should we need to set properties in ApplicationConfig and when should we set MetricsConfig? ","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260518844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260575344","html_url":"https://github.com/apache/dubbo/issues/10687#issuecomment-1260575344","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10687","id":1260575344,"node_id":"IC_kwDOAEfiCM5LItpw","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T08:37:27Z","updated_at":"2022-09-28T08:37:27Z","author_association":"CONTRIBUTOR","body":"> 欢迎提个 pr来支持一下 https://github.com/apache/dubbo-spi-extensions\r\n\r\nhttps://github.com/apache/dubbo-spi-extensions/pull/141 已经提交了pr 简单做了一下适配 应该还有可以优化的地方","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260575344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260623654","html_url":"https://github.com/apache/dubbo/pull/10622#issuecomment-1260623654","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10622","id":1260623654,"node_id":"IC_kwDOAEfiCM5LI5cm","user":{"login":"jojocodeX","id":15051594,"node_id":"MDQ6VXNlcjE1MDUxNTk0","avatar_url":"https://avatars.githubusercontent.com/u/15051594?v=4","gravatar_id":"","url":"https://api.github.com/users/jojocodeX","html_url":"https://github.com/jojocodeX","followers_url":"https://api.github.com/users/jojocodeX/followers","following_url":"https://api.github.com/users/jojocodeX/following{/other_user}","gists_url":"https://api.github.com/users/jojocodeX/gists{/gist_id}","starred_url":"https://api.github.com/users/jojocodeX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jojocodeX/subscriptions","organizations_url":"https://api.github.com/users/jojocodeX/orgs","repos_url":"https://api.github.com/users/jojocodeX/repos","events_url":"https://api.github.com/users/jojocodeX/events{/privacy}","received_events_url":"https://api.github.com/users/jojocodeX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T09:16:59Z","updated_at":"2022-09-28T09:16:59Z","author_association":"CONTRIBUTOR","body":"metricsConfig中的协议，只是一种实现方式的声明,比如声明为 prometheus，而内部导出的服务，以什么样的形式提供调用，允许定义不同的协议调用方法","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260623654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260637874","html_url":"https://github.com/apache/dubbo/pull/10622#issuecomment-1260637874","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10622","id":1260637874,"node_id":"IC_kwDOAEfiCM5LI86y","user":{"login":"chickenlj","id":18097545,"node_id":"MDQ6VXNlcjE4MDk3NTQ1","avatar_url":"https://avatars.githubusercontent.com/u/18097545?v=4","gravatar_id":"","url":"https://api.github.com/users/chickenlj","html_url":"https://github.com/chickenlj","followers_url":"https://api.github.com/users/chickenlj/followers","following_url":"https://api.github.com/users/chickenlj/following{/other_user}","gists_url":"https://api.github.com/users/chickenlj/gists{/gist_id}","starred_url":"https://api.github.com/users/chickenlj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chickenlj/subscriptions","organizations_url":"https://api.github.com/users/chickenlj/orgs","repos_url":"https://api.github.com/users/chickenlj/repos","events_url":"https://api.github.com/users/chickenlj/events{/privacy}","received_events_url":"https://api.github.com/users/chickenlj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T09:28:34Z","updated_at":"2022-09-28T09:28:34Z","author_association":"CONTRIBUTOR","body":"> \r\n\r\n后续最好能将所有配置统一到 MetricsConfig 中进行配置","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260637874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260869522","html_url":"https://github.com/apache/dubbo/pull/10622#issuecomment-1260869522","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10622","id":1260869522,"node_id":"IC_kwDOAEfiCM5LJ1eS","user":{"login":"jojocodeX","id":15051594,"node_id":"MDQ6VXNlcjE1MDUxNTk0","avatar_url":"https://avatars.githubusercontent.com/u/15051594?v=4","gravatar_id":"","url":"https://api.github.com/users/jojocodeX","html_url":"https://github.com/jojocodeX","followers_url":"https://api.github.com/users/jojocodeX/followers","following_url":"https://api.github.com/users/jojocodeX/following{/other_user}","gists_url":"https://api.github.com/users/jojocodeX/gists{/gist_id}","starred_url":"https://api.github.com/users/jojocodeX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jojocodeX/subscriptions","organizations_url":"https://api.github.com/users/jojocodeX/orgs","repos_url":"https://api.github.com/users/jojocodeX/repos","events_url":"https://api.github.com/users/jojocodeX/events{/privacy}","received_events_url":"https://api.github.com/users/jojocodeX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T12:57:19Z","updated_at":"2022-09-28T12:57:19Z","author_association":"CONTRIBUTOR","body":"已处理","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260869522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260883062","html_url":"https://github.com/apache/dubbo/issues/10659#issuecomment-1260883062","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10659","id":1260883062,"node_id":"IC_kwDOAEfiCM5LJ4x2","user":{"login":"shihaojun","id":17853775,"node_id":"MDQ6VXNlcjE3ODUzNzc1","avatar_url":"https://avatars.githubusercontent.com/u/17853775?v=4","gravatar_id":"","url":"https://api.github.com/users/shihaojun","html_url":"https://github.com/shihaojun","followers_url":"https://api.github.com/users/shihaojun/followers","following_url":"https://api.github.com/users/shihaojun/following{/other_user}","gists_url":"https://api.github.com/users/shihaojun/gists{/gist_id}","starred_url":"https://api.github.com/users/shihaojun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shihaojun/subscriptions","organizations_url":"https://api.github.com/users/shihaojun/orgs","repos_url":"https://api.github.com/users/shihaojun/repos","events_url":"https://api.github.com/users/shihaojun/events{/privacy}","received_events_url":"https://api.github.com/users/shihaojun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-28T13:05:14Z","updated_at":"2022-09-28T13:05:14Z","author_association":"NONE","body":"Thank you","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1260883062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1261667247","html_url":"https://github.com/apache/dubbo/pull/10695#issuecomment-1261667247","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10695","id":1261667247,"node_id":"IC_kwDOAEfiCM5LM4Ov","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T02:35:26Z","updated_at":"2022-10-14T06:51:50Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10695?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10695](https://codecov.io/gh/apache/dubbo/pull/10695?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (8e81dfd) into [3.1](https://codecov.io/gh/apache/dubbo/commit/eb0e25e55f1516f1457f6acf9df8ee48cfa492c7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (eb0e25e) will **increase** coverage by `0.18%`.\n> The diff coverage is `79.34%`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.1   #10695      +/-   ##\n============================================\n+ Coverage     65.24%   65.42%   +0.18%     \n- Complexity      493      658     +165     \n============================================\n  Files          1336     1350      +14     \n  Lines         56918    57390     +472     \n  Branches       8434     8498      +64     \n============================================\n+ Hits          37134    37547     +413     \n- Misses        15813    15861      +48     \n- Partials       3971     3982      +11     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10695?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...dubbo/rpc/cluster/router/xds/XdsRouterFactory.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL1hkc1JvdXRlckZhY3RvcnkuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...apache/dubbo/rpc/cluster/router/xds/XdsRouter.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL1hkc1JvdXRlci5qYXZh) | `69.88% <69.88%> (ø)` | |\n| [...bo/rpc/cluster/router/xds/rule/LongRangeMatch.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL3J1bGUvTG9uZ1JhbmdlTWF0Y2guamF2YQ==) | `72.72% <72.72%> (ø)` | |\n| [...bbo/rpc/cluster/router/xds/rule/HeaderMatcher.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL3J1bGUvSGVhZGVyTWF0Y2hlci5qYXZh) | `75.00% <75.00%> (ø)` | |\n| [...bbo/rpc/cluster/router/xds/EdsEndpointManager.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL0Vkc0VuZHBvaW50TWFuYWdlci5qYXZh) | `82.92% <82.92%> (ø)` | |\n| [...rpc/cluster/router/xds/RdsVirtualHostListener.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL1Jkc1ZpcnR1YWxIb3N0TGlzdGVuZXIuamF2YQ==) | `83.13% <83.13%> (ø)` | |\n| [...bo/rpc/cluster/router/xds/RdsRouteRuleManager.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL1Jkc1JvdXRlUnVsZU1hbmFnZXIuamF2YQ==) | `88.09% <88.09%> (ø)` | |\n| [...rpc/cluster/router/xds/rule/DestinationSubset.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL3J1bGUvRGVzdGluYXRpb25TdWJzZXQuamF2YQ==) | `90.90% <90.90%> (ø)` | |\n| [...c/cluster/router/xds/XdsScopeModelInitializer.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL1hkc1Njb3BlTW9kZWxJbml0aWFsaXplci5qYXZh) | `100.00% <100.00%> (ø)` | |\n| [...bbo/rpc/cluster/router/xds/rule/ClusterWeight.java](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9ycGMvY2x1c3Rlci9yb3V0ZXIveGRzL3J1bGUvQ2x1c3RlcldlaWdodC5qYXZh) | `100.00% <100.00%> (ø)` | |\n| ... and [50 more](https://codecov.io/gh/apache/dubbo/pull/10695/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1261667247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1261773151","html_url":"https://github.com/apache/dubbo/issues/9085#issuecomment-1261773151","issue_url":"https://api.github.com/repos/apache/dubbo/issues/9085","id":1261773151,"node_id":"IC_kwDOAEfiCM5LNSFf","user":{"login":"BubblingXuYijie","id":45624106,"node_id":"MDQ6VXNlcjQ1NjI0MTA2","avatar_url":"https://avatars.githubusercontent.com/u/45624106?v=4","gravatar_id":"","url":"https://api.github.com/users/BubblingXuYijie","html_url":"https://github.com/BubblingXuYijie","followers_url":"https://api.github.com/users/BubblingXuYijie/followers","following_url":"https://api.github.com/users/BubblingXuYijie/following{/other_user}","gists_url":"https://api.github.com/users/BubblingXuYijie/gists{/gist_id}","starred_url":"https://api.github.com/users/BubblingXuYijie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BubblingXuYijie/subscriptions","organizations_url":"https://api.github.com/users/BubblingXuYijie/orgs","repos_url":"https://api.github.com/users/BubblingXuYijie/repos","events_url":"https://api.github.com/users/BubblingXuYijie/events{/privacy}","received_events_url":"https://api.github.com/users/BubblingXuYijie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T05:32:24Z","updated_at":"2022-09-29T05:32:24Z","author_association":"NONE","body":"same issue in dubbo 3.1.0.","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1261773151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1262001313","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1262001313","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1262001313,"node_id":"IC_kwDOAEfiCM5LOJyh","user":{"login":"lolua","id":51225680,"node_id":"MDQ6VXNlcjUxMjI1Njgw","avatar_url":"https://avatars.githubusercontent.com/u/51225680?v=4","gravatar_id":"","url":"https://api.github.com/users/lolua","html_url":"https://github.com/lolua","followers_url":"https://api.github.com/users/lolua/followers","following_url":"https://api.github.com/users/lolua/following{/other_user}","gists_url":"https://api.github.com/users/lolua/gists{/gist_id}","starred_url":"https://api.github.com/users/lolua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lolua/subscriptions","organizations_url":"https://api.github.com/users/lolua/orgs","repos_url":"https://api.github.com/users/lolua/repos","events_url":"https://api.github.com/users/lolua/events{/privacy}","received_events_url":"https://api.github.com/users/lolua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T09:15:37Z","updated_at":"2022-09-29T09:15:37Z","author_association":"NONE","body":"3.0.7版本也存在这个问题，有解决的吗？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1262001313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1262022022","html_url":"https://github.com/apache/dubbo/issues/10526#issuecomment-1262022022","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10526","id":1262022022,"node_id":"IC_kwDOAEfiCM5LOO2G","user":{"login":"CrazyHZM","id":19588788,"node_id":"MDQ6VXNlcjE5NTg4Nzg4","avatar_url":"https://avatars.githubusercontent.com/u/19588788?v=4","gravatar_id":"","url":"https://api.github.com/users/CrazyHZM","html_url":"https://github.com/CrazyHZM","followers_url":"https://api.github.com/users/CrazyHZM/followers","following_url":"https://api.github.com/users/CrazyHZM/following{/other_user}","gists_url":"https://api.github.com/users/CrazyHZM/gists{/gist_id}","starred_url":"https://api.github.com/users/CrazyHZM/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CrazyHZM/subscriptions","organizations_url":"https://api.github.com/users/CrazyHZM/orgs","repos_url":"https://api.github.com/users/CrazyHZM/repos","events_url":"https://api.github.com/users/CrazyHZM/events{/privacy}","received_events_url":"https://api.github.com/users/CrazyHZM/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-29T09:33:04Z","updated_at":"2022-09-29T09:33:04Z","author_association":"MEMBER","body":"Already done in https://github.com/apache/dubbo/pull/10603","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1262022022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263070576","html_url":"https://github.com/apache/dubbo/issues/10696#issuecomment-1263070576","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10696","id":1263070576,"node_id":"IC_kwDOAEfiCM5LSO1w","user":{"login":"liufeiyu1002","id":32605119,"node_id":"MDQ6VXNlcjMyNjA1MTE5","avatar_url":"https://avatars.githubusercontent.com/u/32605119?v=4","gravatar_id":"","url":"https://api.github.com/users/liufeiyu1002","html_url":"https://github.com/liufeiyu1002","followers_url":"https://api.github.com/users/liufeiyu1002/followers","following_url":"https://api.github.com/users/liufeiyu1002/following{/other_user}","gists_url":"https://api.github.com/users/liufeiyu1002/gists{/gist_id}","starred_url":"https://api.github.com/users/liufeiyu1002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liufeiyu1002/subscriptions","organizations_url":"https://api.github.com/users/liufeiyu1002/orgs","repos_url":"https://api.github.com/users/liufeiyu1002/repos","events_url":"https://api.github.com/users/liufeiyu1002/events{/privacy}","received_events_url":"https://api.github.com/users/liufeiyu1002/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T03:51:11Z","updated_at":"2022-09-30T03:51:11Z","author_association":"CONTRIBUTOR","body":"3.x 应该都支持吧。https://github.com/apache/dubbo-spi-extensions  你看这个项目里的 spi扩展应该有你用到的 协议适配吧 ","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263070576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263071816","html_url":"https://github.com/apache/dubbo/issues/10693#issuecomment-1263071816","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10693","id":1263071816,"node_id":"IC_kwDOAEfiCM5LSPJI","user":{"login":"liufeiyu1002","id":32605119,"node_id":"MDQ6VXNlcjMyNjA1MTE5","avatar_url":"https://avatars.githubusercontent.com/u/32605119?v=4","gravatar_id":"","url":"https://api.github.com/users/liufeiyu1002","html_url":"https://github.com/liufeiyu1002","followers_url":"https://api.github.com/users/liufeiyu1002/followers","following_url":"https://api.github.com/users/liufeiyu1002/following{/other_user}","gists_url":"https://api.github.com/users/liufeiyu1002/gists{/gist_id}","starred_url":"https://api.github.com/users/liufeiyu1002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liufeiyu1002/subscriptions","organizations_url":"https://api.github.com/users/liufeiyu1002/orgs","repos_url":"https://api.github.com/users/liufeiyu1002/repos","events_url":"https://api.github.com/users/liufeiyu1002/events{/privacy}","received_events_url":"https://api.github.com/users/liufeiyu1002/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T03:54:27Z","updated_at":"2022-09-30T03:54:27Z","author_association":"CONTRIBUTOR","body":"```\r\nCaused by: java.lang.IllegalStateException: No application config found or it's not a valid config! Please add <dubbo:application name=\"...\" /> to your spring config.\r\n\tat org.apache.dubbo.config.utils.ConfigValidationUtils.validateApplicationConfig(ConfigValidationUtils.java:419) ~[dubbo-2.7.15.jar:2.7.15]\r\n```\r\n\t","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263071816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263090885","html_url":"https://github.com/apache/dubbo/issues/10652#issuecomment-1263090885","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10652","id":1263090885,"node_id":"IC_kwDOAEfiCM5LSTzF","user":{"login":"JihanChen","id":10062873,"node_id":"MDQ6VXNlcjEwMDYyODcz","avatar_url":"https://avatars.githubusercontent.com/u/10062873?v=4","gravatar_id":"","url":"https://api.github.com/users/JihanChen","html_url":"https://github.com/JihanChen","followers_url":"https://api.github.com/users/JihanChen/followers","following_url":"https://api.github.com/users/JihanChen/following{/other_user}","gists_url":"https://api.github.com/users/JihanChen/gists{/gist_id}","starred_url":"https://api.github.com/users/JihanChen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JihanChen/subscriptions","organizations_url":"https://api.github.com/users/JihanChen/orgs","repos_url":"https://api.github.com/users/JihanChen/repos","events_url":"https://api.github.com/users/JihanChen/events{/privacy}","received_events_url":"https://api.github.com/users/JihanChen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T04:32:54Z","updated_at":"2022-09-30T04:36:07Z","author_association":"NONE","body":"> * [x]  I have searched the [issues](https://github.com/apache/dubbo/issues) of this repository and believe that this is not a duplicate.\r\n> \r\n> ### Environment\r\n> * Dubbo version: 3.1.0\r\n> * Java version: 1.8.0\r\n> \r\n> ### Steps to reproduce this issue\r\n> 1. 在 Spring Boot 环境下启动 Dubbo Provider 应用\r\n> 2. 启动 Dubbo Consumer 并发持续调用 Provider 应用\r\n> 3. kill 该进程\r\n> \r\n> ### Expected Behavior\r\n> 像文档说的那样可以优雅停机\r\n> \r\n> ### Actual Behavior\r\n> 实际情况是会报一大堆异常，并将异常返回至 Consumer 端。异常内容大多是:\r\n> \r\n> ```\r\n> [ERROR][2022-09-18 15:52:05.826][tri-protocol-20881-thread-200][org.apache.dubbo.rpc.filter.ExceptionFilter]  [DUBBO] Got unchecked and undeclared exception which called by 172.17.0.221. service: cn.jojo.api.service.bs.ms.IMediaService, method: getEditMediaResult, exception: java.lang.IllegalStateException: ExtensionDirector is destroyed, dubbo version: 3.1.0, current host: 172.17.0.28\r\n> ```\r\n> \r\n> ### 问题根因\r\n> Dubbo 的优雅停机实际上有两种机制:\r\n> \r\n> 1. Spring Boot 环境下 `DubboDeployApplicationListener#onContextClosedEvent` 监听到 `ContextClosedEvent` 时执行停机。\r\n> 2. DubboShutdownHook 监听 JVM 的 shutdownHook\r\n> \r\n> 这两种机制同时运行时，会导致相互冲突，上边提到的报错`ExtensionDirector is destroyed`就是因为 DubboShutdownHook 关闭了 `ExtensionDirector` 导致的。\r\n> \r\n> ### 解决办法\r\n> 在经过反复测试后，只保留 `DubboDeployApplicationListener` 事件监听机制，是可以实现优雅停机的，而 `DubboShutdownHook` 的停机实际上并不优雅，它只是停机而已，甚至用不到 `dubbo.service.shutdown.wait` 参数，这个参数是通过 `DubboDeployApplicationListener` 监听事件最后走到 `RegistryProtocol` 中实现的。\r\n> \r\n> 建议在 Spring Boot 环境下默认关闭注册 `DubboShutdownHook`。\r\n> \r\n> ### 另一个问题\r\n> `DubboShutdownHook` 提供了参数 `dubbo.shutdownHook.listenIgnore` 来阻止注册 JVM shutdownHook，但是这个参数是在类构造器中初始化的，而这个类的构造器又调用太早，导致读不到配置中心的配置，连 Spring Boot 配置也读不到，只有添加启动参数 `-Ddubbo.shutdownHook.listenIgnore=true` 才行。\r\n> \r\n> 而添加启动参数在规模稍大一些的系统中，是很难做到的，大家都是用配置中心来统一管理配置。\r\n\r\n我也遇到了同样的问题，问下你这边是怎么解决的？测试过程中发现DubboShutdownHook好像会注册两次，既然参数 `dubbo.shutdownHook.listenIgnore`  不能在配置中读取到，那在什么地方去取消注册DubboShutdownHook呢？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263090885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263094066","html_url":"https://github.com/apache/dubbo/issues/10652#issuecomment-1263094066","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10652","id":1263094066,"node_id":"IC_kwDOAEfiCM5LSUky","user":{"login":"pandaapo","id":35672972,"node_id":"MDQ6VXNlcjM1NjcyOTcy","avatar_url":"https://avatars.githubusercontent.com/u/35672972?v=4","gravatar_id":"","url":"https://api.github.com/users/pandaapo","html_url":"https://github.com/pandaapo","followers_url":"https://api.github.com/users/pandaapo/followers","following_url":"https://api.github.com/users/pandaapo/following{/other_user}","gists_url":"https://api.github.com/users/pandaapo/gists{/gist_id}","starred_url":"https://api.github.com/users/pandaapo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pandaapo/subscriptions","organizations_url":"https://api.github.com/users/pandaapo/orgs","repos_url":"https://api.github.com/users/pandaapo/repos","events_url":"https://api.github.com/users/pandaapo/events{/privacy}","received_events_url":"https://api.github.com/users/pandaapo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T04:39:21Z","updated_at":"2022-09-30T05:58:48Z","author_association":"MEMBER","body":"> 我也遇到了同样的问题，问下你这边是怎么解决的？测试过程中发现DubboShutdownHook好像会注册两次，既然参数 `dubbo.shutdownHook.listenIgnore` 不能在配置中读取到，那在什么地方去取消注册DubboShutdownHook呢？\r\n\r\n能否细说下你是怎么重现该bug的？为什么我按照作者的重现步骤做好多次都是能正常停机，并没有作者反馈的`ExtensionDirector is destroyed` bug信息？我猜想是不是还有什么相关的配置才能重现。\r\n\r\n另外看源码中，虽然Dubbo 的优雅停机会有两种机制同时运行，但是通过原子变量+CAS控制了，当两者同时停止某一项时，只会有一种机制执行。所以难以理解怎么出现该bug的。\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263094066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263150223","html_url":"https://github.com/apache/dubbo/issues/10681#issuecomment-1263150223","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10681","id":1263150223,"node_id":"IC_kwDOAEfiCM5LSiSP","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:16:48Z","updated_at":"2022-09-30T06:16:48Z","author_association":"MEMBER","body":"嗯，可以把方案和修改的地方通过 PR 提交上来哦","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263150223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263154710","html_url":"https://github.com/apache/dubbo/issues/10688#issuecomment-1263154710","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10688","id":1263154710,"node_id":"IC_kwDOAEfiCM5LSjYW","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:21:35Z","updated_at":"2022-09-30T06:21:35Z","author_association":"MEMBER","body":"这一块看起来在 Dubbo 3 是没问题的，你可以试下跑 3.1.1 版本看看，有问题的话再提交个 issue 吧","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263154710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263157118","html_url":"https://github.com/apache/dubbo/issues/10690#issuecomment-1263157118","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10690","id":1263157118,"node_id":"IC_kwDOAEfiCM5LSj9-","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:24:18Z","updated_at":"2022-09-30T06:24:18Z","author_association":"MEMBER","body":"![image](https://user-images.githubusercontent.com/9292748/193204254-2a721933-afdc-4e03-b229-bb67b840671e.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263157118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263158250","html_url":"https://github.com/apache/dubbo/issues/10692#issuecomment-1263158250","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10692","id":1263158250,"node_id":"IC_kwDOAEfiCM5LSkPq","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:25:48Z","updated_at":"2022-09-30T06:25:48Z","author_association":"MEMBER","body":"这个日志目前是无法关闭的，可以提个 PR 加个开关","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263158250/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263159166","html_url":"https://github.com/apache/dubbo/issues/10694#issuecomment-1263159166","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10694","id":1263159166,"node_id":"IC_kwDOAEfiCM5LSkd-","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:26:53Z","updated_at":"2022-09-30T06:26:53Z","author_association":"MEMBER","body":"注册中心推送是有时延的，在注册中心推送完成前还会有调用","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263159166/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263161198","html_url":"https://github.com/apache/dubbo/issues/10659#issuecomment-1263161198","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10659","id":1263161198,"node_id":"IC_kwDOAEfiCM5LSk9u","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:29:24Z","updated_at":"2022-09-30T06:29:24Z","author_association":"MEMBER","body":"3.1.1 has been released. Please feel free to reopen this issue if you have any question.","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263161198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263171663","html_url":"https://github.com/apache/dubbo/issues/9085#issuecomment-1263171663","issue_url":"https://api.github.com/repos/apache/dubbo/issues/9085","id":1263171663,"node_id":"IC_kwDOAEfiCM5LSnhP","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:42:41Z","updated_at":"2022-09-30T06:42:41Z","author_association":"MEMBER","body":"> same issue in dubbo 3.1.0.\r\n\r\n可以提一个完整的 samples 吗","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263171663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263172579","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1263172579","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1263172579,"node_id":"IC_kwDOAEfiCM5LSnvj","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:44:02Z","updated_at":"2022-09-30T06:44:02Z","author_association":"MEMBER","body":"> 3.0.7版本也存在这个问题，有解决的吗？\r\n\r\n可以提一个可以复现的 samples 吗","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263172579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263178770","html_url":"https://github.com/apache/dubbo/pull/10697#issuecomment-1263178770","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10697","id":1263178770,"node_id":"IC_kwDOAEfiCM5LSpQS","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T06:52:30Z","updated_at":"2022-09-30T06:52:30Z","author_association":"MEMBER","body":"![image](https://user-images.githubusercontent.com/9292748/193208832-fc0ce793-554e-44a7-9a62-d4021dfe6f3a.png)\r\nPlease fix this","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263178770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263209117","html_url":"https://github.com/apache/dubbo/issues/10696#issuecomment-1263209117","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10696","id":1263209117,"node_id":"IC_kwDOAEfiCM5LSwqd","user":{"login":"jybjobs","id":15391009,"node_id":"MDQ6VXNlcjE1MzkxMDA5","avatar_url":"https://avatars.githubusercontent.com/u/15391009?v=4","gravatar_id":"","url":"https://api.github.com/users/jybjobs","html_url":"https://github.com/jybjobs","followers_url":"https://api.github.com/users/jybjobs/followers","following_url":"https://api.github.com/users/jybjobs/following{/other_user}","gists_url":"https://api.github.com/users/jybjobs/gists{/gist_id}","starred_url":"https://api.github.com/users/jybjobs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jybjobs/subscriptions","organizations_url":"https://api.github.com/users/jybjobs/orgs","repos_url":"https://api.github.com/users/jybjobs/repos","events_url":"https://api.github.com/users/jybjobs/events{/privacy}","received_events_url":"https://api.github.com/users/jybjobs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T07:27:39Z","updated_at":"2022-09-30T07:27:39Z","author_association":"NONE","body":"好的，多谢","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263209117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263223318","html_url":"https://github.com/apache/dubbo/issues/10637#issuecomment-1263223318","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10637","id":1263223318,"node_id":"IC_kwDOAEfiCM5LS0IW","user":{"login":"niejian","id":7080323,"node_id":"MDQ6VXNlcjcwODAzMjM=","avatar_url":"https://avatars.githubusercontent.com/u/7080323?v=4","gravatar_id":"","url":"https://api.github.com/users/niejian","html_url":"https://github.com/niejian","followers_url":"https://api.github.com/users/niejian/followers","following_url":"https://api.github.com/users/niejian/following{/other_user}","gists_url":"https://api.github.com/users/niejian/gists{/gist_id}","starred_url":"https://api.github.com/users/niejian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/niejian/subscriptions","organizations_url":"https://api.github.com/users/niejian/orgs","repos_url":"https://api.github.com/users/niejian/repos","events_url":"https://api.github.com/users/niejian/events{/privacy}","received_events_url":"https://api.github.com/users/niejian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T07:42:46Z","updated_at":"2022-09-30T07:42:46Z","author_association":"CONTRIBUTOR","body":"https://dubbo.apache.org/zh/overview/tasks/mesh/dubbo-mesh/#6-%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263223318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263311288","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1263311288","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1263311288,"node_id":"IC_kwDOAEfiCM5LTJm4","user":{"login":"lolua","id":51225680,"node_id":"MDQ6VXNlcjUxMjI1Njgw","avatar_url":"https://avatars.githubusercontent.com/u/51225680?v=4","gravatar_id":"","url":"https://api.github.com/users/lolua","html_url":"https://github.com/lolua","followers_url":"https://api.github.com/users/lolua/followers","following_url":"https://api.github.com/users/lolua/following{/other_user}","gists_url":"https://api.github.com/users/lolua/gists{/gist_id}","starred_url":"https://api.github.com/users/lolua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lolua/subscriptions","organizations_url":"https://api.github.com/users/lolua/orgs","repos_url":"https://api.github.com/users/lolua/repos","events_url":"https://api.github.com/users/lolua/events{/privacy}","received_events_url":"https://api.github.com/users/lolua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T09:05:26Z","updated_at":"2022-09-30T09:05:26Z","author_association":"NONE","body":"> \r\n\r\n\r\n\r\n> > 3.0.7版本也存在这个问题，有解决的吗？\r\n> \r\n> 可以提一个可以复现的 samples 吗\r\n\r\n有的，https://github.com/lolua/dubbo-samples","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263311288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263358980","html_url":"https://github.com/apache/dubbo/issues/10393#issuecomment-1263358980","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10393","id":1263358980,"node_id":"IC_kwDOAEfiCM5LTVQE","user":{"login":"huwenming-saw","id":50895750,"node_id":"MDQ6VXNlcjUwODk1NzUw","avatar_url":"https://avatars.githubusercontent.com/u/50895750?v=4","gravatar_id":"","url":"https://api.github.com/users/huwenming-saw","html_url":"https://github.com/huwenming-saw","followers_url":"https://api.github.com/users/huwenming-saw/followers","following_url":"https://api.github.com/users/huwenming-saw/following{/other_user}","gists_url":"https://api.github.com/users/huwenming-saw/gists{/gist_id}","starred_url":"https://api.github.com/users/huwenming-saw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huwenming-saw/subscriptions","organizations_url":"https://api.github.com/users/huwenming-saw/orgs","repos_url":"https://api.github.com/users/huwenming-saw/repos","events_url":"https://api.github.com/users/huwenming-saw/events{/privacy}","received_events_url":"https://api.github.com/users/huwenming-saw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T09:52:33Z","updated_at":"2022-09-30T09:52:33Z","author_association":"NONE","body":"> > @404008945 provider 和 consumer 都升级，2.7 的早期有个版本注册是有问题的\r\n> \r\n> @AlbumenJ 问题找到了。 生产和消费者都是升级了最新版的2.7.16，另外nacos-client为1.3.3时有问题，**测试nacos-client版本为2.0.4已经没有问题了** **问题记录** 生产者注册服务名称逻辑为 org.apache.dubbo.common.URL#getColonSeparatedKey\r\n> \r\n> ```java\r\n>   public String getColonSeparatedKey() {\r\n>         StringBuilder serviceNameBuilder = new StringBuilder();\r\n>         serviceNameBuilder.append(this.getServiceInterface());\r\n>         append(serviceNameBuilder, VERSION_KEY, false);\r\n>         append(serviceNameBuilder, GROUP_KEY, false);\r\n>         return serviceNameBuilder.toString();\r\n>     }\r\n> ```\r\n> \r\n> 当version为空时并不会省略掉间隔符冒号 于是注册的服务名称是 io.seata.samples.tcc.dubbo.action.TccActionOne::tcc ![image](https://user-images.githubusercontent.com/39762246/183087088-3b0e2edc-6e12-4679-bee7-eba29a3e6be5.png)\r\n> \r\n> 然后我又看了消费者启动时初始化invoke时，生成的订阅服务名称逻辑 org.apache.dubbo.registry.nacos.NacosRegistry#getServiceNames0\r\n> \r\n> ```java\r\n>  private Set<String> getServiceNames0(URL url) {\r\n>         NacosServiceName serviceName = createServiceName(url);\r\n> \r\n>         final Set<String> serviceNames;\r\n> \r\n>         if (serviceName.isConcrete()) { // is the concrete service name\r\n>             serviceNames = new LinkedHashSet<>();\r\n>             serviceNames.add(serviceName.toString());\r\n>             // Add the legacy service name since 2.7.6\r\n>             String legacySubscribedServiceName = getLegacySubscribedServiceName(url);\r\n>             if (!serviceName.toString().equals(legacySubscribedServiceName)) {\r\n>                 //avoid duplicated service names\r\n>                 serviceNames.add(legacySubscribedServiceName);\r\n>             }\r\n>         } else {\r\n>             serviceNames = filterServiceNames(serviceName);\r\n>         }\r\n> \r\n>         return serviceNames;\r\n>     }\r\n> ```\r\n> \r\n> ![image](https://user-images.githubusercontent.com/39762246/183089364-348ab9ab-d533-4aa6-bcf0-bb1dde424725.png) version为空，新版服务名version为空，不会省略间隔符冒号,根据注释，为了兼容2.7.3以前的版本，另外生成服务名 version为空并且把冒号也省略掉了。最终结果就是新版比旧版多了一个冒号。 后面会继续分别订阅这两个服务名称,其中一个服务名在注册中心不存在，是空服务。 org.apache.dubbo.registry.nacos.NacosRegistry#doSubscribe(org.apache.dubbo.common.URL, org.apache.dubbo.registry.NotifyListener, java.util.Set<java.lang.String>)\r\n> \r\n> ```java\r\n>  private void doSubscribe(final URL url, final NotifyListener listener, final Set<String> serviceNames) {\r\n>         execute(namingService -> {\r\n>             if (isServiceNamesWithCompatibleMode(url)) {\r\n>                 List<Instance> allCorrespondingInstanceList = Lists.newArrayList();\r\n> \r\n>                 /**\r\n>                  * Get all instances with serviceNames to avoid instance overwrite and but with empty instance mentioned\r\n>                  * in https://github.com/apache/dubbo/issues/5885 and https://github.com/apache/dubbo/issues/5899\r\n>                  *\r\n>                  * namingService.getAllInstances with {@link org.apache.dubbo.registry.support.AbstractRegistry#registryUrl}\r\n>                  * default {@link DEFAULT_GROUP}\r\n>                  *\r\n>                  * in https://github.com/apache/dubbo/issues/5978\r\n>                  */\r\n>                 for (String serviceName : serviceNames) {\r\n>                     List<Instance> instances = namingService.getAllInstances(serviceName,\r\n>                             getUrl().getParameter(GROUP_KEY, Constants.DEFAULT_GROUP));\r\n>                     NacosInstanceManageUtil.initOrRefreshServiceInstanceList(serviceName, instances);\r\n>                     allCorrespondingInstanceList.addAll(instances);\r\n>                 }\r\n>                 notifySubscriber(url, listener, allCorrespondingInstanceList);\r\n>                 for (String serviceName : serviceNames) {\r\n>                     subscribeEventListener(serviceName, url, listener);\r\n>                 }\r\n>             } else {\r\n>                 List<Instance> instances = new LinkedList<>();\r\n>                 for (String serviceName : serviceNames) {\r\n>                     instances.addAll(namingService.getAllInstances(serviceName\r\n>                             , getUrl().getParameter(GROUP_KEY, Constants.DEFAULT_GROUP)));\r\n>                     notifySubscriber(url, listener, instances);\r\n>                     subscribeEventListener(serviceName, url, listener);\r\n>                 }\r\n>             }\r\n> \r\n>         });\r\n>     }\r\n> ```\r\n> \r\n> 上面有段很好的注释 ，**Get all instances with serviceNames to avoid instance overwrite and but with empty instance mentioned**获取所有的serviceNames 的实例，防止被空的实例覆盖。看起来好像没有问题。 但是下面的循环serviceNames订阅\r\n> \r\n> ```java\r\n>  for (String serviceName : serviceNames) {\r\n>                     subscribeEventListener(serviceName, url, listener);\r\n>   }\r\n> ```\r\n> \r\n> 但是注册中心为nacos时 这里来到了nacos客户端 版本为1.3.3时\r\n> \r\n> ```java\r\n> public void addListener(ServiceInfo serviceInfo, String clusters, EventListener listener) {\r\n>         \r\n>         NAMING_LOGGER.info(\"[LISTENER] adding \" + serviceInfo.getName() + \" with \" + clusters + \" to listener map\");\r\n>         List<EventListener> observers = Collections.synchronizedList(new ArrayList<EventListener>());\r\n>         observers.add(listener);\r\n>         \r\n>         observers = observerMap.putIfAbsent(ServiceInfo.getKey(serviceInfo.getName(), clusters), observers);\r\n>         if (observers != null) {\r\n>             observers.add(listener);\r\n>         }\r\n>         \r\n>         serviceChanged(serviceInfo);\r\n>     }\r\n>     \r\n> ```\r\n> \r\n> 会发现在第一次添加监听器时还是会触发serviceChange，进而触发notify，重新刷新invoker，由于实例为空的服务名也被订阅，那么这时候还是可能会发生被空的实例覆盖的情况。\r\n\r\n问一下您，看您的描述，即使升级到“生产和消费者都是升级了最新版的2.7.16，另外nacos-client为1.3.3时有问题，测试nacos-client版本为2.0.4已经没有问题了”您说的这种情况中的dubbo-2.7.16，nacos-2.0.4，还是会订阅一个空服务，这个空服务对应的接口还是同一个URL，这个时候难道就不会出现No provider available？；换另一个角度来说最好的解决方法还是需要提供group version值是最完美的解决方法是吗？期待您的回复，这个No provider available困扰我很久了","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263358980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263422988","html_url":"https://github.com/apache/dubbo/issues/10558#issuecomment-1263422988","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10558","id":1263422988,"node_id":"IC_kwDOAEfiCM5LTk4M","user":{"login":"owen200008","id":7434837,"node_id":"MDQ6VXNlcjc0MzQ4Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/7434837?v=4","gravatar_id":"","url":"https://api.github.com/users/owen200008","html_url":"https://github.com/owen200008","followers_url":"https://api.github.com/users/owen200008/followers","following_url":"https://api.github.com/users/owen200008/following{/other_user}","gists_url":"https://api.github.com/users/owen200008/gists{/gist_id}","starred_url":"https://api.github.com/users/owen200008/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/owen200008/subscriptions","organizations_url":"https://api.github.com/users/owen200008/orgs","repos_url":"https://api.github.com/users/owen200008/repos","events_url":"https://api.github.com/users/owen200008/events{/privacy}","received_events_url":"https://api.github.com/users/owen200008/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T10:52:42Z","updated_at":"2022-09-30T10:52:42Z","author_association":"CONTRIBUTOR","body":"已经的准备提交的features\r\n1. WriteQueue支持enqueueSoon模式（减少flush的次数）\r\n2. Client里面的UNARY下去掉EndStreamQueueCommand，参考grpc在data的frame已经描述了endstream（服务端会少一次schedule调度）\r\n\r\n今天做了几个测试\r\n1. 服务端不使用SerializationExec线程，直接在Netty线程下做，效率从4500提升到6000左右（+40%），调度影响性能\r\n2. tri client增加filter直接使用grpc代替底层的实现调用，性能基本4500提升到5600左右（+35%），如果把服务端换成grpc的实现还是可以到7500（基本等于grpc客户端调用grpc服务端），5500=>7500这部分应该是服务端的性能损失，结合1的情况，grpc一共两次调度，目前tri是3次调度，最后一次是无效的EndStreamQueueCommand","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263422988/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263623196","html_url":"https://github.com/apache/dubbo/issues/10571#issuecomment-1263623196","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10571","id":1263623196,"node_id":"IC_kwDOAEfiCM5LUVwc","user":{"login":"ningboliu","id":30331180,"node_id":"MDQ6VXNlcjMwMzMxMTgw","avatar_url":"https://avatars.githubusercontent.com/u/30331180?v=4","gravatar_id":"","url":"https://api.github.com/users/ningboliu","html_url":"https://github.com/ningboliu","followers_url":"https://api.github.com/users/ningboliu/followers","following_url":"https://api.github.com/users/ningboliu/following{/other_user}","gists_url":"https://api.github.com/users/ningboliu/gists{/gist_id}","starred_url":"https://api.github.com/users/ningboliu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ningboliu/subscriptions","organizations_url":"https://api.github.com/users/ningboliu/orgs","repos_url":"https://api.github.com/users/ningboliu/repos","events_url":"https://api.github.com/users/ningboliu/events{/privacy}","received_events_url":"https://api.github.com/users/ningboliu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T14:06:59Z","updated_at":"2022-09-30T14:13:32Z","author_association":"CONTRIBUTOR","body":"当前进展，参考go 简单编码完成，基准测试不是很理想\r\n\r\n```\r\n测试环境\r\nLinux version 3.10.0-1127.el7.x86_64\r\n4C8G \r\njava version \"11.0.16.1\"\r\n```\r\n\r\n<img width=\"590\" alt=\"image\" src=\"https://user-images.githubusercontent.com/30331180/193287445-9de14d89-c193-4f1c-b7b7-a65178d494f4.png\">\r\n需要进一步优化看看，\r\n另外讨论后，还需和可观测性结合。\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263623196/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263723001","html_url":"https://github.com/apache/dubbo/issues/10687#issuecomment-1263723001","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10687","id":1263723001,"node_id":"IC_kwDOAEfiCM5LUuH5","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T15:32:31Z","updated_at":"2022-09-30T15:32:31Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/dubbo-spi-extensions/pull/142","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263723001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263869164","html_url":"https://github.com/apache/dubbo/pull/10672#issuecomment-1263869164","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10672","id":1263869164,"node_id":"IC_kwDOAEfiCM5LVRzs","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-09-30T18:07:24Z","updated_at":"2022-10-13T04:44:42Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10672?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10672](https://codecov.io/gh/apache/dubbo/pull/10672?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5b2084e) into [3.1](https://codecov.io/gh/apache/dubbo/commit/a66f5126745858f393c67c15d9a84f9e60405aba?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a66f512) will **decrease** coverage by `0.12%`.\n> The diff coverage is `57.98%`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.1   #10672      +/-   ##\n============================================\n- Coverage     65.25%   65.13%   -0.13%     \n  Complexity      494      494              \n============================================\n  Files          1336     1339       +3     \n  Lines         56930    57427     +497     \n  Branches       8421     8482      +61     \n============================================\n+ Hits          37151    37406     +255     \n- Misses        15831    16014     +183     \n- Partials       3948     4007      +59     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10672?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...bo/rpc/protocol/tri/stream/TripleClientStream.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvc3RyZWFtL1RyaXBsZUNsaWVudFN0cmVhbS5qYXZh) | `53.79% <50.00%> (ø)` | |\n| [...rpc/protocol/tri/TriHttp2RemoteFlowController.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvVHJpSHR0cDJSZW1vdGVGbG93Q29udHJvbGxlci5qYXZh) | `51.79% <51.79%> (ø)` | |\n| [.../rpc/protocol/tri/TriHttp2LocalFlowController.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvVHJpSHR0cDJMb2NhbEZsb3dDb250cm9sbGVyLmphdmE=) | `55.24% <55.24%> (ø)` | |\n| [...dubbo/rpc/protocol/tri/TripleFlowControlFrame.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvVHJpcGxlRmxvd0NvbnRyb2xGcmFtZS5qYXZh) | `61.90% <61.90%> (ø)` | |\n| [.../protocol/tri/call/BiStreamServerCallListener.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvY2FsbC9CaVN0cmVhbVNlcnZlckNhbGxMaXN0ZW5lci5qYXZh) | `70.37% <66.66%> (-4.63%)` | :arrow_down: |\n| [.../protocol/tri/call/AbstractServerCallListener.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvY2FsbC9BYnN0cmFjdFNlcnZlckNhbGxMaXN0ZW5lci5qYXZh) | `63.63% <75.00%> (+1.13%)` | :arrow_up: |\n| [...tocol/tri/call/ServerStreamServerCallListener.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvY2FsbC9TZXJ2ZXJTdHJlYW1TZXJ2ZXJDYWxsTGlzdGVuZXIuamF2YQ==) | `76.47% <80.00%> (+3.74%)` | :arrow_up: |\n| [...pache/dubbo/rpc/protocol/tri/frame/TriDecoder.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvZnJhbWUvVHJpRGVjb2Rlci5qYXZh) | `83.58% <91.66%> (+2.22%)` | :arrow_up: |\n| [...he/dubbo/rpc/protocol/tri/TripleHttp2Protocol.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvVHJpcGxlSHR0cDJQcm90b2NvbC5qYXZh) | `92.30% <100.00%> (+0.64%)` | :arrow_up: |\n| [...ubbo/rpc/protocol/tri/call/AbstractServerCall.java](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvY2FsbC9BYnN0cmFjdFNlcnZlckNhbGwuamF2YQ==) | `51.95% <100.00%> (+0.54%)` | :arrow_up: |\n| ... and [19 more](https://codecov.io/gh/apache/dubbo/pull/10672/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1263869164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1264573052","html_url":"https://github.com/apache/dubbo/issues/10652#issuecomment-1264573052","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10652","id":1264573052,"node_id":"IC_kwDOAEfiCM5LX9p8","user":{"login":"liuzhiguo630","id":9815635,"node_id":"MDQ6VXNlcjk4MTU2MzU=","avatar_url":"https://avatars.githubusercontent.com/u/9815635?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzhiguo630","html_url":"https://github.com/liuzhiguo630","followers_url":"https://api.github.com/users/liuzhiguo630/followers","following_url":"https://api.github.com/users/liuzhiguo630/following{/other_user}","gists_url":"https://api.github.com/users/liuzhiguo630/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzhiguo630/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzhiguo630/subscriptions","organizations_url":"https://api.github.com/users/liuzhiguo630/orgs","repos_url":"https://api.github.com/users/liuzhiguo630/repos","events_url":"https://api.github.com/users/liuzhiguo630/events{/privacy}","received_events_url":"https://api.github.com/users/liuzhiguo630/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-02T07:24:43Z","updated_at":"2022-10-02T07:24:43Z","author_association":"NONE","body":"@JihanChen 加启动参数`-Ddubbo.shutdownHook.listenIgnore=true`","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1264573052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1264573264","html_url":"https://github.com/apache/dubbo/issues/10652#issuecomment-1264573264","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10652","id":1264573264,"node_id":"IC_kwDOAEfiCM5LX9tQ","user":{"login":"liuzhiguo630","id":9815635,"node_id":"MDQ6VXNlcjk4MTU2MzU=","avatar_url":"https://avatars.githubusercontent.com/u/9815635?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzhiguo630","html_url":"https://github.com/liuzhiguo630","followers_url":"https://api.github.com/users/liuzhiguo630/followers","following_url":"https://api.github.com/users/liuzhiguo630/following{/other_user}","gists_url":"https://api.github.com/users/liuzhiguo630/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzhiguo630/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzhiguo630/subscriptions","organizations_url":"https://api.github.com/users/liuzhiguo630/orgs","repos_url":"https://api.github.com/users/liuzhiguo630/repos","events_url":"https://api.github.com/users/liuzhiguo630/events{/privacy}","received_events_url":"https://api.github.com/users/liuzhiguo630/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-02T07:26:04Z","updated_at":"2022-10-02T07:26:04Z","author_association":"NONE","body":"@pandaapo  试试开启 triple 协议或 dubbo + triple 双协议","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1264573264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1264643282","html_url":"https://github.com/apache/dubbo/issues/10596#issuecomment-1264643282","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10596","id":1264643282,"node_id":"IC_kwDOAEfiCM5LYOzS","user":{"login":"azhsmesos","id":65518067,"node_id":"MDQ6VXNlcjY1NTE4MDY3","avatar_url":"https://avatars.githubusercontent.com/u/65518067?v=4","gravatar_id":"","url":"https://api.github.com/users/azhsmesos","html_url":"https://github.com/azhsmesos","followers_url":"https://api.github.com/users/azhsmesos/followers","following_url":"https://api.github.com/users/azhsmesos/following{/other_user}","gists_url":"https://api.github.com/users/azhsmesos/gists{/gist_id}","starred_url":"https://api.github.com/users/azhsmesos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/azhsmesos/subscriptions","organizations_url":"https://api.github.com/users/azhsmesos/orgs","repos_url":"https://api.github.com/users/azhsmesos/repos","events_url":"https://api.github.com/users/azhsmesos/events{/privacy}","received_events_url":"https://api.github.com/users/azhsmesos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-02T13:22:42Z","updated_at":"2022-10-02T13:22:42Z","author_association":"NONE","body":"thanks","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1264643282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1267793139","html_url":"https://github.com/apache/dubbo/pull/10702#issuecomment-1267793139","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10702","id":1267793139,"node_id":"IC_kwDOAEfiCM5LkPzz","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-05T01:17:25Z","updated_at":"2022-10-05T01:38:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10702?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10702](https://codecov.io/gh/apache/dubbo/pull/10702?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a4dbcfd) into [3.1](https://codecov.io/gh/apache/dubbo/commit/e8ba279f8c5935a371ea37cf2737ea8f5240c524?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e8ba279) will **increase** coverage by `0.00%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@            Coverage Diff            @@\n##                3.1   #10702   +/-   ##\n=========================================\n  Coverage     65.27%   65.27%           \n- Complexity      492      495    +3     \n=========================================\n  Files          1336     1336           \n  Lines         56932    56932           \n  Branches       8438     8438           \n=========================================\n+ Hits          37161    37162    +1     \n- Misses        15808    15809    +1     \n+ Partials       3963     3961    -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10702?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...ng/exchange/support/header/HeartbeatTimerTask.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L2hlYWRlci9IZWFydGJlYXRUaW1lclRhc2suamF2YQ==) | `70.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...e/dubbo/rpc/protocol/tri/transport/WriteQueue.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvdHJhbnNwb3J0L1dyaXRlUXVldWUuamF2YQ==) | `73.80% <0.00%> (-4.77%)` | :arrow_down: |\n| [...dubbo/remoting/exchange/support/DefaultFuture.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L0RlZmF1bHRGdXR1cmUuamF2YQ==) | `87.93% <0.00%> (-4.32%)` | :arrow_down: |\n| [...etadata/report/support/AbstractMetadataReport.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tbWV0YWRhdGEvZHViYm8tbWV0YWRhdGEtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9tZXRhZGF0YS9yZXBvcnQvc3VwcG9ydC9BYnN0cmFjdE1ldGFkYXRhUmVwb3J0LmphdmE=) | `69.09% <0.00%> (-2.28%)` | :arrow_down: |\n| [...dubbo/rpc/cluster/directory/AbstractDirectory.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY2x1c3Rlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL2NsdXN0ZXIvZGlyZWN0b3J5L0Fic3RyYWN0RGlyZWN0b3J5LmphdmE=) | `80.51% <0.00%> (-1.95%)` | :arrow_down: |\n| [...apache/dubbo/rpc/protocol/dubbo/DubboProtocol.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1kdWJiby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL3Byb3RvY29sL2R1YmJvL0R1YmJvUHJvdG9jb2wuamF2YQ==) | `62.93% <0.00%> (-0.70%)` | :arrow_down: |\n| [...vent/listener/ServiceInstancesChangedListener.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvZXZlbnQvbGlzdGVuZXIvU2VydmljZUluc3RhbmNlc0NoYW5nZWRMaXN0ZW5lci5qYXZh) | `77.14% <0.00%> (-0.41%)` | :arrow_down: |\n| [...n/java/org/apache/dubbo/common/utils/NetUtils.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTmV0VXRpbHMuamF2YQ==) | `62.94% <0.00%> (-0.28%)` | :arrow_down: |\n| [...java/org/apache/dubbo/remoting/api/Connection.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9hcGkvQ29ubmVjdGlvbi5qYXZh) | `80.83% <0.00%> (+0.83%)` | :arrow_up: |\n| [...ng/zookeeper/curator5/Curator5ZookeeperClient.java](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3Rpbmctem9va2VlcGVyLWN1cmF0b3I1L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvY3VyYXRvcjUvQ3VyYXRvcjVab29rZWVwZXJDbGllbnQuamF2YQ==) | `70.28% <0.00%> (+0.94%)` | :arrow_up: |\n| ... and [6 more](https://codecov.io/gh/apache/dubbo/pull/10702/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1267793139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272185545","html_url":"https://github.com/apache/dubbo/issues/10393#issuecomment-1272185545","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10393","id":1272185545,"node_id":"IC_kwDOAEfiCM5L1ALJ","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T01:07:19Z","updated_at":"2022-10-08T01:08:11Z","author_association":"MEMBER","body":" @huwenming-saw \r\n\r\n> 还是会订阅一个空服务，这个空服务对应的接口还是同一个URL，这个时候难道就不会出现No provider available？\r\n\r\n这个取决于 nacos 是否会主动推空，这块取决于 nacos 的缓存与版本。2.7.17 及以后的版本在 Dubbo 侧做了过滤，防止空覆盖。\r\n\r\n> 换另一个角度来说最好的解决方法还是需要提供group version值是最完美的解决方法是吗？\r\n\r\nDubbo 默认就是支持空 group、version 的，只是在实践中指定了 group、version 可以更好地实现服务管理。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272185545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272192131","html_url":"https://github.com/apache/dubbo/issues/10703#issuecomment-1272192131","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10703","id":1272192131,"node_id":"IC_kwDOAEfiCM5L1ByD","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T01:39:38Z","updated_at":"2022-10-08T01:39:38Z","author_association":"MEMBER","body":"dubbo-dependencies-bom 是 dubbo 内部管理版本号的一个模块。\r\n\r\n用户使用 dubbo 有两种方式，一种是使用 all in one 的 dubbo-all（`<dependencies> <dependency> <groupId>org.apache.dubbo</groupId> <artifactId>dubbo</artifactId> <version>${dubbo.version}</version> </dependency>`），另外一种是直接 dubbo 每个组件直接依赖。\r\n\r\n前者会有部分的传递依赖（如 netty 等核心组件），这些的版本会和 dubbo-dependencies-bom 一致，其他的依赖（如 nacos-client 等扩展组件）需要用户手动依赖，也可以依赖 dubbo-dependencies-bom 进行版本管理。\r\n\r\n后者组件直接依赖的三方依赖会直接传递，版本会和 dubbo-dependencies-bom 一致。\r\n\r\n总的来说，dubbo-dependencies-bom 是 dubbo 为了集中管理版本号而设计的。另外 dubbo-bom 是一个对外的管理所有 dubbo 依赖（包括 dubbo 自己的）bom，比 dubbo-dependencies-bom 管理职责更大。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272192131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272192708","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272192708","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272192708,"node_id":"IC_kwDOAEfiCM5L1B7E","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T01:43:00Z","updated_at":"2022-10-08T01:43:00Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/31852897/194681426-28dcb7e2-d176-472a-8bb0-ddeeeda8f74e.png)\r\n只要是injvm 获取url全都是null 导致后续所有操作全都报null","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272192708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272193488","html_url":"https://github.com/apache/dubbo/pull/10698#issuecomment-1272193488","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10698","id":1272193488,"node_id":"IC_kwDOAEfiCM5L1CHQ","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T01:47:56Z","updated_at":"2022-10-08T01:58:20Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10698?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10698](https://codecov.io/gh/apache/dubbo/pull/10698?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (a6526db) into [3.1](https://codecov.io/gh/apache/dubbo/commit/58e150422f2247e01302ecbb72c7a3b447774cbb?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (58e1504) will **decrease** coverage by `0.01%`.\n> The diff coverage is `100.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.1   #10698      +/-   ##\n============================================\n- Coverage     65.21%   65.20%   -0.02%     \n- Complexity      493      494       +1     \n============================================\n  Files          1336     1336              \n  Lines         56922    56936      +14     \n  Branches       8436     8438       +2     \n============================================\n+ Hits          37124    37126       +2     \n- Misses        15827    15841      +14     \n+ Partials       3971     3969       -2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10698?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...nnotation/AbstractAnnotationBeanPostProcessor.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29uZmlnL2R1YmJvLWNvbmZpZy1zcHJpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL2NvbmZpZy9zcHJpbmcvYmVhbnMvZmFjdG9yeS9hbm5vdGF0aW9uL0Fic3RyYWN0QW5ub3RhdGlvbkJlYW5Qb3N0UHJvY2Vzc29yLmphdmE=) | `74.61% <ø> (ø)` | |\n| [...notation/ReferenceAnnotationBeanPostProcessor.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29uZmlnL2R1YmJvLWNvbmZpZy1zcHJpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL2NvbmZpZy9zcHJpbmcvYmVhbnMvZmFjdG9yeS9hbm5vdGF0aW9uL1JlZmVyZW5jZUFubm90YXRpb25CZWFuUG9zdFByb2Nlc3Nvci5qYXZh) | `86.19% <100.00%> (+0.26%)` | :arrow_up: |\n| [...nt/metadata/ServiceInstanceHostPortCustomizer.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvbWV0YWRhdGEvU2VydmljZUluc3RhbmNlSG9zdFBvcnRDdXN0b21pemVyLmphdmE=) | `65.78% <0.00%> (-21.06%)` | :arrow_down: |\n| [.../remoting/transport/netty4/NettyServerHandler.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHk0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvbmV0dHk0L05ldHR5U2VydmVySGFuZGxlci5qYXZh) | `63.63% <0.00%> (-9.10%)` | :arrow_down: |\n| [.../common/threadpool/serial/SerializingExecutor.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9zZXJpYWwvU2VyaWFsaXppbmdFeGVjdXRvci5qYXZh) | `72.41% <0.00%> (-6.90%)` | :arrow_down: |\n| [...etadata/report/support/AbstractMetadataReport.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tbWV0YWRhdGEvZHViYm8tbWV0YWRhdGEtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9tZXRhZGF0YS9yZXBvcnQvc3VwcG9ydC9BYnN0cmFjdE1ldGFkYXRhUmVwb3J0LmphdmE=) | `69.09% <0.00%> (-2.28%)` | :arrow_down: |\n| [...g/apache/dubbo/config/AbstractReferenceConfig.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb25maWcvQWJzdHJhY3RSZWZlcmVuY2VDb25maWcuamF2YQ==) | `84.50% <0.00%> (-2.26%)` | :arrow_down: |\n| [...ng/zookeeper/curator5/Curator5ZookeeperClient.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3Rpbmctem9va2VlcGVyLWN1cmF0b3I1L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvY3VyYXRvcjUvQ3VyYXRvcjVab29rZWVwZXJDbGllbnQuamF2YQ==) | `69.33% <0.00%> (-1.89%)` | :arrow_down: |\n| [...pache/dubbo/registry/support/AbstractRegistry.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9zdXBwb3J0L0Fic3RyYWN0UmVnaXN0cnkuamF2YQ==) | `67.10% <0.00%> (-0.99%)` | :arrow_down: |\n| [...java/org/apache/dubbo/remoting/api/Connection.java](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9hcGkvQ29ubmVjdGlvbi5qYXZh) | `80.83% <0.00%> (-0.84%)` | :arrow_down: |\n| ... and [14 more](https://codecov.io/gh/apache/dubbo/pull/10698/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272193488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272193787","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272193787","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272193787,"node_id":"IC_kwDOAEfiCM5L1CL7","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T01:49:55Z","updated_at":"2022-10-08T01:49:55Z","author_association":"CONTRIBUTOR","body":"![image](https://user-images.githubusercontent.com/31852897/194681608-5beb2b6e-9085-4c00-8d8e-f722131f7b7b.png)","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272193787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272194972","html_url":"https://github.com/apache/dubbo/pull/10701#issuecomment-1272194972","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10701","id":1272194972,"node_id":"IC_kwDOAEfiCM5L1Cec","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T01:56:51Z","updated_at":"2022-10-08T02:00:00Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10701?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10701](https://codecov.io/gh/apache/dubbo/pull/10701?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f9e8b5c) into [3.1](https://codecov.io/gh/apache/dubbo/commit/e8ba279f8c5935a371ea37cf2737ea8f5240c524?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e8ba279) will **decrease** coverage by `0.13%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.1   #10701      +/-   ##\n============================================\n- Coverage     65.27%   65.14%   -0.14%     \n+ Complexity      492      470      -22     \n============================================\n  Files          1336     1336              \n  Lines         56932    56932              \n  Branches       8438     8437       -1     \n============================================\n- Hits          37161    37086      -75     \n- Misses        15808    15877      +69     \n- Partials       3963     3969       +6     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10701?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...nt/metadata/ServiceInstanceHostPortCustomizer.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvbWV0YWRhdGEvU2VydmljZUluc3RhbmNlSG9zdFBvcnRDdXN0b21pemVyLmphdmE=) | `65.78% <0.00%> (-21.06%)` | :arrow_down: |\n| [...e/dubbo/rpc/protocol/tri/transport/WriteQueue.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvdHJhbnNwb3J0L1dyaXRlUXVldWUuamF2YQ==) | `64.28% <0.00%> (-14.29%)` | :arrow_down: |\n| [...dubbo/common/threadpool/MemoryLimitCalculator.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9NZW1vcnlMaW1pdENhbGN1bGF0b3IuamF2YQ==) | `50.00% <0.00%> (-13.64%)` | :arrow_down: |\n| [...mmon/threadpool/support/AbortPolicyWithReport.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9zdXBwb3J0L0Fib3J0UG9saWN5V2l0aFJlcG9ydC5qYXZh) | `73.68% <0.00%> (-10.53%)` | :arrow_down: |\n| [.../remoting/transport/netty4/NettyServerHandler.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHk0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvbmV0dHk0L05ldHR5U2VydmVySGFuZGxlci5qYXZh) | `63.63% <0.00%> (-9.10%)` | :arrow_down: |\n| [...dubbo/common/status/support/LoadStatusChecker.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vc3RhdHVzL3N1cHBvcnQvTG9hZFN0YXR1c0NoZWNrZXIuamF2YQ==) | `58.33% <0.00%> (-8.34%)` | :arrow_down: |\n| [...ava/org/apache/dubbo/rpc/proxy/InvocationUtil.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm94eS9JbnZvY2F0aW9uVXRpbC5qYXZh) | `84.84% <0.00%> (-6.07%)` | :arrow_down: |\n| [...dubbo/remoting/exchange/support/DefaultFuture.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L0RlZmF1bHRGdXR1cmUuamF2YQ==) | `87.06% <0.00%> (-5.18%)` | :arrow_down: |\n| [...ng/exchange/support/header/HeartbeatTimerTask.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9leGNoYW5nZS9zdXBwb3J0L2hlYWRlci9IZWFydGJlYXRUaW1lclRhc2suamF2YQ==) | `70.00% <0.00%> (-5.00%)` | :arrow_down: |\n| [...ubbo/common/system/OperatingSystemBeanManager.java](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vc3lzdGVtL09wZXJhdGluZ1N5c3RlbUJlYW5NYW5hZ2VyLmphdmE=) | `50.00% <0.00%> (-4.55%)` | :arrow_down: |\n| ... and [19 more](https://codecov.io/gh/apache/dubbo/pull/10701/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272194972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272195053","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272195053","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272195053,"node_id":"IC_kwDOAEfiCM5L1Cft","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T01:57:21Z","updated_at":"2022-10-08T01:57:21Z","author_association":"MEMBER","body":"org/apache/dubbo/rpc/filter/ContextFilter.java:95 看一下这个地方有没有设置进去","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272195053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272197201","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272197201","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272197201,"node_id":"IC_kwDOAEfiCM5L1DBR","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T02:09:14Z","updated_at":"2022-10-08T02:09:14Z","author_association":"CONTRIBUTOR","body":"> org/apache/dubbo/rpc/filter/ContextFilter.java:95 看一下这个地方有没有设置进去\r\n\r\n![image](https://user-images.githubusercontent.com/31852897/194682666-9b05c3bf-829c-431a-813c-280870ee4a31.png)\r\n这个只有PROVIDER有效 我现在想在CONSUMER打日志 拿不到数据","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272197201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272203848","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1272203848","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1272203848,"node_id":"IC_kwDOAEfiCM5L1EpI","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T02:37:31Z","updated_at":"2022-10-08T02:37:31Z","author_association":"MEMBER","body":"> > \r\n> \r\n> > > 3.0.7版本也存在这个问题，有解决的吗？\r\n> > \r\n> > \r\n> > 可以提一个可以复现的 samples 吗\r\n> \r\n> 有的，https://github.com/lolua/dubbo-samples\r\n\r\n版本升级到 3.1.1 是可以通过测试的，应该是之前的版本在服务多订阅的时候推送不全导致的。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272203848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272204192","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272204192","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272204192,"node_id":"IC_kwDOAEfiCM5L1Eug","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T02:39:42Z","updated_at":"2022-10-08T02:39:42Z","author_association":"MEMBER","body":"org/apache/dubbo/rpc/cluster/filter/support/ConsumerContextFilter.java:66\r\nconsumer 应该是这个","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272204192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272204483","html_url":"https://github.com/apache/dubbo/issues/10694#issuecomment-1272204483","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10694","id":1272204483,"node_id":"IC_kwDOAEfiCM5L1EzD","user":{"login":"neverlaughtingboy","id":19867847,"node_id":"MDQ6VXNlcjE5ODY3ODQ3","avatar_url":"https://avatars.githubusercontent.com/u/19867847?v=4","gravatar_id":"","url":"https://api.github.com/users/neverlaughtingboy","html_url":"https://github.com/neverlaughtingboy","followers_url":"https://api.github.com/users/neverlaughtingboy/followers","following_url":"https://api.github.com/users/neverlaughtingboy/following{/other_user}","gists_url":"https://api.github.com/users/neverlaughtingboy/gists{/gist_id}","starred_url":"https://api.github.com/users/neverlaughtingboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neverlaughtingboy/subscriptions","organizations_url":"https://api.github.com/users/neverlaughtingboy/orgs","repos_url":"https://api.github.com/users/neverlaughtingboy/repos","events_url":"https://api.github.com/users/neverlaughtingboy/events{/privacy}","received_events_url":"https://api.github.com/users/neverlaughtingboy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T02:41:12Z","updated_at":"2022-10-08T02:41:12Z","author_association":"NONE","body":"> 注册中心推送是有时延的，在注册中心推送完成前还会有调用\r\n\r\n那这方面有基于 k8s 部署场景下的 dubbo 服务优雅退出的最佳实践吗","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272204483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272204849","html_url":"https://github.com/apache/dubbo/issues/10694#issuecomment-1272204849","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10694","id":1272204849,"node_id":"IC_kwDOAEfiCM5L1E4x","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T02:43:23Z","updated_at":"2022-10-08T02:43:23Z","author_association":"MEMBER","body":"k8s 基于 post 脚本先调用 dubbo qos 的 offline 推送下线信息，等待一段时间后再关闭进程","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272204849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272208751","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272208751","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272208751,"node_id":"IC_kwDOAEfiCM5L1F1v","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:04:35Z","updated_at":"2022-10-08T03:04:35Z","author_association":"CONTRIBUTOR","body":"> org/apache/dubbo/rpc/cluster/filter/support/ConsumerContextFilter.java:66 consumer 应该是这个\r\n\r\n还没等执行到这个类的时候 就已经执行上面的方法并报错了","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272208751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272208864","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272208864","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272208864,"node_id":"IC_kwDOAEfiCM5L1F3g","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:05:17Z","updated_at":"2022-10-08T03:05:17Z","author_association":"MEMBER","body":"> > org/apache/dubbo/rpc/cluster/filter/support/ConsumerContextFilter.java:66 consumer 应该是这个\r\n> \r\n> 还没等执行到这个类的时候 就已经执行上面的方法并报错了\r\n\r\n你的 order 是不是 min-value","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272208864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272208959","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272208959","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272208959,"node_id":"IC_kwDOAEfiCM5L1F4_","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:05:50Z","updated_at":"2022-10-08T03:05:50Z","author_association":"CONTRIBUTOR","body":"> > > org/apache/dubbo/rpc/cluster/filter/support/ConsumerContextFilter.java:66 consumer 应该是这个\r\n> > \r\n> > \r\n> > 还没等执行到这个类的时候 就已经执行上面的方法并报错了\r\n> \r\n> 你的 order 是不是 min-value\r\n\r\n并不是 没有设置order用的默认的","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272208959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272209096","html_url":"https://github.com/apache/dubbo/issues/10608#issuecomment-1272209096","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10608","id":1272209096,"node_id":"IC_kwDOAEfiCM5L1F7I","user":{"login":"JunJieLiu51520","id":42363259,"node_id":"MDQ6VXNlcjQyMzYzMjU5","avatar_url":"https://avatars.githubusercontent.com/u/42363259?v=4","gravatar_id":"","url":"https://api.github.com/users/JunJieLiu51520","html_url":"https://github.com/JunJieLiu51520","followers_url":"https://api.github.com/users/JunJieLiu51520/followers","following_url":"https://api.github.com/users/JunJieLiu51520/following{/other_user}","gists_url":"https://api.github.com/users/JunJieLiu51520/gists{/gist_id}","starred_url":"https://api.github.com/users/JunJieLiu51520/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JunJieLiu51520/subscriptions","organizations_url":"https://api.github.com/users/JunJieLiu51520/orgs","repos_url":"https://api.github.com/users/JunJieLiu51520/repos","events_url":"https://api.github.com/users/JunJieLiu51520/events{/privacy}","received_events_url":"https://api.github.com/users/JunJieLiu51520/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:06:45Z","updated_at":"2022-10-08T03:06:45Z","author_association":"CONTRIBUTOR","body":"> triple协议正常 在AbstractServerCallListener#invoke的finally执行了RpcContext.removeContext()，dubbo协议没有该操作\r\n![image](https://user-images.githubusercontent.com/42363259/194685045-0a03f790-bbde-47dc-9d91-af9e2712b1c2.png)\r\n\r\n我咋看的dubbo 协议都是有的呢，反而是3.0没了\r\n![image](https://user-images.githubusercontent.com/42363259/194685098-f3149957-44e0-4ca7-a58c-0cd38b3c2ead.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272209096/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272210707","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272210707","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272210707,"node_id":"IC_kwDOAEfiCM5L1GUT","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:15:33Z","updated_at":"2022-10-08T03:15:33Z","author_association":"MEMBER","body":"> > > > org/apache/dubbo/rpc/cluster/filter/support/ConsumerContextFilter.java:66 consumer 应该是这个\r\n> > > \r\n> > > \r\n> > > 还没等执行到这个类的时候 就已经执行上面的方法并报错了\r\n> > \r\n> > \r\n> > 你的 order 是不是 min-value\r\n> \r\n> 并不是 没有设置order用的默认的\r\n\r\nFilter 整个定义脱敏后发一下","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272210707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272211834","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272211834","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272211834,"node_id":"IC_kwDOAEfiCM5L1Gl6","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:21:43Z","updated_at":"2022-11-21T03:16:15Z","author_association":"CONTRIBUTOR","body":"> > > > > org/apache/dubbo/rpc/cluster/filter/support/ConsumerContextFilter.java:66 consumer 应该是这个\r\n> > > > \r\n> > > > \r\n> > > > 还没等执行到这个类的时候 就已经执行上面的方法并报错了\r\n> > > \r\n> > > \r\n> > > 你的 order 是不是 min-value\r\n> > \r\n> > \r\n> > 并不是 没有设置order用的默认的\r\n> \r\n> Filter 整个定义脱敏后发一下\r\n\r\n```java\r\n/**\r\n * dubbo日志过滤器\r\n *\r\n * @author Lion Li\r\n */\r\n@Slf4j\r\n@Activate(group = {CommonConstants.PROVIDER, CommonConstants.CONSUMER})\r\npublic class DubboRequestFilter implements Filter {\r\n\r\n    @Override\r\n    public Result invoke(Invoker<?> invoker, Invocation invocation) throws RpcException {\r\n        String client = CommonConstants.PROVIDER;\r\n        if (RpcContext.getServiceContext().isConsumerSide()) {\r\n            client = CommonConstants.CONSUMER;\r\n        }\r\n        String baselog = \"Client[\" + client + \"],InterfaceName=[\" + invocation.getInvoker().getInterface().getSimpleName() + \"],MethodName=[\" + invocation.getMethodName() + \"]\";\r\n        log.info(\"DUBBO - 服务调用: {},Parameter={}\", baselog, invocation.getArguments());\r\n\r\n        long startTime = System.currentTimeMillis();\r\n        // 执行接口调用逻辑\r\n        Result result = invoker.invoke(invocation);\r\n        // 调用耗时\r\n        long elapsed = System.currentTimeMillis() - startTime;\r\n        // 如果发生异常 则打印异常日志\r\n        if (result.hasException() && invoker.getInterface().equals(GenericService.class)) {\r\n            log.error(\"DUBBO - 服务异常: {},Exception={}\", baselog, result.getException());\r\n        } else {\r\n            log.info(\"DUBBO - 服务响应: {},SpendTime=[{}ms]\", baselog, elapsed);\r\n        }\r\n        return result;\r\n    }\r\n\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272211834/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272212016","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272212016","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272212016,"node_id":"IC_kwDOAEfiCM5L1Gow","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:22:37Z","updated_at":"2022-10-08T03:22:37Z","author_association":"CONTRIBUTOR","body":"> > > > > org/apache/dubbo/rpc/cluster/filter/support/ConsumerContextFilter.java:66 consumer 应该是这个\r\n> > > > \r\n> > > > \r\n> > > > 还没等执行到这个类的时候 就已经执行上面的方法并报错了\r\n> > > \r\n> > > \r\n> > > 你的 order 是不是 min-value\r\n> > \r\n> > \r\n> > 并不是 没有设置order用的默认的\r\n> \r\n> Filter 整个定义脱敏后发一下\r\n\r\n就拦截打印了一下日志 很简单的 filter","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272212016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272213667","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272213667","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272213667,"node_id":"IC_kwDOAEfiCM5L1HCj","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T03:32:08Z","updated_at":"2022-10-08T03:32:08Z","author_association":"MEMBER","body":"应该和 https://github.com/apache/dubbo/pull/9645 这个 PR 有关系，导致 Dubbo Cluster Filter 没生效，我看下是哪里导致的","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272213667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272248544","html_url":"https://github.com/apache/dubbo/issues/10694#issuecomment-1272248544","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10694","id":1272248544,"node_id":"IC_kwDOAEfiCM5L1Pjg","user":{"login":"neverlaughtingboy","id":19867847,"node_id":"MDQ6VXNlcjE5ODY3ODQ3","avatar_url":"https://avatars.githubusercontent.com/u/19867847?v=4","gravatar_id":"","url":"https://api.github.com/users/neverlaughtingboy","html_url":"https://github.com/neverlaughtingboy","followers_url":"https://api.github.com/users/neverlaughtingboy/followers","following_url":"https://api.github.com/users/neverlaughtingboy/following{/other_user}","gists_url":"https://api.github.com/users/neverlaughtingboy/gists{/gist_id}","starred_url":"https://api.github.com/users/neverlaughtingboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neverlaughtingboy/subscriptions","organizations_url":"https://api.github.com/users/neverlaughtingboy/orgs","repos_url":"https://api.github.com/users/neverlaughtingboy/repos","events_url":"https://api.github.com/users/neverlaughtingboy/events{/privacy}","received_events_url":"https://api.github.com/users/neverlaughtingboy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T07:02:52Z","updated_at":"2022-10-08T07:02:52Z","author_association":"NONE","body":"> k8s 基于 post 脚本先调用 dubbo qos 的 offline 推送下线信息，等待一段时间后再关闭进程\r\n\r\n这种场景下是不是最好还是用 -Ddubbo.shutdownHook.listenIgnore=true 禁用下自带的 DubboShutdownHook ，我看有的 issue 里提到 Spring Boot 环境下的停机和 DubboShutdownHook 监听 JVM 的 shutdownHook 的停机会有冲突","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272248544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272259098","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272259098","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272259098,"node_id":"IC_kwDOAEfiCM5L1SIa","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T08:01:38Z","updated_at":"2022-10-08T08:01:38Z","author_association":"MEMBER","body":"https://github.com/apache/dubbo/pull/10707 这个我先 revert 了","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272259098/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272259677","html_url":"https://github.com/apache/dubbo/pull/9645#issuecomment-1272259677","issue_url":"https://api.github.com/repos/apache/dubbo/issues/9645","id":1272259677,"node_id":"IC_kwDOAEfiCM5L1SRd","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T08:04:05Z","updated_at":"2022-10-08T08:04:05Z","author_association":"MEMBER","body":"这个PR会导致 ClusterFilter 在 Filter 之后工作。\r\n\r\nFilter 的织入是在 org.apache.dubbo.rpc.cluster.filter.ProtocolFilterWrapper，而 PR 修改完 ClusterFilter 是在 org.apache.dubbo.rpc.protocol.injvm.InjvmProtocol#doCreateInvoker 才织入","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272259677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272266720","html_url":"https://github.com/apache/dubbo/issues/10608#issuecomment-1272266720","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10608","id":1272266720,"node_id":"IC_kwDOAEfiCM5L1T_g","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T08:34:41Z","updated_at":"2022-10-08T08:34:41Z","author_association":"MEMBER","body":"> 我咋看的dubbo 协议都是有的呢，反而是3.0没了\r\n\r\n3.0 做了异步的完善支持，导致存在了内存泄漏的问题，#10615 已经解决","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272266720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272270611","html_url":"https://github.com/apache/dubbo/issues/10705#issuecomment-1272270611","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10705","id":1272270611,"node_id":"IC_kwDOAEfiCM5L1U8T","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T08:54:59Z","updated_at":"2022-10-08T08:55:24Z","author_association":"MEMBER","body":"> JVMUtil打印堆栈信息，只打前32行有点短吧，可否定制成变量传入\r\n\r\n这个可以提个 PR 提交下","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272270611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272281263","html_url":"https://github.com/apache/dubbo/issues/10243#issuecomment-1272281263","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10243","id":1272281263,"node_id":"IC_kwDOAEfiCM5L1Xiv","user":{"login":"mark4z","id":36187602,"node_id":"MDQ6VXNlcjM2MTg3NjAy","avatar_url":"https://avatars.githubusercontent.com/u/36187602?v=4","gravatar_id":"","url":"https://api.github.com/users/mark4z","html_url":"https://github.com/mark4z","followers_url":"https://api.github.com/users/mark4z/followers","following_url":"https://api.github.com/users/mark4z/following{/other_user}","gists_url":"https://api.github.com/users/mark4z/gists{/gist_id}","starred_url":"https://api.github.com/users/mark4z/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mark4z/subscriptions","organizations_url":"https://api.github.com/users/mark4z/orgs","repos_url":"https://api.github.com/users/mark4z/repos","events_url":"https://api.github.com/users/mark4z/events{/privacy}","received_events_url":"https://api.github.com/users/mark4z/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T09:54:27Z","updated_at":"2022-10-08T09:54:27Z","author_association":"MEMBER","body":"It's a  dubbo-go serialization bug, fixed by https://github.com/apache/dubbo-go-hessian2/issues/317","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272281263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272330937","html_url":"https://github.com/apache/dubbo/pull/10708#issuecomment-1272330937","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10708","id":1272330937,"node_id":"IC_kwDOAEfiCM5L1jq5","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T14:20:34Z","updated_at":"2022-10-08T14:29:23Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10708?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10708](https://codecov.io/gh/apache/dubbo/pull/10708?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (2116bdc) into [3.1](https://codecov.io/gh/apache/dubbo/commit/e893407dd8f76f56509262271816a04ccadb9f7b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e893407) will **increase** coverage by `0.03%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.1   #10708      +/-   ##\n============================================\n+ Coverage     65.20%   65.24%   +0.03%     \n  Complexity      493      493              \n============================================\n  Files          1336     1336              \n  Lines         56932    56932              \n  Branches       8438     8438              \n============================================\n+ Hits          37123    37143      +20     \n+ Misses        15840    15819      -21     \n- Partials       3969     3970       +1     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10708?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...he/dubbo/remoting/transport/netty/NettyServer.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eVNlcnZlci5qYXZh) | `70.17% <0.00%> (-3.51%)` | :arrow_down: |\n| [...va/org/apache/dubbo/registry/RegistryNotifier.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9SZWdpc3RyeU5vdGlmaWVyLmphdmE=) | `76.92% <0.00%> (-2.57%)` | :arrow_down: |\n| [.../src/main/java/org/apache/dubbo/rpc/RpcStatus.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1hcGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9ScGNTdGF0dXMuamF2YQ==) | `80.95% <0.00%> (-1.20%)` | :arrow_down: |\n| [...adata/store/zookeeper/ZookeeperMetadataReport.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tbWV0YWRhdGEvZHViYm8tbWV0YWRhdGEtcmVwb3J0LXpvb2tlZXBlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vbWV0YWRhdGEvc3RvcmUvem9va2VlcGVyL1pvb2tlZXBlck1ldGFkYXRhUmVwb3J0LmphdmE=) | `72.34% <0.00%> (-1.07%)` | :arrow_down: |\n| [...apache/dubbo/rpc/protocol/dubbo/DubboProtocol.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1kdWJiby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL3Byb3RvY29sL2R1YmJvL0R1YmJvUHJvdG9jb2wuamF2YQ==) | `62.93% <0.00%> (-0.70%)` | :arrow_down: |\n| [...rg/apache/dubbo/common/timer/HashedWheelTimer.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGltZXIvSGFzaGVkV2hlZWxUaW1lci5qYXZh) | `85.22% <0.00%> (-0.69%)` | :arrow_down: |\n| [...he/dubbo/registry/zookeeper/ZookeeperRegistry.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktem9va2VlcGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS96b29rZWVwZXIvWm9va2VlcGVyUmVnaXN0cnkuamF2YQ==) | `61.05% <0.00%> (-0.53%)` | :arrow_down: |\n| [...ting/zookeeper/curator/CuratorZookeeperClient.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3Rpbmctem9va2VlcGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvY3VyYXRvci9DdXJhdG9yWm9va2VlcGVyQ2xpZW50LmphdmE=) | `70.08% <0.00%> (-0.43%)` | :arrow_down: |\n| [...n/java/org/apache/dubbo/common/utils/NetUtils.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTmV0VXRpbHMuamF2YQ==) | `62.94% <0.00%> (-0.28%)` | :arrow_down: |\n| [...apache/dubbo/common/extension/ExtensionLoader.java](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vZXh0ZW5zaW9uL0V4dGVuc2lvbkxvYWRlci5qYXZh) | `79.62% <0.00%> (+0.15%)` | :arrow_up: |\n| ... and [12 more](https://codecov.io/gh/apache/dubbo/pull/10708/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272330937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272335207","html_url":"https://github.com/apache/dubbo/issues/10393#issuecomment-1272335207","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10393","id":1272335207,"node_id":"IC_kwDOAEfiCM5L1ktn","user":{"login":"404008945","id":39762246,"node_id":"MDQ6VXNlcjM5NzYyMjQ2","avatar_url":"https://avatars.githubusercontent.com/u/39762246?v=4","gravatar_id":"","url":"https://api.github.com/users/404008945","html_url":"https://github.com/404008945","followers_url":"https://api.github.com/users/404008945/followers","following_url":"https://api.github.com/users/404008945/following{/other_user}","gists_url":"https://api.github.com/users/404008945/gists{/gist_id}","starred_url":"https://api.github.com/users/404008945/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/404008945/subscriptions","organizations_url":"https://api.github.com/users/404008945/orgs","repos_url":"https://api.github.com/users/404008945/repos","events_url":"https://api.github.com/users/404008945/events{/privacy}","received_events_url":"https://api.github.com/users/404008945/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-08T14:44:57Z","updated_at":"2022-10-08T14:44:57Z","author_association":"NONE","body":"> @huwenming-saw\r\n> \r\n> > 还是会订阅一个空服务，这个空服务对应的接口还是同一个URL，这个时候难道就不会出现No provider available？\r\n> \r\n> 这个取决于 nacos 是否会主动推空，这块取决于 nacos 的缓存与版本。2.7.17 及以后的版本在 Dubbo 侧做了过滤，防止空覆盖。\r\n> \r\n> > 换另一个角度来说最好的解决方法还是需要提供group version值是最完美的解决方法是吗？\r\n> \r\n> Dubbo 默认就是支持空 group、version 的，只是在实践中指定了 group、version 可以更好地实现服务管理。\r\n\r\n@AlbumenJ 今天看了2.7.17版本，看起来是将两种形式的url共用实例，只要其中一个url存在实例，那么都不会no Provider，但是测了一下还是有问题，**这里的serviceName是否应该为 event.serviceName**\r\n因为虽然分别订阅两种url，但是添加监听器使用的逻辑是使用的computeIfAbsent那么实际上两种url实际上共用了一个监听器\r\n```java\r\n listeners.computeIfAbsent(listener, k -> {  ....................\r\n```\r\norg.apache.dubbo.registry.nacos.NacosRegistry#subscribeEventListene\r\n![image](https://user-images.githubusercontent.com/39762246/194712459-074ae201-7edf-40d3-b29c-328d89c20a8e.png)\r\n\r\n这里因为两种url都公用一个监听器，而监听器的的变量serviceName方法入参传递过来，那么肯定只能是其中一个url，这样两种url服务的变化都反应到了这一个入参url，那么还是有可能会发生空覆盖\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272335207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272425512","html_url":"https://github.com/apache/dubbo/pull/10707#issuecomment-1272425512","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10707","id":1272425512,"node_id":"IC_kwDOAEfiCM5L16wo","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:08:32Z","updated_at":"2022-10-09T01:08:32Z","author_association":"MEMBER","body":"Fix #10704","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272425512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272425611","html_url":"https://github.com/apache/dubbo/issues/10704#issuecomment-1272425611","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10704","id":1272425611,"node_id":"IC_kwDOAEfiCM5L16yL","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:09:40Z","updated_at":"2022-10-09T01:09:40Z","author_association":"MEMBER","body":"Will be fixed in 3.0.13, 3.1.2","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272425611/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272425986","html_url":"https://github.com/apache/dubbo/issues/10694#issuecomment-1272425986","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10694","id":1272425986,"node_id":"IC_kwDOAEfiCM5L164C","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:12:47Z","updated_at":"2022-10-09T01:12:47Z","author_association":"MEMBER","body":"> > k8s 基于 post 脚本先调用 dubbo qos 的 offline 推送下线信息，等待一段时间后再关闭进程\r\n> \r\n> 这种场景下是不是最好还是用 -Ddubbo.shutdownHook.listenIgnore=true 禁用下自带的 DubboShutdownHook ，我看有的 issue 里提到 Spring Boot 环境下的停机和 DubboShutdownHook 监听 JVM 的 shutdownHook 的停机会有冲突\r\n\r\n这个看你是 dubbo 接口作为流量入口还是 Spring web 作为流量入口，如果是 dubbo 入口的话通过 qos offline 可以先下线流量，如果通过 Spring web 入口的话就需要独立处理 shutdown hook","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272425986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426086","html_url":"https://github.com/apache/dubbo/issues/10706#issuecomment-1272426086","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10706","id":1272426086,"node_id":"IC_kwDOAEfiCM5L165m","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:13:56Z","updated_at":"2022-10-09T01:13:56Z","author_association":"MEMBER","body":"2.7.15 应该是支持配置中心的，可以看下是不是配置没生效导致的 ","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426221","html_url":"https://github.com/apache/dubbo/issues/10694#issuecomment-1272426221","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10694","id":1272426221,"node_id":"IC_kwDOAEfiCM5L167t","user":{"login":"neverlaughtingboy","id":19867847,"node_id":"MDQ6VXNlcjE5ODY3ODQ3","avatar_url":"https://avatars.githubusercontent.com/u/19867847?v=4","gravatar_id":"","url":"https://api.github.com/users/neverlaughtingboy","html_url":"https://github.com/neverlaughtingboy","followers_url":"https://api.github.com/users/neverlaughtingboy/followers","following_url":"https://api.github.com/users/neverlaughtingboy/following{/other_user}","gists_url":"https://api.github.com/users/neverlaughtingboy/gists{/gist_id}","starred_url":"https://api.github.com/users/neverlaughtingboy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neverlaughtingboy/subscriptions","organizations_url":"https://api.github.com/users/neverlaughtingboy/orgs","repos_url":"https://api.github.com/users/neverlaughtingboy/repos","events_url":"https://api.github.com/users/neverlaughtingboy/events{/privacy}","received_events_url":"https://api.github.com/users/neverlaughtingboy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:15:19Z","updated_at":"2022-10-09T01:15:19Z","author_association":"NONE","body":"> > > k8s 基于 post 脚本先调用 dubbo qos 的 offline 推送下线信息，等待一段时间后再关闭进程\r\n> > \r\n> > \r\n> > 这种场景下是不是最好还是用 -Ddubbo.shutdownHook.listenIgnore=true 禁用下自带的 DubboShutdownHook ，我看有的 issue 里提到 Spring Boot 环境下的停机和 DubboShutdownHook 监听 JVM 的 shutdownHook 的停机会有冲突\r\n> \r\n> 这个看你是 dubbo 接口作为流量入口还是 Spring web 作为流量入口，如果是 dubbo 入口的话通过 qos offline 可以先下线流量，如果通过 Spring web 入口的话就需要独立处理 shutdown hook\r\n\r\n实际上我们两种流量入口都同时存在","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426221/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426222","html_url":"https://github.com/apache/dubbo/issues/10687#issuecomment-1272426222","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10687","id":1272426222,"node_id":"IC_kwDOAEfiCM5L167u","user":{"login":"JavaLionLi","id":31852897,"node_id":"MDQ6VXNlcjMxODUyODk3","avatar_url":"https://avatars.githubusercontent.com/u/31852897?v=4","gravatar_id":"","url":"https://api.github.com/users/JavaLionLi","html_url":"https://github.com/JavaLionLi","followers_url":"https://api.github.com/users/JavaLionLi/followers","following_url":"https://api.github.com/users/JavaLionLi/following{/other_user}","gists_url":"https://api.github.com/users/JavaLionLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JavaLionLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JavaLionLi/subscriptions","organizations_url":"https://api.github.com/users/JavaLionLi/orgs","repos_url":"https://api.github.com/users/JavaLionLi/repos","events_url":"https://api.github.com/users/JavaLionLi/events{/privacy}","received_events_url":"https://api.github.com/users/JavaLionLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:15:20Z","updated_at":"2022-10-09T01:15:20Z","author_association":"CONTRIBUTOR","body":"已完成pr合并","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426301","html_url":"https://github.com/apache/dubbo/issues/10393#issuecomment-1272426301","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10393","id":1272426301,"node_id":"IC_kwDOAEfiCM5L1689","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:16:05Z","updated_at":"2022-10-09T01:16:05Z","author_association":"MEMBER","body":"org.apache.dubbo.registry.nacos.NacosAggregateListener 内部会聚合","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426724","html_url":"https://github.com/apache/dubbo/issues/10694#issuecomment-1272426724","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10694","id":1272426724,"node_id":"IC_kwDOAEfiCM5L17Dk","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:20:02Z","updated_at":"2022-10-09T01:20:02Z","author_association":"MEMBER","body":"那就先 qos offline 摘掉 dubbo 流量，然后通过 -Ddubbo.shutdownHook.listenIgnore=true 实现 Spring web 的优雅下线。\r\n\r\n后面的 shutdown hook 的 dubbo 在接下来的版本优化下","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272426724/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272428116","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1272428116","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1272428116,"node_id":"IC_kwDOAEfiCM5L17ZU","user":{"login":"lvliuzhong","id":18711893,"node_id":"MDQ6VXNlcjE4NzExODkz","avatar_url":"https://avatars.githubusercontent.com/u/18711893?v=4","gravatar_id":"","url":"https://api.github.com/users/lvliuzhong","html_url":"https://github.com/lvliuzhong","followers_url":"https://api.github.com/users/lvliuzhong/followers","following_url":"https://api.github.com/users/lvliuzhong/following{/other_user}","gists_url":"https://api.github.com/users/lvliuzhong/gists{/gist_id}","starred_url":"https://api.github.com/users/lvliuzhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvliuzhong/subscriptions","organizations_url":"https://api.github.com/users/lvliuzhong/orgs","repos_url":"https://api.github.com/users/lvliuzhong/repos","events_url":"https://api.github.com/users/lvliuzhong/events{/privacy}","received_events_url":"https://api.github.com/users/lvliuzhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:33:07Z","updated_at":"2022-10-09T01:33:07Z","author_association":"NONE","body":"> \r\n\r\n我这边要提供样例吗？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272428116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272429575","html_url":"https://github.com/apache/dubbo/issues/10705#issuecomment-1272429575","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10705","id":1272429575,"node_id":"IC_kwDOAEfiCM5L17wH","user":{"login":"ilaotan","id":6210438,"node_id":"MDQ6VXNlcjYyMTA0Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/6210438?v=4","gravatar_id":"","url":"https://api.github.com/users/ilaotan","html_url":"https://github.com/ilaotan","followers_url":"https://api.github.com/users/ilaotan/followers","following_url":"https://api.github.com/users/ilaotan/following{/other_user}","gists_url":"https://api.github.com/users/ilaotan/gists{/gist_id}","starred_url":"https://api.github.com/users/ilaotan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilaotan/subscriptions","organizations_url":"https://api.github.com/users/ilaotan/orgs","repos_url":"https://api.github.com/users/ilaotan/repos","events_url":"https://api.github.com/users/ilaotan/events{/privacy}","received_events_url":"https://api.github.com/users/ilaotan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:44:11Z","updated_at":"2022-10-09T01:44:11Z","author_association":"CONTRIBUTOR","body":"@AlbumenJ 那我该提到哪个分支？我看3.2分支都出来了","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272429575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272430472","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1272430472","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1272430472,"node_id":"IC_kwDOAEfiCM5L17-I","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:51:57Z","updated_at":"2022-10-09T01:51:57Z","author_association":"MEMBER","body":"> > \r\n> \r\n> 我这边要提供样例吗？\r\n\r\ndubbo 版本升级到 3.1.1 看下还会不会，如果还有问题的话提供个 demo 样例","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272430472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272430518","html_url":"https://github.com/apache/dubbo/issues/10705#issuecomment-1272430518","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10705","id":1272430518,"node_id":"IC_kwDOAEfiCM5L17-2","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:52:17Z","updated_at":"2022-10-09T01:52:17Z","author_association":"MEMBER","body":"> @AlbumenJ 那我该提到哪个分支？我看3.2分支都出来了\r\n\r\n3.2 吧","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272430518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272430663","html_url":"https://github.com/apache/dubbo/issues/10393#issuecomment-1272430663","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10393","id":1272430663,"node_id":"IC_kwDOAEfiCM5L18BH","user":{"login":"404008945","id":39762246,"node_id":"MDQ6VXNlcjM5NzYyMjQ2","avatar_url":"https://avatars.githubusercontent.com/u/39762246?v=4","gravatar_id":"","url":"https://api.github.com/users/404008945","html_url":"https://github.com/404008945","followers_url":"https://api.github.com/users/404008945/followers","following_url":"https://api.github.com/users/404008945/following{/other_user}","gists_url":"https://api.github.com/users/404008945/gists{/gist_id}","starred_url":"https://api.github.com/users/404008945/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/404008945/subscriptions","organizations_url":"https://api.github.com/users/404008945/orgs","repos_url":"https://api.github.com/users/404008945/repos","events_url":"https://api.github.com/users/404008945/events{/privacy}","received_events_url":"https://api.github.com/users/404008945/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T01:53:25Z","updated_at":"2022-10-09T01:53:25Z","author_association":"NONE","body":"> org.apache.dubbo.registry.nacos.NacosAggregateListener 内部会聚合\r\n\r\nNacosAggregateListener 内部会聚合这个我明白，我的意思是两种url共用了同一个nacosListener（因为computeIfAbsent），都会触发同一个nacosListener，而这个nacosListener中的serviceName又是固定的(先进入方法的那个serviceName)。\r\n\r\n现在假设 同一服务的两种serviceName，A1(有实例)和A2(空实例)\r\n1. A1首先进入subscribeEventListener方法，那么会注册添加一个nacos监听器EventListener，使用匿名内部类的形式创建，内部类中的serviceName就是A1，然后使用这个nacosListener监听A1\r\n2. A2之后再进入subscribeEventListener ,A2会和A1共用同一个nacosListener，那么这个nacosListener的serviceName仍然是A1\r\n同样使用这个nacosListener监听A2\r\n\r\n那么当 nacos通知A2无实例时，调用nacosListener，监听器中调用notifySubscriber(url, serviceName, listener, instances); \r\n但是这个serviceNames是A1，**变成了通知A1无实例**\r\n![image](https://user-images.githubusercontent.com/39762246/194733810-db0ece76-36ef-446a-861a-8639e33bc377.png)\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272430663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272434867","html_url":"https://github.com/apache/dubbo/issues/10710#issuecomment-1272434867","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10710","id":1272434867,"node_id":"IC_kwDOAEfiCM5L19Cz","user":{"login":"liufeiyu1002","id":32605119,"node_id":"MDQ6VXNlcjMyNjA1MTE5","avatar_url":"https://avatars.githubusercontent.com/u/32605119?v=4","gravatar_id":"","url":"https://api.github.com/users/liufeiyu1002","html_url":"https://github.com/liufeiyu1002","followers_url":"https://api.github.com/users/liufeiyu1002/followers","following_url":"https://api.github.com/users/liufeiyu1002/following{/other_user}","gists_url":"https://api.github.com/users/liufeiyu1002/gists{/gist_id}","starred_url":"https://api.github.com/users/liufeiyu1002/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liufeiyu1002/subscriptions","organizations_url":"https://api.github.com/users/liufeiyu1002/orgs","repos_url":"https://api.github.com/users/liufeiyu1002/repos","events_url":"https://api.github.com/users/liufeiyu1002/events{/privacy}","received_events_url":"https://api.github.com/users/liufeiyu1002/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T02:19:51Z","updated_at":"2022-10-09T02:19:51Z","author_association":"CONTRIBUTOR","body":"你类的属性值都是什么？ 子类是否重写了父类的 属性值？","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272434867/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272441303","html_url":"https://github.com/apache/dubbo/pull/10691#issuecomment-1272441303","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10691","id":1272441303,"node_id":"IC_kwDOAEfiCM5L1-nX","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T02:54:03Z","updated_at":"2022-10-13T03:30:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10691?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10691](https://codecov.io/gh/apache/dubbo/pull/10691?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (78a0be9) into [3.2](https://codecov.io/gh/apache/dubbo/commit/ce9953e98dc65d156f21e18aa6724014908ef7b1?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (ce9953e) will **decrease** coverage by `0.01%`.\n> The diff coverage is `61.82%`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.2   #10691      +/-   ##\n============================================\n- Coverage     65.31%   65.30%   -0.02%     \n+ Complexity      393      392       -1     \n============================================\n  Files          1338     1339       +1     \n  Lines         57046    57094      +48     \n  Branches       8429     8435       +6     \n============================================\n+ Hits          37260    37284      +24     \n- Misses        15838    15853      +15     \n- Partials       3948     3957       +9     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10691?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...apache/dubbo/rpc/cluster/router/state/BitList.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY2x1c3Rlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL2NsdXN0ZXIvcm91dGVyL3N0YXRlL0JpdExpc3QuamF2YQ==) | `78.38% <0.00%> (-0.68%)` | :arrow_down: |\n| [...rg/apache/dubbo/rpc/cluster/SingleRouterChain.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY2x1c3Rlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL2NsdXN0ZXIvU2luZ2xlUm91dGVyQ2hhaW4uamF2YQ==) | `58.62% <58.62%> (ø)` | |\n| [...java/org/apache/dubbo/rpc/cluster/RouterChain.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY2x1c3Rlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL2NsdXN0ZXIvUm91dGVyQ2hhaW4uamF2YQ==) | `84.21% <75.00%> (+22.42%)` | :arrow_up: |\n| [.../rpc/cluster/router/state/AbstractStateRouter.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY2x1c3Rlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL2NsdXN0ZXIvcm91dGVyL3N0YXRlL0Fic3RyYWN0U3RhdGVSb3V0ZXIuamF2YQ==) | `83.01% <100.00%> (+2.24%)` | :arrow_up: |\n| [...g/apache/dubbo/remoting/api/ConnectionHandler.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9hcGkvQ29ubmVjdGlvbkhhbmRsZXIuamF2YQ==) | `51.51% <0.00%> (-9.10%)` | :arrow_down: |\n| [...common/serialize/hessian2/Hessian2ObjectInput.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tc2VyaWFsaXphdGlvbi9kdWJiby1zZXJpYWxpemF0aW9uLWhlc3NpYW4yL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vc2VyaWFsaXplL2hlc3NpYW4yL0hlc3NpYW4yT2JqZWN0SW5wdXQuamF2YQ==) | `44.44% <0.00%> (-7.41%)` | :arrow_down: |\n| [...e/dubbo/rpc/protocol/tri/transport/WriteQueue.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy10cmlwbGUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JwYy9wcm90b2NvbC90cmkvdHJhbnNwb3J0L1dyaXRlUXVldWUuamF2YQ==) | `73.80% <0.00%> (-4.77%)` | :arrow_down: |\n| [...rg/apache/dubbo/rpc/protocol/dubbo/DubboCodec.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1kdWJiby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL3Byb3RvY29sL2R1YmJvL0R1YmJvQ29kZWMuamF2YQ==) | `65.21% <0.00%> (-4.35%)` | :arrow_down: |\n| [...bo/rpc/protocol/dubbo/DecodeableRpcInvocation.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1kdWJiby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL3Byb3RvY29sL2R1YmJvL0RlY29kZWFibGVScGNJbnZvY2F0aW9uLmphdmE=) | `77.88% <0.00%> (-3.85%)` | :arrow_down: |\n| [...he/dubbo/remoting/transport/netty/NettyServer.java](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eVNlcnZlci5qYXZh) | `70.17% <0.00%> (-3.51%)` | :arrow_down: |\n| ... and [14 more](https://codecov.io/gh/apache/dubbo/pull/10691/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272441303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272444320","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1272444320","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1272444320,"node_id":"IC_kwDOAEfiCM5L1_Wg","user":{"login":"lolua","id":51225680,"node_id":"MDQ6VXNlcjUxMjI1Njgw","avatar_url":"https://avatars.githubusercontent.com/u/51225680?v=4","gravatar_id":"","url":"https://api.github.com/users/lolua","html_url":"https://github.com/lolua","followers_url":"https://api.github.com/users/lolua/followers","following_url":"https://api.github.com/users/lolua/following{/other_user}","gists_url":"https://api.github.com/users/lolua/gists{/gist_id}","starred_url":"https://api.github.com/users/lolua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lolua/subscriptions","organizations_url":"https://api.github.com/users/lolua/orgs","repos_url":"https://api.github.com/users/lolua/repos","events_url":"https://api.github.com/users/lolua/events{/privacy}","received_events_url":"https://api.github.com/users/lolua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T03:17:34Z","updated_at":"2022-10-09T03:17:34Z","author_association":"NONE","body":"3.0.9及之后版本的已经修复了","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272444320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272445699","html_url":"https://github.com/apache/dubbo/pull/10711#issuecomment-1272445699","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10711","id":1272445699,"node_id":"IC_kwDOAEfiCM5L1_sD","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T03:30:41Z","updated_at":"2022-10-09T03:56:08Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10711?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10711](https://codecov.io/gh/apache/dubbo/pull/10711?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (18890f2) into [3.2](https://codecov.io/gh/apache/dubbo/commit/f2cee0ab893bf0f0f22d64227f075d4a154a6175?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (f2cee0a) will **increase** coverage by `0.09%`.\n> The diff coverage is `50.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.2   #10711      +/-   ##\n============================================\n+ Coverage     65.19%   65.29%   +0.09%     \n  Complexity      416      416              \n============================================\n  Files          1338     1338              \n  Lines         57053    57058       +5     \n  Branches       8451     8451              \n============================================\n+ Hits          37198    37255      +57     \n+ Misses        15890    15836      -54     \n- Partials       3965     3967       +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10711?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...apache/dubbo/common/constants/CommonConstants.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vY29uc3RhbnRzL0NvbW1vbkNvbnN0YW50cy5qYXZh) | `100.00% <ø> (ø)` | |\n| [...in/java/org/apache/dubbo/common/utils/JVMUtil.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvSlZNVXRpbC5qYXZh) | `75.92% <50.00%> (-3.67%)` | :arrow_down: |\n| [...rg/apache/dubbo/rpc/protocol/dubbo/DubboCodec.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1kdWJiby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL3Byb3RvY29sL2R1YmJvL0R1YmJvQ29kZWMuamF2YQ==) | `65.21% <0.00%> (-4.35%)` | :arrow_down: |\n| [...bo/rpc/protocol/dubbo/DecodeableRpcInvocation.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1kdWJiby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL3Byb3RvY29sL2R1YmJvL0RlY29kZWFibGVScGNJbnZvY2F0aW9uLmphdmE=) | `77.88% <0.00%> (-3.85%)` | :arrow_down: |\n| [...ache/dubbo/rpc/protocol/dubbo/DubboCountCodec.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1kdWJiby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL3Byb3RvY29sL2R1YmJvL0R1YmJvQ291bnRDb2RlYy5qYXZh) | `90.62% <0.00%> (-3.13%)` | :arrow_down: |\n| [.../apache/dubbo/remoting/transport/CodecSupport.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvQ29kZWNTdXBwb3J0LmphdmE=) | `81.53% <0.00%> (-3.08%)` | :arrow_down: |\n| [.../dubbo/registry/client/metadata/MetadataUtils.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvbWV0YWRhdGEvTWV0YWRhdGFVdGlscy5qYXZh) | `69.44% <0.00%> (-2.78%)` | :arrow_down: |\n| [...ting/zookeeper/curator/CuratorZookeeperClient.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3Rpbmctem9va2VlcGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvY3VyYXRvci9DdXJhdG9yWm9va2VlcGVyQ2xpZW50LmphdmE=) | `70.51% <0.00%> (-0.86%)` | :arrow_down: |\n| [...apache/dubbo/rpc/protocol/dubbo/DubboProtocol.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcnBjL2R1YmJvLXJwYy1kdWJiby9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvZHViYm8vcnBjL3Byb3RvY29sL2R1YmJvL0R1YmJvUHJvdG9jb2wuamF2YQ==) | `62.93% <0.00%> (-0.70%)` | :arrow_down: |\n| [...n/java/org/apache/dubbo/common/utils/NetUtils.java](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvTmV0VXRpbHMuamF2YQ==) | `62.94% <0.00%> (-0.28%)` | :arrow_down: |\n| ... and [11 more](https://codecov.io/gh/apache/dubbo/pull/10711/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272445699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272470478","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1272470478","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1272470478,"node_id":"IC_kwDOAEfiCM5L2FvO","user":{"login":"lvliuzhong","id":18711893,"node_id":"MDQ6VXNlcjE4NzExODkz","avatar_url":"https://avatars.githubusercontent.com/u/18711893?v=4","gravatar_id":"","url":"https://api.github.com/users/lvliuzhong","html_url":"https://github.com/lvliuzhong","followers_url":"https://api.github.com/users/lvliuzhong/followers","following_url":"https://api.github.com/users/lvliuzhong/following{/other_user}","gists_url":"https://api.github.com/users/lvliuzhong/gists{/gist_id}","starred_url":"https://api.github.com/users/lvliuzhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvliuzhong/subscriptions","organizations_url":"https://api.github.com/users/lvliuzhong/orgs","repos_url":"https://api.github.com/users/lvliuzhong/repos","events_url":"https://api.github.com/users/lvliuzhong/events{/privacy}","received_events_url":"https://api.github.com/users/lvliuzhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T06:46:42Z","updated_at":"2022-10-09T06:46:42Z","author_association":"NONE","body":"> dubbo 版本升级到 3.1.1 看下还会不会，如果还有问题的话提供个 demo 样例\r\n\r\nhttps://github.com/lvliuzhong/dubbo-samples.git  下载这个项目吧，我刚改的。。有2个提交点，分别对应两个问题\r\n1. 循环引用复现 \r\nCommit:\r\n7b54580adb025bd2593bb5e4887672bc477758fe [7b54580]\r\n是为了复现  https://github.com/apache/dubbo/issues/6776\r\n\r\n2. https://github.com/apache/dubbo/issues/10570 bug复现\r\nCommit:\r\n68506e8cb7d9cfbcda4b4ff04d3db093f143555c [68506e8]\r\n是为了复现我说的问题\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272470478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272470680","html_url":"https://github.com/apache/dubbo/issues/10570#issuecomment-1272470680","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10570","id":1272470680,"node_id":"IC_kwDOAEfiCM5L2FyY","user":{"login":"lvliuzhong","id":18711893,"node_id":"MDQ6VXNlcjE4NzExODkz","avatar_url":"https://avatars.githubusercontent.com/u/18711893?v=4","gravatar_id":"","url":"https://api.github.com/users/lvliuzhong","html_url":"https://github.com/lvliuzhong","followers_url":"https://api.github.com/users/lvliuzhong/followers","following_url":"https://api.github.com/users/lvliuzhong/following{/other_user}","gists_url":"https://api.github.com/users/lvliuzhong/gists{/gist_id}","starred_url":"https://api.github.com/users/lvliuzhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lvliuzhong/subscriptions","organizations_url":"https://api.github.com/users/lvliuzhong/orgs","repos_url":"https://api.github.com/users/lvliuzhong/repos","events_url":"https://api.github.com/users/lvliuzhong/events{/privacy}","received_events_url":"https://api.github.com/users/lvliuzhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T06:48:18Z","updated_at":"2022-10-09T06:48:18Z","author_association":"NONE","body":"具体步骤可以参考项目里面的 README.md","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272470680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272473894","html_url":"https://github.com/apache/dubbo/issues/10706#issuecomment-1272473894","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10706","id":1272473894,"node_id":"IC_kwDOAEfiCM5L2Gkm","user":{"login":"2227324689","id":52684867,"node_id":"MDQ6VXNlcjUyNjg0ODY3","avatar_url":"https://avatars.githubusercontent.com/u/52684867?v=4","gravatar_id":"","url":"https://api.github.com/users/2227324689","html_url":"https://github.com/2227324689","followers_url":"https://api.github.com/users/2227324689/followers","following_url":"https://api.github.com/users/2227324689/following{/other_user}","gists_url":"https://api.github.com/users/2227324689/gists{/gist_id}","starred_url":"https://api.github.com/users/2227324689/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2227324689/subscriptions","organizations_url":"https://api.github.com/users/2227324689/orgs","repos_url":"https://api.github.com/users/2227324689/repos","events_url":"https://api.github.com/users/2227324689/events{/privacy}","received_events_url":"https://api.github.com/users/2227324689/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T07:09:19Z","updated_at":"2022-10-09T07:09:19Z","author_association":"NONE","body":"嗯，我后来测试了一下是可以的。","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272473894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272481703","html_url":"https://github.com/apache/dubbo/issues/10710#issuecomment-1272481703","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10710","id":1272481703,"node_id":"IC_kwDOAEfiCM5L2Ien","user":{"login":"wanggeqiang","id":20226583,"node_id":"MDQ6VXNlcjIwMjI2NTgz","avatar_url":"https://avatars.githubusercontent.com/u/20226583?v=4","gravatar_id":"","url":"https://api.github.com/users/wanggeqiang","html_url":"https://github.com/wanggeqiang","followers_url":"https://api.github.com/users/wanggeqiang/followers","following_url":"https://api.github.com/users/wanggeqiang/following{/other_user}","gists_url":"https://api.github.com/users/wanggeqiang/gists{/gist_id}","starred_url":"https://api.github.com/users/wanggeqiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wanggeqiang/subscriptions","organizations_url":"https://api.github.com/users/wanggeqiang/orgs","repos_url":"https://api.github.com/users/wanggeqiang/repos","events_url":"https://api.github.com/users/wanggeqiang/events{/privacy}","received_events_url":"https://api.github.com/users/wanggeqiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T07:56:23Z","updated_at":"2022-10-09T07:56:23Z","author_association":"NONE","body":"都是string 类型的，没有重新","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272481703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272491361","html_url":"https://github.com/apache/dubbo/pull/10714#issuecomment-1272491361","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10714","id":1272491361,"node_id":"IC_kwDOAEfiCM5L2K1h","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T08:48:21Z","updated_at":"2022-10-09T09:03:24Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10714?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10714](https://codecov.io/gh/apache/dubbo/pull/10714?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (c4809ff) into [3.2](https://codecov.io/gh/apache/dubbo/commit/5749ac805162898ba47f68742c4886e43bc607f7?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (5749ac8) will **decrease** coverage by `0.08%`.\n> The diff coverage is `0.00%`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.2   #10714      +/-   ##\n============================================\n- Coverage     65.31%   65.22%   -0.09%     \n+ Complexity      416      414       -2     \n============================================\n  Files          1338     1338              \n  Lines         57038    57060      +22     \n  Branches       8446     8451       +5     \n============================================\n- Hits          37253    37217      -36     \n- Misses        15819    15865      +46     \n- Partials       3966     3978      +12     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10714?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...istry/xds/istio/IstioCitadelCertificateSigner.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS94ZHMvaXN0aW8vSXN0aW9DaXRhZGVsQ2VydGlmaWNhdGVTaWduZXIuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [...apache/dubbo/registry/xds/istio/IstioConstant.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS94ZHMvaXN0aW8vSXN0aW9Db25zdGFudC5qYXZh) | `0.00% <ø> (ø)` | |\n| [.../org/apache/dubbo/registry/xds/istio/IstioEnv.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8teGRzL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS94ZHMvaXN0aW8vSXN0aW9FbnYuamF2YQ==) | `0.00% <0.00%> (ø)` | |\n| [.../remoting/api/SingleProtocolConnectionManager.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9hcGkvU2luZ2xlUHJvdG9jb2xDb25uZWN0aW9uTWFuYWdlci5qYXZh) | `61.53% <0.00%> (-23.08%)` | :arrow_down: |\n| [...dubbo/common/status/support/LoadStatusChecker.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vc3RhdHVzL3N1cHBvcnQvTG9hZFN0YXR1c0NoZWNrZXIuamF2YQ==) | `50.00% <0.00%> (-16.67%)` | :arrow_down: |\n| [...in/java/org/apache/dubbo/common/utils/JVMUtil.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvSlZNVXRpbC5qYXZh) | `79.59% <0.00%> (-12.25%)` | :arrow_down: |\n| [...g/apache/dubbo/remoting/api/ConnectionHandler.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9hcGkvQ29ubmVjdGlvbkhhbmRsZXIuamF2YQ==) | `51.51% <0.00%> (-9.10%)` | :arrow_down: |\n| [.../remoting/transport/netty4/NettyServerHandler.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHk0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvbmV0dHk0L05ldHR5U2VydmVySGFuZGxlci5qYXZh) | `63.63% <0.00%> (-9.10%)` | :arrow_down: |\n| [...e/dubbo/remoting/transport/netty/NettyChannel.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2R1YmJvL3JlbW90aW5nL3RyYW5zcG9ydC9uZXR0eS9OZXR0eUNoYW5uZWwuamF2YQ==) | `52.27% <0.00%> (-7.96%)` | :arrow_down: |\n| [.../common/threadpool/serial/SerializingExecutor.java](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9zZXJpYWwvU2VyaWFsaXppbmdFeGVjdXRvci5qYXZh) | `72.41% <0.00%> (-6.90%)` | :arrow_down: |\n| ... and [26 more](https://codecov.io/gh/apache/dubbo/pull/10714/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272491361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272506480","html_url":"https://github.com/apache/dubbo/pull/10715#issuecomment-1272506480","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10715","id":1272506480,"node_id":"IC_kwDOAEfiCM5L2Ohw","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T10:08:57Z","updated_at":"2022-10-09T10:50:52Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10715?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10715](https://codecov.io/gh/apache/dubbo/pull/10715?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (37dee4c) into [3.1](https://codecov.io/gh/apache/dubbo/commit/e893407dd8f76f56509262271816a04ccadb9f7b?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (e893407) will **increase** coverage by `0.05%`.\n> The diff coverage is `n/a`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.1   #10715      +/-   ##\n============================================\n+ Coverage     65.20%   65.26%   +0.05%     \n- Complexity      493      494       +1     \n============================================\n  Files          1336     1336              \n  Lines         56932    56932              \n  Branches       8438     8438              \n============================================\n+ Hits          37123    37156      +33     \n+ Misses        15840    15811      -29     \n+ Partials       3969     3965       -4     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10715?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...in/java/org/apache/dubbo/common/utils/JVMUtil.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdXRpbHMvSlZNVXRpbC5qYXZh) | `79.59% <0.00%> (-12.25%)` | :arrow_down: |\n| [...ubbo/registry/client/AbstractServiceDiscovery.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvQWJzdHJhY3RTZXJ2aWNlRGlzY292ZXJ5LmphdmE=) | `81.34% <0.00%> (-1.50%)` | :arrow_down: |\n| [...he/dubbo/registry/zookeeper/ZookeeperRegistry.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktem9va2VlcGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS96b29rZWVwZXIvWm9va2VlcGVyUmVnaXN0cnkuamF2YQ==) | `61.05% <0.00%> (-0.53%)` | :arrow_down: |\n| [...rg/apache/dubbo/common/timer/HashedWheelTimer.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGltZXIvSGFzaGVkV2hlZWxUaW1lci5qYXZh) | `85.56% <0.00%> (-0.35%)` | :arrow_down: |\n| [...apache/dubbo/common/extension/ExtensionLoader.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vZXh0ZW5zaW9uL0V4dGVuc2lvbkxvYWRlci5qYXZh) | `79.62% <0.00%> (+0.15%)` | :arrow_up: |\n| [...ng/zookeeper/curator5/Curator5ZookeeperClient.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3Rpbmctem9va2VlcGVyLWN1cmF0b3I1L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvY3VyYXRvcjUvQ3VyYXRvcjVab29rZWVwZXJDbGllbnQuamF2YQ==) | `71.22% <0.00%> (+1.88%)` | :arrow_up: |\n| [...pache/dubbo/registry/support/AbstractRegistry.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9zdXBwb3J0L0Fic3RyYWN0UmVnaXN0cnkuamF2YQ==) | `69.07% <0.00%> (+1.97%)` | :arrow_up: |\n| [...registry/zookeeper/util/CuratorFrameworkUtils.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktem9va2VlcGVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS96b29rZWVwZXIvdXRpbC9DdXJhdG9yRnJhbWV3b3JrVXRpbHMuamF2YQ==) | `74.44% <0.00%> (+2.22%)` | :arrow_up: |\n| [...etadata/report/support/AbstractMetadataReport.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tbWV0YWRhdGEvZHViYm8tbWV0YWRhdGEtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9tZXRhZGF0YS9yZXBvcnQvc3VwcG9ydC9BYnN0cmFjdE1ldGFkYXRhUmVwb3J0LmphdmE=) | `71.36% <0.00%> (+2.27%)` | :arrow_up: |\n| [.../dubbo/registry/client/metadata/MetadataUtils.java](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvbWV0YWRhdGEvTWV0YWRhdGFVdGlscy5qYXZh) | `72.22% <0.00%> (+2.77%)` | :arrow_up: |\n| ... and [8 more](https://codecov.io/gh/apache/dubbo/pull/10715/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272506480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272539357","html_url":"https://github.com/apache/dubbo/pull/10718#issuecomment-1272539357","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10718","id":1272539357,"node_id":"IC_kwDOAEfiCM5L2Wjd","user":{"login":"codecov-commenter","id":65553080,"node_id":"MDQ6VXNlcjY1NTUzMDgw","avatar_url":"https://avatars.githubusercontent.com/u/65553080?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-commenter","html_url":"https://github.com/codecov-commenter","followers_url":"https://api.github.com/users/codecov-commenter/followers","following_url":"https://api.github.com/users/codecov-commenter/following{/other_user}","gists_url":"https://api.github.com/users/codecov-commenter/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-commenter/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-commenter/subscriptions","organizations_url":"https://api.github.com/users/codecov-commenter/orgs","repos_url":"https://api.github.com/users/codecov-commenter/repos","events_url":"https://api.github.com/users/codecov-commenter/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-commenter/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-09T13:09:59Z","updated_at":"2022-10-09T13:27:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/dubbo/pull/10718?src=pr&el=h1&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) Report\n> Merging [#10718](https://codecov.io/gh/apache/dubbo/pull/10718?src=pr&el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (b44d995) into [3.1](https://codecov.io/gh/apache/dubbo/commit/199b059d5e2af1774227ab5f5d271ec9225212ef?el=desc&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) (199b059) will **decrease** coverage by `0.20%`.\n> The diff coverage is `91.30%`.\n\n```diff\n@@             Coverage Diff              @@\n##                3.1   #10718      +/-   ##\n============================================\n- Coverage     65.23%   65.03%   -0.21%     \n- Complexity      469      492      +23     \n============================================\n  Files          1336     1336              \n  Lines         56932    56890      -42     \n  Branches       8437     8415      -22     \n============================================\n- Hits          37140    36997     -143     \n- Misses        15821    15920      +99     \n- Partials       3971     3973       +2     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/dubbo/pull/10718?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | Coverage Δ | |\n|---|---|---|\n| [...registry/client/migration/model/MigrationRule.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvbWlncmF0aW9uL21vZGVsL01pZ3JhdGlvblJ1bGUuamF2YQ==) | `79.20% <91.30%> (+7.94%)` | :arrow_up: |\n| [...dubbo/remoting/zookeeper/ZookeeperTransporter.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvWm9va2VlcGVyVHJhbnNwb3J0ZXIuamF2YQ==) | `50.00% <0.00%> (-33.34%)` | :arrow_down: |\n| [...pache/dubbo/common/function/ThrowableFunction.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vZnVuY3Rpb24vVGhyb3dhYmxlRnVuY3Rpb24uamF2YQ==) | `71.42% <0.00%> (-28.58%)` | :arrow_down: |\n| [...ng/zookeeper/curator5/Curator5ZookeeperClient.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3Rpbmctem9va2VlcGVyLWN1cmF0b3I1L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy96b29rZWVwZXIvY3VyYXRvcjUvQ3VyYXRvcjVab29rZWVwZXJDbGllbnQuamF2YQ==) | `43.86% <0.00%> (-27.36%)` | :arrow_down: |\n| [...ache/dubbo/remoting/api/NettyEventLoopFactory.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy9hcGkvTmV0dHlFdmVudExvb3BGYWN0b3J5LmphdmE=) | `61.53% <0.00%> (-23.08%)` | :arrow_down: |\n| [...dubbo/common/status/support/LoadStatusChecker.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vc3RhdHVzL3N1cHBvcnQvTG9hZFN0YXR1c0NoZWNrZXIuamF2YQ==) | `50.00% <0.00%> (-16.67%)` | :arrow_down: |\n| [...e/dubbo/remoting/transport/netty4/NettyClient.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHk0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvbmV0dHk0L05ldHR5Q2xpZW50LmphdmE=) | `61.11% <0.00%> (-7.78%)` | :arrow_down: |\n| [.../common/threadpool/serial/SerializingExecutor.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9jb21tb24vdGhyZWFkcG9vbC9zZXJpYWwvU2VyaWFsaXppbmdFeGVjdXRvci5qYXZh) | `72.41% <0.00%> (-6.90%)` | :arrow_down: |\n| [.../dubbo/registry/client/metadata/MetadataUtils.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVnaXN0cnkvZHViYm8tcmVnaXN0cnktYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZWdpc3RyeS9jbGllbnQvbWV0YWRhdGEvTWV0YWRhdGFVdGlscy5qYXZh) | `67.59% <0.00%> (-4.63%)` | :arrow_down: |\n| [.../remoting/transport/netty4/NettyServerHandler.java](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation#diff-ZHViYm8tcmVtb3RpbmcvZHViYm8tcmVtb3RpbmctbmV0dHk0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9kdWJiby9yZW1vdGluZy90cmFuc3BvcnQvbmV0dHk0L05ldHR5U2VydmVySGFuZGxlci5qYXZh) | `68.18% <0.00%> (-4.55%)` | :arrow_down: |\n| ... and [27 more](https://codecov.io/gh/apache/dubbo/pull/10718/diff?src=pr&el=tree-more&utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation) | |\n\n:mega: We’re building smart automated test selection to slash your CI/CD build times. [Learn more](https://about.codecov.io/iterative-testing/?utm_medium=referral&utm_source=github&utm_content=comment&utm_campaign=pr+comments&utm_term=The+Apache+Software+Foundation)\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272539357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272713153","html_url":"https://github.com/apache/dubbo/issues/10393#issuecomment-1272713153","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10393","id":1272713153,"node_id":"IC_kwDOAEfiCM5L3A_B","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T02:16:59Z","updated_at":"2022-10-10T02:16:59Z","author_association":"MEMBER","body":"这一块看了下 2.7 里面是会存在 serviceName 覆盖的问题的，3.0 及以后的版本是有以 serviceName 作为 key 的，应该没这个问题。\r\n2.7 版本目前已经进行仅安全维护阶段了，bugfix 只会在 3.0 3.1 分支中进行了。\r\n\r\nhttps://github.com/apache/dubbo/blob/15f4a7d7cbbd4ba1c580f4c3673b2854cef52f0b/dubbo-registry/dubbo-registry-nacos/src/main/java/org/apache/dubbo/registry/nacos/NacosRegistry.java#L137","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272713153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272713597","html_url":"https://github.com/apache/dubbo/issues/10393#issuecomment-1272713597","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10393","id":1272713597,"node_id":"IC_kwDOAEfiCM5L3BF9","user":{"login":"huwenming-saw","id":50895750,"node_id":"MDQ6VXNlcjUwODk1NzUw","avatar_url":"https://avatars.githubusercontent.com/u/50895750?v=4","gravatar_id":"","url":"https://api.github.com/users/huwenming-saw","html_url":"https://github.com/huwenming-saw","followers_url":"https://api.github.com/users/huwenming-saw/followers","following_url":"https://api.github.com/users/huwenming-saw/following{/other_user}","gists_url":"https://api.github.com/users/huwenming-saw/gists{/gist_id}","starred_url":"https://api.github.com/users/huwenming-saw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huwenming-saw/subscriptions","organizations_url":"https://api.github.com/users/huwenming-saw/orgs","repos_url":"https://api.github.com/users/huwenming-saw/repos","events_url":"https://api.github.com/users/huwenming-saw/events{/privacy}","received_events_url":"https://api.github.com/users/huwenming-saw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T02:17:41Z","updated_at":"2022-10-10T02:17:41Z","author_association":"NONE","body":"> 那么当 nacos通知A2无实例时，调用nacosListener，监听器中调用notifySubscriber(url, serviceName, listener, instances);\r\n但是这个serviceNames是A1，变成了通知A1无实例\r\n\r\n@404008945  是的，我也认为是这样的，共用同一个EventListener，但是因为匿名内部类的原因导致调用notifySubscriber(url, serviceName, listener, instances)时的serviceName相同。@AlbumenJ  虽然NacosAggregateListener内部会聚合，但是因为公用同一个EventListener的serviceName相同都是A1，导致NacosAggregateListener聚合时出现全部为空的A1无实例\r\n```java\r\n    private void notifySubscriber(URL url, String serviceName, NacosAggregateListener listener, Collection<Instance> instances) {\r\n        List<Instance> enabledInstances = new LinkedList<>(instances);\r\n        if (enabledInstances.size() > 0) {\r\n            //  Instances\r\n            filterEnabledInstances(enabledInstances);\r\n        }\r\n        //saveAndAggregateAllInstances方法被触发，返回的是多个serviceName的聚合结果\r\n        List<URL> aggregatedUrls = toUrlWithEmpty(url, listener.saveAndAggregateAllInstances(serviceName, enabledInstances));\r\n        NacosRegistry.this.notify(url, listener.getNotifyListener(), aggregatedUrls);\r\n    }\r\n\r\n    public List<Instance> saveAndAggregateAllInstances(String serviceName, List<Instance> instances) {\r\n        serviceNames.add(serviceName);\r\n        serviceInstances.put(serviceName, instances);//serviceInstances本来是{A1:instances,A2:emptyinstances},因为EventListener的serviceName相同都是A1，Nacos根据订阅通知时导致serviceInstances里边全部被替换为{A1:emptyinstances,A2:emptyinstances}\r\n        return serviceInstances.values().stream().flatMap(List::stream).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272713597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272715025","html_url":"https://github.com/apache/dubbo/issues/10712#issuecomment-1272715025","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10712","id":1272715025,"node_id":"IC_kwDOAEfiCM5L3BcR","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T02:20:09Z","updated_at":"2022-10-10T02:20:09Z","author_association":"MEMBER","body":"please try 3.0.12 or 3.1.1 for the latest versioin","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272715025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272715505","html_url":"https://github.com/apache/dubbo/pull/10711#issuecomment-1272715505","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10711","id":1272715505,"node_id":"IC_kwDOAEfiCM5L3Bjx","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T02:21:07Z","updated_at":"2022-10-10T02:21:07Z","author_association":"MEMBER","body":"@ilaotan Would you please add some description for this pr in apache/dubbo-website?","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272715505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272715817","html_url":"https://github.com/apache/dubbo/issues/10713#issuecomment-1272715817","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10713","id":1272715817,"node_id":"IC_kwDOAEfiCM5L3Bop","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T02:21:44Z","updated_at":"2022-10-10T02:21:44Z","author_association":"MEMBER","body":"怎么注册的，具体是什么做的细节发一下","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272715817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272716899","html_url":"https://github.com/apache/dubbo/issues/10710#issuecomment-1272716899","issue_url":"https://api.github.com/repos/apache/dubbo/issues/10710","id":1272716899,"node_id":"IC_kwDOAEfiCM5L3B5j","user":{"login":"AlbumenJ","id":9292748,"node_id":"MDQ6VXNlcjkyOTI3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/9292748?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbumenJ","html_url":"https://github.com/AlbumenJ","followers_url":"https://api.github.com/users/AlbumenJ/followers","following_url":"https://api.github.com/users/AlbumenJ/following{/other_user}","gists_url":"https://api.github.com/users/AlbumenJ/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbumenJ/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbumenJ/subscriptions","organizations_url":"https://api.github.com/users/AlbumenJ/orgs","repos_url":"https://api.github.com/users/AlbumenJ/repos","events_url":"https://api.github.com/users/AlbumenJ/events{/privacy}","received_events_url":"https://api.github.com/users/AlbumenJ/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-10-10T02:24:03Z","updated_at":"2022-10-10T02:24:03Z","author_association":"MEMBER","body":"是不是 WaterFallMaterialDTO 和 MaterialBaseBase 中有同名属性，如果有同名的话 hessian 是无法处理的","reactions":{"url":"https://api.github.com/repos/apache/dubbo/issues/comments/1272716899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]