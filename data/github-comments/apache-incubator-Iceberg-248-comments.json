[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524066044","html_url":"https://github.com/apache/iceberg/issues/7113#issuecomment-1524066044","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7113","id":1524066044,"node_id":"IC_kwDOCW7NX85a12b8","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T21:27:08Z","updated_at":"2023-04-26T21:27:08Z","author_association":"COLLABORATOR","body":"Yea, the flag provided there:  HIVE_TABLE_PROPERTY_MAX_SIZE  can be set to 0 to not store the property at all","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524066044/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524079890","html_url":"https://github.com/apache/iceberg/issues/7113#issuecomment-1524079890","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7113","id":1524079890,"node_id":"IC_kwDOCW7NX85a150S","user":{"login":"flyrain","id":1322359,"node_id":"MDQ6VXNlcjEzMjIzNTk=","avatar_url":"https://avatars.githubusercontent.com/u/1322359?v=4","gravatar_id":"","url":"https://api.github.com/users/flyrain","html_url":"https://github.com/flyrain","followers_url":"https://api.github.com/users/flyrain/followers","following_url":"https://api.github.com/users/flyrain/following{/other_user}","gists_url":"https://api.github.com/users/flyrain/gists{/gist_id}","starred_url":"https://api.github.com/users/flyrain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/flyrain/subscriptions","organizations_url":"https://api.github.com/users/flyrain/orgs","repos_url":"https://api.github.com/users/flyrain/repos","events_url":"https://api.github.com/users/flyrain/events{/privacy}","received_events_url":"https://api.github.com/users/flyrain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T21:41:14Z","updated_at":"2023-04-26T21:45:14Z","author_association":"CONTRIBUTOR","body":"Yup, but I'd assume he needs the schema to be stored at the catalog. We checked the size for schema as well, here is the code,\r\nhttps://github.com/apache/iceberg/blob/e2bb9ad7e792efca419fa7c4a1afde7c4c44fa01/hive-metastore/src/main/java/org/apache/iceberg/hive/HiveTableOperations.java#L504-L504","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524079890/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524086171","html_url":"https://github.com/apache/iceberg/issues/7154#issuecomment-1524086171","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7154","id":1524086171,"node_id":"IC_kwDOCW7NX85a17Wb","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T21:48:28Z","updated_at":"2023-04-26T21:48:28Z","author_association":"CONTRIBUTOR","body":"@zhaomin1423 do you still plan to work on this?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524086171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524134661","html_url":"https://github.com/apache/iceberg/issues/7383#issuecomment-1524134661","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7383","id":1524134661,"node_id":"IC_kwDOCW7NX85a2HMF","user":{"login":"cgpoh","id":11516015,"node_id":"MDQ6VXNlcjExNTE2MDE1","avatar_url":"https://avatars.githubusercontent.com/u/11516015?v=4","gravatar_id":"","url":"https://api.github.com/users/cgpoh","html_url":"https://github.com/cgpoh","followers_url":"https://api.github.com/users/cgpoh/followers","following_url":"https://api.github.com/users/cgpoh/following{/other_user}","gists_url":"https://api.github.com/users/cgpoh/gists{/gist_id}","starred_url":"https://api.github.com/users/cgpoh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgpoh/subscriptions","organizations_url":"https://api.github.com/users/cgpoh/orgs","repos_url":"https://api.github.com/users/cgpoh/repos","events_url":"https://api.github.com/users/cgpoh/events{/privacy}","received_events_url":"https://api.github.com/users/cgpoh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-26T22:54:26Z","updated_at":"2023-04-26T22:54:26Z","author_association":"CONTRIBUTOR","body":"@RussellSpitzer thanks for the reply! Will try out the rewrite manifest action.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524134661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524257712","html_url":"https://github.com/apache/iceberg/issues/5986#issuecomment-1524257712","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5986","id":1524257712,"node_id":"IC_kwDOCW7NX85a2lOw","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T00:11:22Z","updated_at":"2023-04-27T00:11:22Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524257712/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524257767","html_url":"https://github.com/apache/iceberg/issues/5971#issuecomment-1524257767","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5971","id":1524257767,"node_id":"IC_kwDOCW7NX85a2lPn","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T00:11:24Z","updated_at":"2023-04-27T00:11:24Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524257767/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524257835","html_url":"https://github.com/apache/iceberg/issues/5936#issuecomment-1524257835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5936","id":1524257835,"node_id":"IC_kwDOCW7NX85a2lQr","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T00:11:26Z","updated_at":"2023-04-27T00:11:26Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524257835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524257901","html_url":"https://github.com/apache/iceberg/issues/5909#issuecomment-1524257901","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5909","id":1524257901,"node_id":"IC_kwDOCW7NX85a2lRt","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T00:11:28Z","updated_at":"2023-04-27T00:11:28Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524257901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524591137","html_url":"https://github.com/apache/iceberg/issues/6422#issuecomment-1524591137","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6422","id":1524591137,"node_id":"IC_kwDOCW7NX85a32oh","user":{"login":"ChristinaTech","id":6320689,"node_id":"MDQ6VXNlcjYzMjA2ODk=","avatar_url":"https://avatars.githubusercontent.com/u/6320689?v=4","gravatar_id":"","url":"https://api.github.com/users/ChristinaTech","html_url":"https://github.com/ChristinaTech","followers_url":"https://api.github.com/users/ChristinaTech/followers","following_url":"https://api.github.com/users/ChristinaTech/following{/other_user}","gists_url":"https://api.github.com/users/ChristinaTech/gists{/gist_id}","starred_url":"https://api.github.com/users/ChristinaTech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ChristinaTech/subscriptions","organizations_url":"https://api.github.com/users/ChristinaTech/orgs","repos_url":"https://api.github.com/users/ChristinaTech/repos","events_url":"https://api.github.com/users/ChristinaTech/events{/privacy}","received_events_url":"https://api.github.com/users/ChristinaTech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T03:23:26Z","updated_at":"2023-04-27T03:23:26Z","author_association":"CONTRIBUTOR","body":"So just because incremental read can't use compacted data, doesn't necessarily mean you can't use incremental reads, just that it would potentially be less efficient. How inefficient incremental reads would be would depend largely on how efficiently the data was stored when it was first appended to the Iceberg table. \r\n\r\nWhile querying on a partitioned time column would have the advantage of using compacted files where available, it would come with the disadvantage of having to deal with missing or duplicate results due to any data being ingested late. This could of course be worked around by making sure you waited until you were certain no more data would arrive for a given time range before querying on it but that would increase the delay between data arriving and actually being processed.\r\n\r\nSince my last comment I have spent a bit of time thinking on how incremental reads could be improved to use compacted data and I am going to open a separate issue to track some potential improvements to this process sometime in the coming days.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524591137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524624706","html_url":"https://github.com/apache/iceberg/pull/5985#issuecomment-1524624706","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5985","id":1524624706,"node_id":"IC_kwDOCW7NX85a3-1C","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T03:43:06Z","updated_at":"2023-04-27T03:43:06Z","author_association":"CONTRIBUTOR","body":"I will go ahead to merge this to unblock #5984, and mark Liwei as coauthor to close #5982. Thanks everyone!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524624706/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524628171","html_url":"https://github.com/apache/iceberg/pull/5982#issuecomment-1524628171","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5982","id":1524628171,"node_id":"IC_kwDOCW7NX85a3_rL","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T03:45:07Z","updated_at":"2023-04-27T03:45:07Z","author_association":"CONTRIBUTOR","body":"Close with #5985","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524628171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524641409","html_url":"https://github.com/apache/iceberg/pull/7429#issuecomment-1524641409","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7429","id":1524641409,"node_id":"IC_kwDOCW7NX85a4C6B","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T03:52:29Z","updated_at":"2023-04-27T03:52:49Z","author_association":"CONTRIBUTOR","body":"> is it a backward compatible change?\r\n\r\nUnder what case would user have this error? @szehon-ho ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524641409/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524725162","html_url":"https://github.com/apache/iceberg/pull/7439#issuecomment-1524725162","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7439","id":1524725162,"node_id":"IC_kwDOCW7NX85a4XWq","user":{"login":"vishnukumarsinha","id":7098356,"node_id":"MDQ6VXNlcjcwOTgzNTY=","avatar_url":"https://avatars.githubusercontent.com/u/7098356?v=4","gravatar_id":"","url":"https://api.github.com/users/vishnukumarsinha","html_url":"https://github.com/vishnukumarsinha","followers_url":"https://api.github.com/users/vishnukumarsinha/followers","following_url":"https://api.github.com/users/vishnukumarsinha/following{/other_user}","gists_url":"https://api.github.com/users/vishnukumarsinha/gists{/gist_id}","starred_url":"https://api.github.com/users/vishnukumarsinha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vishnukumarsinha/subscriptions","organizations_url":"https://api.github.com/users/vishnukumarsinha/orgs","repos_url":"https://api.github.com/users/vishnukumarsinha/repos","events_url":"https://api.github.com/users/vishnukumarsinha/events{/privacy}","received_events_url":"https://api.github.com/users/vishnukumarsinha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T05:29:32Z","updated_at":"2023-04-27T05:29:32Z","author_association":"CONTRIBUTOR","body":"HI @RussellSpitzer, Please review this PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524725162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524774294","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1524774294","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1524774294,"node_id":"IC_kwDOCW7NX85a4jWW","user":{"login":"akshayjain3450","id":39643112,"node_id":"MDQ6VXNlcjM5NjQzMTEy","avatar_url":"https://avatars.githubusercontent.com/u/39643112?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayjain3450","html_url":"https://github.com/akshayjain3450","followers_url":"https://api.github.com/users/akshayjain3450/followers","following_url":"https://api.github.com/users/akshayjain3450/following{/other_user}","gists_url":"https://api.github.com/users/akshayjain3450/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayjain3450/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayjain3450/subscriptions","organizations_url":"https://api.github.com/users/akshayjain3450/orgs","repos_url":"https://api.github.com/users/akshayjain3450/repos","events_url":"https://api.github.com/users/akshayjain3450/events{/privacy}","received_events_url":"https://api.github.com/users/akshayjain3450/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T05:58:23Z","updated_at":"2023-04-27T05:58:23Z","author_association":"NONE","body":"According to MySQL and SQL Server which are following SQL Standards: we have this rule as I stated in the discussion.\r\n\r\nPlease go through this documentation: \r\n\r\n1. https://learn.microsoft.com/en-us/sql/t-sql/data-types/decimal-and-numeric-transact-sql?view=sql-server-ver16\r\n2. https://dev.mysql.com/doc/refman/8.0/en/precision-math-decimal-characteristics.html\r\n\r\nWhereas Postgresql follows the one which Oracle does: https://www.postgresql.org/docs/current/datatype-numeric.html\r\n\r\nI still think it's up to us to decide which we should be going with and what should be supported. In any case we go, we should have similar checks all the way to avoid inconsistency as currently it exists.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1524774294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525626500","html_url":"https://github.com/apache/iceberg/pull/7445#issuecomment-1525626500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7445","id":1525626500,"node_id":"IC_kwDOCW7NX85a7zaE","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T12:39:51Z","updated_at":"2023-04-27T12:39:51Z","author_association":"CONTRIBUTOR","body":"just an FYI that there's also https://github.com/apache/iceberg/pull/6701 to address the same","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525626500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525726860","html_url":"https://github.com/apache/iceberg/pull/7444#issuecomment-1525726860","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7444","id":1525726860,"node_id":"IC_kwDOCW7NX85a8L6M","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T13:47:28Z","updated_at":"2023-04-27T13:47:28Z","author_association":"CONTRIBUTOR","body":"Feels like we should use the async client for this? We should not be blocked by metrics reporting calls","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525726860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525770899","html_url":"https://github.com/apache/iceberg/issues/7173#issuecomment-1525770899","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7173","id":1525770899,"node_id":"IC_kwDOCW7NX85a8WqT","user":{"login":"netanelm-upstream","id":112799795,"node_id":"U_kgDOBrkwMw","avatar_url":"https://avatars.githubusercontent.com/u/112799795?v=4","gravatar_id":"","url":"https://api.github.com/users/netanelm-upstream","html_url":"https://github.com/netanelm-upstream","followers_url":"https://api.github.com/users/netanelm-upstream/followers","following_url":"https://api.github.com/users/netanelm-upstream/following{/other_user}","gists_url":"https://api.github.com/users/netanelm-upstream/gists{/gist_id}","starred_url":"https://api.github.com/users/netanelm-upstream/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/netanelm-upstream/subscriptions","organizations_url":"https://api.github.com/users/netanelm-upstream/orgs","repos_url":"https://api.github.com/users/netanelm-upstream/repos","events_url":"https://api.github.com/users/netanelm-upstream/events{/privacy}","received_events_url":"https://api.github.com/users/netanelm-upstream/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T14:11:39Z","updated_at":"2023-04-27T14:11:39Z","author_association":"NONE","body":"We are encountering the same problem as well.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525770899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525873933","html_url":"https://github.com/apache/iceberg/pull/7443#issuecomment-1525873933","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7443","id":1525873933,"node_id":"IC_kwDOCW7NX85a8v0N","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T15:11:00Z","updated_at":"2023-04-27T15:11:00Z","author_association":"CONTRIBUTOR","body":"cc @nastra @amogh-jahagirdar @jackye1995 @szehon-ho @flyrain @RussellSpitzer @singhpk234 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525873933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525885269","html_url":"https://github.com/apache/iceberg/pull/3024#issuecomment-1525885269","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3024","id":1525885269,"node_id":"IC_kwDOCW7NX85a8ylV","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T15:18:01Z","updated_at":"2023-04-27T15:18:01Z","author_association":"CONTRIBUTOR","body":"This seems mostly ready, @nastra could you rebase so we can check against the latest CI?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525885269/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525886652","html_url":"https://github.com/apache/iceberg/issues/6316#issuecomment-1525886652","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6316","id":1525886652,"node_id":"IC_kwDOCW7NX85a8y68","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T15:18:50Z","updated_at":"2023-04-27T15:18:50Z","author_association":"CONTRIBUTOR","body":"@gaborkaszab do you plan to work on this deprecation?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525886652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525887305","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1525887305","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1525887305,"node_id":"IC_kwDOCW7NX85a8zFJ","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T15:19:13Z","updated_at":"2023-04-27T15:19:13Z","author_association":"MEMBER","body":"Spark seems to have the same restrictions on their DecimalType\r\n```\r\nscala> DecimalType(0,3)\r\norg.apache.spark.sql.AnalysisException: Decimal scale (3) cannot be greater than precision (0).\r\n  at org.apache.spark.sql.errors.QueryCompilationErrors$.decimalCannotGreaterThanPrecisionError(QueryCompilationErrors.scala:1690)\r\n  ```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525887305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525891805","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1525891805","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1525891805,"node_id":"IC_kwDOCW7NX85a80Ld","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T15:21:58Z","updated_at":"2023-04-27T15:21:58Z","author_association":"MEMBER","body":"Trino also has this check\r\nhttps://github.com/trinodb/trino/blob/master/core/trino-spi/src/main/java/io/trino/spi/type/DecimalType.java#L40-L42","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525891805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525903089","html_url":"https://github.com/apache/iceberg/pull/7429#issuecomment-1525903089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7429","id":1525903089,"node_id":"IC_kwDOCW7NX85a827x","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T15:28:54Z","updated_at":"2023-04-27T15:29:35Z","author_association":"CONTRIBUTOR","body":"we can get the values in both long, Long, so using the function call directly would not be problematic but let's say if some one is extending SparkReadConf and over-riding the `streamFromTimestamp()` might face issue as now the signatures don't match. But it seems like a very niche use case. \r\n\r\nWould like  to know your thoughts and make the changes accordingly, as `streamFromTimestamp()` is the only released public method will mark it deprecated, and add a new one with primitive type as well.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525903089/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525938670","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1525938670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1525938670,"node_id":"IC_kwDOCW7NX85a8_nu","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T15:51:39Z","updated_at":"2023-04-27T15:51:39Z","author_association":"CONTRIBUTOR","body":"Seems like there is a general consensus in most systems about `0 <= s <= p`. \r\n\r\nSo for the part of the question about having 0 precision, looks like that is allowed?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1525938670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526019941","html_url":"https://github.com/apache/iceberg/pull/7429#issuecomment-1526019941","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7429","id":1526019941,"node_id":"IC_kwDOCW7NX85a9Tdl","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T16:45:19Z","updated_at":"2023-04-27T16:45:19Z","author_association":"COLLABORATOR","body":"Yea I am thinking, if our caller does not recompile their library on newer Iceberg version , they will hit it, but I think its not the normal flow.  Thanks for double checking.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526019941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526025783","html_url":"https://github.com/apache/iceberg/pull/7429#issuecomment-1526025783","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7429","id":1526025783,"node_id":"IC_kwDOCW7NX85a9U43","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T16:50:11Z","updated_at":"2023-04-27T16:50:11Z","author_association":"CONTRIBUTOR","body":"Thanks, @singhpk234!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526025783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526055815","html_url":"https://github.com/apache/iceberg/pull/7448#issuecomment-1526055815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7448","id":1526055815,"node_id":"IC_kwDOCW7NX85a9cOH","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T17:15:05Z","updated_at":"2023-04-27T17:15:05Z","author_association":"CONTRIBUTOR","body":"Thanks, @szehon-ho!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526055815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526058695","html_url":"https://github.com/apache/iceberg/pull/7422#issuecomment-1526058695","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7422","id":1526058695,"node_id":"IC_kwDOCW7NX85a9c7H","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T17:17:36Z","updated_at":"2023-04-27T17:17:36Z","author_association":"CONTRIBUTOR","body":"@singhpk234 could you rebase the PR based on the refactoring?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526058695/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526059282","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1526059282","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1526059282,"node_id":"IC_kwDOCW7NX85a9dES","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T17:18:04Z","updated_at":"2023-04-27T17:18:04Z","author_association":"MEMBER","body":"> Seems like there is a general consensus in most systems about `0 <= s <= p`.\r\n> \r\n> So for the part of the question about having 0 precision, looks like that is allowed?\r\n\r\nAllowed in Spark \r\n\r\nscala> DecimalType(0,0)\r\nval res2: org.apache.spark.sql.types.DecimalType = DecimalType(0,0)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526059282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526073045","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1526073045","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1526073045,"node_id":"IC_kwDOCW7NX85a9gbV","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T17:29:46Z","updated_at":"2023-04-27T17:29:53Z","author_association":"CONTRIBUTOR","body":"`precision = 0` is not permitted in Trino: https://github.com/trinodb/trino/blob/master/core/trino-spi/src/main/java/io/trino/spi/type/DecimalType.java#L37","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526073045/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526101279","html_url":"https://github.com/apache/iceberg/pull/7188#issuecomment-1526101279","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7188","id":1526101279,"node_id":"IC_kwDOCW7NX85a9nUf","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T17:54:46Z","updated_at":"2023-04-27T17:54:46Z","author_association":"MEMBER","body":"Tests seem to be failing here?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526101279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526122179","html_url":"https://github.com/apache/iceberg/pull/3024#issuecomment-1526122179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3024","id":1526122179,"node_id":"IC_kwDOCW7NX85a9sbD","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:12:53Z","updated_at":"2023-04-27T18:12:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the work! Merging for 1.3.0","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526122179/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526129392","html_url":"https://github.com/apache/iceberg/pull/7430#issuecomment-1526129392","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7430","id":1526129392,"node_id":"IC_kwDOCW7NX85a9uLw","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:19:41Z","updated_at":"2023-04-27T18:19:41Z","author_association":"CONTRIBUTOR","body":"Why would we want to support this property at the session level? The split size is specific to data volume, which varies from table to table. Spark built-in tables rely solely on the session config but it is not the case for Iceberg. We do have SQL properties to override what's set in the table but I am not sure this is a good use case.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526129392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526171169","html_url":"https://github.com/apache/iceberg/pull/7429#issuecomment-1526171169","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7429","id":1526171169,"node_id":"IC_kwDOCW7NX85a94Yh","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T18:54:21Z","updated_at":"2023-04-27T18:54:21Z","author_association":"CONTRIBUTOR","body":"Thanks @singhpk234 ! i was thinkiing about @szehon-ho point , I don't think we can set an expectation that people can extend SparkReadConf and have signatures align. So overall, this change looks good to me","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526171169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526199803","html_url":"https://github.com/apache/iceberg/pull/7430#issuecomment-1526199803","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7430","id":1526199803,"node_id":"IC_kwDOCW7NX85a9_X7","user":{"login":"puchengy","id":8072956,"node_id":"MDQ6VXNlcjgwNzI5NTY=","avatar_url":"https://avatars.githubusercontent.com/u/8072956?v=4","gravatar_id":"","url":"https://api.github.com/users/puchengy","html_url":"https://github.com/puchengy","followers_url":"https://api.github.com/users/puchengy/followers","following_url":"https://api.github.com/users/puchengy/following{/other_user}","gists_url":"https://api.github.com/users/puchengy/gists{/gist_id}","starred_url":"https://api.github.com/users/puchengy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/puchengy/subscriptions","organizations_url":"https://api.github.com/users/puchengy/orgs","repos_url":"https://api.github.com/users/puchengy/repos","events_url":"https://api.github.com/users/puchengy/events{/privacy}","received_events_url":"https://api.github.com/users/puchengy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T19:07:02Z","updated_at":"2023-04-27T19:07:36Z","author_association":"CONTRIBUTOR","body":"Hi @aokolnychyi I think there is legit value for this.\r\n\r\nWe are migrating hundreds of Hive tables to Iceberg. Ensuring the SparkSQL consumers of these tables don't fail is our top priorities. So the SparkSQL job used to read Hive table with some \"spark.sql.files.maxPartitionBytes\" values will fail if the Iceberg table split size is at huge difference, since this is causing more splits to be generated causing job failures.\r\n\r\nIt is even more complicated if different downstream jobs have different \"spark.sql.files.maxPartitionBytes\" values (I am not sure if this really happens, but in theory it could).\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526199803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526348295","html_url":"https://github.com/apache/iceberg/pull/7439#issuecomment-1526348295","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7439","id":1526348295,"node_id":"IC_kwDOCW7NX85a-joH","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T20:11:52Z","updated_at":"2023-04-27T20:11:52Z","author_association":"MEMBER","body":"Merged, Thanks @vishnukumarsinha ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526348295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526458540","html_url":"https://github.com/apache/iceberg/pull/7443#issuecomment-1526458540","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7443","id":1526458540,"node_id":"IC_kwDOCW7NX85a--is","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T21:00:50Z","updated_at":"2023-04-27T21:00:50Z","author_association":"CONTRIBUTOR","body":"Thanks, @RussellSpitzer!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526458540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526522715","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1526522715","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1526522715,"node_id":"IC_kwDOCW7NX85a_ONb","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T21:32:21Z","updated_at":"2023-04-27T21:32:21Z","author_association":"CONTRIBUTOR","body":"It's reasonable for precision=0 to be disallowed, but there are some cases where precision can be less than scale. Scale is where the decimal point goes, so you can have `decimal(3,2)` like `3.14` or `decimal(3,4)` like `0.0314`. Scale can also be negative to encode small precision large numbers, like `decimal(3, -4)` and `3140000`.\r\n\r\nWe should go with the SQL spec, but it may be that these are valid even if Trino doesn't support them.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526522715/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526676876","html_url":"https://github.com/apache/iceberg/issues/7094#issuecomment-1526676876","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7094","id":1526676876,"node_id":"IC_kwDOCW7NX85a_z2M","user":{"login":"akshayakp97","id":31289639,"node_id":"MDQ6VXNlcjMxMjg5NjM5","avatar_url":"https://avatars.githubusercontent.com/u/31289639?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayakp97","html_url":"https://github.com/akshayakp97","followers_url":"https://api.github.com/users/akshayakp97/followers","following_url":"https://api.github.com/users/akshayakp97/following{/other_user}","gists_url":"https://api.github.com/users/akshayakp97/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayakp97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayakp97/subscriptions","organizations_url":"https://api.github.com/users/akshayakp97/orgs","repos_url":"https://api.github.com/users/akshayakp97/repos","events_url":"https://api.github.com/users/akshayakp97/events{/privacy}","received_events_url":"https://api.github.com/users/akshayakp97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T22:50:47Z","updated_at":"2023-04-27T22:50:47Z","author_association":"CONTRIBUTOR","body":"Hi! I'm going to try making this change to `iceberg-orc` module","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526676876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526757304","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1526757304","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1526757304,"node_id":"IC_kwDOCW7NX85bAHe4","user":{"login":"bharos","id":4263644,"node_id":"MDQ6VXNlcjQyNjM2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4263644?v=4","gravatar_id":"","url":"https://api.github.com/users/bharos","html_url":"https://github.com/bharos","followers_url":"https://api.github.com/users/bharos/followers","following_url":"https://api.github.com/users/bharos/following{/other_user}","gists_url":"https://api.github.com/users/bharos/gists{/gist_id}","starred_url":"https://api.github.com/users/bharos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bharos/subscriptions","organizations_url":"https://api.github.com/users/bharos/orgs","repos_url":"https://api.github.com/users/bharos/repos","events_url":"https://api.github.com/users/bharos/events{/privacy}","received_events_url":"https://api.github.com/users/bharos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T23:31:38Z","updated_at":"2023-04-27T23:31:38Z","author_association":"NONE","body":"I was exploring a similar issue and found a few things that might be helpful.\r\n\r\nThe partition skew is mostly happening because of the `write.distribution-mode` config.\r\n\r\nBy default, it is set to `hash` for partitioned tables using Spark writes. This means that Spark does a shuffle (which is expensive) and assigns each partition to a single task (which is observed in your example).\r\n\r\nThe benefit of this is that you get large-sized files, which result in smaller metadata files and reduce the small files problem.\r\n\r\nOne config you can try to speed up the writes is to set `write.distribution-mode` to `None`. This means there is no shuffle, and any task can write to any partition. This can result in a large number of files, which can trigger the small files problem and slower reads. \r\n\r\nI also think there can be an intermediate option, such as setting `write.distribution-mode` to` None` and then repartitioning the data during the Spark write to get more parallelism. You can use `repartition(numPartitions)` or `coalesce(numPartitions)` if applicable, so that you can have more parallelism and still have somewhat larger files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526757304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526779646","html_url":"https://github.com/apache/iceberg/pull/7430#issuecomment-1526779646","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7430","id":1526779646,"node_id":"IC_kwDOCW7NX85bAM7-","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T23:43:52Z","updated_at":"2023-04-27T23:43:52Z","author_association":"CONTRIBUTOR","body":"Can we identify exact scenarios when the default split size performs poorly and check if we can solve the underlying problem? For instance, if the scheduler is FIFO, can we use the default cluster parallelism and the size of the data to be processed to come up with an optimal split size? We first find matching files and then plan splits so the split size can be dynamic, we just need a good way to estimate it correctly.\r\n\r\nI am not going to oppose a SQL config but I don't think we should rely on an internal SQL property for built-in file sources.\r\n\r\nThoughts, @puchengy @RussellSpitzer @szehon-ho @singhpk234 @rdblue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526779646/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526788169","html_url":"https://github.com/apache/iceberg/pull/7454#issuecomment-1526788169","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7454","id":1526788169,"node_id":"IC_kwDOCW7NX85bAPBJ","user":{"login":"JonasJ-ap","id":55990951,"node_id":"MDQ6VXNlcjU1OTkwOTUx","avatar_url":"https://avatars.githubusercontent.com/u/55990951?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasJ-ap","html_url":"https://github.com/JonasJ-ap","followers_url":"https://api.github.com/users/JonasJ-ap/followers","following_url":"https://api.github.com/users/JonasJ-ap/following{/other_user}","gists_url":"https://api.github.com/users/JonasJ-ap/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasJ-ap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasJ-ap/subscriptions","organizations_url":"https://api.github.com/users/JonasJ-ap/orgs","repos_url":"https://api.github.com/users/JonasJ-ap/repos","events_url":"https://api.github.com/users/JonasJ-ap/events{/privacy}","received_events_url":"https://api.github.com/users/JonasJ-ap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-27T23:55:29Z","updated_at":"2023-04-27T23:55:29Z","author_association":"CONTRIBUTOR","body":"@jackye1995 May I ask if you have time to take a look at this too?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526788169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526799602","html_url":"https://github.com/apache/iceberg/issues/5728#issuecomment-1526799602","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5728","id":1526799602,"node_id":"IC_kwDOCW7NX85bARzy","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T00:11:32Z","updated_at":"2023-04-28T00:11:32Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526799602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526799641","html_url":"https://github.com/apache/iceberg/issues/5512#issuecomment-1526799641","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5512","id":1526799641,"node_id":"IC_kwDOCW7NX85bAR0Z","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T00:11:36Z","updated_at":"2023-04-28T00:11:36Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526799641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526799683","html_url":"https://github.com/apache/iceberg/issues/4471#issuecomment-1526799683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/4471","id":1526799683,"node_id":"IC_kwDOCW7NX85bAR1D","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T00:11:39Z","updated_at":"2023-04-28T00:11:39Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526799683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526807116","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1526807116","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1526807116,"node_id":"IC_kwDOCW7NX85bATpM","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T00:22:19Z","updated_at":"2023-04-28T00:22:19Z","author_association":"CONTRIBUTOR","body":"Is this the formal definition of the SQL spec? Does anyone have a formal definition of decimal from ANSI?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526807116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526807337","html_url":"https://github.com/apache/iceberg/pull/7412#issuecomment-1526807337","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7412","id":1526807337,"node_id":"IC_kwDOCW7NX85bATsp","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T00:22:36Z","updated_at":"2023-04-28T00:22:36Z","author_association":"CONTRIBUTOR","body":"@coufon can you help explain and document how the atomic update works?  I assume this is somehow related to the `etag` and `updateTable` call, but it's not entirely clear how the atomic swap is enforced.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526807337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526815771","html_url":"https://github.com/apache/iceberg/pull/7450#issuecomment-1526815771","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7450","id":1526815771,"node_id":"IC_kwDOCW7NX85bAVwb","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T00:33:11Z","updated_at":"2023-04-28T00:33:11Z","author_association":"CONTRIBUTOR","body":"Thanks for adding the feature Jonas!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526815771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526907138","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1526907138","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1526907138,"node_id":"IC_kwDOCW7NX85bAsEC","user":{"login":"BsoBird","id":30249475,"node_id":"MDQ6VXNlcjMwMjQ5NDc1","avatar_url":"https://avatars.githubusercontent.com/u/30249475?v=4","gravatar_id":"","url":"https://api.github.com/users/BsoBird","html_url":"https://github.com/BsoBird","followers_url":"https://api.github.com/users/BsoBird/followers","following_url":"https://api.github.com/users/BsoBird/following{/other_user}","gists_url":"https://api.github.com/users/BsoBird/gists{/gist_id}","starred_url":"https://api.github.com/users/BsoBird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BsoBird/subscriptions","organizations_url":"https://api.github.com/users/BsoBird/orgs","repos_url":"https://api.github.com/users/BsoBird/repos","events_url":"https://api.github.com/users/BsoBird/events{/privacy}","received_events_url":"https://api.github.com/users/BsoBird/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T02:51:33Z","updated_at":"2023-04-28T02:52:42Z","author_association":"NONE","body":"@bharos \r\nThank you very much for your reply. \r\nBut the solution you mentioned I think there are some problems as follows: \r\n1. When I write a large number of datasets to a large number of partitions, because we need to write data to a large number of partitions for each TASK, so each TASK will create a lot of FlieWriter objects, which will quickly lead to the OOM of the job.\r\n2. In the above case, we will create a large number of handles on the server, the load on the server will rapidly increase, and the risk of downtime increases. \r\n3. even if the job can be completed, we will get a bunch of small files, which will lead to a significant drop in performance of analysis tasks based on this table.\r\n\r\nIf I am using HIVE, when I write to the partition table, I tend to do the following.\r\n```\r\ninsert overwrite table partition(part)\r\nselect id,name,part from source_table\r\ndistribute by part  //or distribute by hash(part)%1024\r\n```\r\nThe data is bucketed before it is written to the partition table. Each TASK writes a relatively small number of partitions, so the writes are quite acceptable. \r\nThis SQL statement tends to take longer to run because I redistribute the data.\r\n\r\nWhen `write.distribution-mode=HASH`, ICEBERG works in the same way as the SQL above. \r\nBut the problem is, ICEBERG has hidden partitions, so I can't control the data distribution manually outside. \r\nAnd our jobs are basically SQL jobs, our users can't accept to use SPARK API to redevelop their jobs. \r\nSo now the situation is rather awkward.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526907138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526918436","html_url":"https://github.com/apache/iceberg/pull/7430#issuecomment-1526918436","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7430","id":1526918436,"node_id":"IC_kwDOCW7NX85bAu0k","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T03:07:11Z","updated_at":"2023-04-28T03:17:39Z","author_association":"CONTRIBUTOR","body":"> We first find matching files and then plan splits so the split size can be dynamic, we just need a good way to estimate it correctly.\r\n\r\n+1 on @aokolnychyi's suggestion on dynamic split size generation, this would help in solving the problem from both sides small table with a large split size, and large table with a small split size, since iceberg is responsible for the scan planning it's best if it's takes the call itself on how to make these splits. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526918436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526936388","html_url":"https://github.com/apache/iceberg/pull/7430#issuecomment-1526936388","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7430","id":1526936388,"node_id":"IC_kwDOCW7NX85bAzNE","user":{"login":"puchengy","id":8072956,"node_id":"MDQ6VXNlcjgwNzI5NTY=","avatar_url":"https://avatars.githubusercontent.com/u/8072956?v=4","gravatar_id":"","url":"https://api.github.com/users/puchengy","html_url":"https://github.com/puchengy","followers_url":"https://api.github.com/users/puchengy/followers","following_url":"https://api.github.com/users/puchengy/following{/other_user}","gists_url":"https://api.github.com/users/puchengy/gists{/gist_id}","starred_url":"https://api.github.com/users/puchengy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/puchengy/subscriptions","organizations_url":"https://api.github.com/users/puchengy/orgs","repos_url":"https://api.github.com/users/puchengy/repos","events_url":"https://api.github.com/users/puchengy/events{/privacy}","received_events_url":"https://api.github.com/users/puchengy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T03:34:14Z","updated_at":"2023-04-28T03:41:24Z","author_association":"CONTRIBUTOR","body":"Hi @aokolnychyi, \r\n\r\n> I am not going to oppose a SQL config but I don't think we should rely on an internal SQL property for built-in file sources.\r\n\r\nTrying understand your stance here. Do you mean you are fine with the current change but against making it correlate to \"spark.sql.files.maxPartitionBytes\"? If so, I am fine with that.\r\n\r\n> Can we identify exact scenarios when the default split size performs poorly and check if we can solve the underlying problem?\r\n\r\nI can share two scenarios, they don't really lead to poor performance, but it made our platform team's life harder (\"harder\" means making migration work more challenging).\r\n\r\n(1) as mentioned above, when SparkSQL used to consume a Hive table with a large \"spark.sql.files.maxPartitionBytes\" value (for example, 1GB), changing the underlying table to Iceberg (default to 128MB split size) will immediately increase the split count by 8x (in theory), this will lead to driver memory consumption increased and cause job driver OOM. To fix that, we will have to increase driver memory manually for that job.\r\n\r\n(2) we have a strict SLA with we customer, this usually mean when we perform a change to a SparkSQL job (i.e. underlying table from Hive to Iceberg), hopefully we make sure the output are the same (number of files and size of each files). In the case of Iceberg migration, when source table is changed from Hive to Iceberg, due to the split count changes, it will directly increase the SparkSQL job output files by 8x (in theory). While we can further make a case that the increase is OK, but this is making the surface of work larger thus slower down the innovation. To fix that, we have to add explicit coalesce to match the behavior. \r\n\r\nNoted that I am also pro for the dynamic generation, but it will still be valuable for folks who are trying to adopt Iceberg in a large scale but don't want to care too much about the nuances and just want to match the existing behavior (i.e. no need to change workload configuration or query).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526936388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526977029","html_url":"https://github.com/apache/iceberg/pull/7441#issuecomment-1526977029","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7441","id":1526977029,"node_id":"IC_kwDOCW7NX85bA9IF","user":{"login":"szehon-ho","id":20555759,"node_id":"MDQ6VXNlcjIwNTU1NzU5","avatar_url":"https://avatars.githubusercontent.com/u/20555759?v=4","gravatar_id":"","url":"https://api.github.com/users/szehon-ho","html_url":"https://github.com/szehon-ho","followers_url":"https://api.github.com/users/szehon-ho/followers","following_url":"https://api.github.com/users/szehon-ho/following{/other_user}","gists_url":"https://api.github.com/users/szehon-ho/gists{/gist_id}","starred_url":"https://api.github.com/users/szehon-ho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/szehon-ho/subscriptions","organizations_url":"https://api.github.com/users/szehon-ho/orgs","repos_url":"https://api.github.com/users/szehon-ho/repos","events_url":"https://api.github.com/users/szehon-ho/events{/privacy}","received_events_url":"https://api.github.com/users/szehon-ho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T04:32:57Z","updated_at":"2023-04-28T04:32:57Z","author_association":"COLLABORATOR","body":"Thanks.  Yes, it depends on engine, I believe Spark has this support.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1526977029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527001510","html_url":"https://github.com/apache/iceberg/issues/7393#issuecomment-1527001510","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7393","id":1527001510,"node_id":"IC_kwDOCW7NX85bBDGm","user":{"login":"xccui","id":1452518,"node_id":"MDQ6VXNlcjE0NTI1MTg=","avatar_url":"https://avatars.githubusercontent.com/u/1452518?v=4","gravatar_id":"","url":"https://api.github.com/users/xccui","html_url":"https://github.com/xccui","followers_url":"https://api.github.com/users/xccui/followers","following_url":"https://api.github.com/users/xccui/following{/other_user}","gists_url":"https://api.github.com/users/xccui/gists{/gist_id}","starred_url":"https://api.github.com/users/xccui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xccui/subscriptions","organizations_url":"https://api.github.com/users/xccui/orgs","repos_url":"https://api.github.com/users/xccui/repos","events_url":"https://api.github.com/users/xccui/events{/privacy}","received_events_url":"https://api.github.com/users/xccui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T05:12:35Z","updated_at":"2023-04-28T05:12:35Z","author_association":"MEMBER","body":"Came across this issue. As a workaround, you can try defining your own `com.esotericsoftware.kryo.Serializer` for `DataStatisticsOrRecord` and register it via `env.registerTypeWithKryoSerializer()`.\r\n\r\n@stevenzwu I feel that at least we can make `DataStatisticsOrRecord` a POJO, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527001510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527005501","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1527005501","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1527005501,"node_id":"IC_kwDOCW7NX85bBEE9","user":{"login":"bharos","id":4263644,"node_id":"MDQ6VXNlcjQyNjM2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4263644?v=4","gravatar_id":"","url":"https://api.github.com/users/bharos","html_url":"https://github.com/bharos","followers_url":"https://api.github.com/users/bharos/followers","following_url":"https://api.github.com/users/bharos/following{/other_user}","gists_url":"https://api.github.com/users/bharos/gists{/gist_id}","starred_url":"https://api.github.com/users/bharos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bharos/subscriptions","organizations_url":"https://api.github.com/users/bharos/orgs","repos_url":"https://api.github.com/users/bharos/repos","events_url":"https://api.github.com/users/bharos/events{/privacy}","received_events_url":"https://api.github.com/users/bharos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T05:19:21Z","updated_at":"2023-04-28T05:51:50Z","author_association":"NONE","body":"> I don't want to create too many partitions. Partitions speed up queries, but are very unfriendly to writes.\r\n\r\nI'm wondering that in your case, if you create more partitions, won't it reduce skew and distribution of data to more tasks with more partitions ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527005501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527025476","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1527025476","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1527025476,"node_id":"IC_kwDOCW7NX85bBI9E","user":{"login":"BsoBird","id":30249475,"node_id":"MDQ6VXNlcjMwMjQ5NDc1","avatar_url":"https://avatars.githubusercontent.com/u/30249475?v=4","gravatar_id":"","url":"https://api.github.com/users/BsoBird","html_url":"https://github.com/BsoBird","followers_url":"https://api.github.com/users/BsoBird/followers","following_url":"https://api.github.com/users/BsoBird/following{/other_user}","gists_url":"https://api.github.com/users/BsoBird/gists{/gist_id}","starred_url":"https://api.github.com/users/BsoBird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BsoBird/subscriptions","organizations_url":"https://api.github.com/users/BsoBird/orgs","repos_url":"https://api.github.com/users/BsoBird/repos","events_url":"https://api.github.com/users/BsoBird/events{/privacy}","received_events_url":"https://api.github.com/users/BsoBird/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T05:52:44Z","updated_at":"2023-04-28T05:52:44Z","author_association":"NONE","body":"@bharos \r\nThe main problem is that the more partitions you have on a table, the slower the writes and the more likely the job is to have problems. Even if you use a non-ACID type job to process the data, you may cause data loss.\r\nSo I don't want too many partitions.\r\nFor example, I have a 10TB table, if I don't set up partitioning, it will take me 40 minutes to rewrite the whole table.\r\nWhen I use the year+month partition, it takes me 8-10 hours to rewrite it once.\r\nAnd, if I don't do a redistribution of the data, my job will immediately report an error when I write a large number of partitions.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527025476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527028329","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1527028329","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1527028329,"node_id":"IC_kwDOCW7NX85bBJpp","user":{"login":"BsoBird","id":30249475,"node_id":"MDQ6VXNlcjMwMjQ5NDc1","avatar_url":"https://avatars.githubusercontent.com/u/30249475?v=4","gravatar_id":"","url":"https://api.github.com/users/BsoBird","html_url":"https://github.com/BsoBird","followers_url":"https://api.github.com/users/BsoBird/followers","following_url":"https://api.github.com/users/BsoBird/following{/other_user}","gists_url":"https://api.github.com/users/BsoBird/gists{/gist_id}","starred_url":"https://api.github.com/users/BsoBird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BsoBird/subscriptions","organizations_url":"https://api.github.com/users/BsoBird/orgs","repos_url":"https://api.github.com/users/BsoBird/repos","events_url":"https://api.github.com/users/BsoBird/events{/privacy}","received_events_url":"https://api.github.com/users/BsoBird/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T05:57:30Z","updated_at":"2023-04-28T05:58:54Z","author_association":"NONE","body":"With few partitions, the performance of direct query is really bad. However, we can use ZORDER or ORDER BY or SORT BY to sort the ORC files into order, which can also achieve the effect of DATA-SKIP.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527028329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527039328","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1527039328","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1527039328,"node_id":"IC_kwDOCW7NX85bBMVg","user":{"login":"bharos","id":4263644,"node_id":"MDQ6VXNlcjQyNjM2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4263644?v=4","gravatar_id":"","url":"https://api.github.com/users/bharos","html_url":"https://github.com/bharos","followers_url":"https://api.github.com/users/bharos/followers","following_url":"https://api.github.com/users/bharos/following{/other_user}","gists_url":"https://api.github.com/users/bharos/gists{/gist_id}","starred_url":"https://api.github.com/users/bharos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bharos/subscriptions","organizations_url":"https://api.github.com/users/bharos/orgs","repos_url":"https://api.github.com/users/bharos/repos","events_url":"https://api.github.com/users/bharos/events{/privacy}","received_events_url":"https://api.github.com/users/bharos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T06:09:59Z","updated_at":"2023-04-28T06:10:41Z","author_association":"NONE","body":"I'm not an expert here, but I see the bucket partition transformation mentioned in [writing-to-partitioned-tables  section](https://iceberg.apache.org/docs/latest/spark-writes/#writing-to-partitioned-tables ). Is that something that can help with your case ? I'm thinking if that can help you achieve similar to what you did in hive case above like `distribute by hash(part)%1024`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527039328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527061851","html_url":"https://github.com/apache/iceberg/pull/6004#issuecomment-1527061851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6004","id":1527061851,"node_id":"IC_kwDOCW7NX85bBR1b","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T06:37:15Z","updated_at":"2023-04-28T06:37:15Z","author_association":"CONTRIBUTOR","body":"@rdblue Latest commit reverts the change in `SingleValueParser` (as requested in order to test) so it i supposed to break.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527061851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527141621","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1527141621","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1527141621,"node_id":"IC_kwDOCW7NX85bBlT1","user":{"login":"BsoBird","id":30249475,"node_id":"MDQ6VXNlcjMwMjQ5NDc1","avatar_url":"https://avatars.githubusercontent.com/u/30249475?v=4","gravatar_id":"","url":"https://api.github.com/users/BsoBird","html_url":"https://github.com/BsoBird","followers_url":"https://api.github.com/users/BsoBird/followers","following_url":"https://api.github.com/users/BsoBird/following{/other_user}","gists_url":"https://api.github.com/users/BsoBird/gists{/gist_id}","starred_url":"https://api.github.com/users/BsoBird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BsoBird/subscriptions","organizations_url":"https://api.github.com/users/BsoBird/orgs","repos_url":"https://api.github.com/users/BsoBird/repos","events_url":"https://api.github.com/users/BsoBird/events{/privacy}","received_events_url":"https://api.github.com/users/BsoBird/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T07:52:13Z","updated_at":"2023-04-28T07:52:13Z","author_association":"NONE","body":"I don't really want to add calculated columns to solve the problem, and to redundant some special fields in order to deal with their own problems, I think this approach is very ugly.\r\n\r\nI haven't tried if ICEBERG's hidden partition supports nested functions, let me try","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527141621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527178904","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1527178904","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1527178904,"node_id":"IC_kwDOCW7NX85bBuaY","user":{"login":"BsoBird","id":30249475,"node_id":"MDQ6VXNlcjMwMjQ5NDc1","avatar_url":"https://avatars.githubusercontent.com/u/30249475?v=4","gravatar_id":"","url":"https://api.github.com/users/BsoBird","html_url":"https://github.com/BsoBird","followers_url":"https://api.github.com/users/BsoBird/followers","following_url":"https://api.github.com/users/BsoBird/following{/other_user}","gists_url":"https://api.github.com/users/BsoBird/gists{/gist_id}","starred_url":"https://api.github.com/users/BsoBird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BsoBird/subscriptions","organizations_url":"https://api.github.com/users/BsoBird/orgs","repos_url":"https://api.github.com/users/BsoBird/repos","events_url":"https://api.github.com/users/BsoBird/events{/privacy}","received_events_url":"https://api.github.com/users/BsoBird/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T08:23:40Z","updated_at":"2023-04-28T08:23:40Z","author_association":"NONE","body":"But with all due respect, setting `write.distribution-mode` on a table property to affect the write behavior of a job seems a bit clunky at the moment.\r\nThis will result in a consistent behavior for all details written to the table, but users in some cases will want to control the details of data writes themselves, which is not a small problem.\r\nAlthough I can not propose a better suggestion for a while, but it is a little inconvenient to use now","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527178904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527185278","html_url":"https://github.com/apache/iceberg/issues/7455#issuecomment-1527185278","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7455","id":1527185278,"node_id":"IC_kwDOCW7NX85bBv9-","user":{"login":"BsoBird","id":30249475,"node_id":"MDQ6VXNlcjMwMjQ5NDc1","avatar_url":"https://avatars.githubusercontent.com/u/30249475?v=4","gravatar_id":"","url":"https://api.github.com/users/BsoBird","html_url":"https://github.com/BsoBird","followers_url":"https://api.github.com/users/BsoBird/followers","following_url":"https://api.github.com/users/BsoBird/following{/other_user}","gists_url":"https://api.github.com/users/BsoBird/gists{/gist_id}","starred_url":"https://api.github.com/users/BsoBird/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BsoBird/subscriptions","organizations_url":"https://api.github.com/users/BsoBird/orgs","repos_url":"https://api.github.com/users/BsoBird/repos","events_url":"https://api.github.com/users/BsoBird/events{/privacy}","received_events_url":"https://api.github.com/users/BsoBird/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T08:29:25Z","updated_at":"2023-04-28T08:29:25Z","author_association":"NONE","body":"Hey, dude. Looks like you and I are having the same problem. Why don't you come over here and we'll discuss it?\r\nhttps://github.com/apache/iceberg/issues/7406","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527185278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527189703","html_url":"https://github.com/apache/iceberg/issues/6316#issuecomment-1527189703","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6316","id":1527189703,"node_id":"IC_kwDOCW7NX85bBxDH","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T08:33:28Z","updated_at":"2023-04-28T08:33:28Z","author_association":"COLLABORATOR","body":"Thanks for the reminder, @jackye1995 ! Apparently, https://github.com/apache/iceberg/pull/7156 has already dropped this. Closing the issue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527189703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527192469","html_url":"https://github.com/apache/iceberg/issues/7449#issuecomment-1527192469","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7449","id":1527192469,"node_id":"IC_kwDOCW7NX85bBxuV","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T08:35:35Z","updated_at":"2023-04-28T08:35:35Z","author_association":"COLLABORATOR","body":"Thanks for opening this issue, @aokolnychyi ! Is there any one working on this? If not, I can take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527192469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527197702","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1527197702","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1527197702,"node_id":"IC_kwDOCW7NX85bBzAG","user":{"login":"hellochueng","id":29030883,"node_id":"MDQ6VXNlcjI5MDMwODgz","avatar_url":"https://avatars.githubusercontent.com/u/29030883?v=4","gravatar_id":"","url":"https://api.github.com/users/hellochueng","html_url":"https://github.com/hellochueng","followers_url":"https://api.github.com/users/hellochueng/followers","following_url":"https://api.github.com/users/hellochueng/following{/other_user}","gists_url":"https://api.github.com/users/hellochueng/gists{/gist_id}","starred_url":"https://api.github.com/users/hellochueng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hellochueng/subscriptions","organizations_url":"https://api.github.com/users/hellochueng/orgs","repos_url":"https://api.github.com/users/hellochueng/repos","events_url":"https://api.github.com/users/hellochueng/events{/privacy}","received_events_url":"https://api.github.com/users/hellochueng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T08:40:28Z","updated_at":"2023-04-28T08:40:28Z","author_association":"NONE","body":"The following sentence is the exact words of the iceberg document\r\n\r\nIceberg requires the data to be sorted according to the partition spec per task (Spark partition) in prior to write against partitioned table\r\n\r\nI think this is the reason why writing slant partitions is slow\r\nPartitioned data needs to be sorted and writtenSo parallelism doesn't work","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527197702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527198444","html_url":"https://github.com/apache/iceberg/issues/2486#issuecomment-1527198444","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2486","id":1527198444,"node_id":"IC_kwDOCW7NX85bBzLs","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T08:41:07Z","updated_at":"2023-04-28T08:41:07Z","author_association":"CONTRIBUTOR","body":"Decimal support was added as part of https://github.com/apache/iceberg/commit/97a99c3cf4f3293fe3536402f015c5b65906e0ba","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527198444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527208577","html_url":"https://github.com/apache/iceberg/pull/7444#issuecomment-1527208577","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7444","id":1527208577,"node_id":"IC_kwDOCW7NX85bB1qB","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T08:48:59Z","updated_at":"2023-04-28T08:48:59Z","author_association":"CONTRIBUTOR","body":"> Feels like we should use the async client for this? We should not be blocked by metrics reporting calls\r\n\r\nThis would mean we introduce the AsyncHttp clients too: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/http-configuration.html#http-clients-available. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527208577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527300023","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1527300023","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1527300023,"node_id":"IC_kwDOCW7NX85bCL-3","user":{"login":"akshayjain3450","id":39643112,"node_id":"MDQ6VXNlcjM5NjQzMTEy","avatar_url":"https://avatars.githubusercontent.com/u/39643112?v=4","gravatar_id":"","url":"https://api.github.com/users/akshayjain3450","html_url":"https://github.com/akshayjain3450","followers_url":"https://api.github.com/users/akshayjain3450/followers","following_url":"https://api.github.com/users/akshayjain3450/following{/other_user}","gists_url":"https://api.github.com/users/akshayjain3450/gists{/gist_id}","starred_url":"https://api.github.com/users/akshayjain3450/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/akshayjain3450/subscriptions","organizations_url":"https://api.github.com/users/akshayjain3450/orgs","repos_url":"https://api.github.com/users/akshayjain3450/repos","events_url":"https://api.github.com/users/akshayjain3450/events{/privacy}","received_events_url":"https://api.github.com/users/akshayjain3450/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T09:57:11Z","updated_at":"2023-04-28T09:57:11Z","author_association":"NONE","body":"I do not have the formal definition, but spark-sql tries to conform with ANSI compliance if you enable this property: spark.sql.ansi.enabled=true.\r\n\r\nWith this property: \r\nI have these results:\r\n\r\nscala> DecimalType(0,0)\r\nres3: org.apache.spark.sql.types.DecimalType = DecimalType(0,0) as mentioned by @RussellSpitzer \r\n\r\nscala> DecimalType(2,3)\r\norg.apache.spark.sql.AnalysisException: Decimal scale (3) cannot be greater than precision (2).\r\n\r\nscala> DecimalType(2, -3)\r\norg.apache.spark.SparkException: [INTERNAL_ERROR] Negative scale is not allowed: -3. Set the config \"spark.sql.legacy.allowNegativeScaleOfDecimal\" to \"true\" to allow it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527300023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527302366","html_url":"https://github.com/apache/iceberg/issues/6475#issuecomment-1527302366","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6475","id":1527302366,"node_id":"IC_kwDOCW7NX85bCMje","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T09:58:13Z","updated_at":"2023-04-28T09:58:13Z","author_association":"CONTRIBUTOR","body":"I'll close this one since we're waiting on an Arrow release.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527302366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527317639","html_url":"https://github.com/apache/iceberg/issues/7457#issuecomment-1527317639","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7457","id":1527317639,"node_id":"IC_kwDOCW7NX85bCQSH","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T10:06:29Z","updated_at":"2023-04-28T10:06:29Z","author_association":"CONTRIBUTOR","body":"Thanks @mikulskibartosz for reporting this. Kudo's for the comprehensive issue. This is a known issue that we're working on and will be fixed in the next release: https://github.com/apache/iceberg/issues/6647","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527317639/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527318632","html_url":"https://github.com/apache/iceberg/issues/6647#issuecomment-1527318632","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6647","id":1527318632,"node_id":"IC_kwDOCW7NX85bCQho","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T10:07:13Z","updated_at":"2023-04-28T10:07:13Z","author_association":"CONTRIBUTOR","body":"@sheinbergon We're wrapping up the release, and hope to start the release process soon. I would expect within 1-2 weeks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527318632/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527757980","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1527757980","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1527757980,"node_id":"IC_kwDOCW7NX85bD7yc","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T15:47:25Z","updated_at":"2023-04-28T15:47:25Z","author_association":"CONTRIBUTOR","body":"Cool. In that case @rdblue @RussellSpitzer what do you think? Should we comply with ANSI on this? \r\n\r\nFrom usability perspective, given that non of the underlying file formats or query engine supports `p < s` or `s < 0`, I think it's probably more convenient to just throw error upfront for now, and if there is something that can back decimal with a wider definition that Iceberg support, we can always update that definition in the future.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527757980/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527761070","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1527761070","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1527761070,"node_id":"IC_kwDOCW7NX85bD8iu","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T15:50:17Z","updated_at":"2023-04-28T15:50:17Z","author_association":"MEMBER","body":"I mainly just don't want to break anything that is currently working (even if the definition of the type doesn't make sense), If the types wouldn't work in the file formats or in the engines we use to query them, I think it's fine to add more assertions. Do we need to define this in the spec as well?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527761070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527766482","html_url":"https://github.com/apache/iceberg/issues/7420#issuecomment-1527766482","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7420","id":1527766482,"node_id":"IC_kwDOCW7NX85bD93S","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T15:55:10Z","updated_at":"2023-04-28T15:55:10Z","author_association":"CONTRIBUTOR","body":"> Do we need to define this in the spec as well?\r\n\r\nI feel we should? because this kind of data type definition check should be based on the spec","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527766482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527800112","html_url":"https://github.com/apache/iceberg/issues/7449#issuecomment-1527800112","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7449","id":1527800112,"node_id":"IC_kwDOCW7NX85bEGEw","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T16:23:54Z","updated_at":"2023-04-28T16:23:54Z","author_association":"CONTRIBUTOR","body":"assigned to you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527800112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527819714","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1527819714","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1527819714,"node_id":"IC_kwDOCW7NX85bEK3C","user":{"login":"DarthData410","id":119692461,"node_id":"U_kgDOByJcrQ","avatar_url":"https://avatars.githubusercontent.com/u/119692461?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthData410","html_url":"https://github.com/DarthData410","followers_url":"https://api.github.com/users/DarthData410/followers","following_url":"https://api.github.com/users/DarthData410/following{/other_user}","gists_url":"https://api.github.com/users/DarthData410/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthData410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthData410/subscriptions","organizations_url":"https://api.github.com/users/DarthData410/orgs","repos_url":"https://api.github.com/users/DarthData410/repos","events_url":"https://api.github.com/users/DarthData410/events{/privacy}","received_events_url":"https://api.github.com/users/DarthData410/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T16:43:39Z","updated_at":"2023-04-28T16:43:39Z","author_association":"CONTRIBUTOR","body":"I can dive in here and take a look at this. I've been looking for a solid project to get involved in, and this is straight forward first issue. I have already forked the project, and will perform a PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527819714/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527835917","html_url":"https://github.com/apache/iceberg/pull/7412#issuecomment-1527835917","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7412","id":1527835917,"node_id":"IC_kwDOCW7NX85bEO0N","user":{"login":"coufon","id":11655397,"node_id":"MDQ6VXNlcjExNjU1Mzk3","avatar_url":"https://avatars.githubusercontent.com/u/11655397?v=4","gravatar_id":"","url":"https://api.github.com/users/coufon","html_url":"https://github.com/coufon","followers_url":"https://api.github.com/users/coufon/followers","following_url":"https://api.github.com/users/coufon/following{/other_user}","gists_url":"https://api.github.com/users/coufon/gists{/gist_id}","starred_url":"https://api.github.com/users/coufon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coufon/subscriptions","organizations_url":"https://api.github.com/users/coufon/orgs","repos_url":"https://api.github.com/users/coufon/repos","events_url":"https://api.github.com/users/coufon/events{/privacy}","received_events_url":"https://api.github.com/users/coufon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T16:59:54Z","updated_at":"2023-04-28T16:59:54Z","author_association":"NONE","body":"> Zhou Fang can you help explain and document how the atomic update works? I assume this is somehow related to the `etag` and `updateTable` call, but it's not entirely clear how the atomic swap is enforced.\r\n\r\nThank you so much for the review. I added a comment in the code to explain atomic update:\r\n\r\n      // Updating a BLMS table with etag. The BLMS server transactionally (1) checks that the etag\r\n      // of a table on server is the same as the etag provided by the client, and (2) update the\r\n      // table (and its etag). The server returns an error containing message \"etag mismatch\", if\r\n      // the etag on server has changed.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527835917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527837452","html_url":"https://github.com/apache/iceberg/issues/7461#issuecomment-1527837452","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7461","id":1527837452,"node_id":"IC_kwDOCW7NX85bEPMM","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:01:10Z","updated_at":"2023-04-28T17:01:10Z","author_association":"MEMBER","body":"What's the plan, and why would there be a pushdown on timestamp_day? The pushdown would be on timestamp which Iceberg would then convert to an expression on timestamp_day","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527837452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527852693","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1527852693","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1527852693,"node_id":"IC_kwDOCW7NX85bES6V","user":{"login":"DarthData410","id":119692461,"node_id":"U_kgDOByJcrQ","avatar_url":"https://avatars.githubusercontent.com/u/119692461?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthData410","html_url":"https://github.com/DarthData410","followers_url":"https://api.github.com/users/DarthData410/followers","following_url":"https://api.github.com/users/DarthData410/following{/other_user}","gists_url":"https://api.github.com/users/DarthData410/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthData410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthData410/subscriptions","organizations_url":"https://api.github.com/users/DarthData410/orgs","repos_url":"https://api.github.com/users/DarthData410/repos","events_url":"https://api.github.com/users/DarthData410/events{/privacy}","received_events_url":"https://api.github.com/users/DarthData410/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:13:07Z","updated_at":"2023-04-28T17:13:07Z","author_association":"CONTRIBUTOR","body":"I updated around the giving example, tested, and generated the mkdocs (mkdocs serve) and the warning for the from_bytes(...) function is now gone. I will proceed with fixing the remainder of the warnings and perform an additional PR for those, after being tested.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527852693/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527878730","html_url":"https://github.com/apache/iceberg/issues/7461#issuecomment-1527878730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7461","id":1527878730,"node_id":"IC_kwDOCW7NX85bEZRK","user":{"login":"matthewwillian","id":6597057,"node_id":"MDQ6VXNlcjY1OTcwNTc=","avatar_url":"https://avatars.githubusercontent.com/u/6597057?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewwillian","html_url":"https://github.com/matthewwillian","followers_url":"https://api.github.com/users/matthewwillian/followers","following_url":"https://api.github.com/users/matthewwillian/following{/other_user}","gists_url":"https://api.github.com/users/matthewwillian/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewwillian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewwillian/subscriptions","organizations_url":"https://api.github.com/users/matthewwillian/orgs","repos_url":"https://api.github.com/users/matthewwillian/repos","events_url":"https://api.github.com/users/matthewwillian/events{/privacy}","received_events_url":"https://api.github.com/users/matthewwillian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:32:46Z","updated_at":"2023-04-28T17:32:46Z","author_association":"NONE","body":"Attaching the query plan\r\n[query_plan.txt](https://github.com/apache/iceberg/files/11355981/query_plan.txt)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527878730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527879520","html_url":"https://github.com/apache/iceberg/issues/7406#issuecomment-1527879520","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7406","id":1527879520,"node_id":"IC_kwDOCW7NX85bEZdg","user":{"login":"bharos","id":4263644,"node_id":"MDQ6VXNlcjQyNjM2NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4263644?v=4","gravatar_id":"","url":"https://api.github.com/users/bharos","html_url":"https://github.com/bharos","followers_url":"https://api.github.com/users/bharos/followers","following_url":"https://api.github.com/users/bharos/following{/other_user}","gists_url":"https://api.github.com/users/bharos/gists{/gist_id}","starred_url":"https://api.github.com/users/bharos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bharos/subscriptions","organizations_url":"https://api.github.com/users/bharos/orgs","repos_url":"https://api.github.com/users/bharos/repos","events_url":"https://api.github.com/users/bharos/events{/privacy}","received_events_url":"https://api.github.com/users/bharos/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:33:32Z","updated_at":"2023-04-28T17:33:32Z","author_association":"NONE","body":"@hellochueng , for you as well, the https://github.com/apache/iceberg/issues/7406#issuecomment-1526757304 about repartitioning doesn't work well ? \r\nWill it help if you distribute data for the same partition across multiple tasks by repartitioning. It is not optimal but it might help the writes to be faster. But still requires the shuffle phase.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527879520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527882660","html_url":"https://github.com/apache/iceberg/issues/7461#issuecomment-1527882660","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7461","id":1527882660,"node_id":"IC_kwDOCW7NX85bEaOk","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:36:34Z","updated_at":"2023-04-28T17:36:34Z","author_association":"MEMBER","body":"Oh so you are looking for dynamic runtime partition pruning?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527882660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527886235","html_url":"https://github.com/apache/iceberg/issues/7461#issuecomment-1527886235","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7461","id":1527886235,"node_id":"IC_kwDOCW7NX85bEbGb","user":{"login":"matthewwillian","id":6597057,"node_id":"MDQ6VXNlcjY1OTcwNTc=","avatar_url":"https://avatars.githubusercontent.com/u/6597057?v=4","gravatar_id":"","url":"https://api.github.com/users/matthewwillian","html_url":"https://github.com/matthewwillian","followers_url":"https://api.github.com/users/matthewwillian/followers","following_url":"https://api.github.com/users/matthewwillian/following{/other_user}","gists_url":"https://api.github.com/users/matthewwillian/gists{/gist_id}","starred_url":"https://api.github.com/users/matthewwillian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matthewwillian/subscriptions","organizations_url":"https://api.github.com/users/matthewwillian/orgs","repos_url":"https://api.github.com/users/matthewwillian/repos","events_url":"https://api.github.com/users/matthewwillian/events{/privacy}","received_events_url":"https://api.github.com/users/matthewwillian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:39:50Z","updated_at":"2023-04-28T17:39:50Z","author_association":"NONE","body":"If by that you mean what's described in this article then yes https://medium.com/@prabhakaran.electric/spark-3-0-feature-dynamic-partition-pruning-dpp-to-avoid-scanning-irrelevant-data-1a7bbd006a89. Will it work if I just enable that config in my Spark job? If so, are there tradeoffs to consider when enabling that config?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527886235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527886735","html_url":"https://github.com/apache/iceberg/pull/7462#issuecomment-1527886735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7462","id":1527886735,"node_id":"IC_kwDOCW7NX85bEbOP","user":{"login":"DarthData410","id":119692461,"node_id":"U_kgDOByJcrQ","avatar_url":"https://avatars.githubusercontent.com/u/119692461?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthData410","html_url":"https://github.com/DarthData410","followers_url":"https://api.github.com/users/DarthData410/followers","following_url":"https://api.github.com/users/DarthData410/following{/other_user}","gists_url":"https://api.github.com/users/DarthData410/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthData410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthData410/subscriptions","organizations_url":"https://api.github.com/users/DarthData410/orgs","repos_url":"https://api.github.com/users/DarthData410/repos","events_url":"https://api.github.com/users/DarthData410/events{/privacy}","received_events_url":"https://api.github.com/users/DarthData410/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:40:22Z","updated_at":"2023-04-28T17:40:22Z","author_association":"CONTRIBUTOR","body":"After updating the comments for the functions listed as WARNINGS by mkdocs, in the python code, all WARNINGS are now removed for conversions.py Python code. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527886735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527888179","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1527888179","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1527888179,"node_id":"IC_kwDOCW7NX85bEbkz","user":{"login":"DarthData410","id":119692461,"node_id":"U_kgDOByJcrQ","avatar_url":"https://avatars.githubusercontent.com/u/119692461?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthData410","html_url":"https://github.com/DarthData410","followers_url":"https://api.github.com/users/DarthData410/followers","following_url":"https://api.github.com/users/DarthData410/following{/other_user}","gists_url":"https://api.github.com/users/DarthData410/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthData410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthData410/subscriptions","organizations_url":"https://api.github.com/users/DarthData410/orgs","repos_url":"https://api.github.com/users/DarthData410/repos","events_url":"https://api.github.com/users/DarthData410/events{/privacy}","received_events_url":"https://api.github.com/users/DarthData410/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:41:57Z","updated_at":"2023-04-28T17:41:57Z","author_association":"CONTRIBUTOR","body":"All warnings that where being generated by mkdocs serve call have been resolved for conversions.py file, and  pr #7462 represents the updates. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527888179/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527894463","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1527894463","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1527894463,"node_id":"IC_kwDOCW7NX85bEdG_","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:48:05Z","updated_at":"2023-04-28T17:48:05Z","author_association":"CONTRIBUTOR","body":"Hey @DarthData410 thanks for picking this up! Always great to have new folks joining the project. Thanks for resolving them in `conversion.py`. The end goal is to fix all the warnings and enable `--strict` mode. This will fail on any errors. I've updated the ticket above.\r\n\r\n```\r\n  mkdocs git:(fd-alter-table) mkdocs serve -a localhost:1815     \r\nINFO     -  Building documentation...\r\nINFO     -  Cleaning site directory\r\nINFO     -  DeprecationWarning: The `griffe.agents.extensions` module is deprecated in favor of the `griffe.extensions` module. Please import from the new module instead.\r\n              File \"/opt/homebrew/lib/python3.11/site-packages/mkdocstrings_handlers/python/handler.py\", line 14, in <module>\r\n                from griffe.agents.extensions import load_extensions\r\n              File \"/opt/homebrew/lib/python3.11/site-packages/griffe/agents/extensions.py\", line 10, in __getattr__\r\n                warnings.warn(\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/schema.py:695: No type or annotation for parameter 'container(StructProtocol)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/schema.py:695: Parameter 'container(StructProtocol)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/schema.py:786: Parameter 'obj(Schema' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/schema.py:717: Parameter 'obj(Schema' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/transforms.py:712: Parameter 'source_type' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/types.py:442: Confusing indentation for continuation line 13 in docstring, should be 4 * 2 = 8 spaces, not 6\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/types.py:444: Confusing indentation for continuation line 15 in docstring, should be 4 * 2 = 8 spaces, not 6\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/types.py:392: Confusing indentation for continuation line 11 in docstring, should be 4 * 2 = 8 spaces, not 6\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/types.py:394: Confusing indentation for continuation line 13 in docstring, should be 4 * 2 = 8 spaces, not 6\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/types.py:418: Confusing indentation for continuation line 15 in docstring, should be 4 * 2 = 8 spaces, not 6\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/types.py:420: Confusing indentation for continuation line 17 in docstring, should be 4 * 2 = 8 spaces, not 6\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/expressions/literals.py:116: Parameter 'value(Python' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/expressions/visitors.py:146: No type or annotation for parameter 'obj(BooleanExpression)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/expressions/visitors.py:146: Parameter 'obj(BooleanExpression)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/expressions/visitors.py:147: No type or annotation for parameter 'visitor(BooleanExpressionVisitor[T])'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/expressions/visitors.py:147: Parameter 'visitor(BooleanExpressionVisitor[T])' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:246: Parameter 'location(str,' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:247: Failed to get 'name: description' pair from 'an OutputFile instance is provided, the location attribute\r\n            for that instance is used as the URI to delete'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:230: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:230: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:238: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:238: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:120: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:120: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:168: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:168: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:205: No type or annotation for parameter 'overwrite(bool)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:205: Parameter 'overwrite(bool)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/__init__.py:206: Failed to get 'name: description' pair from 'and `overwrite` is False a FileExistsError should be\r\n            raised'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:282: Parameter 'location(str,' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:283: Failed to get 'name: description' pair from 'OutputFile instance is provided, the location attribute for\r\n            that instance is used as the location'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:284: Failed to get 'name: description' pair from 'to delete'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:256: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:256: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:269: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:269: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:151: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:151: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:152: No type or annotation for parameter 'fs(AbstractFileSystem)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:152: Parameter 'fs(AbstractFileSystem)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:195: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:195: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:196: No type or annotation for parameter 'fs(AbstractFileSystem)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:196: Parameter 'fs(AbstractFileSystem)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:220: No type or annotation for parameter 'overwrite(bool)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/fsspec.py:220: Parameter 'overwrite(bool)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:131: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:131: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:225: No type or annotation for parameter 'overwrite(bool)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:225: Parameter 'overwrite(bool)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:318: Parameter 'location(str,' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:319: Failed to get 'name: description' pair from 'OutputFile instance is provided, the location attribute for\r\n            that instance is used as the location'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:320: Failed to get 'name: description' pair from 'to delete'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:292: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:292: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:305: No type or annotation for parameter 'location(str)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:305: Parameter 'location(str)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:561: No type or annotation for parameter 'tasks(Iterable[FileScanTask])'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:561: Parameter 'tasks(Iterable[FileScanTask])' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:562: No type or annotation for parameter 'table(Table)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:562: Parameter 'table(Table)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:563: No type or annotation for parameter 'row_filter(BooleanExpression)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:563: Parameter 'row_filter(BooleanExpression)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:564: No type or annotation for parameter 'projected_schema(Schema)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:564: Parameter 'projected_schema(Schema)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:565: No type or annotation for parameter 'case_sensitive(bool)'\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/io/pyarrow.py:565: Parameter 'case_sensitive(bool)' does not appear in the function signature\r\nWARNING  -  griffe: /Users/fokkodriesprong/Desktop/iceberg/python/pyiceberg/table/sorting.py:118: Parameter 'order_id' does not appear in the function signature\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527894463/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527900429","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1527900429","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1527900429,"node_id":"IC_kwDOCW7NX85bEekN","user":{"login":"DarthData410","id":119692461,"node_id":"U_kgDOByJcrQ","avatar_url":"https://avatars.githubusercontent.com/u/119692461?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthData410","html_url":"https://github.com/DarthData410","followers_url":"https://api.github.com/users/DarthData410/followers","following_url":"https://api.github.com/users/DarthData410/following{/other_user}","gists_url":"https://api.github.com/users/DarthData410/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthData410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthData410/subscriptions","organizations_url":"https://api.github.com/users/DarthData410/orgs","repos_url":"https://api.github.com/users/DarthData410/repos","events_url":"https://api.github.com/users/DarthData410/events{/privacy}","received_events_url":"https://api.github.com/users/DarthData410/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T17:54:29Z","updated_at":"2023-04-28T17:54:29Z","author_association":"CONTRIBUTOR","body":"Hey @Fokko Understood and I saw all of them. I think it best to address each python (.py) file as its own PR, as I resolve these. I will get these in and PR's created. More than happy to be contributing to a project I believe in, with technology I focus on. :100: ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527900429/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527910444","html_url":"https://github.com/apache/iceberg/pull/7422#issuecomment-1527910444","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7422","id":1527910444,"node_id":"IC_kwDOCW7NX85bEhAs","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T18:03:02Z","updated_at":"2023-04-28T18:03:02Z","author_association":"CONTRIBUTOR","body":"I think the comments are all addressed, will go ahead and merge it. Thanks everyone for the review!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527910444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527927768","html_url":"https://github.com/apache/iceberg/pull/7453#issuecomment-1527927768","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7453","id":1527927768,"node_id":"IC_kwDOCW7NX85bElPY","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T18:17:45Z","updated_at":"2023-04-28T18:17:45Z","author_association":"CONTRIBUTOR","body":"thank you Anton, for my own curiosity, is this coming from feature released in [spark 3.4](https://spark.apache.org/releases/spark-release-3-4-0.html)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527927768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527955806","html_url":"https://github.com/apache/iceberg/pull/7464#issuecomment-1527955806","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7464","id":1527955806,"node_id":"IC_kwDOCW7NX85bEsFe","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T18:46:12Z","updated_at":"2023-04-28T18:46:12Z","author_association":"CONTRIBUTOR","body":"Thanks again @DarthData410 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527955806/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527958755","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1527958755","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1527958755,"node_id":"IC_kwDOCW7NX85bEszj","user":{"login":"DarthData410","id":119692461,"node_id":"U_kgDOByJcrQ","avatar_url":"https://avatars.githubusercontent.com/u/119692461?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthData410","html_url":"https://github.com/DarthData410","followers_url":"https://api.github.com/users/DarthData410/followers","following_url":"https://api.github.com/users/DarthData410/following{/other_user}","gists_url":"https://api.github.com/users/DarthData410/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthData410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthData410/subscriptions","organizations_url":"https://api.github.com/users/DarthData410/orgs","repos_url":"https://api.github.com/users/DarthData410/repos","events_url":"https://api.github.com/users/DarthData410/events{/privacy}","received_events_url":"https://api.github.com/users/DarthData410/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T18:49:04Z","updated_at":"2023-04-28T18:49:04Z","author_association":"CONTRIBUTOR","body":"Hey @Fokko I do have a specific question for one of the warnings showing up for mkdocs serve --strict mode. Specifically for iceberg/python/pyiceberg/table/sorting.py. Within the class def for class SortOrder, the comments reference truly a parameter that is not contained within the def __init__(...). The comments suggest it should be, and it is not inherited from the IcebergBaseModel or BaseModel (imported from pydantic). \r\n\r\nThe code has a self.property of order_id, with a default value being initialized, yet the ability to set this value for a class instance on creating a new instance of it, does not exists as the comments hint towards. Hence why the warning for this specific instance if being generated by mkdocs. \r\n\r\nHave a look at the code here: https://github.com/apache/iceberg/blob/78aafdb55e65463fb518714b4c1d164ce890cc2b/python/pyiceberg/table/sorting.py#L110\r\n\r\nEither the comments need to remove the order_id: as a valid Arg, or the Python logic for the init needs to be updated to include the order_id as a valid arg.\r\n\r\nArgs:\r\n      order_id (int): An unique id of the sort-order of a table.\r\n      fields (List[SortField]): The fields how the table is sorted\r\n\r\nThoughts? New Issue?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527958755/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":2},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527982867","html_url":"https://github.com/apache/iceberg/pull/7453#issuecomment-1527982867","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7453","id":1527982867,"node_id":"IC_kwDOCW7NX85bEysT","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T19:12:08Z","updated_at":"2023-04-28T19:12:08Z","author_association":"CONTRIBUTOR","body":"@dramaticlly, yep, it was delivered as part of SPARK-35801. UPDATE and MERGE are still pending.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527982867/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527987733","html_url":"https://github.com/apache/iceberg/pull/7460#issuecomment-1527987733","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7460","id":1527987733,"node_id":"IC_kwDOCW7NX85bEz4V","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T19:17:04Z","updated_at":"2023-04-28T19:17:04Z","author_association":"CONTRIBUTOR","body":"@hililiwei, out of curiosity, you mention it is needed for large tables. In use cases you have, what's the main problem? Is it the time to analyze all of the metadata or is it more about compacting only fresh data?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1527987733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528008416","html_url":"https://github.com/apache/iceberg/pull/7430#issuecomment-1528008416","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7430","id":1528008416,"node_id":"IC_kwDOCW7NX85bE47g","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T19:40:10Z","updated_at":"2023-04-28T19:40:10Z","author_association":"CONTRIBUTOR","body":"> Do you mean you are fine with the current change but against making it correlate to \"spark.sql.files.maxPartitionBytes\"?\r\n\r\nYeah, I don't mind adding an Iceberg SQL property if it benefits you and other folks also support it but I would like to think through other alternatives to make sure we are not overlooking a better approach. I don't think it is a good idea to support any properties for built-in sources, though. Split planning is a bit different. If we support one config, will we have to support others?\r\n\r\n> this will lead to driver memory consumption increased and cause job driver OOM. To fix that, we will have to increase driver memory manually for that job.\r\n\r\nIs there a way to set this value correctly during the migration or is the split size different for different workloads?\r\n\r\n> To fix that, we have to add explicit coalesce to match the behavior.\r\n\r\nI assume there is no shuffle in that read-write job so that AQE cannot coalesce/split tasks during writes?\r\n\r\nLet's hear what others think. I am OK to add this property to unblock you but it would be great to explore the automatic split configuration. I created #7465 for that.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528008416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528022028","html_url":"https://github.com/apache/iceberg/issues/7449#issuecomment-1528022028","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7449","id":1528022028,"node_id":"IC_kwDOCW7NX85bE8QM","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T19:56:05Z","updated_at":"2023-04-28T19:56:05Z","author_association":"CONTRIBUTOR","body":"PR #5760 is relevant. However, it seems to cover more than what we need, so it may be a good idea to just focus on exposing what we currently have. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528022028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528036670","html_url":"https://github.com/apache/iceberg/pull/7430#issuecomment-1528036670","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7430","id":1528036670,"node_id":"IC_kwDOCW7NX85bE_0-","user":{"login":"puchengy","id":8072956,"node_id":"MDQ6VXNlcjgwNzI5NTY=","avatar_url":"https://avatars.githubusercontent.com/u/8072956?v=4","gravatar_id":"","url":"https://api.github.com/users/puchengy","html_url":"https://github.com/puchengy","followers_url":"https://api.github.com/users/puchengy/followers","following_url":"https://api.github.com/users/puchengy/following{/other_user}","gists_url":"https://api.github.com/users/puchengy/gists{/gist_id}","starred_url":"https://api.github.com/users/puchengy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/puchengy/subscriptions","organizations_url":"https://api.github.com/users/puchengy/orgs","repos_url":"https://api.github.com/users/puchengy/repos","events_url":"https://api.github.com/users/puchengy/events{/privacy}","received_events_url":"https://api.github.com/users/puchengy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T20:07:42Z","updated_at":"2023-04-28T20:08:15Z","author_association":"CONTRIBUTOR","body":"@aokolnychyi Thanks for your understanding.\r\n\r\n> Split planning is a bit different. If we support one config, will we have to support others?\r\n\r\nUnfortunately, that is the case. But we don't have to proactively pull in other configs if no one need.\r\n\r\n> Is there a way to set this value correctly during the migration or is the split size different for different workloads?\r\n\r\nYes, there is a way, but to intelligently automate this will need more work (which is why I am trying to explore this possibility). Also higher driver memory means more resource usage, this will lead to additional layer of complexity for user education (why it is ok to bump the memory and why the cost will not be high etc). \r\n\r\nI haven't seen a case where split size is different for different workloads, but I am not surprised if there is since in our platform, customers are allowed to set any configs they would like. \r\n\r\n> I assume there is no shuffle in that read-write job so that AQE cannot coalesce/split tasks during writes?\r\n\r\nYes, you are correct.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528036670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528062675","html_url":"https://github.com/apache/iceberg/pull/7416#issuecomment-1528062675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7416","id":1528062675,"node_id":"IC_kwDOCW7NX85bFGLT","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T20:33:00Z","updated_at":"2023-04-28T20:33:00Z","author_association":"CONTRIBUTOR","body":"I think it would be great to clarify a few things:\r\n\r\n1- If we should document that version summary, namely `engine` and `engine version`, should have a correlation with the view `dialect`. For example, views created from Trino will typically be in Trino SQL.\r\n\r\n2- If we should document whether a view version is immutable in terms of adding representations. Can an old (or committed) view version be changed to receive a new representation?\r\n\r\n3- If we should document whether a view version can contain two definitions under the same type/dialect.\r\n\r\n4- We discussed documenting possible values in the [view interfaces PR](https://github.com/apache/iceberg/pull/4925). For example, similar to what we say that `type` must be `sql`, how about saying that `dialect` could be one of some options? This is just to avoid situations where there are dialects like `spark`, `Spark`, `SparkSQL`, `spark3.3`.\r\n\r\nHappy to raise an issue or a community discussion around some of the above.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528062675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528073603","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1528073603","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1528073603,"node_id":"IC_kwDOCW7NX85bFI2D","user":{"login":"DarthData410","id":119692461,"node_id":"U_kgDOByJcrQ","avatar_url":"https://avatars.githubusercontent.com/u/119692461?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthData410","html_url":"https://github.com/DarthData410","followers_url":"https://api.github.com/users/DarthData410/followers","following_url":"https://api.github.com/users/DarthData410/following{/other_user}","gists_url":"https://api.github.com/users/DarthData410/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthData410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthData410/subscriptions","organizations_url":"https://api.github.com/users/DarthData410/orgs","repos_url":"https://api.github.com/users/DarthData410/repos","events_url":"https://api.github.com/users/DarthData410/events{/privacy}","received_events_url":"https://api.github.com/users/DarthData410/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T20:44:26Z","updated_at":"2023-04-28T20:44:26Z","author_association":"CONTRIBUTOR","body":"I'm going to create a PR with adding the variable for order_id (int): to the __init__(...) of SortOrder. The way the code is implemented the sort order is just always a value of 1, the default value supplied as \"INITIAL_SORT_ORDER_ID = 1\". \r\n\r\nThis will then technically fix the mkdocs issue as well, and allow for someone to create an instance of SortOrder and supply a order_id arg upon creation of a new instance of the class. Two birds, one PR, for the sorting.py file.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528073603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528074730","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1528074730","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1528074730,"node_id":"IC_kwDOCW7NX85bFJHq","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T20:45:37Z","updated_at":"2023-04-28T20:45:37Z","author_association":"CONTRIBUTOR","body":"@DarthData410 I had to dig into this myself as well. It looks like there is a separate section for the keyword arguments: https://mkdocstrings.github.io/griffe/docstrings/#other-parameters\r\n\r\nChanging the docstring to:\r\n```\r\n    \"\"\"Describes how the data is sorted within the table\r\n\r\n    Users can sort their data within partitions by columns to gain performance.\r\n\r\n    The order of the sort fields within the list defines the order in which the sort is applied to the data.\r\n\r\n    Args:\r\n      fields (List[SortField]): The fields how the table is sorted.\r\n\r\n    Keyword Args:\r\n      order_id (int): An unique id of the sort-order of a table.\r\n    \"\"\"\r\n```\r\n\r\nShould fix the problem","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528074730/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528085935","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1528085935","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1528085935,"node_id":"IC_kwDOCW7NX85bFL2v","user":{"login":"DarthData410","id":119692461,"node_id":"U_kgDOByJcrQ","avatar_url":"https://avatars.githubusercontent.com/u/119692461?v=4","gravatar_id":"","url":"https://api.github.com/users/DarthData410","html_url":"https://github.com/DarthData410","followers_url":"https://api.github.com/users/DarthData410/followers","following_url":"https://api.github.com/users/DarthData410/following{/other_user}","gists_url":"https://api.github.com/users/DarthData410/gists{/gist_id}","starred_url":"https://api.github.com/users/DarthData410/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarthData410/subscriptions","organizations_url":"https://api.github.com/users/DarthData410/orgs","repos_url":"https://api.github.com/users/DarthData410/repos","events_url":"https://api.github.com/users/DarthData410/events{/privacy}","received_events_url":"https://api.github.com/users/DarthData410/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T20:59:08Z","updated_at":"2023-04-28T20:59:08Z","author_association":"CONTRIBUTOR","body":"Ok makes sense for keeping with what is expected in the packed arguments being passed in. The way the initial args are wrote is as-if there was an expected, but missing, order_id: int... I will update, and proceed... ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528085935/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528098971","html_url":"https://github.com/apache/iceberg/issues/7458#issuecomment-1528098971","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7458","id":1528098971,"node_id":"IC_kwDOCW7NX85bFPCb","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-28T21:09:41Z","updated_at":"2023-04-28T21:09:41Z","author_association":"CONTRIBUTOR","body":"@DarthData410 I also played around with changing the constructor, and I'm not against it, but couldn't get to a satisfactory result.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1528098971/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]