[{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689665674","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689665674","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689665674,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY2NTY3NA==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:12:51Z","updated_at":"2020-09-09T16:12:51Z","author_association":"CONTRIBUTOR","body":"> > > But then copying the zero-termination would write beyond the end of `sockaddr_un.sun_path`. This is why I prefer _not_ to copy the zero-termination.\r\n> > \r\n> > \r\n> > In the case of pathname socket yes, for abstract unix socket is legal, because you don't need to copy the null terminating. is the standard.\r\n> \r\n> But this is more error-prone and complex than to just zero the full struct, and then copy _only_ `path_.size()` char's, isn't it? The latter proposed approach works for all cases (pathname sockets and abstract sockets), and it supports your suggested use case where the abstract socket uses the full `sun_path` without trailing zero-termination.\r\n\r\nYes, more easy, this way, you forget about the terminating string. But the question is: If I go to a fountain because I need one liter of water, and I fill  five just in case (is the correct way o not?). Points of view.\r\n\r\nBut if the code need's to handling the null terminating and the size, and the two are correct. Removing the memset, will not make any difference.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689665674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689666330","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689666330","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689666330,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY2NjMzMA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:13:58Z","updated_at":"2020-09-09T16:13:58Z","author_association":"CONTRIBUTOR","body":"I think, the `if` for abstract/path is unavoidable — and arguments to both `memcpy` and `bind` will differ depending on that. Trying to unify the branches of that `if` leads straight into confusion.\r\n\r\n```c++\r\n    struct sockaddr_un address;\r\n    memset(&address, '\\0', sizeof(address));\r\n    address.sun_family = AF_UNIX;\r\n\r\n    if (!path_[0]) { // \"abstract\" namespace socket (Linux-specific)\r\n\r\n        // space check\r\n        if (path_.size() > sizeof(((sockaddr_un*)nullptr)->sun_path)) {\r\n             throw TTransportException(...);\r\n        }\r\n\r\n        // no null termination here\r\n        memcpy(address.sun_path, path_.c_str(), path_.size());\r\n        addrlen = path._size();\r\n\r\n    } else { // \"pathname\" socket\r\n\r\n        // space check, with additional byte for the terminator\r\n        if (path_.size() + 1 > sizeof(((sockaddr_un*)nullptr)->sun_path)) {\r\n             throw TTransportException(...);\r\n        }\r\n\r\n        // including the null terminator\r\n        strncpy(address.sun_path, path_.c_str(), path_.size() + 1);\r\n        addrlen = path._size() + 1;\r\n    }\r\n\r\n    ::bind(/*…*/, /*…*/, addrlen);\r\n```\r\n\r\n-----------------------------\r\n\r\n@deiv \r\n> ... So better to do a refactoring.\r\n\r\nYes exactly — that's why I'm saying I'm not totally happy with your patch!","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689666330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689668535","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689668535","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689668535,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY2ODUzNQ==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:17:43Z","updated_at":"2020-09-09T16:17:43Z","author_association":"CONTRIBUTOR","body":"> I think, the `if` for abstract/path is unavoidable — and arguments to both `memcpy` and `bind` will differ depending on that. Trying to unify the branches of that `if` leads straight into confusion.\r\n> \r\n> ```c++\r\n>     struct sockaddr_un address;\r\n>     memset(&address, '\\0', sizeof(address));\r\n>     address.sun_family = AF_UNIX;\r\n> \r\n>     if (!path_[0]) { // \"abstract\" namespace socket (Linux-specific)\r\n> \r\n>         // space check\r\n>         if (path_.size() > sizeof(((sockaddr_un*)nullptr)->sun_path)) {\r\n>              throw TTransportException(...);\r\n>         }\r\n> \r\n>         // no null termination here\r\n>         memcpy(address.sun_path, path_.c_str(), path_.size());\r\n>         addrlen = path._size();\r\n> \r\n>     } else { // \"pathname\" socket\r\n> \r\n>         // space check, with additional byte for the terminator\r\n>         if (path_.size() + 1 > sizeof(((sockaddr_un*)nullptr)->sun_path)) {\r\n>              throw TTransportException(...);\r\n>         }\r\n> \r\n>         // including the null terminator\r\n>         strncpy(address.sun_path, path_.c_str(), path_.size() + 1);\r\n>         addrlen = path._size() + 1;\r\n>     }\r\n> \r\n>     ::bind(/*…*/, /*…*/, addrlen);\r\n> ```\r\n> \r\n> @deiv\r\n> \r\n> > ... So better to do a refactoring.\r\n> \r\n> Yes exactly — that's why I'm saying I'm not totally happy with your patch!\r\n\r\nMake a unique function call for the 3 files, could be good too ... :)\r\n\r\nAnd, the memset, for me, is not making nothing :)\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689668535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689672464","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689672464","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689672464,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY3MjQ2NA==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:24:27Z","updated_at":"2020-09-09T16:24:27Z","author_association":"CONTRIBUTOR","body":"> Make a unique function call for the 3 files, could be good too ... :)\r\n\r\nWell, not such a bad idea, haha. Will you do it?\r\n\r\n> And, the memset, for me, is not making nothing :)\r\n\r\nI understand; let's just agree to disagree on this, can we?\r\n\r\n-----------------------\r\n\r\nAlso, as a reminder: we have 2 PR's fixing the same thing in different ways. #2234 and #2235.\r\n\r\nIt's best to focus on one and close the other.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689672464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689678533","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689678533","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689678533,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY3ODUzMw==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:35:24Z","updated_at":"2020-09-09T16:35:24Z","author_association":"CONTRIBUTOR","body":"> > Make a unique function call for the 3 files, could be good too ... :)\r\n> \r\n> Well, not such a bad idea, haha. Will you do it?\r\n\r\nCan take a look tomorrow. If nobody want to do after.\r\n\r\n> > And, the memset, for me, is not making nothing :)\r\n> \r\n> I understand; let's just agree to disagree on this, can we?\r\n\r\nuhm... xD\r\n\r\n> Also, as a reminder: we have 2 PR's fixing the same thing in different ways. #2234 and #2235.\r\n> \r\n> It's best to focus on one and close the other.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689678533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689723230","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689723230","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689723230,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTcyMzIzMA==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T17:57:07Z","updated_at":"2020-09-09T17:57:07Z","author_association":"MEMBER","body":"> Make a unique function call for the 3 files, could be good too ... :)\r\n\r\nThis is actually a subset of a larger section of TServerSocket.cpp and TSocket.cpp that mostly overlaps. For maintenance this would much better be unified. I don't have too much spare time, anyone wants to give it a go?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689723230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689724316","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-689724316","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":689724316,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTcyNDMxNg==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T17:59:24Z","updated_at":"2020-09-09T17:59:24Z","author_association":"MEMBER","body":"> I think, the `if` for abstract/path is unavoidable — and arguments to both `memcpy` and `bind` will differ depending on that. Trying to unify the branches of that `if` leads straight into confusion.\r\n\r\nThe longer I think about it, yes maybe the `if`is the cleanest solution. @deiv would you accept a solution based on `if`? It would be awesome if you can propose something...","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689724316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689726033","html_url":"https://github.com/apache/thrift/pull/2233#issuecomment-689726033","issue_url":"https://api.github.com/repos/apache/thrift/issues/2233","id":689726033,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTcyNjAzMw==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T18:02:56Z","updated_at":"2020-09-09T18:05:52Z","author_association":"MEMBER","body":"Checked, the build errors in Travis are all unrelated. Ready for review and merge...","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689726033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689727528","html_url":"https://github.com/apache/thrift/pull/2232#issuecomment-689727528","issue_url":"https://api.github.com/repos/apache/thrift/issues/2232","id":689727528,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTcyNzUyOA==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T18:06:04Z","updated_at":"2020-09-09T18:06:04Z","author_association":"MEMBER","body":"Checked, the build errors in Travis are all unrelated. Ready for review and merge...","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689727528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689727723","html_url":"https://github.com/apache/thrift/pull/2165#issuecomment-689727723","issue_url":"https://api.github.com/repos/apache/thrift/issues/2165","id":689727723,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTcyNzcyMw==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T18:06:27Z","updated_at":"2020-09-09T18:06:27Z","author_association":"MEMBER","body":"Checked, the build errors in Travis are all unrelated. Ready for review and merge...","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689727723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689728687","html_url":"https://github.com/apache/thrift/pull/2164#issuecomment-689728687","issue_url":"https://api.github.com/repos/apache/thrift/issues/2164","id":689728687,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTcyODY4Nw==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T18:08:25Z","updated_at":"2020-09-09T18:08:25Z","author_association":"MEMBER","body":"Checked, the build errors in Travis are all unrelated. Ready for review and merge...","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/689728687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690066787","html_url":"https://github.com/apache/thrift/pull/2232#issuecomment-690066787","issue_url":"https://api.github.com/repos/apache/thrift/issues/2232","id":690066787,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDA2Njc4Nw==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T08:05:45Z","updated_at":"2020-09-10T08:05:45Z","author_association":"CONTRIBUTOR","body":"> was it a simple drop-in replacement for you?\r\n\r\nNot sure about this...\r\n\r\n> It uses libevent, correct?\r\n\r\nBetter to check the source, but I think not. It just expects to be used from multiple threads, and does appropriate locking.\r\n\r\n> Did you compare it with the new fbthrift c++ server?\r\n\r\nNo; what's that?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690066787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690070572","html_url":"https://github.com/apache/thrift/pull/2232#issuecomment-690070572","issue_url":"https://api.github.com/repos/apache/thrift/issues/2232","id":690070572,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDA3MDU3Mg==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T08:12:21Z","updated_at":"2020-09-10T08:12:21Z","author_association":"MEMBER","body":"> > Did you compare it with the new fbthrift c++ server?\r\n> \r\n> No; what's that?\r\n\r\nApparently Facebook has continued development on thrift in a separate project. I think it has less features and supports less languages, but it seems to have a cool new async c++ server. I've always wondered if this server could not be backported to Apache thrift, but that seems to involve complicated discussion of licenses. But for end-users, things may be simpler: possibly the server could just be used with Apache thrift if one would manage to take it out and build it against Apache thrift. No idea if this is possible, though :-) \r\nSee https://github.com/facebook/fbthrift/blob/master/thrift/doc/Cpp2.md for more details.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690070572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690130924","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-690130924","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":690130924,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDEzMDkyNA==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T10:07:53Z","updated_at":"2020-09-10T10:07:53Z","author_association":"CONTRIBUTOR","body":"@ulidtko there goes ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690130924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690141003","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-690141003","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":690141003,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDE0MTAwMw==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T10:29:30Z","updated_at":"2020-09-10T10:29:30Z","author_association":"MEMBER","body":"> @ulidtko there goes\r\n\r\nThis newest version looks very good to me. Nice work.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690141003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690150200","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-690150200","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":690150200,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDE1MDIwMA==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T10:46:59Z","updated_at":"2020-09-10T10:46:59Z","author_association":"CONTRIBUTOR","body":"@ulidtko @emmenlau \r\n\r\nthanks (the twoo). Interesting discussion hehe :)","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690150200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690161502","html_url":"https://github.com/apache/thrift/pull/2234#issuecomment-690161502","issue_url":"https://api.github.com/repos/apache/thrift/issues/2234","id":690161502,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDE2MTUwMg==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T11:08:56Z","updated_at":"2020-09-10T11:08:56Z","author_association":"MEMBER","body":"This commit is now superseded by #2235 ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690161502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690193083","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-690193083","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":690193083,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDE5MzA4Mw==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T11:31:48Z","updated_at":"2020-09-10T11:31:48Z","author_association":"CONTRIBUTOR","body":"@ulidtko \r\n\r\ndo you known when we get a new release ?\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690193083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690220580","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-690220580","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":690220580,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDIyMDU4MA==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T11:58:29Z","updated_at":"2020-09-10T11:58:29Z","author_association":"MEMBER","body":"> @ulidtko\r\n> \r\n> do you known when we get a new release ?\r\n\r\nThere is no real schedule, and no release plan. So I would not hold my breath for it. If you are very curious or urgently need a release, I would suggest to bring the topic to the mailing list.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690220580/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690658473","html_url":"https://github.com/apache/thrift/pull/2230#issuecomment-690658473","issue_url":"https://api.github.com/repos/apache/thrift/issues/2230","id":690658473,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDY1ODQ3Mw==","user":{"login":"caspertwo","id":6784827,"node_id":"MDQ6VXNlcjY3ODQ4Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/6784827?v=4","gravatar_id":"","url":"https://api.github.com/users/caspertwo","html_url":"https://github.com/caspertwo","followers_url":"https://api.github.com/users/caspertwo/followers","following_url":"https://api.github.com/users/caspertwo/following{/other_user}","gists_url":"https://api.github.com/users/caspertwo/gists{/gist_id}","starred_url":"https://api.github.com/users/caspertwo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/caspertwo/subscriptions","organizations_url":"https://api.github.com/users/caspertwo/orgs","repos_url":"https://api.github.com/users/caspertwo/repos","events_url":"https://api.github.com/users/caspertwo/events{/privacy}","received_events_url":"https://api.github.com/users/caspertwo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T19:24:12Z","updated_at":"2020-09-10T19:24:12Z","author_association":"NONE","body":"Thanks @chriskapp! PR has been updated","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690658473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690864389","html_url":"https://github.com/apache/thrift/pull/2033#issuecomment-690864389","issue_url":"https://api.github.com/repos/apache/thrift/issues/2033","id":690864389,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDg2NDM4OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T04:19:45Z","updated_at":"2020-09-11T04:19:45Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690864389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690890761","html_url":"https://github.com/apache/thrift/pull/2033#issuecomment-690890761","issue_url":"https://api.github.com/repos/apache/thrift/issues/2033","id":690890761,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDg5MDc2MQ==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T05:51:17Z","updated_at":"2020-09-11T05:51:17Z","author_association":"MEMBER","body":".","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690890761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690890768","html_url":"https://github.com/apache/thrift/pull/2033#issuecomment-690890768","issue_url":"https://api.github.com/repos/apache/thrift/issues/2033","id":690890768,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDg5MDc2OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T05:51:19Z","updated_at":"2020-09-11T05:51:19Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690890768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690918165","html_url":"https://github.com/apache/thrift/pull/2231#issuecomment-690918165","issue_url":"https://api.github.com/repos/apache/thrift/issues/2231","id":690918165,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDkxODE2NQ==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T07:08:10Z","updated_at":"2020-09-11T07:08:10Z","author_association":"MEMBER","body":"Hi @he ,\r\n\r\nI have been using jdk-8 for thrift communication and compilation, but I have not found java.lang.NoSuchMethodError. Can you provide test cases?\r\nIn addition, do the same problems exist for'remaining(),'hasRemaining()', and'capacity()'?\r\n\r\nCheers,\r\nZezeng Wang","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690918165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690953968","html_url":"https://github.com/apache/thrift/pull/2231#issuecomment-690953968","issue_url":"https://api.github.com/repos/apache/thrift/issues/2231","id":690953968,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDk1Mzk2OA==","user":{"login":"coheigea","id":472162,"node_id":"MDQ6VXNlcjQ3MjE2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/472162?v=4","gravatar_id":"","url":"https://api.github.com/users/coheigea","html_url":"https://github.com/coheigea","followers_url":"https://api.github.com/users/coheigea/followers","following_url":"https://api.github.com/users/coheigea/following{/other_user}","gists_url":"https://api.github.com/users/coheigea/gists{/gist_id}","starred_url":"https://api.github.com/users/coheigea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coheigea/subscriptions","organizations_url":"https://api.github.com/users/coheigea/orgs","repos_url":"https://api.github.com/users/coheigea/repos","events_url":"https://api.github.com/users/coheigea/events{/privacy}","received_events_url":"https://api.github.com/users/coheigea/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T08:28:12Z","updated_at":"2020-09-11T08:28:12Z","author_association":"NONE","body":"Hi @zeshuai007 ,\r\n\r\nYes you can reproduce as follows:\r\n\r\n1. git clone https://github.com/apache/camel\r\n2. Edit parent/pom.xml and change libthrift-version from 0.12.0 to 0.13.0\r\n3. mvn clean install -f parent/pom.xml\r\n4. mvn clean install -f components/camel-thrift/pom.xml\r\n\r\nIf you run the last command with JDK11 it works perfectly, otherwise you start seeing the errors as above, e.g.:\r\nException in thread \"TAsyncClientManager#SelectorThread 27\" java.lang.NoSuchMethodError: java.nio.ByteBuffer.rewind()Ljava/nio/ByteBuffer;\r\n\tat org.apache.thrift.async.TAsyncMethodCall.doWritingRequestBody(TAsyncMethodCall.java:263)\r\n\tat org.apache.thrift.async.TAsyncMethodCall.transition(TAsyncMethodCall.java:195)\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/690953968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691243868","html_url":"https://github.com/apache/thrift/pull/2199#issuecomment-691243868","issue_url":"https://api.github.com/repos/apache/thrift/issues/2199","id":691243868,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTI0Mzg2OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T18:19:45Z","updated_at":"2020-09-11T18:19:45Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691243868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691458074","html_url":"https://github.com/apache/thrift/pull/2162#issuecomment-691458074","issue_url":"https://api.github.com/repos/apache/thrift/issues/2162","id":691458074,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTQ1ODA3NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T09:47:14Z","updated_at":"2020-09-12T09:47:14Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691458074/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691470176","html_url":"https://github.com/apache/thrift/pull/2162#issuecomment-691470176","issue_url":"https://api.github.com/repos/apache/thrift/issues/2162","id":691470176,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTQ3MDE3Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T11:01:43Z","updated_at":"2020-09-12T11:01:43Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691470176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691470212","html_url":"https://github.com/apache/thrift/pull/2199#issuecomment-691470212","issue_url":"https://api.github.com/repos/apache/thrift/issues/2199","id":691470212,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTQ3MDIxMg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T11:02:03Z","updated_at":"2020-09-12T11:02:03Z","author_association":"MEMBER","body":",","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691470212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691470217","html_url":"https://github.com/apache/thrift/pull/2199#issuecomment-691470217","issue_url":"https://api.github.com/repos/apache/thrift/issues/2199","id":691470217,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTQ3MDIxNw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T11:02:05Z","updated_at":"2020-09-12T11:02:05Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691470217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691520153","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-691520153","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":691520153,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTUyMDE1Mw==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T17:25:24Z","updated_at":"2020-09-12T17:25:24Z","author_association":"MEMBER","body":"> do you known when we get a new release ?\r\n\r\nThe de-facto truth is: When somebody<sup>*)</sup> manages some time to start working on one.\r\n\r\n<sub>*) out of a group of certain people, not just anybody</sub>","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691520153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691754129","html_url":"https://github.com/apache/thrift/pull/2198#issuecomment-691754129","issue_url":"https://api.github.com/repos/apache/thrift/issues/2198","id":691754129,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc1NDEyOQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T00:52:49Z","updated_at":"2020-09-14T00:52:49Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691754129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691827884","html_url":"https://github.com/apache/thrift/pull/2204#issuecomment-691827884","issue_url":"https://api.github.com/repos/apache/thrift/issues/2204","id":691827884,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTgyNzg4NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T05:52:49Z","updated_at":"2020-09-14T05:52:49Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691827884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691938715","html_url":"https://github.com/apache/thrift/pull/2158#issuecomment-691938715","issue_url":"https://api.github.com/repos/apache/thrift/issues/2158","id":691938715,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTkzODcxNQ==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T09:32:30Z","updated_at":"2020-09-14T09:32:30Z","author_association":"MEMBER","body":"Thanks @Jens-G !","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691938715/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691939033","html_url":"https://github.com/apache/thrift/pull/2165#issuecomment-691939033","issue_url":"https://api.github.com/repos/apache/thrift/issues/2165","id":691939033,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTkzOTAzMw==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T09:33:12Z","updated_at":"2020-09-14T09:33:12Z","author_association":"MEMBER","body":"Thanks @Jens-G !","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691939033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691940842","html_url":"https://github.com/apache/thrift/pull/2233#issuecomment-691940842","issue_url":"https://api.github.com/repos/apache/thrift/issues/2233","id":691940842,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTk0MDg0Mg==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T09:37:01Z","updated_at":"2020-09-14T09:37:01Z","author_association":"MEMBER","body":"The changes in this PR are pretty minimal, and should not have any negative side effects. Please consider for a quick review?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691940842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691941915","html_url":"https://github.com/apache/thrift/pull/2164#issuecomment-691941915","issue_url":"https://api.github.com/repos/apache/thrift/issues/2164","id":691941915,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTk0MTkxNQ==","user":{"login":"ulidtko","id":365338,"node_id":"MDQ6VXNlcjM2NTMzOA==","avatar_url":"https://avatars.githubusercontent.com/u/365338?v=4","gravatar_id":"","url":"https://api.github.com/users/ulidtko","html_url":"https://github.com/ulidtko","followers_url":"https://api.github.com/users/ulidtko/followers","following_url":"https://api.github.com/users/ulidtko/following{/other_user}","gists_url":"https://api.github.com/users/ulidtko/gists{/gist_id}","starred_url":"https://api.github.com/users/ulidtko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ulidtko/subscriptions","organizations_url":"https://api.github.com/users/ulidtko/orgs","repos_url":"https://api.github.com/users/ulidtko/repos","events_url":"https://api.github.com/users/ulidtko/events{/privacy}","received_events_url":"https://api.github.com/users/ulidtko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T09:39:13Z","updated_at":"2020-09-14T09:39:13Z","author_association":"CONTRIBUTOR","body":"This can be closed, since #2158 has been merged.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/691941915/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/692014481","html_url":"https://github.com/apache/thrift/pull/2164#issuecomment-692014481","issue_url":"https://api.github.com/repos/apache/thrift/issues/2164","id":692014481,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjAxNDQ4MQ==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T12:16:52Z","updated_at":"2020-09-14T12:16:52Z","author_association":"MEMBER","body":"Closing as fixed in master.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/692014481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/692901729","html_url":"https://github.com/apache/thrift/pull/2191#issuecomment-692901729","issue_url":"https://api.github.com/repos/apache/thrift/issues/2191","id":692901729,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkwMTcyOQ==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T18:41:51Z","updated_at":"2020-09-15T18:41:51Z","author_association":"MEMBER","body":"ping","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/692901729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/694112472","html_url":"https://github.com/apache/thrift/pull/2191#issuecomment-694112472","issue_url":"https://api.github.com/repos/apache/thrift/issues/2191","id":694112472,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDExMjQ3Mg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T09:26:03Z","updated_at":"2020-09-17T09:26:03Z","author_association":"MEMBER","body":"+1 review LGTM, not tested. Merge?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/694112472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/694683848","html_url":"https://github.com/apache/thrift/pull/2191#issuecomment-694683848","issue_url":"https://api.github.com/repos/apache/thrift/issues/2191","id":694683848,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDY4Mzg0OA==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T06:32:38Z","updated_at":"2020-09-18T06:32:38Z","author_association":"MEMBER","body":"Thank you for reviewing this. I would like to merge it , WDYT ?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/694683848/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/694688472","html_url":"https://github.com/apache/thrift/pull/2191#issuecomment-694688472","issue_url":"https://api.github.com/repos/apache/thrift/issues/2191","id":694688472,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDY4ODQ3Mg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T06:44:50Z","updated_at":"2020-09-18T06:44:50Z","author_association":"MEMBER","body":"Do it.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/694688472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695339606","html_url":"https://github.com/apache/thrift/pull/1859#issuecomment-695339606","issue_url":"https://api.github.com/repos/apache/thrift/issues/1859","id":695339606,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTMzOTYwNg==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-19T18:09:46Z","updated_at":"2020-09-19T18:09:46Z","author_association":"CONTRIBUTOR","body":"@dcelasun Is there any chance this can be revived?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695339606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695348322","html_url":"https://github.com/apache/thrift/pull/1859#issuecomment-695348322","issue_url":"https://api.github.com/repos/apache/thrift/issues/1859","id":695348322,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTM0ODMyMg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-19T19:37:02Z","updated_at":"2020-09-19T19:39:03Z","author_association":"MEMBER","body":"**Personal opinion**: I tend to agree that introducing a breaking change is too high a cost for such a feature. Make it an optional thing, and let the default as it is. This also puts the burden of the breaking change to those users who really want it, at the places where they want it. With that change being implemented at least I do have no objections. ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695348322/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695353966","html_url":"https://github.com/apache/thrift/pull/1859#issuecomment-695353966","issue_url":"https://api.github.com/repos/apache/thrift/issues/1859","id":695353966,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTM1Mzk2Ng==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-19T20:39:56Z","updated_at":"2020-09-19T20:40:13Z","author_association":"CONTRIBUTOR","body":"@Jens-G I agree with the breaking change argument. Then just leaving the fields public as-is rather than making them private should do, I suppose?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695353966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695357592","html_url":"https://github.com/apache/thrift/pull/1859#issuecomment-695357592","issue_url":"https://api.github.com/repos/apache/thrift/issues/1859","id":695357592,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTM1NzU5Mg==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-19T21:25:21Z","updated_at":"2020-09-19T21:25:21Z","author_association":"CONTRIBUTOR","body":"@Jens-G @dcelasun Please check https://github.com/apache/thrift/pull/2238 ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695357592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695614630","html_url":"https://github.com/apache/thrift/pull/2138#issuecomment-695614630","issue_url":"https://api.github.com/repos/apache/thrift/issues/2138","id":695614630,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTYxNDYzMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T03:28:55Z","updated_at":"2020-09-20T03:28:55Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695614630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695798004","html_url":"https://github.com/apache/thrift/pull/2138#issuecomment-695798004","issue_url":"https://api.github.com/repos/apache/thrift/issues/2138","id":695798004,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTc5ODAwNA==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T15:10:41Z","updated_at":"2020-09-20T15:10:41Z","author_association":"MEMBER","body":".","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695798004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695798007","html_url":"https://github.com/apache/thrift/pull/2138#issuecomment-695798007","issue_url":"https://api.github.com/repos/apache/thrift/issues/2138","id":695798007,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTc5ODAwNw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T15:10:44Z","updated_at":"2020-09-20T15:10:44Z","author_association":"NONE","body":"This issue is no longer stale. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695798007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695812257","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-695812257","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":695812257,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTgxMjI1Nw==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T17:17:49Z","updated_at":"2020-09-20T17:20:22Z","author_association":"MEMBER","body":"If I get it right, what you do here is to add the getters/setters but leave the fields publicly accessible? \r\n\r\nMy idea was that you could add an option to the php generator that controls the new way using getters/setters and private fields, and if not set it would just generate the same code as before. Sorry for being not clear enough.\r\n\r\nSearch for THRIFT_REGISTER_GENERATOR macro at the end of the file.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695812257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695815054","html_url":"https://github.com/apache/thrift/pull/1996#issuecomment-695815054","issue_url":"https://api.github.com/repos/apache/thrift/issues/1996","id":695815054,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTgxNTA1NA==","user":{"login":"cfriedt","id":983494,"node_id":"MDQ6VXNlcjk4MzQ5NA==","avatar_url":"https://avatars.githubusercontent.com/u/983494?v=4","gravatar_id":"","url":"https://api.github.com/users/cfriedt","html_url":"https://github.com/cfriedt","followers_url":"https://api.github.com/users/cfriedt/followers","following_url":"https://api.github.com/users/cfriedt/following{/other_user}","gists_url":"https://api.github.com/users/cfriedt/gists{/gist_id}","starred_url":"https://api.github.com/users/cfriedt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cfriedt/subscriptions","organizations_url":"https://api.github.com/users/cfriedt/orgs","repos_url":"https://api.github.com/users/cfriedt/repos","events_url":"https://api.github.com/users/cfriedt/events{/privacy}","received_events_url":"https://api.github.com/users/cfriedt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T17:44:47Z","updated_at":"2020-09-20T17:44:47Z","author_association":"CONTRIBUTOR","body":"Rebased.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695815054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695881732","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-695881732","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":695881732,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTg4MTczMg==","user":{"login":"zeshuai007","id":4714285,"node_id":"MDQ6VXNlcjQ3MTQyODU=","avatar_url":"https://avatars.githubusercontent.com/u/4714285?v=4","gravatar_id":"","url":"https://api.github.com/users/zeshuai007","html_url":"https://github.com/zeshuai007","followers_url":"https://api.github.com/users/zeshuai007/followers","following_url":"https://api.github.com/users/zeshuai007/following{/other_user}","gists_url":"https://api.github.com/users/zeshuai007/gists{/gist_id}","starred_url":"https://api.github.com/users/zeshuai007/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zeshuai007/subscriptions","organizations_url":"https://api.github.com/users/zeshuai007/orgs","repos_url":"https://api.github.com/users/zeshuai007/repos","events_url":"https://api.github.com/users/zeshuai007/events{/privacy}","received_events_url":"https://api.github.com/users/zeshuai007/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T03:08:59Z","updated_at":"2020-09-21T03:08:59Z","author_association":"MEMBER","body":"It build fail in CI. see [this](https://ci.appveyor.com/project/ApacheSoftwareFoundation/thrift/builds/35128105/job/5alf601ondssa2vy)\r\n\r\nAppVeryor log show like this.\r\n```\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(52): error C2065: 'is_abstract_namespace': undeclared identifier [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(65): error C2027: use of undefined type 'apache::thrift::transport::sockaddr_un' [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\n  C:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(46): note: see declaration of 'apache::thrift::transport::sockaddr_un'\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(65): error C2227: left of '->sun_path' must point to class/struct/union/generic type [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(71): error C2027: use of undefined type 'apache::thrift::transport::sockaddr_un' [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\n  C:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(46): note: see declaration of 'apache::thrift::transport::sockaddr_un'\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(71): error C2228: left of '.sun_family' must have class/struct/union [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(72): error C2027: use of undefined type 'apache::thrift::transport::sockaddr_un' [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\n  C:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(46): note: see declaration of 'apache::thrift::transport::sockaddr_un'\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(72): error C2228: left of '.sun_path' must have class/struct/union [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(74): error C2027: use of undefined type 'apache::thrift::transport::sockaddr_un' [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\n  C:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(46): note: see declaration of 'apache::thrift::transport::sockaddr_un'\r\nC:\\projects\\thrift\\lib\\cpp\\src\\thrift\\transport\\SocketCommon.cpp(74): error C2227: left of '->sun_family' must point to class/struct/union/generic type [C:\\projects\\build\\MSVC2015\\x86\\lib\\cpp\\thrift.vcxproj]\r\n```\r\n\r\nCould you build success in your local environment ?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/695881732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696030777","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-696030777","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":696030777,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjAzMDc3Nw==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T10:29:50Z","updated_at":"2020-09-21T10:29:50Z","author_association":"CONTRIBUTOR","body":"@zeshuai007 \r\n\r\nFixed, seems that thrift is not ready for compiling unix sockets under windows. I just added some conditional macros.\r\n\r\nI fixed too, a variable that does not has the correct name (`is_abstract_namespace`)\r\n\r\nI added a TODO, to take into account, that windows has support to unix sockets, but the code is not prepared for that. At least it needs to include the windows headers for unix sockets. See [af_unix-comes-to-windows](https://devblogs.microsoft.com/commandline/af_unix-comes-to-windows/)\r\n\r\nI don't have a windows development enviroment, so I can't take a look.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696030777/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696046638","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-696046638","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":696046638,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjA0NjYzOA==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T11:06:34Z","updated_at":"2020-09-21T11:06:34Z","author_association":"MEMBER","body":"> I added a TODO, to take into account, that windows has support to unix sockets, but the code is not prepared for that. At least it needs to include the windows headers for unix sockets. See [af_unix-comes-to-windows](https://devblogs.microsoft.com/commandline/af_unix-comes-to-windows/)\r\n\r\nI have PR #2127 that adds support for Unix sockets under Windows. Generally its positive to have separate PRs for separate functionality, but in this case its not necessarily better that you need to guard *against* supporting Unix sockets only for me to later add the support in a subsequent PR. So please feel free to cannibalize #2127 and take everything you need to support the Unix sockets on MSVC?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696046638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696055493","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-696055493","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":696055493,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjA1NTQ5Mw==","user":{"login":"deiv","id":685054,"node_id":"MDQ6VXNlcjY4NTA1NA==","avatar_url":"https://avatars.githubusercontent.com/u/685054?v=4","gravatar_id":"","url":"https://api.github.com/users/deiv","html_url":"https://github.com/deiv","followers_url":"https://api.github.com/users/deiv/followers","following_url":"https://api.github.com/users/deiv/following{/other_user}","gists_url":"https://api.github.com/users/deiv/gists{/gist_id}","starred_url":"https://api.github.com/users/deiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deiv/subscriptions","organizations_url":"https://api.github.com/users/deiv/orgs","repos_url":"https://api.github.com/users/deiv/repos","events_url":"https://api.github.com/users/deiv/events{/privacy}","received_events_url":"https://api.github.com/users/deiv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T11:26:26Z","updated_at":"2020-09-21T11:26:26Z","author_association":"CONTRIBUTOR","body":"> > I added a TODO, to take into account, that windows has support to unix sockets, but the code is not prepared for that. At least it needs to include the windows headers for unix sockets. See [af_unix-comes-to-windows](https://devblogs.microsoft.com/commandline/af_unix-comes-to-windows/)\r\n> \r\n> I have PR #2127 that adds support for Unix sockets under Windows. Generally its positive to have separate PRs for separate functionality, but in this case its not necessarily better that you need to guard _against_ supporting Unix sockets only for me to later add the support in a subsequent PR. So please feel free to cannibalize #2127 and take everything you need to support the Unix sockets on MSVC?\r\n\r\nHi @emmenlau,\r\n\r\nI don't have a windows development enviroment, and because, to add support for Unix sockets, is needed a new header (and the checks for it), better to have it in another separate PR.\r\n\r\nAnd is needed to remove other windows conditional compilation in sockets sources files, too. Eg:\r\n\r\n```\r\n#ifndef _WIN32\r\n    socklen_t structlen = fillUnixSocketAddr(address, path_);\r\n```\r\n\r\nThis one only fix abstract namespace, so better if you can do another PR removing the conditional compilation for windows. Seems more logical to have the new windows unix socket support separated.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696055493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696079005","html_url":"https://github.com/apache/thrift/pull/2235#issuecomment-696079005","issue_url":"https://api.github.com/repos/apache/thrift/issues/2235","id":696079005,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjA3OTAwNQ==","user":{"login":"emmenlau","id":1098087,"node_id":"MDQ6VXNlcjEwOTgwODc=","avatar_url":"https://avatars.githubusercontent.com/u/1098087?v=4","gravatar_id":"","url":"https://api.github.com/users/emmenlau","html_url":"https://github.com/emmenlau","followers_url":"https://api.github.com/users/emmenlau/followers","following_url":"https://api.github.com/users/emmenlau/following{/other_user}","gists_url":"https://api.github.com/users/emmenlau/gists{/gist_id}","starred_url":"https://api.github.com/users/emmenlau/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/emmenlau/subscriptions","organizations_url":"https://api.github.com/users/emmenlau/orgs","repos_url":"https://api.github.com/users/emmenlau/repos","events_url":"https://api.github.com/users/emmenlau/events{/privacy}","received_events_url":"https://api.github.com/users/emmenlau/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T12:22:22Z","updated_at":"2020-09-21T12:22:22Z","author_association":"MEMBER","body":"Good, I agree! Then @zeshuai007 please review!","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696079005/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696160035","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-696160035","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":696160035,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjE2MDAzNQ==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T14:40:39Z","updated_at":"2020-09-21T14:40:51Z","author_association":"CONTRIBUTOR","body":"On it, I assume I will need to create a `getters_setters_` variable and check for the correct flag in the passed options iterator and set that variable to true?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696160035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696350193","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-696350193","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":696350193,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjM1MDE5Mw==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T20:18:35Z","updated_at":"2020-09-21T20:18:35Z","author_association":"MEMBER","body":":\\projects\\thrift\\compiler\\cpp\\src\\thrift\\generate\\t_php_generator.cc:64:5: error: 'getters_setters_' was not declared in this scope\r\n   64 |     getters_setters_ = false;\r\n      |     ^~~~~~~~~~~~~~~~\r\ncompilation terminated due to -fmax-errors=1.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696350193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696664199","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-696664199","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":696664199,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjY2NDE5OQ==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T11:33:39Z","updated_at":"2020-09-22T11:33:39Z","author_association":"CONTRIBUTOR","body":"@Jens-G Fixed!","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/696664199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/697175290","html_url":"https://github.com/apache/thrift/pull/2191#issuecomment-697175290","issue_url":"https://api.github.com/repos/apache/thrift/issues/2191","id":697175290,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE3NTI5MA==","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T07:02:51Z","updated_at":"2020-09-23T07:02:51Z","author_association":"MEMBER","body":"@zeshuai007 any chance you could do something similar for Go?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/697175290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/697937202","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-697937202","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":697937202,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzkzNzIwMg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T19:52:40Z","updated_at":"2020-09-23T19:52:40Z","author_association":"MEMBER","body":"CI still complains (about unused parameters) https://travis-ci.org/github/apache/thrift/jobs/729280303","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/697937202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/698501377","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-698501377","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":698501377,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODUwMTM3Nw==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T18:06:18Z","updated_at":"2020-09-24T18:06:18Z","author_association":"CONTRIBUTOR","body":"@Jens-G The CI tests passed, however, two of them seem to fail because of failing EUNIT tests, possibly because modules couldn't be found for the Erlang library.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/698501377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699134020","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-699134020","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":699134020,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTEzNDAyMA==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T20:16:12Z","updated_at":"2020-09-25T20:16:12Z","author_association":"MEMBER","body":"IMHO when there are getters/setters chosen by setting the flag the dev should be aware that it might break code and so we should do it right. That was the idea, that we make it an opt-in decision, instead of forcing everybody into it.  Feel free to send another PR, since I already committed this just minutes ago.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699134020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699136545","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-699136545","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":699136545,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTEzNjU0NQ==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T20:21:58Z","updated_at":"2020-09-25T20:23:13Z","author_association":"CONTRIBUTOR","body":"Right, I was a bit late to write it and saw it got merged right after I wrote it and so deleted the comment. I was thinking the same, since the developer is opting for it, they are already aware that it can break code. \r\n\r\nAnd I think in the case `private_fields` would be a more appropriate flag name. ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699136545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699505773","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-699505773","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":699505773,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTUwNTc3Mw==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-26T14:52:14Z","updated_at":"2020-09-26T14:52:14Z","author_association":"CONTRIBUTOR","body":"@Jens-G I was wondering if I should create another `private_fields` flag that creates private fields with getters and setters, and leave the `getters_setters` as it is right now, this way, one of them will be breaking (`private_fields`), and developers unwilling to break existing code can use getters and setters. Please let me know what your thoughts are on this.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699505773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699545869","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-699545869","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":699545869,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTU0NTg2OQ==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-26T20:43:50Z","updated_at":"2020-09-26T20:44:06Z","author_association":"MEMBER","body":"No `private_fields` flag, just connect it to the existing. Don't overcomplicate it.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699545869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699556820","html_url":"https://github.com/apache/thrift/pull/2238#issuecomment-699556820","issue_url":"https://api.github.com/repos/apache/thrift/issues/2238","id":699556820,"node_id":"MDEyOklzc3VlQ29tbWVudDY5OTU1NjgyMA==","user":{"login":"2DSharp","id":30053071,"node_id":"MDQ6VXNlcjMwMDUzMDcx","avatar_url":"https://avatars.githubusercontent.com/u/30053071?v=4","gravatar_id":"","url":"https://api.github.com/users/2DSharp","html_url":"https://github.com/2DSharp","followers_url":"https://api.github.com/users/2DSharp/followers","following_url":"https://api.github.com/users/2DSharp/following{/other_user}","gists_url":"https://api.github.com/users/2DSharp/gists{/gist_id}","starred_url":"https://api.github.com/users/2DSharp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/2DSharp/subscriptions","organizations_url":"https://api.github.com/users/2DSharp/orgs","repos_url":"https://api.github.com/users/2DSharp/repos","events_url":"https://api.github.com/users/2DSharp/events{/privacy}","received_events_url":"https://api.github.com/users/2DSharp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-26T22:33:29Z","updated_at":"2020-09-26T22:33:29Z","author_association":"CONTRIBUTOR","body":"Updated with: https://github.com/apache/thrift/issues/2245","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/699556820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702392592","html_url":"https://github.com/apache/thrift/pull/2118#issuecomment-702392592","issue_url":"https://api.github.com/repos/apache/thrift/issues/2118","id":702392592,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM5MjU5Mg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T20:55:36Z","updated_at":"2020-10-01T20:55:36Z","author_association":"MEMBER","body":"Rebase still needed\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702392592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702398662","html_url":"https://github.com/apache/thrift/pull/2228#issuecomment-702398662","issue_url":"https://api.github.com/repos/apache/thrift/issues/2228","id":702398662,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjM5ODY2Mg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T21:08:06Z","updated_at":"2020-10-01T21:08:06Z","author_association":"MEMBER","body":"I agree to what @ulidtko said about having a test, Can you do that? ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702398662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702401046","html_url":"https://github.com/apache/thrift/pull/2159#issuecomment-702401046","issue_url":"https://api.github.com/repos/apache/thrift/issues/2159","id":702401046,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjQwMTA0Ng==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-01T21:13:11Z","updated_at":"2020-10-01T21:13:11Z","author_association":"MEMBER","body":"Travis does not look really great, could you check again?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702401046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702924634","html_url":"https://github.com/apache/thrift/pull/2252#issuecomment-702924634","issue_url":"https://api.github.com/repos/apache/thrift/issues/2252","id":702924634,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjkyNDYzNA==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T19:44:47Z","updated_at":"2020-10-02T19:45:09Z","author_association":"MEMBER","body":"How did you test it?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702924634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702926095","html_url":"https://github.com/apache/thrift/pull/2252#issuecomment-702926095","issue_url":"https://api.github.com/repos/apache/thrift/issues/2252","id":702926095,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMjkyNjA5NQ==","user":{"login":"elludraon","id":39203126,"node_id":"MDQ6VXNlcjM5MjAzMTI2","avatar_url":"https://avatars.githubusercontent.com/u/39203126?v=4","gravatar_id":"","url":"https://api.github.com/users/elludraon","html_url":"https://github.com/elludraon","followers_url":"https://api.github.com/users/elludraon/followers","following_url":"https://api.github.com/users/elludraon/following{/other_user}","gists_url":"https://api.github.com/users/elludraon/gists{/gist_id}","starred_url":"https://api.github.com/users/elludraon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elludraon/subscriptions","organizations_url":"https://api.github.com/users/elludraon/orgs","repos_url":"https://api.github.com/users/elludraon/repos","events_url":"https://api.github.com/users/elludraon/events{/privacy}","received_events_url":"https://api.github.com/users/elludraon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-02T19:47:56Z","updated_at":"2020-10-02T19:47:56Z","author_association":"CONTRIBUTOR","body":"I copied the working Python implementation.\r\n\r\nTested by sending a struct with `map<string, bool>` over `TCompactProtocol` - before, the received struct was getting truncated (corrupt indices while reading).","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/702926095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/703188598","html_url":"https://github.com/apache/thrift/pull/2127#issuecomment-703188598","issue_url":"https://api.github.com/repos/apache/thrift/issues/2127","id":703188598,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE4ODU5OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T02:05:08Z","updated_at":"2020-10-04T02:05:08Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has not had recent activity. It will be closed in 7 days if no further activity occurs. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/703188598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/703188601","html_url":"https://github.com/apache/thrift/pull/2204#issuecomment-703188601","issue_url":"https://api.github.com/repos/apache/thrift/issues/2204","id":703188601,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzE4ODYwMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T02:05:11Z","updated_at":"2020-10-04T02:05:11Z","author_association":"NONE","body":"This issue has been automatically closed due to inactivity. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/703188601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/703309412","html_url":"https://github.com/apache/thrift/pull/2254#issuecomment-703309412","issue_url":"https://api.github.com/repos/apache/thrift/issues/2254","id":703309412,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzMwOTQxMg==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-04T20:11:45Z","updated_at":"2020-10-04T20:12:11Z","author_association":"MEMBER","body":"```\r\nmake[3]: Entering directory '/thrift/src/lib/java'\r\n./gradlew  assemble \\\r\n\t-Prelease=true \\\r\n\t-Pthrift.version=0.14.0 \\\r\n\t--console=plain\r\n> Task :copyDependencies\r\n\r\n> Task :compileJava\r\n/thrift/src/lib/java/src/org/apache/thrift/transport/THttpClient.java:39: warning: [deprecation] CoreConnectionPNames in org.apache.http.params has been deprecated\r\nimport org.apache.http.params.CoreConnectionPNames;\r\n                             ^\r\n/thrift/src/lib/java/src/org/apache/thrift/transport/TNonblockingTransport.java:52: error: write(ByteBuffer) in TNonblockingTransport cannot override write(ByteBuffer) in TTransport\r\n  public abstract int write(ByteBuffer buffer) throws IOException;\r\n                      ^\r\n  return type int is not compatible with void\r\n/thrift/src/lib/java/src/org/apache/thrift/transport/TNonblockingSocket.java:170: error: write(ByteBuffer) in TNonblockingSocket cannot override write(ByteBuffer) in TTransport\r\n  public int write(ByteBuffer buffer) throws IOException {\r\n             ^\r\n  return type int is not compatible with void\r\n/thrift/src/lib/java/src/org/apache/thrift/meta_data/FieldMetaData.java:61: warning: [deprecation] newInstance() in Class has been deprecated\r\n        sClass.newInstance();\r\n              ^\r\n  where T is a type-variable:\r\n    T extends Object declared in class Class\r\n/thrift/src/lib/java/src/org/apache/thrift/transport/THttpClient.java:165: warning: [deprecation] CoreConnectionPNames in org.apache.http.params has been deprecated\r\n      client.getParams().setParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, connectTimeout_);\r\n                                      ^\r\n/thrift/src/lib/java/src/org/apache/thrift/transport/THttpClient.java:165: warning: [deprecation] getParams() in HttpClient has been deprecated\r\n      client.getParams().setParameter(CoreConnectionPNames.CONNECTION_TIMEOUT, connectTimeout_);\r\n            ^\r\n/thrift/src/lib/java/src/org/apache/thrift/transport/THttpClient.java:174: warning: [deprecation] CoreConnectionPNames in org.apache.http.params has been deprecated\r\n      client.getParams().setParameter(CoreConnectionPNames.SO_TIMEOUT, readTimeout_);\r\n                                      ^\r\n/thrift/src/lib/java/src/org/apache/thrift/transport/THttpClient.java:174: warning: [deprecation] getParams() in HttpClient has been deprecated\r\n      client.getParams().setParameter(CoreConnectionPNames.SO_TIMEOUT, readTimeout_);\r\n            ^\r\nNote: Some input files use unchecked or unsafe operations.\r\nNote: Recompile with -Xlint:unchecked for details.\r\n2 errors\r\n6 warnings\r\n\r\n> Task :compileJava FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task ':compileJava'.\r\n> Compilation failed; see the compiler error output for details.\r\n\r\n* Try:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 14s\r\n2 actionable tasks: 2 executed\r\n```","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/703309412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/703955766","html_url":"https://github.com/apache/thrift/pull/2254#issuecomment-703955766","issue_url":"https://api.github.com/repos/apache/thrift/issues/2254","id":703955766,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzk1NTc2Ng==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T00:16:03Z","updated_at":"2020-10-06T00:16:03Z","author_association":"CONTRIBUTOR","body":"Woops.  I thought I was adding functionality, but I guess I was actually overwriting.  I just made a new push, we'll see what happens, but I am definitely breaking API here by changing method signatures.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/703955766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/704068568","html_url":"https://github.com/apache/thrift/pull/2255#issuecomment-704068568","issue_url":"https://api.github.com/repos/apache/thrift/issues/2255","id":704068568,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDA2ODU2OA==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T06:48:45Z","updated_at":"2020-10-06T06:48:45Z","author_association":"MEMBER","body":">  And Happy to add test and jira if that makes sense. Thxs\r\nI was about to ask for it, so yes, please do.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/704068568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/704454837","html_url":"https://github.com/apache/thrift/pull/2255#issuecomment-704454837","issue_url":"https://api.github.com/repos/apache/thrift/issues/2255","id":704454837,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDQ1NDgzNw==","user":{"login":"thedebugger","id":1693823,"node_id":"MDQ6VXNlcjE2OTM4MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1693823?v=4","gravatar_id":"","url":"https://api.github.com/users/thedebugger","html_url":"https://github.com/thedebugger","followers_url":"https://api.github.com/users/thedebugger/followers","following_url":"https://api.github.com/users/thedebugger/following{/other_user}","gists_url":"https://api.github.com/users/thedebugger/gists{/gist_id}","starred_url":"https://api.github.com/users/thedebugger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thedebugger/subscriptions","organizations_url":"https://api.github.com/users/thedebugger/orgs","repos_url":"https://api.github.com/users/thedebugger/repos","events_url":"https://api.github.com/users/thedebugger/events{/privacy}","received_events_url":"https://api.github.com/users/thedebugger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T18:10:34Z","updated_at":"2020-10-06T18:10:34Z","author_association":"NONE","body":"@Jens-G thanks for the feedback. I'll start doing that today. But the patch makes sense...right?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/704454837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/704928055","html_url":"https://github.com/apache/thrift/pull/2254#issuecomment-704928055","issue_url":"https://api.github.com/repos/apache/thrift/issues/2254","id":704928055,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDkyODA1NQ==","user":{"login":"belugabehr","id":12578579,"node_id":"MDQ6VXNlcjEyNTc4NTc5","avatar_url":"https://avatars.githubusercontent.com/u/12578579?v=4","gravatar_id":"","url":"https://api.github.com/users/belugabehr","html_url":"https://github.com/belugabehr","followers_url":"https://api.github.com/users/belugabehr/followers","following_url":"https://api.github.com/users/belugabehr/following{/other_user}","gists_url":"https://api.github.com/users/belugabehr/gists{/gist_id}","starred_url":"https://api.github.com/users/belugabehr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/belugabehr/subscriptions","organizations_url":"https://api.github.com/users/belugabehr/orgs","repos_url":"https://api.github.com/users/belugabehr/repos","events_url":"https://api.github.com/users/belugabehr/events{/privacy}","received_events_url":"https://api.github.com/users/belugabehr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T13:15:32Z","updated_at":"2020-10-07T13:15:32Z","author_association":"CONTRIBUTOR","body":"@Jens-G Hey, can you help me figure out what is causing this build failure?  It seems to be to be related to Erlang, but I'm not 100% sure.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/704928055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705101786","html_url":"https://github.com/apache/thrift/pull/2256#issuecomment-705101786","issue_url":"https://api.github.com/repos/apache/thrift/issues/2256","id":705101786,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTEwMTc4Ng==","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T18:01:20Z","updated_at":"2020-10-07T18:01:36Z","author_association":"MEMBER","body":"Actually dig deeper to the go runtime bug, it looks like the excessive cpu only happens when the ticker interval is short (1ms). using the example code given by that bug, using 1ms it causes ~20% cpu, but changing that to 5ms makes the cpu drop to ~6%, and 10ms makes it drop to ~3%.\r\n\r\nSo maybe 5ms is a better default than 0? @dcelasun what do you think?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705101786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705135142","html_url":"https://github.com/apache/thrift/pull/2256#issuecomment-705135142","issue_url":"https://api.github.com/repos/apache/thrift/issues/2256","id":705135142,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTEzNTE0Mg==","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T19:05:13Z","updated_at":"2020-10-07T19:05:13Z","author_association":"MEMBER","body":"I'm not so sure about a 5ms default. We have a fairly loaded Go 1.15 server (so with the ticker optimization) with 5ms/8ms p50/p75 latency respectively and a fixed 5ms increase seems a bit too much.\r\n\r\nWould there be enough cpu load reduction with a 2-3ms ticker?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705135142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705140409","html_url":"https://github.com/apache/thrift/pull/2256#issuecomment-705140409","issue_url":"https://api.github.com/repos/apache/thrift/issues/2256","id":705140409,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE0MDQwOQ==","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T19:15:54Z","updated_at":"2020-10-07T19:15:54Z","author_association":"MEMBER","body":"2ms it's ~13% and 3ms it's ~9%. Also all these tests are done on go1.15.2 on linux/amd64.\r\n\r\nI think around 10% cpu might still be too high as the default value. I think if we decided to not disable it by default, then the default value should be something like 5ms or 10ms, so that it doesn't auto add too much overhead, and still being useful for the majority of cases. For services with very low latency endpoints (like yours), they just need to change the default value, either:\r\n\r\n1. Disable it (set it to 0) if they don't want those excessive cpu usage\r\n\r\nor\r\n\r\n2. Set it to a smaller number (1ms/2ms/3ms) to balance between the extra cpu usage and able to abandon requests early when it's no longer needed.\r\n\r\nI think even for a 5ms p50 service, the 5ms default value can still be helpful for the long tails?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705140409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705142473","html_url":"https://github.com/apache/thrift/pull/2256#issuecomment-705142473","issue_url":"https://api.github.com/repos/apache/thrift/issues/2256","id":705142473,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE0MjQ3Mw==","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T19:19:53Z","updated_at":"2020-10-07T19:19:53Z","author_association":"MEMBER","body":"> I think even for a 5ms p50 service, the 5ms default value can still be helpful for the long tails?\r\n\r\nYeah that's probably true. Let's go with 5ms then :) ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705142473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705167718","html_url":"https://github.com/apache/thrift/pull/2254#issuecomment-705167718","issue_url":"https://api.github.com/repos/apache/thrift/issues/2254","id":705167718,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE2NzcxOA==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T20:11:55Z","updated_at":"2020-10-07T20:11:55Z","author_association":"MEMBER","body":"Right, not your problem. Some Erlang problems that (still) need to be fixed. ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705167718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705169889","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705169889","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705169889,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE2OTg4OQ==","user":{"login":"Jens-G","id":5834733,"node_id":"MDQ6VXNlcjU4MzQ3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5834733?v=4","gravatar_id":"","url":"https://api.github.com/users/Jens-G","html_url":"https://github.com/Jens-G","followers_url":"https://api.github.com/users/Jens-G/followers","following_url":"https://api.github.com/users/Jens-G/following{/other_user}","gists_url":"https://api.github.com/users/Jens-G/gists{/gist_id}","starred_url":"https://api.github.com/users/Jens-G/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jens-G/subscriptions","organizations_url":"https://api.github.com/users/Jens-G/orgs","repos_url":"https://api.github.com/users/Jens-G/repos","events_url":"https://api.github.com/users/Jens-G/events{/privacy}","received_events_url":"https://api.github.com/users/Jens-G/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T20:16:09Z","updated_at":"2020-10-07T20:16:09Z","author_association":"MEMBER","body":"@voodoo-dn I know its a PR long open but may I ask to rebase (and remove the label when done)?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705169889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705175734","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705175734","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705175734,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE3NTczNA==","user":{"login":"voodoo-dn","id":5621571,"node_id":"MDQ6VXNlcjU2MjE1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5621571?v=4","gravatar_id":"","url":"https://api.github.com/users/voodoo-dn","html_url":"https://github.com/voodoo-dn","followers_url":"https://api.github.com/users/voodoo-dn/followers","following_url":"https://api.github.com/users/voodoo-dn/following{/other_user}","gists_url":"https://api.github.com/users/voodoo-dn/gists{/gist_id}","starred_url":"https://api.github.com/users/voodoo-dn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voodoo-dn/subscriptions","organizations_url":"https://api.github.com/users/voodoo-dn/orgs","repos_url":"https://api.github.com/users/voodoo-dn/repos","events_url":"https://api.github.com/users/voodoo-dn/events{/privacy}","received_events_url":"https://api.github.com/users/voodoo-dn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T20:27:58Z","updated_at":"2020-10-07T20:27:58Z","author_association":"NONE","body":"> @voodoo-dn I know its a PR long open but may I ask to rebase (and remove the label when done)?\r\n\r\nHi. Yesterday I will do it. Is it mean that I have the chance to merge this PR to master?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705175734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705187926","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705187926","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705187926,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE4NzkyNg==","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T20:53:52Z","updated_at":"2020-10-07T20:53:52Z","author_association":"MEMBER","body":"I'm not sure this is a good idea anymore since there is overlap with the existing middleware support. @fishy what do you think?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705187926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705191393","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705191393","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705191393,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTE5MTM5Mw==","user":{"login":"voodoo-dn","id":5621571,"node_id":"MDQ6VXNlcjU2MjE1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5621571?v=4","gravatar_id":"","url":"https://api.github.com/users/voodoo-dn","html_url":"https://github.com/voodoo-dn","followers_url":"https://api.github.com/users/voodoo-dn/followers","following_url":"https://api.github.com/users/voodoo-dn/following{/other_user}","gists_url":"https://api.github.com/users/voodoo-dn/gists{/gist_id}","starred_url":"https://api.github.com/users/voodoo-dn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voodoo-dn/subscriptions","organizations_url":"https://api.github.com/users/voodoo-dn/orgs","repos_url":"https://api.github.com/users/voodoo-dn/repos","events_url":"https://api.github.com/users/voodoo-dn/events{/privacy}","received_events_url":"https://api.github.com/users/voodoo-dn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T21:01:07Z","updated_at":"2020-10-07T21:01:07Z","author_association":"NONE","body":"I understand. But middleware solution is more complicated than Options for processor and didn't provide advantages, that Option has, but it's you project, as you wish.\r\n\r\nBut last what I want to say, without adding new features, or using poor features like Middleware, developers might choose something like gRPC, instead of Thrift.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705191393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705205052","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705205052","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705205052,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTIwNTA1Mg==","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T21:30:56Z","updated_at":"2020-10-07T21:30:56Z","author_association":"MEMBER","body":"I think although there are overlaps, interceptors can do things middleware can't. For example when experimenting switching from TBinaryProtocol to TCompactProtocol, I could really use an interceptor to see how much bandwidth I saved on the wire :)\r\n\r\n@voodoo-dn: do you have some example code on what an interceptor implemented by third party on this current implementation will look like?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705205052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705480455","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705480455","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705480455,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTQ4MDQ1NQ==","user":{"login":"voodoo-dn","id":5621571,"node_id":"MDQ6VXNlcjU2MjE1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5621571?v=4","gravatar_id":"","url":"https://api.github.com/users/voodoo-dn","html_url":"https://github.com/voodoo-dn","followers_url":"https://api.github.com/users/voodoo-dn/followers","following_url":"https://api.github.com/users/voodoo-dn/following{/other_user}","gists_url":"https://api.github.com/users/voodoo-dn/gists{/gist_id}","starred_url":"https://api.github.com/users/voodoo-dn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voodoo-dn/subscriptions","organizations_url":"https://api.github.com/users/voodoo-dn/orgs","repos_url":"https://api.github.com/users/voodoo-dn/repos","events_url":"https://api.github.com/users/voodoo-dn/events{/privacy}","received_events_url":"https://api.github.com/users/voodoo-dn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T10:28:31Z","updated_at":"2020-10-08T10:29:48Z","author_association":"NONE","body":"@fishy Hi. Every our Golang project in our company uses Thrift Fork with interceptor. They allow us following features:\r\n\r\n- Catch panic and return TApplicationException instead of EOF\r\n- Log incoming/outgoing request/response\r\n- Tracing\r\n- Catch and log error\r\n- Collect metrics for Prometheus\r\n- Whatever what you want :)\r\n\r\n```\r\nfunc NewLoggerInterceptor(logger *logging.Logger, serviceName string) thrift.HandlerInterceptor {\r\n\treturn func(ctx context.Context, methodName string, arg interface{}, handlerFunc thrift.HandlerFunc) (result interface{}, err error) {\r\n\t\tdefer func() {\r\n\t\t\tif err := recover(); err != nil {\r\n\t\t\t\tlog(\r\n\t\t\t\t\tctx,\r\n\t\t\t\t\tlogger,\r\n\t\t\t\t\tserviceName,\r\n\t\t\t\t\tmethodName,\r\n\t\t\t\t\t\"panicked thrift request\",\r\n\t\t\t\t\tmap[string]interface{}{\r\n\t\t\t\t\t\t\"args\": maskArg(ctx, logger, arg),\r\n\t\t\t\t\t},\r\n\t\t\t\t)\r\n\r\n\t\t\t\tpanic(err)\r\n\t\t\t}\r\n\t\t}()\r\n\r\n\t\thandlerResult, handlerError := handlerFunc(ctx, arg)\r\n\r\n\t\thandlerResultData, handlerResultMarshalErr := json.Marshal(handlerResult)\r\n\t\tif handlerResultMarshalErr != nil {\r\n\t\t\tlogger.Error(ctx, handlerResultMarshalErr)\r\n\t\t}\r\n\r\n\t\tlog(\r\n\t\t\tctx,\r\n\t\t\tlogger,\r\n\t\t\tserviceName,\r\n\t\t\tmethodName,\r\n\t\t\t\"thrift request\",\r\n\t\t\tmap[string]interface{}{\r\n\t\t\t\t\"args\":   maskArg(ctx, logger, arg),\r\n\t\t\t\t\"result\": string(handlerResultData),\r\n\t\t\t},\r\n\t\t)\r\n\r\n\t\treturn handlerResult, handlerError\r\n\t}\r\n}\r\n\r\nfunc NewPanicInterceptor(logger *logging.Logger) thrift.HandlerInterceptor {\r\n\treturn func(ctx context.Context, methodName string, arg interface{}, handlerFunc thrift.HandlerFunc) (result interface{}, err error) {\r\n\t\tdefer func() {\r\n\t\t\tif rec := recover(); rec != nil {\r\n\t\t\t\tlogger.Error(ctx, errors.New(fmt.Sprint(rec)))\r\n\r\n\t\t\t\terr = thrift.NewTApplicationException(thrift.INTERNAL_ERROR, \"Internal server error\")\r\n\t\t\t}\r\n\t\t}()\r\n\r\n\t\treturn handlerFunc(ctx, arg)\r\n\t}\r\n}\r\n\r\nfunc NewTracingInterceptor(\r\n\ttracer opentracing.Tracer,\r\n\tparentSpan opentracing.Span,\r\n\tserviceName string,\r\n) thrift.HandlerInterceptor {\r\n\treturn func(ctx context.Context, methodName string, arg interface{}, handlerFunc thrift.HandlerFunc) (interface{}, error) {\r\n\t\tspan := tracer.StartSpan(\r\n\t\t\tfmt.Sprintf(\"%s:%s\", serviceName, methodName),\r\n\t\t\topentracing.ChildOf(parentSpan.Context()),\r\n\t\t)\r\n\t\tdefer span.Finish()\r\n\t\tctx = opentracing.ContextWithSpan(ctx, span)\r\n\t\tvar correlationID string\r\n\t\tif span, ok := span.(*jaeger.Span); ok {\r\n\t\t\tcorrelationID = span.SpanContext().TraceID().String()\r\n\t\t\tctx = processor.WithCorrelationID(ctx, correlationID)\r\n\t\t}\r\n\r\n\t\tresult, err := handlerFunc(ctx, arg)\r\n\t\tif err != nil {\r\n\t\t\tspan.SetTag(\"error\", true)\r\n\t\t}\r\n\r\n\t\treturn result, err\r\n\t}\r\n}\r\n\r\n// Wrap all errors with UnexpectedError except api errors that implement thrift.TStruct\r\nfunc NewErrorInterceptor(serviceName string, logger *logging.Logger) thrift.HandlerInterceptor {\r\n\treturn func(ctx context.Context, methodName string, arg interface{}, handlerFunc thrift.HandlerFunc) (interface{}, error) {\r\n\t\tresult, err := handlerFunc(ctx, arg)\r\n\t\tif err == nil {\r\n\t\t\treturn result, nil\r\n\t\t}\r\n\r\n\t\tlogger = logger.WithFields(logging.Fields{\r\n\t\t\t\"service\": serviceName,\r\n\t\t\t\"method\":  methodName,\r\n\t\t\t\"request\": maskArg(ctx, logger, arg),\r\n\t\t})\r\n\r\n\t\tif _, ok := err.(thrift.TStruct); ok {\r\n\t\t\tlogger.Info(ctx, err)\r\n\t\t} else {\r\n\t\t\tlogger.Error(ctx, err)\r\n\t\t\terr = NewUnexpectedError(err)\r\n\t\t}\r\n\r\n\t\treturn result, err\r\n\t}\r\n}\r\n\r\nfunc NewServerInterceptor(\r\n\tmetricsCollector MetricsCollector,\r\n\tserviceName string,\r\n\toptions ...InterceptorOption,\r\n) thrift.HandlerInterceptor {\r\n\tinterceptorOptions := evaluateInterceptorOptions(options)\r\n\r\n\treturn func(\r\n\t\tctx context.Context,\r\n\t\tmethodName string,\r\n\t\targ interface{},\r\n\t\thandlerFunc thrift.HandlerFunc,\r\n\t) (result interface{}, err error) {\r\n\t\tif interceptorOptions.filterFunc != nil && !interceptorOptions.filterFunc(serviceName, methodName) {\r\n\t\t\treturn handlerFunc(ctx, arg)\r\n\t\t}\r\n\r\n\t\tmetricsCollector.IncCall(serviceName, methodName)\r\n\r\n\t\tstartTime := time.Now()\r\n\t\tsuccess, err := handlerFunc(ctx, arg)\r\n\t\tif err != nil {\r\n\t\t\tif interceptorOptions.errorTrackFunc == nil || interceptorOptions.errorTrackFunc(serviceName, methodName, err) {\r\n\t\t\t\tmetricsCollector.IncError(serviceName, methodName)\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tmetricsCollector.ObserveProcessingTime(serviceName, methodName, time.Since(startTime))\r\n\r\n\t\treturn success, err\r\n\t}\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705480455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705725300","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705725300","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705725300,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTcyNTMwMA==","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T17:46:47Z","updated_at":"2020-10-08T17:46:47Z","author_association":"MEMBER","body":"@voodoo-dn So this is not as low level as I expected (e.g. it still cannot get the size on the wire for the requests and responses). The only thing this can do and middlewares can't are getting the requests and responses, but that comes with a price.\r\n\r\nIn your interceptor implementations both requests and responses are `interface{}`, e.g. typeless. Why can they not be `thrift.TStruct` instead? What are the cases they are not actually `thrift.TStruct`? `interface{}` is something I want to avoid as much as possible. If you look at the current thrift library code, we only use it in `TSimpleJSONProtocol`, `sync.Pool`, and test codes:\r\n\r\n```\r\n$ git grep \"interface{}\"\r\ndebug_protocol.go:func (tdp *TDebugProtocol) logf(format string, v ...interface{}) {\r\ndeserializer.go:                        New: func() interface{} {\r\ndeserializer.go:                        New: func() interface{} {\r\nhttp_transport.go:              New: func() interface{} {\r\njson_protocol_test.go:  str1 := new([]interface{})\r\njson_protocol_test.go:  str1 := new([]interface{})\r\nserializer.go:                  New: func() interface{} {\r\nserializer.go:                  New: func() interface{} {\r\nsimple_json_protocol.go:func (p *TSimpleJSONProtocol) readSingleValue() (interface{}, TType, error) {\r\nsimple_json_protocol.go:                        return make([]interface{}, 0), LIST, NewTProtocolException(e)\r\nsimple_json_protocol.go:                        return make(map[string]interface{}), STRUCT, NewTProtocolException(e)\r\nsimple_json_protocol_test.go:   str1 := new([]interface{})\r\nsimple_json_protocol_test.go:   str1 := new([]interface{})\r\n```\r\n\r\nAnd in thrift compiled go code we only use it for the `Scan` functions generated for the thrift defined types.\r\n\r\nMiddlewares can do everything in the list you mentioned, but without the requests and responses. And looking at your example code, they are only used in logging. So it seems to me that they are not something required to function, but more like nice to have things.\r\n\r\nSo to summarize my impression is that this is a relatively high price to pay (with compiler changes and weaker type system) for a relatively low gain (as I mentioned in [the discussion in the ticket](https://issues.apache.org/jira/browse/THRIFT-5164?focusedCommentId=17134411&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17134411), it's doable in middleware as well, just more complex). I'm also doubtful of the usefulness of blindly logging all requests/responses for every request in every endpoint.\r\n\r\nAlso I'm curious: how do you implement your `maskArg` function so it works for all your different request types? (Serhii mentioned that they have 100 endpoints, and I assume they are from the same company as you?)","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705725300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705765002","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705765002","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705765002,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc2NTAwMg==","user":{"login":"voodoo-dn","id":5621571,"node_id":"MDQ6VXNlcjU2MjE1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5621571?v=4","gravatar_id":"","url":"https://api.github.com/users/voodoo-dn","html_url":"https://github.com/voodoo-dn","followers_url":"https://api.github.com/users/voodoo-dn/followers","following_url":"https://api.github.com/users/voodoo-dn/following{/other_user}","gists_url":"https://api.github.com/users/voodoo-dn/gists{/gist_id}","starred_url":"https://api.github.com/users/voodoo-dn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voodoo-dn/subscriptions","organizations_url":"https://api.github.com/users/voodoo-dn/orgs","repos_url":"https://api.github.com/users/voodoo-dn/repos","events_url":"https://api.github.com/users/voodoo-dn/events{/privacy}","received_events_url":"https://api.github.com/users/voodoo-dn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:06:00Z","updated_at":"2020-10-08T19:25:17Z","author_association":"NONE","body":"> In your interceptor implementations both requests and responses are `interface{}`, e.g. typeless. Why can they not be `thrift.TStruct` instead?\r\n\r\nYou are totally right, it this TStruct instead of interface{} is very good solution.\r\n\r\n> Middlewares can do everything in the list you mentioned, but without the requests and responses. And looking at your example code, they are only used in logging. So it seems to me that they are not something required to function, but more like nice to have things.\r\n\r\nAre you sure? Logging is like \"nice to have\"? How you will develop something, where request and responses in binary data and you do not know what data creates errors in you application? Do you think that is better to add 100 calls to logger for every thrift handler?\r\n\r\n> So to summarize my impression is that this is a relatively high price to pay (with compiler changes and weaker type system) for a relatively low gain (as I mentioned in [the discussion in the ticket](https://issues.apache.org/jira/browse/THRIFT-5164?focusedCommentId=17134411&page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17134411), it's doable in middleware as well, just more complex). I'm also doubtful of the usefulness of blindly logging all requests/responses for every request in every endpoint.\r\n\r\nWeak type system will be fixed if you are agree to merge this MR.\r\nGuys, your project is great, but let's face it:\r\ngRPC is more popular(without great things as Exception, that your project supports), there is bigger community, it's contains such things as Interceptor(what is from your vision is useless) from the box. Without new features which scares you, your project become less popular and will die without community supporting. I don't injure you, but your relation to new features reflect attitude to community. I do not say: if you do not merge it, we will move our projects to gRPC, not, i'm trying to understand why such great feature as Interceptor, which is done not by you, you didn't spent time on coding and testing(this Interceptor is using half year in production without any problems by our company) makes such problems.\r\n\r\n> Also I'm curious: how do you implement your `maskArg` function so it works for all your different request types? (Serhii mentioned that they have 100 endpoints, and I assume they are from the same company as you?)\r\n\r\nWhat is maskArg do: marshal args to json, then we cut from json some sensitive data and log this json.\r\nYes, we work with Serhii in one team.\r\n\r\nSorry if I offended you in some way. Have a good time.\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705765002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705775374","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705775374","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705775374,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc3NTM3NA==","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:26:55Z","updated_at":"2020-10-08T23:06:26Z","author_association":"MEMBER","body":"Logging is certainly important, but I'm not so sure how important it is to log all requests/responses for every request.\r\n\r\nGranted everyone's situation is different, but my experience is that we only log errors in production, and in most cases the error messages have enough information to debug the issue. And if that's not enough, in most of (our) cases it's not something in the request,  more logging/metrics near the place the error happens are much more useful than just logging the whole request.\r\n\r\n\"Weaker type system\" is in refer to the usage of `interface{}` as the type of the requests/responses.\r\n\r\n>What is maskArg do: marshal args to json, then we cut from json some sensitive data and log this json.\r\n\r\nThe cutting part sounds very inefficient if you are doing that after marshaled to json. Do you unmarshal json again to strip the sensitive data, or use some regexp to manipulate the json string directly? (this is purely my curiosity, nothing to do with this PR)","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705775374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705791654","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705791654","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705791654,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5MTY1NA==","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T19:59:50Z","updated_at":"2020-10-08T19:59:50Z","author_association":"MEMBER","body":"> I'm not so sure how important it is to log all requests/responses for every request.\r\n\r\nAgreed. In my experience this is only needed rarely for debugging and when that happens something like this works just fine inside the handler:\r\n```go\r\nfunc (s *Server) ExampleHandler(ctx context.Context, req *gen.ExampleRequest) (resp *gen.ExampleResponse, respErr error) {\r\n\tt := trace.New(ctx, \"example\").Input(req)\r\n\tdefer func() { t.Output(resp, respErr).Send() }()\r\n\t\r\n\t// rest of the handler code...\r\n}\r\n```\r\n\r\nSo yeah, I think the cost of this change is way too high to avoid those 2 lines of code. ","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705791654/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705795242","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705795242","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705795242,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTc5NTI0Mg==","user":{"login":"voodoo-dn","id":5621571,"node_id":"MDQ6VXNlcjU2MjE1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5621571?v=4","gravatar_id":"","url":"https://api.github.com/users/voodoo-dn","html_url":"https://github.com/voodoo-dn","followers_url":"https://api.github.com/users/voodoo-dn/followers","following_url":"https://api.github.com/users/voodoo-dn/following{/other_user}","gists_url":"https://api.github.com/users/voodoo-dn/gists{/gist_id}","starred_url":"https://api.github.com/users/voodoo-dn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voodoo-dn/subscriptions","organizations_url":"https://api.github.com/users/voodoo-dn/orgs","repos_url":"https://api.github.com/users/voodoo-dn/repos","events_url":"https://api.github.com/users/voodoo-dn/events{/privacy}","received_events_url":"https://api.github.com/users/voodoo-dn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:07:05Z","updated_at":"2020-10-08T20:07:05Z","author_association":"NONE","body":"> Logging is certainly important, but I'm so sure how important it is to log all requests/responses for every request.\r\n\r\nLogs collecting is cheap, but allows you to reproduce system behavior. When you works with microservices, it's must have feature to log everything.\r\n\r\n> Granted everyone's situation is different, but my experience is that we only log errors in production, and in most cases the error messages have enough information to debug the issue. And if that's not enough, in most of (our) cases it's not something in the request, more logging/metrics near the place the error happens are much more useful than just logging the whole request.\r\n\r\nFor example: some your endpoints starts return internal errors. You do not have middlewares, you haven't added any logging to thrift handler. What will you do? Do hotfix on production and add logger?)\r\n\r\n> \"Weaker type system\" is in refer to the usage of `interface{}` as the type of the requests/responses.\r\n\r\nI understand. I can make arg and result as TStruct, it's not a problem.\r\n\r\n> > What is maskArg do: marshal args to json, then we cut from json some sensitive data and log this json.\r\n> \r\n> The cutting part sounds very inefficient if you are doing that after marshaled to json. Do you unmarshal json again to strip the sensitive data, or use some regexp to manipulate the json string directly? (this is purely my curiosity, nothing to do with this PR)\r\n\r\nYes, there is not the efficient algorithm, we will fix it when we might have problems with performance.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705795242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705800456","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705800456","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705800456,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgwMDQ1Ng==","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:18:07Z","updated_at":"2020-10-08T20:18:07Z","author_association":"MEMBER","body":">For example: some your endpoints starts return internal errors. You do not have middlewares, you haven't added any logging to thrift handler. What will you do? Do hotfix on production and add logger?)\r\n\r\nHow did they start to return internal errors? If it's panic, the log will automatically have the stack trace so you know on which line it panicked. If it's an error returned by your handler code, sure you know why you would return an error there?\r\n\r\nPlease pardon my lack of imagination, but the only situation I can imagine that logging the whole request would help, is that there are some corner case from the input you didn't handle well, like having problem to handle negative number for an unsigned int, or having problems with string input being too short. But even in those cases, logging the callstack at the time you return error/panic are usually much more useful than having the whole request logged.","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705800456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705808524","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705808524","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705808524,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgwODUyNA==","user":{"login":"voodoo-dn","id":5621571,"node_id":"MDQ6VXNlcjU2MjE1NzE=","avatar_url":"https://avatars.githubusercontent.com/u/5621571?v=4","gravatar_id":"","url":"https://api.github.com/users/voodoo-dn","html_url":"https://github.com/voodoo-dn","followers_url":"https://api.github.com/users/voodoo-dn/followers","following_url":"https://api.github.com/users/voodoo-dn/following{/other_user}","gists_url":"https://api.github.com/users/voodoo-dn/gists{/gist_id}","starred_url":"https://api.github.com/users/voodoo-dn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/voodoo-dn/subscriptions","organizations_url":"https://api.github.com/users/voodoo-dn/orgs","repos_url":"https://api.github.com/users/voodoo-dn/repos","events_url":"https://api.github.com/users/voodoo-dn/events{/privacy}","received_events_url":"https://api.github.com/users/voodoo-dn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:34:38Z","updated_at":"2020-10-08T20:34:38Z","author_association":"NONE","body":"> So yeah, I think the cost of this change is way too high to avoid those 2 lines of code.\r\n\r\nI think better to say: 2 line on code in 100 places.\r\n \r\nYour middleware cannot log information, haven't information about which handler method was called.\r\nIf you want take data from request and you protocol is Binary, you should copy values from `in TProtocol` and deserialize data, lol, very efficient when do it twice.\r\n\r\nFor metrics - the same, you do not know which handler method was called, you know only **service name**.\r\n**How you will collect metrics without handler method name?**\r\nBut I can answer instead of you: you can't do it at all.\r\n\r\nHow do you collect traces/metrics in real project? Where your jaeger span starts and how you take \"serviceName:methodName\" to collect metrics?\r\n","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705808524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705811926","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705811926","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705811926,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgxMTkyNg==","user":{"login":"dcelasun","id":144373,"node_id":"MDQ6VXNlcjE0NDM3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/144373?v=4","gravatar_id":"","url":"https://api.github.com/users/dcelasun","html_url":"https://github.com/dcelasun","followers_url":"https://api.github.com/users/dcelasun/followers","following_url":"https://api.github.com/users/dcelasun/following{/other_user}","gists_url":"https://api.github.com/users/dcelasun/gists{/gist_id}","starred_url":"https://api.github.com/users/dcelasun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dcelasun/subscriptions","organizations_url":"https://api.github.com/users/dcelasun/orgs","repos_url":"https://api.github.com/users/dcelasun/repos","events_url":"https://api.github.com/users/dcelasun/events{/privacy}","received_events_url":"https://api.github.com/users/dcelasun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:41:44Z","updated_at":"2020-10-08T20:41:44Z","author_association":"MEMBER","body":"> How do you collect traces/metrics in real project? Where your jaeger span starts and how you take \"serviceName:methodName\" to collect metrics?\r\n\r\nWith middlewares, the handler name is [available](https://github.com/apache/thrift/blob/daf620915714b76fce517b376b963440d1f34089/lib/go/thrift/middleware.go#L29). See the [original commit](https://github.com/apache/thrift/commit/00c039adeb551b297276fcb88131f1cfe82be1cd) for examples.\r\n\r\n> How do you collect traces/metrics in real project? Where your jaeger span starts and how you take \"serviceName:methodName\" to collect metrics?\r\n\r\nEither with middlewares (the new way), or by a 2-line statement inside the handler (the old way).","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705811926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705812066","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705812066","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705812066,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgxMjA2Ng==","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:42:02Z","updated_at":"2020-10-08T20:42:02Z","author_association":"MEMBER","body":">you do not know which handler method was called\r\n\r\nThat's not true. the `name` in [`ProcessorMiddleware`](https://pkg.go.dev/github.com/apache/thrift@v0.13.1-0.20201008052519-daf620915714/lib/go/thrift#ProcessorMiddleware) is the name of the endpoint. Or do you have a different definition of \"service name\" and \"handler name\" from me?","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705812066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705813195","html_url":"https://github.com/apache/thrift/pull/1992#issuecomment-705813195","issue_url":"https://api.github.com/repos/apache/thrift/issues/1992","id":705813195,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNTgxMzE5NQ==","user":{"login":"fishy","id":78183,"node_id":"MDQ6VXNlcjc4MTgz","avatar_url":"https://avatars.githubusercontent.com/u/78183?v=4","gravatar_id":"","url":"https://api.github.com/users/fishy","html_url":"https://github.com/fishy","followers_url":"https://api.github.com/users/fishy/followers","following_url":"https://api.github.com/users/fishy/following{/other_user}","gists_url":"https://api.github.com/users/fishy/gists{/gist_id}","starred_url":"https://api.github.com/users/fishy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fishy/subscriptions","organizations_url":"https://api.github.com/users/fishy/orgs","repos_url":"https://api.github.com/users/fishy/repos","events_url":"https://api.github.com/users/fishy/events{/privacy}","received_events_url":"https://api.github.com/users/fishy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-08T20:44:23Z","updated_at":"2020-10-08T20:44:23Z","author_association":"MEMBER","body":"To clarify, in the example of https://github.com/apache/thrift/blob/daf620915714b76fce517b376b963440d1f34089/test/Service.thrift: the \"service name\" is [`Service`](https://github.com/apache/thrift/blob/daf620915714b76fce517b376b963440d1f34089/test/Service.thrift#L22) and the \"endpoint name\"/\"handler name\" is [`testEpisode`](https://github.com/apache/thrift/blob/daf620915714b76fce517b376b963440d1f34089/test/Service.thrift#L23) (this is the one you get from the `name` arg from middleware)","reactions":{"url":"https://api.github.com/repos/apache/thrift/issues/comments/705813195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]