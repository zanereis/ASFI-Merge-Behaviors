[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/749188374","html_url":"https://github.com/apache/accumulo/issues/1844#issuecomment-749188374","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1844","id":749188374,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTE4ODM3NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-21T20:46:21Z","updated_at":"2020-12-21T20:46:21Z","author_association":"CONTRIBUTOR","body":"Accumulo was able to recovery and everything resumed functioning properly (i.e. I can scan the full metadata table, tservers all up).  So it is likely that this was a transient error.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/749188374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/749789314","html_url":"https://github.com/apache/accumulo/issues/1841#issuecomment-749789314","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1841","id":749789314,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTc4OTMxNA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-22T21:42:18Z","updated_at":"2020-12-22T21:42:18Z","author_association":"MEMBER","body":"When I run these tests they only take about 40 seconds each, but it appears that a significant amount of time is spent within both tests in:\r\n```\r\nfor (Future<?> future : futures) {\r\n          future.get();\r\n     }\r\n```\r\nFrom what I know, ```future.get();``` is used to retrieve the result of a future and will block until the result is ready. Maybe there is an issue with some of the threads blocking for long amounts of time. I'm not sure if this is what caused the excessively long run times you observed but it might be worth investigating.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/749789314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/749844186","html_url":"https://github.com/apache/accumulo/issues/1841#issuecomment-749844186","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1841","id":749844186,"node_id":"MDEyOklzc3VlQ29tbWVudDc0OTg0NDE4Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T00:07:28Z","updated_at":"2020-12-23T00:07:28Z","author_association":"MEMBER","body":"> When I run these tests they only take about 40 seconds each\r\n\r\nIf that's the expected runtime, then we may just need to add a timeout rule to the test, so we can detect when something goes awry, but it doesn't hold up the rest of the tests for half an hour. I'm still curious about why it took so long, but the immediate work is to put a cap on the test duration with a reasonable upper bound.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/749844186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/750424977","html_url":"https://github.com/apache/accumulo/issues/1841#issuecomment-750424977","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1841","id":750424977,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQyNDk3Nw==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T18:40:48Z","updated_at":"2020-12-23T18:40:48Z","author_association":"MEMBER","body":"I have added timeouts of 3 mins for each test which should be plenty of time if they are running correctly. The issue you got may have been caused by the large number of threads (20) that this test spawns which will block the test from completing if any of the threads does not finish. If that is the case then I'm not sure what could be changed about this test to prevent that from happening.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/750424977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/750430380","html_url":"https://github.com/apache/accumulo/issues/1841#issuecomment-750430380","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1841","id":750430380,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDQzMDM4MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T18:57:39Z","updated_at":"2020-12-23T18:57:39Z","author_association":"MEMBER","body":"> I have added timeouts of 3 mins for each test which should be plenty of time if they are running correctly. The issue you got may have been caused by the large number of threads (20) that this test spawns which will block the test from completing if any of the threads does not finish. If that is the case then I'm not sure what could be changed about this test to prevent that from happening.\r\n\r\nIt's possible that one of the threads died and we didn't properly clean up. Adding the timeout is probably sufficient for now. Hopefully other work will help handle issues pertaining to dead threads, and if not, we can always create a new issue if this test remains flaky.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/750430380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/750729011","html_url":"https://github.com/apache/accumulo/issues/1846#issuecomment-750729011","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1846","id":750729011,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDcyOTAxMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T03:58:41Z","updated_at":"2021-01-16T18:22:33Z","author_association":"MEMBER","body":"In order to build the javadocs for 2.0.1 for the website using Java 15 (the latest available to me at the time), I had to backport the following javadoc fixes from the main branch:\r\n\r\n```diff\r\ndiff --git a/core/src/main/java/org/apache/accumulo/core/data/doc-files/mutation-serialization.html b/core/src/main/java/org/apache/accumulo/core/data/doc-files/mutation-serialization.html\r\nindex f00d1b756e..d0ae38b176 100644\r\n--- a/core/src/main/java/org/apache/accumulo/core/data/doc-files/mutation-serialization.html\r\n+++ b/core/src/main/java/org/apache/accumulo/core/data/doc-files/mutation-serialization.html\r\n@@ -19,6 +19,9 @@\r\n     <title>Serialization Formats for Mutation</title>\r\n   </head>\r\n   <body>\r\n+\r\n+    <h1>Serialization Formats for Mutation</h1>\r\n+\r\n     <p>\r\n     The <code>Mutation</code> class supports two serialization formats.\r\n     While it only currently serializes to the newer version 2 format, it\r\ndiff --git a/pom.xml b/pom.xml\r\nindex 3a7d6e750d..db6d13e662 100644\r\n--- a/pom.xml\r\n+++ b/pom.xml\r\n@@ -876,7 +876,7 @@\r\n         <plugin>\r\n           <groupId>org.apache.maven.plugins</groupId>\r\n           <artifactId>maven-javadoc-plugin</artifactId>\r\n-          <version>3.1.0</version>\r\n+          <version>3.2.0</version>\r\n           <configuration>\r\n             <quiet>true</quiet>\r\n             <additionalJOption>-J-Xmx512m</additionalJOption>\r\n@@ -1554,6 +1554,7 @@\r\n                   <sourceFileInclude>**/org/apache/accumulo/core/data/**/*.java</sourceFileInclude>\r\n                   <sourceFileInclude>**/org/apache/accumulo/core/security/**/*.java</sourceFileInclude>\r\n                   <sourceFileInclude>**/org/apache/accumulo/minicluster/**/*.java</sourceFileInclude>\r\n+                  <sourceFileInclude>**/org/apache/accumulo/hadoop/**/*.java</sourceFileInclude>\r\n                 </sourceFileIncludes>\r\n                 <sourceFileExcludes>\r\n                   <sourceFileExclude>**/crypto/**/*.java</sourceFileExclude>\r\n```\r\n\r\nBuilding with the newer javadoc tool for the website is preferable to using an older JDK, because javadoc bug fixes aren't always backported to the older JDKs. This patch also added the missing hadoop-mapreduce module to the generated javadocs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/750729011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/750910455","html_url":"https://github.com/apache/accumulo/issues/1775#issuecomment-750910455","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1775","id":750910455,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDkxMDQ1NQ==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T15:25:28Z","updated_at":"2020-12-24T15:25:28Z","author_association":"CONTRIBUTOR","body":"@milleruntime Hi, I tested this scenario in Accumulo 2.0.1-rc1 by changing `tserver.hold.time.max` from `5m` (default) to `5s`, after few minutes of running cingest the below warning appeared in the monitor logs but the dead tablet server was not showing up in the tablet server status page & also the dead tablet server count remains '0' in the overview page. Therefore, the issue still occurs in the new monitor.\r\n> 2020-12-24 14:55:32,420 [master.Master] WARN : Tablet server kn-host-4:9997[10000071d0d0005] exceeded maximum hold time: attempting to kill it","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/750910455/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751029535","html_url":"https://github.com/apache/accumulo/issues/1848#issuecomment-751029535","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1848","id":751029535,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTAyOTUzNQ==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-24T20:58:59Z","updated_at":"2020-12-24T20:58:59Z","author_association":"CONTRIBUTOR","body":"When Accumulo master kills the tserver due to exceeding maximum hold time, in which case the highlighted field displays the active no. of tablet server and not the total. Found this when testing #1775. I think we need to make this behaviour consistent across  different tserver failures, currently when Agitator kills the tserver it displays the total and when master kills the tserver it displays the active no. of tservers. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751029535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751158239","html_url":"https://github.com/apache/accumulo/issues/1848#issuecomment-751158239","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1848","id":751158239,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTE1ODIzOQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-25T03:18:02Z","updated_at":"2020-12-25T03:19:03Z","author_association":"MEMBER","body":"Rather than change the behavior, would it suffice to update the column header to clarify by changing \"Tablet Servers\" column to something like \"Total Known Tablet Servers\" or similar? Changing the behavior seems to risk flip-flopping based on different people's expected behavior. The behavior has already changed once. Perhaps by clarifying with a better column header, we can avoid changing the behavior repeatedly back and forth, based on different people's expectations?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751158239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751519006","html_url":"https://github.com/apache/accumulo/issues/1669#issuecomment-751519006","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1669","id":751519006,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTUxOTAwNg==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-27T21:38:38Z","updated_at":"2020-12-27T22:04:08Z","author_association":"CONTRIBUTOR","body":"I saw this after checking the status of  #1050. This is the exact situation I am interested in. Maybe this could be possible with a per-table manual configuration?\n\nOtherwise, the solution I'm looking at implementing is:\n- offline the table\n- manually merge the metadata for small tablets (the MERGING state of a merge)\n- online the table","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751519006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751741392","html_url":"https://github.com/apache/accumulo/pull/1847#issuecomment-751741392","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1847","id":751741392,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTc0MTM5Mg==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T15:04:15Z","updated_at":"2020-12-28T15:17:02Z","author_association":"MEMBER","body":"For some reason I am now experiencing much longer run times for these tests. As noted earlier, they each ran in about 40 seconds. Now, with no changes, they are both running about 4-4.5 minutes each. Not sure why this is happening but I will add a longer timeout for now and then look deeper into what takes these tests so long.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751741392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751774504","html_url":"https://github.com/apache/accumulo/issues/1849#issuecomment-751774504","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1849","id":751774504,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTc3NDUwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T16:27:44Z","updated_at":"2020-12-28T16:27:44Z","author_association":"MEMBER","body":"I believe this was closed in favor of #1850 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751774504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751776450","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-751776450","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":751776450,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTc3NjQ1MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T16:32:23Z","updated_at":"2020-12-28T16:32:23Z","author_association":"MEMBER","body":"@karthick-rn or @arvindshmicrosoft Any ideas?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751776450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751778532","html_url":"https://github.com/apache/accumulo/issues/1669#issuecomment-751778532","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1669","id":751778532,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTc3ODUzMg==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T16:37:24Z","updated_at":"2020-12-28T16:37:24Z","author_association":"CONTRIBUTOR","body":"An automated merge could also use some configurable heuristics like:\n- Only consider tablets that have had no data written to them in 24 hours\n- Only consider tables whose number of tablets is more than a multiple of the number of tablet servers","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751778532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751797068","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-751797068","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":751797068,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTc5NzA2OA==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T17:25:33Z","updated_at":"2020-12-28T17:25:33Z","author_association":"CONTRIBUTOR","body":"@Viv1986, Based on the description, looks like you added both HDFS & ABFS volumes at one go and ran `accumulo init --add-volumes`. In Accumulo 2.0, this need to be done in 2 steps as described in the blog.\r\n1. Add HDFS volume in `accumulo.properties` file\r\n`instance.volumes=hdfs://first.xxxxx.cloudapp.net:8020/apps/accumulo/data`\r\n2. Run `accumulo init` to initialise Accumulo on HDFS\r\n3. Now add ABFS volume as shown below \r\n`instance.volumes=hdfs://first.xxxxx.cloudapp.net:8020/apps/accumulo/data,abfss://accumulo2@xxx.dfs.core.windows.net/`\r\n(make sure you add a directory in the ABFS URI for initialising)\r\n4. Run `accumulo init --add-volumes` to initialise Accumulo on ABFS \r\n5. Start Accumulo services\r\n\r\nTry this and let me know? \r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751797068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751799942","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-751799942","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":751799942,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTc5OTk0Mg==","user":{"login":"Viv1986","id":25159403,"node_id":"MDQ6VXNlcjI1MTU5NDAz","avatar_url":"https://avatars.githubusercontent.com/u/25159403?v=4","gravatar_id":"","url":"https://api.github.com/users/Viv1986","html_url":"https://github.com/Viv1986","followers_url":"https://api.github.com/users/Viv1986/followers","following_url":"https://api.github.com/users/Viv1986/following{/other_user}","gists_url":"https://api.github.com/users/Viv1986/gists{/gist_id}","starred_url":"https://api.github.com/users/Viv1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Viv1986/subscriptions","organizations_url":"https://api.github.com/users/Viv1986/orgs","repos_url":"https://api.github.com/users/Viv1986/repos","events_url":"https://api.github.com/users/Viv1986/events{/privacy}","received_events_url":"https://api.github.com/users/Viv1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T17:33:08Z","updated_at":"2020-12-28T17:33:08Z","author_association":"NONE","body":"@karthick-rn \r\nif you read my message, all this was already done","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751799942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751806035","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-751806035","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":751806035,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTgwNjAzNQ==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T17:49:27Z","updated_at":"2020-12-28T17:49:27Z","author_association":"CONTRIBUTOR","body":"What version of Hadoop are you using?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751806035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751808624","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-751808624","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":751808624,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTgwODYyNA==","user":{"login":"Viv1986","id":25159403,"node_id":"MDQ6VXNlcjI1MTU5NDAz","avatar_url":"https://avatars.githubusercontent.com/u/25159403?v=4","gravatar_id":"","url":"https://api.github.com/users/Viv1986","html_url":"https://github.com/Viv1986","followers_url":"https://api.github.com/users/Viv1986/followers","following_url":"https://api.github.com/users/Viv1986/following{/other_user}","gists_url":"https://api.github.com/users/Viv1986/gists{/gist_id}","starred_url":"https://api.github.com/users/Viv1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Viv1986/subscriptions","organizations_url":"https://api.github.com/users/Viv1986/orgs","repos_url":"https://api.github.com/users/Viv1986/repos","events_url":"https://api.github.com/users/Viv1986/events{/privacy}","received_events_url":"https://api.github.com/users/Viv1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T17:56:11Z","updated_at":"2020-12-28T17:56:11Z","author_association":"NONE","body":"3.1\r\nhadoop fs -ls abfs://accumulo2@xxx.dfs.core.windows.net/\r\nFound 1 items\r\ndrwxr-xr-x   - accumulo accumulo  0 2020-12-25 10:56 abfs://accumulo2@xxx.dfs.core.windows.net/accumulo","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751808624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751815511","html_url":"https://github.com/apache/accumulo/issues/1841#issuecomment-751815511","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1841","id":751815511,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MTgxNTUxMQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-28T18:16:54Z","updated_at":"2020-12-28T18:16:54Z","author_association":"MEMBER","body":"I have done some more investigating and it seems as though the time these tests take can be scaled by the amount of splits that are added to the tables within the tests. The current number of splits is 1000 and with a reduction of this number comes a reduction in runtime. I'm not sure how altering the splits will affect the effectiveness of these tests however. If we want to reduce the time these tests take, this seems like it could be a good change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/751815511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752080325","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-752080325","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":752080325,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjA4MDMyNQ==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-29T13:47:22Z","updated_at":"2020-12-29T13:47:22Z","author_association":"CONTRIBUTOR","body":"Support for ABFS connector in the `hadoop-azure` module has been added from Hadoop 3.2.0 onwards (Refer [RN-3.2.0](https://hadoop.apache.org/docs/r3.2.0/hadoop-project-dist/hadoop-common/release/3.2.0/RELEASENOTES.3.2.0.html)). I'd suggest you upgrade Hadoop to 3.2.0 or above and let us know if you still see this issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752080325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752200173","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-752200173","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":752200173,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjIwMDE3Mw==","user":{"login":"arvindshmicrosoft","id":16342666,"node_id":"MDQ6VXNlcjE2MzQyNjY2","avatar_url":"https://avatars.githubusercontent.com/u/16342666?v=4","gravatar_id":"","url":"https://api.github.com/users/arvindshmicrosoft","html_url":"https://github.com/arvindshmicrosoft","followers_url":"https://api.github.com/users/arvindshmicrosoft/followers","following_url":"https://api.github.com/users/arvindshmicrosoft/following{/other_user}","gists_url":"https://api.github.com/users/arvindshmicrosoft/gists{/gist_id}","starred_url":"https://api.github.com/users/arvindshmicrosoft/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvindshmicrosoft/subscriptions","organizations_url":"https://api.github.com/users/arvindshmicrosoft/orgs","repos_url":"https://api.github.com/users/arvindshmicrosoft/repos","events_url":"https://api.github.com/users/arvindshmicrosoft/events{/privacy}","received_events_url":"https://api.github.com/users/arvindshmicrosoft/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-29T18:43:12Z","updated_at":"2020-12-29T19:25:59Z","author_association":"MEMBER","body":"@Viv1986 I think Karthick's suggestion to leverage Hadoop 3.2.x is a good one, given almost all of our testing with this configuration was done with Hadoop 3.2.1+\r\n\r\nThat said, given you seem to be able to access the ADLS Gen2 account through Hadoop commands, but Accumulo cannot see it, in my experience this is an indication of something missing in the classpath specified for Accumulo. Hadoop looks for the hdfs-site.xml and core-site.xml files (which is where the necessary security key information for accessing ADLS Gen 2 is located), within the classpath specified for the current binary. I know you have followed the instructions in the blog post to add the necessary paths, but perhaps something is slightly off out there?\r\n\r\nAs another option, if this is a dev/test cluster, it may be easier if you use the [Muchos](https://github.com/apache/fluo-muchos) project to set up the cluster on Azure. There is out-of-the-box support in Muchos, for using ADLS Gen 2 with Accumulo. Muchos also [correctly populates](https://github.com/apache/fluo-muchos/blob/b21c3da46b99c7ed8d28fc24b232f7908a264eb5/ansible/roles/accumulo/templates/accumulo-env.sh#L51-L62) the Accumulo classpath with the required paths. Further, when using Muchos, the ADLS Gen 2 account is accessed using Azure Managed Identities, which leverage OAuth, and avoid hard-coded storage account key based access.\r\n\r\nYou may also use a cluster setup using Muchos to compare and check for differences in classpaths between your custom setup above and the \"reference\" setup done through Muchos.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752200173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752464842","html_url":"https://github.com/apache/accumulo/issues/1669#issuecomment-752464842","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1669","id":752464842,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjQ2NDg0Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T11:48:21Z","updated_at":"2020-12-30T11:48:21Z","author_association":"CONTRIBUTOR","body":"Is the underlying problem the performance of merging empty tablets on an active table?  If so, I wonder if it would be possible to add an option to Merge a range of empty tablets and not have to lock the table.  This would essentially just remove the empty tablets from the metadata table.  We could check if the provided range of tablets is empty before locking and if so drop the stale references.  This would eliminate the complexity of trying to creating something in Accumulo to automatically merge and would be easy for the client to perform.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752464842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752482523","html_url":"https://github.com/apache/accumulo/issues/1669#issuecomment-752482523","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1669","id":752482523,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjQ4MjUyMw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T12:01:29Z","updated_at":"2020-12-30T12:01:29Z","author_association":"CONTRIBUTOR","body":"Or maybe just a separate utility to remove empty tablets.  For example, you have a table with splits configured A-Z for the alphabet.  One time you got a lot of \"Quilting\" data so there are lots of Q tablets.  There won't be another Quilt convention so you just need to remove tablets \"P-Q\" from the table.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752482523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752630879","html_url":"https://github.com/apache/accumulo/issues/1669#issuecomment-752630879","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1669","id":752630879,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjYzMDg3OQ==","user":{"login":"andrewglowacki","id":5504606,"node_id":"MDQ6VXNlcjU1MDQ2MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5504606?v=4","gravatar_id":"","url":"https://api.github.com/users/andrewglowacki","html_url":"https://github.com/andrewglowacki","followers_url":"https://api.github.com/users/andrewglowacki/followers","following_url":"https://api.github.com/users/andrewglowacki/following{/other_user}","gists_url":"https://api.github.com/users/andrewglowacki/gists{/gist_id}","starred_url":"https://api.github.com/users/andrewglowacki/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/andrewglowacki/subscriptions","organizations_url":"https://api.github.com/users/andrewglowacki/orgs","repos_url":"https://api.github.com/users/andrewglowacki/repos","events_url":"https://api.github.com/users/andrewglowacki/events{/privacy}","received_events_url":"https://api.github.com/users/andrewglowacki/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T13:57:17Z","updated_at":"2020-12-30T13:58:54Z","author_association":"CONTRIBUTOR","body":"@milleruntime there are two cases:\n- A situation as @ivakegg described originally that results in many tablets empty or very small compared to the split size.\n- Over time you need to increase the split size and now all of your tablets are much smaller than it.\n\nA utility to do this periodically would work, however I'm not sure that alone would suffice since the tablets need to be offline when the merge occurs. Ideally Accumulo would only offline the tablets that need to be, but this would probably be very complicated.\n\nI can contribute the strategy I described above when I'm finished if that would be helpful. It will be a standalone client side tool.\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752630879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752705070","html_url":"https://github.com/apache/accumulo/issues/1669#issuecomment-752705070","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1669","id":752705070,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjcwNTA3MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T17:51:18Z","updated_at":"2020-12-30T17:52:07Z","author_association":"MEMBER","body":"> Is the underlying problem the performance of merging empty tablets on an active table? If so, I wonder if it would be possible to add an option to Merge a range of empty tablets and not have to lock the table.\r\n\r\nI don't think you can avoid locking the table in some way, but we may be able to add some sort of range lock.\r\n\r\nI was discussing the performance bottlenecks of merging with @EdColeman yesterday, and I pointed out that the biggest problem is chop-compactions, which truncate any non-empty tablets involved in the merge before completing the merge. This can be avoided in a special case if all sequential empty tablets being merged are merged into a single empty tablet, rather than merged with the adjacent non-empty one. This would avoid lots of HDFS operations, and file IO in that special case. In the general case, this can be avoided by storing range constraints per-file to match the original tablet in which the file was specified, as described in #1327.\r\n\r\nEliminating chop compactions would effectively made merges a metadata-only operation, with no file IO, which would eliminate a lot of the performance issues people have had with merging.\r\n\r\n\r\nAs for this issue, I still think automatic merging strategies are best kept in user utility code outside of Accumulo's code base, even if it's just getting rid of empty tablets. It's hard to infer user intentions to do anything automatic, and it adds too much complexity to support the user specifying their intentions in some sort of pluggable mechanism, with no substantial value over a fully client-side utility.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752705070/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752706855","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-752706855","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":752706855,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjcwNjg1NQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-30T17:57:41Z","updated_at":"2020-12-30T17:57:41Z","author_association":"MEMBER","body":"To add this functionality it seems either a boolean value could be accepted by `ZooReaderWriter.putEphemeralSequential()`  to denote whether \"protection\" would be used during creation, or an additional method could be created, something like `putProtectedEphemeralSequential()` to achieve the same effect. I think it would depend on whether any other variant of node may need to be created with this sort of protection as well as other implications of creating a new method or adding a new input value to the existing method. Still trying to work out the second piece as well: how search/recovery of a node from its UUID-prefixed path might work and where that logic should be implemented.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752706855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752808599","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-752808599","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":752808599,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjgwODU5OQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T01:14:59Z","updated_at":"2020-12-31T01:14:59Z","author_association":"CONTRIBUTOR","body":"Curator is a more general framework and is probably why they allow for the additional flexibility, but where we are creating / using locks, I believe that we would always want to have the stronger guarantee.  In addition to the curator code, the zookeeper recipe documentation also lays out how this can be achieved.  (https://zookeeper.apache.org/doc/r3.5.8/recipes.html#sc_recipes_Locks)\r\n\r\nFor Accumulo, I believe the pattern we currently expect for lock names is lock-[sequential id] - if this were modified to be lock-[uuid]-[sequential id] then the basic recipe would work.\r\n\r\nThis is roughly the same sequence outlined by the zookeeper recipe, modified with our current naming convention. This assumes we only create one \"lock type\" in a path - so for example a table lock would be something like /accumulo/[instance-id]/table_locks/[table_id]/ any node named lock-* under that path is only for locking that table (a unique id / path) - other locks would use a different path / root. \r\n\r\nWith this convention:\r\n\r\nCreate a sequential, ephemeral lock node: lock-[uuid] and allow zookeeper to assign the sequential id. The generated name would be of the form lock-[uuid]-######## with the # assigned by zookeeper.\r\nCall getChildren (no watch) on the path where the lock node was created to get the node names.\r\nFilter on lock-* \r\nSort using only the sequential id, and find the node with the lowest sequential number.\r\nThe node with the lowest sequential id \"has the lock\"\r\n- If the uuid of the node with the lowest sequential id is the uuid that the process assigned, then that process has the lock.  \r\n- If the lowest sequential id has a different uuid, then someone else has the lock.\r\n\r\nI had started implementing this approach before 1.10 was released, but we determined that it would be more that a \"bug-fix\" and would not included in that release. So, I put it aside to work other issues. I'll need to check to see what additional modifications are required for 2.1.  There were other related issues regarding using the session id that I believe that the can also be removed with using this approach for locks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752808599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752827226","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-752827226","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":752827226,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MjgyNzIyNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T03:09:24Z","updated_at":"2020-12-31T03:11:21Z","author_association":"MEMBER","body":"@EdColeman Wouldn't including a UUID mean that we'd get a bunch of nodes colliding with the \"lowest\" sequential ID, because they are all unique? Something like: `lock-uuid1-1`, `lock-uuid2-1`, `lock-uuid3-1`, etc.? Without the UUID, we get things that look like: `lock-1`, `lock-2`, `lock-3`, etc. Isn't that what we want? It seems to me that the UUID would be more useful in the value, so a node that *believes* itself to have the lowest lock can verify that its UUID matches the one seen, but it wouldn't affect the sequence.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752827226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752973595","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-752973595","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":752973595,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Mjk3MzU5NQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T14:30:06Z","updated_at":"2020-12-31T14:30:06Z","author_association":"CONTRIBUTOR","body":"@ctubbsii the sequence number is based on the parent node, not the node name.  From the [(zookeeper programming guide)](https://zookeeper.apache.org/doc/r3.5.8/zookeeperProgrammers.html#Sequence+Nodes+--+Unique+Naming)\r\n\r\n`When creating a znode you can also request that ZooKeeper append a monotonically increasing counter to the end of path. This counter is unique to the parent znode. `\r\n\r\nI'm having env issues, but I'll post an example when I get those sorted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/752973595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/753216625","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-753216625","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":753216625,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzIxNjYyNQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-31T22:13:13Z","updated_at":"2020-12-31T22:13:13Z","author_association":"CONTRIBUTOR","body":"The advantage of using the uuid in the name vs. putting it in as a value is that the node names and sequence can be determined by calling getChildren() and then parsing the name.  If the uuid was only in the value, then you would need to call getChildren to get the node names, and then each client would need to call getData to read the uuid on at least the node with the lowest sequence id. If a client needed to know its place in the sequence, that client would need to keep calling getData until if found its uuid (if existed at all).\r\n\r\nTo confirm that the sequence id is based on the parent node I manually generated some nodes.  The parent path is `/lock_test/myLocks/` and the sequential, ephemeral nodes are named lock-9999`-,` `lock-1234-`, `lock-9876-` (and in this order) - the 9999 node should have the lowest sequential id.  Looking in zookeeper, the nodes created are:\r\n\r\n`[zk: localhost:2181(CONNECTED) 5] ls /lock_test/myLocks\r\n[lock-1234-0000000001, lock-9876-0000000002, lock-9999-0000000000]\r\n`\r\nThe nodes were created using:\r\n\r\n` zk.create(\r\n        root + \"/myLocks/lock-9999-\",\r\n        null,\r\n        ZooDefs.Ids.OPEN_ACL_UNSAFE,\r\n        CreateMode.EPHEMERAL_SEQUENTIAL);\r\n\r\n    zk.create(\r\n        root + \"/myLocks/lock-1234-\",\r\n        null,\r\n        ZooDefs.Ids.OPEN_ACL_UNSAFE,\r\n        CreateMode.EPHEMERAL_SEQUENTIAL);\r\n\r\n    zk.create(\r\n        root + \"/myLocks/lock-9876-\",\r\n        null,\r\n        ZooDefs.Ids.OPEN_ACL_UNSAFE,\r\n        CreateMode.EPHEMERAL_SEQUENTIAL);\r\n`\r\nAfter the test exits, but with the zookeeper instance still running - the sequential ids continue to increase, but the order remains as expected. On the second run, the created nodes are:\r\n\r\n`[zk: localhost:2181(CONNECTED) 7] ls /lock_test/myLocks\r\n[lock-1234-0000000004, lock-9876-0000000005, lock-9999-0000000003]\r\n`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/753216625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/753264808","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-753264808","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":753264808,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MzI2NDgwOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-01T05:48:37Z","updated_at":"2021-01-01T05:48:37Z","author_association":"MEMBER","body":"@EdColeman That all makes sense. I didn't realize the sequence was based on the parent node. Thanks for the explanation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/753264808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754006618","html_url":"https://github.com/apache/accumulo/pull/1847#issuecomment-754006618","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1847","id":754006618,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDAwNjYxOA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T14:28:53Z","updated_at":"2021-01-04T14:28:53Z","author_association":"MEMBER","body":"I commented this on the issue page as well ([linked here](https://github.com/apache/accumulo/issues/1841#issuecomment-751815511)), but it seems that the number of splits in this test significantly impacts the duration of the tests. If we wanted these tests to be shorter, this might be a good change as long as it does not have any adverse implications if changed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754006618/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754054768","html_url":"https://github.com/apache/accumulo/issues/1665#issuecomment-754054768","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1665","id":754054768,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDA1NDc2OA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T15:52:09Z","updated_at":"2021-01-04T15:52:09Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I am interested in completing this issue, are you still thinking of working on it?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754054768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754065589","html_url":"https://github.com/apache/accumulo/pull/1847#issuecomment-754065589","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1847","id":754065589,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDA2NTU4OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T16:11:18Z","updated_at":"2021-01-04T16:11:18Z","author_association":"MEMBER","body":"> ... as long as it does not have any adverse implications if changed.\r\n\r\nRight. That is what needs to be investigated.\r\n\r\nFor now, I can merge this timeout change.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754065589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754067663","html_url":"https://github.com/apache/accumulo/pull/1847#issuecomment-754067663","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1847","id":754067663,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDA2NzY2Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T16:14:22Z","updated_at":"2021-01-04T16:14:22Z","author_association":"MEMBER","body":"Accidentally edited out the reference to this issue when updating the commit message during the merge. dd637c350b388e31aadad85f3616f6f0a1d07272 should reference this issue, #1847 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754067663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754068736","html_url":"https://github.com/apache/accumulo/issues/1841#issuecomment-754068736","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1841","id":754068736,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDA2ODczNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T16:16:12Z","updated_at":"2021-01-04T16:16:12Z","author_association":"MEMBER","body":"dd637c350b388e31aadad85f3616f6f0a1d07272 / #1847 added a timeout, but does not ultimately address this test taking an excessive amount of time occasionally. If the test continues to fail, this will need additional work.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754068736/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754074194","html_url":"https://github.com/apache/accumulo/issues/1665#issuecomment-754074194","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1665","id":754074194,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDA3NDE5NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T16:26:15Z","updated_at":"2021-01-04T16:26:15Z","author_association":"MEMBER","body":"> @ctubbsii I am interested in completing this issue, are you still thinking of working on it?\r\n\r\n@keith-turner I'll leave it to you, then. I'm busy with other tasks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754074194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754181051","html_url":"https://github.com/apache/accumulo/pull/1821#issuecomment-754181051","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1821","id":754181051,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDE4MTA1MQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T19:51:29Z","updated_at":"2021-01-04T19:51:29Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I think this PR good to go.  Did you have any other feedback before I merge?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754181051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754192077","html_url":"https://github.com/apache/accumulo/pull/1821#issuecomment-754192077","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1821","id":754192077,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDE5MjA3Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T20:12:58Z","updated_at":"2021-01-04T20:12:58Z","author_association":"MEMBER","body":"> @ctubbsii I think this PR good to go. Did you have any other feedback before I merge?\r\n\r\nNo. Go ahead.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754192077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754193165","html_url":"https://github.com/apache/accumulo/pull/1821#issuecomment-754193165","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1821","id":754193165,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDE5MzE2NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-04T20:15:02Z","updated_at":"2021-01-04T20:15:02Z","author_association":"CONTRIBUTOR","body":"FYI here is an example of output from the command using some test data:\r\n<pre>\r\nroot@uno> listtablets -t test_ingest -h\r\n2021-01-04T15:12:47,663 [Shell.audit] INFO : root@uno> listtablets -t test_ingest -h\r\nNUM  TABLET_DIR      FILES WALS  ENTRIES   SIZE      STATUS     LOCATION                       ID    START (Exclusive)    END                 \r\nTABLE: test_ingest\r\n1    t-0000007       1     0            60       552 HOSTED     CURRENT:ip-10-113-12-25:9997   2     -INF                 row_0000000005      \r\n2    t-0000006       1     0           500     2.71K HOSTED     CURRENT:ip-10-113-12-25:9997   2     row_0000000005       row_0000000055      \r\n3    t-0000008       1     0         5.00K    24.74K HOSTED     CURRENT:ip-10-113-12-25:9997   2     row_0000000055       row_0000000555      \r\n4    default_tablet  1     0         4.44K    22.01K HOSTED     CURRENT:ip-10-113-12-25:9997   2     row_0000000555       +INF                     \r\nroot@uno> listtablets -t accumulo.metadata\r\n2021-01-04T15:13:21,750 [Shell.audit] INFO : root@uno> listtablets -t accumulo.metadata\r\nNUM  TABLET_DIR      FILES WALS  ENTRIES   SIZE      STATUS     LOCATION                       ID    START (Exclusive)    END                 \r\nTABLE: accumulo.metadata\r\n1    table_info      2     0     7         524       HOSTED     CURRENT:ip-10-113-12-25:9997   !0    -INF                 ~                   \r\n2    default_tablet  0     0     0         0         HOSTED     CURRENT:ip-10-113-12-25:9997   !0    ~                    +INF                \r\n</pre>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754193165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754631614","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-754631614","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":754631614,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDYzMTYxNA==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T13:20:32Z","updated_at":"2021-01-05T13:20:32Z","author_association":"CONTRIBUTOR","body":"@Viv1986 Do you need any further help on this? ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754631614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754753059","html_url":"https://github.com/apache/accumulo/issues/1853#issuecomment-754753059","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1853","id":754753059,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDc1MzA1OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T16:42:57Z","updated_at":"2021-01-05T16:42:57Z","author_association":"CONTRIBUTOR","body":"The check that is failing is here:\r\n`\r\nPreconditions.checkArgument(currSize >= sortedFiles.get(c - 1).getEstimatedEntries());\r\n`\r\nDue to the previous file size exceeding the current file size.  It seems this is indicating that the files are not sorted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754753059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754757314","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-754757314","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":754757314,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDc1NzMxNA==","user":{"login":"Viv1986","id":25159403,"node_id":"MDQ6VXNlcjI1MTU5NDAz","avatar_url":"https://avatars.githubusercontent.com/u/25159403?v=4","gravatar_id":"","url":"https://api.github.com/users/Viv1986","html_url":"https://github.com/Viv1986","followers_url":"https://api.github.com/users/Viv1986/followers","following_url":"https://api.github.com/users/Viv1986/following{/other_user}","gists_url":"https://api.github.com/users/Viv1986/gists{/gist_id}","starred_url":"https://api.github.com/users/Viv1986/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Viv1986/subscriptions","organizations_url":"https://api.github.com/users/Viv1986/orgs","repos_url":"https://api.github.com/users/Viv1986/repos","events_url":"https://api.github.com/users/Viv1986/events{/privacy}","received_events_url":"https://api.github.com/users/Viv1986/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T16:50:23Z","updated_at":"2021-01-05T16:50:23Z","author_association":"NONE","body":"@karthick-rn maybe you know how update hadoop from 3.1 to 3.2?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754757314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754758763","html_url":"https://github.com/apache/accumulo/issues/1853#issuecomment-754758763","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1853","id":754758763,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDc1ODc2Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T16:52:32Z","updated_at":"2021-01-05T17:07:00Z","author_association":"CONTRIBUTOR","body":"I also saw CHOP compaction fail.\r\n<pre>\r\n2021-01-05T11:47:53,199 [compactions.CompactionService] DEBUG: Planner failed org.apache.accumulo.core.spi.compaction.DefaultCompactionPlanner h;b629;b600 CHOP Optional[Files [allFiles=[[F0000b04.rf, 5555 35631]\r\n, [F00000c9.rf, 6455 40000], [F0000b0y.rf, 5057 32392], [F0000azc.rf, 3408 21595], [F0000b1s.rf, 5050 32392], [F0000b7w.rf, 5227 832], [F0000b1h.rf, 5645 36171], [F00000bd.rf, 1741 10797], [F0000b0k.rf, 5394 345\r\n51], [F0000b19.rf, 5314 34012], [F0000b66.rf, 6718 43190], [F0000az1.rf, 1741 10797], [F0000azn.rf, 5878 37791], [F0000b6n.rf, 1199 138], [F0000b0c.rf, 5555 35632], [F0000azv.rf, 6213 39951], [F0000b6c.rf, 3497 \r\n11113]], candidates=[[F0000b04.rf, 5555 35631], [F0000b0y.rf, 5057 32392], [F0000azc.rf, 3408 21595], [F0000b1s.rf, 5050 32392], [F0000b1h.rf, 5645 36171], [F00000bd.rf, 1741 10797], [F0000b0k.rf, 5394 34551], [\r\nF0000b19.rf, 5314 34012], [F0000b66.rf, 6718 43190], [F0000az1.rf, 1741 10797], [F0000azn.rf, 5878 37791], [F0000b0c.rf, 5555 35632], [F0000azv.rf, 6213 39951], [F0000b6c.rf, 3497 11113]], compacting=[], hints={\r\n}]]\r\njava.lang.IllegalArgumentException: null\r\n        at com.google.common.base.Preconditions.checkArgument(Preconditions.java:128) ~[guava-28.2-jre.jar:?]\r\n        at org.apache.accumulo.core.spi.compaction.DefaultCompactionPlanner.findMapFilesToCompact(DefaultCompactionPlanner.java:375) ~[accumulo-core-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.spi.compaction.DefaultCompactionPlanner.findMapFilesToCompact(DefaultCompactionPlanner.java:321) ~[accumulo-core-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.spi.compaction.DefaultCompactionPlanner.makePlan(DefaultCompactionPlanner.java:164) ~[accumulo-core-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.compactions.CompactionService.planCompaction(CompactionService.java:285) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.compactions.CompactionService.lambda$compact$3(CompactionService.java:207) ~[accumulo-tserver-2.1.0-SNAPSHOT.jar:2.1.0-SNAPSHOT]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at java.lang.Thread.run(Thread.java:834) [?:?]\r\n</pre>\r\n\r\nSo all compactions are failing on this table. All r-files in HDFS only have the flush prefix.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754758763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754800211","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-754800211","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":754800211,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDgwMDIxMQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T18:00:59Z","updated_at":"2021-01-05T18:00:59Z","author_association":"MEMBER","body":"Converting to draft for now, because it seems like the test failure issue is a bit difficult to track down.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754800211/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754822950","html_url":"https://github.com/apache/accumulo/pull/1824#issuecomment-754822950","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1824","id":754822950,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDgyMjk1MA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T18:39:43Z","updated_at":"2021-01-05T18:43:15Z","author_association":"CONTRIBUTOR","body":"I believe this pull request is ready for review. There are a couple of areas where I unsure of the proper route to go on. One is the use of `DumbTerminal` in [ShellIT](https://github.com/apache/accumulo/blob/61a1755547fc0f9fd6290eb4abe704b775657618/test/src/main/java/org/apache/accumulo/test/ShellIT.java#L166) and [ShellServerIT](https://github.com/Manno15/accumulo/blob/61a1755547fc0f9fd6290eb4abe704b775657618/test/src/main/java/org/apache/accumulo/test/ShellServerIT.java#L198). The other concern is [here](https://github.com/apache/accumulo/blob/61a1755547fc0f9fd6290eb4abe704b775657618/shell/src/main/java/org/apache/accumulo/shell/Shell.java#L563)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754822950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754850925","html_url":"https://github.com/apache/accumulo/issues/1853#issuecomment-754850925","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1853","id":754850925,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg1MDkyNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T19:32:18Z","updated_at":"2021-01-05T19:33:30Z","author_association":"CONTRIBUTOR","body":"Looking at the code I think something is wrong with the values being compared.  We are comparing the estimatedSize of one entry with the estimatedEntries of the other.  \r\nhttps://github.com/apache/accumulo/blob/97de2d819ee5ff4fb09513c662eed6e1368f1318/core/src/main/java/org/apache/accumulo/core/spi/compaction/DefaultCompactionPlanner.java#L370-L373\r\nIt looks like the value of `getEstimatedSize()` should be compared.  The comparator that is used in this class uses `getEstimatedSize`.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754850925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754860235","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-754860235","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":754860235,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg2MDIzNQ==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T19:50:20Z","updated_at":"2021-01-05T19:50:20Z","author_association":"CONTRIBUTOR","body":"> @karthick-rn maybe you know how update hadoop from 3.1 to 3.2?\r\n\r\nYou can refer this upgrade [doc](https://hadoop.apache.org/docs/r3.2.1/hadoop-project-dist/hadoop-hdfs/HdfsRollingUpgrade.html) from Apache. If this is a dev/test environment and the data is reproducible, I would straightaway go with a fresh install of Hadoop 3.2.0 or above and not bother with the upgrade. Like @arvindshmicrosoft pointed above, you can leverage [Muchos](https://github.com/apache/fluo-muchos) for this purpose and configuring ADLS Gen2 will be taken care as part of the setup. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754860235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754869410","html_url":"https://github.com/apache/accumulo/pull/1854#issuecomment-754869410","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1854","id":754869410,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg2OTQxMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T20:07:06Z","updated_at":"2021-01-05T20:07:06Z","author_association":"CONTRIBUTOR","body":"Was able to deploy this change to the cluster with the issue and it successfully recovered, compacting all the files down to to \"C\" r-files.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754869410/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754893485","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-754893485","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":754893485,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDg5MzQ4NQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T20:55:08Z","updated_at":"2021-01-05T20:56:14Z","author_association":"MEMBER","body":"> I had started implementing this approach before 1.10 was released, but we determined that it would be more that a \"bug-fix\" and would not included in that release. So, I put it aside to work other issues.\r\n\r\n@EdColeman, how far did you get with the implementation? If you are not currently working on this, I could give it a shot. Do you have any existing code or suggestions regarding where/how the various parts of this fix could be implemented?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754893485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754901861","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-754901861","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":754901861,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkwMTg2MQ==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T21:11:48Z","updated_at":"2021-01-05T21:11:48Z","author_association":"MEMBER","body":"My current thinking is to append the UUID to the path passed to `create()` within `ZooReaderWriter.putEphemeralSequential` which should achieve the format discussed earlier: `lock-[uuid]-########`. I'm not too sure where the best place to implement the portion which recovers the created node via `getChildren()` when this error occurs or how exactly to detect when this error occurs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754901861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754934102","html_url":"https://github.com/apache/accumulo/pull/1851#issuecomment-754934102","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1851","id":754934102,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NDkzNDEwMg==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-05T22:13:05Z","updated_at":"2021-01-05T22:13:05Z","author_association":"CONTRIBUTOR","body":"> I'm having a hard time following what the test is actually doing. Can you add more explanation inline about how it's supposed to work?\r\n\r\n@ctubbsii I added docs that give a high level overview and cover intent. Did this in 97967bf","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/754934102/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755036001","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-755036001","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":755036001,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTAzNjAwMQ==","user":{"login":"tynyttie","id":8038703,"node_id":"MDQ6VXNlcjgwMzg3MDM=","avatar_url":"https://avatars.githubusercontent.com/u/8038703?v=4","gravatar_id":"","url":"https://api.github.com/users/tynyttie","html_url":"https://github.com/tynyttie","followers_url":"https://api.github.com/users/tynyttie/followers","following_url":"https://api.github.com/users/tynyttie/following{/other_user}","gists_url":"https://api.github.com/users/tynyttie/gists{/gist_id}","starred_url":"https://api.github.com/users/tynyttie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tynyttie/subscriptions","organizations_url":"https://api.github.com/users/tynyttie/orgs","repos_url":"https://api.github.com/users/tynyttie/repos","events_url":"https://api.github.com/users/tynyttie/events{/privacy}","received_events_url":"https://api.github.com/users/tynyttie/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T02:29:41Z","updated_at":"2021-01-06T02:29:41Z","author_association":"CONTRIBUTOR","body":"Process I used for debugging this issue. Note doing this process I tailed the logs for new info. \r\n1. In RecoveryPath.java, I hard coded a string and notice that RestartIt passed with no issues. \r\nExample: walPath = Path(walPath, FileType.RECOVERY.getDirectory() + '-' + 'addedFileName');\r\n\r\n2. In RecoveryPath.java., I used StringBuffer, StringWriter, and normal String creation to build a new string. \r\nExample: testSting = FileType.RECOVERY.getDirectory() + '-' 'namer.getNextName();\r\n                Path newPath = new Path(walPath, testString); ------ RestartIT failed with this approach. \r\n3. In RecoveryPath.java, instead of using UniqueNameAllocator to generate the name, I create a new name generate in order to make sure the name was present when needed. ---  RestartIT failed with this approach.\r\n4. I used Jstack to help track down the cause of threads stuck in wait state. With this approach, I couldn't pinpoint the true origin.\r\n5. I connected to the server and added break statement to walk through the code. This approach was unsuccessful. None of my break statements was picked up by the Tserver. \r\n6. In LogSorter, I added a sleep where the issue is to make sure the process doesn't end. This approach was unsuccessful. \r\n    The issues are on: (LogSorter.java:197) and (LogSorter.java:167)\r\n \r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755036001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755139190","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-755139190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":755139190,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTEzOTE5MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T07:39:55Z","updated_at":"2021-01-06T07:39:55Z","author_association":"MEMBER","body":"Thanks, @tynyttie ; I spent some time looking into this, and realized that the \"Stream is closed\" error messages are a bit of a red herring. I've created a PR to fix those in #1856 .\r\n\r\nAlthough I still haven't figured out why the changes in this PR are causing RestartIT to hang, I suspect it has something to do with the fact that it's doing recovery using a RawLocalFileSystem, which might behave differently than the default implementation of the local FileSystem.\r\n\r\nIn addition, I found a deficiency in this PR's code. It does not update the SimpleGarbageCollector code that looks for recovery files to clean up. The following patch is my attempt to fix that, but because of the hanging issue of RestartIT, I'm not sure if it will be sufficient.\r\n\r\n<details>\r\n<summary>Click to expand/collapse patch for SimpleGarbageCollector</summary>\r\n\r\n```patch\r\ndiff --git a/server/base/src/main/java/org/apache/accumulo/server/ServerConstants.java b/server/base/src/main/java/org/apache/accumulo/server/ServerConstants.java\r\nindex ae6c0da8c7..1e357e5af5 100644\r\n--- a/server/base/src/main/java/org/apache/accumulo/server/ServerConstants.java\r\n+++ b/server/base/src/main/java/org/apache/accumulo/server/ServerConstants.java\r\n@@ -166,8 +166,8 @@ public class ServerConstants {\r\n     return prefix(getBaseUris(context), TABLE_DIR);\r\n   }\r\n \r\n-  public static Set<String> getRecoveryDirs(ServerContext context) {\r\n-    return prefix(getBaseUris(context), RECOVERY_DIR);\r\n+  public static Set<String> getRecoveryDirPatterns(ServerContext context) {\r\n+    return prefix(getBaseUris(context), RECOVERY_DIR + \"-*\");\r\n   }\r\n \r\n   public static Path getInstanceIdLocation(Volume v) {\r\ndiff --git a/server/gc/src/main/java/org/apache/accumulo/gc/GarbageCollectWriteAheadLogs.java b/server/gc/src/main/java/org/apache/accumulo/gc/GarbageCollectWriteAheadLogs.java\r\nindex 40cd9d180d..da432854b0 100644\r\n--- a/server/gc/src/main/java/org/apache/accumulo/gc/GarbageCollectWriteAheadLogs.java\r\n+++ b/server/gc/src/main/java/org/apache/accumulo/gc/GarbageCollectWriteAheadLogs.java\r\n@@ -393,10 +393,9 @@ public class GarbageCollectWriteAheadLogs {\r\n   protected Map<UUID,Path> getSortedWALogs() throws IOException {\r\n     Map<UUID,Path> result = new HashMap<>();\r\n \r\n-    for (String dir : ServerConstants.getRecoveryDirs(context)) {\r\n-      Path recoveryDir = new Path(dir);\r\n-      if (fs.exists(recoveryDir)) {\r\n-        for (FileStatus status : fs.listStatus(recoveryDir)) {\r\n+    for (String dir : ServerConstants.getRecoveryDirPatterns(context)) {\r\n+      for (FileStatus recoveryDir : fs.globStatus(new Path(dir))) {\r\n+        for (FileStatus status : fs.listStatus(recoveryDir.getPath())) {\r\n           try {\r\n             UUID logId = path2uuid(status.getPath());\r\n             result.put(logId, status.getPath());\r\n```\r\n\r\n</details>","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755139190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755140353","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-755140353","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":755140353,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTE0MDM1Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T07:43:06Z","updated_at":"2021-01-06T07:43:06Z","author_association":"MEMBER","body":"FWIW, on the main branch, the following command to run the single RestartIT by itself completes in about 10 minutes on my laptop. It seems to hang indefinitely with the unique name stuff added, possibly continuously looking for recovery tasks to work on, but I'm not sure yet.\r\n\r\n```bash\r\nmvn clean verify -PskipQA -DskipTests=false -DskipITs=false -Dit.test=RestartIT -Dtest=nosuchtest\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755140353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755141790","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-755141790","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":755141790,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTE0MTc5MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T07:46:35Z","updated_at":"2021-01-06T07:46:35Z","author_association":"MEMBER","body":"Another reason it might pass with a fixed string, but not a unique string generator, is that the unique string might need to be consistent (at least, within a process), if different parts of the recovery code are getting the path at different times.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755141790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755349363","html_url":"https://github.com/apache/accumulo/issues/1848#issuecomment-755349363","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1848","id":755349363,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM0OTM2Mw==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T15:01:05Z","updated_at":"2021-01-06T15:01:05Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I agree, changing the header name makes sense than changing the behaviour. I'd change the name to \"Total Known Tablet Servers\" as you suggested. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755349363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755374097","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-755374097","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":755374097,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM3NDA5Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T15:40:21Z","updated_at":"2021-01-06T15:41:01Z","author_association":"CONTRIBUTOR","body":"Based on what I am seeing, the scan function in `ThriftScanner` will always error with \"Failed to locate tablet for table : 1 row : row_0000000000\". Then it pauses and will ultimately retry. [Here is the scan function that I am seeing the breakpoints hit](https://github.com/apache/accumulo/blob/44325585c2bd8aed0a3ac87a84f44e7b6755d435/core/src/main/java/org/apache/accumulo/core/clientImpl/ThriftScanner.java#L239)\r\n\r\nI will hardcode the path like @tynyttie did and see if I notice different behavior in that function. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755374097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755388636","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-755388636","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":755388636,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM4ODYzNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T16:03:11Z","updated_at":"2021-01-06T16:03:11Z","author_association":"MEMBER","body":"> Based on what I am seeing, the scan function in `ThriftScanner` will always error with \"Failed to locate tablet for table : 1 row : \r\n\r\nThe failure in the scanner (client side) and retry is expected if the tablet isn't loaded yet because it has not yet completed recovery. What needs to be determined is what is holding up the recovery on the server-side. Once the tablet is recovered and loaded on the server side, the scanner will be able to find it without issue, and read from it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755388636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755391595","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-755391595","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":755391595,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTM5MTU5NQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T16:07:48Z","updated_at":"2021-01-06T16:07:48Z","author_association":"CONTRIBUTOR","body":"That does make a lot of sense.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755391595/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755590754","html_url":"https://github.com/apache/accumulo/pull/1824#issuecomment-755590754","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1824","id":755590754,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTU5MDc1NA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T19:49:44Z","updated_at":"2021-01-06T19:49:44Z","author_association":"MEMBER","body":"Looks good from what I can tell. Manually ran a lot of the commands and everything appears as expected.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755590754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755739147","html_url":"https://github.com/apache/accumulo/issues/1850#issuecomment-755739147","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1850","id":755739147,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTczOTE0Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T21:59:40Z","updated_at":"2021-01-06T21:59:40Z","author_association":"MEMBER","body":"Closing this, since the user is being assisted with using Muchos to set up ADLS Gen2 on apache/fluo-muchos#383","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755739147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755751001","html_url":"https://github.com/apache/accumulo/issues/1848#issuecomment-755751001","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1848","id":755751001,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc1MTAwMQ==","user":{"login":"karthick-rn","id":7976585,"node_id":"MDQ6VXNlcjc5NzY1ODU=","avatar_url":"https://avatars.githubusercontent.com/u/7976585?v=4","gravatar_id":"","url":"https://api.github.com/users/karthick-rn","html_url":"https://github.com/karthick-rn","followers_url":"https://api.github.com/users/karthick-rn/followers","following_url":"https://api.github.com/users/karthick-rn/following{/other_user}","gists_url":"https://api.github.com/users/karthick-rn/gists{/gist_id}","starred_url":"https://api.github.com/users/karthick-rn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karthick-rn/subscriptions","organizations_url":"https://api.github.com/users/karthick-rn/orgs","repos_url":"https://api.github.com/users/karthick-rn/repos","events_url":"https://api.github.com/users/karthick-rn/events{/privacy}","received_events_url":"https://api.github.com/users/karthick-rn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T22:17:11Z","updated_at":"2021-01-06T22:17:11Z","author_association":"CONTRIBUTOR","body":"PR: https://github.com/apache/accumulo/pull/1859","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755751001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755751830","html_url":"https://github.com/apache/accumulo/pull/1857#issuecomment-755751830","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1857","id":755751830,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NTc1MTgzMA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-06T22:18:49Z","updated_at":"2021-01-06T22:18:49Z","author_association":"MEMBER","body":"It's not great that we create a new thread in the constructor of the abstract super class that depends on methods called on the fully constructed child object, but this is a reasonable workaround. Thanks @BukrosSzabolcs !","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/755751830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756216008","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-756216008","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":756216008,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjIxNjAwOA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T16:15:17Z","updated_at":"2021-01-07T16:56:44Z","author_association":"CONTRIBUTOR","body":"I think I have found the issue and I am currently working on trying to come up with a solution. It appears everything does recover as expected (each recovery file contains the finished marker) but it doesn't properly remove it from the queue in [RecoveryManager.java](https://github.com/apache/accumulo/blob/e510639958f442cd579b5e7e7fd2971b025dfae0/server/manager/src/main/java/org/apache/accumulo/master/recovery/RecoveryManager.java#L172). This is because the destination path gets overridden with a new unique name so by the time it checks for that marker, it doesn't find it. At least I think that is how everything is supposed to work.\r\n\r\nWhat I see now in hdfs are multiple recovery directories with the same walog UUID and all with the finished markers. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756216008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756239449","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-756239449","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":756239449,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjIzOTQ0OQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T16:54:19Z","updated_at":"2021-01-07T16:54:19Z","author_association":"CONTRIBUTOR","body":"I can foresee another issue possibly happening in the recover function of [TabletServer.java](https://github.com/apache/accumulo/blob/e510639958f442cd579b5e7e7fd2971b025dfae0/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletServer.java#L1166). It also calls the same getRecoveryPath function and it will return a new directory each time. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756239449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756262056","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-756262056","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":756262056,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjI2MjA1Ng==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T17:28:56Z","updated_at":"2021-01-07T17:28:56Z","author_association":"CONTRIBUTOR","body":"Part of this reminds me of https://github.com/apache/accumulo/issues/961 - I don't think it is exactly the same, but maybe that description / solution provides pointers for things to look for? Or not....","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756262056/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756282081","html_url":"https://github.com/apache/accumulo/pull/1860#issuecomment-756282081","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1860","id":756282081,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjI4MjA4MQ==","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T18:03:24Z","updated_at":"2021-01-07T18:03:24Z","author_association":"MEMBER","body":"> Curious if you were able to test the changes and see scan rates higher than max int on the monitor.\r\n\r\nI don't have the large cluster available right now, but I was able to simulate by modifying the monitor code and adding `Integer.MAX_VALUE` to every result coming back. That worked well:\r\n\r\n![image](https://user-images.githubusercontent.com/5400335/103927599-99543700-50e8-11eb-8e8f-a4fae2b04088.png)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756282081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756325241","html_url":"https://github.com/apache/accumulo/pull/1861#issuecomment-756325241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1861","id":756325241,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjMyNTI0MQ==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T19:20:25Z","updated_at":"2021-01-07T19:20:25Z","author_association":"CONTRIBUTOR","body":"I tested this change manually using Uno.  In one test I set only the the old deprecated property and inspected the logs to see that the expected warning was logged and the an executor w/ the expected number of threads was created.  In another test I set the old deprecated prop and also modified the new prop.  For that test I could see in the logs that it logged a warning, but did not use the old prop.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756325241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756389360","html_url":"https://github.com/apache/accumulo/pull/1860#issuecomment-756389360","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1860","id":756389360,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjM4OTM2MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T21:16:27Z","updated_at":"2021-01-07T21:16:27Z","author_association":"MEMBER","body":"@brianloss When you merge, it's okay to do a squash merge. That's what we've typically been doing. It helps keep the history a bit cleaner than it might otherwise be. Also, I see you didn't merge this forward into the main branch after merging it into 1.10. Was that an oversight, or are you still working on merging it to main? Does this issue apply to the main branch?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756389360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756390264","html_url":"https://github.com/apache/accumulo/issues/1858#issuecomment-756390264","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1858","id":756390264,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjM5MDI2NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T21:18:14Z","updated_at":"2021-01-07T21:18:14Z","author_association":"MEMBER","body":"This issue was fixed in 1.10 by #1860 . However, it is not yet merged to the main branch for 2.1.0. I don't know if 2.1 is similarly affected, but I assume so. So, this issue should stay open until it is fixed there (or determined to be unnecessary there).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756390264/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756390869","html_url":"https://github.com/apache/accumulo/pull/1860#issuecomment-756390869","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1860","id":756390869,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjM5MDg2OQ==","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T21:19:15Z","updated_at":"2021-01-07T21:19:15Z","author_association":"MEMBER","body":"@ctubbsii, thanks. There was only the 1 commit, so I didn't think a squash merge was necessary. Did I miss anything?\r\nI have a local merge to the main branch. It was a bit more work, since the monitor is split up. However, when testing it, I find that I'm getting a flat line graph at integer max value. I'm digging through that now. I think it may be some issue with the plotting library used.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756390869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756402340","html_url":"https://github.com/apache/accumulo/pull/1860#issuecomment-756402340","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1860","id":756402340,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQwMjM0MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T21:40:49Z","updated_at":"2021-01-07T21:41:39Z","author_association":"MEMBER","body":"> @ctubbsii, thanks. There was only the 1 commit, so I didn't think a squash merge was necessary. Did I miss anything?\r\n\r\nWhen you merge from the UI with the default merge button, even with only one commit, GitHub creates a merge commit. That's why we tend to select the squash option from the dropdown, even if there's only 1. :smiley_cat: \r\n\r\n> I have a local merge to the main branch. It was a bit more work, since the monitor is split up. However, when testing it, I find that I'm getting a flat line graph at integer max value. I'm digging through that now. I think it may be some issue with the plotting library used.\r\n\r\nOkay, that's fine. If you want to merge and deconflict by not making any changes, that will ensure that the branches are ready for others to merge (as needed) while you work through the issues. Then, you can create a new PR (or new commit) that would apply directly to the main branch later.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756402340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756404457","html_url":"https://github.com/apache/accumulo/pull/1860#issuecomment-756404457","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1860","id":756404457,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQwNDQ1Nw==","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T21:44:55Z","updated_at":"2021-01-07T21:44:55Z","author_association":"MEMBER","body":"> > @ctubbsii, thanks. There was only the 1 commit, so I didn't think a squash merge was necessary. Did I miss anything?\r\n> \r\n> When you merge from the UI with the default merge button, even with only one commit, GitHub creates a merge commit. That's why we tend to select the squash option from the dropdown, even if there's only 1. 😺\r\n> \r\n\r\nGotcha, my bad. I'll squash everything from now on.\r\n\r\n> > I have a local merge to the main branch. It was a bit more work, since the monitor is split up. However, when testing it, I find that I'm getting a flat line graph at integer max value. I'm digging through that now. I think it may be some issue with the plotting library used.\r\n> \r\n> Okay, that's fine. If you want to merge and deconflict by not making any changes, that will ensure that the branches are ready for others to merge (as needed) while you work through the issues. Then, you can create a new PR (or new commit) that would apply directly to the main branch later.\r\n\r\nI thought maybe I could resolve the discrepancy quickly, but it's getting late enough for me today that I agree it's better to merge up as a no-op and do the changes from scratch on the main branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756404457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756405644","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-756405644","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":756405644,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjQwNTY0NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-07T21:47:06Z","updated_at":"2021-01-07T21:47:06Z","author_association":"MEMBER","body":"Another option for having each tserver use a unique directory, is to make it unique and non-random, so it is reproducible. So, if the tserver had a unique id for its lifecycle, it could just append that and it would be consistent on multiple calls to the method.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756405644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756701622","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-756701622","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":756701622,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjcwMTYyMg==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T11:17:13Z","updated_at":"2021-01-08T11:52:36Z","author_association":"CONTRIBUTOR","body":"I like that solution @ctubbsii. It should be pretty simple to use the name of the tserver as the unique id. It also seems that your solution is more inlined with what the original issue is discussing. \r\n\r\nI was also thinking of making `RecoveryPath.java` store all the recovery directories it creates so the other classes trying to get the recovery path wouldn't have too. Though if we go with your solution then that wouldn;t be necessary. I will leave that up to @tynyttie. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756701622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756840541","html_url":"https://github.com/apache/accumulo/issues/1844#issuecomment-756840541","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1844","id":756840541,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njg0MDU0MQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T16:08:34Z","updated_at":"2021-01-08T16:08:34Z","author_association":"CONTRIBUTOR","body":"I attempted to replicate this error in 2.1 with no success.  I will try to replicate it in 1.10.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756840541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756902064","html_url":"https://github.com/apache/accumulo/issues/637#issuecomment-756902064","issue_url":"https://api.github.com/repos/apache/accumulo/issues/637","id":756902064,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NjkwMjA2NA==","user":{"login":"DomGarguilo","id":47725857,"node_id":"MDQ6VXNlcjQ3NzI1ODU3","avatar_url":"https://avatars.githubusercontent.com/u/47725857?v=4","gravatar_id":"","url":"https://api.github.com/users/DomGarguilo","html_url":"https://github.com/DomGarguilo","followers_url":"https://api.github.com/users/DomGarguilo/followers","following_url":"https://api.github.com/users/DomGarguilo/following{/other_user}","gists_url":"https://api.github.com/users/DomGarguilo/gists{/gist_id}","starred_url":"https://api.github.com/users/DomGarguilo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DomGarguilo/subscriptions","organizations_url":"https://api.github.com/users/DomGarguilo/orgs","repos_url":"https://api.github.com/users/DomGarguilo/repos","events_url":"https://api.github.com/users/DomGarguilo/events{/privacy}","received_events_url":"https://api.github.com/users/DomGarguilo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T17:44:02Z","updated_at":"2021-01-08T17:44:02Z","author_association":"MEMBER","body":"It seems there could be two ways this issue could be handled. In the [zookeeper recipes](https://zookeeper.apache.org/doc/r3.5.8/recipes.html#sc_recipes_GuidNote) which was linked earlier, it does not explicitly say what should happen to a node once its path is recovered. It seems like the path to the recovered node could either be returned, or the node itself could be deleted and node creation restarted. In curator, it seems that when a node in this situation is found, it is scheduled to be deleted and an error is thrown ([heres the code](https://github.com/apache/curator/blob/95f147f8a864375744a566af3d550659f512728b/curator-framework/src/main/java/org/apache/curator/framework/imps/CreateBuilderImpl.java#L589)). I'm not sure which would work best however if the node is deleted with an exception thrown, this might work well within the retry loop that is used to create nodes in accumulo.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756902064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756949198","html_url":"https://github.com/apache/accumulo/issues/1844#issuecomment-756949198","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1844","id":756949198,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njk0OTE5OA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T19:23:32Z","updated_at":"2021-01-08T19:23:32Z","author_association":"CONTRIBUTOR","body":"I discovered that one of the Randomwalk tests in the Concurrent suite will actually shutdown the Master.  This is most likely what was causing Master to do a CLEAN_STOP, as I can't find anywhere that does this automatically in the code. Here is the test:\r\nhttps://github.com/apache/accumulo/blob/f4f43febbc3e68013d8a1bcd46d8b44275e2e55e/test/src/main/java/org/apache/accumulo/test/randomwalk/concurrent/Shutdown.java#L41","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756949198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756997948","html_url":"https://github.com/apache/accumulo/issues/1844#issuecomment-756997948","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1844","id":756997948,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Njk5Nzk0OA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T21:06:20Z","updated_at":"2021-01-08T21:07:19Z","author_association":"CONTRIBUTOR","body":"After some more Randomwalk testing in just a 1.10 Uno cluster, I was able to reproduce this error for other tables but not the metadata. In all the errors, for some reason the extent in the logEntry only had the endRow and not the prevRow (as seen above in Caused by: java.io.IOException: Unable to find recovery files for extent !0;51e7e10b1827d193;490d5011198f9047 logEntry: !0;51e7e10b1827d193; ).  The error gets thrown when there isn't a Finished file so I am thinking that the Tablet tried to load but recovering wasn't done sorting the WAL.  I am still not sure if this is a bug or common for recovery.  If this is common during recovery, I think we could at least improve the error message.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/756997948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757041885","html_url":"https://github.com/apache/accumulo/pull/1862#issuecomment-757041885","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1862","id":757041885,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzA0MTg4NQ==","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-08T23:09:08Z","updated_at":"2021-01-08T23:10:34Z","author_association":"MEMBER","body":"> All files added to `monitor/resources/external/` should be added without modification. From where were these obtained? And were they added without modification?\r\n> \r\n> The following LICENSE files have been modified to reflect our redistribution of flot code. They must be updated to properly reflect the updated version of flot.\r\n> \r\n> * assemble/src/main/resources/LICENSE\r\n> * LICENSE\r\n> * server/monitor/src/main/appended-resources/META-INF/LICENSE\r\n> \r\n> Aside from the license issues, these changes look fine to me.\r\n\r\nI downloaded it from their [releases page](https://github.com/flot/flot/releases) and inserted the source files unmodified. AFAICT, the license file hasn't been updated since 2014 and shows no differences from the currently checked in license file [here](https://github.com/apache/accumulo/blob/main/server/monitor/src/main/resources/org/apache/accumulo/monitor/resources/external/flot/LICENSE.txt). Therefore, I'm not sure what I'd update in the files you reference. I didn't see the flot version referenced in them anywhere. Are you suggesting I need to update those files to include the version now?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757041885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757620040","html_url":"https://github.com/apache/accumulo/pull/1862#issuecomment-757620040","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1862","id":757620040,"node_id":"MDEyOklzc3VlQ29tbWVudDc1NzYyMDA0MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T04:40:38Z","updated_at":"2021-01-11T04:40:38Z","author_association":"MEMBER","body":"> I downloaded it from their [releases page](https://github.com/flot/flot/releases) and inserted the source files unmodified.\r\n\r\nOkay, cool. I recommend including this fact in the git commit message when this gets merged, so it's easy to track down later.\r\n\r\n> AFAICT, the license file hasn't been updated since 2014 and shows no differences from the currently checked in license file [here](https://github.com/apache/accumulo/blob/main/server/monitor/src/main/resources/org/apache/accumulo/monitor/resources/external/flot/LICENSE.txt).\r\n\r\nIt's likely that we didn't update our own LICENSE files the last time we updated flot, because the copyright dates seemed a little different than what's in that file.\r\n\r\n> Therefore, I'm not sure what I'd update in the files you reference. I didn't see the flot version referenced in them anywhere. Are you suggesting I need to update those files to include the version now?\r\n\r\nNo, there's no need to include the version. The current files I listed looked slightly out of sync with the file you pointed to (copyright dates, in particular... I didn't take a very deep look). It may just be a matter of doing a sanity check on our own LICENSE files to make sure they aren't out of sync... and, if needed, add a reference to Flot's bundled LICENSE.txt file, so it's simpler to keep sync'd.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757620040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757951811","html_url":"https://github.com/apache/accumulo/pull/1862#issuecomment-757951811","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1862","id":757951811,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzk1MTgxMQ==","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T13:30:01Z","updated_at":"2021-01-11T13:30:01Z","author_association":"MEMBER","body":"@ctubbsii I updated my commit to include a reference to the downloaded source file location, as well as updating the LICENSE files to reference the flot source repo and flot's MIT license file. I checked the license and confirmed the inline dependency on \"jQuery resize event\" still exists and hasn't changed. The only discrepancy I found was the copyright dates. Those dates had already changed before the the 0.8.3 release that was our previous version, so they've been incorrect in our code for a while. It looks like the update to the 0.8.3 release happened in 0ca5cd3389f366e311d6f89f64cf68c3d0f3ca41 and the prior LICENSE file updates relating to flot happened in 9d9118d4e0eb22079a58d332d5b50e12348e0328. Please let me know if you think this is sufficient or if there are other changes you would like.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757951811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757975401","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-757975401","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":757975401,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzk3NTQwMQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T14:10:22Z","updated_at":"2021-01-11T14:10:22Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - you [mentioned](https://github.com/apache/accumulo/pull/1818#pullrequestreview-545415695) that you needed time to go through this. @Manno15 ran some CI tests and I don't think he found any issues. Do you still need more time?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757975401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757979184","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-757979184","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":757979184,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzk3OTE4NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T14:16:46Z","updated_at":"2021-01-11T14:16:46Z","author_association":"MEMBER","body":"> @ctubbsii - you [mentioned](https://github.com/apache/accumulo/pull/1818#pullrequestreview-545415695) that you needed time to go through this. @Manno15 ran some CI tests and I don't think he found any issues. Do you still need more time?\n\nIf you don't mind giving me until the end of the day, I would appreciate the opportunity to take another look today.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757979184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757981141","html_url":"https://github.com/apache/accumulo/pull/140#issuecomment-757981141","issue_url":"https://api.github.com/repos/apache/accumulo/issues/140","id":757981141,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzk4MTE0MQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T14:19:58Z","updated_at":"2021-01-11T14:19:58Z","author_association":"CONTRIBUTOR","body":"@phrocker Do you know the status of this PR?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757981141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757986642","html_url":"https://github.com/apache/accumulo/pull/1818#issuecomment-757986642","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1818","id":757986642,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzk4NjY0Mg==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T14:28:58Z","updated_at":"2021-01-11T14:28:58Z","author_association":"CONTRIBUTOR","body":"No problem, I wasn't sure if you were done or needed more time. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757986642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757990015","html_url":"https://github.com/apache/accumulo/issues/1844#issuecomment-757990015","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1844","id":757990015,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzk5MDAxNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T14:34:22Z","updated_at":"2021-01-11T14:48:41Z","author_association":"CONTRIBUTOR","body":"I saw this error happen, which I think is a similar situation.  This error does provide a message about the sort not being finished.\r\n<pre>\r\n2021-01-11 07:51:37,858 [tserver.TabletServer] WARN : exception trying to assign tablet !0;2ac755608c39162d;26dbd6f6192bcaee hdfs://localhost:8020/accumulo/tables/!0/t-00001z4\r\njava.lang.RuntimeException: Error recovering tablet !0;2ac755608c39162d;26dbd6f6192bcaee from log files\r\n        at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:499)\r\n        at org.apache.accumulo.tserver.TabletServer$AssignmentHandler.run(TabletServer.java:2413)\r\n        at org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:35)\r\n        at org.apache.accumulo.tserver.ActiveAssignmentRunnable.run(ActiveAssignmentRunnable.java:64)\r\n        at org.apache.htrace.wrappers.TraceRunnable.run(TraceRunnable.java:57)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n        at org.apache.accumulo.fate.util.LoggingRunnable.run(LoggingRunnable.java:35)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: java.io.IOException: java.io.IOException: Sort \"finished\" flag not found in hdfs://localhost:8020/accumulo/recovery/5bce00d4-1920-416a-8bfb-41e4cf16e9f6\r\n        at org.apache.accumulo.tserver.log.TabletServerLogger.recover(TabletServerLogger.java:608)\r\n        at org.apache.accumulo.tserver.TabletServer.recover(TabletServer.java:3315)\r\n        at org.apache.accumulo.tserver.tablet.Tablet.<init>(Tablet.java:437)\r\n        ... 8 more\r\nCaused by: java.io.IOException: Sort \"finished\" flag not found in hdfs://localhost:8020/accumulo/recovery/5bce00d4-1920-416a-8bfb-41e4cf16e9f6\r\n        at org.apache.accumulo.tserver.log.RecoveryLogReader.<init>(RecoveryLogReader.java:138)\r\n        at org.apache.accumulo.tserver.log.RecoveryLogsIterator.<init>(RecoveryLogsIterator.java:56)\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.findMaxTabletId(SortedLogRecovery.java:104)\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.findLogsThatDefineTablet(SortedLogRecovery.java:144)\r\n        at org.apache.accumulo.tserver.log.SortedLogRecovery.recover(SortedLogRecovery.java:303)\r\n        at org.apache.accumulo.tserver.log.TabletServerLogger.recover(TabletServerLogger.java:606)\r\n</pre>\r\nI believe the other error is being thrown in the same situation but only if the finished flag doesn't exist here:\r\nhttps://github.com/apache/accumulo/blob/8d6aae599821cb43e2d320ebee5dbb480e1d41a3/server/tserver/src/main/java/org/apache/accumulo/tserver/TabletServer.java#L3303-L3312\r\nI am not sure how the recovery can pass the first check for the finished file but then later fail, saying its not found.  Since there isn't anything removing the file, once the finished file exists it should until the WAL is removed by the GC.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757990015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757999909","html_url":"https://github.com/apache/accumulo/pull/1438#issuecomment-757999909","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1438","id":757999909,"node_id":"MDEyOklzc3VlQ29tbWVudDc1Nzk5OTkwOQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T14:50:26Z","updated_at":"2021-01-11T14:50:26Z","author_association":"CONTRIBUTOR","body":"@milleruntime What's the status of this PR?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/757999909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758075474","html_url":"https://github.com/apache/accumulo/pull/1438#issuecomment-758075474","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1438","id":758075474,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODA3NTQ3NA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T16:41:07Z","updated_at":"2021-01-11T16:41:07Z","author_association":"CONTRIBUTOR","body":"We were waiting for the maven javadoc plugin fix but then the new version 3.2.0 was still having issues.  It looks like there may be a fix last year in https://github.com/apache/maven-javadoc-plugin/pull/30 but there hasn't been a release for it yet.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758075474/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758103637","html_url":"https://github.com/apache/accumulo/pull/1863#issuecomment-758103637","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1863","id":758103637,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODEwMzYzNw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T17:28:04Z","updated_at":"2021-01-11T17:28:04Z","author_association":"CONTRIBUTOR","body":"I tested this on my test cluster and it works well.  It prevented this duplicate work from occurring:\r\n<pre>\r\ntserver_2_ip-10-113-12-25.debug.log:2021-01-11 07:50:36,821 [log.LogSorter] INFO : Finished log sort 5bce00d4-1920-416a-8bfb-41e4cf16e9f6 93 bytes 1 parts in 310ms\r\ntserver_4_ip-10-113-12-25.debug.log:2021-01-11 07:50:57,490 [log.LogSorter] INFO : Finished log sort 5bce00d4-1920-416a-8bfb-41e4cf16e9f6 93 bytes 1 parts in 479ms\r\ntserver_4_ip-10-113-12-25.debug.log:2021-01-11 07:51:37,700 [log.LogSorter] INFO : Finished log sort 5bce00d4-1920-416a-8bfb-41e4cf16e9f6 93 bytes 1 parts in 66ms\r\n</pre>\r\n\r\nIt should also help with the errors I am seeing in #1844 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758103637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758154143","html_url":"https://github.com/apache/accumulo/pull/1863#issuecomment-758154143","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1863","id":758154143,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODE1NDE0Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T18:56:56Z","updated_at":"2021-01-11T18:56:56Z","author_association":"CONTRIBUTOR","body":"> Need to be careful merging into the main branch, but I don't think this code has changed much, so it shouldn't be too much of a problem.\r\n\r\nSince it is an improvement we definitely want in the main branch, I was going to hold off on merging this until I can look at the conflicts first.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758154143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758197054","html_url":"https://github.com/apache/accumulo/issues/1321#issuecomment-758197054","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1321","id":758197054,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODE5NzA1NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-11T20:15:58Z","updated_at":"2021-01-11T20:16:58Z","author_association":"CONTRIBUTOR","body":"I have been looking into this and have found two problematic cases so far.\r\n\r\n 1. For GC its possible that newer delete candidates and stale tablet files could be read.  In general this would be problematic, the root table may be okay because there is only a single tablet. However its still very dicey.\r\n 1. When the root tablet is loaded, the root tablets metadata is read from ZooCache.  This could possibly result in the root tablet using an older list of files, which is unacceptable.\r\n\r\nAfter finding the 2nd case above I realized a change had to be made and stopped reviewing the existing code.  I am going to explore changing root tablet reads to default to immediately consistent, with the option read the data in an eventually consistent manner.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758197054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758725329","html_url":"https://github.com/apache/accumulo/issues/1808#issuecomment-758725329","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1808","id":758725329,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODcyNTMyOQ==","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T15:18:19Z","updated_at":"2021-01-12T15:18:19Z","author_association":"MEMBER","body":"I see that #1818 fixes this issue for the 2.1 release. Is the desire for 1.10.2 to simply re-throw the original Throwable, or were people thinking of something more than that?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758725329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758772325","html_url":"https://github.com/apache/accumulo/issues/1808#issuecomment-758772325","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1808","id":758772325,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODc3MjMyNQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T16:25:00Z","updated_at":"2021-01-12T16:25:00Z","author_association":"CONTRIBUTOR","body":"I think that is fine. I'm not sure we want to backport my change for this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758772325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758859144","html_url":"https://github.com/apache/accumulo/pull/1861#issuecomment-758859144","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1861","id":758859144,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODg1OTE0NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T18:42:29Z","updated_at":"2021-01-12T18:42:29Z","author_association":"CONTRIBUTOR","body":"I manually retested after making code review changes and everything worked as expected.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758859144/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758877592","html_url":"https://github.com/apache/accumulo/issues/1844#issuecomment-758877592","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1844","id":758877592,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODg3NzU5Mg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T19:17:01Z","updated_at":"2021-01-12T19:17:01Z","author_association":"CONTRIBUTOR","body":"I have yet to see this error again after testing with my change in #1863.  I think I can close this once that change is merged into the main branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758877592/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758896899","html_url":"https://github.com/apache/accumulo/issues/1844#issuecomment-758896899","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1844","id":758896899,"node_id":"MDEyOklzc3VlQ29tbWVudDc1ODg5Njg5OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-12T19:53:12Z","updated_at":"2021-01-12T19:53:12Z","author_association":"CONTRIBUTOR","body":"Fixed in #1863 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/758896899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/759211941","html_url":"https://github.com/apache/accumulo/issues/1808#issuecomment-759211941","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1808","id":759211941,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTIxMTk0MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T05:19:19Z","updated_at":"2021-01-13T05:19:19Z","author_association":"MEMBER","body":"> I think that is fine. I'm not sure we want to backport my change for this.\r\n\r\nWe definitely shouldn't backport something like this. These changes are huge, and could have hugely destabilizing effects on the stable 1.10 line. I like the more modest approach @brianloss took in #1865 for 1.10","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/759211941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/759571999","html_url":"https://github.com/apache/accumulo/pull/1865#issuecomment-759571999","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1865","id":759571999,"node_id":"MDEyOklzc3VlQ29tbWVudDc1OTU3MTk5OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-13T16:40:09Z","updated_at":"2021-01-13T16:40:09Z","author_association":"MEMBER","body":"Added 2.1.0 since this was merged to the main branch in bdcab448b5c4fb44118197615fe2e231816da01c , even though it will be superseded by #1818 when that work is merged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/759571999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]