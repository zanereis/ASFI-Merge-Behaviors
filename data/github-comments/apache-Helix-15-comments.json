[{"url":"https://api.github.com/repos/apache/helix/issues/comments/675021323","html_url":"https://github.com/apache/helix/pull/1287#issuecomment-675021323","issue_url":"https://api.github.com/repos/apache/helix/issues/1287","id":675021323,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTAyMTMyMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T17:47:37Z","updated_at":"2020-08-17T17:47:37Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n\r\n```\r\nIn the merge CI workflow, if there is test failure, the following test steps are not run. This commit enables all tests to be run even there is any test failure in other subproject.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675021323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/675119683","html_url":"https://github.com/apache/helix/issues/1233#issuecomment-675119683","issue_url":"https://api.github.com/repos/apache/helix/issues/1233","id":675119683,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTExOTY4Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T21:15:38Z","updated_at":"2020-08-17T21:15:38Z","author_association":"CONTRIBUTOR","body":"#1227 address this issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675119683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/675119995","html_url":"https://github.com/apache/helix/issues/1288#issuecomment-675119995","issue_url":"https://api.github.com/repos/apache/helix/issues/1288","id":675119995,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTExOTk5NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T21:16:24Z","updated_at":"2020-08-17T21:16:24Z","author_association":"CONTRIBUTOR","body":"#1227 addresses this issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675119995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/675148772","html_url":"https://github.com/apache/helix/issues/1289#issuecomment-675148772","issue_url":"https://api.github.com/repos/apache/helix/issues/1289","id":675148772,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTE0ODc3Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T22:35:56Z","updated_at":"2020-08-17T22:35:56Z","author_association":"CONTRIBUTOR","body":"```\r\n public TaskState pollForWorkflowState(String workflowName, long timeout,\r\n      TaskState... targetStates) throws InterruptedException {\r\n    // Wait for completion.\r\n    long st = System.currentTimeMillis();\r\n    WorkflowContext ctx;\r\n    Set<TaskState> allowedStates = new HashSet<>(Arrays.asList(targetStates));\r\n\r\n    long timeToSleep = timeout > 100L ? 100L : timeout;\r\n    do {\r\n      Thread.sleep(timeToSleep);\r\n      ctx = getWorkflowContext(workflowName);\r\n    } while ((ctx == null || ctx.getWorkflowState() == null\r\n        || !allowedStates.contains(ctx.getWorkflowState()))\r\n        && System.currentTimeMillis() < st + timeout);\r\n\r\n    if (ctx == null || !allowedStates.contains(ctx.getWorkflowState())) {\r\n      throw new HelixException(String.format(\r\n          \"Workflow \\\"%s\\\" context is empty or not in states: \\\"%s\\\", current state: \\\"%s\\\"\",\r\n          workflowName, Arrays.asList(targetStates),\r\n          ctx == null ? \"null\" : ctx.getWorkflowState().toString()));\r\n    }\r\n\r\n    return ctx.getWorkflowState();\r\n  }\r\n\r\n\r\n```\r\n\r\nIs it possible that only one job failing would cause workflow failure? `!allowedStates.contains(ctx.getWorkflowState()))`","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675148772/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/675186022","html_url":"https://github.com/apache/helix/pull/1276#issuecomment-675186022","issue_url":"https://api.github.com/repos/apache/helix/issues/1276","id":675186022,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTE4NjAyMg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T00:46:33Z","updated_at":"2020-08-18T00:46:33Z","author_association":"CONTRIBUTOR","body":"Note this is the mirror of the Apache Helix repo.\r\nI'm not sure if we want to introduce GitHub related features to any files that are outside .github. Maybe not.\r\n\r\n@dasahcc @lei-xia What's your opinion?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675186022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/675295108","html_url":"https://github.com/apache/helix/issues/1126#issuecomment-675295108","issue_url":"https://api.github.com/repos/apache/helix/issues/1126","id":675295108,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTI5NTEwOA==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T07:00:33Z","updated_at":"2020-08-18T07:00:33Z","author_association":"CONTRIBUTOR","body":"@manick02 \r\nSure. If you want, you could submit a pull request with a commit and ask for a review.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675295108/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/675664436","html_url":"https://github.com/apache/helix/issues/1290#issuecomment-675664436","issue_url":"https://api.github.com/repos/apache/helix/issues/1290","id":675664436,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTY2NDQzNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-18T19:17:07Z","updated_at":"2020-08-18T19:17:07Z","author_association":"CONTRIBUTOR","body":"This one is similar to #1278. \r\n\r\n1/ Add test start and end log message\r\n\r\n2/ enlarge timeout value.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675664436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/675876326","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-675876326","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":675876326,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTg3NjMyNg==","user":{"login":"manick02","id":10003163,"node_id":"MDQ6VXNlcjEwMDAzMTYz","avatar_url":"https://avatars.githubusercontent.com/u/10003163?v=4","gravatar_id":"","url":"https://api.github.com/users/manick02","html_url":"https://github.com/manick02","followers_url":"https://api.github.com/users/manick02/followers","following_url":"https://api.github.com/users/manick02/following{/other_user}","gists_url":"https://api.github.com/users/manick02/gists{/gist_id}","starred_url":"https://api.github.com/users/manick02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manick02/subscriptions","organizations_url":"https://api.github.com/users/manick02/orgs","repos_url":"https://api.github.com/users/manick02/repos","events_url":"https://api.github.com/users/manick02/events{/privacy}","received_events_url":"https://api.github.com/users/manick02/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T06:19:46Z","updated_at":"2020-08-19T06:19:46Z","author_association":"NONE","body":"I am trying understand why this test is failing in CI but passing locally\r\njava.lang.AssertionError: expected:<0> but was:<1>\r\n\tat org.apache.helix.zookeeper.impl.client.TestRawZkClient.testZkClientMonitor(TestRawZkClient.java:288)\r\n\r\n[INFO] \r\n[INFO] Results:\r\n[INFO] \r\n[ERROR] Failures: \r\n[ERROR]   TestRawZkClient.testZkClientMonitor:288 expected:<0> but was:<1>\r\n[INFO] \r\n[ERROR] Tests run: 44, Failures: 1, Errors: 0, Skipped: 2","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/675876326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/676635566","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-676635566","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":676635566,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjYzNTU2Ng==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T20:07:10Z","updated_at":"2020-08-19T20:07:10Z","author_association":"CONTRIBUTOR","body":"HI @manick02  -\r\n\r\nThanks for the pull request. Here are a few things to keep in mind:\r\n\r\n- Please check off the boxes if you've completed the item.\r\n- Please clarify which module you ran the test on. For this particular change, I think we would need to run tests on zookeeper-api, helix-core, and helix-rest modules.\r\n- In general, every logical change must be accompanied by a corresponding test. Do you think you could add a test testing the change in logic?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/676635566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/676636142","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-676636142","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":676636142,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjYzNjE0Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T20:08:02Z","updated_at":"2020-08-19T20:08:02Z","author_association":"CONTRIBUTOR","body":"> I am trying understand why this test is failing in CI but passing locally\r\n> java.lang.AssertionError: expected:<0> but was:<1>\r\n> at org.apache.helix.zookeeper.impl.client.TestRawZkClient.testZkClientMonitor(TestRawZkClient.java:288)\r\n> \r\n> [INFO]\r\n> [INFO] Results:\r\n> [INFO]\r\n> [ERROR] Failures:\r\n> [ERROR] TestRawZkClient.testZkClientMonitor:288 expected:<0> but was:<1>\r\n> [INFO]\r\n> [ERROR] Tests run: 44, Failures: 1, Errors: 0, Skipped: 2\r\n\r\n@jiajunwang @pkuwm @kaisun2000  is this test a failing item in CI? Has our CI been made stable yet?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/676636142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/676669851","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-676669851","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":676669851,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjY2OTg1MQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T20:33:04Z","updated_at":"2020-08-19T20:33:04Z","author_association":"CONTRIBUTOR","body":"> > I am trying understand why this test is failing in CI but passing locally\n> \n> > java.lang.AssertionError: expected:<0> but was:<1>\n> \n> > at org.apache.helix.zookeeper.impl.client.TestRawZkClient.testZkClientMonitor(TestRawZkClient.java:288)\n> \n> > \n> \n> > [INFO]\n> \n> > [INFO] Results:\n> \n> > [INFO]\n> \n> > [ERROR] Failures:\n> \n> > [ERROR] TestRawZkClient.testZkClientMonitor:288 expected:<0> but was:<1>\n> \n> > [INFO]\n> \n> > [ERROR] Tests run: 44, Failures: 1, Errors: 0, Skipped: 2\n> \n> \n> \n> @jiajunwang @pkuwm @kaisun2000  is this test a failing item in CI? Has our CI been made stable yet?\n\n@narendly From the ci result, it is still a failure. Being successful in local is because the ordering of tests running is different with CI. I believe @kaisun2000 is working on fixing the failed tests. Maybe @kaisun2000 could prioritize this test fix so zookeeper api module can pass tests?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/676669851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/676695314","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-676695314","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":676695314,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NjY5NTMxNA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T20:55:47Z","updated_at":"2020-08-19T20:55:47Z","author_association":"CONTRIBUTOR","body":"@narendly, @pkuwm  focusing on hunting the flaky test in helix-core at this moment. Let me have a look at this one.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/676695314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/676782587","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-676782587","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":676782587,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Njc4MjU4Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T22:35:39Z","updated_at":"2020-08-19T22:35:39Z","author_association":"CONTRIBUTOR","body":"@huizhi, @narendly I guess I may find a theory as why this test fails in github, but not locally. \r\n\r\nSee the following code, there is a race condition here. `connect()` would cause a process() callback in zookeeper object eventThread.. If the _monitor is not constructed, the state changed value would be 0, otherwise, it would be 1.\r\n\r\ngithub is slow, the value is 1.\r\n\r\n```\r\n protected ZkClient(IZkConnection zkConnection, int connectionTimeout, long operationRetryTimeout,\r\n      PathBasedZkSerializer zkSerializer, String monitorType, String monitorKey,\r\n      String monitorInstanceName, boolean monitorRootPathOnly) {\r\n    if (zkConnection == null) {\r\n      throw new NullPointerException(\"Zookeeper connection is null!\");\r\n    }\r\n\r\n    _uid = UID.getAndIncrement();\r\n\r\n    _connection = zkConnection;\r\n    _pathBasedZkSerializer = zkSerializer;\r\n    _operationRetryTimeoutInMillis = operationRetryTimeout;\r\n    _isNewSessionEventFired = false;\r\n\r\n    _asyncCallRetryThread = new ZkAsyncRetryThread(zkConnection.getServers());\r\n    _asyncCallRetryThread.start();\r\n    LOG.info(\"ZkClient created with _uid {}, _asyncCallRetryThread id {}, stack {}\", _uid, _asyncCallRetryThread.getId(),\r\n        Arrays.asList(Thread.currentThread().getStackTrace()));\r\n\r\n    connect(connectionTimeout, this);\r\n\r\n    // initiate monitor\r\n    try {\r\n      if (monitorKey != null && !monitorKey.isEmpty() && monitorType != null && !monitorType\r\n          .isEmpty()) {\r\n        _monitor =\r\n            new ZkClientMonitor(monitorType, monitorKey, monitorInstanceName, monitorRootPathOnly,\r\n                _eventThread);\r\n        _monitor.register();\r\n      } else {\r\n        LOG.info(\"ZkClient monitor key or type is not provided. Skip monitoring.\");\r\n      }\r\n    } catch (JMException e) {\r\n      LOG.error(\"Error in creating ZkClientMonitor\", e);\r\n    }\r\n  }\r\n\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/676782587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/676782811","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-676782811","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":676782811,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Njc4MjgxMQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-19T22:36:17Z","updated_at":"2020-08-19T22:36:17Z","author_association":"CONTRIBUTOR","body":"Will file a task to fix this one. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/676782811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/676856162","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-676856162","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":676856162,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Njg1NjE2Mg==","user":{"login":"manick02","id":10003163,"node_id":"MDQ6VXNlcjEwMDAzMTYz","avatar_url":"https://avatars.githubusercontent.com/u/10003163?v=4","gravatar_id":"","url":"https://api.github.com/users/manick02","html_url":"https://github.com/manick02","followers_url":"https://api.github.com/users/manick02/followers","following_url":"https://api.github.com/users/manick02/following{/other_user}","gists_url":"https://api.github.com/users/manick02/gists{/gist_id}","starred_url":"https://api.github.com/users/manick02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manick02/subscriptions","organizations_url":"https://api.github.com/users/manick02/orgs","repos_url":"https://api.github.com/users/manick02/repos","events_url":"https://api.github.com/users/manick02/events{/privacy}","received_events_url":"https://api.github.com/users/manick02/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-20T02:20:13Z","updated_at":"2020-08-20T17:50:30Z","author_association":"NONE","body":"> HI @manick02 -\r\n> \r\n> Thanks for the pull request. Here are a few things to keep in mind:\r\n> \r\n> * Please check off the boxes if you've completed the item.\r\n> * Please clarify which module you ran the test on. For this particular change, I think we would need to run tests on zookeeper-api, helix-core, and helix-rest modules.\r\n> * In general, every logical change must be accompanied by a corresponding test. Do you think you could add a test testing the change in logic?\r\n\r\nThanks for the comments. I am figuring out to how to test this, let me get back\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/676856162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/677968702","html_url":"https://github.com/apache/helix/pull/1276#issuecomment-677968702","issue_url":"https://api.github.com/repos/apache/helix/issues/1276","id":677968702,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk2ODcwMg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T00:17:31Z","updated_at":"2020-08-21T00:17:31Z","author_association":"CONTRIBUTOR","body":"Thanks, @jiajunwang, for the review and approval.\r\n\r\nThis PR is ready to be merged, approved by @jiajunwang \r\n\r\nAdd Helix logo and build status badges to README","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/677968702/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/677977936","html_url":"https://github.com/apache/helix/pull/1227#issuecomment-677977936","issue_url":"https://api.github.com/repos/apache/helix/issues/1227","id":677977936,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk3NzkzNg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T00:51:59Z","updated_at":"2020-08-21T00:51:59Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 Let's don't keep adding more changes to the same PR. I think you have put 2 PRs into one change. It should be at least, 1. thread leakage check. 2. fixing the tests (I would prefer fixing them separately, but if the fixes are similar then it's OK).","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/677977936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/677995397","html_url":"https://github.com/apache/helix/pull/1293#issuecomment-677995397","issue_url":"https://api.github.com/repos/apache/helix/issues/1293","id":677995397,"node_id":"MDEyOklzc3VlQ29tbWVudDY3Nzk5NTM5Nw==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T02:00:15Z","updated_at":"2020-08-21T02:00:15Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge, approved by jiajunwang \r\nFinal commit message:\r\nReplace org.codehaus.jackson with FasterXML.jackson ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/677995397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678000265","html_url":"https://github.com/apache/helix/pull/1227#issuecomment-678000265","issue_url":"https://api.github.com/repos/apache/helix/issues/1227","id":678000265,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODAwMDI2NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T02:18:51Z","updated_at":"2020-08-21T02:18:51Z","author_association":"CONTRIBUTOR","body":"> @kaisun2000 I strongly recommend splitting the logic changes from the pure testing fixes.\r\n> I mainly reviewed the logic change part. The test changes are too long to review. Could you please re-org the PR?\r\n\r\nLet us sync about it offline. There are conflict of different requirements.\r\n\r\n1/  If our goal is to have all the test pass in github, we have to run it consistently till it converge to no failing test with all the changes in. Otherwise, how can we verify? \r\n2/ The huge diff would be difficult to review. Yes, that is another concern.\r\n3/ We have to make test converge quickly as people are checking in new code and potentially introducing new unstableness. We have to act quick, or it will not converge. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678000265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678104393","html_url":"https://github.com/apache/helix/pull/1298#issuecomment-678104393","issue_url":"https://api.github.com/repos/apache/helix/issues/1298","id":678104393,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODEwNDM5Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T08:03:32Z","updated_at":"2020-08-21T08:03:32Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 Could you take a look at this? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678104393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678484822","html_url":"https://github.com/apache/helix/issues/1268#issuecomment-678484822","issue_url":"https://api.github.com/repos/apache/helix/issues/1268","id":678484822,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ4NDgyMg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T20:43:34Z","updated_at":"2020-08-21T20:43:34Z","author_association":"CONTRIBUTOR","body":"There is still some chance that this test may not complete in 15 minutes.\r\n>2020-08-21T06:13:22.1505513Z 7283789 [TestNGInvoker-testEnableCompressionResource()] ERROR org.apache.helix.tools.ClusterVerifiers.ZkHelixClusterVerifier  - **verifier timeout out with timeout 900000**,. stack trace [java.lang.Thread.getStackTrace(Thread.java:1559), org.apache.helix.tools.ClusterVerifiers.ZkHelixClusterVerifier.verifyByPolling(ZkHelixClusterVerifier.java:208), org.apache.helix.tools.ClusterVerifiers.ZkHelixClusterVerifier.verifyByPolling(ZkHelixClusterVerifier.java:229), org.apache.helix.integration.TestEnableCompression.testEnableCompressionResource(TestEnableCompression.java:119), sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method), sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.lang.reflect.Method.invoke(Method.java:498), org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76), org.testng.internal.InvokeMethodRunnable.runOne(InvokeMethodRunnable.java:46), org.testng.internal.InvokeMethodRunnable.run(InvokeMethodRunnable.java:37), java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511), java.util.concurrent.FutureTask.run(FutureTask.java:266), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624), java.lang.Thread.run(Thread.java:748)]","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678484822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678499715","html_url":"https://github.com/apache/helix/issues/1299#issuecomment-678499715","issue_url":"https://api.github.com/repos/apache/helix/issues/1299","id":678499715,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODQ5OTcxNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T21:07:59Z","updated_at":"2020-08-21T21:07:59Z","author_association":"CONTRIBUTOR","body":"Need investigate more.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678499715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678512631","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-678512631","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":678512631,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODUxMjYzMQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T21:16:52Z","updated_at":"2020-08-21T21:17:22Z","author_association":"CONTRIBUTOR","body":"> 2020-08-21T06:26:35.4853497Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 900.002 s  <<< FAILURE!\r\n2020-08-21T06:26:35.4866531Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testResetSnapshots() didn't finish within the time-out 900000\r\n2020-08-21T06:26:35.4878804Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:434)\r\n\r\nError:\r\n>2020-08-21T04:49:04.9996955Z AfterClass: TestResourceChangeDetector of TestResourceChangeDetector called.\r\n2020-08-21T04:49:05.0036922Z 2226637 [TestNGInvoker-testResetSnapshots()] ERROR org.apache.helix.tools.ClusterVerifiers.ZkHelixClusterVerifier  - Exception java.lang.InterruptedException in verifier [java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedNanos(AbstractQueuedSynchronizer.java:1041), java.util.concurrent.locks.AbstractQueuedSynchronizer.tryAcquireSharedNanos(AbstractQueuedSynchronizer.java:1332), java.util.concurrent.CountDownLatch.await(CountDownLatch.java:277), org.apache.helix.tools.ClusterVerifiers.ZkHelixClusterVerifier.verifyByCallback(ZkHelixClusterVerifier.java:249), org.apache.helix.tools.ClusterVerifiers.StrictMatchExternalViewVerifier.verifyByZkCallback(StrictMatchExternalViewVerifier.java:200), org.apache.helix.tools.ClusterVerifiers.StrictMatchExternalViewVerifier.verify(StrictMatchExternalViewVerifier.java:179), org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:434), sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method), sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.lang.reflect.Method.invoke(Method.java:498), org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76), org.testng.internal.InvokeMethodRunnable.runOne(InvokeMethodRunnable.java:46), org.testng.internal.InvokeMethodRunnable.run(InvokeMethodRunnable.java:37), java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511), java.util.concurrent.FutureTask.run(FutureTask.java:266), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624), java.lang.Thread.run(Thread.java:748)]\r\n2020-08-21T04:49:05.0420974Z 2226679 [HelixController-pipeline-default-TestResourceChangeDetector-(9d444036_DEFAULT)] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-08-21T04:49:05.0421621Z java.lang.InterruptedException\r\n2020-08-21T04:49:05.0422019Z \tat java.lang.Object.wait(Native Method)\r\n2020-08-21T04:49:05.0422239Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-08-21T04:49:05.0422373Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-08-21T04:49:05.0422511Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.getStats(ZkBaseDataAccessor.java:1197)\r\n2020-08-21T04:49:05.0422644Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.getPropertyStats(ZKHelixDataAccessor.java:365)\r\n2020-08-21T04:49:05.0422782Z \tat org.apache.helix.common.caches.AbstractDataCache.refreshProperties(AbstractDataCache.java:66)\r\n2020-08-21T04:49:05.0422913Z \tat org.apache.helix.common.caches.PropertyCache.doRefreshWithSelectiveUpdate(PropertyCache.java:175)\r\n2020-08-21T04:49:05.0423042Z \tat org.apache.helix.common.caches.PropertyCache.refresh(PropertyCache.java:158)\r\n2020-08-21T04:49:05.0423181Z \tat org.apache.helix.controller.dataproviders.BaseControllerDataProvider.refreshIdealState(BaseControllerDataProvider.java:244)\r\n2020-08-21T04:49:05.0423328Z \tat org.apache.helix.controller.dataproviders.BaseControllerDataProvider.doRefresh(BaseControllerDataProvider.java:329)\r\n2020-08-21T04:49:05.0423684Z \tat org.apache.helix.controller.dataproviders.ResourceControllerDataProvider.refresh(ResourceControllerDataProvider.java:143)\r\n2020-08-21T04:49:05.0423822Z \tat org.apache.helix.controller.stages.ReadClusterDataStage.process(ReadClusterDataStage.java:63)\r\n2020-08-21T04:49:05.0424047Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-08-21T04:49:05.0424159Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-08-21T04:49:05.0424292Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-08-21T04:49:05.0424428Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-08-21T04:49:26.1087469Z 2247744 [main] ERROR org.apache.helix.TestHelper  - verifier time out, consider try longer timeout, stack trace[java.lang.Thread.getStackTrace(Thread.java:1559), org.apache.helix.TestHelper.verify(TestHelper.java:804), org.apache.helix.controller.changedetector.TestResourceChangeDetector.afterClass(TestResourceChangeDetector.java:124), sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method), sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.lang.reflect.Method.invoke(Method.java:498), org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76), org.testng.internal.Invoker.invokeConfigurationMethod(Invoker.java:525), org.testng.internal.Invoker.invokeConfigurations(Invoker.java:202), org.testng.internal.Invoker.invokeConfigurations(Invoker.java:130), org.testng.internal.TestMethodWorker.invokeAfterClassMethods(TestMethodWorker.java:222), org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:112), org.testng.TestRunner.runWorkers(TestRunner.java:1147), org.testng.TestRunner.privateRun(TestRunner.java:749), org.testng.TestRunner.run(TestRunner.java:600), org.testng.SuiteRunner.runTest(SuiteRunner.java:317), org.testng.SuiteRunner.runSequentially(SuiteRunner.java:312), org.testng.SuiteRunner.privateRun(SuiteRunner.java:274), org.testng.SuiteRunner.run(SuiteRunner.java:223), org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52), org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86), org.testng.TestNG.runSuitesSequentially(TestNG.java:1039), org.testng.TestNG.runSuitesLocally(TestNG.java:964), org.testng.TestNG.run(TestNG.java:900), org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:283), org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:75), org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:120), org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:384), org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:345), org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:126), org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:418)]\r\n2020-08-21T04:49:26.1090128Z AfterClass:TestResourceChangeDetector afterclass of ZkTestBase called!\r\n2020-08-21T04:49:27.1047418Z TestResourceChangeDetector has active threads cnt:207\r\n2020-08-21T04:49:27.1146302Z zookeeper server threads has 4 thread\r\n\r\nSolution: 1/ enlarge timeout\r\n or  2/ not use callback verifier. \r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678512631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678531803","html_url":"https://github.com/apache/helix/issues/1290#issuecomment-678531803","issue_url":"https://api.github.com/repos/apache/helix/issues/1290","id":678531803,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODUzMTgwMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T21:51:38Z","updated_at":"2020-08-21T21:51:38Z","author_association":"CONTRIBUTOR","body":">2020-08-21T05:04:57.1141450Z START testQueueParallelJobs at Fri Aug 21 05:04:57 UTC 2020\r\n2020-08-21T05:04:57.1671162Z 3178806 [HelixController-pipeline-task-CLUSTER_TestEnqueueJobs-(45697fa6_TASK)] ERROR org.apache.helix.task.AbstractTaskDispatcher  - The job config is missing for job testQueueParallelJobs_JOB1\r\n2020-08-21T05:04:57.1867992Z 3178827 [HelixController-pipeline-task-CLUSTER_TestEnqueueJobs-(8bf59f5c_TASK)] ERROR org.apache.helix.task.AbstractTaskDispatcher  - The job config is missing for job testQueueParallelJobs_JOB1\r\n2020-08-21T05:04:57.1960288Z 3178836 [HelixTaskExecutor-message_handle_thread_18382] ERROR org.apache.helix.messaging.handling.HelixStateTransitionHandler  - Partition testQueueParallelJobs_JOB0_0 current state is same as toState (INIT->RUNNING) from message.\r\n2020-08-21T05:20:07.2506580Z END testQueueParallelJobs at Fri Aug 21 05:20:07 UTC 2020, took: 910137ms.\r\n\r\nAnother case, need detailed examination.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678531803/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678533280","html_url":"https://github.com/apache/helix/issues/1300#issuecomment-678533280","issue_url":"https://api.github.com/repos/apache/helix/issues/1300","id":678533280,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODUzMzI4MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T21:56:36Z","updated_at":"2020-08-21T21:56:36Z","author_association":"CONTRIBUTOR","body":"Need examination","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678533280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678534403","html_url":"https://github.com/apache/helix/pull/1298#issuecomment-678534403","issue_url":"https://api.github.com/repos/apache/helix/issues/1298","id":678534403,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODUzNDQwMw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-21T22:00:23Z","updated_at":"2020-08-21T22:00:23Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @kaisun2000 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678534403/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678571475","html_url":"https://github.com/apache/helix/issues/1303#issuecomment-678571475","issue_url":"https://api.github.com/repos/apache/helix/issues/1303","id":678571475,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODU3MTQ3NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T01:04:24Z","updated_at":"2020-08-22T01:04:24Z","author_association":"CONTRIBUTOR","body":"#1227 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678571475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678598496","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-678598496","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":678598496,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODU5ODQ5Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T05:39:47Z","updated_at":"2020-08-22T05:39:47Z","author_association":"CONTRIBUTOR","body":"LOG: (390)\r\n>2020-08-22T01:34:28.9553118Z START TestResourceChangeDetector testResetSnapshots at Sat Aug 22 01:34:28 UTC 2020\r\n2020-08-22T01:54:28.9750235Z 2646766 [TestNGInvoker-testResetSnapshots()] ERROR org.apache.helix.tools.ClusterVerifiers.ZkHelixClusterVerifier  - trigger verify timeout failing, with stack trace java.lang.Thread.getStackTrace(Thread.java:1559)\r\n2020-08-22T01:54:28.9813525Z END TestResourceChangeDetector testResetSnapshots at Sat Aug 22 01:54:28 UTC 2020, took: 1200025ms.\r\n2020-08-22T01:54:28.9814055Z AfterClass: TestResourceChangeDetector of TestResourceChangeDetector called.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678598496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678598599","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-678598599","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":678598599,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODU5ODU5OQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T05:40:56Z","updated_at":"2020-08-22T05:40:56Z","author_association":"CONTRIBUTOR","body":"trigger based callback handler may lose callback. Waiting 20 minutes not working.\r\n\r\nChange to use poll based verifier.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678598599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678613525","html_url":"https://github.com/apache/helix/pull/1237#issuecomment-678613525","issue_url":"https://api.github.com/repos/apache/helix/issues/1237","id":678613525,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODYxMzUyNQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T08:31:44Z","updated_at":"2020-08-22T21:27:15Z","author_association":"CONTRIBUTOR","body":"> Error message for server side is clear to find out the fail reason. The more important is let user to understand what is the real fail reason. Do we have that if persist assignment turned off, at least, we gave user info EV and IS does not match.\r\n\r\n@dasahcc I think it is more appropriate to put this config check in `INVALID_CONFIG` health check, which is the first check in health status check. If configs are invalid, we don't need to do remaining checks like INSTANCE_NOT_STABLE.\r\n\r\nThe response should be like this \r\n```\r\ncurl -XPOST http://localhost:8100/admin/v2/namespaces/namespacce/clusters/cluster/instances\\?command\\=stoppable -d ' {\"instances\": [\"instance\"], \"selection_base\": \"zone_based\", \"max_instance\": \"2\", \"customized_values\": \"{}\"}' -H \"Content-Type: application/json\"\r\n{\r\n  \"instance_stoppable_parallel\" : [ ],\r\n  \"instance_not_stoppable_with_reasons\" : {\r\n    \"instance\" : [ \"HELIX:INVALID_CONFIG\" ]\r\n  }\r\n}\r\n```\r\n\r\nI actually would like to add more info for users to know why. But with current implementation, it is not easy/straightforward to add the message. Maybe ` \"HELIX:INVALID_CONFIG:Cluster config PERSIST_INTERMEDIATE_ASSIGNMENT is not turned on\"\r\n\r\nI think the better one would be a map response for each instance: \r\n```\r\n{\r\n  \"instance_stoppable_parallel\" : [ ],\r\n  \"instance_not_stoppable_with_reasons\" : [{\r\n    \"instance\" : \"hostname\",\r\n    \"health-check\": [ \"HELIX:INVALID_CONFIG\" ],\r\n    \"message\": \"Cluster config PERSIST_INTERMEDIATE_ASSIGNMENT is not turned on\"\r\n  }]\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678613525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678687087","html_url":"https://github.com/apache/helix/issues/1304#issuecomment-678687087","issue_url":"https://api.github.com/repos/apache/helix/issues/1304","id":678687087,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODY4NzA4Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T20:04:33Z","updated_at":"2020-08-22T20:04:33Z","author_association":"CONTRIBUTOR","body":"Is the error message related? Increase wait period for now.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678687087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/678688925","html_url":"https://github.com/apache/helix/issues/1304#issuecomment-678688925","issue_url":"https://api.github.com/repos/apache/helix/issues/1304","id":678688925,"node_id":"MDEyOklzc3VlQ29tbWVudDY3ODY4ODkyNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-22T20:16:49Z","updated_at":"2020-08-22T20:16:49Z","author_association":"CONTRIBUTOR","body":"This seems to have another root cause.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/678688925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679288631","html_url":"https://github.com/apache/helix/issues/1232#issuecomment-679288631","issue_url":"https://api.github.com/repos/apache/helix/issues/1232","id":679288631,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTI4ODYzMQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T18:21:00Z","updated_at":"2020-08-24T18:21:00Z","author_association":"CONTRIBUTOR","body":"Add formatted reason of instance check to API response so users have a clear idea of the reason if PERSIST_INTERMEDIATE_ASSIGNMENT is not turned on.\r\n```\r\ncurl -XPOST http://localhost:8100/admin/v2/namespaces/namespacce/clusters/cluster/instances\\?command\\=stoppable -d ' {\"instances\": [\"instance\"], \"selection_base\": \"zone_based\", \"max_instance\": \"2\", \"customized_values\": \"{}\"}' -H \"Content-Type: application/json\"\r\n{\r\n  \"instance_stoppable_parallel\" : [ ],\r\n  \"instance_not_stoppable_with_reasons\" : {\r\n    \"instance\" : [ \"HELIX:INVALID_CONFIG\" ]\r\n  }\r\n}\r\n```\r\nServer log will have the reason logged: Cluster config PERSIST_INTERMEDIATE_ASSIGNMENT is not turned on, which is required for instance stability check.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679288631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679325615","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-679325615","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":679325615,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTMyNTYxNQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T19:38:12Z","updated_at":"2020-08-24T19:38:12Z","author_association":"CONTRIBUTOR","body":"Seems to be similar to the current Topology.java design. Why we need a new class?\r\nIf anything missed in Topology.java, we can add new methods there to read the tree and return the desired information.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679325615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679343209","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-679343209","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":679343209,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTM0MzIwOQ==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T20:16:30Z","updated_at":"2020-08-24T20:16:30Z","author_association":"CONTRIBUTOR","body":"> Seems to be similar to the current Topology.java design. Why we need a new class?\r\n> If anything missed in Topology.java, we can add new methods there to read the tree and return the desired information.\r\n\r\nThis class is purely to collect the instance configs and return to the users in the format they want. Helix has no logic involved in this part and we do not do any calculation. We considered topology, and the conclusion is that it will make both more complicated for now. Topology is mainly used for rebalancing purpose, and Helix adds default value if there is anything missing, and also Topology actually only supports two levels, as shown here:   \r\n\r\npublic enum Types {\r\n    ROOT,\r\n    ZONE,\r\n    INSTANCE\r\n  }\r\n\r\nAlthough other levels keys are inserted in the tree, they're ignored during further calculation. This guideline is hard coded everywhere through that class. If we're going to change that, it's basically rewriting it.\r\nAnother big issue is that Topology is tightly coupled with `faultZoneType` in different logic. But the new API totally ignore that field. \r\nAlthough in the long run we may consolidate two classes, the prerequisite will be topology can support real multiple level (more than 2) hierarchy without hardcoding anything.\r\nTrie data structure is more suitable for this use case regarding simpleness and efficiency. This class will only be used when users query domain information for the cluster or for any specific domain.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679343209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679347856","html_url":"https://github.com/apache/helix/pull/1302#issuecomment-679347856","issue_url":"https://api.github.com/repos/apache/helix/issues/1302","id":679347856,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTM0Nzg1Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T20:26:12Z","updated_at":"2020-08-24T20:26:12Z","author_association":"CONTRIBUTOR","body":"What is the root cause?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679347856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679348591","html_url":"https://github.com/apache/helix/pull/1302#issuecomment-679348591","issue_url":"https://api.github.com/repos/apache/helix/issues/1302","id":679348591,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTM0ODU5MQ==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T20:27:44Z","updated_at":"2020-08-24T20:27:44Z","author_association":"CONTRIBUTOR","body":"> What is the root cause?\r\n\r\nPlease refer to this issue #1296 for the root cause.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679348591/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679379516","html_url":"https://github.com/apache/helix/pull/1302#issuecomment-679379516","issue_url":"https://api.github.com/repos/apache/helix/issues/1302","id":679379516,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTM3OTUxNg==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T21:37:02Z","updated_at":"2020-08-24T21:39:58Z","author_association":"CONTRIBUTOR","body":"> From the description of #1296, I still don't quite understand what caused the issue.\r\n> \r\n> So a finalize() from callback handler causing the routingTableProvider to reset and later update see empty snapshot.\r\n> \r\n> So what caused the finalize? which path?\r\n\r\nWhen we dropped a customized state type (TYPE_C for example), the associated customized view path and its children nodes for this customized state type is deleted, so the callback handler is finalized. An example for the path would be: /cluster_name/CUSTOMIZEDVIEW/TYPE_C, /cluster_name/CUSTOMIZEDVIEW/TYPE_C/resource_name","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679379516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679394685","html_url":"https://github.com/apache/helix/pull/1302#issuecomment-679394685","issue_url":"https://api.github.com/repos/apache/helix/issues/1302","id":679394685,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTM5NDY4NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T22:17:40Z","updated_at":"2020-08-24T22:17:40Z","author_association":"CONTRIBUTOR","body":"> > From the description of #1296, I still don't quite understand what caused the issue.\r\n> > So a finalize() from callback handler causing the routingTableProvider to reset and later update see empty snapshot.\r\n> > So what caused the finalize? which path?\r\n> \r\n> When we dropped a customized state type (TYPE_C for example), the associated customized view path and its children nodes for this customized state type is deleted, so the callback handler is finalized. An example for the path would be: /cluster_name/CUSTOMIZEDVIEW/TYPE_C, /cluster_name/CUSTOMIZEDVIEW/TYPE_C/resource_name\r\n\r\nSo when customizedview deleting types would cause routingTableProvider listening on the type path to reset(). This is normal flow. But later usage of routingTableProvider would see empty snapshot which is also expected I guess.  But in the code, see my comment in the code, where do the deletion happening?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679394685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679410728","html_url":"https://github.com/apache/helix/pull/1309#issuecomment-679410728","issue_url":"https://api.github.com/repos/apache/helix/issues/1309","id":679410728,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQxMDcyOA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:08:36Z","updated_at":"2020-08-24T23:08:36Z","author_association":"CONTRIBUTOR","body":"Verified it works after this change. \r\n```\r\n{\r\n  \"MULTI_ZK_ENABLED\" : \"true\",\r\n  \"IS_DEFAULT\" : \"false\",\r\n  \"MSDS_ENDPOINT\" : \"http://<rest-server>/admin/v2/namespaces/test\",\r\n  \"NAME\" : \"test\"\r\n}\r\n\r\ncurl localhost:8100/admin/v2/namespaces/test/clusters                \r\n{\r\n  \"clusters\" : [ \"cluster-1\", \"cluster-2\"]\r\n}\r\n```\r\n\r\nThe reason why we dont catch the defect in helix rest tests is we dont run tests against multiZk enabled. I think we should do so. We'll enable this in another PR.\r\n\r\nThis PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679410728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679421854","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-679421854","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":679421854,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyMTg1NA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:48:07Z","updated_at":"2020-08-24T23:48:07Z","author_association":"CONTRIBUTOR","body":"> getClusterTopologySetting\r\n\r\nThe big problem I have using Topology is that the logic handling is different. If I'm going to use it, I'll need to introduce a lot of switch cases, as the main purpose for Topology is for rebalance instead of API response to users. Here're a few examples:\r\n1. if topology is null, it does\r\nclusterTopologyConfig.endNodeType = Types.INSTANCE.name();\r\nclusterTopologyConfig.faultZoneType = Types.ZONE.name();\r\nBut I'll throw an exception and return.\r\n\r\n2. When an instance topology misses a value, it also fills the default value, but I will need to throw an exception. \r\n\r\n3. When you find an instance topology is not defined, you'll throw an exception of terminating rebalance. This is not something I should have in the log and return to users.\r\n\r\n4. With current clusterTopologyConfig.topologyKeyDefaultValue's linkedhashmap, it is not as easy/efficient as a trie to return the topology under each domain. \r\n\r\nIn all, the logic of Topology is more specific for rebalancing usage. If I change it, it will become a complicated class that needs to adapt to different usage. I think the correct way in the future should be:\r\nHave a base class that returns the raw data in cluster config and instance config, and different classes extend it for different usage. \r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679421854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679423710","html_url":"https://github.com/apache/helix/issues/1296#issuecomment-679423710","issue_url":"https://api.github.com/repos/apache/helix/issues/1296","id":679423710,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyMzcxMA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-24T23:54:38Z","updated_at":"2020-08-24T23:55:32Z","author_association":"CONTRIBUTOR","body":"It seems that currentState based RP has one callbackhandler with all currentstate as child znode. Thus reset would refresh all currentstate only once. This is fine.\r\nCustomizedView for each type has one callbackHandler. Thus, one removal of callbackhandler parent path would cause other types of customizedView be reset() too. That is not what we want.\r\n\r\nIn sum, current design of routingProvider accommodates only one callbackhandler. (External view, currentstate). However customized view RP has callbackhandler per type. This does not fit into the current design of RP.\r\n\r\n@jiajunwang , @zhangmeng916, is the above description right?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679423710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/679425708","html_url":"https://github.com/apache/helix/pull/1302#issuecomment-679425708","issue_url":"https://api.github.com/repos/apache/helix/issues/1302","id":679425708,"node_id":"MDEyOklzc3VlQ29tbWVudDY3OTQyNTcwOA==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T00:02:03Z","updated_at":"2020-08-25T00:02:03Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.\r\nFinal commit message: Fix test TestCustomizedViewAggregation.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/679425708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/680243825","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-680243825","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":680243825,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDI0MzgyNQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-25T20:08:40Z","updated_at":"2020-08-25T20:08:40Z","author_association":"CONTRIBUTOR","body":"> > Seems to be similar to the current Topology.java design. Why we need a new class?\r\n> > If anything missed in Topology.java, we can add new methods there to read the tree and return the desired information.\r\n> \r\n> This class is purely to collect the instance configs and return to the users in the format they want. Helix has no logic involved in this part and we do not do any calculation. We considered topology, and the conclusion is that it will make both more complicated for now. Topology is mainly used for rebalancing purpose, and Helix adds default value if there is anything missing, and also Topology actually only supports two levels, as shown here:\r\n> \r\n> public enum Types {\r\n> ROOT,\r\n> ZONE,\r\n> INSTANCE\r\n> }\r\n> \r\n> Although other levels keys are inserted in the tree, they're ignored during further calculation. This guideline is hard coded everywhere through that class. If we're going to change that, it's basically rewriting it.\r\n> Another big issue is that Topology is tightly coupled with `faultZoneType` in different logic. But the new API totally ignore that field.\r\n> Although in the long run we may consolidate two classes, the prerequisite will be topology can support real multiple level (more than 2) hierarchy without hardcoding anything.\r\n> Trie data structure is more suitable for this use case regarding simpleness and efficiency. This class will only be used when users query domain information for the cluster or for any specific domain.\r\n\r\nAs we discussed, let's define the detailed requirement first and then refine the java class design.\r\nBut to answer some of you comment here, my premature reply would be,\r\n1. I think adding default value logic needs to be delivered to the user as well. They need to understand how Helix locates an instance. It is a Helix API eventually. If the rest API tells the user that this node has no definition, but internally, it is rebalanced as in the default fault zone, then it would be very confusing.\r\n2. Topology.java supports all possible Domain definition, not only 2 levels. Although the other layers are not used by the rebalancer, you can get the full tree structure from Topology.java if simply adding a method that traverses the tree like you what you are doing in this new class. I'm not aware of the necessity of rewriting.\r\n3. faultZoneType is purely optional.\r\n4. I agree that the trie data structure is more preferred. But it seems not a must for this requirement. If it is a normal tree, the get methods can still be developed, right?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/680243825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/680604799","html_url":"https://github.com/apache/helix/pull/1314#issuecomment-680604799","issue_url":"https://api.github.com/repos/apache/helix/issues/1314","id":680604799,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDYwNDc5OQ==","user":{"login":"mgao0","id":31704180,"node_id":"MDQ6VXNlcjMxNzA0MTgw","avatar_url":"https://avatars.githubusercontent.com/u/31704180?v=4","gravatar_id":"","url":"https://api.github.com/users/mgao0","html_url":"https://github.com/mgao0","followers_url":"https://api.github.com/users/mgao0/followers","following_url":"https://api.github.com/users/mgao0/following{/other_user}","gists_url":"https://api.github.com/users/mgao0/gists{/gist_id}","starred_url":"https://api.github.com/users/mgao0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgao0/subscriptions","organizations_url":"https://api.github.com/users/mgao0/orgs","repos_url":"https://api.github.com/users/mgao0/repos","events_url":"https://api.github.com/users/mgao0/events{/privacy}","received_events_url":"https://api.github.com/users/mgao0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T04:42:20Z","updated_at":"2020-08-26T04:42:20Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.\r\nFinal commit message: Fix customized view aggregation latency calculation.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/680604799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/680828563","html_url":"https://github.com/apache/helix/pull/1292#issuecomment-680828563","issue_url":"https://api.github.com/repos/apache/helix/issues/1292","id":680828563,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MDgyODU2Mw==","user":{"login":"manick02","id":10003163,"node_id":"MDQ6VXNlcjEwMDAzMTYz","avatar_url":"https://avatars.githubusercontent.com/u/10003163?v=4","gravatar_id":"","url":"https://api.github.com/users/manick02","html_url":"https://github.com/manick02","followers_url":"https://api.github.com/users/manick02/followers","following_url":"https://api.github.com/users/manick02/following{/other_user}","gists_url":"https://api.github.com/users/manick02/gists{/gist_id}","starred_url":"https://api.github.com/users/manick02/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manick02/subscriptions","organizations_url":"https://api.github.com/users/manick02/orgs","repos_url":"https://api.github.com/users/manick02/repos","events_url":"https://api.github.com/users/manick02/events{/privacy}","received_events_url":"https://api.github.com/users/manick02/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T11:44:24Z","updated_at":"2020-08-26T11:44:24Z","author_association":"NONE","body":"Am bit stuck here i though i will reach out here and look for guidance. Initially, i thought i will add my test in TestSharedZkClient, but this test class extends RealmAwareZkClientTestBase (this test has its own test suite initialisation). This made me wonder what is the right place to test for this issue. Following is what am thinking of doing, start zookeeper create shared clients and close it to see if it is getting removed ( variants : one watcher, more than one watcher). Any Guidance will be much appreciated and will help me proceed, not sure what is the right channel to discuss also so i thought i will ask here","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/680828563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/681149283","html_url":"https://github.com/apache/helix/issues/1316#issuecomment-681149283","issue_url":"https://api.github.com/repos/apache/helix/issues/1316","id":681149283,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTE0OTI4Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-26T22:08:54Z","updated_at":"2020-08-26T22:08:54Z","author_association":"CONTRIBUTOR","body":"Add logging now to see what the `Assert.assertEquals(_msgOrderList.size(), 7, \"_msgOrderList is:\" + _msgOrderList.toString());`","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/681149283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/681202985","html_url":"https://github.com/apache/helix/pull/1315#issuecomment-681202985","issue_url":"https://api.github.com/repos/apache/helix/issues/1315","id":681202985,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MTIwMjk4NQ==","user":{"login":"xyuanlu","id":6392021,"node_id":"MDQ6VXNlcjYzOTIwMjE=","avatar_url":"https://avatars.githubusercontent.com/u/6392021?v=4","gravatar_id":"","url":"https://api.github.com/users/xyuanlu","html_url":"https://github.com/xyuanlu","followers_url":"https://api.github.com/users/xyuanlu/followers","following_url":"https://api.github.com/users/xyuanlu/following{/other_user}","gists_url":"https://api.github.com/users/xyuanlu/gists{/gist_id}","starred_url":"https://api.github.com/users/xyuanlu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyuanlu/subscriptions","organizations_url":"https://api.github.com/users/xyuanlu/orgs","repos_url":"https://api.github.com/users/xyuanlu/repos","events_url":"https://api.github.com/users/xyuanlu/events{/privacy}","received_events_url":"https://api.github.com/users/xyuanlu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T01:08:32Z","updated_at":"2020-08-27T01:08:32Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged.\r\nFinal commit message: Remove unused org.codehaus.jackson imports in pom file","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/681202985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/682213761","html_url":"https://github.com/apache/helix/issues/1319#issuecomment-682213761","issue_url":"https://api.github.com/repos/apache/helix/issues/1319","id":682213761,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjIxMzc2MQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-27T22:03:20Z","updated_at":"2020-08-27T22:03:20Z","author_association":"CONTRIBUTOR","body":"@brentwritescode \r\n\r\nThanks for letting us know. You're right, Helix hasn't actually been tested against Java 11. You're welcome to submit a pull request as this seems to be a straightforward fix that you've already figured out  ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/682213761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/682253471","html_url":"https://github.com/apache/helix/pull/1327#issuecomment-682253471","issue_url":"https://api.github.com/repos/apache/helix/issues/1327","id":682253471,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI1MzQ3MQ==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T00:12:41Z","updated_at":"2020-08-28T00:12:41Z","author_association":"CONTRIBUTOR","body":"Please refer to the corresponding issue using a proper keyword like \"fixes\" or \"resolves\"","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/682253471/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/682257249","html_url":"https://github.com/apache/helix/pull/1327#issuecomment-682257249","issue_url":"https://api.github.com/repos/apache/helix/issues/1327","id":682257249,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjI1NzI0OQ==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T00:25:59Z","updated_at":"2020-08-28T00:25:59Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @narendly  \r\nFinal commit message:\r\n## Configurable Task Pool TaskDriver helpers fix  ##\r\nThe setters were not actually setting the InstanceConfig/ClusterConfig. Fixed by setting them. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/682257249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/683107165","html_url":"https://github.com/apache/helix/pull/1237#issuecomment-683107165","issue_url":"https://api.github.com/repos/apache/helix/issues/1237","id":683107165,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzEwNzE2NQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T19:31:19Z","updated_at":"2020-08-28T19:31:19Z","author_association":"CONTRIBUTOR","body":"Thanks, @dasahcc @jiajunwang, for the review.\r\n\r\nThis PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/683107165/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/683130238","html_url":"https://github.com/apache/helix/pull/1330#issuecomment-683130238","issue_url":"https://api.github.com/repos/apache/helix/issues/1330","id":683130238,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzEzMDIzOA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T20:21:08Z","updated_at":"2020-08-28T20:21:08Z","author_association":"CONTRIBUTOR","body":"Final commit message:\r\n## Feature: Configurable Task Thread Pool ##\r\nThis PR adds the Configurable Task Thread Pool feature to task framework. Users can specify target task pool sizes on either the cluster-level or on the instance-level by setting either GLOBAL_TARGET_TASK_THREAD_POOL_SIZE in ClusterConfig or TARGET_TASK_THREAD_POOL_SIZE in InstanceConfig. After JVM restart, an instance will have a pool with the specified size for task threads.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/683130238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/683212819","html_url":"https://github.com/apache/helix/issues/1331#issuecomment-683212819","issue_url":"https://api.github.com/repos/apache/helix/issues/1331","id":683212819,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzIxMjgxOQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T01:24:43Z","updated_at":"2020-08-29T01:33:05Z","author_association":"CONTRIBUTOR","body":"@lei-xia \r\nThis is a test log to prove prefetch is done in zkclient:\r\n```\r\nSTART test at Fri Aug 28 18:14:19 PDT 2020\r\n==== update instance config\r\nPrefetch data for path /TestCallbackPrefetch/CONFIGS/PARTICIPANT/localhost_12918\r\n=== after \r\n```\r\n\r\nAfter the fix, no prefetch:\r\n```\r\nSTART test at Fri Aug 28 18:17:51 PDT 2020\r\n==== update instance config\r\n=== after\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/683212819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/683301756","html_url":"https://github.com/apache/helix/pull/1329#issuecomment-683301756","issue_url":"https://api.github.com/repos/apache/helix/issues/1329","id":683301756,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzMwMTc1Ng==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-29T14:59:03Z","updated_at":"2020-08-29T14:59:03Z","author_association":"NONE","body":"This PR is ready to be merged.\r\n\r\nFinal commit message:\r\nContinue pipeline if currentState is null\r\n\r\nIn this commit, if controller encounters null currentStates, it will\r\ncontinue the pipeline and TaskSchedulingStage. Also such \r\ncurrentState would not count toward the quota.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/683301756/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/684146206","html_url":"https://github.com/apache/helix/pull/1332#issuecomment-684146206","issue_url":"https://api.github.com/repos/apache/helix/issues/1332","id":684146206,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDE0NjIwNg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T02:00:51Z","updated_at":"2020-09-01T02:00:51Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @kaisun2000 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/684146206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/684941020","html_url":"https://github.com/apache/helix/issues/1319#issuecomment-684941020","issue_url":"https://api.github.com/repos/apache/helix/issues/1319","id":684941020,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDk0MTAyMA==","user":{"login":"brentwritescode","id":33364712,"node_id":"MDQ6VXNlcjMzMzY0NzEy","avatar_url":"https://avatars.githubusercontent.com/u/33364712?v=4","gravatar_id":"","url":"https://api.github.com/users/brentwritescode","html_url":"https://github.com/brentwritescode","followers_url":"https://api.github.com/users/brentwritescode/followers","following_url":"https://api.github.com/users/brentwritescode/following{/other_user}","gists_url":"https://api.github.com/users/brentwritescode/gists{/gist_id}","starred_url":"https://api.github.com/users/brentwritescode/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brentwritescode/subscriptions","organizations_url":"https://api.github.com/users/brentwritescode/orgs","repos_url":"https://api.github.com/users/brentwritescode/repos","events_url":"https://api.github.com/users/brentwritescode/events{/privacy}","received_events_url":"https://api.github.com/users/brentwritescode/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T15:31:33Z","updated_at":"2020-09-01T15:31:33Z","author_association":"CONTRIBUTOR","body":"Just as a quick follow-up, that seemingly innocuous change causes one of the annotation-oriented unit tests to fail in Java 8, so I need to figure out what's up with that before I submit the PR.\r\n\r\nDo you happen to have any instructions for contributors anywhere so I can make sure I'm properly testing and doing whatever else needs doing before I submit?  Thanks!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/684941020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/684998974","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-684998974","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":684998974,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NDk5ODk3NA==","user":{"login":"lei-xia","id":9325494,"node_id":"MDQ6VXNlcjkzMjU0OTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9325494?v=4","gravatar_id":"","url":"https://api.github.com/users/lei-xia","html_url":"https://github.com/lei-xia","followers_url":"https://api.github.com/users/lei-xia/followers","following_url":"https://api.github.com/users/lei-xia/following{/other_user}","gists_url":"https://api.github.com/users/lei-xia/gists{/gist_id}","starred_url":"https://api.github.com/users/lei-xia/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lei-xia/subscriptions","organizations_url":"https://api.github.com/users/lei-xia/orgs","repos_url":"https://api.github.com/users/lei-xia/repos","events_url":"https://api.github.com/users/lei-xia/events{/privacy}","received_events_url":"https://api.github.com/users/lei-xia/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T16:56:53Z","updated_at":"2020-09-01T16:56:53Z","author_association":"MEMBER","body":"Are we going to add HelixAdmin API changes to this PR?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/684998974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/685000167","html_url":"https://github.com/apache/helix/issues/1319#issuecomment-685000167","issue_url":"https://api.github.com/repos/apache/helix/issues/1319","id":685000167,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTAwMDE2Nw==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T16:58:43Z","updated_at":"2020-09-01T16:58:43Z","author_association":"CONTRIBUTOR","body":"Some general logistics are documented in https://github.com/apache/helix/wiki on the right sidebar.\r\n\r\nAs for running tests, we follow standard practices for maven projects. There are some failing tests though, so what we want to do is\r\n\r\n1. Build the project at the top-level project path (where the parent pom.xml is): mvn clean install package -DskipTests\r\n2. Run tests for separate modules (e.g. /helix-core, /zookeeper-api, /helix-rest, /helix-common, etc)\r\nUsually these 4 modules cover everything. Other modules have some failing tests, so I wouldn't be too concerned about those.\r\n\r\nWith the exception of /helix-core, you should see all tests pass. For helix-core, we see as many as 3-4 failing tests depending on the machine (we are currently trying to stabilize tests). At that point, we run these tests individually using the following mvn command:\r\nmvn test -Dtest=<your test name>\r\n\r\nUsually when the failed tests are run individually, they pass. If they don't that means something went wrong.\r\n\r\nIt would also be helpful for us to know which tests are failing exactly as well. You could document that in your pull request draft as well.\r\n\r\nIf this is helpful, you're more than welcome to add this piece of information on the wiki page sidebar for future contributors. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/685000167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/685003252","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-685003252","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":685003252,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTAwMzI1Mg==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-01T17:03:23Z","updated_at":"2020-09-01T17:03:23Z","author_association":"CONTRIBUTOR","body":"> Are we going to add HelixAdmin API changes to this PR?\r\n\r\nI plan to add in next PR. This one will have complete logic for trie topology. Admin API should be straightforward.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/685003252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/685286268","html_url":"https://github.com/apache/helix/issues/1336#issuecomment-685286268","issue_url":"https://api.github.com/repos/apache/helix/issues/1336","id":685286268,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTI4NjI2OA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T04:24:51Z","updated_at":"2020-09-02T04:24:51Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 One more flaky test run on GitHub :) If you have time, feel free to tackle it.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/685286268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/685822562","html_url":"https://github.com/apache/helix/pull/1335#issuecomment-685822562","issue_url":"https://api.github.com/repos/apache/helix/issues/1335","id":685822562,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTgyMjU2Mg==","user":{"login":"narendly","id":10107095,"node_id":"MDQ6VXNlcjEwMTA3MDk1","avatar_url":"https://avatars.githubusercontent.com/u/10107095?v=4","gravatar_id":"","url":"https://api.github.com/users/narendly","html_url":"https://github.com/narendly","followers_url":"https://api.github.com/users/narendly/followers","following_url":"https://api.github.com/users/narendly/following{/other_user}","gists_url":"https://api.github.com/users/narendly/gists{/gist_id}","starred_url":"https://api.github.com/users/narendly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/narendly/subscriptions","organizations_url":"https://api.github.com/users/narendly/orgs","repos_url":"https://api.github.com/users/narendly/repos","events_url":"https://api.github.com/users/narendly/events{/privacy}","received_events_url":"https://api.github.com/users/narendly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T15:43:21Z","updated_at":"2020-09-02T15:43:21Z","author_association":"CONTRIBUTOR","body":"What is actually running? I don't see any test runs triggered?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/685822562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/685895016","html_url":"https://github.com/apache/helix/pull/1326#issuecomment-685895016","issue_url":"https://api.github.com/repos/apache/helix/issues/1326","id":685895016,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTg5NTAxNg==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T17:45:39Z","updated_at":"2020-09-02T17:45:39Z","author_association":"NONE","body":"@NealSun96 Thanks for your PR. I think the PR is in good shape now. Can you please add an integration test for resource to drop? That can conclude this PR. In the meanwhile, I will review the code again. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/685895016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/685897832","html_url":"https://github.com/apache/helix/pull/1335#issuecomment-685897832","issue_url":"https://api.github.com/repos/apache/helix/issues/1335","id":685897832,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTg5NzgzMg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T17:51:15Z","updated_at":"2020-09-02T17:51:15Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/helix/runs/1058434511?check_suite_focus=true\r\n\r\nSee this one. With this change, the test can finish within 2 hours without OutOfMemory issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/685897832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/685936146","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-685936146","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":685936146,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTkzNjE0Ng==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T19:01:40Z","updated_at":"2020-09-02T19:01:40Z","author_association":"CONTRIBUTOR","body":"> Are we going to add HelixAdmin API changes to this PR?\r\n\r\n@lei-xia I tried to add Helix admin related code in one PR. It would double the PR size, considering all the test cases. I feel it'll make the PR too huge for review purpose. Still think we should separate them. One is for the underlying logic, and the other for user facing API. What do you think?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/685936146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686220808","html_url":"https://github.com/apache/helix/pull/1342#issuecomment-686220808","issue_url":"https://api.github.com/repos/apache/helix/issues/1342","id":686220808,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjIyMDgwOA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T03:03:02Z","updated_at":"2020-09-03T03:03:02Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm \r\nFinal commit message:\r\nClean up instance validation logic and test.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686220808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686273407","html_url":"https://github.com/apache/helix/pull/1340#issuecomment-686273407","issue_url":"https://api.github.com/repos/apache/helix/issues/1340","id":686273407,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjI3MzQwNw==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T06:01:12Z","updated_at":"2020-09-03T06:01:12Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @pkuwm \r\nFinal commit message:\r\nReturn \"name\" field as VM name in Azure cloud environment\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686273407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686664967","html_url":"https://github.com/apache/helix/pull/736#issuecomment-686664967","issue_url":"https://api.github.com/repos/apache/helix/issues/736","id":686664967,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjY2NDk2Nw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T18:16:52Z","updated_at":"2020-09-03T18:16:52Z","author_association":"CONTRIBUTOR","body":"@narendly if this PR is not intended to be merged now, could you please close it?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686664967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686667968","html_url":"https://github.com/apache/helix/pull/1335#issuecomment-686667968","issue_url":"https://api.github.com/repos/apache/helix/issues/1335","id":686667968,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjY2Nzk2OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T18:22:45Z","updated_at":"2020-09-03T18:22:45Z","author_association":"CONTRIBUTOR","body":"This diff is approved, please help to merge into trunk.\r\n\r\n> Github run of helix-core can't be finished recently\r\ndue to out of memory issue. This config change hopefully fix\r\nthis issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686667968/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686761013","html_url":"https://github.com/apache/helix/pull/1206#issuecomment-686761013","issue_url":"https://api.github.com/repos/apache/helix/issues/1206","id":686761013,"node_id":"MDEyOklzc3VlQ29tbWVudDY4Njc2MTAxMw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T20:57:13Z","updated_at":"2020-09-03T20:57:13Z","author_association":"CONTRIBUTOR","body":"@pkuwm Please update here if you have notified the Helix community about this proposal. So I can approve it if no one has concern about the plan.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686761013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686817608","html_url":"https://github.com/apache/helix/issues/1289#issuecomment-686817608","issue_url":"https://api.github.com/repos/apache/helix/issues/1289","id":686817608,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjgxNzYwOA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T23:38:43Z","updated_at":"2020-09-03T23:38:43Z","author_association":"CONTRIBUTOR","body":"// Note, the starting tasks messages are send out at the same time.\r\n    // There is no guarante only one task would fail. In fact 5 tasks run in parallel in\r\n    // 5 instances. There can be multiple task failing.\r\n    Assert.assertTrue(abortedTask <= 4);\r\n    Assert.assertEquals(_runCounts.size(), 5);","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686817608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686817720","html_url":"https://github.com/apache/helix/pull/1346#issuecomment-686817720","issue_url":"https://api.github.com/repos/apache/helix/issues/1346","id":686817720,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjgxNzcyMA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T23:39:05Z","updated_at":"2020-09-03T23:39:05Z","author_association":"CONTRIBUTOR","body":"Thanks for the effort to stabilize this test. A related question:\r\n\r\n #1278 TestEnqueueJobs.testQueueJobsMaxCapacity, and #1310 TestEnqueueJobs.testJobQueueAddingJobsAtSametime are also not stable sometimes. They timed out. Do they share similar root cause?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686817720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686819327","html_url":"https://github.com/apache/helix/pull/1346#issuecomment-686819327","issue_url":"https://api.github.com/repos/apache/helix/issues/1346","id":686819327,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjgxOTMyNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-03T23:45:06Z","updated_at":"2020-09-03T23:45:06Z","author_association":"CONTRIBUTOR","body":"Also, you may need this config change to let github to finish mvn test; \r\nhttps://github.com/apache/helix/pull/1335","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686819327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686831347","html_url":"https://github.com/apache/helix/pull/1348#issuecomment-686831347","issue_url":"https://api.github.com/repos/apache/helix/issues/1348","id":686831347,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjgzMTM0Nw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T00:28:31Z","updated_at":"2020-09-04T00:28:31Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @kaisun2000 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686831347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/686920167","html_url":"https://github.com/apache/helix/issues/1333#issuecomment-686920167","issue_url":"https://api.github.com/repos/apache/helix/issues/1333","id":686920167,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjkyMDE2Nw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-04T05:37:34Z","updated_at":"2020-09-04T05:37:34Z","author_association":"CONTRIBUTOR","body":"Duplicate with #1343 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/686920167/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/689199328","html_url":"https://github.com/apache/helix/pull/1354#issuecomment-689199328","issue_url":"https://api.github.com/repos/apache/helix/issues/1354","id":689199328,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTE5OTMyOA==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T23:59:42Z","updated_at":"2020-09-08T23:59:42Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge, approved by @pkuwm \r\nFinal commit message: \r\nFix Helix agent doc command error.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/689199328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/689896086","html_url":"https://github.com/apache/helix/pull/1328#issuecomment-689896086","issue_url":"https://api.github.com/repos/apache/helix/issues/1328","id":689896086,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTg5NjA4Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T00:29:00Z","updated_at":"2020-09-10T00:29:00Z","author_association":"CONTRIBUTOR","body":"> Many tests (especially WAGED tests) are using StrictMatchExternalViewVerifier. We need to do the same for that too.\r\n> \r\n> Overall, my suggestion is still to add waiting to the specific test case where need it. This generic cooling down logic does not look reasonable to me. The cooldown shall be with the test logic.\r\n> \r\n> One alternative way is that we add a parameter to the verify method that you can specify a cooldown in the caller logic. Could you please consider this solution?\r\n\r\nI did a search of places using `verifyByPolling()`. There are between 150 to 200 places. \r\n\r\nSo shall we have another one called as the following?\r\n\r\n```\r\npublic boolean verifyByPolling(long timeout, long period, long cooldown) {\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/689896086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/689898062","html_url":"https://github.com/apache/helix/pull/1351#issuecomment-689898062","issue_url":"https://api.github.com/repos/apache/helix/issues/1351","id":689898062,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTg5ODA2Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T00:34:59Z","updated_at":"2020-09-10T00:34:59Z","author_association":"CONTRIBUTOR","body":"Do we know why this task test fails? TestRecurringJobQueue.stopDeleteJobAndResumeRecurrentQueue","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/689898062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/689914790","html_url":"https://github.com/apache/helix/pull/1351#issuecomment-689914790","issue_url":"https://api.github.com/repos/apache/helix/issues/1351","id":689914790,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTkxNDc5MA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T01:25:11Z","updated_at":"2020-09-10T01:25:11Z","author_association":"NONE","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/689914790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/689915528","html_url":"https://github.com/apache/helix/pull/1351#issuecomment-689915528","issue_url":"https://api.github.com/repos/apache/helix/issues/1351","id":689915528,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTkxNTUyOA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T01:27:24Z","updated_at":"2020-09-10T01:27:24Z","author_association":"NONE","body":"> Do we know why this task test fails? TestRecurringJobQueue.stopDeleteJobAndResumeRecurrentQueue\r\n\r\nNo, I don't know. It can be investigated. I think this test might be unstable. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/689915528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/691311823","html_url":"https://github.com/apache/helix/pull/1328#issuecomment-691311823","issue_url":"https://api.github.com/repos/apache/helix/issues/1328","id":691311823,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTMxMTgyMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T21:05:46Z","updated_at":"2020-09-11T21:05:46Z","author_association":"CONTRIBUTOR","body":"This diff is approve, please help to merge into trunk.\r\n\r\n>TestBestPossibleExternalViewVerifier would have a default COOL_DOWN period\r\nbefore verifyByPolling. Due to #526, currently we have randow sleep in the\r\ntest before verifyByPolling. We intend to use TestBestPossibeVerifier\r\ninstead in our unit test. While keep using BestPossibleExternalViewVerifier\r\nin production code.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/691311823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/691374998","html_url":"https://github.com/apache/helix/pull/1328#issuecomment-691374998","issue_url":"https://api.github.com/repos/apache/helix/issues/1328","id":691374998,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTM3NDk5OA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T01:22:26Z","updated_at":"2020-09-12T01:24:18Z","author_association":"CONTRIBUTOR","body":"> This diff is approve, please help to merge into trunk.\r\n> \r\n> > TestBestPossibleExternalViewVerifier would have a default COOL_DOWN period\r\n> > before verifyByPolling. Due to #526, currently we have randow sleep in the\r\n> > test before verifyByPolling. We intend to use TestBestPossibeVerifier\r\n> > instead in our unit test. While keep using BestPossibleExternalViewVerifier\r\n> > in production code.\r\n\r\n@kaisun2000 please update the comment, it has diverged from the code change quite a lot. Please do take care of the final comment message, once it is in, we don't have a way to modify except reverting the PR.\r\n\r\nThere are good reasons that we request the author to confirm the final message, instead of just copy-paste from the PR description. And the author should not copy-paste either.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/691374998/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/691379732","html_url":"https://github.com/apache/helix/pull/1328#issuecomment-691379732","issue_url":"https://api.github.com/repos/apache/helix/issues/1328","id":691379732,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTM3OTczMg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T01:49:37Z","updated_at":"2020-09-12T01:49:37Z","author_association":"CONTRIBUTOR","body":"Good point. I did not realize the previous commit message not applying anymore. Let me update it.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/691379732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/691380665","html_url":"https://github.com/apache/helix/pull/1328#issuecomment-691380665","issue_url":"https://api.github.com/repos/apache/helix/issues/1328","id":691380665,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTM4MDY2NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T01:55:17Z","updated_at":"2020-09-12T01:55:17Z","author_association":"CONTRIBUTOR","body":"This diff is approved, please help to merge.\r\n\r\n> Due to #526, currently we have random sleep() in the test before verifyByPolling().\r\nThis cause test failure in different environment. Here we enhance ZKHelixVerifier\r\nfamily with an option in builder to add a waiting period. To keep it backward\r\ncompatible, without enable this waiting option, the code would behave exactly the\r\nsame as before.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/691380665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/692289722","html_url":"https://github.com/apache/helix/pull/1326#issuecomment-692289722","issue_url":"https://api.github.com/repos/apache/helix/issues/1326","id":692289722,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjI4OTcyMg==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T20:16:43Z","updated_at":"2020-09-14T20:16:43Z","author_association":"CONTRIBUTOR","body":"> Code looks good to me.\r\n> \r\n> But do you want to keep some test logic to verify that IS does NOT exist anymore even the jobs are running normally? Or do we already have a test case about it?\r\n\r\nAfter an offline discussion, we came to the conclusion that writing a test for feature removal is awkward and tricky to do right, and therefore it's not worth the effort at this moment. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/692289722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/692323898","html_url":"https://github.com/apache/helix/pull/1326#issuecomment-692323898","issue_url":"https://api.github.com/repos/apache/helix/issues/1326","id":692323898,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjMyMzg5OA==","user":{"login":"NealSun96","id":18000949,"node_id":"MDQ6VXNlcjE4MDAwOTQ5","avatar_url":"https://avatars.githubusercontent.com/u/18000949?v=4","gravatar_id":"","url":"https://api.github.com/users/NealSun96","html_url":"https://github.com/NealSun96","followers_url":"https://api.github.com/users/NealSun96/followers","following_url":"https://api.github.com/users/NealSun96/following{/other_user}","gists_url":"https://api.github.com/users/NealSun96/gists{/gist_id}","starred_url":"https://api.github.com/users/NealSun96/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/NealSun96/subscriptions","organizations_url":"https://api.github.com/users/NealSun96/orgs","repos_url":"https://api.github.com/users/NealSun96/repos","events_url":"https://api.github.com/users/NealSun96/events{/privacy}","received_events_url":"https://api.github.com/users/NealSun96/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T21:27:34Z","updated_at":"2020-09-14T21:28:07Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\nFinal commit message:\r\n## Remove IdealState Dependency from Task Framework ##\r\nThis PR removes IdealState usage from Task Framework. The participant-side no longer creates IdealState when workflows/jobs are created. The controller-side no longer reads IdealState to create resources for Task Framework. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/692323898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/692870429","html_url":"https://github.com/apache/helix/pull/1359#issuecomment-692870429","issue_url":"https://api.github.com/repos/apache/helix/issues/1359","id":692870429,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg3MDQyOQ==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:41:55Z","updated_at":"2020-09-15T17:41:55Z","author_association":"CONTRIBUTOR","body":"This PR has been approved and ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/692870429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/692905522","html_url":"https://github.com/apache/helix/issues/1299#issuecomment-692905522","issue_url":"https://api.github.com/repos/apache/helix/issues/1299","id":692905522,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkwNTUyMg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T18:49:00Z","updated_at":"2020-09-15T18:49:00Z","author_association":"CONTRIBUTOR","body":"```\r\n  // Re-enable custom-code runner\r\n    admin.enableResource(clusterName, customCodeRunnerResource, true);\r\n    ClusterStateVerifier.BestPossAndExtViewZkVerifier\r\n        verifier = new ClusterStateVerifier.BestPossAndExtViewZkVerifier(ZK_ADDR, clusterName);\r\n    try {\r\n      result = ClusterStateVerifier.verifyByPolling(verifier, TestHelper.WAIT_DURATION);\r\n      Assert.assertTrue(result);\r\n    } finally {\r\n      verifier.close();\r\n    }\r\n```\r\n\r\nThis seems a typical case without waiting before verifyByPolling, the verification can be too early.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/692905522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/692920412","html_url":"https://github.com/apache/helix/issues/1310#issuecomment-692920412","issue_url":"https://api.github.com/repos/apache/helix/issues/1310","id":692920412,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkyMDQxMg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:10:17Z","updated_at":"2020-09-15T19:10:17Z","author_association":"CONTRIBUTOR","body":"#1346 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/692920412/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/692922038","html_url":"https://github.com/apache/helix/issues/1290#issuecomment-692922038","issue_url":"https://api.github.com/repos/apache/helix/issues/1290","id":692922038,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkyMjAzOA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:13:26Z","updated_at":"2020-09-15T19:13:26Z","author_association":"CONTRIBUTOR","body":"#1346 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/692922038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/692922804","html_url":"https://github.com/apache/helix/issues/1278#issuecomment-692922804","issue_url":"https://api.github.com/repos/apache/helix/issues/1278","id":692922804,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjkyMjgwNA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T19:14:55Z","updated_at":"2020-09-15T19:14:55Z","author_association":"CONTRIBUTOR","body":"#1346 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/692922804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693104588","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-693104588","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":693104588,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzEwNDU4OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:49:03Z","updated_at":"2020-09-16T01:06:19Z","author_association":"CONTRIBUTOR","body":"one more time: log 907\r\n\r\n>2020-09-15T23:51:12.8993411Z [ERROR] Tests run: 1197, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 4,741.919 s <<< FAILURE! - in TestSuite\r\n2020-09-15T23:51:12.8995084Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 300.038 s  <<< FAILURE!\r\n2020-09-15T23:51:12.8996657Z java.lang.AssertionError: expected:< true > but was:< false> \r\n2020-09-15T23:51:12.8998840Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:438)\r\n2020-09-15T23:51:12.9000831Z \r\n2020-09-15T23:51:13.2757259Z [ERROR] Failures: \r\n2020-09-15T23:51:13.2760957Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:438 expected:<true> but was:<false>\r\n2020-09-15T23:51:13.2764093Z [ERROR] Tests run: 1197, Failures: 1, Errors: 0, Skipped: 1","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693104588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693105493","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-693105493","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":693105493,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzEwNTQ5Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T00:52:41Z","updated_at":"2020-09-17T00:04:20Z","author_association":"CONTRIBUTOR","body":"another time: log 910\r\n\r\n> 2020-09-16T00:02:24.5744481Z [ERROR] Tests run: 1197, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 5,053.729 s <<< FAILURE! - in TestSuite\r\n2020-09-16T00:02:24.5756583Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 300.064 s  <<< FAILURE!\r\n2020-09-16T00:02:24.5762923Z java.lang.AssertionError: expected:< true > but was:< false >\r\n2020-09-16T00:02:24.5774608Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:438)\r\n2020-09-16T00:02:24.5778019Z \r\n2020-09-16T00:02:24.9729877Z [ERROR] Failures: \r\n2020-09-16T00:02:24.9732038Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:438 expected:< true > but was:< false >\r\n2020-09-16T00:02:24.9735460Z [ERROR] Tests run: 1197, Failures: 1, Errors: 0, Skipped: 1\r\n2020-09-16T00:02:24.9803925Z [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project helix-core: There are test failures.\r\n2020-09-16T00:02:24.9816989Z [ERROR] ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693105493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693109892","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-693109892","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":693109892,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzEwOTg5Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T01:08:27Z","updated_at":"2020-09-16T01:08:27Z","author_association":"CONTRIBUTOR","body":"increase time out as now verify would timeout in 5 mintues by default.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693109892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693152204","html_url":"https://github.com/apache/helix/pull/1346#issuecomment-693152204","issue_url":"https://api.github.com/repos/apache/helix/issues/1346","id":693152204,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE1MjIwNA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T03:46:37Z","updated_at":"2020-09-16T03:49:08Z","author_association":"NONE","body":"This PR is ready to be merged.\r\n\r\nFinal commit message:\r\nIn this commit, TestEnqueueJobs has been stabilized by stopping\r\nthe queue before enqueuing a job and resuming it afterward.\r\nAlso, instead of adding the jobs one by one, the batch job addition\r\nhas been used.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693152204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693747726","html_url":"https://github.com/apache/helix/issues/1366#issuecomment-693747726","issue_url":"https://api.github.com/repos/apache/helix/issues/1366","id":693747726,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc0NzcyNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T01:10:31Z","updated_at":"2020-09-17T01:10:31Z","author_association":"CONTRIBUTOR","body":"one more time log 920\r\n\r\nJJ's run of https://github.com/apache/helix/actions/runs/258005394\r\n\r\n> 2020-09-16T19:31:09.2227015Z [ERROR]   TestTaskRebalancerStopResume.stopAndDeleteQueue  ThreadTimeout Method org.tes...\r\n\r\n>2020-09-16T19:31:08.8217659Z [ERROR] stopAndDeleteQueue(org.apache.helix.integration.task.TestTaskRebalancerStopResume)  Time elapsed: 300.001 s  <<< FAILURE!\r\n2020-09-16T19:31:08.8230771Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.stopAndDeleteQueue() didn't finish within the time-out 300000","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693747726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693767090","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-693767090","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":693767090,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc2NzA5MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T02:18:34Z","updated_at":"2020-09-17T02:18:34Z","author_association":"CONTRIBUTOR","body":"log 930 first batch of waitTillVerify\r\n>2020-09-17T01:20:49.7767264Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:437  ThreadTimeout Method org.t...\r\n\r\ncode \r\n\r\n```\r\n  public void testResetSnapshots() {\r\n    // ensure the cluster converged before the test to ensure IS is not modified unexpectedly\r\n    ZkHelixClusterVerifier _clusterVerifier =\r\n        new StrictMatchExternalViewVerifier.Builder(CLUSTER_NAME).setZkAddress(ZK_ADDR)\r\n            .setDeactivatedNodeAwareness(true)\r\n            .setResources(new HashSet<>(_dataAccessor.getChildNames(_keyBuilder.idealStates())))\r\n            .setWaitTillVerify(TestHelper.DEFAULT_REBALANCE_PROCESSING_WAIT_TIME)\r\n            .build();\r\n    try {\r\n      boolean result = _clusterVerifier.verify(WAIT_TIME);   ----- this line.\r\n      Assert.assertTrue(result);\r\n    } finally {\r\n      _clusterVerifier.close();\r\n    }\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693767090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693785200","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-693785200","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":693785200,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc4NTIwMA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T03:24:15Z","updated_at":"2020-09-17T03:24:15Z","author_association":"CONTRIBUTOR","body":"2020-09-17T01:20:49.3991835Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 1,800.007 s  <<< FAILURE!\r\n2020-09-17T01:20:49.3995272Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testResetSnapshots() didn't finish within the time-out 1800000\r\n2020-09-17T01:20:49.3999251Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:437)\r\n2020-09-17T01:20:49.4001707Z \r\n2020-09-17T01:20:49.4003183Z [ERROR] ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693785200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693794023","html_url":"https://github.com/apache/helix/issues/1368#issuecomment-693794023","issue_url":"https://api.github.com/repos/apache/helix/issues/1368","id":693794023,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzc5NDAyMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T04:00:02Z","updated_at":"2020-09-17T04:00:02Z","author_association":"CONTRIBUTOR","body":"#1365 \r\n\r\nIs it the same root cause? @alirezazamani ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693794023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/693818817","html_url":"https://github.com/apache/helix/issues/1299#issuecomment-693818817","issue_url":"https://api.github.com/repos/apache/helix/issues/1299","id":693818817,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzgxODgxNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T04:34:22Z","updated_at":"2020-09-17T04:34:22Z","author_association":"CONTRIBUTOR","body":"second issue:\r\n\r\n>2020-09-17T03:50:18.5157922Z [ERROR] test(org.apache.helix.integration.TestDisableCustomCodeRunner)  Time elapsed: 3.475 s  <<< FAILURE!\r\n2020-09-17T03:50:18.5159810Z java.lang.AssertionError: expected:<false> but was:<true>\r\n2020-09-17T03:50:18.5161652Z \tat org.apache.helix.integration.TestDisableCustomCodeRunner.test(TestDisableCustomCodeRunner.java:236)\r\n2020-09-17T03:50:18.5163211Z \r\n2020\r\n\r\n\r\ncode:\r\n```\r\n  for (String instance : callbacks.keySet()) {\r\n      DummyCallback callback = callbacks.get(instance);\r\n      if (instance.equals(leader)) {\r\n        Assert.assertTrue(callback.isInitTypeInvoked());\r\n      } else {\r\n        Assert.assertFalse(callback.isInitTypeInvoked());  --> \r\n      }\r\n      callback.reset();\r\n\r\n```\r\n\r\nThe question boils down why the assertion should be right? Let us disable it for now.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693818817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]