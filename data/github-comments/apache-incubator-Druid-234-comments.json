[{"url":"https://api.github.com/repos/apache/druid/issues/comments/482737478","html_url":"https://github.com/apache/druid/pull/7464#issuecomment-482737478","issue_url":"https://api.github.com/repos/apache/druid/issues/7464","id":482737478,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjczNzQ3OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T22:04:56Z","updated_at":"2019-04-12T22:04:56Z","author_association":"CONTRIBUTOR","body":"It seems like `compact()` would work on UpdateDoublesSketch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482737478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482747649","html_url":"https://github.com/apache/druid/issues/6814#issuecomment-482747649","issue_url":"https://api.github.com/repos/apache/druid/issues/6814","id":482747649,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc0NzY0OQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T23:00:14Z","updated_at":"2019-04-12T23:00:14Z","author_association":"CONTRIBUTOR","body":"@Dylan1312 \r\nOk, this is helpful, and thank you for performing these experiments!\r\n\r\n1) The Druid HLL sketch has a fixed size of LgK = 11.  So in all fairness, we should be using the same size / accuracy parameter for both sketches.  This will make the merge time for the DS-HLL sketch a little bit slower still.\r\n\r\n2) The HLL8 configuration should be the fastest of the three and HLL4 the slowest. But the HLL4 is the smallest (similar in size to the Druid-HLL) and HLL8 is twice the size.\r\n\r\n3) The DS-HLL sketch does not take ByteBuffer directly, so more than likely there is a step that performs a Memory.wrap(ByteBuffer, ByteOrder) and then passes it to the sketch that performs the HllSketch.wrap(Memory).  This wrap is just a read-only view into the ByteBuffer.  Our friend Leventov wants to eventually replace ByteBuffer with Memory and at that point the extra conversion will be unnecessary and will save time.\r\n\r\n4) There is another subtle difference between the DS-HLL and the Druid-HLL in that the DS-HLL was designed to grow gradually in its use of memory.  I.e., it starts out in sparse mode and then grows gradually until it converts to dense mode.  Meanwhile, the Druid-HLL starts full size.  It only uses sparse representation when exporting the sketch.  This might give the Druid-HLL a speed advantage on merge, but I have not characterized that to see if it really does.  Nonetheless, when I have some time, I would like to do an experiment and see if I added the capability for the DS-HLL sketch to also start full-size, that it might improve the merge performance.  \r\n\r\n5) The DS-HLL sketch also has the capability to not only operate with different LgKs, but the Union also allows merging between different LgKs and types: HLL4,6,8. So it is potentially doing a lot more work.  \r\n\r\nFinally, I'm not surprised that it is a little slower than the Druid-HLL sketch, but at least you can be guaranteed that it will produce results within the specified confidence bounds.  The Druid-HLL sketch is already known to produce huge errors under certain conditions and with no warning.  \r\n\r\nAfter all, what is speed worth if you can't rely on it to produce correct results?  :)\r\n\r\nCheers,\r\nLee.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482747649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482749937","html_url":"https://github.com/apache/druid/pull/7464#issuecomment-482749937","issue_url":"https://api.github.com/repos/apache/druid/issues/7464","id":482749937,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc0OTkzNw==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T23:13:51Z","updated_at":"2019-04-12T23:13:51Z","author_association":"CONTRIBUTOR","body":"I updated this to use `compact()` and added a note on mutability of return objects for BufferAggregator.get()","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482749937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482753395","html_url":"https://github.com/apache/druid/issues/4032#issuecomment-482753395","issue_url":"https://api.github.com/repos/apache/druid/issues/4032","id":482753395,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc1MzM5NQ==","user":{"login":"yurmix","id":1529282,"node_id":"MDQ6VXNlcjE1MjkyODI=","avatar_url":"https://avatars.githubusercontent.com/u/1529282?v=4","gravatar_id":"","url":"https://api.github.com/users/yurmix","html_url":"https://github.com/yurmix","followers_url":"https://api.github.com/users/yurmix/followers","following_url":"https://api.github.com/users/yurmix/following{/other_user}","gists_url":"https://api.github.com/users/yurmix/gists{/gist_id}","starred_url":"https://api.github.com/users/yurmix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurmix/subscriptions","organizations_url":"https://api.github.com/users/yurmix/orgs","repos_url":"https://api.github.com/users/yurmix/repos","events_url":"https://api.github.com/users/yurmix/events{/privacy}","received_events_url":"https://api.github.com/users/yurmix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T23:37:18Z","updated_at":"2019-04-12T23:37:18Z","author_association":"CONTRIBUTOR","body":"> @yurmix for multi-value lookups, would you be thinking about extending the lookup framework to support multiple values for the same key? Or avoiding the lookup framework entirely?\r\n\r\nI was thinking of replacing lookups with joins for cases where multi-valued lookups are necessary. This means that the dimension key is single-valued and the dimension value is multi-valued.\r\nBut after some thought, I don't think joins of multi-valued dimensions can be supported. A multi-valued attribute is not part of the relational model. It is a NoSQL concept. And in Druid, it is implemented as part of the data storage layer (segment), which decodes/encodes it in processing and query time.\r\n\r\nOther thoughts:\r\n* I think both datasource join and QTL could be interpreted with the same SQL syntax (A lookup would just need to be treated as a virtual datasource). \r\n* Over time, dimension datasources could be a better choice vs QTL in many cases, as they would leverage more solid mechanism of ingestion and caching.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482753395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482754776","html_url":"https://github.com/apache/druid/issues/7423#issuecomment-482754776","issue_url":"https://api.github.com/repos/apache/druid/issues/7423","id":482754776,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc1NDc3Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T23:47:22Z","updated_at":"2019-04-12T23:47:22Z","author_association":"CONTRIBUTOR","body":"Hmm, isn't it being used in `ParallelIndexSubTask.run()`?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482754776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482755973","html_url":"https://github.com/apache/druid/issues/6834#issuecomment-482755973","issue_url":"https://api.github.com/repos/apache/druid/issues/6834","id":482755973,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc1NTk3Mw==","user":{"login":"surekhasaharan","id":13008746,"node_id":"MDQ6VXNlcjEzMDA4NzQ2","avatar_url":"https://avatars.githubusercontent.com/u/13008746?v=4","gravatar_id":"","url":"https://api.github.com/users/surekhasaharan","html_url":"https://github.com/surekhasaharan","followers_url":"https://api.github.com/users/surekhasaharan/followers","following_url":"https://api.github.com/users/surekhasaharan/following{/other_user}","gists_url":"https://api.github.com/users/surekhasaharan/gists{/gist_id}","starred_url":"https://api.github.com/users/surekhasaharan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/surekhasaharan/subscriptions","organizations_url":"https://api.github.com/users/surekhasaharan/orgs","repos_url":"https://api.github.com/users/surekhasaharan/repos","events_url":"https://api.github.com/users/surekhasaharan/events{/privacy}","received_events_url":"https://api.github.com/users/surekhasaharan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-12T23:56:17Z","updated_at":"2019-04-12T23:56:17Z","author_association":"NONE","body":"Binary protocol was not considered at the time, but it does make sense to replace json with smile format for all internal process communication in Druid and specifically for transferring published segments data here. Will definitely consider doing this in a follow-up PR. Thanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482755973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482765147","html_url":"https://github.com/apache/druid/issues/7461#issuecomment-482765147","issue_url":"https://api.github.com/repos/apache/druid/issues/7461","id":482765147,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc2NTE0Nw==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T01:32:10Z","updated_at":"2019-04-13T01:32:10Z","author_association":"CONTRIBUTOR","body":"@gianm \r\n\r\nWe have not. Nevertheless, I'm sure you know this, but these sketches are not thread-safe.  I hope that @jon-wei 's PR will solve this.  :)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482765147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482765704","html_url":"https://github.com/apache/druid/pull/6972#issuecomment-482765704","issue_url":"https://api.github.com/repos/apache/druid/issues/6972","id":482765704,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc2NTcwNA==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T01:39:55Z","updated_at":"2019-04-13T02:39:18Z","author_association":"CONTRIBUTOR","body":"@mohammadjkhan \r\n\r\n> LDAP is supposed to be source of truth for users/groups and not roles/permissions. The standard way to implement LDAP is to manage roles and permissions at the application/framework level as rules for managing roles/permissions can (and most likely will) be different from one application to another within an enterprise, and so they aren't managed within LDAP. \r\n\r\nHm, in one sense I think it would be easier from a management/configuration perspective to have the roles/permissions kept in the same area as users/groups, but wanting to separate the more application-specific roles/permissions is a valid point.\r\n\r\nRelated to that, I would suggest considering dropping support for mapping multiple roles to an LDAP group. If the LDAP authorizer is designed to map retrieved LDAP groups->Druid roles 1-to-1 (the cluster operator creates a Druid role with the same name for each LDAP group being used), then the LDAP group->role mapping system/cache propagation could be removed. Having two levels of multi-fanout mappings (user->group, then group->role) seems a bit complicated, and I don't see much of a difference between groups and roles (they're both sets of users/entities). I think it be a simpler model to understand, with potentially more duplication of roles, though depending on use case maybe more troublesome to deal with compared to the group pattern matching you have now. Let me know what you think.\r\n\r\n> The basic authenticator shares logic related to how basic auth credentials are retrieved from the http request; how those credentials are authenticated can be different, and the CredentialsValidator interface now provides a way support for more ways of validating basic auth credentials down the road.\r\n\r\nI'm not too worried about code duplication on the authenticator side, since the shared code is pretty minimal (since LDAP authentication doesn't use Druid's metadata-backed user DB and the associated caching logic), but since you plan to reuse the Druid metadata-backed roles for authorization, then I think it's fine to have them in the same extension. (Also Druid extensions currently cannot depend on other extensions due to classloader structure, longer term if we remove that restriction I think we could open some `@ExtensionPoint` interfaces in this basic security extension, in which case things that build upon the basic security ext could reside in their own extensions).\r\n\r\n> If LDAP implementations evolve over time, the changes will be only limited to LDAPCredentialsValidator in how we interact with ldap and authenticate the user.\r\n\r\nMy concern was more with \"exotic\" situations that possibly wouldn't fit into that model, since I'm not familiar with the whole space of common LDAP features/use cases, but I don't have something specific in mind presently.\r\n\r\n>To summarize some of the comments and feedbacks in this PR, and to establish a consensus/direction for next steps, the following are being adopted within this PR that I’m now working on:\r\n\r\nCan you add Nishant's comment re: CredentialsValidator (https://github.com/apache/incubator-druid/pull/6972#discussion_r270156604) to that list? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482765704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482776801","html_url":"https://github.com/apache/druid/pull/6493#issuecomment-482776801","issue_url":"https://api.github.com/repos/apache/druid/issues/6493","id":482776801,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc3NjgwMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T05:03:41Z","updated_at":"2019-04-13T05:03:41Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482776801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482776802","html_url":"https://github.com/apache/druid/pull/5739#issuecomment-482776802","issue_url":"https://api.github.com/repos/apache/druid/issues/5739","id":482776802,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc3NjgwMg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T05:03:42Z","updated_at":"2019-04-13T05:03:42Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482776802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482790886","html_url":"https://github.com/apache/druid/pull/7281#issuecomment-482790886","issue_url":"https://api.github.com/repos/apache/druid/issues/7281","id":482790886,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc5MDg4Ng==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T08:53:46Z","updated_at":"2019-04-13T08:53:46Z","author_association":"CONTRIBUTOR","body":"> @xueyumusic, thanks for looking into this. Please check out the comment on the test \"testNullStringEquality\" - what do you think?\r\n\r\nHi, @gianm , thanks a lot for review. \r\nThe plan `[CASE(=($0, 'a'), =(null, null), =($0, null))]`'s part `=($0, null)` is simplified as `unknownAs` value which is `false` [at here](https://github.com/apache/calcite/blob/branch-1.18/core/src/main/java/org/apache/calcite/rex/RexSimplify.java#L250). Since the UNKNOWN policy of equal is [ANY](https://github.com/apache/calcite/blob/branch-1.18/core/src/main/java/org/apache/calcite/plan/Strong.java#L209) so if at least one of its arguments is null [then expr value is null(unknown)](https://github.com/apache/calcite/blob/branch-1.18/core/src/main/java/org/apache/calcite/plan/Strong.java#L113).\r\nFor `=(null, null)`, `DruidRexExecutor` reduces it as True\r\n\r\nOne way might be that modify `DruidRexExecutor` to keep the same policy as calcite as following (adding strong.isNull check) \r\n```\r\n        if (sqlTypeName == SqlTypeName.BOOLEAN) {\r\n          if (strong.isNull(constExp) && constExp.getKind() == SqlKind.EQUALS) {\r\n            literal = rexBuilder.makeLiteral(false); //unknownAs is false\r\n          } else {\r\n            literal = rexBuilder.makeLiteral(exprResult.asBoolean(), constExp.getType(), true);\r\n          }\r\n        }\r\n```\r\nBut this way will reduce `=(null, null)` and `=(null, '')`(useDefaultValueForNull) as false, so the test `testEmptyStringEquality`'s result will be affected too and `=(null, null)` as false is a little counter-intuitive\r\nWhat do you think, thanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482790886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482797511","html_url":"https://github.com/apache/druid/pull/6052#issuecomment-482797511","issue_url":"https://api.github.com/repos/apache/druid/issues/6052","id":482797511,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjc5NzUxMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T10:34:28Z","updated_at":"2019-04-13T10:34:28Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482797511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482811759","html_url":"https://github.com/apache/druid/pull/7281#issuecomment-482811759","issue_url":"https://api.github.com/repos/apache/druid/issues/7281","id":482811759,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjgxMTc1OQ==","user":{"login":"xueyumusic","id":95261,"node_id":"MDQ6VXNlcjk1MjYx","avatar_url":"https://avatars.githubusercontent.com/u/95261?v=4","gravatar_id":"","url":"https://api.github.com/users/xueyumusic","html_url":"https://github.com/xueyumusic","followers_url":"https://api.github.com/users/xueyumusic/followers","following_url":"https://api.github.com/users/xueyumusic/following{/other_user}","gists_url":"https://api.github.com/users/xueyumusic/gists{/gist_id}","starred_url":"https://api.github.com/users/xueyumusic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xueyumusic/subscriptions","organizations_url":"https://api.github.com/users/xueyumusic/orgs","repos_url":"https://api.github.com/users/xueyumusic/repos","events_url":"https://api.github.com/users/xueyumusic/events{/privacy}","received_events_url":"https://api.github.com/users/xueyumusic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T14:00:39Z","updated_at":"2019-04-13T14:00:39Z","author_association":"CONTRIBUTOR","body":"It looks Calcite released 1.19.0 recently.. @gianm Do you think which way is make more sense, updating this pr to upgrade Calcite to 1.19.0 or first to 1.18.0 and then 1.19.0. Both version met the same issue discussed above..thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482811759/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482894405","html_url":"https://github.com/apache/druid/issues/7468#issuecomment-482894405","issue_url":"https://api.github.com/repos/apache/druid/issues/7468","id":482894405,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjg5NDQwNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T22:18:26Z","updated_at":"2019-04-13T22:18:26Z","author_association":"CONTRIBUTOR","body":"Is that supposed to work, according to the SQL standard? It seems like Calcite's validator is rejecting it on purpose.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482894405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482894507","html_url":"https://github.com/apache/druid/issues/7468#issuecomment-482894507","issue_url":"https://api.github.com/repos/apache/druid/issues/7468","id":482894507,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjg5NDUwNw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T22:20:25Z","updated_at":"2019-04-23T15:47:49Z","author_association":"CONTRIBUTOR","body":"It works with MySQL:\r\n```sql\r\nselect (case when datasource = 'wikipedia' then datasource else 0 end) from druid_segments limit 10;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482894507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482894846","html_url":"https://github.com/apache/druid/pull/7466#issuecomment-482894846","issue_url":"https://api.github.com/repos/apache/druid/issues/7466","id":482894846,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjg5NDg0Ng==","user":{"login":"xvrl","id":815147,"node_id":"MDQ6VXNlcjgxNTE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/815147?v=4","gravatar_id":"","url":"https://api.github.com/users/xvrl","html_url":"https://github.com/xvrl","followers_url":"https://api.github.com/users/xvrl/followers","following_url":"https://api.github.com/users/xvrl/following{/other_user}","gists_url":"https://api.github.com/users/xvrl/gists{/gist_id}","starred_url":"https://api.github.com/users/xvrl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xvrl/subscriptions","organizations_url":"https://api.github.com/users/xvrl/orgs","repos_url":"https://api.github.com/users/xvrl/repos","events_url":"https://api.github.com/users/xvrl/events{/privacy}","received_events_url":"https://api.github.com/users/xvrl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T22:27:34Z","updated_at":"2019-04-13T22:27:34Z","author_association":"MEMBER","body":"> Is this the only thing stopping us from java 9 compatibility? If so it would be good to add a Travis profile for jdk 9 too. If not, then I guess now's not the right time for that.\r\n\r\nNo, there’s a lot more to be done. This is just a first step. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482894846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482895247","html_url":"https://github.com/apache/druid/issues/7468#issuecomment-482895247","issue_url":"https://api.github.com/repos/apache/druid/issues/7468","id":482895247,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjg5NTI0Nw==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T22:35:06Z","updated_at":"2019-04-23T18:46:35Z","author_association":"CONTRIBUTOR","body":"Yes, it's in the standard **SQL92** `9.3  Set operation result data types` (http://www.contrib.andrew.cmu.edu/~shadow/sql/sql1992.txt)\r\nin short, it says the result data type should be converted if possible ~(at least PostgreSQL also supports it)~.\r\nProbably it's a **Calcite** bug, then we should watch for updates and upgrade.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482895247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482900620","html_url":"https://github.com/apache/druid/issues/7470#issuecomment-482900620","issue_url":"https://api.github.com/repos/apache/druid/issues/7470","id":482900620,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjkwMDYyMA==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-13T23:55:11Z","updated_at":"2019-04-13T23:55:11Z","author_association":"CONTRIBUTOR","body":"seeing this NPE in coordinator+overlord node:\r\n\r\n```\r\n2019-04-13 23:54:21,014 INFO o.a.d.i.c.a.LocalTaskActionClient [qtp248705782-98] Performing action for task[index_kafka_infraserver-minute_b570a1d94fb7c21_gjkmfbfd]: CheckPointDataSourceMetadataAction{supervisorId='infraserver-minute', baseSequenceName='index_kafka_infraserver-minute_b570a1d94fb7c21', taskGroupId='0', previousCheckPoint=KafkaDataSourceMetadata{SeekableStreamStartSequenceNumbers=SeekableStreamStartSequenceNumbers{stream='infraserver', partitionSequenceNumberMap={0=20249923360}, exclusivePartitions=[]}}, currentCheckPoint=KafkaDataSourceMetadata{SeekableStreamStartSequenceNumbers=SeekableStreamEndSequenceNumbers{stream='infraserver', partitionSequenceNumberMap={0=20254957211}}}}\r\n2019-04-13 23:54:21,015 INFO o.a.d.i.s.s.SeekableStreamSupervisor [qtp248705782-98] Checkpointing [KafkaDataSourceMetadata{SeekableStreamStartSequenceNumbers=SeekableStreamEndSequenceNumbers{stream='infraserver', partitionSequenceNumberMap={0=20254957211}}}] for taskGroup [0]\r\n2019-04-13 23:54:21,028 ERROR o.a.d.i.s.s.SeekableStreamSupervisor [KafkaSupervisor-infraserver-minute] SeekableStreamSupervisor[infraserver-minute] failed to handle notice: {class=org.apache.druid.indexing.seekablestream.supervisor.SeekableStreamSupervisor, exceptionType=class java.lang.NullPointerException, exceptionMessage=null, noticeClass=CheckpointNotice}\r\njava.lang.NullPointerException\r\n        at org.apache.druid.indexing.seekablestream.supervisor.SeekableStreamSupervisor$CheckpointNotice.handle(SeekableStreamSupervisor.java:380) ~[druid-indexing-service-0.14.0-incubating.jar:0.14.0-incubating]\r\n        at org.apache.druid.indexing.seekablestream.supervisor.SeekableStreamSupervisor.lambda$tryInit$3(SeekableStreamSupervisor.java:724) ~[druid-indexing-service-0.14.0-incubating.jar:0.14.0-incubating]\r\n        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) [?:1.8.0_181]\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266) [?:1.8.0_181]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [?:1.8.0_181]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [?:1.8.0_181]\r\n        at java.lang.Thread.run(Thread.java:748) [?:1.8.0_181]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482900620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482938110","html_url":"https://github.com/apache/druid/pull/6327#issuecomment-482938110","issue_url":"https://api.github.com/repos/apache/druid/issues/6327","id":482938110,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MjkzODExMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-14T09:34:28Z","updated_at":"2019-04-14T09:34:28Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482938110/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/482957230","html_url":"https://github.com/apache/druid/issues/6682#issuecomment-482957230","issue_url":"https://api.github.com/repos/apache/druid/issues/6682","id":482957230,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mjk1NzIzMA==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-14T11:52:47Z","updated_at":"2019-04-14T11:52:47Z","author_association":"CONTRIBUTOR","body":"@Tagar could you post the task spec, Indexer and MiddleManager configuration, Druid and Hadoop versions?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/482957230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483021449","html_url":"https://github.com/apache/druid/issues/7305#issuecomment-483021449","issue_url":"https://api.github.com/repos/apache/druid/issues/7305","id":483021449,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzAyMTQ0OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-14T17:19:59Z","updated_at":"2019-04-14T17:19:59Z","author_association":"CONTRIBUTOR","body":"Closed by #7372.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483021449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483062849","html_url":"https://github.com/apache/druid/pull/6979#issuecomment-483062849","issue_url":"https://api.github.com/repos/apache/druid/issues/6979","id":483062849,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzA2Mjg0OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-14T22:13:59Z","updated_at":"2019-04-14T22:13:59Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483062849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483077558","html_url":"https://github.com/apache/druid/issues/7411#issuecomment-483077558","issue_url":"https://api.github.com/repos/apache/druid/issues/7411","id":483077558,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzA3NzU1OA==","user":{"login":"love1693294577","id":21165046,"node_id":"MDQ6VXNlcjIxMTY1MDQ2","avatar_url":"https://avatars.githubusercontent.com/u/21165046?v=4","gravatar_id":"","url":"https://api.github.com/users/love1693294577","html_url":"https://github.com/love1693294577","followers_url":"https://api.github.com/users/love1693294577/followers","following_url":"https://api.github.com/users/love1693294577/following{/other_user}","gists_url":"https://api.github.com/users/love1693294577/gists{/gist_id}","starred_url":"https://api.github.com/users/love1693294577/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/love1693294577/subscriptions","organizations_url":"https://api.github.com/users/love1693294577/orgs","repos_url":"https://api.github.com/users/love1693294577/repos","events_url":"https://api.github.com/users/love1693294577/events{/privacy}","received_events_url":"https://api.github.com/users/love1693294577/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T01:21:02Z","updated_at":"2019-04-15T01:21:02Z","author_association":"NONE","body":"> Is there any data of derivativeDataSource created after you submit the superv\r\n\r\n  Yes, it has data, normal generation derivativeDataSource。\r\n\r\nMy task dimension is completely sub-dimension, no reason, no hit, and I am also very strange. How did you achieve it, can I refer to it, I see the source code and found no reason, it is where I have problems.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483077558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483114551","html_url":"https://github.com/apache/druid/issues/7187#issuecomment-483114551","issue_url":"https://api.github.com/repos/apache/druid/issues/7187","id":483114551,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzExNDU1MQ==","user":{"login":"leerho","id":12941506,"node_id":"MDQ6VXNlcjEyOTQxNTA2","avatar_url":"https://avatars.githubusercontent.com/u/12941506?v=4","gravatar_id":"","url":"https://api.github.com/users/leerho","html_url":"https://github.com/leerho","followers_url":"https://api.github.com/users/leerho/followers","following_url":"https://api.github.com/users/leerho/following{/other_user}","gists_url":"https://api.github.com/users/leerho/gists{/gist_id}","starred_url":"https://api.github.com/users/leerho/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leerho/subscriptions","organizations_url":"https://api.github.com/users/leerho/orgs","repos_url":"https://api.github.com/users/leerho/repos","events_url":"https://api.github.com/users/leerho/events{/privacy}","received_events_url":"https://api.github.com/users/leerho/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T05:42:00Z","updated_at":"2019-04-15T05:42:00Z","author_association":"CONTRIBUTOR","body":"Just to let you know I am almost done with this new Sketch .  I decided that the FUN acronym was a bit too whimsical so I have renamed it Frequent Distinct Tuples, which I think better reflects what it is doing.  Not as easy to say, I realize, but we will get used to it.  \r\n\r\nThis new Sketch is experimental still, as I don’t know how it will actually perform yet.  But it is better than nothing, at least until a better algorithm comes along :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483114551/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483208079","html_url":"https://github.com/apache/druid/pull/6768#issuecomment-483208079","issue_url":"https://api.github.com/repos/apache/druid/issues/6768","id":483208079,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzIwODA3OQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T11:07:31Z","updated_at":"2019-04-15T11:07:31Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483208079/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483248853","html_url":"https://github.com/apache/druid/pull/6702#issuecomment-483248853","issue_url":"https://api.github.com/repos/apache/druid/issues/6702","id":483248853,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzI0ODg1Mw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T13:21:56Z","updated_at":"2019-04-15T13:31:07Z","author_association":"MEMBER","body":"@egor-ryashin @kaijianding made listening fine-grained.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483248853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483250749","html_url":"https://github.com/apache/druid/pull/7466#issuecomment-483250749","issue_url":"https://api.github.com/repos/apache/druid/issues/7466","id":483250749,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzI1MDc0OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T13:27:01Z","updated_at":"2019-04-15T13:27:01Z","author_association":"CONTRIBUTOR","body":"thanks @xvrl!!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483250749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483288496","html_url":"https://github.com/apache/druid/issues/7476#issuecomment-483288496","issue_url":"https://api.github.com/repos/apache/druid/issues/7476","id":483288496,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzI4ODQ5Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T15:00:18Z","updated_at":"2019-04-15T15:00:18Z","author_association":"CONTRIBUTOR","body":"Those collections aren't taking a ton of time, so if they aren't affecting your overall performance, they might not be a big deal. If you want to try to optimize them then standard Java GC tuning techniques would apply (possibly changing the collector implementation or changing the parameters for your collector). Also updating to later Druid version might help, since we often make changes to try to improve GC behavior.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483288496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483292472","html_url":"https://github.com/apache/druid/pull/7224#issuecomment-483292472","issue_url":"https://api.github.com/repos/apache/druid/issues/7224","id":483292472,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzI5MjQ3Mg==","user":{"login":"KazuhitoT","id":6211602,"node_id":"MDQ6VXNlcjYyMTE2MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6211602?v=4","gravatar_id":"","url":"https://api.github.com/users/KazuhitoT","html_url":"https://github.com/KazuhitoT","followers_url":"https://api.github.com/users/KazuhitoT/followers","following_url":"https://api.github.com/users/KazuhitoT/following{/other_user}","gists_url":"https://api.github.com/users/KazuhitoT/gists{/gist_id}","starred_url":"https://api.github.com/users/KazuhitoT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KazuhitoT/subscriptions","organizations_url":"https://api.github.com/users/KazuhitoT/orgs","repos_url":"https://api.github.com/users/KazuhitoT/repos","events_url":"https://api.github.com/users/KazuhitoT/events{/privacy}","received_events_url":"https://api.github.com/users/KazuhitoT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T15:10:20Z","updated_at":"2019-04-15T15:10:20Z","author_association":"CONTRIBUTOR","body":"@gianm\r\nThanks for your reviewing.\r\n\r\nSummary of changes are as follows:\r\n- Replaced `protected` with `private`.\r\n- Updated `sql.md`.\r\n- Used `DruidExpression.fromFunctionCall`.\r\n- Modified tests, replaced `ClassCast Exception` with `IAE Exception`.\r\n\r\nTravis job failed but it seems to be caused by some server errors. \r\n(My Travis job works: https://travis-ci.org/KazuhitoT/incubator-druid)\r\nSo, could you restart it and confirm if it's ok?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483292472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483320485","html_url":"https://github.com/apache/druid/pull/7224#issuecomment-483320485","issue_url":"https://api.github.com/repos/apache/druid/issues/7224","id":483320485,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzMyMDQ4NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T16:18:48Z","updated_at":"2019-04-15T16:18:48Z","author_association":"CONTRIBUTOR","body":"Sure, I just restarted it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483320485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483343589","html_url":"https://github.com/apache/druid/issues/7423#issuecomment-483343589","issue_url":"https://api.github.com/repos/apache/druid/issues/7423","id":483343589,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM0MzU4OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T17:25:17Z","updated_at":"2019-04-15T17:25:17Z","author_association":"MEMBER","body":"The parameter of `ParallelIndexTuningConfig` class is not used. There is a bug in `ParallelIndexTuningConfig` constructor.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483343589/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483344766","html_url":"https://github.com/apache/druid/pull/7372#issuecomment-483344766","issue_url":"https://api.github.com/repos/apache/druid/issues/7372","id":483344766,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM0NDc2Ng==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T17:28:45Z","updated_at":"2019-04-15T17:28:45Z","author_association":"MEMBER","body":"@gianm FWIW unless there are two approvals from Druid committers, a PR should stay open for 3 working days before it can be merged, according to the last policy that was agreed upon in the community, as far as I remember.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483344766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483345239","html_url":"https://github.com/apache/druid/pull/7372#issuecomment-483345239","issue_url":"https://api.github.com/repos/apache/druid/issues/7372","id":483345239,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM0NTIzOQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T17:30:03Z","updated_at":"2019-04-15T17:30:03Z","author_association":"MEMBER","body":"Oh, the PR itself was open for more than three days. Ignore my comment.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483345239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483355885","html_url":"https://github.com/apache/druid/issues/7198#issuecomment-483355885","issue_url":"https://api.github.com/repos/apache/druid/issues/7198","id":483355885,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM1NTg4NQ==","user":{"login":"esevastyanov","id":1766814,"node_id":"MDQ6VXNlcjE3NjY4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1766814?v=4","gravatar_id":"","url":"https://api.github.com/users/esevastyanov","html_url":"https://github.com/esevastyanov","followers_url":"https://api.github.com/users/esevastyanov/followers","following_url":"https://api.github.com/users/esevastyanov/following{/other_user}","gists_url":"https://api.github.com/users/esevastyanov/gists{/gist_id}","starred_url":"https://api.github.com/users/esevastyanov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/esevastyanov/subscriptions","organizations_url":"https://api.github.com/users/esevastyanov/orgs","repos_url":"https://api.github.com/users/esevastyanov/repos","events_url":"https://api.github.com/users/esevastyanov/events{/privacy}","received_events_url":"https://api.github.com/users/esevastyanov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T17:59:03Z","updated_at":"2019-04-15T17:59:03Z","author_association":"CONTRIBUTOR","body":"`Null timestamp in input: {}` \r\n\"**{}**\" means the input is empty - there are no columns to parse.\r\nThe root cause is not the timestamp column, it's the empty input @kirkvicent ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483355885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483358766","html_url":"https://github.com/apache/druid/pull/6988#issuecomment-483358766","issue_url":"https://api.github.com/repos/apache/druid/issues/6988","id":483358766,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM1ODc2Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T18:07:30Z","updated_at":"2019-04-15T18:07:30Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483358766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483365107","html_url":"https://github.com/apache/druid/issues/7423#issuecomment-483365107","issue_url":"https://api.github.com/repos/apache/druid/issues/7423","id":483365107,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM2NTEwNw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T18:26:56Z","updated_at":"2019-04-15T18:26:56Z","author_association":"CONTRIBUTOR","body":"Thanks. Raised https://github.com/apache/incubator-druid/pull/7479.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483365107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483368808","html_url":"https://github.com/apache/druid/issues/7198#issuecomment-483368808","issue_url":"https://api.github.com/repos/apache/druid/issues/7198","id":483368808,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM2ODgwOA==","user":{"login":"esevastyanov","id":1766814,"node_id":"MDQ6VXNlcjE3NjY4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1766814?v=4","gravatar_id":"","url":"https://api.github.com/users/esevastyanov","html_url":"https://github.com/esevastyanov","followers_url":"https://api.github.com/users/esevastyanov/followers","following_url":"https://api.github.com/users/esevastyanov/following{/other_user}","gists_url":"https://api.github.com/users/esevastyanov/gists{/gist_id}","starred_url":"https://api.github.com/users/esevastyanov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/esevastyanov/subscriptions","organizations_url":"https://api.github.com/users/esevastyanov/orgs","repos_url":"https://api.github.com/users/esevastyanov/repos","events_url":"https://api.github.com/users/esevastyanov/events{/privacy}","received_events_url":"https://api.github.com/users/esevastyanov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T18:37:44Z","updated_at":"2019-04-15T18:37:44Z","author_association":"CONTRIBUTOR","body":"I'd recommend you to check avro schema and data source @kirkvicent ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483368808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483375915","html_url":"https://github.com/apache/druid/issues/7480#issuecomment-483375915","issue_url":"https://api.github.com/repos/apache/druid/issues/7480","id":483375915,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM3NTkxNQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T18:59:11Z","updated_at":"2019-04-15T18:59:11Z","author_association":"CONTRIBUTOR","body":"That doesn't look like a router:\r\n\r\n```\r\n2019-04-15 18:26:09,521 ERROR o.a.d.c.CliRealtime [main] Error when starting up.  Failing.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483375915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483378689","html_url":"https://github.com/apache/druid/issues/7480#issuecomment-483378689","issue_url":"https://api.github.com/repos/apache/druid/issues/7480","id":483378689,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzM3ODY4OQ==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T19:07:32Z","updated_at":"2019-04-15T19:07:32Z","author_association":"CONTRIBUTOR","body":"you are right. this was a config issue in our deployment script.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483378689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483412326","html_url":"https://github.com/apache/druid/pull/6988#issuecomment-483412326","issue_url":"https://api.github.com/repos/apache/druid/issues/6988","id":483412326,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQxMjMyNg==","user":{"login":"bputt","id":946047,"node_id":"MDQ6VXNlcjk0NjA0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/946047?v=4","gravatar_id":"","url":"https://api.github.com/users/bputt","html_url":"https://github.com/bputt","followers_url":"https://api.github.com/users/bputt/followers","following_url":"https://api.github.com/users/bputt/following{/other_user}","gists_url":"https://api.github.com/users/bputt/gists{/gist_id}","starred_url":"https://api.github.com/users/bputt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bputt/subscriptions","organizations_url":"https://api.github.com/users/bputt/orgs","repos_url":"https://api.github.com/users/bputt/repos","events_url":"https://api.github.com/users/bputt/events{/privacy}","received_events_url":"https://api.github.com/users/bputt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T20:47:55Z","updated_at":"2019-04-15T20:47:55Z","author_association":"NONE","body":"commenting as i'm not sure we want this to go stale or not?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483412326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483413141","html_url":"https://github.com/apache/druid/pull/6988#issuecomment-483413141","issue_url":"https://api.github.com/repos/apache/druid/issues/6988","id":483413141,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQxMzE0MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T20:50:06Z","updated_at":"2019-04-15T20:50:06Z","author_association":"CONTRIBUTOR","body":"@bputt thanks for commenting! I think this PR is worth. Would you please fix the conflicts?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483413141/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483426482","html_url":"https://github.com/apache/druid/issues/7122#issuecomment-483426482","issue_url":"https://api.github.com/repos/apache/druid/issues/7122","id":483426482,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQyNjQ4Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T21:30:24Z","updated_at":"2019-04-15T21:30:24Z","author_association":"CONTRIBUTOR","body":"Fixed in #7145.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483426482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483428129","html_url":"https://github.com/apache/druid/pull/7145#issuecomment-483428129","issue_url":"https://api.github.com/repos/apache/druid/issues/7145","id":483428129,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQyODEyOQ==","user":{"login":"capistrant","id":7452350,"node_id":"MDQ6VXNlcjc0NTIzNTA=","avatar_url":"https://avatars.githubusercontent.com/u/7452350?v=4","gravatar_id":"","url":"https://api.github.com/users/capistrant","html_url":"https://github.com/capistrant","followers_url":"https://api.github.com/users/capistrant/followers","following_url":"https://api.github.com/users/capistrant/following{/other_user}","gists_url":"https://api.github.com/users/capistrant/gists{/gist_id}","starred_url":"https://api.github.com/users/capistrant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/capistrant/subscriptions","organizations_url":"https://api.github.com/users/capistrant/orgs","repos_url":"https://api.github.com/users/capistrant/repos","events_url":"https://api.github.com/users/capistrant/events{/privacy}","received_events_url":"https://api.github.com/users/capistrant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T21:36:18Z","updated_at":"2019-04-15T21:36:18Z","author_association":"CONTRIBUTOR","body":"@jihoonson Thank you for working through the changes with me during review for this change. Much appreciated!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483428129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483431974","html_url":"https://github.com/apache/druid/pull/7145#issuecomment-483431974","issue_url":"https://api.github.com/repos/apache/druid/issues/7145","id":483431974,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQzMTk3NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T21:50:16Z","updated_at":"2019-04-15T21:50:16Z","author_association":"CONTRIBUTOR","body":"Thank you for implementing a cool feature!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483431974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483455508","html_url":"https://github.com/apache/druid/issues/5518#issuecomment-483455508","issue_url":"https://api.github.com/repos/apache/druid/issues/5518","id":483455508,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQ1NTUwOA==","user":{"login":"dene14","id":7289205,"node_id":"MDQ6VXNlcjcyODkyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/7289205?v=4","gravatar_id":"","url":"https://api.github.com/users/dene14","html_url":"https://github.com/dene14","followers_url":"https://api.github.com/users/dene14/followers","following_url":"https://api.github.com/users/dene14/following{/other_user}","gists_url":"https://api.github.com/users/dene14/gists{/gist_id}","starred_url":"https://api.github.com/users/dene14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dene14/subscriptions","organizations_url":"https://api.github.com/users/dene14/orgs","repos_url":"https://api.github.com/users/dene14/repos","events_url":"https://api.github.com/users/dene14/events{/privacy}","received_events_url":"https://api.github.com/users/dene14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T23:28:52Z","updated_at":"2019-04-16T00:08:16Z","author_association":"CONTRIBUTOR","body":"@gianm Is it possible to have lookup cache shared between subsequent ingestion tasks? I feel like no, because even if I use offHeap cache type, it generates cache file with dynamic name for every created peon, for e.g.:\r\n```\r\n# ls -al /opt/apache-druid-0.14.0-incubating/var/tmp/druidMapDB*\r\n-rw-r--r-- 1 root root  56623104 Apr 15 23:18 /opt/apache-druid-0.14.0-incubating/var/tmp/druidMapDB3576988999697240527org.apache.druid.server.lookup.namespace.cache.OffHeapNamespaceExtractionCacheManager\r\n-rw-r--r-- 1 root root 363855872 Apr 15 23:18 /opt/apache-druid-0.14.0-incubating/var/tmp/druidMapDB3576988999697240527org.apache.druid.server.lookup.namespace.cache.OffHeapNamespaceExtractionCacheManager.p\r\n-rw-r--r-- 1 root root  56623104 Apr 15 23:17 /opt/apache-druid-0.14.0-incubating/var/tmp/druidMapDB6315615901868519681org.apache.druid.server.lookup.namespace.cache.OffHeapNamespaceExtractionCacheManager\r\n-rw-r--r-- 1 root root 364904448 Apr 15 23:17 /opt/apache-druid-0.14.0-incubating/var/tmp/druidMapDB6315615901868519681org.apache.druid.server.lookup.namespace.cache.OffHeapNamespaceExtractionCacheManager.p\r\n```\r\n\r\nCorresponding code snippet:\r\nhttps://github.com/apache/incubator-druid/blob/druid-0.14.0-incubating/extensions-core/lookups-cached-global/src/main/java/org/apache/druid/server/lookup/namespace/cache/OffHeapNamespaceExtractionCacheManager.java#L130-L160\r\n\r\nI'm not sure if it deserves a separate issue, but if you have a workaround for this, feel free to share.\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483455508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483460260","html_url":"https://github.com/apache/druid/issues/5518#issuecomment-483460260","issue_url":"https://api.github.com/repos/apache/druid/issues/5518","id":483460260,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQ2MDI2MA==","user":{"login":"dene14","id":7289205,"node_id":"MDQ6VXNlcjcyODkyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/7289205?v=4","gravatar_id":"","url":"https://api.github.com/users/dene14","html_url":"https://github.com/dene14","followers_url":"https://api.github.com/users/dene14/followers","following_url":"https://api.github.com/users/dene14/following{/other_user}","gists_url":"https://api.github.com/users/dene14/gists{/gist_id}","starred_url":"https://api.github.com/users/dene14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dene14/subscriptions","organizations_url":"https://api.github.com/users/dene14/orgs","repos_url":"https://api.github.com/users/dene14/repos","events_url":"https://api.github.com/users/dene14/events{/privacy}","received_events_url":"https://api.github.com/users/dene14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-15T23:54:53Z","updated_at":"2019-04-15T23:54:53Z","author_association":"CONTRIBUTOR","body":"Also summon @jihoonson :)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483460260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483490621","html_url":"https://github.com/apache/druid/issues/7485#issuecomment-483490621","issue_url":"https://api.github.com/repos/apache/druid/issues/7485","id":483490621,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQ5MDYyMQ==","user":{"login":"shizhengchao","id":22866465,"node_id":"MDQ6VXNlcjIyODY2NDY1","avatar_url":"https://avatars.githubusercontent.com/u/22866465?v=4","gravatar_id":"","url":"https://api.github.com/users/shizhengchao","html_url":"https://github.com/shizhengchao","followers_url":"https://api.github.com/users/shizhengchao/followers","following_url":"https://api.github.com/users/shizhengchao/following{/other_user}","gists_url":"https://api.github.com/users/shizhengchao/gists{/gist_id}","starred_url":"https://api.github.com/users/shizhengchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shizhengchao/subscriptions","organizations_url":"https://api.github.com/users/shizhengchao/orgs","repos_url":"https://api.github.com/users/shizhengchao/repos","events_url":"https://api.github.com/users/shizhengchao/events{/privacy}","received_events_url":"https://api.github.com/users/shizhengchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T02:49:36Z","updated_at":"2019-04-16T02:50:21Z","author_association":"NONE","body":"this is my realtime task json:\r\n```json\r\n{\r\n  \"dataSources\": [\r\n    {\r\n      \"spec\": {\r\n        \"dataSchema\": {\r\n          \"dataSource\": \"fcbox_send\",\r\n          \"metricsSpec\": [\r\n            { \"type\" : \"count\", \"name\" : \"count\" },\r\n            { \"type\" : \"longSum\", \"fieldName\" : \"order_count\", \"name\" : \"order_count\" },\r\n            { \"type\" : \"longSum\", \"fieldName\" : \"drop_send_count\", \"name\" : \"drop_send_count\" },\r\n            { \"type\" : \"longSum\", \"fieldName\" : \"staff_get_count\", \"name\" : \"staff_get_count\" },\r\n            { \"type\" : \"longSum\", \"fieldName\" : \"in_flight_count\", \"name\" : \"in_flight_count\" },\r\n            { \"type\" : \"longSum\", \"fieldName\" : \"cancel_count\", \"name\" : \"cancel_count\" }\r\n          ],\r\n          \"granularitySpec\": {\r\n            \"type\": \"uniform\",\r\n            \"segmentGranularity\": \"day\",\r\n            \"queryGranularity\": \"none\",\r\n            \"rollup\": false\r\n          },\r\n          \"parser\": {\r\n            \"type\": \"map\",\r\n            \"parseSpec\": {\r\n              \"format\": \"json\",\r\n              \"timestampSpec\": {\r\n                \"column\": \"timestamp\",\r\n                \"format\": \"auto\"\r\n              },\r\n              \"dimensionsSpec\": {\r\n                \"dimensions\": [\r\n                  \"order_time\",\r\n                  \"client_post_time\",\r\n                  \"staff_get_time\",\r\n                  \"in_flight_time\",\r\n                  \"cancel_time\",\r\n                  \"send_status\",\r\n                  \"dis_code\",\r\n                  \"company_id\",\r\n                  \"source_type\",\r\n                  \"box_type\",\r\n                  \"throw_area_type\"\r\n                ]\r\n              }\r\n            }\r\n          }\r\n        },\r\n        \"tuningConfig\": {\r\n          \"type\" : \"realtime\",\r\n          \"windowPeriod\" : \"PT10M\",\r\n          \"intermediatePersistPeriod\" : \"PT5M\",\r\n          \"maxRowsInMemory\" : 250000\r\n        },\r\n        \"properties\" : {\r\n          \"task.partitions\" : \"1\",\r\n          \"task.replicants\" : \"2\"\r\n        }\r\n      }\r\n    }\r\n  ]\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483490621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483491778","html_url":"https://github.com/apache/druid/issues/7485#issuecomment-483491778","issue_url":"https://api.github.com/repos/apache/druid/issues/7485","id":483491778,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQ5MTc3OA==","user":{"login":"shizhengchao","id":22866465,"node_id":"MDQ6VXNlcjIyODY2NDY1","avatar_url":"https://avatars.githubusercontent.com/u/22866465?v=4","gravatar_id":"","url":"https://api.github.com/users/shizhengchao","html_url":"https://github.com/shizhengchao","followers_url":"https://api.github.com/users/shizhengchao/followers","following_url":"https://api.github.com/users/shizhengchao/following{/other_user}","gists_url":"https://api.github.com/users/shizhengchao/gists{/gist_id}","starred_url":"https://api.github.com/users/shizhengchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shizhengchao/subscriptions","organizations_url":"https://api.github.com/users/shizhengchao/orgs","repos_url":"https://api.github.com/users/shizhengchao/repos","events_url":"https://api.github.com/users/shizhengchao/events{/privacy}","received_events_url":"https://api.github.com/users/shizhengchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T02:56:16Z","updated_at":"2019-04-16T02:56:16Z","author_association":"NONE","body":"MiddleManager jvm config and runtime config:\r\n```\r\n-server\r\n-Xms128m\r\n-Xmx128m\r\n-Duser.timezone=UTC+0800\r\n-Dfile.encoding=UTF-8\r\n-Dhadoop.hadoop.tmp.dir=/data/druid/hadoop-tmp\r\n-Djava.io.tmpdir=/data/druid/tmp\r\n-Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\r\n\r\n\r\ndruid.service=druid/middlemanager\r\ndruid.port=8091\r\n\r\n# Number of tasks per middleManager\r\ndruid.worker.capacity=15\r\n\r\n# Task launch parameters\r\ndruid.indexer.runner.javaOpts=-server -Xmx2g -Duser.timezone=UTC+0800 -Dfile.encoding=UTF-8 -Djava.util.logging.manager=org.apache.logging.log4j.jul.LogManager\r\ndruid.indexer.task.baseTaskDir=/data/druid/task\r\ndruid.indexer.task.restoreTasksOnRestart=true\r\n\r\n# HTTP server threads\r\ndruid.server.http.numThreads=40\r\n\r\n# Processing threads and buffers\r\ndruid.processing.buffer.sizeBytes=100000000\r\ndruid.processing.numMergeBuffers=2\r\ndruid.processing.numThreads=15\r\ndruid.processing.tmpDir=/data/druid/middlemanager-processing\r\n\r\n# Hadoop indexing\r\ndruid.indexer.task.hadoopWorkingPath=/druid/hadoop-tmp\r\ndruid.indexer.task.defaultHadoopCoordinates=[\"org.apache.hadoop:hadoop-client:2.8.3\", \"org.apache.hadoop:hadoop-aws:2.8.3\"]\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483491778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483493287","html_url":"https://github.com/apache/druid/issues/7485#issuecomment-483493287","issue_url":"https://api.github.com/repos/apache/druid/issues/7485","id":483493287,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzQ5MzI4Nw==","user":{"login":"shizhengchao","id":22866465,"node_id":"MDQ6VXNlcjIyODY2NDY1","avatar_url":"https://avatars.githubusercontent.com/u/22866465?v=4","gravatar_id":"","url":"https://api.github.com/users/shizhengchao","html_url":"https://github.com/shizhengchao","followers_url":"https://api.github.com/users/shizhengchao/followers","following_url":"https://api.github.com/users/shizhengchao/following{/other_user}","gists_url":"https://api.github.com/users/shizhengchao/gists{/gist_id}","starred_url":"https://api.github.com/users/shizhengchao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shizhengchao/subscriptions","organizations_url":"https://api.github.com/users/shizhengchao/orgs","repos_url":"https://api.github.com/users/shizhengchao/repos","events_url":"https://api.github.com/users/shizhengchao/events{/privacy}","received_events_url":"https://api.github.com/users/shizhengchao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T03:04:28Z","updated_at":"2019-04-16T03:04:28Z","author_association":"NONE","body":"Is my Peno memory configuration too small?(Forgive my English level....)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483493287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483519969","html_url":"https://github.com/apache/druid/issues/7476#issuecomment-483519969","issue_url":"https://api.github.com/repos/apache/druid/issues/7476","id":483519969,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzUxOTk2OQ==","user":{"login":"aoeiuvb","id":15936294,"node_id":"MDQ6VXNlcjE1OTM2Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/15936294?v=4","gravatar_id":"","url":"https://api.github.com/users/aoeiuvb","html_url":"https://github.com/aoeiuvb","followers_url":"https://api.github.com/users/aoeiuvb/followers","following_url":"https://api.github.com/users/aoeiuvb/following{/other_user}","gists_url":"https://api.github.com/users/aoeiuvb/gists{/gist_id}","starred_url":"https://api.github.com/users/aoeiuvb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aoeiuvb/subscriptions","organizations_url":"https://api.github.com/users/aoeiuvb/orgs","repos_url":"https://api.github.com/users/aoeiuvb/repos","events_url":"https://api.github.com/users/aoeiuvb/events{/privacy}","received_events_url":"https://api.github.com/users/aoeiuvb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T05:47:25Z","updated_at":"2019-04-16T05:47:25Z","author_association":"NONE","body":"When garbage collection occurs, druid queries slow down, and when there is no garbage collection, the queries are fast and stable","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483519969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483522334","html_url":"https://github.com/apache/druid/issues/7476#issuecomment-483522334","issue_url":"https://api.github.com/repos/apache/druid/issues/7476","id":483522334,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzUyMjMzNA==","user":{"login":"aoeiuvb","id":15936294,"node_id":"MDQ6VXNlcjE1OTM2Mjk0","avatar_url":"https://avatars.githubusercontent.com/u/15936294?v=4","gravatar_id":"","url":"https://api.github.com/users/aoeiuvb","html_url":"https://github.com/aoeiuvb","followers_url":"https://api.github.com/users/aoeiuvb/followers","following_url":"https://api.github.com/users/aoeiuvb/following{/other_user}","gists_url":"https://api.github.com/users/aoeiuvb/gists{/gist_id}","starred_url":"https://api.github.com/users/aoeiuvb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aoeiuvb/subscriptions","organizations_url":"https://api.github.com/users/aoeiuvb/orgs","repos_url":"https://api.github.com/users/aoeiuvb/repos","events_url":"https://api.github.com/users/aoeiuvb/events{/privacy}","received_events_url":"https://api.github.com/users/aoeiuvb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T05:59:57Z","updated_at":"2019-04-16T05:59:57Z","author_association":"NONE","body":"> Those collections aren't taking a ton of time, so if they aren't affecting your overall performance, they might not be a big deal. If you want to try to optimize them then standard Java GC tuning techniques would apply (possibly changing the collector implementation or changing the parameters for your collector). Also updating to later Druid version might help, since we often make changes to try to improve GC behavior.\r\n\r\nWhen garbage collection occurs, druid queries slow down, CPU usage is also higher,and when there is no garbage collection, the queries are fast and stable\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483522334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483530547","html_url":"https://github.com/apache/druid/pull/7304#issuecomment-483530547","issue_url":"https://api.github.com/repos/apache/druid/issues/7304","id":483530547,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzUzMDU0Nw==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T06:37:13Z","updated_at":"2019-04-16T06:37:13Z","author_association":"MEMBER","body":"Hi, @FaxianZhao . The failure of travis has nothing to do with this PR, I will restart it. BTW, please resolve these conflicts.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483530547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483583625","html_url":"https://github.com/apache/druid/issues/7469#issuecomment-483583625","issue_url":"https://api.github.com/repos/apache/druid/issues/7469","id":483583625,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzU4MzYyNQ==","user":{"login":"egor-ryashin","id":14215045,"node_id":"MDQ6VXNlcjE0MjE1MDQ1","avatar_url":"https://avatars.githubusercontent.com/u/14215045?v=4","gravatar_id":"","url":"https://api.github.com/users/egor-ryashin","html_url":"https://github.com/egor-ryashin","followers_url":"https://api.github.com/users/egor-ryashin/followers","following_url":"https://api.github.com/users/egor-ryashin/following{/other_user}","gists_url":"https://api.github.com/users/egor-ryashin/gists{/gist_id}","starred_url":"https://api.github.com/users/egor-ryashin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/egor-ryashin/subscriptions","organizations_url":"https://api.github.com/users/egor-ryashin/orgs","repos_url":"https://api.github.com/users/egor-ryashin/repos","events_url":"https://api.github.com/users/egor-ryashin/events{/privacy}","received_events_url":"https://api.github.com/users/egor-ryashin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T09:28:05Z","updated_at":"2019-04-16T09:28:05Z","author_association":"CONTRIBUTOR","body":"It's unsupported in **Calcite** right now https://issues.apache.org/jira/browse/CALCITE-3002","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483583625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483599854","html_url":"https://github.com/apache/druid/issues/7197#issuecomment-483599854","issue_url":"https://api.github.com/repos/apache/druid/issues/7197","id":483599854,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzU5OTg1NA==","user":{"login":"Honglun","id":3722800,"node_id":"MDQ6VXNlcjM3MjI4MDA=","avatar_url":"https://avatars.githubusercontent.com/u/3722800?v=4","gravatar_id":"","url":"https://api.github.com/users/Honglun","html_url":"https://github.com/Honglun","followers_url":"https://api.github.com/users/Honglun/followers","following_url":"https://api.github.com/users/Honglun/following{/other_user}","gists_url":"https://api.github.com/users/Honglun/gists{/gist_id}","starred_url":"https://api.github.com/users/Honglun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Honglun/subscriptions","organizations_url":"https://api.github.com/users/Honglun/orgs","repos_url":"https://api.github.com/users/Honglun/repos","events_url":"https://api.github.com/users/Honglun/events{/privacy}","received_events_url":"https://api.github.com/users/Honglun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T10:16:27Z","updated_at":"2019-04-16T10:16:27Z","author_association":"NONE","body":"Hello，did you solve the issue?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483599854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483605408","html_url":"https://github.com/apache/druid/issues/7488#issuecomment-483605408","issue_url":"https://api.github.com/repos/apache/druid/issues/7488","id":483605408,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzYwNTQwOA==","user":{"login":"bharathpatnaik","id":29519222,"node_id":"MDQ6VXNlcjI5NTE5MjIy","avatar_url":"https://avatars.githubusercontent.com/u/29519222?v=4","gravatar_id":"","url":"https://api.github.com/users/bharathpatnaik","html_url":"https://github.com/bharathpatnaik","followers_url":"https://api.github.com/users/bharathpatnaik/followers","following_url":"https://api.github.com/users/bharathpatnaik/following{/other_user}","gists_url":"https://api.github.com/users/bharathpatnaik/gists{/gist_id}","starred_url":"https://api.github.com/users/bharathpatnaik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bharathpatnaik/subscriptions","organizations_url":"https://api.github.com/users/bharathpatnaik/orgs","repos_url":"https://api.github.com/users/bharathpatnaik/repos","events_url":"https://api.github.com/users/bharathpatnaik/events{/privacy}","received_events_url":"https://api.github.com/users/bharathpatnaik/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T10:33:08Z","updated_at":"2019-04-16T10:37:20Z","author_association":"NONE","body":"Druid 0.14\r\n\r\nVery large cluster (Don't know the exact size but can handle billions of telemetry rows with ease)\r\n\r\nI get a cannot build a plan error for a query which looks like this:\r\n\r\n**Query1:**\r\n\r\n```\r\nSELECT a from table1 \r\nWHERE a IN \r\n(SELECT a from table1 WHERE ...)\r\n```\r\n\r\nExact Queries used in the process were:\r\n```\r\nSELECT \"dimensions_did\" FROM\r\n  (\r\n    SELECT \"dimensions_did\",\r\n      COUNT(DISTINCT month_of_year) AS months_present_in_year,\r\n      SUM(time_spent_in_month) AS time_spent_in_year FROM\r\n      (\r\n        SELECT\r\n          \"dimensions_did\",\r\n          month_of_year,\r\n          COUNT(DISTINCT week_of_year) AS weeks_present_in_month,\r\n          SUM(time_spent_in_week) AS time_spent_in_month FROM\r\n          (\r\n            SELECT\r\n              \"dimensions_did\", month_of_year, week_of_year,\r\n              COUNT(DISTINCT day_of_year) AS days_present_in_week,\r\n              SUM(time_spent_in_day) AS time_spent_in_week FROM\r\n              (\r\n                SELECT \"dimensions_did\",\r\n                  TIME_EXTRACT(MILLIS_TO_TIMESTAMP(\"syncts\"), 'MONTH') AS month_of_year,\r\n                  TIME_EXTRACT(MILLIS_TO_TIMESTAMP(\"syncts\"), 'WEEK') AS week_of_year,\r\n                  TIME_EXTRACT(MILLIS_TO_TIMESTAMP(\"syncts\"), 'DOY') AS day_of_year,\r\n                  SUM(\"total_time_spent\") AS time_spent_in_day FROM\r\n                  \r\n                  \"druid\".\"summary-events\"\r\n                  \r\n                WHERE \"syncts\" >= 1546300800000  AND \"syncts\" <= 1553990400000\r\n                  AND \"total_time_spent\" > 0 AND \"content_object_type\" = 'Content' AND \"dimensions_mode\" = 'play'\r\n                GROUP BY 1, 2, 3, 4\r\n              )\r\n            GROUP BY 1, 2, 3\r\n          )\r\n        WHERE days_present_in_week >= 2\r\n        GROUP BY 1, 2\r\n      )\r\n    WHERE\r\n      weeks_present_in_month >= 2\r\n    GROUP BY 1\r\n  )\r\nWHERE months_present_in_year >= 2  AND time_spent_in_year > 1000\r\n LIMIT 100\r\n```\r\n\r\n**Query 2**\r\n```\r\nSELECT \"dimensions_did\"\r\nFROM \"druid\".\"summary-events\"\r\nWHERE \"syncts\" >= 1546300800000 AND \"syncts\" <= 1553990400000 AND \"total_time_spent\" > 0 AND \"content_object_type\" = 'Content' AND \"dimensions_mode\" = 'play'\r\nGROUP BY 1 HAVING COUNT(DISTINCT TIME_FORMAT(MILLIS_TO_TIMESTAMP(\"syncts\"), 'yyyy/MM/dd')) > 36\r\n```\r\n\r\n**Actual Query Used:**\r\n\r\n```\r\nSELECT \"dimensions_did\" FROM\r\n  (\r\n    SELECT \"dimensions_did\",\r\n      COUNT(DISTINCT month_of_year) AS months_present_in_year,\r\n      SUM(time_spent_in_month) AS time_spent_in_year FROM\r\n      (\r\n        SELECT\r\n          \"dimensions_did\",\r\n          month_of_year,\r\n          COUNT(DISTINCT week_of_year) AS weeks_present_in_month,\r\n          SUM(time_spent_in_week) AS time_spent_in_month FROM\r\n          (\r\n            SELECT\r\n              \"dimensions_did\", month_of_year, week_of_year,\r\n              COUNT(DISTINCT day_of_year) AS days_present_in_week,\r\n              SUM(time_spent_in_day) AS time_spent_in_week FROM\r\n              (\r\n                SELECT \"dimensions_did\",\r\n                  TIME_EXTRACT(MILLIS_TO_TIMESTAMP(\"syncts\"), 'MONTH') AS month_of_year,\r\n                  TIME_EXTRACT(MILLIS_TO_TIMESTAMP(\"syncts\"), 'WEEK') AS week_of_year,\r\n                  TIME_EXTRACT(MILLIS_TO_TIMESTAMP(\"syncts\"), 'DOY') AS day_of_year,\r\n                  SUM(\"total_time_spent\") AS time_spent_in_day FROM\r\n                  \r\n                  \"druid\".\"summary-events\"\r\n                  \r\n                WHERE \"syncts\" >= 1546300800000  AND \"syncts\" <= 1553990400000\r\n                  AND \"total_time_spent\" > 0 AND \"content_object_type\" = 'Content' AND \"dimensions_mode\" = 'play'\r\n                GROUP BY 1, 2, 3, 4\r\n              )\r\n            GROUP BY 1, 2, 3\r\n          )\r\n        WHERE days_present_in_week >= 2\r\n        GROUP BY 1, 2\r\n      )\r\n    WHERE\r\n      weeks_present_in_month >= 2\r\n    GROUP BY 1\r\n  )\r\nWHERE months_present_in_year >= 2  AND time_spent_in_year > 1000\r\nAND \"dimensions_did\" IN \r\n(SELECT \"dimensions_did\"\r\nFROM \"druid\".\"summary-events\"\r\nWHERE \"syncts\" >= 1546300800000 AND \"syncts\" <= 1553990400000 AND \"total_time_spent\" > 0 AND \"content_object_type\" = 'Content' AND \"dimensions_mode\" = 'play'\r\nGROUP BY 1 HAVING COUNT(DISTINCT TIME_FORMAT(MILLIS_TO_TIMESTAMP(\"syncts\"), 'yyyy/MM/dd')) > 36\r\n)\r\n LIMIT 100\r\n```\r\nThanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483605408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483627362","html_url":"https://github.com/apache/druid/pull/7304#issuecomment-483627362","issue_url":"https://api.github.com/repos/apache/druid/issues/7304","id":483627362,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzYyNzM2Mg==","user":{"login":"FaxianZhao","id":14232480,"node_id":"MDQ6VXNlcjE0MjMyNDgw","avatar_url":"https://avatars.githubusercontent.com/u/14232480?v=4","gravatar_id":"","url":"https://api.github.com/users/FaxianZhao","html_url":"https://github.com/FaxianZhao","followers_url":"https://api.github.com/users/FaxianZhao/followers","following_url":"https://api.github.com/users/FaxianZhao/following{/other_user}","gists_url":"https://api.github.com/users/FaxianZhao/gists{/gist_id}","starred_url":"https://api.github.com/users/FaxianZhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FaxianZhao/subscriptions","organizations_url":"https://api.github.com/users/FaxianZhao/orgs","repos_url":"https://api.github.com/users/FaxianZhao/repos","events_url":"https://api.github.com/users/FaxianZhao/events{/privacy}","received_events_url":"https://api.github.com/users/FaxianZhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T11:50:43Z","updated_at":"2019-04-16T11:57:20Z","author_association":"CONTRIBUTOR","body":"Hi, @asdf2014 \r\nI think current failure is caused by #7234 . I'm trying to understand the Lifecycle.Stage to fix this.\r\n\r\nHi, @clintropolis currently #7222 is merged in master branch. Do you have some suggestion for enable LookupExprMacro in hadoop mapreduce task.\r\n\r\nBy the way, there is a type in Lifecycle's javadoc. \"- Stage.ANNOUNCENTS\"","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483627362/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483627530","html_url":"https://github.com/apache/druid/pull/6016#issuecomment-483627530","issue_url":"https://api.github.com/repos/apache/druid/issues/6016","id":483627530,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzYyNzUzMA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T11:51:19Z","updated_at":"2019-04-16T11:51:19Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 1 week if no further activity occurs. If you think that’s incorrect or this pull request requires a review, please simply write any comment. If closed, you can revive the PR at any time and @mention a reviewer or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483627530/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483692301","html_url":"https://github.com/apache/druid/pull/7224#issuecomment-483692301","issue_url":"https://api.github.com/repos/apache/druid/issues/7224","id":483692301,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzY5MjMwMQ==","user":{"login":"KazuhitoT","id":6211602,"node_id":"MDQ6VXNlcjYyMTE2MDI=","avatar_url":"https://avatars.githubusercontent.com/u/6211602?v=4","gravatar_id":"","url":"https://api.github.com/users/KazuhitoT","html_url":"https://github.com/KazuhitoT","followers_url":"https://api.github.com/users/KazuhitoT/followers","following_url":"https://api.github.com/users/KazuhitoT/following{/other_user}","gists_url":"https://api.github.com/users/KazuhitoT/gists{/gist_id}","starred_url":"https://api.github.com/users/KazuhitoT/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KazuhitoT/subscriptions","organizations_url":"https://api.github.com/users/KazuhitoT/orgs","repos_url":"https://api.github.com/users/KazuhitoT/repos","events_url":"https://api.github.com/users/KazuhitoT/events{/privacy}","received_events_url":"https://api.github.com/users/KazuhitoT/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T14:44:50Z","updated_at":"2019-04-16T14:44:50Z","author_association":"CONTRIBUTOR","body":"@gianm\r\nThanks. Travis job works.\r\nCould you please merge this PR if it's ok?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483692301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483732000","html_url":"https://github.com/apache/druid/pull/7477#issuecomment-483732000","issue_url":"https://api.github.com/repos/apache/druid/issues/7477","id":483732000,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzczMjAwMA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T16:21:04Z","updated_at":"2019-04-16T16:21:04Z","author_association":"MEMBER","body":"@xvrl also please don't force-push your branch, add commits on top.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483732000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483738280","html_url":"https://github.com/apache/druid/pull/7447#issuecomment-483738280","issue_url":"https://api.github.com/repos/apache/druid/issues/7447","id":483738280,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzczODI4MA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T16:38:28Z","updated_at":"2019-04-16T16:38:28Z","author_association":"MEMBER","body":"@gianm this issue blocks my progress in #7306, I need to know in which direction to resolve conflicts. Please answer the last question.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483738280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483739793","html_url":"https://github.com/apache/druid/pull/7304#issuecomment-483739793","issue_url":"https://api.github.com/repos/apache/druid/issues/7304","id":483739793,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzczOTc5Mw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T16:42:39Z","updated_at":"2019-04-16T16:42:39Z","author_association":"MEMBER","body":"Hi @FaxianZhao,\r\nI'm unsure currently what problem you are running into and nothing obvious from the travis failure logs, but I can pull your branch and have a look as soon as I have the chance to try and get an idea of what is going on.\r\n\r\nAlso, thanks for spotting the typo, will fix :+1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483739793/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483740872","html_url":"https://github.com/apache/druid/pull/6016#issuecomment-483740872","issue_url":"https://api.github.com/repos/apache/druid/issues/6016","id":483740872,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzc0MDg3Mg==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T16:44:42Z","updated_at":"2019-04-16T16:44:42Z","author_association":"MEMBER","body":"Begone stale bot, I'm not done here yet :-1:","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483740872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483777284","html_url":"https://github.com/apache/druid/issues/5518#issuecomment-483777284","issue_url":"https://api.github.com/repos/apache/druid/issues/5518","id":483777284,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzc3NzI4NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T17:51:36Z","updated_at":"2019-04-16T17:51:36Z","author_association":"CONTRIBUTOR","body":"Hi @dene14, you are correct. The lookup cache can't be shared between tasks. I don't think we have a workaround for this yet, but it sounds good to have.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483777284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483785429","html_url":"https://github.com/apache/druid/pull/7447#issuecomment-483785429","issue_url":"https://api.github.com/repos/apache/druid/issues/7447","id":483785429,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzc4NTQyOQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T18:13:31Z","updated_at":"2019-04-16T18:13:31Z","author_association":"CONTRIBUTOR","body":"@leventov, sorry, what question do you mean? Is it whether or not we should stop polling the DB after losing leadership? (https://github.com/apache/incubator-druid/pull/7447#issuecomment-482249849)\r\n\r\nI can only think of one benefit of nullifying the metadata segment cache when losing leadership: it means that next time we gain leadership, we're guaranteed that the segment cache we use is _at least as new_ as the gain of leadership. If we might use an old one, there's a potential for a new leader to use an older view of segments than the old leader. It could be extreme: maybe the new leader, for some reason, hasn't been able to poll for hours or even days, leading to surprising behavior as the cluster 'rolls back' to an earlier state.\r\n\r\nThis could be mitigated through some code that explicitly makes sure the currently-cached segment metadata is at least as new as the leadership gain, though. I think if you decide it's best to stop nullifying the cache, it'd be good to also add this safety mechanism.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483785429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483826958","html_url":"https://github.com/apache/druid/pull/7462#issuecomment-483826958","issue_url":"https://api.github.com/repos/apache/druid/issues/7462","id":483826958,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzgyNjk1OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T20:16:50Z","updated_at":"2019-04-16T20:16:50Z","author_association":"CONTRIBUTOR","body":"This look good to me 👍 \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483826958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483827238","html_url":"https://github.com/apache/druid/pull/7460#issuecomment-483827238","issue_url":"https://api.github.com/repos/apache/druid/issues/7460","id":483827238,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzgyNzIzOA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T20:17:41Z","updated_at":"2019-04-16T20:17:41Z","author_association":"CONTRIBUTOR","body":"This looks good to me: 👍","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483827238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483827638","html_url":"https://github.com/apache/druid/pull/7448#issuecomment-483827638","issue_url":"https://api.github.com/repos/apache/druid/issues/7448","id":483827638,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MzgyNzYzOA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T20:18:55Z","updated_at":"2019-04-16T20:18:55Z","author_association":"CONTRIBUTOR","body":"Looks great, thank you 👍 \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483827638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483859962","html_url":"https://github.com/apache/druid/pull/7331#issuecomment-483859962","issue_url":"https://api.github.com/repos/apache/druid/issues/7331","id":483859962,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzg1OTk2Mg==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T21:59:46Z","updated_at":"2019-04-16T21:59:46Z","author_association":"CONTRIBUTOR","body":"@jihoonson - would you have bandwidth now to review this PR? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483859962/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483862513","html_url":"https://github.com/apache/druid/pull/7088#issuecomment-483862513","issue_url":"https://api.github.com/repos/apache/druid/issues/7088","id":483862513,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzg2MjUxMw==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T22:09:08Z","updated_at":"2019-04-16T22:09:08Z","author_association":"CONTRIBUTOR","body":"@leventov - I think I addressed your review comments. Does it look good to go now?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483862513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/483870879","html_url":"https://github.com/apache/druid/issues/6319#issuecomment-483870879","issue_url":"https://api.github.com/repos/apache/druid/issues/6319","id":483870879,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4Mzg3MDg3OQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-16T22:43:25Z","updated_at":"2019-04-16T22:43:25Z","author_association":"CONTRIBUTOR","body":"I find this proposal takes too many memory to keep overshadowing relation in memory. Closing in favor of https://github.com/apache/incubator-druid/issues/7491.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/483870879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484071307","html_url":"https://github.com/apache/druid/issues/6759#issuecomment-484071307","issue_url":"https://api.github.com/repos/apache/druid/issues/6759","id":484071307,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDA3MTMwNw==","user":{"login":"mprior10","id":44868191,"node_id":"MDQ6VXNlcjQ0ODY4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/44868191?v=4","gravatar_id":"","url":"https://api.github.com/users/mprior10","html_url":"https://github.com/mprior10","followers_url":"https://api.github.com/users/mprior10/followers","following_url":"https://api.github.com/users/mprior10/following{/other_user}","gists_url":"https://api.github.com/users/mprior10/gists{/gist_id}","starred_url":"https://api.github.com/users/mprior10/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mprior10/subscriptions","organizations_url":"https://api.github.com/users/mprior10/orgs","repos_url":"https://api.github.com/users/mprior10/repos","events_url":"https://api.github.com/users/mprior10/events{/privacy}","received_events_url":"https://api.github.com/users/mprior10/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T12:53:37Z","updated_at":"2019-04-17T12:53:37Z","author_association":"NONE","body":"Hi Egor,\r\n\r\nI didn’t get back to this, after I got the error.\r\n\r\nThanks\r\n\r\nMike\r\n\r\n\r\nFrom: Egor Riashin [mailto:notifications@github.com]\r\nSent: Friday, April 12, 2019 5:24 PM\r\nTo: apache/incubator-druid\r\nCc: Prior, Mike; Mention\r\nSubject: Re: [apache/incubator-druid] Unknown provider[mysql] of Key[type=org.apache.druid.metadata.MetadataStorageProvider, (#6759)\r\n\r\n\r\nknown options[[derby]]\r\n\r\nit says it didn't load the mysql extension, only derby capability is available.\r\n@mprior10<https://github.com/mprior10> I believe you've already resolved the issue, right?\r\n\r\n—\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub<https://github.com/apache/incubator-druid/issues/6759#issuecomment-482636979>, or mute the thread<https://github.com/notifications/unsubscribe-auth/AqyiX-G8slemuGRCJlQsOZS_2wfvqdXjks5vgLMxgaJpZM4Zay5O>.\r\n\nThis e-mail, including attachments, may include confidential and/or\nproprietary information, and may be used only by the person or entity\nto which it is addressed. If the reader of this e-mail is not the intended\nrecipient or his or her authorized agent, the reader is hereby notified\nthat any dissemination, distribution or copying of this e-mail is\nprohibited. If you have received this e-mail in error, please notify the\nsender by replying to this message and delete this e-mail immediately.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484071307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484119691","html_url":"https://github.com/apache/druid/pull/7206#issuecomment-484119691","issue_url":"https://api.github.com/repos/apache/druid/issues/7206","id":484119691,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDExOTY5MQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T14:41:58Z","updated_at":"2019-04-17T14:41:58Z","author_association":"MEMBER","body":"@jon-wei @gianm @clintropolis @jihoonson I've updated the PR template.\r\n\r\nRegarding the concurrency checklist, I've created a two-level system with single line items + slightly extended (and linkable) descriptions. The [checklist](https://github.com/apache/incubator-druid/pull/7206/files#diff-cc3b00c0bd0af574809cf49526a13c10) added to the Druid repository contains all one-liners which link to the [general checklist](https://github.com/code-review-checklists/java-concurrency), plus three Druid-specific items (see the bottom of the file). If it will be needed to diverge wording of Druid's items from the general checklist's items, the extended description can be copied over to the Druid's checklist file with adjustments, and the link from the one-liners list is updated to point to the copied description.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484119691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484159320","html_url":"https://github.com/apache/druid/pull/7496#issuecomment-484159320","issue_url":"https://api.github.com/repos/apache/druid/issues/7496","id":484159320,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDE1OTMyMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T16:17:19Z","updated_at":"2019-04-17T16:17:19Z","author_association":"CONTRIBUTOR","body":"Going to tag this as 'bug' too since it does fix a bug - right now the type mismatch between what `deserialize` generates and `combine` accepts will lead to class cast exceptions when merging.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484159320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484160091","html_url":"https://github.com/apache/druid/issues/3851#issuecomment-484160091","issue_url":"https://api.github.com/repos/apache/druid/issues/3851","id":484160091,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDE2MDA5MQ==","user":{"login":"87139511","id":47969035,"node_id":"MDQ6VXNlcjQ3OTY5MDM1","avatar_url":"https://avatars.githubusercontent.com/u/47969035?v=4","gravatar_id":"","url":"https://api.github.com/users/87139511","html_url":"https://github.com/87139511","followers_url":"https://api.github.com/users/87139511/followers","following_url":"https://api.github.com/users/87139511/following{/other_user}","gists_url":"https://api.github.com/users/87139511/gists{/gist_id}","starred_url":"https://api.github.com/users/87139511/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/87139511/subscriptions","organizations_url":"https://api.github.com/users/87139511/orgs","repos_url":"https://api.github.com/users/87139511/repos","events_url":"https://api.github.com/users/87139511/events{/privacy}","received_events_url":"https://api.github.com/users/87139511/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T16:19:18Z","updated_at":"2019-04-17T16:19:18Z","author_association":"NONE","body":"I have same problem .how to solve it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484160091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484160470","html_url":"https://github.com/apache/druid/issues/3851#issuecomment-484160470","issue_url":"https://api.github.com/repos/apache/druid/issues/3851","id":484160470,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDE2MDQ3MA==","user":{"login":"87139511","id":47969035,"node_id":"MDQ6VXNlcjQ3OTY5MDM1","avatar_url":"https://avatars.githubusercontent.com/u/47969035?v=4","gravatar_id":"","url":"https://api.github.com/users/87139511","html_url":"https://github.com/87139511","followers_url":"https://api.github.com/users/87139511/followers","following_url":"https://api.github.com/users/87139511/following{/other_user}","gists_url":"https://api.github.com/users/87139511/gists{/gist_id}","starred_url":"https://api.github.com/users/87139511/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/87139511/subscriptions","organizations_url":"https://api.github.com/users/87139511/orgs","repos_url":"https://api.github.com/users/87139511/repos","events_url":"https://api.github.com/users/87139511/events{/privacy}","received_events_url":"https://api.github.com/users/87139511/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T16:20:15Z","updated_at":"2019-04-17T16:20:15Z","author_association":"NONE","body":"my druid.version is 0.12.3","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484160470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484177850","html_url":"https://github.com/apache/druid/pull/7331#issuecomment-484177850","issue_url":"https://api.github.com/repos/apache/druid/issues/7331","id":484177850,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDE3Nzg1MA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T17:05:42Z","updated_at":"2019-04-17T17:05:42Z","author_association":"CONTRIBUTOR","body":"@samarthjain ah sorry. I forgot about this PR. Will take a look soon.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484177850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484244393","html_url":"https://github.com/apache/druid/pull/7325#issuecomment-484244393","issue_url":"https://api.github.com/repos/apache/druid/issues/7325","id":484244393,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDI0NDM5Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T20:16:21Z","updated_at":"2019-04-17T20:16:21Z","author_association":"CONTRIBUTOR","body":"Labeled \"Incompatible\" due to adding Cacheable interface to HavingSpec.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484244393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484247992","html_url":"https://github.com/apache/druid/pull/4885#issuecomment-484247992","issue_url":"https://api.github.com/repos/apache/druid/issues/4885","id":484247992,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDI0Nzk5Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T20:26:40Z","updated_at":"2019-04-17T20:26:40Z","author_association":"NONE","body":"This pull request has been closed due to lack of activity. If you think that is incorrect, or the pull request requires review, you can revive the PR at any time.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484247992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484270926","html_url":"https://github.com/apache/druid/pull/7434#issuecomment-484270926","issue_url":"https://api.github.com/repos/apache/druid/issues/7434","id":484270926,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDI3MDkyNg==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T21:37:20Z","updated_at":"2019-04-17T21:37:20Z","author_association":"CONTRIBUTOR","body":"This doesn't work because `sinks` isn't an accurate indicator of # of segments (sinks.size() doesn't equal to 0 until segments are pushed **and** metadata is updated)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484270926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484273106","html_url":"https://github.com/apache/druid/issues/7238#issuecomment-484273106","issue_url":"https://api.github.com/repos/apache/druid/issues/7238","id":484273106,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDI3MzEwNg==","user":{"login":"justinborromeo","id":9417701,"node_id":"MDQ6VXNlcjk0MTc3MDE=","avatar_url":"https://avatars.githubusercontent.com/u/9417701?v=4","gravatar_id":"","url":"https://api.github.com/users/justinborromeo","html_url":"https://github.com/justinborromeo","followers_url":"https://api.github.com/users/justinborromeo/followers","following_url":"https://api.github.com/users/justinborromeo/following{/other_user}","gists_url":"https://api.github.com/users/justinborromeo/gists{/gist_id}","starred_url":"https://api.github.com/users/justinborromeo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justinborromeo/subscriptions","organizations_url":"https://api.github.com/users/justinborromeo/orgs","repos_url":"https://api.github.com/users/justinborromeo/repos","events_url":"https://api.github.com/users/justinborromeo/events{/privacy}","received_events_url":"https://api.github.com/users/justinborromeo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T21:44:58Z","updated_at":"2019-04-18T20:24:17Z","author_association":"CONTRIBUTOR","body":"After taking a first crack at this, I've realized that publishing segments once the number of segments in the Appenderator exceeded some limit results in the limit row being stored in its one-row segment.  This is because the proposed implementation checks number of segments _after_ the row had been stored.  \r\n\r\nA better behaviour would involve checking whether a row will put the number of segments over the segment limit _before_ the row has been stored to prevent the creation of one-row segments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484273106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484278877","html_url":"https://github.com/apache/druid/issues/7498#issuecomment-484278877","issue_url":"https://api.github.com/repos/apache/druid/issues/7498","id":484278877,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDI3ODg3Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T22:05:42Z","updated_at":"2019-04-17T22:05:42Z","author_association":"CONTRIBUTOR","body":"Related to https://github.com/apache/incubator-druid/issues/7005.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484278877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484285332","html_url":"https://github.com/apache/druid/pull/7088#issuecomment-484285332","issue_url":"https://api.github.com/repos/apache/druid/issues/7088","id":484285332,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDI4NTMzMg==","user":{"login":"samarthjain","id":1642180,"node_id":"MDQ6VXNlcjE2NDIxODA=","avatar_url":"https://avatars.githubusercontent.com/u/1642180?v=4","gravatar_id":"","url":"https://api.github.com/users/samarthjain","html_url":"https://github.com/samarthjain","followers_url":"https://api.github.com/users/samarthjain/followers","following_url":"https://api.github.com/users/samarthjain/following{/other_user}","gists_url":"https://api.github.com/users/samarthjain/gists{/gist_id}","starred_url":"https://api.github.com/users/samarthjain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/samarthjain/subscriptions","organizations_url":"https://api.github.com/users/samarthjain/orgs","repos_url":"https://api.github.com/users/samarthjain/repos","events_url":"https://api.github.com/users/samarthjain/events{/privacy}","received_events_url":"https://api.github.com/users/samarthjain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-17T22:29:53Z","updated_at":"2019-04-17T22:29:53Z","author_association":"CONTRIBUTOR","body":"@leventov - sorry about missing your review comments. I have updated the config descriptions along with other changes. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484285332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484310408","html_url":"https://github.com/apache/druid/issues/7501#issuecomment-484310408","issue_url":"https://api.github.com/repos/apache/druid/issues/7501","id":484310408,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDMxMDQwOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T00:29:09Z","updated_at":"2019-04-18T00:29:09Z","author_association":"CONTRIBUTOR","body":"That sounds strange. Does the coordinator submits compaction tasks for the same interval over again?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484310408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484364395","html_url":"https://github.com/apache/druid/issues/7498#issuecomment-484364395","issue_url":"https://api.github.com/repos/apache/druid/issues/7498","id":484364395,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM2NDM5NQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T05:46:13Z","updated_at":"2019-04-18T05:46:13Z","author_association":"CONTRIBUTOR","body":"Will be adding a temporary fallback to to the API call until #7005 is resolved. @shuqi7","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484364395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484364869","html_url":"https://github.com/apache/druid/issues/7471#issuecomment-484364869","issue_url":"https://api.github.com/repos/apache/druid/issues/7471","id":484364869,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM2NDg2OQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T05:48:47Z","updated_at":"2019-04-18T05:48:47Z","author_association":"CONTRIBUTOR","body":"The coordinator console had some JS errors for a while? Is this a regression in 0.14?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484364869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484365263","html_url":"https://github.com/apache/druid/issues/7471#issuecomment-484365263","issue_url":"https://api.github.com/repos/apache/druid/issues/7471","id":484365263,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM2NTI2Mw==","user":{"login":"pdeva","id":3190176,"node_id":"MDQ6VXNlcjMxOTAxNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3190176?v=4","gravatar_id":"","url":"https://api.github.com/users/pdeva","html_url":"https://github.com/pdeva","followers_url":"https://api.github.com/users/pdeva/followers","following_url":"https://api.github.com/users/pdeva/following{/other_user}","gists_url":"https://api.github.com/users/pdeva/gists{/gist_id}","starred_url":"https://api.github.com/users/pdeva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdeva/subscriptions","organizations_url":"https://api.github.com/users/pdeva/orgs","repos_url":"https://api.github.com/users/pdeva/repos","events_url":"https://api.github.com/users/pdeva/events{/privacy}","received_events_url":"https://api.github.com/users/pdeva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T05:50:52Z","updated_at":"2019-04-18T05:50:52Z","author_association":"CONTRIBUTOR","body":"not sure. i saw them this time so i reported them... 🤷🏻‍♂️","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484365263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484365670","html_url":"https://github.com/apache/druid/issues/7498#issuecomment-484365670","issue_url":"https://api.github.com/repos/apache/druid/issues/7498","id":484365670,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM2NTY3MA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T05:52:56Z","updated_at":"2019-04-18T05:52:56Z","author_association":"CONTRIBUTOR","body":"@jihoonson I noticed you added the 0.15.0 tag before my comment. Were you planning on fixing #7005 for 0.15.0 (if so it is not currently tagged), or were you thinking of my client side workaround?\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484365670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484366568","html_url":"https://github.com/apache/druid/issues/7474#issuecomment-484366568","issue_url":"https://api.github.com/repos/apache/druid/issues/7474","id":484366568,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM2NjU2OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T05:57:22Z","updated_at":"2019-04-18T05:57:22Z","author_association":"CONTRIBUTOR","body":"For the most part yes. Going up one version (say from 0.12 to 0.13) is guaranteed to be safe always.\r\nAs it happens it is safe to go up quite a few versions recently. More details can be found in the release notes. What is the version of your old Druid?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484366568/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484367292","html_url":"https://github.com/apache/druid/issues/7431#issuecomment-484367292","issue_url":"https://api.github.com/repos/apache/druid/issues/7431","id":484367292,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM2NzI5Mg==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T06:01:10Z","updated_at":"2019-04-18T06:01:10Z","author_association":"CONTRIBUTOR","body":"Yes there is. Check out http://druid.io/docs/latest/ingestion/firehose.html#Ingestsegmentfirehose\r\nWe are hoping to make it easier in the future as part of: https://github.com/apache/incubator-druid/issues/7502","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484367292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484367385","html_url":"https://github.com/apache/druid/issues/7498#issuecomment-484367385","issue_url":"https://api.github.com/repos/apache/druid/issues/7498","id":484367385,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM2NzM4NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T06:01:37Z","updated_at":"2019-04-18T06:01:37Z","author_association":"CONTRIBUTOR","body":"I added the milestone before I noticed #7005. Now I think this is a sort of bug, but the real fix might not be simple as I thought first. Client-side workaround would be good for a short term solution though.\r\nI think it would be good if we can ship your client-side workaround in 0.15.0. Is it feasible?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484367385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484367637","html_url":"https://github.com/apache/druid/issues/7405#issuecomment-484367637","issue_url":"https://api.github.com/repos/apache/druid/issues/7405","id":484367637,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDM2NzYzNw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T06:02:44Z","updated_at":"2019-04-18T06:02:44Z","author_association":"CONTRIBUTOR","body":"I have had success using Druid from DataGrip via the JDBC connector. Have you tried that?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484367637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484411741","html_url":"https://github.com/apache/druid/issues/7501#issuecomment-484411741","issue_url":"https://api.github.com/repos/apache/druid/issues/7501","id":484411741,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDQxMTc0MQ==","user":{"login":"dene14","id":7289205,"node_id":"MDQ6VXNlcjcyODkyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/7289205?v=4","gravatar_id":"","url":"https://api.github.com/users/dene14","html_url":"https://github.com/dene14","followers_url":"https://api.github.com/users/dene14/followers","following_url":"https://api.github.com/users/dene14/following{/other_user}","gists_url":"https://api.github.com/users/dene14/gists{/gist_id}","starred_url":"https://api.github.com/users/dene14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dene14/subscriptions","organizations_url":"https://api.github.com/users/dene14/orgs","repos_url":"https://api.github.com/users/dene14/repos","events_url":"https://api.github.com/users/dene14/events{/privacy}","received_events_url":"https://api.github.com/users/dene14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T08:47:11Z","updated_at":"2019-04-18T08:47:11Z","author_association":"CONTRIBUTOR","body":"No, no task submission at all.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484411741/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484537927","html_url":"https://github.com/apache/druid/issues/7498#issuecomment-484537927","issue_url":"https://api.github.com/repos/apache/druid/issues/7498","id":484537927,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDUzNzkyNw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T14:38:30Z","updated_at":"2019-04-18T14:38:30Z","author_association":"CONTRIBUTOR","body":"Client-side workaround coming in 0.15.0 :-)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484537927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484541700","html_url":"https://github.com/apache/druid/issues/7501#issuecomment-484541700","issue_url":"https://api.github.com/repos/apache/druid/issues/7501","id":484541700,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDU0MTcwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T14:48:34Z","updated_at":"2019-04-18T14:48:34Z","author_association":"CONTRIBUTOR","body":"Is it possible they're outside the limit of segments per time chunk?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484541700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484557153","html_url":"https://github.com/apache/druid/issues/7505#issuecomment-484557153","issue_url":"https://api.github.com/repos/apache/druid/issues/7505","id":484557153,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDU1NzE1Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T15:16:43Z","updated_at":"2019-04-18T15:16:43Z","author_association":"CONTRIBUTOR","body":"Hmm, it seems like a bug in the indexing task. Each task has a working directory that it's supposed to use for temporary data, and which will get cleaned up if the task fails. Did you see what kind of data shows up in java.io.tmpdir? Should help give a clue as to what's generating it - and then that could be moved to the task working directory.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484557153/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484564986","html_url":"https://github.com/apache/druid/issues/6909#issuecomment-484564986","issue_url":"https://api.github.com/repos/apache/druid/issues/6909","id":484564986,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDU2NDk4Ng==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T15:37:42Z","updated_at":"2019-04-18T15:37:42Z","author_association":"CONTRIBUTOR","body":"I accidentally stumbled into this by suggesting the _opposite_ refactoring on #7496: https://github.com/apache/incubator-druid/pull/7496#discussion_r276413326. I think the way that CardinalityAggregator works now is pretty nice, for the reasons I mentioned in that thread. I'm not really interested in requiring that _everything_ be done that way but I did want to speak up for why the design is the way it is.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484564986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484565316","html_url":"https://github.com/apache/druid/pull/7496#issuecomment-484565316","issue_url":"https://api.github.com/repos/apache/druid/issues/7496","id":484565316,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDU2NTMxNg==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T15:38:35Z","updated_at":"2019-04-18T15:38:35Z","author_association":"CONTRIBUTOR","body":"@clintropolis checkstyle has some words for you:\r\n\r\n```\r\n[ERROR] /home/travis/build/apache/incubator-druid/extensions-core/druid-bloom-filter/src/main/java/org/apache/druid/query/aggregation/bloom/BaseBloomFilterAggregator.java:94:5: '}' at column 5 should be alone on a line. [RightCurly]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484565316/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484570688","html_url":"https://github.com/apache/druid/pull/7496#issuecomment-484570688","issue_url":"https://api.github.com/repos/apache/druid/issues/7496","id":484570688,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDU3MDY4OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T15:53:43Z","updated_at":"2019-04-18T15:53:43Z","author_association":"CONTRIBUTOR","body":"Tagged 0.15 since it is a bug.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484570688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484571016","html_url":"https://github.com/apache/druid/issues/7505#issuecomment-484571016","issue_url":"https://api.github.com/repos/apache/druid/issues/7505","id":484571016,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDU3MTAxNg==","user":{"login":"RestfulBlue","id":32250229,"node_id":"MDQ6VXNlcjMyMjUwMjI5","avatar_url":"https://avatars.githubusercontent.com/u/32250229?v=4","gravatar_id":"","url":"https://api.github.com/users/RestfulBlue","html_url":"https://github.com/RestfulBlue","followers_url":"https://api.github.com/users/RestfulBlue/followers","following_url":"https://api.github.com/users/RestfulBlue/following{/other_user}","gists_url":"https://api.github.com/users/RestfulBlue/gists{/gist_id}","starred_url":"https://api.github.com/users/RestfulBlue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RestfulBlue/subscriptions","organizations_url":"https://api.github.com/users/RestfulBlue/orgs","repos_url":"https://api.github.com/users/RestfulBlue/repos","events_url":"https://api.github.com/users/RestfulBlue/events{/privacy}","received_events_url":"https://api.github.com/users/RestfulBlue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T15:54:40Z","updated_at":"2019-04-18T15:54:40Z","author_association":"NONE","body":"Hi, thanks for response! in our configuration we was settings baseTaskDir and not baseDir. And it looks like last 2 years all tasks data was storing in tmpfs :} . Overflow of tmpfs was leading to node OOM and probably that cause some unexpected behaviour. That was not a problem before because we have a lot of space in tmpfs and we was running only kafka indexing tasks.  We will change all locations to another place and if problem raise again i will reopen this issue. Sorry for worriyng!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484571016/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/484614850","html_url":"https://github.com/apache/druid/issues/7501#issuecomment-484614850","issue_url":"https://api.github.com/repos/apache/druid/issues/7501","id":484614850,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4NDYxNDg1MA==","user":{"login":"dene14","id":7289205,"node_id":"MDQ6VXNlcjcyODkyMDU=","avatar_url":"https://avatars.githubusercontent.com/u/7289205?v=4","gravatar_id":"","url":"https://api.github.com/users/dene14","html_url":"https://github.com/dene14","followers_url":"https://api.github.com/users/dene14/followers","following_url":"https://api.github.com/users/dene14/following{/other_user}","gists_url":"https://api.github.com/users/dene14/gists{/gist_id}","starred_url":"https://api.github.com/users/dene14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dene14/subscriptions","organizations_url":"https://api.github.com/users/dene14/orgs","repos_url":"https://api.github.com/users/dene14/repos","events_url":"https://api.github.com/users/dene14/events{/privacy}","received_events_url":"https://api.github.com/users/dene14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-18T17:53:52Z","updated_at":"2019-04-18T17:53:52Z","author_association":"CONTRIBUTOR","body":"What is this value? Could be...\nThese datasources were very weird... like 70000 segments for 2 month,\nsometimes up to 900 segments per hour (granularity vaue)\n\nOn Thu, Apr 18, 2019 at 5:49 PM Gian Merlino <notifications@github.com>\nwrote:\n\n> Is it possible they're outside the limit of segments per time chunk?\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-druid/issues/7501#issuecomment-484541700>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/ABXTS5OBL7Y62RMB3G7K43DPRCC6DANCNFSM4HGYUDTQ>\n> .\n>\n\n\n-- \nBest regards,\nDenis Boulas\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/484614850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]