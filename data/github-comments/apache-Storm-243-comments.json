[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612907890","html_url":"https://github.com/apache/storm/issues/5622#issuecomment-2612907890","issue_url":"https://api.github.com/repos/apache/storm/issues/5622","id":2612907890,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDc4OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T18:17:12Z","updated_at":"2025-01-24T16:18:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user priyank5485 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1586#discussion_r72306731\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1586#discussion_r72306731</a></p>\n\n<p>    &#8212; Diff: external/storm-kinesis/src/main/java/org/apache/storm/kinesis/spout/ZkInfo.java &#8212;<br/>\n    @@ -0,0 +1,153 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +<br/>\n    +package org.apache.storm.kinesis.spout;<br/>\n    +<br/>\n    +import java.io.Serializable;<br/>\n    +<br/>\n    +public class ZkInfo implements Serializable {<br/>\n    +    // comma separated list of zk connect strings to connect to zookeeper e.g. localhost:2181<br/>\n    +    private final String zkUrl;<br/>\n    +    // zk node under which to commit the sequence number of messages. e.g. /committed_sequence_numbers<br/>\n    +    private final String zkNode;<br/>\n    +    // zk session timeout in milliseconds<br/>\n    +    private final Integer sessionTimeoutMs;<br/>\n    +    // zk connection timeout in milliseconds<br/>\n    +    private final Integer connectionTimeoutMs;<br/>\n    +    // interval at which to commit offsets to zk in milliseconds<br/>\n    +    private final Long commitIntervalMs;<br/>\n    +    // number of retry attempts for zk<br/>\n    +    private final Integer retryAttempts;<br/>\n    +    // time to sleep between retries in milliseconds<br/>\n    +    private final Integer retryIntervalMs;<br/>\n    +<br/>\n    +    /**<br/>\n    +     * Default constructor that uses defaults for a local setup<br/>\n    +     */<br/>\n    +    public ZkInfo () {<br/>\n    +this(\"localhost:2181\", \"/kinesisOffsets\", 20000, 15000, 10000L, 3, 2000);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Will remove it</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612907890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235367576","html_url":"https://github.com/apache/storm/pull/1586#issuecomment-235367576","issue_url":"https://api.github.com/repos/apache/storm/issues/1586","id":235367576,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTM2NzU3Ng==","user":{"login":"priyank5485","id":5192436,"node_id":"MDQ6VXNlcjUxOTI0MzY=","avatar_url":"https://avatars.githubusercontent.com/u/5192436?v=4","gravatar_id":"","url":"https://api.github.com/users/priyank5485","html_url":"https://github.com/priyank5485","followers_url":"https://api.github.com/users/priyank5485/followers","following_url":"https://api.github.com/users/priyank5485/following{/other_user}","gists_url":"https://api.github.com/users/priyank5485/gists{/gist_id}","starred_url":"https://api.github.com/users/priyank5485/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/priyank5485/subscriptions","organizations_url":"https://api.github.com/users/priyank5485/orgs","repos_url":"https://api.github.com/users/priyank5485/repos","events_url":"https://api.github.com/users/priyank5485/events{/privacy}","received_events_url":"https://api.github.com/users/priyank5485/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T18:52:00Z","updated_at":"2016-07-26T18:52:00Z","author_association":"CONTRIBUTOR","body":"@harshach Thanks for the review. I have addressed your comments and pushed a commit.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235367576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612907894","html_url":"https://github.com/apache/storm/issues/5622#issuecomment-2612907894","issue_url":"https://api.github.com/repos/apache/storm/issues/5622","id":2612907894,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDc4OTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T18:52:02Z","updated_at":"2025-01-24T16:18:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user priyank5485 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1586\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1586</a></p>\n\n<p>    @harshach Thanks for the review. I have addressed your comments and pushed a commit.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612907894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941817","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941817","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941817,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T18:52:36Z","updated_at":"2025-01-24T16:35:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72313373\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72313373</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    we should make this as true and document it. As keeping this false can easily put lot of metrics into users metric storage. If they are not aware of it can get into issues.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235367800","html_url":"https://github.com/apache/storm/pull/1595#issuecomment-235367800","issue_url":"https://api.github.com/repos/apache/storm/issues/1595","id":235367800,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTM2NzgwMA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T18:52:44Z","updated_at":"2016-07-26T18:52:44Z","author_association":"CONTRIBUTOR","body":"+1 . Minor nit.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235367800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941821","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941821","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941821,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T18:52:45Z","updated_at":"2025-01-24T16:35:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595</a></p>\n\n<p>    +1 . Minor nit.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235411505","html_url":"https://github.com/apache/storm/pull/1587#issuecomment-235411505","issue_url":"https://api.github.com/repos/apache/storm/issues/1587","id":235411505,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTQxMTUwNQ==","user":{"login":"hmcl","id":10284328,"node_id":"MDQ6VXNlcjEwMjg0MzI4","avatar_url":"https://avatars.githubusercontent.com/u/10284328?v=4","gravatar_id":"","url":"https://api.github.com/users/hmcl","html_url":"https://github.com/hmcl","followers_url":"https://api.github.com/users/hmcl/followers","following_url":"https://api.github.com/users/hmcl/following{/other_user}","gists_url":"https://api.github.com/users/hmcl/gists{/gist_id}","starred_url":"https://api.github.com/users/hmcl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hmcl/subscriptions","organizations_url":"https://api.github.com/users/hmcl/orgs","repos_url":"https://api.github.com/users/hmcl/repos","events_url":"https://api.github.com/users/hmcl/events{/privacy}","received_events_url":"https://api.github.com/users/hmcl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T21:29:38Z","updated_at":"2016-07-26T21:29:38Z","author_association":"CONTRIBUTOR","body":"@darionyaphet this kafka spout does not use zookeeper as the new Kafka API writes the offsets to a topic rather than to zookeeper. As I mentioned in the initial comment, this change is not necessary. Furthermore, all the kafka properties are supposed to go in a map, as illustrated in  [this example](https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/test/java/org/apache/storm/kafka/spout/test/KafkaSpoutTopologyMainNamedTopics.java#L115-L123)\n\nAt last, the commitTimer is not used in auto commit mode. \n\nI would like to suggest that you close this PR.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235411505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612930127","html_url":"https://github.com/apache/storm/issues/5773#issuecomment-2612930127","issue_url":"https://api.github.com/repos/apache/storm/issues/5773","id":2612930127,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MzAxMjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T21:29:41Z","updated_at":"2025-01-24T16:29:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hmcl commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1587\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1587</a></p>\n\n<p>    @darionyaphet this kafka spout does not use zookeeper as the new Kafka API writes the offsets to a topic rather than to zookeeper. As I mentioned in the initial comment, this change is not necessary. Furthermore, all the kafka properties are supposed to go in a map, as illustrated in  <span class=\"error\">&#91;this example&#93;</span>(<a href=\"https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/test/java/org/apache/storm/kafka/spout/test/KafkaSpoutTopologyMainNamedTopics.java#L115-L123\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/blob/master/external/storm-kafka-client/src/test/java/org/apache/storm/kafka/spout/test/KafkaSpoutTopologyMainNamedTopics.java#L115-L123</a>)</p>\n\n<p>    At last, the commitTimer is not used in auto commit mode. </p>\n\n<p>    I would like to suggest that you close this PR.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612930127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941827","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941827","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941827,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T22:49:54Z","updated_at":"2025-01-24T16:35:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72352692\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72352692</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @harshach <br/>\n    Set this to 'true' breaks current metrics consumer implementations, since it delegates aggregation to metrics consumer by passing list of values. We need to guide the way how to aggregate these values to well-known metrics consumer implementations.</p>\n\n<p>    Btw, we should try avoiding to address current metrics feature and start re-designing new metrics feature. To tell the truth, this feature is actually closer to a hot-fix instead of improvement. <br/>\n    Even I found the design issue while implementing this. Current metrics feature doesn't allow us to aggregate the values, since we can't add the metadata (which function we need to apply to aggregate) to metrics. Note that we expand metrics from value of metric, so adding metadata to metric doesn't make sense. Metric shouldn't use Object as value, especially some types are intended to be expanded.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942190","html_url":"https://github.com/apache/storm/issues/5790#issuecomment-2612942190","issue_url":"https://api.github.com/repos/apache/storm/issues/5790","id":2612942190,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIxOTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T22:57:17Z","updated_at":"2025-01-24T16:36:02Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user raghavgautam opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1596\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1596</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2008\" title=\"kafka jars must be part of the storm-kafka topology\" class=\"issue-link\" data-issue-key=\"STORM-2008\"><del>STORM-2008</del></a>: </p>\n\n<p>    This is for solving following exception that we see when we try to run TridentKafkaWordCount topology.<br/>\n    ``<br/>\nException in thread \"main\" java.lang.NoClassDefFoundError: kafka/api/OffsetRequest<br/>\n    at org.apache.storm.kafka.KafkaConfig.<init>(KafkaConfig.java:48)<br/>\n    at org.apache.storm.kafka.trident.TridentKafkaConfig.<init>(TridentKafkaConfig.java:30)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.createTransactionalKafkaSpout(TridentKafkaWordCount.java:102)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.addTridentState(TridentKafkaWordCount.java:131)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.buildConsumerTopology(TridentKafkaWordCount.java:149)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.runMain(TridentKafkaWordCount.java:249)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.main(TridentKafkaWordCount.java:240)<br/>\nCaused by: java.lang.ClassNotFoundException: kafka.api.OffsetRequest<br/>\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)<br/>\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)<br/>\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)<br/>\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)<br/>\n    ... 7 more<br/>\n    ``</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/raghavgautam/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/raghavgautam/storm</a> master</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1596.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1596.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1596</p>\n\n<hr />\n<p>commit 2813a79a0fb93ce57c80169e7ec5954e0edf21a0<br/>\nAuthor: Raghav Kumar Gautam <raghav@apache.org><br/>\nDate:   2016-07-26T18:30:51Z</p>\n\n<p>    kafka jars must be part of the topology</p>\n\n<p>This is for solving following exception:<br/>\nException in thread \"main\" java.lang.NoClassDefFoundError: kafka/api/OffsetRequest<br/>\n    at org.apache.storm.kafka.KafkaConfig.<init>(KafkaConfig.java:48)<br/>\n    at org.apache.storm.kafka.trident.TridentKafkaConfig.<init>(TridentKafkaConfig.java:30)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.createTransactionalKafkaSpout(TridentKafkaWordCount.java:102)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.addTridentState(TridentKafkaWordCount.java:131)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.buildConsumerTopology(TridentKafkaWordCount.java:149)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.runMain(TridentKafkaWordCount.java:249)<br/>\n    at org.apache.storm.starter.trident.TridentKafkaWordCount.main(TridentKafkaWordCount.java:240)<br/>\nCaused by: java.lang.ClassNotFoundException: kafka.api.OffsetRequest<br/>\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)<br/>\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)<br/>\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)<br/>\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)<br/>\n    ... 7 more</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942193","html_url":"https://github.com/apache/storm/issues/5790#issuecomment-2612942193","issue_url":"https://api.github.com/repos/apache/storm/issues/5790","id":2612942193,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIxOTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T23:12:17Z","updated_at":"2025-01-24T16:36:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=raghavgautam\">raghavgautam</a>:</i>\n<p>Looks this this was a conscious decision by community.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942198","html_url":"https://github.com/apache/storm/issues/5790#issuecomment-2612942198","issue_url":"https://api.github.com/repos/apache/storm/issues/5790","id":2612942198,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIxOTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T23:12:49Z","updated_at":"2025-01-24T16:36:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user raghavgautam closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1596\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1596</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941833","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941833","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941833,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4MzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-26T23:20:08Z","updated_at":"2025-01-24T16:35:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72355902\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72355902</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I also think current pluggable metrics consumer design is too flexible. Users rely on metrics consumers which are open source from individual or specific vendor, which is easy to be not maintained. I guess most popular implementation of metrics consumer is verisign/storm-graphite, and it's not maintained for months. We should provide stable consumer implementation. If we don't want to handle various time-series DBs, we can open at most pluggable connector interface.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941833/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942043","html_url":"https://github.com/apache/storm/issues/5789#issuecomment-2612942043","issue_url":"https://api.github.com/repos/apache/storm/issues/5789","id":2612942043,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIwNDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T00:54:32Z","updated_at":"2025-01-24T16:35:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mauzhang\">mauzhang</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ppoulosk\" class=\"user-hover\" rel=\"ppoulosk\">Paul Poulosky</a>, which version of storm are you seeing this problem ?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612930131","html_url":"https://github.com/apache/storm/issues/5773#issuecomment-2612930131","issue_url":"https://api.github.com/repos/apache/storm/issues/5773","id":2612930131,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MzAxMzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T02:05:16Z","updated_at":"2025-01-24T16:29:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user darionyaphet closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1587\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1587</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612930131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928441","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928441","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928441,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T02:14:26Z","updated_at":"2025-01-24T16:29:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r72370968\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r72370968</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/bolt/DruidBeamBolt.java &#8212;<br/>\n    @@ -0,0 +1,103 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.bolt;<br/>\n    +<br/>\n    +import com.metamx.tranquility.tranquilizer.MessageDroppedException;<br/>\n    +import com.metamx.tranquility.tranquilizer.Tranquilizer;<br/>\n    +import com.twitter.util.Future;<br/>\n    +import com.twitter.util.FutureEventListener;<br/>\n    +import org.apache.storm.task.OutputCollector;<br/>\n    +import org.apache.storm.task.TopologyContext;<br/>\n    +import org.apache.storm.topology.OutputFieldsDeclarer;<br/>\n    +import org.apache.storm.topology.base.BaseRichBolt;<br/>\n    +import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +/**<br/>\n    + * Basic bolt implementation for storing data to Druid datastore.<br/>\n    + * <p/><br/>\n    + * This implementation uses Druid's Tranquility library (<a href=\"https://github.com/druid-io/tranquility\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility</a>)<br/>\n    + * to send to druid store.<br/>\n    + * Some of the concepts are borrowed from Tranquility storm connector implementation.<br/>\n    + * (<a href=\"https://github.com/druid-io/tranquility/blob/master/docs/storm.md\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/druid-io/tranquility/blob/master/docs/storm.md</a>)<br/>\n    + *<br/>\n    + * This Bolt expects to receive tuples in which the zeroth element is your event type.<br/>\n    + * <p/><br/>\n    + *<br/>\n    + */<br/>\n    +public class DruidBeamBolt<E> extends BaseRichBolt {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamBolt.class);<br/>\n    +<br/>\n    +    private volatile  OutputCollector collector;<br/>\n    +    private DruidBeamFactory<E> beamFactory = null;<br/>\n    +    private int batchSize;<br/>\n    +    private Tranquilizer<E> tranquilizer = null;<br/>\n    +<br/>\n    +    public DruidBeamBolt(DruidBeamFactory<E> beamFactory, int batchSize) </p>\n{\n    +this.beamFactory = beamFactory;\n    +this.batchSize = batchSize;\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void prepare(Map stormConf, TopologyContext context, OutputCollector collector) </p>\n{\n    +this.collector = collector;\n    +tranquilizer = Tranquilizer.create(\n    +beamFactory.makeBeam(stormConf, context),\n    +batchSize,\n    +Tranquilizer.DefaultMaxPendingBatches(),\n    +Tranquilizer.DefaultLingerMillis());\n    +this.tranquilizer.start();\n    +    }\n<p>    +<br/>\n    +    @Override<br/>\n    +    public void execute(final Tuple tuple) {<br/>\n    +      Future future = tranquilizer.send((E)tuple.getValue(0));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    we are looking at only the first value in tuple. What is the data format that we are expecting for the user to send. It might be confusing for the user if they send two values in the tuple but we only take the first one. May be we should mapper interface like hbase or hive bolts.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928448","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928448","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928448,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T02:15:34Z","updated_at":"2025-01-24T16:29:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r72371043\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r72371043</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/trident/DruidBeamStateUpdater.java &#8212;<br/>\n    @@ -0,0 +1,41 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.trident;<br/>\n    +<br/>\n    +import org.apache.storm.trident.operation.TridentCollector;<br/>\n    +import org.apache.storm.trident.state.BaseStateUpdater;<br/>\n    +import org.apache.storm.trident.tuple.TridentTuple;<br/>\n    +<br/>\n    +import java.util.LinkedList;<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +public class DruidBeamStateUpdater<E> extends BaseStateUpdater<DruidBeamState<E>> {<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void updateState(DruidBeamState<E> state, List<TridentTuple> tuples, TridentCollector collector) {<br/>\n    +List<E> list = new LinkedList<>();<br/>\n    +<br/>\n    +for (TridentTuple tuple: tuples) {<br/>\n    +    list.add((E)tuple.getValue(0));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    same as above its not clear why are we only picking the first value in the tuple.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928453","html_url":"https://github.com/apache/storm/issues/5761#issuecomment-2612928453","issue_url":"https://api.github.com/repos/apache/storm/issues/5761","id":2612928453,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjg0NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T06:34:10Z","updated_at":"2025-01-24T16:29:03Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user arunmahadevan commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1583#discussion_r72387042\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1583#discussion_r72387042</a></p>\n\n<p>    &#8212; Diff: external/storm-druid/src/main/java/org/apache/storm/druid/trident/DruidBeamState.java &#8212;<br/>\n    @@ -0,0 +1,73 @@<br/>\n    +/*<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing,<br/>\n    + * software distributed under the License is distributed on an<br/>\n    + * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY<br/>\n    + * KIND, either express or implied.  See the License for the<br/>\n    + * specific language governing permissions and limitations<br/>\n    + * under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.druid.trident;<br/>\n    +<br/>\n    +import com.metamx.tranquility.beam.Beam;<br/>\n    +import com.twitter.util.Await;<br/>\n    +import org.apache.storm.trident.state.State;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +import scala.collection.JavaConversions;<br/>\n    +<br/>\n    +import java.util.List;<br/>\n    +<br/>\n    +<br/>\n    +/**<br/>\n    + * Trident </p>\n{@link State}\n<p> implementation for Druid.<br/>\n    + */<br/>\n    +public class DruidBeamState<E> implements State  {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(DruidBeamState.class);<br/>\n    +<br/>\n    +    Beam<E> beam = null;<br/>\n    +<br/>\n    +    public DruidBeamState(Beam<E> beam) </p>\n{\n    +this.beam = beam;\n    +    }\n<p>    +<br/>\n    +    public void send(List<E> events ) {<br/>\n    +try </p>\n{\n    +    LOG.info(\"Sending %d events\", events.size());\n    +    Await.result(beam.sendBatch(JavaConversions.collectionAsScalaIterable(events).toList()));\n    +}\n<p> catch (Exception e) </p>\n{\n    +    final String errorMsg = \"Failed in writing messages to Druid\";\n    +    LOG.error(errorMsg, e);\n    +    throw new RuntimeException(errorMsg);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    public void close() {<br/>\n    +try </p>\n{\n    +    Await.result(beam.close());\n    +}\n<p> catch (Exception e) </p>\n{\n    +    final String errorMsg = \"Error while closing Druid beam client\";\n    +    LOG.error(errorMsg, e);\n    +    throw new RuntimeException(errorMsg);\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public void beginCommit(Long txid) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @harshach most of the trident states ignore the `beginCommit` and `commit`, because it may be very difficult to handle idempotent updates in a generic state. beginCommit and commit is currently implemented only in HdfsState. The downside is that such states would provide only at-least once semantics.</p>\n\n<p>    However key value based stores can provide an `IBackingMap` implementation whereby exactly once semantics can be supported. For e.g. the Redis trident implementation provides a RedisMapState. </p>\n\n<p>    If druid supports key/value based abstraction, the connector should probably provide a MapState implementation. If not the beginCommit and commit should be handled within the DruidBeamState if we are looking to provide exactly once.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612928453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657106","html_url":"https://github.com/apache/storm/issues/5118#issuecomment-2612657106","issue_url":"https://api.github.com/repos/apache/storm/issues/5118","id":2612657106,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTcxMDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T09:23:00Z","updated_at":"2025-01-24T14:25:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhishek.agarwal\" class=\"user-hover\" rel=\"abhishek.agarwal\">Abhishek Agarwal</a><br/>\nDo you start working on this? If not do you mind if I take up?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657517","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657517","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657517,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T09:24:41Z","updated_at":"2025-01-24T14:25:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sanket991\" class=\"user-hover\" rel=\"sanket991\">Sanket Reddy</a><br/>\nDo you work on this? If not do you mind if I take up?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654475","html_url":"https://github.com/apache/storm/issues/5113#issuecomment-2612654475","issue_url":"https://api.github.com/repos/apache/storm/issues/5113","id":2612654475,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ0NzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T09:29:24Z","updated_at":"2025-01-24T14:24:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=basti.lj\" class=\"user-hover\" rel=\"basti.lj\">Basti Liu</a><br/>\nAny updates on this? Given that your last update was over two months I'd like to see the progress. <br/>\nPlease let me know if there's some places for help to port.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942294","html_url":"https://github.com/apache/storm/issues/5791#issuecomment-2612942294","issue_url":"https://api.github.com/repos/apache/storm/issues/5791","id":2612942294,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIyOTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T09:41:19Z","updated_at":"2025-01-24T16:36:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>I'll assign myself when I can start working on this. Anyone can take this up.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942294/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654485","html_url":"https://github.com/apache/storm/issues/5113#issuecomment-2612654485","issue_url":"https://api.github.com/repos/apache/storm/issues/5113","id":2612654485,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ0ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T10:48:20Z","updated_at":"2025-01-24T14:24:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=basti.lj\">basti.lj</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\" class=\"user-hover\" rel=\"kabhwan\">Jungtaek Lim</a> The migration was done. I have start the unit testing last month. But unfortunately, I was busy with some some development job here in this month, so the testing worker was blocked again. Sorry for the progress of porting. Anyway, I will find some time in weekend to finish this issue as soon as possible.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654489","html_url":"https://github.com/apache/storm/issues/5113#issuecomment-2612654489","issue_url":"https://api.github.com/repos/apache/storm/issues/5113","id":2612654489,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ0ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T12:55:53Z","updated_at":"2025-01-24T14:24:33Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>It's OK. Btw, we're expecting ported thing should pass the origin tests, so you can submit as it is once your modifications pass current clojure tests.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657523","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657523","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657523,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T13:22:43Z","updated_at":"2025-01-24T14:25:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sanket991\">sanket991</a>:</i>\n<p>Sorry I guess I do not have enough cycles right now to get to this, you can assign it to yourself thanks</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657527","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657527","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657527,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T13:38:48Z","updated_at":"2025-01-24T14:25:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>No problem. Thanks for quick response.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657527/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657532","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657532","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657532,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T14:24:52Z","updated_at":"2025-01-24T14:25:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1285\" title=\"port backtype.storm.command.get-errors to java\" class=\"issue-link\" data-issue-key=\"STORM-1285\"><del>STORM-1285</del></a> port backtype.storm.command.get-errors to java</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1285\" title=\"port backtype.storm.command.get-errors to java\" class=\"issue-link\" data-issue-key=\"STORM-1285\"><del>STORM-1285</del></a>(<a href=\"https://issues.apache.org/jira/browse/STORM-1285\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1285</a>)</p>\n\n<p>    Please look at the implementation of `getComponentErrors()` since it simplifies the origin logic.</p>\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1285\" title=\"port backtype.storm.command.get-errors to java\" class=\"issue-link\" data-issue-key=\"STORM-1285\"><del>STORM-1285</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1597</p>\n\n<hr />\n<p>commit 729f1215e2650d02dc51733fcdb1ef190cdb01bc<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-07-27T14:21:40Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1285\" title=\"port backtype.storm.command.get-errors to java\" class=\"issue-link\" data-issue-key=\"STORM-1285\"><del>STORM-1285</del></a> port backtype.storm.command.get-errors to java</p>\n\n<ul>\n\t<li>port get-errors to GetErrors</li>\n</ul>\n\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942421","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942421","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942421,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T15:06:47Z","updated_at":"2025-01-24T16:36:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2010\" title=\"port org.apache.storm.command.heartbeats.clj to Java\" class=\"issue-link\" data-issue-key=\"STORM-2010\"><del>STORM-2010</del></a> port org.apache.storm.command.heartbeats.clj to Java</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2010\" title=\"port org.apache.storm.command.heartbeats.clj to Java\" class=\"issue-link\" data-issue-key=\"STORM-2010\"><del>STORM-2010</del></a>(<a href=\"https://issues.apache.org/jira/browse/STORM-2010\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-2010</a>)</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-2010\" title=\"port org.apache.storm.command.heartbeats.clj to Java\" class=\"issue-link\" data-issue-key=\"STORM-2010\"><del>STORM-2010</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1598</p>\n\n<hr />\n<p>commit 95ad7f71b37f2d780fced479376e23b60d6c7f5a<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-07-27T15:05:31Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2010\" title=\"port org.apache.storm.command.heartbeats.clj to Java\" class=\"issue-link\" data-issue-key=\"STORM-2010\"><del>STORM-2010</del></a> port org.apache.storm.command.heartbeats.clj to Java</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235622800","html_url":"https://github.com/apache/storm/pull/1595#issuecomment-235622800","issue_url":"https://api.github.com/repos/apache/storm/issues/1595","id":235622800,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTYyMjgwMA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T15:29:16Z","updated_at":"2016-07-27T15:29:16Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235622800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941840","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941840","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941840,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4NDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T15:29:18Z","updated_at":"2025-01-24T16:35:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941842","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941842","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941842,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T17:03:35Z","updated_at":"2025-01-24T16:35:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72479602\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72479602</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @HeartSaVioR <br/>\n    If I'm following the code/conversation correctly, this flag essentially changes the IMetricConsumer interface (specifically the value set in the DataPoint class - which is of type Object).  That makes me very uneasy.</p>\n\n<p>    Is there a way to make the interface more strongly typed?</p>\n\n<p>    Thinking out loud: What about splitting the interface in two: One that does aggregation and one that doesn't, then switching calls based on which interface is implemented?</p>\n\n<p>    I'm not opposed to breaking backwards compatibility and bumping up the major version if necessary. In other words I'd rather see a clean design than preserve backwards compatibility with respect to the metrics features.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941849","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941849","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941849,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4NDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T19:12:51Z","updated_at":"2025-01-24T16:35:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72504045\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72504045</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @ptgoetz I don't see any interface changes. Its just additional config in absence of it or the default it will continue to work with older implementation of IMetricsConsumer.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941853","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941853","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941853,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T20:10:30Z","updated_at":"2025-01-24T16:35:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72513531\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72513531</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @harshach you are correct, there are no <b>explicit</b> interface changes. But there is an <b>implicit</b> contract with existing implementations that expect `DataPoint.value` to be a specific type, and that contract is broken when this flag is set to `true`. So this is <b>effectively</b> an API change that's just hidden by the fact that it is configurable. </p>\n\n<p>    > Btw, we should try avoiding to address current metrics feature and start re-designing new metrics feature. To tell the truth, this feature is actually closer to a hot-fix instead of improvement.</p>\n\n<p>    I agree with @HeartSaVioR that this approach is less than optimal and very brittle. If we're going to break backward compatibility, we should go ahead and improve the design of the API.</p>\n\n<p>    I really don't like the idea that a configuration change can effectively change an API. I'd rather change the API to be more explicit in terms of data types sent to the implementation.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941859","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941859","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941859,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T21:20:53Z","updated_at":"2025-01-24T16:35:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72526172\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72526172</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @ptgoetz <br/>\n    As you said this is just due to a design flaw of current metrics feature. <br/>\n    Return type of getValueAndReset (Object) just makes whole things opaque, which is really bad.<br/>\n    Also we even didn't document a <b>implicit contract</b> that Map type of value of metric should be expanded to multiple metrics. How to process metrics is completely up to metrics consumer developer, and some metrics consumers even don't expand Map type of value. I'm introducing similar thing from this change, which I think it is still bad, but if you read the conversation, you may notice that there's no other choice with current metrics.</p>\n\n<p>    @harshach @ptgoetz <br/>\n    This must be a last call of new feature/improvement of current metrics feature. To tell the truth, I should never improve current metrics feature and concentrate on new metrics feature, but I didn't and couldn't, because of several reasons. My bad.</p>\n\n<p>    Actually my bad decision started from our progress of Storm 2.0.0 plan. For the first time I'm just waiting for JStorm merger phase 2 so that JStorm metrics feature to be applied. But we even didn't finish phase 1 in 6 months, which is being said that it is expected to be finished in 1Q. So I was end up with going on my own work, but have been considered about the backward compatibility, and once I started considering that, I couldn't get out of it.</p>\n\n<p>    I'm still in doubt that we can finish JStorm merger by end of this year, since phase 1 seems to be no progress on more than 1 month. If we would want to concentrate port & merger works and make this finally happen, I can wait for that. (Sure I'll participate the works.) But if it's out of our mind, we should have the time to design and implement new metrics feature.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941866","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941866","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941866,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-27T23:00:29Z","updated_at":"2025-01-24T16:35:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72539748\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72539748</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @HeartSaVioR Just to be clear, please don't take my comments to be a criticism of your work. You've done a fantastic job with metrics improvements.</p>\n\n<p>    Through that work it's become apparent that the existing API for metrics consumers is lacking in a number of ways. I view this as an opportunity to correct that.</p>\n\n<p>    We're incrementally moving toward semantic versioning. I'm not opposed to breaking backward compatibility with the existing metrics API and moving this branch to 2.x. The fact that master is \"2.0\" is just a technicality that can easily be changed.</p>\n\n<p>    I'd like to fix the API to better reflect the work you've done, rather than to implement a one-off fix.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941869","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941869","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941869,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T00:28:25Z","updated_at":"2025-01-24T16:35:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72548331\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72548331</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @ptgoetz No worries. I didn't take your comments in that way. It was just my criticism of *<b>current metrics API</b>*.</p>\n\n<p>    Storm community discussed about metrics several times, and the only one that I can get is the needs of new metrics feature. </p>\n\n<p>    This is a last discussion which also contains requirements of metrics feature. I don't think we should address all of them, but addressing much of them would be great.<br/>\n    <a href=\"http://mail-archives.us.apache.org/mod_mbox/storm-dev/201605.mbox/%3CCAF5108jB=4aL0Z1qMMnEe7U4Yx_9TZjD11BJYhKtkTtVJoTdhQ@mail.gmail.com%3E\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://mail-archives.us.apache.org/mod_mbox/storm-dev/201605.mbox/%3CCAF5108jB=4aL0Z1qMMnEe7U4Yx_9TZjD11BJYhKtkTtVJoTdhQ@mail.gmail.com%3E</a></p>\n\n<p>    Adding fixes to current metrics seems not competitive to recent metrics from others stream frameworks, and even JStorm, which is the thing we would eventually evaluate (I already did a first pass and looks promising) and port if it's better. This patch only has a value with current metrics, and I don't want to break backward compatibility because of will-be-deprecated-and-dropped feature.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941877","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941877","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941877,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4Nzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T00:31:39Z","updated_at":"2025-01-24T16:35:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72548650\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72548650</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -259,6 +259,10 @@ topology.disruptor.batch.size: 100<br/>\n     topology.disruptor.batch.timeout.millis: 1<br/>\n     topology.disable.loadaware: false<br/>\n     topology.state.checkpoint.interval.ms: 1000<br/>\n    +topology.metrics.aggregate.per.worker: false<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    FYI, I tried to port JStorm metrics to 1.x some months ago, but it touches many paths of codebase so we would end up having hard time to do the work if port is not finished.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942300","html_url":"https://github.com/apache/storm/issues/5791#issuecomment-2612942300","issue_url":"https://api.github.com/repos/apache/storm/issues/5791","id":2612942300,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIzMDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T06:16:06Z","updated_at":"2025-01-24T16:36:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user HeartSaVioR opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1599\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1599</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2009\" title=\"port org.apache.storm.blobstore.clj and org.apache.storm.command.blobstore.clj to Java\" class=\"issue-link\" data-issue-key=\"STORM-2009\"><del>STORM-2009</del></a> port org.apache.storm.blobstore.clj and org.apache.storm.command.blobstore.clj to Java</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2009\" title=\"port org.apache.storm.blobstore.clj and org.apache.storm.command.blobstore.clj to Java\" class=\"issue-link\" data-issue-key=\"STORM-2009\"><del>STORM-2009</del></a>(<a href=\"https://issues.apache.org/jira/browse/STORM-2009\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-2009</a>)</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/HeartSaVioR/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/HeartSaVioR/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-2009\" title=\"port org.apache.storm.blobstore.clj and org.apache.storm.command.blobstore.clj to Java\" class=\"issue-link\" data-issue-key=\"STORM-2009\"><del>STORM-2009</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1599.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1599.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1599</p>\n\n<hr />\n<p>commit 4f9055f5c8b9ab7a9686142ebca0affd28cd04e8<br/>\nAuthor: Jungtaek Lim <kabhwan@gmail.com><br/>\nDate:   2016-07-28T05:21:57Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-2009\" title=\"port org.apache.storm.blobstore.clj and org.apache.storm.command.blobstore.clj to Java\" class=\"issue-link\" data-issue-key=\"STORM-2009\"><del>STORM-2009</del></a> port org.apache.storm.blobstore.clj and org.apache.storm.command.blobstore.clj to Java</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657112","html_url":"https://github.com/apache/storm/issues/5118#issuecomment-2612657112","issue_url":"https://api.github.com/repos/apache/storm/issues/5118","id":2612657112,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTcxMTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T07:41:36Z","updated_at":"2025-01-24T14:25:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhishek.agarwal\">abhishek.agarwal</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\" class=\"user-hover\" rel=\"kabhwan\">Jungtaek Lim</a> mk-local-storm-cluster is still in clojure (testing.clj). testing.clj has lots of helper methods and some code that is dependent on daemons. That's why I had not started on it yet. Do you plan to start it immediately? </p>\n\n<p>In my opinion, the priority should be get the daemons ported first. Executor is still pending for code review (I have taken two passes but would like more people to review it). Then nimbus and worker pull requests are yet to be submitted. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235867205","html_url":"https://github.com/apache/storm/pull/1580#issuecomment-235867205","issue_url":"https://api.github.com/repos/apache/storm/issues/1580","id":235867205,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTg2NzIwNQ==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:16:52Z","updated_at":"2016-07-28T11:16:52Z","author_association":"CONTRIBUTOR","body":"@darionyaphet - are these changes necessary?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235867205/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612929990","html_url":"https://github.com/apache/storm/issues/5772#issuecomment-2612929990","issue_url":"https://api.github.com/repos/apache/storm/issues/5772","id":2612929990,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5Mjk5OTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:16:53Z","updated_at":"2025-01-24T16:29:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1580\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1580</a></p>\n\n<p>    @darionyaphet - are these changes necessary?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612929990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657539","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657539","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657539,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1Mzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:24:03Z","updated_at":"2025-01-24T14:25:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597#discussion_r72604873\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597#discussion_r72604873</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/GetErrors.java &#8212;<br/>\n    @@ -0,0 +1,59 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import org.apache.storm.generated.ErrorInfo;<br/>\n    +import org.apache.storm.generated.GetInfoOptions;<br/>\n    +import org.apache.storm.generated.Nimbus;<br/>\n    +import org.apache.storm.generated.NumErrorsChoice;<br/>\n    +import org.apache.storm.generated.TopologyInfo;<br/>\n    +import org.apache.storm.utils.NimbusClient;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class GetErrors {<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +final String name = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It would be nice to have a check on args length here and throw \"Topology name not passed\" exception in case args is empty. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657116","html_url":"https://github.com/apache/storm/issues/5118#issuecomment-2612657116","issue_url":"https://api.github.com/repos/apache/storm/issues/5118","id":2612657116,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTcxMTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:24:57Z","updated_at":"2025-01-24T14:25:47Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abhishek.agarwal\" class=\"user-hover\" rel=\"abhishek.agarwal\">Abhishek Agarwal</a> <br/>\nOK. Thanks for the update. testing.clj matters. <br/>\nI'd like to port non-test clj files since we're OK to leave test clj files as they are, but we say port is not completed even though small non-test clj file is not ported. <br/>\nI don't have enough time to port huge file like ui, but would like to help a bit even small part of it.</p>\n\n<p>I'll go on reviewing executor first, since it's more important than others. Thanks!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235868815","html_url":"https://github.com/apache/storm/pull/1597#issuecomment-235868815","issue_url":"https://api.github.com/repos/apache/storm/issues/1597","id":235868815,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTg2ODgxNQ==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:26:01Z","updated_at":"2016-07-28T11:26:01Z","author_association":"CONTRIBUTOR","body":"Minor comment. Looks good otherwise. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235868815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657545","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657545","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657545,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:26:03Z","updated_at":"2025-01-24T14:25:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597</a></p>\n\n<p>    Minor comment. Looks good otherwise. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657548","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657548","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657548,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:28:18Z","updated_at":"2025-01-24T14:25:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597#discussion_r72605374\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597#discussion_r72605374</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/GetErrors.java &#8212;<br/>\n    @@ -0,0 +1,59 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import org.apache.storm.generated.ErrorInfo;<br/>\n    +import org.apache.storm.generated.GetInfoOptions;<br/>\n    +import org.apache.storm.generated.Nimbus;<br/>\n    +import org.apache.storm.generated.NumErrorsChoice;<br/>\n    +import org.apache.storm.generated.TopologyInfo;<br/>\n    +import org.apache.storm.utils.NimbusClient;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class GetErrors {<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +final String name = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Missed it earlier. This class doesn't have licence headers. Build is failing because of that. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942302","html_url":"https://github.com/apache/storm/issues/5791#issuecomment-2612942302","issue_url":"https://api.github.com/repos/apache/storm/issues/5791","id":2612942302,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIzMDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:29:27Z","updated_at":"2025-01-24T16:36:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1599#discussion_r72605484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1599#discussion_r72605484</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Blobstore.java &#8212;<br/>\n    @@ -0,0 +1,320 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import org.apache.commons.io.IOUtils;<br/>\n    +import org.apache.commons.lang.StringUtils;<br/>\n    +import org.apache.storm.blobstore.AtomicOutputStream;<br/>\n    +import org.apache.storm.blobstore.BlobStoreAclHandler;<br/>\n    +import org.apache.storm.blobstore.ClientBlobStore;<br/>\n    +import org.apache.storm.blobstore.InputStreamWithMeta;<br/>\n    +import org.apache.storm.generated.AccessControl;<br/>\n    +import org.apache.storm.generated.AuthorizationException;<br/>\n    +import org.apache.storm.generated.KeyNotFoundException;<br/>\n    +import org.apache.storm.generated.ReadableBlobMeta;<br/>\n    +import org.apache.storm.generated.SettableBlobMeta;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.BufferedInputStream;<br/>\n    +import java.io.BufferedOutputStream;<br/>\n    +import java.io.FileInputStream;<br/>\n    +import java.io.FileOutputStream;<br/>\n    +import java.io.IOException;<br/>\n    +import java.io.InputStream;<br/>\n    +import java.io.OutputStream;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Blobstore {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Please add the licence headers</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942423","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942423","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942423,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:33:04Z","updated_at":"2025-01-24T16:36:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72605854\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72605854</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,65 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Licence headers have to be added here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942429","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942429","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942429,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0Mjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:36:47Z","updated_at":"2025-01-24T16:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72606243\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72606243</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,65 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    should we have a check for length here? ArrayOutOfBoundsException may be confusing for cli user. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942438","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942438","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942438,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0Mzg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:41:48Z","updated_at":"2025-01-24T16:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72606831\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72606831</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/command/heartbeats.clj &#8212;<br/>\n    @@ -1,54 +0,0 @@<br/>\n    -;; Licensed to the Apache Software Foundation (ASF) under one<br/>\n    -;; or more contributor license agreements.  See the NOTICE file<br/>\n    -;; distributed with this work for additional information<br/>\n    -;; regarding copyright ownership.  The ASF licenses this file<br/>\n    -;; to you under the Apache License, Version 2.0 (the<br/>\n    -;; \"License\"); you may not use this file except in compliance<br/>\n    -;; with the License.  You may obtain a copy of the License at<br/>\n    -;;<br/>\n    -;; <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    -;;<br/>\n    -;; Unless required by applicable law or agreed to in writing, software<br/>\n    -;; distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    -;; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    -;; See the License for the specific language governing permissions and<br/>\n    -;; limitations under the License.<br/>\n    -(ns org.apache.storm.command.heartbeats</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(:require [org.apache.storm</li>\n\t<li><span class=\"error\">&#91;config :refer :all&#93;</span></li>\n\t<li><span class=\"error\">&#91;log :refer :all&#93;</span></li>\n\t<li><span class=\"error\">&#91;util :refer :all&#93;</span></li>\n\t<li><span class=\"error\">&#91;converter :refer :all&#93;</span>]</li>\n\t<li><span class=\"error\">&#91;clojure.string :as string&#93;</span>)</li>\n\t<li>(:import <span class=\"error\">&#91;org.apache.storm.generated ClusterWorkerHeartbeat&#93;</span></li>\n\t<li><span class=\"error\">&#91;org.apache.storm.utils Utils ConfigUtils&#93;</span></li>\n\t<li><span class=\"error\">&#91;org.apache.storm.cluster ZKStateStorage ClusterStateContext ClusterUtils&#93;</span></li>\n\t<li><span class=\"error\">&#91;org.apache.storm.stats StatsUtil&#93;</span>)</li>\n\t<li>(:gen-class))<br/>\n    -<br/>\n    -(defn -main <span class=\"error\">&#91;command path & args&#93;</span></li>\n\t<li>(let [conf (clojurify-structure (ConfigUtils/readStormConfig))</li>\n\t<li>cluster (ClusterUtils/mkStateStorage conf conf nil (ClusterStateContext.))]</li>\n\t<li>(println \"Command: <span class=\"error\">&#91;\" command \"&#93;</span>\")</li>\n\t<li>(condp = command</li>\n\t<li>\"list\"</li>\n\t<li>(let <span class=\"error\">&#91;message (clojure.string/join \" \\n\" (.get_worker_hb_children cluster path false))&#93;</span></li>\n\t<li>(log-message \"list \" path \":\\n\"</li>\n\t<li>message \"\\n\"))</li>\n\t<li>\"get\"</li>\n\t<li>(log-message</li>\n\t<li>(if-let <span class=\"error\">&#91;hb (.get_worker_hb cluster path false)&#93;</span></li>\n\t<li>(StatsUtil/convertZkWorkerHb</li>\n\t<li>(Utils/deserialize</li>\n\t<li>hb</li>\n\t<li>ClusterWorkerHeartbeat))</li>\n\t<li>\"Nothing\"))</li>\n\t<li></li>\n\t<li>(log-message \"Usage: heartbeats <span class=\"error\">&#91;list|get&#93;</span> path\"))</li>\n\t<li></li>\n\t<li>(try</li>\n\t<li>(.close cluster)</li>\n\t<li>(catch Exception e</li>\n\t<li>(log-message \"Caught exception: \" e \" on close.\"))))</li>\n\t<li>(System/exit 0))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    This is missing in java equivalent. Only reason for placing it could be that some foreground threads are started by the above code. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942446","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942446","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942446,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0NDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T11:55:09Z","updated_at":"2025-01-24T16:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72608289\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72608289</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/command/heartbeats.clj &#8212;<br/>\n    @@ -1,54 +0,0 @@<br/>\n    -;; Licensed to the Apache Software Foundation (ASF) under one<br/>\n    -;; or more contributor license agreements.  See the NOTICE file<br/>\n    -;; distributed with this work for additional information<br/>\n    -;; regarding copyright ownership.  The ASF licenses this file<br/>\n    -;; to you under the Apache License, Version 2.0 (the<br/>\n    -;; \"License\"); you may not use this file except in compliance<br/>\n    -;; with the License.  You may obtain a copy of the License at<br/>\n    -;;<br/>\n    -;; <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    -;;<br/>\n    -;; Unless required by applicable law or agreed to in writing, software<br/>\n    -;; distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    -;; WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    -;; See the License for the specific language governing permissions and<br/>\n    -;; limitations under the License.<br/>\n    -(ns org.apache.storm.command.heartbeats</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>(:require [org.apache.storm</li>\n\t<li><span class=\"error\">&#91;config :refer :all&#93;</span></li>\n\t<li><span class=\"error\">&#91;log :refer :all&#93;</span></li>\n\t<li><span class=\"error\">&#91;util :refer :all&#93;</span></li>\n\t<li><span class=\"error\">&#91;converter :refer :all&#93;</span>]</li>\n\t<li><span class=\"error\">&#91;clojure.string :as string&#93;</span>)</li>\n\t<li>(:import <span class=\"error\">&#91;org.apache.storm.generated ClusterWorkerHeartbeat&#93;</span></li>\n\t<li><span class=\"error\">&#91;org.apache.storm.utils Utils ConfigUtils&#93;</span></li>\n\t<li><span class=\"error\">&#91;org.apache.storm.cluster ZKStateStorage ClusterStateContext ClusterUtils&#93;</span></li>\n\t<li><span class=\"error\">&#91;org.apache.storm.stats StatsUtil&#93;</span>)</li>\n\t<li>(:gen-class))<br/>\n    -<br/>\n    -(defn -main <span class=\"error\">&#91;command path & args&#93;</span></li>\n\t<li>(let [conf (clojurify-structure (ConfigUtils/readStormConfig))</li>\n\t<li>cluster (ClusterUtils/mkStateStorage conf conf nil (ClusterStateContext.))]</li>\n\t<li>(println \"Command: <span class=\"error\">&#91;\" command \"&#93;</span>\")</li>\n\t<li>(condp = command</li>\n\t<li>\"list\"</li>\n\t<li>(let <span class=\"error\">&#91;message (clojure.string/join \" \\n\" (.get_worker_hb_children cluster path false))&#93;</span></li>\n\t<li>(log-message \"list \" path \":\\n\"</li>\n\t<li>message \"\\n\"))</li>\n\t<li>\"get\"</li>\n\t<li>(log-message</li>\n\t<li>(if-let <span class=\"error\">&#91;hb (.get_worker_hb cluster path false)&#93;</span></li>\n\t<li>(StatsUtil/convertZkWorkerHb</li>\n\t<li>(Utils/deserialize</li>\n\t<li>hb</li>\n\t<li>ClusterWorkerHeartbeat))</li>\n\t<li>\"Nothing\"))</li>\n\t<li></li>\n\t<li>(log-message \"Usage: heartbeats <span class=\"error\">&#91;list|get&#93;</span> path\"))</li>\n\t<li></li>\n\t<li>(try</li>\n\t<li>(.close cluster)</li>\n\t<li>(catch Exception e</li>\n\t<li>(log-message \"Caught exception: \" e \" on close.\"))))</li>\n\t<li>(System/exit 0))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Great. I missed the meaning of this line. It forces process to be terminated. I'll address it. Thanks!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657553","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657553","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657553,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T12:06:01Z","updated_at":"2025-01-24T14:25:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597#discussion_r72609450\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597#discussion_r72609450</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/GetErrors.java &#8212;<br/>\n    @@ -0,0 +1,59 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import org.apache.storm.generated.ErrorInfo;<br/>\n    +import org.apache.storm.generated.GetInfoOptions;<br/>\n    +import org.apache.storm.generated.Nimbus;<br/>\n    +import org.apache.storm.generated.NumErrorsChoice;<br/>\n    +import org.apache.storm.generated.TopologyInfo;<br/>\n    +import org.apache.storm.utils.NimbusClient;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class GetErrors {<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +final String name = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    That would be great. Will address.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657553/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942451","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942451","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942451,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0NTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T12:06:59Z","updated_at":"2025-01-24T16:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72609582\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72609582</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,65 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Yes will address. I was focused on porting origin code as it is, but it would be better to address here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235878303","html_url":"https://github.com/apache/storm/pull/1597#issuecomment-235878303","issue_url":"https://api.github.com/repos/apache/storm/issues/1597","id":235878303,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTg3ODMwMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T12:20:06Z","updated_at":"2016-07-28T12:20:13Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing. I addressed your comments.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235878303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657559","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657559","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657559,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1NTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T12:20:08Z","updated_at":"2025-01-24T14:25:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597</a></p>\n\n<p>    Thanks for reviewing. I address your comments.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942458","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942458","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942458,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0NTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T12:28:23Z","updated_at":"2025-01-24T16:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72611975\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72611975</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,65 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Thanks, addressed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235880139","html_url":"https://github.com/apache/storm/pull/1598#issuecomment-235880139","issue_url":"https://api.github.com/repos/apache/storm/issues/1598","id":235880139,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTg4MDEzOQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T12:28:47Z","updated_at":"2016-07-28T12:28:47Z","author_association":"CONTRIBUTOR","body":"Thanks @abhishekagarwal87 for reviewing. I addressed your comments.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235880139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942465","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942465","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942465,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T12:28:49Z","updated_at":"2025-01-24T16:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598</a></p>\n\n<p>    Thanks @abhishekagarwal87 for reviewing. I addressed your comments.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942465/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942305","html_url":"https://github.com/apache/storm/issues/5791#issuecomment-2612942305","issue_url":"https://api.github.com/repos/apache/storm/issues/5791","id":2612942305,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIzMDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T12:31:02Z","updated_at":"2025-01-24T16:36:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1599#discussion_r72612361\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1599#discussion_r72612361</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Blobstore.java &#8212;<br/>\n    @@ -0,0 +1,320 @@<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import org.apache.commons.io.IOUtils;<br/>\n    +import org.apache.commons.lang.StringUtils;<br/>\n    +import org.apache.storm.blobstore.AtomicOutputStream;<br/>\n    +import org.apache.storm.blobstore.BlobStoreAclHandler;<br/>\n    +import org.apache.storm.blobstore.ClientBlobStore;<br/>\n    +import org.apache.storm.blobstore.InputStreamWithMeta;<br/>\n    +import org.apache.storm.generated.AccessControl;<br/>\n    +import org.apache.storm.generated.AuthorizationException;<br/>\n    +import org.apache.storm.generated.KeyNotFoundException;<br/>\n    +import org.apache.storm.generated.ReadableBlobMeta;<br/>\n    +import org.apache.storm.generated.SettableBlobMeta;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.BufferedInputStream;<br/>\n    +import java.io.BufferedOutputStream;<br/>\n    +import java.io.FileInputStream;<br/>\n    +import java.io.FileOutputStream;<br/>\n    +import java.io.IOException;<br/>\n    +import java.io.InputStream;<br/>\n    +import java.io.OutputStream;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Blobstore {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Thanks, addressed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235894190","html_url":"https://github.com/apache/storm/pull/1597#issuecomment-235894190","issue_url":"https://api.github.com/repos/apache/storm/issues/1597","id":235894190,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTg5NDE5MA==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T13:28:45Z","updated_at":"2016-07-28T13:28:45Z","author_association":"CONTRIBUTOR","body":"+1. Build failure is in storm-hive, unrelated to this change. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235894190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657561","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657561","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657561,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1NjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T13:28:46Z","updated_at":"2025-01-24T14:25:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597</a></p>\n\n<p>    +1. Build failure is in storm-hive, unrelated to this change. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235895458","html_url":"https://github.com/apache/storm/pull/1598#issuecomment-235895458","issue_url":"https://api.github.com/repos/apache/storm/issues/1598","id":235895458,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTg5NTQ1OA==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T13:33:33Z","updated_at":"2016-07-28T13:33:33Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235895458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942475","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942475","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942475,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0NzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T13:33:36Z","updated_at":"2025-01-24T16:36:10Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942310","html_url":"https://github.com/apache/storm/issues/5791#issuecomment-2612942310","issue_url":"https://api.github.com/repos/apache/storm/issues/5791","id":2612942310,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIzMTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T13:38:45Z","updated_at":"2025-01-24T16:36:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1599#discussion_r72622995\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1599#discussion_r72622995</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Blobstore.java &#8212;<br/>\n    @@ -0,0 +1,348 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import org.apache.commons.io.IOUtils;<br/>\n    +import org.apache.commons.lang.StringUtils;<br/>\n    +import org.apache.storm.blobstore.AtomicOutputStream;<br/>\n    +import org.apache.storm.blobstore.BlobStoreAclHandler;<br/>\n    +import org.apache.storm.blobstore.ClientBlobStore;<br/>\n    +import org.apache.storm.blobstore.InputStreamWithMeta;<br/>\n    +import org.apache.storm.generated.AccessControl;<br/>\n    +import org.apache.storm.generated.AuthorizationException;<br/>\n    +import org.apache.storm.generated.KeyNotFoundException;<br/>\n    +import org.apache.storm.generated.ReadableBlobMeta;<br/>\n    +import org.apache.storm.generated.SettableBlobMeta;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.io.BufferedInputStream;<br/>\n    +import java.io.BufferedOutputStream;<br/>\n    +import java.io.FileInputStream;<br/>\n    +import java.io.FileOutputStream;<br/>\n    +import java.io.IOException;<br/>\n    +import java.io.InputStream;<br/>\n    +import java.io.OutputStream;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Blobstore {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Blobstore.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length == 0) </p>\n{\n    +    throw new IllegalArgumentException(\"You should provide command.\");\n    +}\n<p>    +<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +String[] newArgs = Arrays.copyOfRange(args, 1, args.length);<br/>\n    +<br/>\n    +switch (command) {<br/>\n    +    case \"cat\":<br/>\n    +readCli(newArgs);<br/>\n    +break;<br/>\n    +<br/>\n    +    case \"create\":<br/>\n    +createCli(newArgs);<br/>\n    +break;<br/>\n    +<br/>\n    +    case \"update\":<br/>\n    +updateCli(newArgs);<br/>\n    +break;<br/>\n    +<br/>\n    +    case \"delete\":<br/>\n    +deleteCli(newArgs);<br/>\n    +break;<br/>\n    +<br/>\n    +    case \"list\":<br/>\n    +listCli(newArgs);<br/>\n    +break;<br/>\n    +<br/>\n    +    case \"set-acl\":<br/>\n    +setAclCli(newArgs);<br/>\n    +break;<br/>\n    +<br/>\n    +    case \"replication\":<br/>\n    +replicationCli(newArgs);<br/>\n    +break;<br/>\n    +<br/>\n    +    default:<br/>\n    +throw new RuntimeException(\"\" + command + \" is not a supported blobstore command\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    nit. `\"\" + command` can be replaced with `command`. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235900815","html_url":"https://github.com/apache/storm/pull/1599#issuecomment-235900815","issue_url":"https://api.github.com/repos/apache/storm/issues/1599","id":235900815,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTkwMDgxNQ==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T13:53:19Z","updated_at":"2016-07-28T13:53:19Z","author_association":"CONTRIBUTOR","body":"Looks great. +1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235900815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942314","html_url":"https://github.com/apache/storm/issues/5791#issuecomment-2612942314","issue_url":"https://api.github.com/repos/apache/storm/issues/5791","id":2612942314,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIzMTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T13:53:22Z","updated_at":"2025-01-24T16:36:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1599\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1599</a></p>\n\n<p>    Looks great. +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654848","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612654848","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612654848,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ4NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T14:32:26Z","updated_at":"2025-01-24T14:24:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r72633238\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r72633238</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/daemon/StormCommon.java &#8212;<br/>\n    @@ -539,10 +557,35 @@ protected IAuthorizer mkAuthorizationHandlerImpl(String klassName, Map conf) thr<br/>\n     if (aznHandler != null) </p>\n{\n aznHandler.prepare(conf);\n     }\n<ul class=\"alternate\" type=\"square\">\n\t<li>LOG.debug(\"authorization class name:{}, class:{}, handler:{}\",klassName, aznClass, aznHandler);<br/>\n    +LOG.debug(\"authorization class name:{}, class:{}, handler:{}\", klassName, aznClass, aznHandler);<br/>\n }<br/>\n     }</li>\n</ul>\n\n\n<p>     return aznHandler;<br/>\n }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    public static WorkerTopologyContext makeWorkerContext(Map<String, Object> workerData) {<br/>\n    +try {<br/>\n    +    StormTopology stormTopology = (StormTopology) workerData.get(Constants.SYSTEM_TOPOLOGY);<br/>\n    +    Map stormConf = (Map) workerData.get(Constants.STORM_CONF);<br/>\n    +    Map<Integer, String> taskToComponent = (Map<Integer, String>) workerData.get(Constants.TASK_TO_COMPONENT);<br/>\n    +    Map<String, List<Integer>> componentToSortedTasks =<br/>\n    +    (Map<String, List<Integer>>) workerData.get(Constants.COMPONENT_TO_SOTRTED_TASKS);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    COMPONENT_TO_SOTRTED_TASKS -> COMPONENT_TO_SORTED_TASKS</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654853","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612654853","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612654853,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ4NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T14:39:36Z","updated_at":"2025-01-24T14:24:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r72634682\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r72634682</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/daemon/StormCommon.java &#8212;<br/>\n    @@ -539,10 +557,35 @@ protected IAuthorizer mkAuthorizationHandlerImpl(String klassName, Map conf) thr<br/>\n     if (aznHandler != null) </p>\n{\n aznHandler.prepare(conf);\n     }\n<ul class=\"alternate\" type=\"square\">\n\t<li>LOG.debug(\"authorization class name:{}, class:{}, handler:{}\",klassName, aznClass, aznHandler);<br/>\n    +LOG.debug(\"authorization class name:{}, class:{}, handler:{}\", klassName, aznClass, aznHandler);<br/>\n }<br/>\n     }</li>\n</ul>\n\n\n<p>     return aznHandler;<br/>\n }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    public static WorkerTopologyContext makeWorkerContext(Map<String, Object> workerData) {<br/>\n    +try </p>\n{\n    +    StormTopology stormTopology = (StormTopology) workerData.get(Constants.SYSTEM_TOPOLOGY);\n    +    Map stormConf = (Map) workerData.get(Constants.STORM_CONF);\n    +    Map<Integer, String> taskToComponent = (Map<Integer, String>) workerData.get(Constants.TASK_TO_COMPONENT);\n    +    Map<String, List<Integer>> componentToSortedTasks =\n    +    (Map<String, List<Integer>>) workerData.get(Constants.COMPONENT_TO_SOTRTED_TASKS);\n    +    Map<String, Map<String, Fields>> componentToStreamToFields =\n    +    (Map<String, Map<String, Fields>>) workerData.get(Constants.COMPONENT_TO_STREAM_TO_FIELDS);\n    +    String stormId = (String) workerData.get(Constants.STORM_ID);\n    +    Map conf = (Map) workerData.get(Constants.CONF);\n    +    Integer port = (Integer) workerData.get(Constants.PORT);\n    +    String codeDir = ConfigUtils.supervisorStormResourcesPath(ConfigUtils.supervisorStormDistRoot(conf, stormId));\n    +    String pidDir = ConfigUtils.workerPidsRoot(conf, stormId);\n    +    List<Integer> workerTasks = (List<Integer>) workerData.get(Constants.TASK_IDS);\n    +    Map<String, Object> defaultResources = (Map<String, Object>) workerData.get(Constants.DEFAULT_SHARED_RESOURCES);\n    +    Map<String, Object> userResources = (Map<String, Object>) workerData.get(Constants.USER_SHARED_RESOURCES);\n    +    return new WorkerTopologyContext(stormTopology, stormConf, taskToComponent, componentToSortedTasks,\n    +    componentToStreamToFields, stormId, codeDir, pidDir, port, workerTasks, defaultResources, userResources);\n    +}\n<p> catch (IOException e) {<br/>\n    +    throw Utils.wrapInRuntime(e);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Just a curious, where is the place which throws IOException? At a glance I don't find a reason to throw in this code path, so I'd like to see the details.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235918758","html_url":"https://github.com/apache/storm/pull/1595#issuecomment-235918758","issue_url":"https://api.github.com/repos/apache/storm/issues/1595","id":235918758,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTkxODc1OA==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T14:51:53Z","updated_at":"2016-07-28T14:51:53Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR  You improved the metrics collection and quality of those metrics as well. This is immensely useful in debugging any topologies and operationalizing the Storm it self. I am not sure if there any users (atleast I haven't seen one) using the existing topology.metrics.consumer as its performance is bad and can get the topology to a halt.\n In light of these issues what you did here is will be extremely helpful and learnings from here will help in the 2.0 changes as well. \nHaving said that this fix critical as we end up flooding the storage of metrics with exponential number of metrics.\n@ptgoetz \"that contract is broken when this flag is set to true\".  Yes and we are shipping this as false. So Unless user is consciously makes this as true its not breaking anything. Sufficient documentation around this will help on what to expect.\n  We also need to make a judgement call on what it will impact . With this fix in users can go ahead store the metrics much more optimal fashion than what was happening before.\nIMHO this is not a backward-incompatible change and it will help users in storing the metrics better.\n\nI am still +1 on merging this patch.\n\n\"Btw, we should try avoiding to address current metrics feature and start re-designing new metrics feature. To tell the truth, this feature is actually closer to a hot-fix instead of improvement.\"\n\n@HeartSaVioR  agree. But this will get the users to start using the metrics feature in storm. Before any of these changes all users depends on are UI metrics and with these changes in they can more accurately look at whats going on the cluster. Also they can add metrics into their topology. we definitely should improve this feature for 2.0.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235918758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941883","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941883","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941883,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4ODM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T14:51:56Z","updated_at":"2025-01-24T16:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595</a></p>\n\n<p>    @HeartSaVioR  You improved the metrics collection and quality of those metrics as well. This is immensely useful in debugging any topologies and operationalizing the Storm it self. I am not sure if there any users (atleast I haven't seen one) using the existing topology.metrics.consumer as its performance is bad and can get the topology to a halt.<br/>\n     In light of these issues what you did here is will be extremely helpful and learnings from here will help in the 2.0 changes as well. <br/>\n    Having said that this fix critical as we end up flooding the storage of metrics with exponential number of metrics.<br/>\n    @ptgoetz \"that contract is broken when this flag is set to true\".  Yes and we are shipping this as false. So Unless user is consciously makes this as true its not breaking anything. Sufficient documentation around this will help on what to expect.<br/>\n      We also need to make a judgement call on what it will impact . With this fix in users can go ahead store the metrics much more optimal fashion than what was happening before.<br/>\n    IMHO this is not a backward-incompatible change and it will help users in storing the metrics better.</p>\n\n<p>    I am still +1 on merging this patch.</p>\n\n<p>    \"Btw, we should try avoiding to address current metrics feature and start re-designing new metrics feature. To tell the truth, this feature is actually closer to a hot-fix instead of improvement.\"</p>\n\n<p>    @HeartSaVioR  agree. But this will get the users to start using the metrics feature in storm. Before any of these changes all users depends on are UI metrics and with these changes in they can more accurately look at whats going on the cluster. Also they can add metrics into their topology. we definitely should improve this feature for 2.0.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654858","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612654858","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612654858,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ4NTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T14:56:09Z","updated_at":"2025-01-24T14:24:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r72638327\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r72638327</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/utils/Utils.java &#8212;<br/>\n    @@ -2364,4 +2374,23 @@ public static long bitXor(Long a, Long b) </p>\n{\n     return rtn;\n }\n\n<p>    +    /**<br/>\n    +     * converts a clojure PersistentMap to java HashMap<br/>\n    +     */<br/>\n    +    public static Map<String, Object> convertMap(Map map) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It might be better to rename to `convertClojureMapToJavaMap` or others which can represent from and to.<br/>\n    If we can specialize parameter's type it would be better.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235944647","html_url":"https://github.com/apache/storm/pull/1595#issuecomment-235944647","issue_url":"https://api.github.com/repos/apache/storm/issues/1595","id":235944647,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTk0NDY0Nw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T16:13:27Z","updated_at":"2016-07-28T16:13:27Z","author_association":"CONTRIBUTOR","body":"@harshach @ptgoetz \nI believe the best approach is letting users don't care about them.\n\nWhile I still think we need to renew metrics feature, I also think one of valid approach for current metrics is spending some more time to provide some official implementations of metrics consumers which covers popular time-series DBs like Grafana, and OpenTSDB, InfluxDB, and some others if we have ideas.\n\nThis makes us feeling similar to dog-fooding, and will show how good or how bad is the metrics feature transparently.\n(To tell the truth, I realized the limitations of current metrics feature clearly while playing with Ambari Metric Service Storm sink.)\nContracts will be mostly on our own, so no delegation for the hard thing on users or dev. of metric consumers.\n\nJust I'm not 100% sure open source metrics consumer projects will reflect our changed metrics API or contract in time. So while we're improving the feature, it could unlikely get to the end-users. This is my another concern.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235944647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941888","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941888","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941888,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4ODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T16:13:31Z","updated_at":"2025-01-24T16:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595</a></p>\n\n<p>    @harshach @ptgoetz <br/>\n    I believe the best approach is letting users don't care about them.</p>\n\n<p>    While I still think we need to renew metrics feature, I also think one of valid approach for current metrics is spending some more time to provide some official implementations of metrics consumers which covers popular time-series DBs like Grafana, and OpenTSDB, InfluxDB, and some others if we have ideas.</p>\n\n<p>    This makes us feeling similar to dog-fooding, and will show how good or how bad is the metrics feature transparently.<br/>\n    (To tell the truth, I realized the limitations of current metrics feature clearly while playing with Ambari Metric Service Storm sink.)<br/>\n    Contracts will be mostly on our own, so no delegation for the hard thing on users or dev. of metric consumers.</p>\n\n<p>    Just I'm not 100% sure open source metrics consumer projects will reflect our changed metrics API or contract in time. So while we're improving the feature, it could unlikely get to the end-users. This is my another concern.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235948095","html_url":"https://github.com/apache/storm/pull/1595#issuecomment-235948095","issue_url":"https://api.github.com/repos/apache/storm/issues/1595","id":235948095,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTk0ODA5NQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T16:25:20Z","updated_at":"2016-07-28T16:25:20Z","author_association":"CONTRIBUTOR","body":"cc. @abhishekagarwal87 \nI guess you seems to operate Storm metrics in production, so would like to hear your thought about this. (Not meant to review the code. I don't have operation experience for metrics on production, so need some help on this area.)\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235948095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941893","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941893","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941893,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE4OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T16:25:25Z","updated_at":"2025-01-24T16:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595</a></p>\n\n<p>    cc. @abhishekagarwal87 <br/>\n    I guess you seems to operate Storm metrics in production, so would like to hear your thought about this. (Not meant to review the code. I don't have operation experience for metrics on production, so need some help on this area.)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235950925","html_url":"https://github.com/apache/storm/pull/1595#issuecomment-235950925","issue_url":"https://api.github.com/repos/apache/storm/issues/1595","id":235950925,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTk1MDkyNQ==","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T16:35:02Z","updated_at":"2016-07-28T16:35:02Z","author_association":"MEMBER","body":"@HeartSaVioR I don't think I was very clear in articulating my proposal. What I'm saying is rather than making this a configuration switch, make it dynamic based on what interface the consumer implements. So it would involve:\n1. Leave `IMetricsConsumer` as-is, but deprecated.\n2. Introduce a new interface for aggregated metrics (e.g. `IAggregateMetricsConsumer`)\n3. At runtime, look at which interface the registered consumer implements, and alter the logic based on that (rather than a configuration switch)\n\nWith that we would have both backward compatibility and a new presumably cleaner API for aggregated metrics. The internals my not be pretty, but that would be invisible to the user.\n\nFrom the discussion thread you pointed out, there seems to be consensus around such an approach:\n\nQuoting @revans2:\n\n> On 1.x we add in a new API for both reporting metrics and collecting in parallel to the old API.  We leave IMetric and IMetricsConsumer in place but deprecated.  As we move internal metrics over from the old interface to the new one, we either keep versions of the old ones in place or we provide a translation shim going from the new to the old. \n\nQuoting @abhishekagarwal87:\n\n> Sounds good. Having two separate metric reporters may be confusing but it\n> is better than breaking the client code.\n\nQuoting you:\n\n> Personally I'm also in favor of maintaining old API (but deprecated) and\n> adding new API. It's ideal way, and that's what many projects are trying to do, and so on\n> the other project I'm also maintaining.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235950925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941903","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941903","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941903,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE5MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T16:35:04Z","updated_at":"2025-01-24T16:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595</a></p>\n\n<p>    @HeartSaVioR I don't think I was very clear in articulating my proposal. What I'm saying is rather than making this a configuration switch, make it dynamic based on what interface the consumer implements. So it would involve:</p>\n\n<p>    1. Leave `IMetricsConsumer` as-is, but deprecated.<br/>\n    2. Introduce a new interface for aggregated metrics (e.g. `IAggregateMetricsConsumer`)<br/>\n    3. At runtime, look at which interface the registered consumer implements, and alter the logic based on that (rather than a configuration switch)</p>\n\n<p>    With that we would have both backward compatibility and a new presumably cleaner API for aggregated metrics. The internals my not be pretty, but that would be invisible to the user.</p>\n\n<p>    From the discussion thread you pointed out, there seems to be consensus around such an approach:</p>\n\n<p>    Quoting @revans2:</p>\n\n<p>    > On 1.x we add in a new API for both reporting metrics and collecting in parallel to the old API.  We leave IMetric and IMetricsConsumer in place but deprecated.  As we move internal metrics over from the old interface to the new one, we either keep versions of the old ones in place or we provide a translation shim going from the new to the old. </p>\n\n<p>    Quoting @abhishekagarwal87:</p>\n\n<p>    > Sounds good. Having two separate metric reporters may be confusing but it<br/>\n    is better than breaking the client code.</p>\n\n<p>    Quoting you:</p>\n\n<p>    > Personally I'm also in favor of maintaining old API (but deprecated) and<br/>\n    adding new API. It's ideal way, and that's what many projects are trying to do, and so on<br/>\n    the other project I'm also maintaining.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942480","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942480","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942480,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0ODA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T17:43:25Z","updated_at":"2025-01-24T16:36:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72667584\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72667584</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,89 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length < 2) </p>\n{\n    +    throw new IllegalArgumentException(\"You should provide both command and path.\");\n    +}\n<p>    +<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +String path = args<span class=\"error\">&#91;1&#93;</span>;<br/>\n    +<br/>\n    +Map<String, Object> conf = ConfigUtils.readStormConfig();<br/>\n    +IStateStorage cluster = ClusterUtils.mkStateStorage(conf, conf, null, new ClusterStateContext());<br/>\n    +<br/>\n    +System.out.println(\"Command: <span class=\"error\">&#91;\" + command + \"&#93;</span>\");<br/>\n    +<br/>\n    +switch (command) </p>\n{\n    +    case \"list\":\n    +handleListCommand(cluster, path);\n    +break;\n    +\n    +    case \"get\":\n    +handleGetCommand(cluster, path);\n    +break;\n    +\n    +    default:\n    +LOG.info(\"Usage: heartbeats [list|get] path\");\n    +}\n<p>    +<br/>\n    +try </p>\n{\n    +    cluster.close();\n    +}\n<p> catch (Exception e) {<br/>\n    +    LOG.info(\"Caught exception: {} on close.\", e);<br/>\n    +}<br/>\n    +<br/>\n    +// force process to be terminated<br/>\n    +System.exit(0);<br/>\n    +    }<br/>\n    +<br/>\n    +    private static void handleListCommand(IStateStorage cluster, String path) {<br/>\n    +String message = Joiner.on(\"\\n\").join(cluster.get_worker_hb_children(path, false));<br/>\n    +LOG.info(\"list {}:\\n{}\\n\", path, message);<br/>\n    +    }<br/>\n    +<br/>\n    +    private static void handleGetCommand(IStateStorage cluster, String path) {<br/>\n    +String message;<br/>\n    +byte[] hb = cluster.get_worker_hb(path, false);<br/>\n    +if (hb != null) </p>\n{\n    +    Map<String, Object> heartbeatMap = StatsUtil.convertZkWorkerHb(Utils.deserialize(hb, ClusterWorkerHeartbeat.class));\n    +    message = JSONValue.toJSONString(heartbeatMap);\n    +}\n<p> else {<br/>\n    +    message = \"Nothing\";<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    can we changes this to \"No Heartbeats found\" </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657566","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657566","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657566,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T18:11:41Z","updated_at":"2025-01-24T14:25:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597#discussion_r72672661\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597#discussion_r72672661</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/GetErrors.java &#8212;<br/>\n    @@ -0,0 +1,80 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import org.apache.storm.generated.ErrorInfo;<br/>\n    +import org.apache.storm.generated.GetInfoOptions;<br/>\n    +import org.apache.storm.generated.Nimbus;<br/>\n    +import org.apache.storm.generated.NumErrorsChoice;<br/>\n    +import org.apache.storm.generated.TopologyInfo;<br/>\n    +import org.apache.storm.utils.NimbusClient;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.List;<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class GetErrors {<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length == 0) {<br/>\n    +    throw new IllegalArgumentException(\"You should provide topology name.\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Can we have a better error message? It can be something like `Topology name must be provided.`</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235978981","html_url":"https://github.com/apache/storm/pull/1597#issuecomment-235978981","issue_url":"https://api.github.com/repos/apache/storm/issues/1597","id":235978981,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTk3ODk4MQ==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T18:13:54Z","updated_at":"2016-07-28T18:13:54Z","author_association":"MEMBER","body":"Minor comment, +1 once addressed.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235978981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657569","html_url":"https://github.com/apache/storm/issues/5121#issuecomment-2612657569","issue_url":"https://api.github.com/repos/apache/storm/issues/5121","id":2612657569,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTc1Njk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T18:13:56Z","updated_at":"2025-01-24T14:25:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1597\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1597</a></p>\n\n<p>    Minor comment, +1 once addressed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612657569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942486","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942486","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942486,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T18:15:58Z","updated_at":"2025-01-24T16:36:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72673493\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72673493</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,89 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length < 2) </p>\n{\n    +    throw new IllegalArgumentException(\"You should provide both command and path.\");\n    +}\n<p>    +<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +String path = args<span class=\"error\">&#91;1&#93;</span>;<br/>\n    +<br/>\n    +Map<String, Object> conf = ConfigUtils.readStormConfig();<br/>\n    +IStateStorage cluster = ClusterUtils.mkStateStorage(conf, conf, null, new ClusterStateContext());<br/>\n    +<br/>\n    +System.out.println(\"Command: <span class=\"error\">&#91;\" + command + \"&#93;</span>\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Can we use `LOG.info()` here instead of `System.out.println`?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942488","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942488","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942488,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0ODg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T18:16:50Z","updated_at":"2025-01-24T16:36:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72673687\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72673687</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,89 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length < 2) {<br/>\n    +    throw new IllegalArgumentException(\"You should provide both command and path.\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Exception message can be something like `Command and path arguments must be provided`</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942492","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942492","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942492,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T18:20:09Z","updated_at":"2025-01-24T16:36:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72674350\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72674350</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,89 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length < 2) </p>\n{\n    +    throw new IllegalArgumentException(\"You should provide both command and path.\");\n    +}\n<p>    +<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +String path = args<span class=\"error\">&#91;1&#93;</span>;<br/>\n    +<br/>\n    +Map<String, Object> conf = ConfigUtils.readStormConfig();<br/>\n    +IStateStorage cluster = ClusterUtils.mkStateStorage(conf, conf, null, new ClusterStateContext());<br/>\n    +<br/>\n    +System.out.println(\"Command: <span class=\"error\">&#91;\" + command + \"&#93;</span>\");<br/>\n    +<br/>\n    +switch (command) {<br/>\n    +    case \"list\":<br/>\n    +handleListCommand(cluster, path);<br/>\n    +break;<br/>\n    +<br/>\n    +    case \"get\":<br/>\n    +handleGetCommand(cluster, path);<br/>\n    +break;<br/>\n    +<br/>\n    +    default:<br/>\n    +LOG.info(\"Usage: heartbeats <span class=\"error\">&#91;list|get&#93;</span> path\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It should be something like `Usage: java Heartbeats <span class=\"error\">&#91;list|get&#93;</span> path` instead of using `heartbeats`</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942492/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/235981986","html_url":"https://github.com/apache/storm/pull/1599#issuecomment-235981986","issue_url":"https://api.github.com/repos/apache/storm/issues/1599","id":235981986,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTk4MTk4Ng==","user":{"login":"satishd","id":2577761,"node_id":"MDQ6VXNlcjI1Nzc3NjE=","avatar_url":"https://avatars.githubusercontent.com/u/2577761?v=4","gravatar_id":"","url":"https://api.github.com/users/satishd","html_url":"https://github.com/satishd","followers_url":"https://api.github.com/users/satishd/followers","following_url":"https://api.github.com/users/satishd/following{/other_user}","gists_url":"https://api.github.com/users/satishd/gists{/gist_id}","starred_url":"https://api.github.com/users/satishd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishd/subscriptions","organizations_url":"https://api.github.com/users/satishd/orgs","repos_url":"https://api.github.com/users/satishd/repos","events_url":"https://api.github.com/users/satishd/events{/privacy}","received_events_url":"https://api.github.com/users/satishd/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T18:24:13Z","updated_at":"2016-07-28T18:24:13Z","author_association":"MEMBER","body":"+1, LGTM\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/235981986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942318","html_url":"https://github.com/apache/storm/issues/5791#issuecomment-2612942318","issue_url":"https://api.github.com/repos/apache/storm/issues/5791","id":2612942318,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDIzMTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T18:24:15Z","updated_at":"2025-01-24T16:36:06Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user satishd commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1599\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1599</a></p>\n\n<p>    +1, LGTM</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/236044671","html_url":"https://github.com/apache/storm/pull/1595#issuecomment-236044671","issue_url":"https://api.github.com/repos/apache/storm/issues/1595","id":236044671,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNjA0NDY3MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T22:30:20Z","updated_at":"2016-08-01T00:05:32Z","author_association":"CONTRIBUTOR","body":"@ptgoetz \nThat consensus was made with context `breaking change for 1.x`. Sure if we introduce breaking change in 1.x we need to support the old one. But if we go on introducing breaking change only for next major version, I don't think we must follow our consensus.\n\nWe even could introduce completely different way like JStorm. In JStorm metrics are sent to Nimbus, and plugin to external storage is also there, so it might not be topology specific. In this case we could not provide the translation shim, but I don't think it matters if we introduce the change for next major version.\n\nWhen we talk about new API I'd like to focus the new one, not considering how to support the old one. For me, this change is more suited to the old one. There's another level to aggregate, component level, and it might be more preferred thing. Why I take worker+component level aggregation instead of component level aggregation is that it's only possible way to achieve with not breaking current design. That's why we should not consider about old one while designing new one.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/236044671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941906","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941906","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941906,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE5MDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T22:30:22Z","updated_at":"2025-01-24T16:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595</a></p>\n\n<p>    @ptgoetz <br/>\n    That consensus was made with context `breaking change for 1.x`. Sure if we introduce breaking change in 1.x we need to support the old one. But if we go on introducing breaking change only for next major version, I don't think we must follow our consensus.</p>\n\n<p>    We even could introduce completely different way like JStorm. In JStorm metrics are sent to Nimbus, and plugin to external storage is also there, so it might not be topology specific. In this case we could not provide the translation shim, but I don't think it matters if we introduce the change for next major version.</p>\n\n<p>    When we talk about new API I'd like to focus the new one, not considering how to support the old one. For me, this change is more suited to the old one. There's another level to aggregate, component level, and it might be more preferred thing. Why I take worker level aggregation instead of component level aggregation is that it's only possible way to achieve with not breaking current design. That's why we should not consider about old one while designing new one.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942497","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942497","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942497,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI0OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T22:39:58Z","updated_at":"2025-01-24T16:36:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72716209\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72716209</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,89 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length < 2) </p>\n{\n    +    throw new IllegalArgumentException(\"You should provide both command and path.\");\n    +}\n<p>    +<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +String path = args<span class=\"error\">&#91;1&#93;</span>;<br/>\n    +<br/>\n    +Map<String, Object> conf = ConfigUtils.readStormConfig();<br/>\n    +IStateStorage cluster = ClusterUtils.mkStateStorage(conf, conf, null, new ClusterStateContext());<br/>\n    +<br/>\n    +System.out.println(\"Command: <span class=\"error\">&#91;\" + command + \"&#93;</span>\");<br/>\n    +<br/>\n    +switch (command) {<br/>\n    +    case \"list\":<br/>\n    +handleListCommand(cluster, path);<br/>\n    +break;<br/>\n    +<br/>\n    +    case \"get\":<br/>\n    +handleGetCommand(cluster, path);<br/>\n    +break;<br/>\n    +<br/>\n    +    default:<br/>\n    +LOG.info(\"Usage: heartbeats <span class=\"error\">&#91;list|get&#93;</span> path\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Execution detail depends on outside of this class, `storm` and `storm.py` and it would be better for this class to not care about that.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942501","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942501","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942501,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI1MDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T22:40:35Z","updated_at":"2025-01-24T16:36:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72716283\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72716283</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,89 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length < 2) {<br/>\n    +    throw new IllegalArgumentException(\"You should provide both command and path.\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Yes it's more clear. I'll address it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942501/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942506","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942506","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942506,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI1MDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T22:41:30Z","updated_at":"2025-01-24T16:36:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72716386\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72716386</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,89 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length < 2) </p>\n{\n    +    throw new IllegalArgumentException(\"You should provide both command and path.\");\n    +}\n<p>    +<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +String path = args<span class=\"error\">&#91;1&#93;</span>;<br/>\n    +<br/>\n    +Map<String, Object> conf = ConfigUtils.readStormConfig();<br/>\n    +IStateStorage cluster = ClusterUtils.mkStateStorage(conf, conf, null, new ClusterStateContext());<br/>\n    +<br/>\n    +System.out.println(\"Command: <span class=\"error\">&#91;\" + command + \"&#93;</span>\");<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    This is from origin code but it seems that we can change it. I'll address it. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942506/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942509","html_url":"https://github.com/apache/storm/issues/5792#issuecomment-2612942509","issue_url":"https://api.github.com/repos/apache/storm/issues/5792","id":2612942509,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDI1MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-28T22:42:05Z","updated_at":"2025-01-24T16:36:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1598#discussion_r72716452\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1598#discussion_r72716452</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/command/Heartbeats.java &#8212;<br/>\n    @@ -0,0 +1,89 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.command;<br/>\n    +<br/>\n    +import com.google.common.base.Joiner;<br/>\n    +import org.apache.storm.cluster.ClusterStateContext;<br/>\n    +import org.apache.storm.cluster.ClusterUtils;<br/>\n    +import org.apache.storm.cluster.IStateStorage;<br/>\n    +import org.apache.storm.generated.ClusterWorkerHeartbeat;<br/>\n    +import org.apache.storm.stats.StatsUtil;<br/>\n    +import org.apache.storm.utils.ConfigUtils;<br/>\n    +import org.apache.storm.utils.Utils;<br/>\n    +import org.json.simple.JSONValue;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n    +import java.util.Map;<br/>\n    +<br/>\n    +public class Heartbeats {<br/>\n    +    private static final Logger LOG = LoggerFactory.getLogger(Heartbeats.class);<br/>\n    +<br/>\n    +    public static void main(String[] args) throws Exception {<br/>\n    +if (args.length < 2) </p>\n{\n    +    throw new IllegalArgumentException(\"You should provide both command and path.\");\n    +}\n<p>    +<br/>\n    +String command = args<span class=\"error\">&#91;0&#93;</span>;<br/>\n    +String path = args<span class=\"error\">&#91;1&#93;</span>;<br/>\n    +<br/>\n    +Map<String, Object> conf = ConfigUtils.readStormConfig();<br/>\n    +IStateStorage cluster = ClusterUtils.mkStateStorage(conf, conf, null, new ClusterStateContext());<br/>\n    +<br/>\n    +System.out.println(\"Command: <span class=\"error\">&#91;\" + command + \"&#93;</span>\");<br/>\n    +<br/>\n    +switch (command) </p>\n{\n    +    case \"list\":\n    +handleListCommand(cluster, path);\n    +break;\n    +\n    +    case \"get\":\n    +handleGetCommand(cluster, path);\n    +break;\n    +\n    +    default:\n    +LOG.info(\"Usage: heartbeats [list|get] path\");\n    +}\n<p>    +<br/>\n    +try </p>\n{\n    +    cluster.close();\n    +}\n<p> catch (Exception e) {<br/>\n    +    LOG.info(\"Caught exception: {} on close.\", e);<br/>\n    +}<br/>\n    +<br/>\n    +// force process to be terminated<br/>\n    +System.exit(0);<br/>\n    +    }<br/>\n    +<br/>\n    +    private static void handleListCommand(IStateStorage cluster, String path) {<br/>\n    +String message = Joiner.on(\"\\n\").join(cluster.get_worker_hb_children(path, false));<br/>\n    +LOG.info(\"list {}:\\n{}\\n\", path, message);<br/>\n    +    }<br/>\n    +<br/>\n    +    private static void handleGetCommand(IStateStorage cluster, String path) {<br/>\n    +String message;<br/>\n    +byte[] hb = cluster.get_worker_hb(path, false);<br/>\n    +if (hb != null) </p>\n{\n    +    Map<String, Object> heartbeatMap = StatsUtil.convertZkWorkerHb(Utils.deserialize(hb, ClusterWorkerHeartbeat.class));\n    +    message = JSONValue.toJSONString(heartbeatMap);\n    +}\n<p> else {<br/>\n    +    message = \"Nothing\";<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    OK that would be better. I'll address it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612942509/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654864","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612654864","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612654864,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ4NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-29T11:40:20Z","updated_at":"2025-01-24T14:24:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r72778899\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r72778899</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/utils/Utils.java &#8212;<br/>\n    @@ -2364,4 +2374,23 @@ public static long bitXor(Long a, Long b) </p>\n{\n     return rtn;\n }\n\n<p>    +    /**<br/>\n    +     * converts a clojure PersistentMap to java HashMap<br/>\n    +     */<br/>\n    +    public static Map<String, Object> convertMap(Map map) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Will change method name. For parameter type, this method is called in `Executor.mkExecutor` which passes in `Map workerData`, which should later be replaced with a normal java map after worker is ported to java, so I personally prefer the generic Map type instead of using APersistentMap.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654872","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612654872","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612654872,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ4NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-29T11:40:27Z","updated_at":"2025-01-24T14:24:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r72778909\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r72778909</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/daemon/StormCommon.java &#8212;<br/>\n    @@ -539,10 +557,35 @@ protected IAuthorizer mkAuthorizationHandlerImpl(String klassName, Map conf) thr<br/>\n     if (aznHandler != null) </p>\n{\n aznHandler.prepare(conf);\n     }\n<ul class=\"alternate\" type=\"square\">\n\t<li>LOG.debug(\"authorization class name:{}, class:{}, handler:{}\",klassName, aznClass, aznHandler);<br/>\n    +LOG.debug(\"authorization class name:{}, class:{}, handler:{}\", klassName, aznClass, aznHandler);<br/>\n }<br/>\n     }</li>\n</ul>\n\n\n<p>     return aznHandler;<br/>\n }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    public static WorkerTopologyContext makeWorkerContext(Map<String, Object> workerData) {<br/>\n    +try </p>\n{\n    +    StormTopology stormTopology = (StormTopology) workerData.get(Constants.SYSTEM_TOPOLOGY);\n    +    Map stormConf = (Map) workerData.get(Constants.STORM_CONF);\n    +    Map<Integer, String> taskToComponent = (Map<Integer, String>) workerData.get(Constants.TASK_TO_COMPONENT);\n    +    Map<String, List<Integer>> componentToSortedTasks =\n    +    (Map<String, List<Integer>>) workerData.get(Constants.COMPONENT_TO_SOTRTED_TASKS);\n    +    Map<String, Map<String, Fields>> componentToStreamToFields =\n    +    (Map<String, Map<String, Fields>>) workerData.get(Constants.COMPONENT_TO_STREAM_TO_FIELDS);\n    +    String stormId = (String) workerData.get(Constants.STORM_ID);\n    +    Map conf = (Map) workerData.get(Constants.CONF);\n    +    Integer port = (Integer) workerData.get(Constants.PORT);\n    +    String codeDir = ConfigUtils.supervisorStormResourcesPath(ConfigUtils.supervisorStormDistRoot(conf, stormId));\n    +    String pidDir = ConfigUtils.workerPidsRoot(conf, stormId);\n    +    List<Integer> workerTasks = (List<Integer>) workerData.get(Constants.TASK_IDS);\n    +    Map<String, Object> defaultResources = (Map<String, Object>) workerData.get(Constants.DEFAULT_SHARED_RESOURCES);\n    +    Map<String, Object> userResources = (Map<String, Object>) workerData.get(Constants.USER_SHARED_RESOURCES);\n    +    return new WorkerTopologyContext(stormTopology, stormConf, taskToComponent, componentToSortedTasks,\n    +    componentToStreamToFields, stormId, codeDir, pidDir, port, workerTasks, defaultResources, userResources);\n    +}\n<p> catch (IOException e) {<br/>\n    +    throw Utils.wrapInRuntime(e);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    ConfigUtils.supervisorStormDistRoot throws IOException</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654876","html_url":"https://github.com/apache/storm/issues/5114#issuecomment-2612654876","issue_url":"https://api.github.com/repos/apache/storm/issues/5114","id":2612654876,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2NTQ4NzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-29T11:40:31Z","updated_at":"2025-01-24T14:24:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1445#discussion_r72778919\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1445#discussion_r72778919</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/daemon/StormCommon.java &#8212;<br/>\n    @@ -539,10 +557,35 @@ protected IAuthorizer mkAuthorizationHandlerImpl(String klassName, Map conf) thr<br/>\n     if (aznHandler != null) </p>\n{\n aznHandler.prepare(conf);\n     }\n<ul class=\"alternate\" type=\"square\">\n\t<li>LOG.debug(\"authorization class name:{}, class:{}, handler:{}\",klassName, aznClass, aznHandler);<br/>\n    +LOG.debug(\"authorization class name:{}, class:{}, handler:{}\", klassName, aznClass, aznHandler);<br/>\n }<br/>\n     }</li>\n</ul>\n\n\n<p>     return aznHandler;<br/>\n }<br/>\n    +<br/>\n    +    @SuppressWarnings(\"unchecked\")<br/>\n    +    public static WorkerTopologyContext makeWorkerContext(Map<String, Object> workerData) {<br/>\n    +try {<br/>\n    +    StormTopology stormTopology = (StormTopology) workerData.get(Constants.SYSTEM_TOPOLOGY);<br/>\n    +    Map stormConf = (Map) workerData.get(Constants.STORM_CONF);<br/>\n    +    Map<Integer, String> taskToComponent = (Map<Integer, String>) workerData.get(Constants.TASK_TO_COMPONENT);<br/>\n    +    Map<String, List<Integer>> componentToSortedTasks =<br/>\n    +    (Map<String, List<Integer>>) workerData.get(Constants.COMPONENT_TO_SOTRTED_TASKS);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    ah, good catch! will address.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612654876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941917","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941917","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941917,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE5MTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-29T11:43:46Z","updated_at":"2025-01-24T16:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72779215\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72779215</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/daemon/StormCommon.java &#8212;<br/>\n    @@ -436,7 +414,9 @@ public static void addMetricComponents(Map conf, StormTopology topology) {<br/>\n public static void addSystemComponents(Map conf, StormTopology topology) {<br/>\n     Map<String, StreamInfo> outputStreams = new HashMap<String, StreamInfo>();<br/>\n     outputStreams.put(Constants.SYSTEM_TICK_STREAM_ID, Thrift.outputFields(Arrays.asList(\"rate_secs\")));<br/>\n    +outputStreams.put(Constants.METRICS_STREAM_ID, Thrift.directOutputFields(Arrays.asList(\"task-info\", \"data-points\")));<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    is it needed?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941922","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941922","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941922,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE5MjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-29T11:44:35Z","updated_at":"2025-01-24T16:35:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72779300\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72779300</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/SystemBolt.java &#8212;<br/>\n    @@ -156,7 +219,103 @@ private void registerMetrics(TopologyContext context, Map<String, String> metric</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>throw new RuntimeException(\"Non-system tuples should never be sent to __system bolt.\");\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    can we check that the incoming stream is METRICS_STREAM and throw same exception if its not?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941929","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941929","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941929,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE5Mjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-29T12:02:40Z","updated_at":"2025-01-24T16:35:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595#discussion_r72780835\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595#discussion_r72780835</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/SystemBolt.java &#8212;<br/>\n    @@ -156,7 +219,103 @@ private void registerMetrics(TopologyContext context, Map<String, String> metric</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>throw new RuntimeException(\"Non-system tuples should never be sent to __system bolt.\");<br/>\n    +IMetricsConsumer.TaskInfo taskInfo = (IMetricsConsumer.TaskInfo) input.getValue(0);<br/>\n    +Collection<IMetricsConsumer.DataPoint> dataPoints = (Collection) input.getValue(1);<br/>\n    +Collection<IMetricsConsumer.DataPoint> expandedDataPoints = expander.expandDataPoints(dataPoints);<br/>\n    +<br/>\n    +if (aggregateMode) \n{\n    +    handleMetricTupleInAggregateMode(taskInfo, expandedDataPoints);\n    +}\n<p> else </p>\n{\n    +    collector.emit(Constants.METRICS_AGGREGATE_STREAM_ID, new Values(taskInfo, expandedDataPoints));\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private void handleMetricTupleInAggregateMode(IMetricsConsumer.TaskInfo taskInfo, Collection<IMetricsConsumer.DataPoint> expandedDataPoints) {<br/>\n    +Map<Integer, TaskInfoToDataPointsPair> taskToMetricTupleMap = intervalToTaskToMetricTupleMap.get(taskInfo.updateIntervalSecs);<br/>\n    +if (taskToMetricTupleMap == null) </p>\n{\n    +    taskToMetricTupleMap = new HashMap<>();\n    +    intervalToTaskToMetricTupleMap.put(taskInfo.updateIntervalSecs, taskToMetricTupleMap);\n    +}\n<p>    +<br/>\n    +taskToMetricTupleMap.put(taskInfo.srcTaskId, new TaskInfoToDataPointsPair(taskInfo, expandedDataPoints));</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I didn't get this. It overrides the older information with newer one. what if the data point for same task is received before 'isOKtoAggregateMetricsTuples` is true. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/236166780","html_url":"https://github.com/apache/storm/pull/1595#issuecomment-236166780","issue_url":"https://api.github.com/repos/apache/storm/issues/1595","id":236166780,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNjE2Njc4MA==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-29T12:23:18Z","updated_at":"2016-07-29T12:23:18Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR - Thanks for putting in efforts on improving metrics.  The approach of passing metrics via system bolt looks agreeable to me. Though I would still prefer \"Two types of metric consumers approach\". \nSecondly regarding aggregation, component level aggregation is much more preferred. That is what we do in external systems. Simply for the reason that  `total number of messages processed by component A` is more useful and actionable information than `total number of messages processed on this machine and port`. If the component information is being let go during aggregation, I don't think it will be used much. At least I wouldn't in our production system. \n\nLoad among tasks is usually homogenous and uniform (law of large numbers) but same is not true for different components which execute different code altogether. I think just aggregating per worker+component combination would also reduce the amount of metrics being emitted and still keep the metrics useful.\n\nThirdly, the assumption that a metric being declared with 60 second update interval will actually come in 60 second intervals is not correct. They can come with 120 seconds apart or they can also come 5 seconds apart (depending on how fast or slow the task is). \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/236166780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941932","html_url":"https://github.com/apache/storm/issues/5788#issuecomment-2612941932","issue_url":"https://api.github.com/repos/apache/storm/issues/5788","id":2612941932,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5NDE5MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-29T12:23:21Z","updated_at":"2025-01-24T16:35:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the issue:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1595\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1595</a></p>\n\n<p>    @HeartSaVioR - Thanks for putting in efforts on improving metrics.  The approach of passing metrics via system bolt looks agreeable to me. Though I would still prefer \"Two types of metric consumers approach\". <br/>\n    Secondly regarding aggregation, component level aggregation is much more preferred. That is what we do in external systems. Simply for the reason that  `total number of messages processed by component A` is more useful and actionable information than `total number of messages processed on this machine and port`. If the component information is being let go during aggregation, I don't think it will be used much. At least I wouldn't in our production system. </p>\n\n<p>    Load among tasks is usually homogenous and uniform (law of large numbers) but same is not true for different components which execute different code altogether. I think just aggregating per worker+component combination would also reduce the amount of metrics being emitted and still keep the metrics useful.</p>\n\n<p>    Thirdly, the assumption that a metric being declared with 60 second update interval will actually come in 60 second intervals is not correct. They can come with 120 seconds apart or they can also come 5 seconds apart (depending on how fast or slow the task is). </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612941932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]