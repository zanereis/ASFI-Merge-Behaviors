[{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809077124","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809077124","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809077124,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTA3NzEyNA==","user":{"login":"ifplusor","id":9999114,"node_id":"MDQ6VXNlcjk5OTkxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9999114?v=4","gravatar_id":"","url":"https://api.github.com/users/ifplusor","html_url":"https://github.com/ifplusor","followers_url":"https://api.github.com/users/ifplusor/followers","following_url":"https://api.github.com/users/ifplusor/following{/other_user}","gists_url":"https://api.github.com/users/ifplusor/gists{/gist_id}","starred_url":"https://api.github.com/users/ifplusor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ifplusor/subscriptions","organizations_url":"https://api.github.com/users/ifplusor/orgs","repos_url":"https://api.github.com/users/ifplusor/repos","events_url":"https://api.github.com/users/ifplusor/events{/privacy}","received_events_url":"https://api.github.com/users/ifplusor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T05:28:11Z","updated_at":"2021-03-29T09:17:37Z","author_association":"CONTRIBUTOR","body":"~~@zcsh0721 Producer 和 Consumer 共享 MQClientInstance，如果 Producer 先刷新了一个 topic 的 TopicRouteData，则 Consumer 启动的时候再刷新该 topic 的 TopicRouteData，因为 TopicRouteData 与本地缓存一致，不会触发 Consumer 的 rebalance 过程，导致 Consumer 无法消费。~~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809077124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809082895","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809082895","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809082895,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTA4Mjg5NQ==","user":{"login":"ifplusor","id":9999114,"node_id":"MDQ6VXNlcjk5OTkxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9999114?v=4","gravatar_id":"","url":"https://api.github.com/users/ifplusor","html_url":"https://github.com/ifplusor","followers_url":"https://api.github.com/users/ifplusor/followers","following_url":"https://api.github.com/users/ifplusor/following{/other_user}","gists_url":"https://api.github.com/users/ifplusor/gists{/gist_id}","starred_url":"https://api.github.com/users/ifplusor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ifplusor/subscriptions","organizations_url":"https://api.github.com/users/ifplusor/orgs","repos_url":"https://api.github.com/users/ifplusor/repos","events_url":"https://api.github.com/users/ifplusor/events{/privacy}","received_events_url":"https://api.github.com/users/ifplusor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T05:40:44Z","updated_at":"2021-03-29T09:17:47Z","author_association":"CONTRIBUTOR","body":"~~多个 DefaultMQPushConsumer 共享 MQClientInstance，并订阅相同 topic 也有同样的问题。这里应该优化代码逻辑。~~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809082895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809092705","html_url":"https://github.com/apache/rocketmq/issues/2735#issuecomment-809092705","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2735","id":809092705,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTA5MjcwNQ==","user":{"login":"wordKuaiLei","id":40828438,"node_id":"MDQ6VXNlcjQwODI4NDM4","avatar_url":"https://avatars.githubusercontent.com/u/40828438?v=4","gravatar_id":"","url":"https://api.github.com/users/wordKuaiLei","html_url":"https://github.com/wordKuaiLei","followers_url":"https://api.github.com/users/wordKuaiLei/followers","following_url":"https://api.github.com/users/wordKuaiLei/following{/other_user}","gists_url":"https://api.github.com/users/wordKuaiLei/gists{/gist_id}","starred_url":"https://api.github.com/users/wordKuaiLei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wordKuaiLei/subscriptions","organizations_url":"https://api.github.com/users/wordKuaiLei/orgs","repos_url":"https://api.github.com/users/wordKuaiLei/repos","events_url":"https://api.github.com/users/wordKuaiLei/events{/privacy}","received_events_url":"https://api.github.com/users/wordKuaiLei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T06:00:11Z","updated_at":"2021-03-29T06:00:11Z","author_association":"NONE","body":"Hi, I want to try\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809092705/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809155792","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809155792","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809155792,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE1NTc5Mg==","user":{"login":"zcsh0721","id":43027219,"node_id":"MDQ6VXNlcjQzMDI3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/43027219?v=4","gravatar_id":"","url":"https://api.github.com/users/zcsh0721","html_url":"https://github.com/zcsh0721","followers_url":"https://api.github.com/users/zcsh0721/followers","following_url":"https://api.github.com/users/zcsh0721/following{/other_user}","gists_url":"https://api.github.com/users/zcsh0721/gists{/gist_id}","starred_url":"https://api.github.com/users/zcsh0721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcsh0721/subscriptions","organizations_url":"https://api.github.com/users/zcsh0721/orgs","repos_url":"https://api.github.com/users/zcsh0721/repos","events_url":"https://api.github.com/users/zcsh0721/events{/privacy}","received_events_url":"https://api.github.com/users/zcsh0721/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T07:50:15Z","updated_at":"2021-03-29T07:50:15Z","author_association":"NONE","body":"@ifplusor  有两个问题\r\n1. 我刚刚试了一下, `instanceName=UtilAll.getPid()` 版本的代码, 手动刷新了 Producer 的 TopicRouteData , 然后在启动 consumer , 并没有发现无法消费的问题,,可以提示我一下,影响无法消费的代码在哪里吗, 谢谢~\r\n2. 如果有你说的问题, 那么用随机 instanceName 的方式解决, 所带来的线程几乎翻倍的问题, 怎么处理? 这种处理方式会不会太粗暴了一点...\r\n ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809155792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809163115","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809163115","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809163115,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE2MzExNQ==","user":{"login":"ifplusor","id":9999114,"node_id":"MDQ6VXNlcjk5OTkxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9999114?v=4","gravatar_id":"","url":"https://api.github.com/users/ifplusor","html_url":"https://github.com/ifplusor","followers_url":"https://api.github.com/users/ifplusor/followers","following_url":"https://api.github.com/users/ifplusor/following{/other_user}","gists_url":"https://api.github.com/users/ifplusor/gists{/gist_id}","starred_url":"https://api.github.com/users/ifplusor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ifplusor/subscriptions","organizations_url":"https://api.github.com/users/ifplusor/orgs","repos_url":"https://api.github.com/users/ifplusor/repos","events_url":"https://api.github.com/users/ifplusor/events{/privacy}","received_events_url":"https://api.github.com/users/ifplusor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:00:46Z","updated_at":"2021-03-29T08:00:57Z","author_association":"CONTRIBUTOR","body":"@zcsh0721 你是怎么手动刷的，调用的fetchPublishMessageQueues吗？这种方式不行，要用send发消息。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809163115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809166289","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809166289","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809166289,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE2NjI4OQ==","user":{"login":"ifplusor","id":9999114,"node_id":"MDQ6VXNlcjk5OTkxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9999114?v=4","gravatar_id":"","url":"https://api.github.com/users/ifplusor","html_url":"https://github.com/ifplusor","followers_url":"https://api.github.com/users/ifplusor/followers","following_url":"https://api.github.com/users/ifplusor/following{/other_user}","gists_url":"https://api.github.com/users/ifplusor/gists{/gist_id}","starred_url":"https://api.github.com/users/ifplusor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ifplusor/subscriptions","organizations_url":"https://api.github.com/users/ifplusor/orgs","repos_url":"https://api.github.com/users/ifplusor/repos","events_url":"https://api.github.com/users/ifplusor/events{/privacy}","received_events_url":"https://api.github.com/users/ifplusor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:05:30Z","updated_at":"2021-03-29T09:18:28Z","author_association":"CONTRIBUTOR","body":"对这个问题，可以优化consumer启动时更新TopicRouteData的逻辑，优先从本地缓存里获取。比如这样：https://github.com/apache/rocketmq-client-cpp/commit/f3a9097f612acf6db90c6f62e1a2fe87277e5e81","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809166289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809166480","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809166480","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809166480,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE2NjQ4MA==","user":{"login":"zcsh0721","id":43027219,"node_id":"MDQ6VXNlcjQzMDI3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/43027219?v=4","gravatar_id":"","url":"https://api.github.com/users/zcsh0721","html_url":"https://github.com/zcsh0721","followers_url":"https://api.github.com/users/zcsh0721/followers","following_url":"https://api.github.com/users/zcsh0721/following{/other_user}","gists_url":"https://api.github.com/users/zcsh0721/gists{/gist_id}","starred_url":"https://api.github.com/users/zcsh0721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcsh0721/subscriptions","organizations_url":"https://api.github.com/users/zcsh0721/orgs","repos_url":"https://api.github.com/users/zcsh0721/repos","events_url":"https://api.github.com/users/zcsh0721/events{/privacy}","received_events_url":"https://api.github.com/users/zcsh0721/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:05:46Z","updated_at":"2021-03-29T08:05:46Z","author_association":"NONE","body":"@if\r\n `ConcurrentMap<String, TopicRouteData> table = producer.getDefaultMQProducerImpl().getmQClientFactory().getTopicRouteTable();` \r\n这样可以吧 , 而且 我也发送消息了\r\n完整测试代码 \r\n```\r\n    public static void main(String[] args) throws InterruptedException, MQClientException {\r\n\r\n\r\n        DefaultMQProducer producer = new DefaultMQProducer(\"please_rename_unique_group_name\");\r\n        producer.setNamesrvAddr(\"127.0.0.1:9876\");\r\n\r\n        for (int i = 0; i < 1000; i++) {\r\n            try {\r\n                Message msg = new Message(\"TopicTest\" /* Topic */,\r\n                    \"TagA\" /* Tag */,\r\n                    (\"Hello RocketMQ \" + i).getBytes(RemotingHelper.DEFAULT_CHARSET) /* Message body */\r\n                );\r\n                SendResult sendResult = producer.send(msg);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n\r\n//        producer.shutdown();\r\n\r\n        ConcurrentMap<String, TopicRouteData> table = producer.getDefaultMQProducerImpl().getmQClientFactory().getTopicRouteTable();\r\n        System.out.println(table);\r\n        Thread.sleep(10000L);\r\n        System.out.println(\"*************************************************************\");\r\n        \r\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"please_rename_unique_group_name_4\");\r\n        consumer.setNamesrvAddr(\"127.0.0.1:9876\");\r\n        consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET);\r\n        consumer.subscribe(\"TopicTest\", \"*\");\r\n        consumer.registerMessageListener(new MessageListenerConcurrently() {\r\n\r\n            @Override\r\n            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs,\r\n                ConsumeConcurrentlyContext context) {\r\n                System.out.printf(\"%s Receive New Messages: %s %n\", Thread.currentThread().getName(), msgs);\r\n                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;\r\n            }\r\n        });\r\n        consumer.start();\r\n\r\n        System.out.printf(\"Consumer Started.%n\");\r\n    }\r\n```\r\n \r\n 我把 `ClientConfig.changeInstanceNameToPID()`改为如下\r\n```\r\n    public void changeInstanceNameToPID() {\r\n        if (this.instanceName.equals(\"DEFAULT\")) {\r\n            this.instanceName = UtilAll.getPid() +\"\";\r\n            System.out.println(\"instanceName=\" + instanceName);\r\n        }\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809166480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809167886","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809167886","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809167886,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE2Nzg4Ng==","user":{"login":"ifplusor","id":9999114,"node_id":"MDQ6VXNlcjk5OTkxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9999114?v=4","gravatar_id":"","url":"https://api.github.com/users/ifplusor","html_url":"https://github.com/ifplusor","followers_url":"https://api.github.com/users/ifplusor/followers","following_url":"https://api.github.com/users/ifplusor/following{/other_user}","gists_url":"https://api.github.com/users/ifplusor/gists{/gist_id}","starred_url":"https://api.github.com/users/ifplusor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ifplusor/subscriptions","organizations_url":"https://api.github.com/users/ifplusor/orgs","repos_url":"https://api.github.com/users/ifplusor/repos","events_url":"https://api.github.com/users/ifplusor/events{/privacy}","received_events_url":"https://api.github.com/users/ifplusor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:07:57Z","updated_at":"2021-03-29T08:07:57Z","author_association":"CONTRIBUTOR","body":"@zcsh0721 producer 没有 start","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809167886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809169615","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809169615","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809169615,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE2OTYxNQ==","user":{"login":"zcsh0721","id":43027219,"node_id":"MDQ6VXNlcjQzMDI3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/43027219?v=4","gravatar_id":"","url":"https://api.github.com/users/zcsh0721","html_url":"https://github.com/zcsh0721","followers_url":"https://api.github.com/users/zcsh0721/followers","following_url":"https://api.github.com/users/zcsh0721/following{/other_user}","gists_url":"https://api.github.com/users/zcsh0721/gists{/gist_id}","starred_url":"https://api.github.com/users/zcsh0721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcsh0721/subscriptions","organizations_url":"https://api.github.com/users/zcsh0721/orgs","repos_url":"https://api.github.com/users/zcsh0721/repos","events_url":"https://api.github.com/users/zcsh0721/events{/privacy}","received_events_url":"https://api.github.com/users/zcsh0721/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:10:26Z","updated_at":"2021-03-29T08:10:26Z","author_association":"NONE","body":"@ifplusor  呃呃 是我贴代码的时候, 删注释的时候删掉了,,; 我测试的时候 producer 在 for循环前 start 了","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809169615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809172234","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809172234","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809172234,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE3MjIzNA==","user":{"login":"zcsh0721","id":43027219,"node_id":"MDQ6VXNlcjQzMDI3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/43027219?v=4","gravatar_id":"","url":"https://api.github.com/users/zcsh0721","html_url":"https://github.com/zcsh0721","followers_url":"https://api.github.com/users/zcsh0721/followers","following_url":"https://api.github.com/users/zcsh0721/following{/other_user}","gists_url":"https://api.github.com/users/zcsh0721/gists{/gist_id}","starred_url":"https://api.github.com/users/zcsh0721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcsh0721/subscriptions","organizations_url":"https://api.github.com/users/zcsh0721/orgs","repos_url":"https://api.github.com/users/zcsh0721/repos","events_url":"https://api.github.com/users/zcsh0721/events{/privacy}","received_events_url":"https://api.github.com/users/zcsh0721/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:14:25Z","updated_at":"2021-03-29T08:14:25Z","author_association":"NONE","body":"```\r\n    public static void main(String[] args) throws InterruptedException, MQClientException {\r\n\r\n\r\n        DefaultMQProducer producer = new DefaultMQProducer(\"please_rename_unique_group_name\");\r\n\r\n        producer.setNamesrvAddr(\"127.0.0.1:9876\");\r\n        producer.start();\r\n\r\n        for (int i = 0; i < 5; i++) {\r\n            try {\r\n                Message msg = new Message(\"TopicTest\" /* Topic */,\r\n                    \"TagA\" /* Tag */,\r\n                    (\"Hello RocketMQ \" + i).getBytes(RemotingHelper.DEFAULT_CHARSET) /* Message body */\r\n                );\r\n\r\n                SendResult sendResult = producer.send(msg);\r\n                System.out.printf(\"%s%n\", sendResult);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n                Thread.sleep(1000);\r\n            }\r\n        }\r\n\r\n//        producer.shutdown();\r\n\r\n        ConcurrentMap<String, TopicRouteData> table = producer.getDefaultMQProducerImpl().getmQClientFactory().getTopicRouteTable();\r\n        Thread.sleep(10000L);\r\n\r\n        System.out.println(\"*************************************************************\");\r\n\r\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(\"please_rename_unique_group_name_4\");\r\n        consumer.setNamesrvAddr(\"127.0.0.1:9876\");\r\n        consumer.setConsumeFromWhere(ConsumeFromWhere.CONSUME_FROM_FIRST_OFFSET);\r\n        consumer.subscribe(\"TopicTest\", \"*\");\r\n        consumer.registerMessageListener(new MessageListenerConcurrently() {\r\n\r\n            @Override\r\n            public ConsumeConcurrentlyStatus consumeMessage(List<MessageExt> msgs,\r\n                ConsumeConcurrentlyContext context) {\r\n                System.out.printf(\"%s Receive New Messages: %s %n\", Thread.currentThread().getName(), msgs);\r\n                return ConsumeConcurrentlyStatus.CONSUME_SUCCESS;\r\n            }\r\n        });\r\n\r\n        consumer.start();\r\n\r\n        System.out.printf(\"Consumer Started.%n\");\r\n    }\r\n```\r\n![image](https://user-images.githubusercontent.com/43027219/112806807-c857c480-90a9-11eb-9538-778a044f09f5.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809172234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809172627","html_url":"https://github.com/apache/rocketmq/issues/2760#issuecomment-809172627","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2760","id":809172627,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE3MjYyNw==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:14:54Z","updated_at":"2021-03-29T08:14:54Z","author_association":"CONTRIBUTOR","body":"This is because the ip and process number obtained by the two containers are the same. You can set different instanceName attributes for each container.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809172627/reactions","total_count":1,"+1":0,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809179534","html_url":"https://github.com/apache/rocketmq/pull/2729#issuecomment-809179534","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2729","id":809179534,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTE3OTUzNA==","user":{"login":"Baoanh217","id":78870538,"node_id":"MDQ6VXNlcjc4ODcwNTM4","avatar_url":"https://avatars.githubusercontent.com/u/78870538?v=4","gravatar_id":"","url":"https://api.github.com/users/Baoanh217","html_url":"https://github.com/Baoanh217","followers_url":"https://api.github.com/users/Baoanh217/followers","following_url":"https://api.github.com/users/Baoanh217/following{/other_user}","gists_url":"https://api.github.com/users/Baoanh217/gists{/gist_id}","starred_url":"https://api.github.com/users/Baoanh217/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Baoanh217/subscriptions","organizations_url":"https://api.github.com/users/Baoanh217/orgs","repos_url":"https://api.github.com/users/Baoanh217/repos","events_url":"https://api.github.com/users/Baoanh217/events{/privacy}","received_events_url":"https://api.github.com/users/Baoanh217/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:24:59Z","updated_at":"2021-03-29T08:24:59Z","author_association":"NONE","body":"Huoc","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809179534/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809200254","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809200254","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809200254,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTIwMDI1NA==","user":{"login":"ifplusor","id":9999114,"node_id":"MDQ6VXNlcjk5OTkxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9999114?v=4","gravatar_id":"","url":"https://api.github.com/users/ifplusor","html_url":"https://github.com/ifplusor","followers_url":"https://api.github.com/users/ifplusor/followers","following_url":"https://api.github.com/users/ifplusor/following{/other_user}","gists_url":"https://api.github.com/users/ifplusor/gists{/gist_id}","starred_url":"https://api.github.com/users/ifplusor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ifplusor/subscriptions","organizations_url":"https://api.github.com/users/ifplusor/orgs","repos_url":"https://api.github.com/users/ifplusor/repos","events_url":"https://api.github.com/users/ifplusor/events{/privacy}","received_events_url":"https://api.github.com/users/ifplusor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T08:54:53Z","updated_at":"2021-03-29T08:54:53Z","author_association":"CONTRIBUTOR","body":"@zcsh0721 我又跟了一下代码，MQClientInstance::updateTopicRouteInfoFromNameServer里在changed为false时还有一个isNeedUpdateTopicRouteInfo的逻辑，是我看漏了。\r\n\r\n还有个问题是 rpc 超时会断开连接，共享 MQClientInstance 会产生全局影响。这是个权衡问题。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809200254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809207226","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809207226","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809207226,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTIwNzIyNg==","user":{"login":"zcsh0721","id":43027219,"node_id":"MDQ6VXNlcjQzMDI3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/43027219?v=4","gravatar_id":"","url":"https://api.github.com/users/zcsh0721","html_url":"https://github.com/zcsh0721","followers_url":"https://api.github.com/users/zcsh0721/followers","following_url":"https://api.github.com/users/zcsh0721/following{/other_user}","gists_url":"https://api.github.com/users/zcsh0721/gists{/gist_id}","starred_url":"https://api.github.com/users/zcsh0721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcsh0721/subscriptions","organizations_url":"https://api.github.com/users/zcsh0721/orgs","repos_url":"https://api.github.com/users/zcsh0721/repos","events_url":"https://api.github.com/users/zcsh0721/events{/privacy}","received_events_url":"https://api.github.com/users/zcsh0721/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T09:03:51Z","updated_at":"2021-03-29T09:03:51Z","author_association":"NONE","body":"@ifplusor  还有别的原因吗,这个原因感觉不是很有说服. 毕竟这个改变对客户端来说变化还挺大的.  但是想不清楚,因为什么而做的这种改变;","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809207226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809208792","html_url":"https://github.com/apache/rocketmq/issues/2760#issuecomment-809208792","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2760","id":809208792,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTIwODc5Mg==","user":{"login":"deanisty","id":8457847,"node_id":"MDQ6VXNlcjg0NTc4NDc=","avatar_url":"https://avatars.githubusercontent.com/u/8457847?v=4","gravatar_id":"","url":"https://api.github.com/users/deanisty","html_url":"https://github.com/deanisty","followers_url":"https://api.github.com/users/deanisty/followers","following_url":"https://api.github.com/users/deanisty/following{/other_user}","gists_url":"https://api.github.com/users/deanisty/gists{/gist_id}","starred_url":"https://api.github.com/users/deanisty/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/deanisty/subscriptions","organizations_url":"https://api.github.com/users/deanisty/orgs","repos_url":"https://api.github.com/users/deanisty/repos","events_url":"https://api.github.com/users/deanisty/events{/privacy}","received_events_url":"https://api.github.com/users/deanisty/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T09:05:50Z","updated_at":"2021-03-29T09:05:50Z","author_association":"NONE","body":"> This is because the ip and process number obtained by the two containers are the same. You can set different instanceName attributes for each container.\r\n\r\nGot it, tks !","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809208792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809255981","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809255981","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809255981,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTI1NTk4MQ==","user":{"login":"ifplusor","id":9999114,"node_id":"MDQ6VXNlcjk5OTkxMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/9999114?v=4","gravatar_id":"","url":"https://api.github.com/users/ifplusor","html_url":"https://github.com/ifplusor","followers_url":"https://api.github.com/users/ifplusor/followers","following_url":"https://api.github.com/users/ifplusor/following{/other_user}","gists_url":"https://api.github.com/users/ifplusor/gists{/gist_id}","starred_url":"https://api.github.com/users/ifplusor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ifplusor/subscriptions","organizations_url":"https://api.github.com/users/ifplusor/orgs","repos_url":"https://api.github.com/users/ifplusor/repos","events_url":"https://api.github.com/users/ifplusor/events{/privacy}","received_events_url":"https://api.github.com/users/ifplusor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T10:10:07Z","updated_at":"2021-03-29T10:10:07Z","author_association":"CONTRIBUTOR","body":"@zcsh0721 我和其他同学交流了一下，这个变更的目的是应对容器化部署环境下pid冲突的情况。想复用MQClientInstance可以手动设置instanceName。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809255981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809263602","html_url":"https://github.com/apache/rocketmq/issues/2730#issuecomment-809263602","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2730","id":809263602,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTI2MzYwMg==","user":{"login":"zcsh0721","id":43027219,"node_id":"MDQ6VXNlcjQzMDI3MjE5","avatar_url":"https://avatars.githubusercontent.com/u/43027219?v=4","gravatar_id":"","url":"https://api.github.com/users/zcsh0721","html_url":"https://github.com/zcsh0721","followers_url":"https://api.github.com/users/zcsh0721/followers","following_url":"https://api.github.com/users/zcsh0721/following{/other_user}","gists_url":"https://api.github.com/users/zcsh0721/gists{/gist_id}","starred_url":"https://api.github.com/users/zcsh0721/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zcsh0721/subscriptions","organizations_url":"https://api.github.com/users/zcsh0721/orgs","repos_url":"https://api.github.com/users/zcsh0721/repos","events_url":"https://api.github.com/users/zcsh0721/events{/privacy}","received_events_url":"https://api.github.com/users/zcsh0721/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-29T10:21:17Z","updated_at":"2021-03-29T10:21:17Z","author_association":"NONE","body":"@ifplusor  ok,  这就很合理了; 我刚刚也看到了可以手动设置 instanceName 的方法; \r\n谢谢细心解答~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809263602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809896451","html_url":"https://github.com/apache/rocketmq/pull/2758#issuecomment-809896451","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2758","id":809896451,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTg5NjQ1MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T04:22:39Z","updated_at":"2021-03-30T04:26:19Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2758?src=pr&el=h1) Report\n> Merging [#2758](https://codecov.io/gh/apache/rocketmq/pull/2758?src=pr&el=desc) (7680063) into [develop](https://codecov.io/gh/apache/rocketmq/commit/39bb9386f10d5d8dfe81183c172a3a86f6d313bd?el=desc) (39bb938) will **increase** coverage by `2.36%`.\n> The diff coverage is `30.30%`.\n\n> :exclamation: Current head 7680063 differs from pull request most recent head fd48a86. Consider uploading reports for the commit fd48a86 to get more accurate results\n[![Impacted file tree graph](https://codecov.io/gh/apache/rocketmq/pull/2758/graphs/tree.svg?width=650&height=150&src=pr&token=4w0sxP1wZv)](https://codecov.io/gh/apache/rocketmq/pull/2758?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             develop    #2758      +/-   ##\n=============================================\n+ Coverage      46.14%   48.51%   +2.36%     \n+ Complexity      4339     3183    -1156     \n=============================================\n  Files            547      418     -129     \n  Lines          36236    26379    -9857     \n  Branches        4808     3505    -1303     \n=============================================\n- Hits           16722    12798    -3924     \n+ Misses         17442    11931    -5511     \n+ Partials        2072     1650     -422     \n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/rocketmq/pull/2758?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../rocketmq/broker/offset/ConsumerOffsetManager.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvb2Zmc2V0L0NvbnN1bWVyT2Zmc2V0TWFuYWdlci5qYXZh) | `15.70% <0.00%> (-1.58%)` | `8.00 <0.00> (ø)` | |\n| [...ocketmq/broker/processor/AdminBrokerProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL0FkbWluQnJva2VyUHJvY2Vzc29yLmphdmE=) | `7.96% <0.00%> (-0.02%)` | `13.00 <0.00> (ø)` | |\n| [...l/header/DeleteSubscriptionGroupRequestHeader.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vcHJvdG9jb2wvaGVhZGVyL0RlbGV0ZVN1YnNjcmlwdGlvbkdyb3VwUmVxdWVzdEhlYWRlci5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...e/rocketmq/remoting/netty/NettyRemotingClient.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L05ldHR5UmVtb3RpbmdDbGllbnQuamF2YQ==) | `47.24% <33.33%> (+0.32%)` | `26.00 <0.00> (ø)` | |\n| [...org/apache/rocketmq/store/DefaultMessageStore.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-c3RvcmUvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3N0b3JlL0RlZmF1bHRNZXNzYWdlU3RvcmUuamF2YQ==) | `56.45% <33.33%> (-0.13%)` | `110.00 <0.00> (+1.00)` | :arrow_down: |\n| [...ache/rocketmq/broker/topic/TopicConfigManager.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvdG9waWMvVG9waWNDb25maWdNYW5hZ2VyLmphdmE=) | `59.00% <57.14%> (ø)` | `16.00 <1.00> (ø)` | |\n| [...org/apache/rocketmq/broker/out/BrokerOuterAPI.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvb3V0L0Jyb2tlck91dGVyQVBJLmphdmE=) | `46.47% <100.00%> (ø)` | `12.00 <0.00> (ø)` | |\n| [...ocketmq/broker/processor/PullMessageProcessor.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-YnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9icm9rZXIvcHJvY2Vzc29yL1B1bGxNZXNzYWdlUHJvY2Vzc29yLmphdmE=) | `41.28% <100.00%> (ø)` | `19.00 <1.00> (ø)` | |\n| [...a/org/apache/rocketmq/common/filter/FilterAPI.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-Y29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9yb2NrZXRtcS9jb21tb24vZmlsdGVyL0ZpbHRlckFQSS5qYXZh) | `48.48% <100.00%> (ø)` | `5.00 <0.00> (ø)` | |\n| [.../org/apache/rocketmq/remoting/netty/TlsHelper.java](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree#diff-cmVtb3Rpbmcvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL3JvY2tldG1xL3JlbW90aW5nL25ldHR5L1Rsc0hlbHBlci5qYXZh) | `71.57% <100.00%> (ø)` | `15.00 <0.00> (ø)` | |\n| ... and [129 more](https://codecov.io/gh/apache/rocketmq/pull/2758/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/rocketmq/pull/2758?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/rocketmq/pull/2758?src=pr&el=footer). Last update [39bb938...fd48a86](https://codecov.io/gh/apache/rocketmq/pull/2758?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809896451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809898689","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809898689","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809898689,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTg5ODY4OQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T04:29:33Z","updated_at":"2021-03-30T04:29:33Z","author_association":"CONTRIBUTOR","body":"有可能是console到broker的网络不通导致的，可以telnet broker的节点信息看下","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809898689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809904331","html_url":"https://github.com/apache/rocketmq/pull/2765#issuecomment-809904331","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2765","id":809904331,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTkwNDMzMQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T04:46:57Z","updated_at":"2021-03-30T04:46:57Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38366289/badge)](https://coveralls.io/builds/38366289)\n\nCoverage decreased (-0.1%) to 51.797% when pulling **ccd96b5443e48e3892efe6010a4f9467b8d722ba on BurningCN:provides_overloaded_constructors** into **3ae251751586b940b7467284966ec4fe93f86be1 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809904331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809927280","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809927280","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809927280,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTkyNzI4MA==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T05:41:53Z","updated_at":"2021-03-30T05:47:26Z","author_association":"NONE","body":"> 有可能是console到broker的网络不通导致的，可以telnet broker的节点信息看下\r\n\r\n您好，额不是的，我现在操作的单机，只有一台宿主机(192.168.31.246)上面起的容器去通信，他们之间通信也是这个IP，还有什么可以侦察日志的办法嘛？\r\n\r\n因为我看到了自己本身打印的日志中出现了这些\r\n```log\r\n2021-03-30 11:19:06 INFO brokerOutApi_thread_1 - register broker to name server rmqnamesrv:9876 OK\r\n2021-03-30 11:19:36 INFO brokerOutApi_thread_2 - register broker to name server rmqnamesrv:9876 OK\r\n```\r\n说是注册成功了，是不是还有什么别的侦察方向，我试着Google了下别人的例子，结果并没有那么的理想。~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809927280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809933332","html_url":"https://github.com/apache/rocketmq/pull/2767#issuecomment-809933332","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2767","id":809933332,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTkzMzMzMg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T05:56:17Z","updated_at":"2021-03-30T05:56:17Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38367616/badge)](https://coveralls.io/builds/38367616)\n\nCoverage decreased (-0.08%) to 51.851% when pulling **2d3155e6d3a92679bee03b9a64a0b5b21ce79ce5 on BurningCN:provides_overloaded_constructor** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809933332/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809933335","html_url":"https://github.com/apache/rocketmq/pull/2767#issuecomment-809933335","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2767","id":809933335,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTkzMzMzNQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T05:56:17Z","updated_at":"2021-03-30T05:56:17Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38367616/badge)](https://coveralls.io/builds/38367616)\n\nCoverage decreased (-0.08%) to 51.851% when pulling **2d3155e6d3a92679bee03b9a64a0b5b21ce79ce5 on BurningCN:provides_overloaded_constructor** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809933335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809934844","html_url":"https://github.com/apache/rocketmq/pull/2766#issuecomment-809934844","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2766","id":809934844,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTkzNDg0NA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T05:59:42Z","updated_at":"2021-03-30T05:59:42Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38367424/badge)](https://coveralls.io/builds/38367424)\n\nCoverage decreased (-0.09%) to 51.815% when pulling **d5f0ad72d740af8db6683ba250b12a4cd829b49e on BurningCN:provider_overloaded_constructor_method** into **3ae251751586b940b7467284966ec4fe93f86be1 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809934844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809943512","html_url":"https://github.com/apache/rocketmq/pull/2768#issuecomment-809943512","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2768","id":809943512,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk0MzUxMg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T06:17:09Z","updated_at":"2022-03-29T13:35:12Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/47783889/badge)](https://coveralls.io/builds/47783889)\n\nCoverage decreased (-2.7%) to 51.825% when pulling **c63bb808b2d93b1f5190b4175a14f08aa584826c on BurningCN:optimize_copyMappedFiles_methods** into **143ac3185b84aed5bc714b353af340aa1e3df0e6 on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809943512/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809951338","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809951338","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809951338,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk1MTMzOA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T06:31:43Z","updated_at":"2021-03-30T06:41:01Z","author_association":"CONTRIBUTOR","body":"> > 有可能是console到broker的网络不通导致的，可以telnet broker的节点信息看下\r\n> \r\n> 您好，额不是的，我现在操作的单机，只有一台宿主机(192.168.31.246)上面起的容器去通信，他们之间通信也是这个IP，还有什么可以侦察日志的办法嘛？\r\n> \r\n> 因为我看到了自己本身打印的日志中出现了这些\r\n> \r\n> ```\r\n> 2021-03-30 11:19:06 INFO brokerOutApi_thread_1 - register broker to name server rmqnamesrv:9876 OK\r\n> 2021-03-30 11:19:36 INFO brokerOutApi_thread_2 - register broker to name server rmqnamesrv:9876 OK\r\n> ```\r\n> \r\n> 说是注册成功了，是不是还有什么别的侦察方向，我试着Google了下别人的例子，结果并没有那么的理想。~\r\n\r\n在namesrv容器中执行 sh mqadmin clusterList -n localhost:9876  看下集群信息，看看broker有没有注册上去\r\n收发消息正常的嘛，可以通过运维命令来创建topic，group测试下。\r\n也可以看下console里面的rocketmq-client.log","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809951338/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809959490","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809959490","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809959490,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk1OTQ5MA==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T06:47:47Z","updated_at":"2021-03-30T06:47:47Z","author_association":"NONE","body":"报错，似乎没有注册上去。\r\n```java\r\n[root@MiWiFi-RA69-srv conf]# docker exec -it 70504e6cea64 /bin/bash\r\n[root@70504e6cea64 bin]# sh mqadmin clusterList -n localhost:9876\r\nOpenJDK 64-Bit Server VM warning: ignoring option PermSize=128m; support was removed in 8.0\r\nOpenJDK 64-Bit Server VM warning: ignoring option MaxPermSize=128m; support was removed in 8.0\r\norg.apache.rocketmq.tools.command.SubCommandException: ClusterListSubCommand command failed\r\n\tat org.apache.rocketmq.tools.command.cluster.ClusterListSubCommand.execute(ClusterListSubCommand.java:93)\r\n\tat org.apache.rocketmq.tools.command.MQAdminStartup.main0(MQAdminStartup.java:135)\r\n\tat org.apache.rocketmq.tools.command.MQAdminStartup.main(MQAdminStartup.java:86)\r\nCaused by: org.apache.rocketmq.acl.common.AclException: [10015:signature-failed] unable to calculate a request signature. error=[10015:signature-failed] unable to calculate a request signature. error=Algorithm HmacSHA1 not available\r\n\tat org.apache.rocketmq.acl.common.AclSigner.signAndBase64Encode(AclSigner.java:84)\r\n\tat org.apache.rocketmq.acl.common.AclSigner.calSignature(AclSigner.java:73)\r\n\tat org.apache.rocketmq.acl.common.AclSigner.calSignature(AclSigner.java:68)\r\n\tat org.apache.rocketmq.acl.common.AclUtils.calSignature(AclUtils.java:58)\r\n\tat org.apache.rocketmq.acl.common.AclClientRPCHook.doBeforeRequest(AclClientRPCHook.java:44)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingAbstract.doBeforeRpcHooks(NettyRemotingAbstract.java:172)\r\n\tat org.apache.rocketmq.remoting.netty.NettyRemotingClient.invokeSync(NettyRemotingClient.java:370)\r\n\tat org.apache.rocketmq.client.impl.MQClientAPIImpl.getBrokerClusterInfo(MQClientAPIImpl.java:1180)\r\n\tat org.apache.rocketmq.tools.admin.DefaultMQAdminExtImpl.examineBrokerClusterInfo(DefaultMQAdminExtImpl.java:275)\r\n\tat org.apache.rocketmq.tools.admin.DefaultMQAdminExt.examineBrokerClusterInfo(DefaultMQAdminExt.java:222)\r\n\tat org.apache.rocketmq.tools.command.cluster.ClusterListSubCommand.printClusterBaseInfo(ClusterListSubCommand.java:172)\r\n\tat org.apache.rocketmq.tools.command.cluster.ClusterListSubCommand.execute(ClusterListSubCommand.java:88)\r\n\t... 2 more\r\nCaused by: org.apache.rocketmq.acl.common.AclException: [10015:signature-failed] unable to calculate a request signature. error=Algorithm HmacSHA1 not available\r\n\tat org.apache.rocketmq.acl.common.AclSigner.sign(AclSigner.java:63)\r\n\tat org.apache.rocketmq.acl.common.AclSigner.signAndBase64Encode(AclSigner.java:79)\r\n\t... 13 more\r\nCaused by: java.security.NoSuchAlgorithmException: Algorithm HmacSHA1 not available\r\n\tat javax.crypto.Mac.getInstance(Mac.java:181)\r\n\tat org.apache.rocketmq.acl.common.AclSigner.sign(AclSigner.java:57)\r\n\t... 14 more\r\n```\r\n收发不正常的，控制台没有结果根本会报错不知道投放到哪个broker\r\n\r\n这时候是不是可以确定一些问题，抱歉对rocketmq的运维了解较少，还望指导！","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809959490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809971409","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809971409","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809971409,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk3MTQwOQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:08:40Z","updated_at":"2021-03-30T07:08:40Z","author_association":"CONTRIBUTOR","body":"> ```java\r\n> error=Algorithm HmacSHA1 not available\r\n> ```\r\n\r\n这个命令执行不了不是没有注册上去，可以看下这个文档修复下 https://blog.csdn.net/l18637220680/article/details/95379498\r\nconsole容器里面的rocketmq-client.log有什么异常信息嘛","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809971409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809974952","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809974952","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809974952,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk3NDk1Mg==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:14:19Z","updated_at":"2021-03-30T07:20:39Z","author_association":"NONE","body":"这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n\r\n有报错的，是这个，无法连接的错误\r\n```java\r\njava.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n\tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n\tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n\tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n\tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n\tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n\tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n\tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n\tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n```\r\n请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809974952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809985845","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809985845","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809985845,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk4NTg0NQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:31:30Z","updated_at":"2021-03-30T07:31:30Z","author_association":"CONTRIBUTOR","body":"> 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> \r\n> 有报错的，是这个，无法连接的错误\r\n> \r\n> ```java\r\n> java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> \tat java.lang.Thread.run(Thread.java:745)\r\n> ```\r\n> \r\n> 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n\r\nrocketmqinc/rocketmq 这个是官方的镜像的","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809985845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809988102","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809988102","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809988102,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk4ODEwMg==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:34:50Z","updated_at":"2021-03-30T07:34:50Z","author_association":"NONE","body":"> > 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> > 有报错的，是这个，无法连接的错误\r\n> > ```java\r\n> > java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> > \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> > \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> > \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> > \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> > \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> > \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> > \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> > \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> > \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> > \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> > \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> > \tat java.lang.Thread.run(Thread.java:745)\r\n> > ```\r\n> > \r\n> > \r\n> > 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n> \r\n> rocketmqinc/rocketmq 这个是官方的镜像的\r\n\r\n好的，我使用的就是这个镜像\r\n\r\n那请问我必须按照这种的去给docker的容器中cp一份jar文件是吗，我看到了别人的解决方式是: https://blog.csdn.net/qq_18855485/article/details/99647626\r\n\r\n这样的方式在容器删除掉或者别的机制后，岂不是得在脑子里记着给容器中cp一份，还是推荐使用物理机来管理，而不是容器~","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809988102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809999787","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-809999787","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":809999787,"node_id":"MDEyOklzc3VlQ29tbWVudDgwOTk5OTc4Nw==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:51:35Z","updated_at":"2021-03-30T07:54:37Z","author_association":"CONTRIBUTOR","body":"> > > 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> > > 有报错的，是这个，无法连接的错误\r\n> > > ```java\r\n> > > java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> > > \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> > > \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> > > \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> > > \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> > > \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> > > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> > > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> > > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> > > \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> > > \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> > > \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> > > \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> > > \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> > > \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> > > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> > > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> > > \tat java.lang.Thread.run(Thread.java:745)\r\n> > > ```\r\n> > > \r\n> > > \r\n> > > 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n> > \r\n> > \r\n> > rocketmqinc/rocketmq 这个是官方的镜像的\r\n> \r\n> 好的，我使用的就是这个镜像\r\n> \r\n> 那请问我必须按照这种的去给docker的容器中cp一份jar文件是吗，我看到了别人的解决方式是: https://blog.csdn.net/qq_18855485/article/details/99647626\r\n> \r\n> 这样的方式在容器删除掉或者别的机制后，岂不是得在脑子里记着给容器中cp一份，还是推荐使用物理机来管理，而不是容器~\r\n\r\n当前是没有办法，也可以直接在容器里面改脚本，然后重启容器。可以在issue里面搜下，已经有提pr改过了。你现在docker镜像里面部署的rocketmq版本可能比较低，没有修复这个问题","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/809999787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810002916","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810002916","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810002916,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDAwMjkxNg==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:56:13Z","updated_at":"2021-03-30T07:56:13Z","author_association":"NONE","body":"> > > > 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> > > > 有报错的，是这个，无法连接的错误\r\n> > > > ```java\r\n> > > > java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> > > > \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> > > > \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> > > > \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> > > > \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> > > > \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> > > > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> > > > \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> > > > \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> > > > \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> > > > \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> > > > \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> > > > \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> > > > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> > > > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> > > > \tat java.lang.Thread.run(Thread.java:745)\r\n> > > > ```\r\n> > > > \r\n> > > > \r\n> > > > 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n> > > \r\n> > > \r\n> > > rocketmqinc/rocketmq 这个是官方的镜像的\r\n> > \r\n> > \r\n> > 好的，我使用的就是这个镜像\r\n> > 那请问我必须按照这种的去给docker的容器中cp一份jar文件是吗，我看到了别人的解决方式是: https://blog.csdn.net/qq_18855485/article/details/99647626\r\n> > 这样的方式在容器删除掉或者别的机制后，岂不是得在脑子里记着给容器中cp一份，还是推荐使用物理机来管理，而不是容器~\r\n> \r\n> 当前是没有办法，也可以直接在容器里面改脚本，然后重启容器。可以在issue里面搜下，已经有提pr改过了。你现在docker镜像里面部署的rocketmq版本可能比较低，没有修复这个问题\r\n\r\n啊？请问我docker默认没有敲定版本号，不是应该就是last版本吗？咦，是还有别的镜像源吗","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810002916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810003904","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810003904","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810003904,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDAwMzkwNA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T07:57:43Z","updated_at":"2021-03-30T07:57:43Z","author_association":"CONTRIBUTOR","body":"> > > > > 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> > > > > 有报错的，是这个，无法连接的错误\r\n> > > > > ```java\r\n> > > > > java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> > > > > \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> > > > > \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> > > > > \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> > > > > \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> > > > > \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> > > > > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> > > > > \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> > > > > \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> > > > > \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> > > > > \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> > > > > \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> > > > > \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> > > > > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> > > > > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> > > > > \tat java.lang.Thread.run(Thread.java:745)\r\n> > > > > ```\r\n> > > > > \r\n> > > > > \r\n> > > > > 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n> > > > \r\n> > > > \r\n> > > > rocketmqinc/rocketmq 这个是官方的镜像的\r\n> > > \r\n> > > \r\n> > > 好的，我使用的就是这个镜像\r\n> > > 那请问我必须按照这种的去给docker的容器中cp一份jar文件是吗，我看到了别人的解决方式是: https://blog.csdn.net/qq_18855485/article/details/99647626\r\n> > > 这样的方式在容器删除掉或者别的机制后，岂不是得在脑子里记着给容器中cp一份，还是推荐使用物理机来管理，而不是容器~\r\n> > \r\n> > \r\n> > 当前是没有办法，也可以直接在容器里面改脚本，然后重启容器。可以在issue里面搜下，已经有提pr改过了。你现在docker镜像里面部署的rocketmq版本可能比较低，没有修复这个问题\r\n> \r\n> 啊？请问我docker默认没有敲定版本号，不是应该就是last版本吗？咦，是还有别的镜像源吗\r\n\r\n可以去namesrv或者broker容器里面，lib下面看下jar包版本","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810003904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810006077","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810006077","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810006077,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDAwNjA3Nw==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T08:00:53Z","updated_at":"2021-03-30T08:00:53Z","author_association":"NONE","body":"> > > > > > 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> > > > > > 有报错的，是这个，无法连接的错误\r\n> > > > > > ```java\r\n> > > > > > java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> > > > > > \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> > > > > > \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> > > > > > \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> > > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> > > > > > \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> > > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> > > > > > \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> > > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> > > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> > > > > > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> > > > > > \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> > > > > > \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> > > > > > \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> > > > > > \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> > > > > > \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> > > > > > \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> > > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> > > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> > > > > > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> > > > > > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> > > > > > \tat java.lang.Thread.run(Thread.java:745)\r\n> > > > > > ```\r\n> > > > > > \r\n> > > > > > \r\n> > > > > > 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n> > > > > \r\n> > > > > \r\n> > > > > rocketmqinc/rocketmq 这个是官方的镜像的\r\n> > > > \r\n> > > > \r\n> > > > 好的，我使用的就是这个镜像\r\n> > > > 那请问我必须按照这种的去给docker的容器中cp一份jar文件是吗，我看到了别人的解决方式是: https://blog.csdn.net/qq_18855485/article/details/99647626\r\n> > > > 这样的方式在容器删除掉或者别的机制后，岂不是得在脑子里记着给容器中cp一份，还是推荐使用物理机来管理，而不是容器~\r\n> > > \r\n> > > \r\n> > > 当前是没有办法，也可以直接在容器里面改脚本，然后重启容器。可以在issue里面搜下，已经有提pr改过了。你现在docker镜像里面部署的rocketmq版本可能比较低，没有修复这个问题\r\n> > \r\n> > \r\n> > 啊？请问我docker默认没有敲定版本号，不是应该就是last版本吗？咦，是还有别的镜像源吗\r\n> \r\n> 可以去namesrv或者broker容器里面，lib下面看下jar包版本\r\n\r\njar文件均为4.4.0版本\r\n![image](https://user-images.githubusercontent.com/32430752/112954458-fa802980-9170-11eb-91cd-158fc7b21ed9.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810006077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810014134","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810014134","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810014134,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDAxNDEzNA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T08:12:06Z","updated_at":"2021-03-30T08:12:06Z","author_association":"CONTRIBUTOR","body":"> > > > > > > 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> > > > > > > 有报错的，是这个，无法连接的错误\r\n> > > > > > > ```java\r\n> > > > > > > java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> > > > > > > \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> > > > > > > \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> > > > > > > \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> > > > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> > > > > > > \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> > > > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> > > > > > > \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> > > > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> > > > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> > > > > > > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> > > > > > > \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> > > > > > > \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> > > > > > > \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> > > > > > > \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> > > > > > > \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> > > > > > > \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> > > > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> > > > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> > > > > > > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> > > > > > > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> > > > > > > \tat java.lang.Thread.run(Thread.java:745)\r\n> > > > > > > ```\r\n> > > > > > > \r\n> > > > > > > \r\n> > > > > > > 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n> > > > > > \r\n> > > > > > \r\n> > > > > > rocketmqinc/rocketmq 这个是官方的镜像的\r\n> > > > > \r\n> > > > > \r\n> > > > > 好的，我使用的就是这个镜像\r\n> > > > > 那请问我必须按照这种的去给docker的容器中cp一份jar文件是吗，我看到了别人的解决方式是: https://blog.csdn.net/qq_18855485/article/details/99647626\r\n> > > > > 这样的方式在容器删除掉或者别的机制后，岂不是得在脑子里记着给容器中cp一份，还是推荐使用物理机来管理，而不是容器~\r\n> > > > \r\n> > > > \r\n> > > > 当前是没有办法，也可以直接在容器里面改脚本，然后重启容器。可以在issue里面搜下，已经有提pr改过了。你现在docker镜像里面部署的rocketmq版本可能比较低，没有修复这个问题\r\n> > > \r\n> > > \r\n> > > 啊？请问我docker默认没有敲定版本号，不是应该就是last版本吗？咦，是还有别的镜像源吗\r\n> > \r\n> > \r\n> > 可以去namesrv或者broker容器里面，lib下面看下jar包版本\r\n> \r\n> jar文件均为4.4.0版本\r\n> ![image](https://user-images.githubusercontent.com/32430752/112954458-fa802980-9170-11eb-91cd-158fc7b21ed9.png)\r\n\r\n这个版本比较老了","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810014134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810015405","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810015405","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810015405,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDAxNTQwNQ==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T08:13:53Z","updated_at":"2021-03-30T08:13:53Z","author_association":"NONE","body":"> > > > > > > > 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> > > > > > > > 有报错的，是这个，无法连接的错误\r\n> > > > > > > > ```java\r\n> > > > > > > > java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> > > > > > > > \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> > > > > > > > \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> > > > > > > > \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> > > > > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> > > > > > > > \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> > > > > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> > > > > > > > \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> > > > > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> > > > > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> > > > > > > > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> > > > > > > > \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> > > > > > > > \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> > > > > > > > \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> > > > > > > > \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> > > > > > > > \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> > > > > > > > \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> > > > > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> > > > > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> > > > > > > > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> > > > > > > > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> > > > > > > > \tat java.lang.Thread.run(Thread.java:745)\r\n> > > > > > > > ```\r\n> > > > > > > > \r\n> > > > > > > > \r\n> > > > > > > > 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n> > > > > > > \r\n> > > > > > > \r\n> > > > > > > rocketmqinc/rocketmq 这个是官方的镜像的\r\n> > > > > > \r\n> > > > > > \r\n> > > > > > 好的，我使用的就是这个镜像\r\n> > > > > > 那请问我必须按照这种的去给docker的容器中cp一份jar文件是吗，我看到了别人的解决方式是: https://blog.csdn.net/qq_18855485/article/details/99647626\r\n> > > > > > 这样的方式在容器删除掉或者别的机制后，岂不是得在脑子里记着给容器中cp一份，还是推荐使用物理机来管理，而不是容器~\r\n> > > > > \r\n> > > > > \r\n> > > > > 当前是没有办法，也可以直接在容器里面改脚本，然后重启容器。可以在issue里面搜下，已经有提pr改过了。你现在docker镜像里面部署的rocketmq版本可能比较低，没有修复这个问题\r\n> > > > \r\n> > > > \r\n> > > > 啊？请问我docker默认没有敲定版本号，不是应该就是last版本吗？咦，是还有别的镜像源吗\r\n> > > \r\n> > > \r\n> > > 可以去namesrv或者broker容器里面，lib下面看下jar包版本\r\n> > \r\n> > \r\n> > jar文件均为4.4.0版本\r\n> > ![image](https://user-images.githubusercontent.com/32430752/112954458-fa802980-9170-11eb-91cd-158fc7b21ed9.png)\r\n> \r\n> 这个版本比较老了\r\n\r\n那应该怎么去操作，毕竟现在docker的镜像版本是last了已经，是等待重新发包吗？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810015405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810017047","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810017047","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810017047,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDAxNzA0Nw==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T08:16:03Z","updated_at":"2021-03-30T08:16:03Z","author_association":"CONTRIBUTOR","body":"> > > > > > > > > 这么说是我没有JDK的原因是吗这个机子，我看看这个怎么研究下指向，的确是宿主机没有安装jdk想着镜像中存在了就没必要了安装了个docker就开始了\r\n> > > > > > > > > 有报错的，是这个，无法连接的错误\r\n> > > > > > > > > ```java\r\n> > > > > > > > > java.lang.RuntimeException: org.apache.rocketmq.remoting.exception.RemotingConnectException: connect to <192.168.31.246:10911> failed\r\n> > > > > > > > > \tat com.google.common.base.Throwables.propagate(Throwables.java:160)\r\n> > > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:219)\r\n> > > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.fetchBrokerRuntimeStats(DashboardCollectTask.java:218)\r\n> > > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask.collectBroker(DashboardCollectTask.java:184)\r\n> > > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$FastClassBySpringCGLIB$$c818b8cd.invoke(<generated>)\r\n> > > > > > > > > \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n> > > > > > > > > \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:721)\r\n> > > > > > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n> > > > > > > > > \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n> > > > > > > > > \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n> > > > > > > > > \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:656)\r\n> > > > > > > > > \tat org.apache.rocketmq.console.task.DashboardCollectTask$$EnhancerBySpringCGLIB$$9a10db13.collectBroker(<generated>)\r\n> > > > > > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n> > > > > > > > > \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n> > > > > > > > > \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n> > > > > > > > > \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n> > > > > > > > > \tat org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)\r\n> > > > > > > > > \tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n> > > > > > > > > \tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)\r\n> > > > > > > > > \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n> > > > > > > > > \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n> > > > > > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)\r\n> > > > > > > > > \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)\r\n> > > > > > > > > \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n> > > > > > > > > \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n> > > > > > > > > \tat java.lang.Thread.run(Thread.java:745)\r\n> > > > > > > > > ```\r\n> > > > > > > > > \r\n> > > > > > > > > \r\n> > > > > > > > > 请问我使用的是官方的镜像吗？因为这样的话还得每次都挂载一个jdk的目录进去是否是很鸡肋？\r\n> > > > > > > > \r\n> > > > > > > > \r\n> > > > > > > > rocketmqinc/rocketmq 这个是官方的镜像的\r\n> > > > > > > \r\n> > > > > > > \r\n> > > > > > > 好的，我使用的就是这个镜像\r\n> > > > > > > 那请问我必须按照这种的去给docker的容器中cp一份jar文件是吗，我看到了别人的解决方式是: https://blog.csdn.net/qq_18855485/article/details/99647626\r\n> > > > > > > 这样的方式在容器删除掉或者别的机制后，岂不是得在脑子里记着给容器中cp一份，还是推荐使用物理机来管理，而不是容器~\r\n> > > > > > \r\n> > > > > > \r\n> > > > > > 当前是没有办法，也可以直接在容器里面改脚本，然后重启容器。可以在issue里面搜下，已经有提pr改过了。你现在docker镜像里面部署的rocketmq版本可能比较低，没有修复这个问题\r\n> > > > > \r\n> > > > > \r\n> > > > > 啊？请问我docker默认没有敲定版本号，不是应该就是last版本吗？咦，是还有别的镜像源吗\r\n> > > > \r\n> > > > \r\n> > > > 可以去namesrv或者broker容器里面，lib下面看下jar包版本\r\n> > > \r\n> > > \r\n> > > jar文件均为4.4.0版本\r\n> > > ![image](https://user-images.githubusercontent.com/32430752/112954458-fa802980-9170-11eb-91cd-158fc7b21ed9.png)\r\n> > \r\n> > \r\n> > 这个版本比较老了\r\n> \r\n> 那应该怎么去操作，毕竟现在docker的镜像版本是last了已经，是等待重新发包吗？\r\n\r\nhttps://github.com/apache/rocketmq-docker  看下这个文档，使用4.8.0","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810017047/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810034843","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810034843","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810034843,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDAzNDg0Mw==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T08:41:27Z","updated_at":"2021-03-30T08:41:27Z","author_association":"NONE","body":"我在dockerHub中未发现4.8.0版本的镜像\r\nhttps://hub.docker.com/r/apacherocketmq/rocketmq/tags?page=1&ordering=last_updated\r\n我使用了4.6.0，但是似乎还是未解决问题\r\n```yml\r\nversion: '3.5'\r\nservices:\r\n  rmqnamesrv:\r\n    image: apacherocketmq/rocketmq:4.6.0\r\n    container_name: rmqnamesrv\r\n    restart: always\r\n    ports:\r\n      - 9876:9876\r\n    environment:\r\n      #内存分配\r\n      JAVA_OPT_EXT: \"-server -Xms1g -Xmx1g\"\r\n    volumes:\r\n      - /home/rocketmq/namesrv/logs:/root/logs\r\n    command: sh mqnamesrv\r\n    networks:\r\n      rmq:\r\n        aliases:\r\n          - rmqnamesrv\r\n\r\n  rmqbroker:\r\n    image: apacherocketmq/rocketmq:4.6.0\r\n    container_name: rmqbroker\r\n    restart: always\r\n    depends_on:\r\n      - rmqnamesrv\r\n    ports:\r\n      - 10909:10909\r\n      - 10911:10911\r\n      - 10912:10912\r\n    volumes:\r\n      - /home/rocketmq/broker/logs:/root/logs\r\n      - /home/rocketmq/broker/store:/root/store\r\n      - /home/rocketmq/broker/conf/broker.conf:/home/rocketmq/rocketmq-4.8.0/conf/broker.conf\r\n    command: sh mqbroker -n rmqnamesrv:9876 -c ../conf/broker.conf\r\n    environment:\r\n      NAMESRV_ADDR: \"rmqnamesrv:9876\"\r\n      JAVA_OPT_EXT: \"-server -Xms1g -Xmx1g -Xmn1g\"\r\n    networks:\r\n      rmq:\r\n        aliases:\r\n          - rmqbroker\r\n\r\n  rmqconsole:\r\n    image: styletang/rocketmq-console-ng\r\n    container_name: rocketmq-console\r\n    restart: always\r\n    ports:\r\n      - 9877:8080\r\n    depends_on:\r\n      - rmqnamesrv\r\n    volumes:\r\n      - /etc/localtime:/etc/localtime:ro\r\n      - /home/rocketmq/console/logs:/root/logs\r\n    environment:\r\n      JAVA_OPTS: \"-Drocketmq.namesrv.addr=rmqnamesrv:9876 -Dcom.rocketmq.sendMessageWithVIPChannel=false\"\r\n    networks:\r\n      rmq:\r\n        aliases:\r\n          - rmqconsole\r\nnetworks:\r\n  rmq:\r\n    name: rmq\r\n    driver: bridge\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810034843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810036532","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810036532","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810036532,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDAzNjUzMg==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T08:44:01Z","updated_at":"2021-03-30T08:44:01Z","author_association":"CONTRIBUTOR","body":"> 我在dockerHub中未发现4.8.0版本的镜像\r\n> https://hub.docker.com/r/apacherocketmq/rocketmq/tags?page=1&ordering=last_updated\r\n> 我使用了4.6.0，但是似乎还是未解决问题\r\n> \r\n> ```yaml\r\n> version: '3.5'\r\n> services:\r\n>   rmqnamesrv:\r\n>     image: apacherocketmq/rocketmq:4.6.0\r\n>     container_name: rmqnamesrv\r\n>     restart: always\r\n>     ports:\r\n>       - 9876:9876\r\n>     environment:\r\n>       #内存分配\r\n>       JAVA_OPT_EXT: \"-server -Xms1g -Xmx1g\"\r\n>     volumes:\r\n>       - /home/rocketmq/namesrv/logs:/root/logs\r\n>     command: sh mqnamesrv\r\n>     networks:\r\n>       rmq:\r\n>         aliases:\r\n>           - rmqnamesrv\r\n> \r\n>   rmqbroker:\r\n>     image: apacherocketmq/rocketmq:4.6.0\r\n>     container_name: rmqbroker\r\n>     restart: always\r\n>     depends_on:\r\n>       - rmqnamesrv\r\n>     ports:\r\n>       - 10909:10909\r\n>       - 10911:10911\r\n>       - 10912:10912\r\n>     volumes:\r\n>       - /home/rocketmq/broker/logs:/root/logs\r\n>       - /home/rocketmq/broker/store:/root/store\r\n>       - /home/rocketmq/broker/conf/broker.conf:/home/rocketmq/rocketmq-4.8.0/conf/broker.conf\r\n>     command: sh mqbroker -n rmqnamesrv:9876 -c ../conf/broker.conf\r\n>     environment:\r\n>       NAMESRV_ADDR: \"rmqnamesrv:9876\"\r\n>       JAVA_OPT_EXT: \"-server -Xms1g -Xmx1g -Xmn1g\"\r\n>     networks:\r\n>       rmq:\r\n>         aliases:\r\n>           - rmqbroker\r\n> \r\n>   rmqconsole:\r\n>     image: styletang/rocketmq-console-ng\r\n>     container_name: rocketmq-console\r\n>     restart: always\r\n>     ports:\r\n>       - 9877:8080\r\n>     depends_on:\r\n>       - rmqnamesrv\r\n>     volumes:\r\n>       - /etc/localtime:/etc/localtime:ro\r\n>       - /home/rocketmq/console/logs:/root/logs\r\n>     environment:\r\n>       JAVA_OPTS: \"-Drocketmq.namesrv.addr=rmqnamesrv:9876 -Dcom.rocketmq.sendMessageWithVIPChannel=false\"\r\n>     networks:\r\n>       rmq:\r\n>         aliases:\r\n>           - rmqconsole\r\n> networks:\r\n>   rmq:\r\n>     name: rmq\r\n>     driver: bridge\r\n> ```\r\n\r\n是哪个命令的问题还是超时的问题呀","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810036532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810051704","html_url":"https://github.com/apache/rocketmq/pull/2769#issuecomment-810051704","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2769","id":810051704,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDA1MTcwNA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T09:05:49Z","updated_at":"2021-03-30T09:05:50Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38372706/badge)](https://coveralls.io/builds/38372706)\n\nCoverage decreased (-0.07%) to 51.857% when pulling **ce44b6914974afcf630c3dd41ccca90ce5a088df on BurningCN:fix_remove_redundant_separator** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810051704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810062531","html_url":"https://github.com/apache/rocketmq/issues/2764#issuecomment-810062531","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2764","id":810062531,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDA2MjUzMQ==","user":{"login":"a2501521908","id":32430752,"node_id":"MDQ6VXNlcjMyNDMwNzUy","avatar_url":"https://avatars.githubusercontent.com/u/32430752?v=4","gravatar_id":"","url":"https://api.github.com/users/a2501521908","html_url":"https://github.com/a2501521908","followers_url":"https://api.github.com/users/a2501521908/followers","following_url":"https://api.github.com/users/a2501521908/following{/other_user}","gists_url":"https://api.github.com/users/a2501521908/gists{/gist_id}","starred_url":"https://api.github.com/users/a2501521908/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a2501521908/subscriptions","organizations_url":"https://api.github.com/users/a2501521908/orgs","repos_url":"https://api.github.com/users/a2501521908/repos","events_url":"https://api.github.com/users/a2501521908/events{/privacy}","received_events_url":"https://api.github.com/users/a2501521908/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T09:20:57Z","updated_at":"2021-03-30T09:21:19Z","author_association":"NONE","body":"检查到问题了，换了镜像之后现在通了，是这句yml配置:\r\n```yml\r\n  rmqbroker:\r\n    image: apacherocketmq/rocketmq:4.6.0\r\n    container_name: rmqbroker\r\n    restart: always\r\n    depends_on:\r\n      - rmqnamesrv\r\n    ports:\r\n      - 10909:10909\r\n      - 10911:10911\r\n      - 10912:10912\r\n    volumes:\r\n      - /home/rocketmq/broker/logs:/root/logs\r\n      - /home/rocketmq/broker/store:/root/store\r\n      - /home/rocketmq/broker/conf/broker.conf:/home/rocketmq/rocketmq-4.8.0/conf/broker.conf\r\n    command: sh mqbroker -n rmqnamesrv:9876 -c ../conf/broker.conf\r\n```\r\n因为那时候发现官方并没有4.8.0的镜像，但是我容器配置文件内指向的还是4.8.0 `/home/rocketmq/rocketmq-4.8.0/conf/broker.conf`，所以配置文件肯定找不到容器内，就会报错\r\n\r\n现在更换了绝对路径为4.6.0之后可以跑通了！ `/home/rocketmq/rocketmq-4.6.0/conf/broker.conf`\r\n\r\n其他的都是没问题的，就是更新了下官方的镜像就解决了问题了\r\n\r\n感谢感谢，晚上回去总结一下！！\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810062531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810106799","html_url":"https://github.com/apache/rocketmq/issues/2770#issuecomment-810106799","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2770","id":810106799,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDEwNjc5OQ==","user":{"login":"hongshengfeng","id":22068396,"node_id":"MDQ6VXNlcjIyMDY4Mzk2","avatar_url":"https://avatars.githubusercontent.com/u/22068396?v=4","gravatar_id":"","url":"https://api.github.com/users/hongshengfeng","html_url":"https://github.com/hongshengfeng","followers_url":"https://api.github.com/users/hongshengfeng/followers","following_url":"https://api.github.com/users/hongshengfeng/following{/other_user}","gists_url":"https://api.github.com/users/hongshengfeng/gists{/gist_id}","starred_url":"https://api.github.com/users/hongshengfeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hongshengfeng/subscriptions","organizations_url":"https://api.github.com/users/hongshengfeng/orgs","repos_url":"https://api.github.com/users/hongshengfeng/repos","events_url":"https://api.github.com/users/hongshengfeng/events{/privacy}","received_events_url":"https://api.github.com/users/hongshengfeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-30T10:25:47Z","updated_at":"2021-03-30T10:25:47Z","author_association":"NONE","body":"设置了异常延迟执行时间为10s后，consumer.setPullTimeDelayMillsWhenException(10 * 1000L);，PullMessageService被停掉了，打出了PullMessageServiceScheduledThread has shutdown 这个日志，不再延迟执行。\r\n\r\n![image](https://user-images.githubusercontent.com/22068396/112974686-52c12680-9185-11eb-8ee2-d5cdf011c022.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810106799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810712478","html_url":"https://github.com/apache/rocketmq/pull/2772#issuecomment-810712478","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2772","id":810712478,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMDcxMjQ3OA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-31T02:34:50Z","updated_at":"2021-03-31T02:37:41Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38409006/badge)](https://coveralls.io/builds/38409006)\n\nCoverage decreased (-0.1%) to 51.816% when pulling **d4f3760342efa19eee8b041b76a8f30fd805ee33 on BurningCN:uniform_modifier** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/810712478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811005858","html_url":"https://github.com/apache/rocketmq/pull/2773#issuecomment-811005858","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2773","id":811005858,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTAwNTg1OA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-31T11:55:29Z","updated_at":"2021-03-31T11:55:29Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38423551/badge)](https://coveralls.io/builds/38423551)\n\nCoverage decreased (-0.07%) to 51.86% when pulling **afeb624945b2b8171ae318e50267dc0116c5c94b on BurningCN:remove_redundant_package_imports** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811005858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811005865","html_url":"https://github.com/apache/rocketmq/pull/2773#issuecomment-811005865","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2773","id":811005865,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTAwNTg2NQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-31T11:55:29Z","updated_at":"2021-03-31T11:55:29Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38423551/badge)](https://coveralls.io/builds/38423551)\n\nCoverage decreased (-0.07%) to 51.86% when pulling **afeb624945b2b8171ae318e50267dc0116c5c94b on BurningCN:remove_redundant_package_imports** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811005865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811572956","html_url":"https://github.com/apache/rocketmq/issues/2761#issuecomment-811572956","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2761","id":811572956,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTU3Mjk1Ng==","user":{"login":"wangtaicheng","id":6257526,"node_id":"MDQ6VXNlcjYyNTc1MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6257526?v=4","gravatar_id":"","url":"https://api.github.com/users/wangtaicheng","html_url":"https://github.com/wangtaicheng","followers_url":"https://api.github.com/users/wangtaicheng/followers","following_url":"https://api.github.com/users/wangtaicheng/following{/other_user}","gists_url":"https://api.github.com/users/wangtaicheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wangtaicheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangtaicheng/subscriptions","organizations_url":"https://api.github.com/users/wangtaicheng/orgs","repos_url":"https://api.github.com/users/wangtaicheng/repos","events_url":"https://api.github.com/users/wangtaicheng/events{/privacy}","received_events_url":"https://api.github.com/users/wangtaicheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-01T01:30:11Z","updated_at":"2021-04-01T01:30:11Z","author_association":"NONE","body":"可能与\r\n![image](https://user-images.githubusercontent.com/6257526/113231007-d6395f80-92cc-11eb-8d69-beba3c554fac.png)空格有关\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811572956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811574614","html_url":"https://github.com/apache/rocketmq/issues/2761#issuecomment-811574614","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2761","id":811574614,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTU3NDYxNA==","user":{"login":"MyAuntIsPost90s","id":22209885,"node_id":"MDQ6VXNlcjIyMjA5ODg1","avatar_url":"https://avatars.githubusercontent.com/u/22209885?v=4","gravatar_id":"","url":"https://api.github.com/users/MyAuntIsPost90s","html_url":"https://github.com/MyAuntIsPost90s","followers_url":"https://api.github.com/users/MyAuntIsPost90s/followers","following_url":"https://api.github.com/users/MyAuntIsPost90s/following{/other_user}","gists_url":"https://api.github.com/users/MyAuntIsPost90s/gists{/gist_id}","starred_url":"https://api.github.com/users/MyAuntIsPost90s/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MyAuntIsPost90s/subscriptions","organizations_url":"https://api.github.com/users/MyAuntIsPost90s/orgs","repos_url":"https://api.github.com/users/MyAuntIsPost90s/repos","events_url":"https://api.github.com/users/MyAuntIsPost90s/events{/privacy}","received_events_url":"https://api.github.com/users/MyAuntIsPost90s/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-01T01:35:17Z","updated_at":"2021-04-01T01:35:17Z","author_association":"NONE","body":"> 可能与\r\n> ![image](https://user-images.githubusercontent.com/6257526/113231007-d6395f80-92cc-11eb-8d69-beba3c554fac.png)空格有关\r\n\r\n我明白了，感谢","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811574614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811618825","html_url":"https://github.com/apache/rocketmq/issues/2582#issuecomment-811618825","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2582","id":811618825,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTYxODgyNQ==","user":{"login":"RongtongJin","id":21963954,"node_id":"MDQ6VXNlcjIxOTYzOTU0","avatar_url":"https://avatars.githubusercontent.com/u/21963954?v=4","gravatar_id":"","url":"https://api.github.com/users/RongtongJin","html_url":"https://github.com/RongtongJin","followers_url":"https://api.github.com/users/RongtongJin/followers","following_url":"https://api.github.com/users/RongtongJin/following{/other_user}","gists_url":"https://api.github.com/users/RongtongJin/gists{/gist_id}","starred_url":"https://api.github.com/users/RongtongJin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RongtongJin/subscriptions","organizations_url":"https://api.github.com/users/RongtongJin/orgs","repos_url":"https://api.github.com/users/RongtongJin/repos","events_url":"https://api.github.com/users/RongtongJin/events{/privacy}","received_events_url":"https://api.github.com/users/RongtongJin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-01T03:54:26Z","updated_at":"2021-04-01T03:54:26Z","author_association":"CONTRIBUTOR","body":"> > Are there any logs available for troubleshooting？\r\n> \r\n> It can be reproduced stably, as long as there are enough news accumulated。You can reproduce it yourself. The phenomenon at that time was that when the message accumulation reached about 30 million, the java process occupied more than 20G of memory, and the master would not respond for a period of time. I guess it is because the accumulation of messages exceeds the memory size and there will be a pause for a while.\r\n\r\nI will try to reproduce the issue.\r\nIn addition, does this issue exist in the lower version of the dledger?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811618825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811626745","html_url":"https://github.com/apache/rocketmq/issues/2582#issuecomment-811626745","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2582","id":811626745,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTYyNjc0NQ==","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-01T04:20:03Z","updated_at":"2021-04-01T04:20:03Z","author_association":"CONTRIBUTOR","body":"> > > Are there any logs available for troubleshooting？\r\n> > \r\n> > \r\n> > It can be reproduced stably, as long as there are enough news accumulated。You can reproduce it yourself. The phenomenon at that time was that when the message accumulation reached about 30 million, the java process occupied more than 20G of memory, and the master would not respond for a period of time. I guess it is because the accumulation of messages exceeds the memory size and there will be a pause for a while.\r\n> \r\n> I will try to reproduce the issue.\r\n> In addition, does this issue exist in the lower version of the dledger?\r\n\r\nI did not find this problem in version 4.7.1。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811626745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811642999","html_url":"https://github.com/apache/rocketmq/pull/2774#issuecomment-811642999","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2774","id":811642999,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMTY0Mjk5OQ==","user":{"login":"Bailing1992","id":18731062,"node_id":"MDQ6VXNlcjE4NzMxMDYy","avatar_url":"https://avatars.githubusercontent.com/u/18731062?v=4","gravatar_id":"","url":"https://api.github.com/users/Bailing1992","html_url":"https://github.com/Bailing1992","followers_url":"https://api.github.com/users/Bailing1992/followers","following_url":"https://api.github.com/users/Bailing1992/following{/other_user}","gists_url":"https://api.github.com/users/Bailing1992/gists{/gist_id}","starred_url":"https://api.github.com/users/Bailing1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Bailing1992/subscriptions","organizations_url":"https://api.github.com/users/Bailing1992/orgs","repos_url":"https://api.github.com/users/Bailing1992/repos","events_url":"https://api.github.com/users/Bailing1992/events{/privacy}","received_events_url":"https://api.github.com/users/Bailing1992/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-01T05:11:36Z","updated_at":"2021-04-01T05:11:36Z","author_association":"NONE","body":"拉主分支","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/811642999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812017659","html_url":"https://github.com/apache/rocketmq/issues/2582#issuecomment-812017659","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2582","id":812017659,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjAxNzY1OQ==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-01T16:17:45Z","updated_at":"2021-04-01T16:17:45Z","author_association":"CONTRIBUTOR","body":"mark","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812017659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812019411","html_url":"https://github.com/apache/rocketmq/issues/2582#issuecomment-812019411","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2582","id":812019411,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjAxOTQxMQ==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-01T16:20:37Z","updated_at":"2021-04-01T16:20:37Z","author_association":"CONTRIBUTOR","body":"@iamqq23ue can u post some broker config and os config, our cluster use the same version and recently meet some switch case too. I want to reproduce it.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812019411/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812288377","html_url":"https://github.com/apache/rocketmq/issues/2582#issuecomment-812288377","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2582","id":812288377,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjI4ODM3Nw==","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-02T02:52:07Z","updated_at":"2021-04-02T02:52:07Z","author_association":"CONTRIBUTOR","body":"You do not need special configuration.\r\nThe trigger condition is to accumulate enough messages to cache all your memory\r\nYou just need to keep producing news, but not consuming，and you can reproduce the problem.\r\n\r\n\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年4月2日(星期五) 凌晨0:20\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] RocketMQ4.8.0 dledger cluster will switch master to slave when the message accumulation is close to 30 million (#2582)\r\n\r\n\r\n\r\n\r\n\r\n \r\n@iamqq23ue can u post some broker config and os config, our cluster use the same version and recently meet some switch case too. I want to reproduce it.\r\n \r\n—\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812288377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812392737","html_url":"https://github.com/apache/rocketmq/issues/2612#issuecomment-812392737","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2612","id":812392737,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjM5MjczNw==","user":{"login":"zth9","id":56345542,"node_id":"MDQ6VXNlcjU2MzQ1NTQy","avatar_url":"https://avatars.githubusercontent.com/u/56345542?v=4","gravatar_id":"","url":"https://api.github.com/users/zth9","html_url":"https://github.com/zth9","followers_url":"https://api.github.com/users/zth9/followers","following_url":"https://api.github.com/users/zth9/following{/other_user}","gists_url":"https://api.github.com/users/zth9/gists{/gist_id}","starred_url":"https://api.github.com/users/zth9/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zth9/subscriptions","organizations_url":"https://api.github.com/users/zth9/orgs","repos_url":"https://api.github.com/users/zth9/repos","events_url":"https://api.github.com/users/zth9/events{/privacy}","received_events_url":"https://api.github.com/users/zth9/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-02T07:40:56Z","updated_at":"2021-04-02T07:40:56Z","author_association":"NONE","body":"This can solve the problem\r\n`cd ~/store`\r\n`mkdir commitlog consumequeue`","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812392737/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812457904","html_url":"https://github.com/apache/rocketmq/pull/2779#issuecomment-812457904","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2779","id":812457904,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjQ1NzkwNA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-02T09:46:40Z","updated_at":"2021-04-02T09:46:40Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38490643/badge)](https://coveralls.io/builds/38490643)\n\nCoverage increased (+0.01%) to 51.939% when pulling **1182d2c521baa3f28d69c6ae794b8fdafe803001 on lionhuo:develop** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812457904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812457913","html_url":"https://github.com/apache/rocketmq/pull/2779#issuecomment-812457913","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2779","id":812457913,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjQ1NzkxMw==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-02T09:46:40Z","updated_at":"2021-04-02T09:46:40Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38490643/badge)](https://coveralls.io/builds/38490643)\n\nCoverage increased (+0.01%) to 51.939% when pulling **1182d2c521baa3f28d69c6ae794b8fdafe803001 on lionhuo:develop** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812457913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812475819","html_url":"https://github.com/apache/rocketmq/issues/2777#issuecomment-812475819","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2777","id":812475819,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjQ3NTgxOQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-02T10:37:32Z","updated_at":"2021-04-02T10:40:50Z","author_association":"CONTRIBUTOR","body":"这种操作属于非标操作，既然有消费者在线，那么就应该知道执行的后果。因此我觉得这不是bug。\r\n负载均衡这里是正常的，因为 mqSet和cidSet 是一直没有变的。\r\n获取topic路由哪里，如果找不到topic的话，会抛出异常，并不会更新路由信息，那么mqSet也就不会变。\r\ncidSet是根据ConsumerId来决定的。\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812475819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812492614","html_url":"https://github.com/apache/rocketmq/pull/2780#issuecomment-812492614","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2780","id":812492614,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjQ5MjYxNA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-02T11:34:47Z","updated_at":"2021-04-02T11:37:50Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38492657/badge)](https://coveralls.io/builds/38492657)\n\nCoverage increased (+0.02%) to 51.944% when pulling **5ed4665fa8ff62aa9da6eca01d3174cbd7e307b7 on BurningCN:fix_Initialization_judgment** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812492614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812853409","html_url":"https://github.com/apache/rocketmq/issues/2778#issuecomment-812853409","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2778","id":812853409,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMjg1MzQwOQ==","user":{"login":"francisoliverlee","id":5908412,"node_id":"MDQ6VXNlcjU5MDg0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5908412?v=4","gravatar_id":"","url":"https://api.github.com/users/francisoliverlee","html_url":"https://github.com/francisoliverlee","followers_url":"https://api.github.com/users/francisoliverlee/followers","following_url":"https://api.github.com/users/francisoliverlee/following{/other_user}","gists_url":"https://api.github.com/users/francisoliverlee/gists{/gist_id}","starred_url":"https://api.github.com/users/francisoliverlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francisoliverlee/subscriptions","organizations_url":"https://api.github.com/users/francisoliverlee/orgs","repos_url":"https://api.github.com/users/francisoliverlee/repos","events_url":"https://api.github.com/users/francisoliverlee/events{/privacy}","received_events_url":"https://api.github.com/users/francisoliverlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-03T11:38:54Z","updated_at":"2021-04-03T11:38:54Z","author_association":"MEMBER","body":"@licheng1013 do 'u have a detail solution?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/812853409/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813056961","html_url":"https://github.com/apache/rocketmq/issues/2771#issuecomment-813056961","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2771","id":813056961,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzA1Njk2MQ==","user":{"login":"francisoliverlee","id":5908412,"node_id":"MDQ6VXNlcjU5MDg0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5908412?v=4","gravatar_id":"","url":"https://api.github.com/users/francisoliverlee","html_url":"https://github.com/francisoliverlee","followers_url":"https://api.github.com/users/francisoliverlee/followers","following_url":"https://api.github.com/users/francisoliverlee/following{/other_user}","gists_url":"https://api.github.com/users/francisoliverlee/gists{/gist_id}","starred_url":"https://api.github.com/users/francisoliverlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francisoliverlee/subscriptions","organizations_url":"https://api.github.com/users/francisoliverlee/orgs","repos_url":"https://api.github.com/users/francisoliverlee/repos","events_url":"https://api.github.com/users/francisoliverlee/events{/privacy}","received_events_url":"https://api.github.com/users/francisoliverlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T16:00:21Z","updated_at":"2021-04-04T16:00:21Z","author_association":"MEMBER","body":"@RongNanNan can u give out more error details and RocketMQ version ?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813056961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813061077","html_url":"https://github.com/apache/rocketmq/issues/2754#issuecomment-813061077","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2754","id":813061077,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzA2MTA3Nw==","user":{"login":"francisoliverlee","id":5908412,"node_id":"MDQ6VXNlcjU5MDg0MTI=","avatar_url":"https://avatars.githubusercontent.com/u/5908412?v=4","gravatar_id":"","url":"https://api.github.com/users/francisoliverlee","html_url":"https://github.com/francisoliverlee","followers_url":"https://api.github.com/users/francisoliverlee/followers","following_url":"https://api.github.com/users/francisoliverlee/following{/other_user}","gists_url":"https://api.github.com/users/francisoliverlee/gists{/gist_id}","starred_url":"https://api.github.com/users/francisoliverlee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/francisoliverlee/subscriptions","organizations_url":"https://api.github.com/users/francisoliverlee/orgs","repos_url":"https://api.github.com/users/francisoliverlee/repos","events_url":"https://api.github.com/users/francisoliverlee/events{/privacy}","received_events_url":"https://api.github.com/users/francisoliverlee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-04T16:29:54Z","updated_at":"2021-04-04T16:29:54Z","author_association":"MEMBER","body":"@yangjie9212 can you replay it by hand ?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813061077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813794190","html_url":"https://github.com/apache/rocketmq/issues/2724#issuecomment-813794190","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2724","id":813794190,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzc5NDE5MA==","user":{"login":"yuandongjian","id":35158271,"node_id":"MDQ6VXNlcjM1MTU4Mjcx","avatar_url":"https://avatars.githubusercontent.com/u/35158271?v=4","gravatar_id":"","url":"https://api.github.com/users/yuandongjian","html_url":"https://github.com/yuandongjian","followers_url":"https://api.github.com/users/yuandongjian/followers","following_url":"https://api.github.com/users/yuandongjian/following{/other_user}","gists_url":"https://api.github.com/users/yuandongjian/gists{/gist_id}","starred_url":"https://api.github.com/users/yuandongjian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuandongjian/subscriptions","organizations_url":"https://api.github.com/users/yuandongjian/orgs","repos_url":"https://api.github.com/users/yuandongjian/repos","events_url":"https://api.github.com/users/yuandongjian/events{/privacy}","received_events_url":"https://api.github.com/users/yuandongjian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T03:25:10Z","updated_at":"2021-04-06T03:25:10Z","author_association":"NONE","body":"> When the last reconsume fails, the message should be delivered to the DLQ quickly\r\n\r\n提了一个MR，sendback时setDelayLevel向下提了一行代码，用于覆盖最后一次失败时的delayLevel","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813794190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813842519","html_url":"https://github.com/apache/rocketmq/issues/2777#issuecomment-813842519","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2777","id":813842519,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzg0MjUxOQ==","user":{"login":"EZLippi","id":5326814,"node_id":"MDQ6VXNlcjUzMjY4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5326814?v=4","gravatar_id":"","url":"https://api.github.com/users/EZLippi","html_url":"https://github.com/EZLippi","followers_url":"https://api.github.com/users/EZLippi/followers","following_url":"https://api.github.com/users/EZLippi/following{/other_user}","gists_url":"https://api.github.com/users/EZLippi/gists{/gist_id}","starred_url":"https://api.github.com/users/EZLippi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EZLippi/subscriptions","organizations_url":"https://api.github.com/users/EZLippi/orgs","repos_url":"https://api.github.com/users/EZLippi/repos","events_url":"https://api.github.com/users/EZLippi/events{/privacy}","received_events_url":"https://api.github.com/users/EZLippi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T05:51:18Z","updated_at":"2021-04-06T05:51:18Z","author_association":"CONTRIBUTOR","body":"> 这种操作属于非标操作，既然有消费者在线，那么就应该知道执行的后果。因此我觉得这不是bug。\r\n> 负载均衡这里是正常的，因为 mqSet和cidSet 是一直没有变的。\r\n> 获取topic路由哪里，如果找不到topic的话，会抛出异常，并不会更新路由信息，那么mqSet也就不会变。\r\n> cidSet是根据ConsumerId来决定的。\r\n\r\ntopic不可读, 或者topic被删除了, mqSet会变, 消费者更新topicSubscribeInfoTable前会筛选只读的队列更新到map, 下次rebalance时拿到的mqSet就是空的, 所以才抛出了异常导致没有执行后续的逻辑","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813842519/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813939972","html_url":"https://github.com/apache/rocketmq/issues/2777#issuecomment-813939972","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2777","id":813939972,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzkzOTk3Mg==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T08:36:05Z","updated_at":"2021-04-06T08:36:05Z","author_association":"CONTRIBUTOR","body":"> > 这种操作属于非标操作，既然有消费者在线，那么就应该知道执行的后果。因此我觉得这不是bug。\r\n> > 负载均衡这里是正常的，因为 mqSet和cidSet 是一直没有变的。\r\n> > 获取topic路由哪里，如果找不到topic的话，会抛出异常，并不会更新路由信息，那么mqSet也就不会变。\r\n> > cidSet是根据ConsumerId来决定的。\r\n> \r\n> topic不可读, 或者topic被删除了, mqSet会变, 消费者更新topicSubscribeInfoTable前会筛选只读的队列更新到map, 下次rebalance时拿到的mqSet就是空的, 所以才抛出了异常导致没有执行后续的逻辑\r\n\r\n对，看了下代码，topic不可读确实会改变mqSet","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813939972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813944526","html_url":"https://github.com/apache/rocketmq/issues/2778#issuecomment-813944526","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2778","id":813944526,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzk0NDUyNg==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T08:43:01Z","updated_at":"2021-04-06T08:43:01Z","author_association":"CONTRIBUTOR","body":"@licheng1013 现在nameserver 也是可以水平扩展的，基本上对于单个集群来说，topic 相关的路由信息不会成为瓶颈，压力一般是连接数，nameserver 的运维压力较低，且目前没有强一致性的需求","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813944526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813950898","html_url":"https://github.com/apache/rocketmq/issues/2746#issuecomment-813950898","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2746","id":813950898,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzk1MDg5OA==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T08:52:47Z","updated_at":"2021-04-06T08:52:47Z","author_association":"CONTRIBUTOR","body":"@EZLippi 这个问题确实比较会引起困扰，主要是一方面位点更新，对于问题定位非常重要，不仅仅需要看最新的一次上报的位点，也看趋势的变化。另外一个方面是，这个日志相对较多，目前从定位问题的角度，把这个日志设置成了info，而且没有多次打一次。\r\n您可以尝试着修改指定类的日志级别（google 一下logback 设置指定类日志级别），将 RemoteBrokerOffsetStore这个类的日志改为WARN","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813950898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813959995","html_url":"https://github.com/apache/rocketmq/issues/2746#issuecomment-813959995","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2746","id":813959995,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzk1OTk5NQ==","user":{"login":"EZLippi","id":5326814,"node_id":"MDQ6VXNlcjUzMjY4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5326814?v=4","gravatar_id":"","url":"https://api.github.com/users/EZLippi","html_url":"https://github.com/EZLippi","followers_url":"https://api.github.com/users/EZLippi/followers","following_url":"https://api.github.com/users/EZLippi/following{/other_user}","gists_url":"https://api.github.com/users/EZLippi/gists{/gist_id}","starred_url":"https://api.github.com/users/EZLippi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EZLippi/subscriptions","organizations_url":"https://api.github.com/users/EZLippi/orgs","repos_url":"https://api.github.com/users/EZLippi/repos","events_url":"https://api.github.com/users/EZLippi/events{/privacy}","received_events_url":"https://api.github.com/users/EZLippi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T09:06:01Z","updated_at":"2021-04-06T09:06:01Z","author_association":"CONTRIBUTOR","body":"> @EZLippi 这个问题确实比较会引起困扰，主要是一方面位点更新，对于问题定位非常重要，不仅仅需要看最新的一次上报的位点，也看趋势的变化。另外一个方面是，这个日志相对较多，目前从定位问题的角度，把这个日志设置成了info，而且没有多次打一次。\r\n> 您可以尝试着修改指定类的日志级别（google 一下logback 设置指定类日志级别），将 RemoteBrokerOffsetStore这个类的日志改为WARN\r\n\r\n\r\n\r\n> @EZLippi 这个问题确实比较会引起困扰，主要是一方面位点更新，对于问题定位非常重要，不仅仅需要看最新的一次上报的位点，也看趋势的变化。另外一个方面是，这个日志相对较多，目前从定位问题的角度，把这个日志设置成了info，而且没有多次打一次。\r\n> 您可以尝试着修改指定类的日志级别（google 一下logback 设置指定类日志级别），将 RemoteBrokerOffsetStore这个类的日志改为WARN\r\n\r\n不行吧, 你们这个日志不是通过类名来获取Logger的, 而是固定的名字RocketmqClient, 无法差异化配置每个类使用单独日志文件\r\n![image](https://user-images.githubusercontent.com/5326814/113686880-52cba400-96fa-11eb-95f6-b79559f9dc3c.png)\r\n![image](https://user-images.githubusercontent.com/5326814/113686911-5b23df00-96fa-11eb-86c8-d176df93b6cf.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813959995/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813965280","html_url":"https://github.com/apache/rocketmq/issues/2508#issuecomment-813965280","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2508","id":813965280,"node_id":"MDEyOklzc3VlQ29tbWVudDgxMzk2NTI4MA==","user":{"login":"Huwei1993","id":19199935,"node_id":"MDQ6VXNlcjE5MTk5OTM1","avatar_url":"https://avatars.githubusercontent.com/u/19199935?v=4","gravatar_id":"","url":"https://api.github.com/users/Huwei1993","html_url":"https://github.com/Huwei1993","followers_url":"https://api.github.com/users/Huwei1993/followers","following_url":"https://api.github.com/users/Huwei1993/following{/other_user}","gists_url":"https://api.github.com/users/Huwei1993/gists{/gist_id}","starred_url":"https://api.github.com/users/Huwei1993/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huwei1993/subscriptions","organizations_url":"https://api.github.com/users/Huwei1993/orgs","repos_url":"https://api.github.com/users/Huwei1993/repos","events_url":"https://api.github.com/users/Huwei1993/events{/privacy}","received_events_url":"https://api.github.com/users/Huwei1993/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T09:14:09Z","updated_at":"2021-04-06T09:14:09Z","author_association":"NONE","body":"> 如果解决了，能把解决方案分享一下吗？\r\n\r\n有解决吗 ？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/813965280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814011932","html_url":"https://github.com/apache/rocketmq/issues/2508#issuecomment-814011932","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2508","id":814011932,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDAxMTkzMg==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T10:29:26Z","updated_at":"2021-04-06T10:29:26Z","author_association":"CONTRIBUTOR","body":"检查一下对应的权限配置文件，写入的权限数据格式有问题\r\n本质原因是权限文件初始化失败导致broker启动失败","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814011932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814012268","html_url":"https://github.com/apache/rocketmq/issues/2508#issuecomment-814012268","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2508","id":814012268,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDAxMjI2OA==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T10:30:03Z","updated_at":"2021-04-06T10:30:03Z","author_association":"CONTRIBUTOR","body":"here is a related fix issue\r\n https://github.com/apache/rocketmq/issues/2328","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814012268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814033002","html_url":"https://github.com/apache/rocketmq/issues/2770#issuecomment-814033002","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2770","id":814033002,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDAzMzAwMg==","user":{"login":"duhenglucky","id":7938968,"node_id":"MDQ6VXNlcjc5Mzg5Njg=","avatar_url":"https://avatars.githubusercontent.com/u/7938968?v=4","gravatar_id":"","url":"https://api.github.com/users/duhenglucky","html_url":"https://github.com/duhenglucky","followers_url":"https://api.github.com/users/duhenglucky/followers","following_url":"https://api.github.com/users/duhenglucky/following{/other_user}","gists_url":"https://api.github.com/users/duhenglucky/gists{/gist_id}","starred_url":"https://api.github.com/users/duhenglucky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/duhenglucky/subscriptions","organizations_url":"https://api.github.com/users/duhenglucky/orgs","repos_url":"https://api.github.com/users/duhenglucky/repos","events_url":"https://api.github.com/users/duhenglucky/events{/privacy}","received_events_url":"https://api.github.com/users/duhenglucky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-06T11:06:38Z","updated_at":"2021-04-06T11:06:38Z","author_association":"CONTRIBUTOR","body":"> ![image](https://user-images.githubusercontent.com/22068396/112970054-63bb6900-9180-11eb-9001-51ee31a243b2.png)\r\n> \r\n> After the MQ shutdown, the client crazy brush log, an hour about more than 10 G\r\n\r\n这个是上报位点的日志，为避免客户端会定时向服务端定时更新位点，先看下broker 宕机后，分配给他的队列里面是否还会有宕机后的broker 的队列","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814033002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814607592","html_url":"https://github.com/apache/rocketmq/issues/2582#issuecomment-814607592","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2582","id":814607592,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDYwNzU5Mg==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T05:17:25Z","updated_at":"2021-04-07T05:17:25Z","author_association":"CONTRIBUTOR","body":"I can't reproduce your case. IMO the config is important.\r\n![image](https://user-images.githubusercontent.com/3734319/113813947-6d0d8c80-97a3-11eb-937e-a8d7abf28a0d.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814607592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814627422","html_url":"https://github.com/apache/rocketmq/issues/2582#issuecomment-814627422","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2582","id":814627422,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDYyNzQyMg==","user":{"login":"iamqq23ue","id":70457992,"node_id":"MDQ6VXNlcjcwNDU3OTky","avatar_url":"https://avatars.githubusercontent.com/u/70457992?v=4","gravatar_id":"","url":"https://api.github.com/users/iamqq23ue","html_url":"https://github.com/iamqq23ue","followers_url":"https://api.github.com/users/iamqq23ue/followers","following_url":"https://api.github.com/users/iamqq23ue/following{/other_user}","gists_url":"https://api.github.com/users/iamqq23ue/gists{/gist_id}","starred_url":"https://api.github.com/users/iamqq23ue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iamqq23ue/subscriptions","organizations_url":"https://api.github.com/users/iamqq23ue/orgs","repos_url":"https://api.github.com/users/iamqq23ue/repos","events_url":"https://api.github.com/users/iamqq23ue/events{/privacy}","received_events_url":"https://api.github.com/users/iamqq23ue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T06:03:04Z","updated_at":"2021-04-07T06:03:04Z","author_association":"CONTRIBUTOR","body":"brokerClusterName = RaftCluster\r\nbrokerName=RaftNode00\r\nflushDiskType=SYNC_FLUSH\r\nbrokerIP1=XXX\r\nlistenPort=XXX\r\nnamesrvAddr=XXX\r\nstorePathRootDir=/rtmqdata/rocketmq/480\r\nenableDLegerCommitLog=true\r\nwaitTimeMillsInSendQueue=2900\r\ndLegerGroup=RaftNode00\r\ndLegerPeers=XXX\r\n## must be unique\r\ndLegerSelfId=n1\r\nsendMessageThreadPoolNums=16\r\n\r\n\r\nJust a normal three-node cluster。One of the nodes is configured as above。\r\n------------------&nbsp;原始邮件&nbsp;------------------\r\n发件人:                                                                                                                        \"apache/rocketmq\"                                                                                    ***@***.***&gt;;\r\n发送时间:&nbsp;2021年4月7日(星期三) 中午1:17\r\n***@***.***&gt;;\r\n***@***.******@***.***&gt;;\r\n主题:&nbsp;Re: [apache/rocketmq] RocketMQ4.8.0 dledger cluster will switch master to slave when the message accumulation is close to 30 million (#2582)\r\n\r\n\r\n\r\n\r\n\r\n \r\nI can't reproduce your case. IMO the config is important.\r\n \r\n \r\n—\r\nYou are receiving this because you were mentioned.\r\nReply to this email directly, view it on GitHub, or unsubscribe.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814627422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814632783","html_url":"https://github.com/apache/rocketmq/issues/2783#issuecomment-814632783","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2783","id":814632783,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDYzMjc4Mw==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T06:13:30Z","updated_at":"2021-04-07T06:13:30Z","author_association":"CONTRIBUTOR","body":"Could you submit a PR to fix it？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814632783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814643880","html_url":"https://github.com/apache/rocketmq/issues/2782#issuecomment-814643880","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2782","id":814643880,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDY0Mzg4MA==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T06:35:12Z","updated_at":"2021-04-07T06:35:12Z","author_association":"CONTRIBUTOR","body":"InstanceName is used to splice clientId，the broadcast mode does not require consumer rebalance, and there is no need to ensure that the ClientId is different.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814643880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814666069","html_url":"https://github.com/apache/rocketmq/pull/2785#issuecomment-814666069","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2785","id":814666069,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDY2NjA2OQ==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T07:14:03Z","updated_at":"2021-04-07T07:14:03Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38591889/badge)](https://coveralls.io/builds/38591889)\n\nCoverage increased (+0.01%) to 51.942% when pulling **b78326d869a09ed9f37b85dc957b39dff7a4ef87 on Kingdon1992:fix_bug_in_ThreadLocalIndex** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814666069/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814666072","html_url":"https://github.com/apache/rocketmq/pull/2785#issuecomment-814666072","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2785","id":814666072,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDY2NjA3Mg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T07:14:03Z","updated_at":"2021-04-07T07:14:03Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38591889/badge)](https://coveralls.io/builds/38591889)\n\nCoverage increased (+0.01%) to 51.942% when pulling **b78326d869a09ed9f37b85dc957b39dff7a4ef87 on Kingdon1992:fix_bug_in_ThreadLocalIndex** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814666072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814711565","html_url":"https://github.com/apache/rocketmq/issues/2783#issuecomment-814711565","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2783","id":814711565,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDcxMTU2NQ==","user":{"login":"Kingdon1992","id":42442066,"node_id":"MDQ6VXNlcjQyNDQyMDY2","avatar_url":"https://avatars.githubusercontent.com/u/42442066?v=4","gravatar_id":"","url":"https://api.github.com/users/Kingdon1992","html_url":"https://github.com/Kingdon1992","followers_url":"https://api.github.com/users/Kingdon1992/followers","following_url":"https://api.github.com/users/Kingdon1992/following{/other_user}","gists_url":"https://api.github.com/users/Kingdon1992/gists{/gist_id}","starred_url":"https://api.github.com/users/Kingdon1992/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Kingdon1992/subscriptions","organizations_url":"https://api.github.com/users/Kingdon1992/orgs","repos_url":"https://api.github.com/users/Kingdon1992/repos","events_url":"https://api.github.com/users/Kingdon1992/events{/privacy}","received_events_url":"https://api.github.com/users/Kingdon1992/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T08:22:14Z","updated_at":"2021-04-07T08:22:14Z","author_association":"NONE","body":"Sorry, because I made a mistake, there are two records here, please refer to b78326d","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814711565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814723735","html_url":"https://github.com/apache/rocketmq/issues/2784#issuecomment-814723735","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2784","id":814723735,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDcyMzczNQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T08:39:25Z","updated_at":"2021-04-07T08:39:25Z","author_association":"CONTRIBUTOR","body":"This is because reputFromOffset is less than the minimum storage location of the slave broker。You can disable writing to this group of brokers, slave broker, and then clear all stored files on the slave broker，re-restoring synchronization","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814723735/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814736966","html_url":"https://github.com/apache/rocketmq/issues/2784#issuecomment-814736966","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2784","id":814736966,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDczNjk2Ng==","user":{"login":"jeffchanjunwei","id":16076562,"node_id":"MDQ6VXNlcjE2MDc2NTYy","avatar_url":"https://avatars.githubusercontent.com/u/16076562?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffchanjunwei","html_url":"https://github.com/jeffchanjunwei","followers_url":"https://api.github.com/users/jeffchanjunwei/followers","following_url":"https://api.github.com/users/jeffchanjunwei/following{/other_user}","gists_url":"https://api.github.com/users/jeffchanjunwei/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffchanjunwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffchanjunwei/subscriptions","organizations_url":"https://api.github.com/users/jeffchanjunwei/orgs","repos_url":"https://api.github.com/users/jeffchanjunwei/repos","events_url":"https://api.github.com/users/jeffchanjunwei/events{/privacy}","received_events_url":"https://api.github.com/users/jeffchanjunwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T08:59:01Z","updated_at":"2021-04-07T08:59:01Z","author_association":"NONE","body":"> This is because reputFromOffset is less than the minimum storage location of the slave broker。You can disable writing to this group of brokers, slave broker, and then clear all stored files on the slave broker，re-restoring synchronization\r\n\r\nIs it practicable for clear all stored files in slave broker with large stored data? It is needed to restart the slave broker?","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814736966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814792495","html_url":"https://github.com/apache/rocketmq/issues/2784#issuecomment-814792495","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2784","id":814792495,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDc5MjQ5NQ==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T10:15:27Z","updated_at":"2021-04-07T10:20:25Z","author_association":"CONTRIBUTOR","body":"> > This is because reputFromOffset is less than the minimum storage location of the slave broker。You can disable writing to this group of brokers, slave broker, and then clear all stored files on the slave broker，re-restoring synchronization\r\n> \r\n> Is it practicable for clear all stored files in slave broker with large stored data? It is needed to restart the slave broker?\r\n\r\nNeed to restart。\r\n1，disable writing to this group of brokers\r\n2，stop the slave broker，if the cluster tps not is not high，this step can wait 3 days,wait for all the messages to be consumed and the message is saved for 3 days by default\r\n3，clear all stored files\r\n4，start the slave broker\r\n5，turn on  writing","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814792495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814852729","html_url":"https://github.com/apache/rocketmq/issues/2784#issuecomment-814852729","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2784","id":814852729,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDg1MjcyOQ==","user":{"login":"jeffchanjunwei","id":16076562,"node_id":"MDQ6VXNlcjE2MDc2NTYy","avatar_url":"https://avatars.githubusercontent.com/u/16076562?v=4","gravatar_id":"","url":"https://api.github.com/users/jeffchanjunwei","html_url":"https://github.com/jeffchanjunwei","followers_url":"https://api.github.com/users/jeffchanjunwei/followers","following_url":"https://api.github.com/users/jeffchanjunwei/following{/other_user}","gists_url":"https://api.github.com/users/jeffchanjunwei/gists{/gist_id}","starred_url":"https://api.github.com/users/jeffchanjunwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeffchanjunwei/subscriptions","organizations_url":"https://api.github.com/users/jeffchanjunwei/orgs","repos_url":"https://api.github.com/users/jeffchanjunwei/repos","events_url":"https://api.github.com/users/jeffchanjunwei/events{/privacy}","received_events_url":"https://api.github.com/users/jeffchanjunwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T11:54:05Z","updated_at":"2021-04-07T11:54:05Z","author_association":"NONE","body":"> > > This is because reputFromOffset is less than the minimum storage location of the slave broker。You can disable writing to this group of brokers, slave broker, and then clear all stored files on the slave broker，re-restoring synchronization\r\n> > \r\n> > \r\n> > Is it practicable for clear all stored files in slave broker with large stored data? It is needed to restart the slave broker?\r\n> \r\n> Need to restart。\r\n> 1，disable writing to this group of brokers\r\n> 2，stop the slave broker，if the cluster tps not is not high，this step can wait 3 days,wait for all the messages to be consumed and the message is saved for 3 days by default\r\n> 3，clear all stored files\r\n> 4，start the slave broker\r\n> 5，turn on writing\r\n\r\nthanks. Explaination is very clear. ","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814852729/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814893061","html_url":"https://github.com/apache/rocketmq/issues/2781#issuecomment-814893061","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2781","id":814893061,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNDg5MzA2MQ==","user":{"login":"lizhiboo","id":16134780,"node_id":"MDQ6VXNlcjE2MTM0Nzgw","avatar_url":"https://avatars.githubusercontent.com/u/16134780?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhiboo","html_url":"https://github.com/lizhiboo","followers_url":"https://api.github.com/users/lizhiboo/followers","following_url":"https://api.github.com/users/lizhiboo/following{/other_user}","gists_url":"https://api.github.com/users/lizhiboo/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhiboo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhiboo/subscriptions","organizations_url":"https://api.github.com/users/lizhiboo/orgs","repos_url":"https://api.github.com/users/lizhiboo/repos","events_url":"https://api.github.com/users/lizhiboo/events{/privacy}","received_events_url":"https://api.github.com/users/lizhiboo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-07T12:59:26Z","updated_at":"2021-04-07T12:59:26Z","author_association":"CONTRIBUTOR","body":"> **BUG REPORT**\r\n> \r\n> 1. Please describe the issue you observed:\r\n>    DefaultMQAdminExtImpl getTopicClusterList loss cluster info\r\n>    ![image](https://user-images.githubusercontent.com/5326814/113665682-7eda2b80-96e0-11eb-9eb9-04d2f6215882.png)\r\n>    if topic exists in multi cluster, then this method will return only the first cluster\r\n\r\nIt indeed has this problem, IMO, TopicClusterList command should support -c indicate the concrete cluster.","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/814893061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815491971","html_url":"https://github.com/apache/rocketmq/issues/2786#issuecomment-815491971","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2786","id":815491971,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTQ5MTk3MQ==","user":{"login":"shenshaoming","id":42922512,"node_id":"MDQ6VXNlcjQyOTIyNTEy","avatar_url":"https://avatars.githubusercontent.com/u/42922512?v=4","gravatar_id":"","url":"https://api.github.com/users/shenshaoming","html_url":"https://github.com/shenshaoming","followers_url":"https://api.github.com/users/shenshaoming/followers","following_url":"https://api.github.com/users/shenshaoming/following{/other_user}","gists_url":"https://api.github.com/users/shenshaoming/gists{/gist_id}","starred_url":"https://api.github.com/users/shenshaoming/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shenshaoming/subscriptions","organizations_url":"https://api.github.com/users/shenshaoming/orgs","repos_url":"https://api.github.com/users/shenshaoming/repos","events_url":"https://api.github.com/users/shenshaoming/events{/privacy}","received_events_url":"https://api.github.com/users/shenshaoming/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T06:38:32Z","updated_at":"2021-04-08T06:38:32Z","author_association":"CONTRIBUTOR","body":"你少看了个继承吧，NettyDecorder继承自LengthFieldBasedFrameDecoder，在LengthFieldBasedFrameDecoder里是有很多不可复用的属性的","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815491971/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815541815","html_url":"https://github.com/apache/rocketmq/issues/2667#issuecomment-815541815","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2667","id":815541815,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTU0MTgxNQ==","user":{"login":"Yangstatus","id":38098077,"node_id":"MDQ6VXNlcjM4MDk4MDc3","avatar_url":"https://avatars.githubusercontent.com/u/38098077?v=4","gravatar_id":"","url":"https://api.github.com/users/Yangstatus","html_url":"https://github.com/Yangstatus","followers_url":"https://api.github.com/users/Yangstatus/followers","following_url":"https://api.github.com/users/Yangstatus/following{/other_user}","gists_url":"https://api.github.com/users/Yangstatus/gists{/gist_id}","starred_url":"https://api.github.com/users/Yangstatus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yangstatus/subscriptions","organizations_url":"https://api.github.com/users/Yangstatus/orgs","repos_url":"https://api.github.com/users/Yangstatus/repos","events_url":"https://api.github.com/users/Yangstatus/events{/privacy}","received_events_url":"https://api.github.com/users/Yangstatus/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T07:56:16Z","updated_at":"2021-04-08T07:56:16Z","author_association":"NONE","body":"请问这个问题解决了吗？ 我也遇到类似问题。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815541815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815553088","html_url":"https://github.com/apache/rocketmq/pull/2788#issuecomment-815553088","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2788","id":815553088,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTU1MzA4OA==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T08:12:11Z","updated_at":"2021-04-08T08:12:11Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38633173/badge)](https://coveralls.io/builds/38633173)\n\nCoverage increased (+0.02%) to 51.855% when pulling **2e3da67162f4976282921dd4a712f6d9ba98e95a on juliuszhang:master** into **b4240d5cea8d001c21b9c0d73f5aa700fcd0d568 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815553088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815592952","html_url":"https://github.com/apache/rocketmq/issues/2787#issuecomment-815592952","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2787","id":815592952,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTU5Mjk1Mg==","user":{"login":"panzhi33","id":29321745,"node_id":"MDQ6VXNlcjI5MzIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/29321745?v=4","gravatar_id":"","url":"https://api.github.com/users/panzhi33","html_url":"https://github.com/panzhi33","followers_url":"https://api.github.com/users/panzhi33/followers","following_url":"https://api.github.com/users/panzhi33/following{/other_user}","gists_url":"https://api.github.com/users/panzhi33/gists{/gist_id}","starred_url":"https://api.github.com/users/panzhi33/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/panzhi33/subscriptions","organizations_url":"https://api.github.com/users/panzhi33/orgs","repos_url":"https://api.github.com/users/panzhi33/repos","events_url":"https://api.github.com/users/panzhi33/events{/privacy}","received_events_url":"https://api.github.com/users/panzhi33/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T09:07:40Z","updated_at":"2021-04-08T09:07:40Z","author_association":"CONTRIBUTOR","body":"[[]] is bash syntax，however, the runserver.sh script has been declared as sh\r\n![image](https://user-images.githubusercontent.com/29321745/113999767-e8973880-988c-11eb-80fb-91a7482cae11.png)\r\n\r\nCould you submit a PR to fix it？\r\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815592952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815685685","html_url":"https://github.com/apache/rocketmq/issues/2667#issuecomment-815685685","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2667","id":815685685,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTY4NTY4NQ==","user":{"login":"maixiaohai","id":3734319,"node_id":"MDQ6VXNlcjM3MzQzMTk=","avatar_url":"https://avatars.githubusercontent.com/u/3734319?v=4","gravatar_id":"","url":"https://api.github.com/users/maixiaohai","html_url":"https://github.com/maixiaohai","followers_url":"https://api.github.com/users/maixiaohai/followers","following_url":"https://api.github.com/users/maixiaohai/following{/other_user}","gists_url":"https://api.github.com/users/maixiaohai/gists{/gist_id}","starred_url":"https://api.github.com/users/maixiaohai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maixiaohai/subscriptions","organizations_url":"https://api.github.com/users/maixiaohai/orgs","repos_url":"https://api.github.com/users/maixiaohai/repos","events_url":"https://api.github.com/users/maixiaohai/events{/privacy}","received_events_url":"https://api.github.com/users/maixiaohai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T11:26:34Z","updated_at":"2021-04-08T11:26:34Z","author_association":"CONTRIBUTOR","body":"> 请问这个问题解决了吗？ 我也遇到类似问题。\r\n\r\n上面的pr #2664 修复了","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815685685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815820744","html_url":"https://github.com/apache/rocketmq/issues/2787#issuecomment-815820744","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2787","id":815820744,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTgyMDc0NA==","user":{"login":"hhive","id":31347477,"node_id":"MDQ6VXNlcjMxMzQ3NDc3","avatar_url":"https://avatars.githubusercontent.com/u/31347477?v=4","gravatar_id":"","url":"https://api.github.com/users/hhive","html_url":"https://github.com/hhive","followers_url":"https://api.github.com/users/hhive/followers","following_url":"https://api.github.com/users/hhive/following{/other_user}","gists_url":"https://api.github.com/users/hhive/gists{/gist_id}","starred_url":"https://api.github.com/users/hhive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhive/subscriptions","organizations_url":"https://api.github.com/users/hhive/orgs","repos_url":"https://api.github.com/users/hhive/repos","events_url":"https://api.github.com/users/hhive/events{/privacy}","received_events_url":"https://api.github.com/users/hhive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T13:23:16Z","updated_at":"2021-04-08T13:23:16Z","author_association":"NONE","body":"> [[]] is bash syntax，however, the runserver.sh script has been declared as sh\r\n> ![image](https://user-images.githubusercontent.com/29321745/113999767-e8973880-988c-11eb-80fb-91a7482cae11.png)\r\n> \r\n> Could you submit a PR to fix it？\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815820744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815849032","html_url":"https://github.com/apache/rocketmq/pull/2789#issuecomment-815849032","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2789","id":815849032,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNTg0OTAzMg==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T13:59:44Z","updated_at":"2021-04-08T13:59:44Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38642971/badge)](https://coveralls.io/builds/38642971)\n\nCoverage decreased (-0.06%) to 51.774% when pulling **10b55729040a30828b5eee9c99c956a0723fd0d6 on hhive:fix/ISSUE_#2787** into **b4240d5cea8d001c21b9c0d73f5aa700fcd0d568 on apache:master**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/815849032/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816002307","html_url":"https://github.com/apache/rocketmq/pull/2641#issuecomment-816002307","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2641","id":816002307,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjAwMjMwNw==","user":{"login":"horizonzy","id":22524871,"node_id":"MDQ6VXNlcjIyNTI0ODcx","avatar_url":"https://avatars.githubusercontent.com/u/22524871?v=4","gravatar_id":"","url":"https://api.github.com/users/horizonzy","html_url":"https://github.com/horizonzy","followers_url":"https://api.github.com/users/horizonzy/followers","following_url":"https://api.github.com/users/horizonzy/following{/other_user}","gists_url":"https://api.github.com/users/horizonzy/gists{/gist_id}","starred_url":"https://api.github.com/users/horizonzy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horizonzy/subscriptions","organizations_url":"https://api.github.com/users/horizonzy/orgs","repos_url":"https://api.github.com/users/horizonzy/repos","events_url":"https://api.github.com/users/horizonzy/events{/privacy}","received_events_url":"https://api.github.com/users/horizonzy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-08T17:23:42Z","updated_at":"2021-04-08T17:23:42Z","author_association":"MEMBER","body":"Any progress？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816002307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816353142","html_url":"https://github.com/apache/rocketmq/issues/2781#issuecomment-816353142","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2781","id":816353142,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM1MzE0Mg==","user":{"login":"lizhimins","id":22487634,"node_id":"MDQ6VXNlcjIyNDg3NjM0","avatar_url":"https://avatars.githubusercontent.com/u/22487634?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhimins","html_url":"https://github.com/lizhimins","followers_url":"https://api.github.com/users/lizhimins/followers","following_url":"https://api.github.com/users/lizhimins/following{/other_user}","gists_url":"https://api.github.com/users/lizhimins/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhimins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhimins/subscriptions","organizations_url":"https://api.github.com/users/lizhimins/orgs","repos_url":"https://api.github.com/users/lizhimins/repos","events_url":"https://api.github.com/users/lizhimins/events{/privacy}","received_events_url":"https://api.github.com/users/lizhimins/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T02:18:20Z","updated_at":"2021-04-09T02:18:20Z","author_association":"MEMBER","body":"Could you submit a PR to fix it？","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816353142/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816354034","html_url":"https://github.com/apache/rocketmq/issues/2770#issuecomment-816354034","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2770","id":816354034,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM1NDAzNA==","user":{"login":"lizhimins","id":22487634,"node_id":"MDQ6VXNlcjIyNDg3NjM0","avatar_url":"https://avatars.githubusercontent.com/u/22487634?v=4","gravatar_id":"","url":"https://api.github.com/users/lizhimins","html_url":"https://github.com/lizhimins","followers_url":"https://api.github.com/users/lizhimins/followers","following_url":"https://api.github.com/users/lizhimins/following{/other_user}","gists_url":"https://api.github.com/users/lizhimins/gists{/gist_id}","starred_url":"https://api.github.com/users/lizhimins/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lizhimins/subscriptions","organizations_url":"https://api.github.com/users/lizhimins/orgs","repos_url":"https://api.github.com/users/lizhimins/repos","events_url":"https://api.github.com/users/lizhimins/events{/privacy}","received_events_url":"https://api.github.com/users/lizhimins/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T02:21:02Z","updated_at":"2021-04-09T02:21:02Z","author_association":"MEMBER","body":"Broker 关闭之后，NameServer 上的路由信息会被异步删除，这里会有一小段时间间隔，此时客户端还认为这个 Broker 在线并尝试提交位点。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816354034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816361155","html_url":"https://github.com/apache/rocketmq/issues/2787#issuecomment-816361155","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2787","id":816361155,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM2MTE1NQ==","user":{"login":"hhive","id":31347477,"node_id":"MDQ6VXNlcjMxMzQ3NDc3","avatar_url":"https://avatars.githubusercontent.com/u/31347477?v=4","gravatar_id":"","url":"https://api.github.com/users/hhive","html_url":"https://github.com/hhive","followers_url":"https://api.github.com/users/hhive/followers","following_url":"https://api.github.com/users/hhive/following{/other_user}","gists_url":"https://api.github.com/users/hhive/gists{/gist_id}","starred_url":"https://api.github.com/users/hhive/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hhive/subscriptions","organizations_url":"https://api.github.com/users/hhive/orgs","repos_url":"https://api.github.com/users/hhive/repos","events_url":"https://api.github.com/users/hhive/events{/privacy}","received_events_url":"https://api.github.com/users/hhive/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T02:43:03Z","updated_at":"2021-04-09T02:43:03Z","author_association":"NONE","body":"develop分支已经改好了，if [ -z \"$JAVA_MAJOR_VERSION\" ] || [ \"$JAVA_MAJOR_VERSION\" -lt \"9\" ] ;","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816361155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816370310","html_url":"https://github.com/apache/rocketmq/issues/2781#issuecomment-816370310","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2781","id":816370310,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM3MDMxMA==","user":{"login":"EZLippi","id":5326814,"node_id":"MDQ6VXNlcjUzMjY4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/5326814?v=4","gravatar_id":"","url":"https://api.github.com/users/EZLippi","html_url":"https://github.com/EZLippi","followers_url":"https://api.github.com/users/EZLippi/followers","following_url":"https://api.github.com/users/EZLippi/following{/other_user}","gists_url":"https://api.github.com/users/EZLippi/gists{/gist_id}","starred_url":"https://api.github.com/users/EZLippi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EZLippi/subscriptions","organizations_url":"https://api.github.com/users/EZLippi/orgs","repos_url":"https://api.github.com/users/EZLippi/repos","events_url":"https://api.github.com/users/EZLippi/events{/privacy}","received_events_url":"https://api.github.com/users/EZLippi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T03:12:49Z","updated_at":"2021-04-09T03:12:49Z","author_association":"CONTRIBUTOR","body":"> Could you submit a PR to fix it？\r\n\r\non the way","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816370310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816378680","html_url":"https://github.com/apache/rocketmq/issues/2782#issuecomment-816378680","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2782","id":816378680,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjM3ODY4MA==","user":{"login":"yuandongjian","id":35158271,"node_id":"MDQ6VXNlcjM1MTU4Mjcx","avatar_url":"https://avatars.githubusercontent.com/u/35158271?v=4","gravatar_id":"","url":"https://api.github.com/users/yuandongjian","html_url":"https://github.com/yuandongjian","followers_url":"https://api.github.com/users/yuandongjian/followers","following_url":"https://api.github.com/users/yuandongjian/following{/other_user}","gists_url":"https://api.github.com/users/yuandongjian/gists{/gist_id}","starred_url":"https://api.github.com/users/yuandongjian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuandongjian/subscriptions","organizations_url":"https://api.github.com/users/yuandongjian/orgs","repos_url":"https://api.github.com/users/yuandongjian/repos","events_url":"https://api.github.com/users/yuandongjian/events{/privacy}","received_events_url":"https://api.github.com/users/yuandongjian/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T03:40:36Z","updated_at":"2021-04-09T03:47:36Z","author_association":"NONE","body":"> InstanceName is used to splice clientId，the broadcast mode does not require consumer rebalance, and there is no need to ensure that the ClientId is different.\r\n\r\n我明白你的意思，你是站着集群模式消费的角度考虑的。\r\n但是我想说的是，如果广播消费的instanceName也使用PID，就可以在一个进程内与集群消费共享网络连接。\r\n\r\n并且由于广播消费的消费进度存储在本地，位置在: \r\n```\r\nthis.storePath = LOCAL_OFFSET_STORE_DIR + File.separator +\r\n            this.mQClientFactory.getClientId() + File.separator +\r\n            this.groupName + File.separator +\r\n            \"offsets.json\";\r\n```\r\n如果广播消费的instanceName固定是DEFAULT的话，那么将不能在一台机器上启动两个相同组名的消费者，否则Offset存储会发生冲突。所以，广播消费也应该要确保ClientId是不同的。\r\n当然，对于上面的Case，用户也可以自己手动修改instanceName，但是我觉得这些问题可以提前规避。","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816378680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816432137","html_url":"https://github.com/apache/rocketmq/pull/2790#issuecomment-816432137","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2790","id":816432137,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQzMjEzNw==","user":{"login":"coveralls","id":2354108,"node_id":"MDQ6VXNlcjIzNTQxMDg=","avatar_url":"https://avatars.githubusercontent.com/u/2354108?v=4","gravatar_id":"","url":"https://api.github.com/users/coveralls","html_url":"https://github.com/coveralls","followers_url":"https://api.github.com/users/coveralls/followers","following_url":"https://api.github.com/users/coveralls/following{/other_user}","gists_url":"https://api.github.com/users/coveralls/gists{/gist_id}","starred_url":"https://api.github.com/users/coveralls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/coveralls/subscriptions","organizations_url":"https://api.github.com/users/coveralls/orgs","repos_url":"https://api.github.com/users/coveralls/repos","events_url":"https://api.github.com/users/coveralls/events{/privacy}","received_events_url":"https://api.github.com/users/coveralls/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T06:02:47Z","updated_at":"2021-04-09T06:06:47Z","author_association":"NONE","body":"\n[![Coverage Status](https://coveralls.io/builds/38668361/badge)](https://coveralls.io/builds/38668361)\n\nCoverage decreased (-0.08%) to 51.851% when pulling **1e1fad80b733e93b1a60f6dad1124f9fbd699cf5 on EZLippi:feature/issue2781** into **7680063f89a2aa5ae003f5d19ebd3343e828b94f on apache:develop**.\n","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816432137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816435913","html_url":"https://github.com/apache/rocketmq/issues/2786#issuecomment-816435913","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2786","id":816435913,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQzNTkxMw==","user":{"login":"felayman","id":7543851,"node_id":"MDQ6VXNlcjc1NDM4NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7543851?v=4","gravatar_id":"","url":"https://api.github.com/users/felayman","html_url":"https://github.com/felayman","followers_url":"https://api.github.com/users/felayman/followers","following_url":"https://api.github.com/users/felayman/following{/other_user}","gists_url":"https://api.github.com/users/felayman/gists{/gist_id}","starred_url":"https://api.github.com/users/felayman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felayman/subscriptions","organizations_url":"https://api.github.com/users/felayman/orgs","repos_url":"https://api.github.com/users/felayman/repos","events_url":"https://api.github.com/users/felayman/events{/privacy}","received_events_url":"https://api.github.com/users/felayman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T06:10:40Z","updated_at":"2021-04-09T06:10:40Z","author_association":"NONE","body":"> 你少看了个继承吧，NettyDecorder继承自LengthFieldBasedFrameDecoder，在LengthFieldBasedFrameDecoder里是有很多不可复用的属性的\r\n\r\n目前看来就一个com.rocketmq.remoting.frameMaxLength是可能不复用的, 我理解NettyDecoder是可以复用于多个channel的","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816435913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816463544","html_url":"https://github.com/apache/rocketmq/issues/2777#issuecomment-816463544","issue_url":"https://api.github.com/repos/apache/rocketmq/issues/2777","id":816463544,"node_id":"MDEyOklzc3VlQ29tbWVudDgxNjQ2MzU0NA==","user":{"login":"felayman","id":7543851,"node_id":"MDQ6VXNlcjc1NDM4NTE=","avatar_url":"https://avatars.githubusercontent.com/u/7543851?v=4","gravatar_id":"","url":"https://api.github.com/users/felayman","html_url":"https://github.com/felayman","followers_url":"https://api.github.com/users/felayman/followers","following_url":"https://api.github.com/users/felayman/following{/other_user}","gists_url":"https://api.github.com/users/felayman/gists{/gist_id}","starred_url":"https://api.github.com/users/felayman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/felayman/subscriptions","organizations_url":"https://api.github.com/users/felayman/orgs","repos_url":"https://api.github.com/users/felayman/repos","events_url":"https://api.github.com/users/felayman/events{/privacy}","received_events_url":"https://api.github.com/users/felayman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-09T07:05:52Z","updated_at":"2021-04-09T07:05:52Z","author_association":"NONE","body":"> > 这种操作属于非标操作，既然有消费者在线，那么就应该知道执行的后果。因此我觉得这不是bug。\r\n> > 负载均衡这里是正常的，因为 mqSet和cidSet 是一直没有变的。\r\n> > 获取topic路由哪里，如果找不到topic的话，会抛出异常，并不会更新路由信息，那么mqSet也就不会变。\r\n> > cidSet是根据ConsumerId来决定的。\r\n> \r\n> topic不可读, 或者topic被删除了, mqSet会变, 消费者更新topicSubscribeInfoTable前会筛选只读的队列更新到map, 下次rebalance时拿到的mqSet就是空的, 所以才抛出了异常导致没有执行后续的逻辑\r\n\r\n我看了代码，如果mqSet是空的，不会执行截图中红线圈的地方，执行这段逻辑的分支条件是：mqSet != null && cidAll != null","reactions":{"url":"https://api.github.com/repos/apache/rocketmq/issues/comments/816463544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]