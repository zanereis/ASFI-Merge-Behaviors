[{"url":"https://api.github.com/repos/apache/druid/issues/comments/291931473","html_url":"https://github.com/apache/druid/issues/4144#issuecomment-291931473","issue_url":"https://api.github.com/repos/apache/druid/issues/4144","id":291931473,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MTkzMTQ3Mw==","user":{"login":"gwthm-in","id":8710113,"node_id":"MDQ6VXNlcjg3MTAxMTM=","avatar_url":"https://avatars.githubusercontent.com/u/8710113?v=4","gravatar_id":"","url":"https://api.github.com/users/gwthm-in","html_url":"https://github.com/gwthm-in","followers_url":"https://api.github.com/users/gwthm-in/followers","following_url":"https://api.github.com/users/gwthm-in/following{/other_user}","gists_url":"https://api.github.com/users/gwthm-in/gists{/gist_id}","starred_url":"https://api.github.com/users/gwthm-in/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gwthm-in/subscriptions","organizations_url":"https://api.github.com/users/gwthm-in/orgs","repos_url":"https://api.github.com/users/gwthm-in/repos","events_url":"https://api.github.com/users/gwthm-in/events{/privacy}","received_events_url":"https://api.github.com/users/gwthm-in/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T17:14:06Z","updated_at":"2017-04-05T17:14:06Z","author_association":"NONE","body":"@dclim \r\n\r\nYea, thanks for the hint. I'll try and let you know. If required will reopen the issue. Closing  it now. Thanks :) üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/291931473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292025347","html_url":"https://github.com/apache/druid/pull/4146#issuecomment-292025347","issue_url":"https://api.github.com/repos/apache/druid/issues/4146","id":292025347,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjAyNTM0Nw==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T23:23:35Z","updated_at":"2017-04-05T23:23:35Z","author_association":"CONTRIBUTOR","body":"Thanks @cxmcc, can you fill out http://druid.io/community/cla.html?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292025347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292026061","html_url":"https://github.com/apache/druid/pull/4141#issuecomment-292026061","issue_url":"https://api.github.com/repos/apache/druid/issues/4141","id":292026061,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjAyNjA2MQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T23:28:13Z","updated_at":"2017-04-05T23:28:13Z","author_association":"CONTRIBUTOR","body":"üëç  after formatting fixes","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292026061/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292026348","html_url":"https://github.com/apache/druid/pull/4039#issuecomment-292026348","issue_url":"https://api.github.com/repos/apache/druid/issues/4039","id":292026348,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjAyNjM0OA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T23:29:54Z","updated_at":"2017-04-05T23:29:54Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292026348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292027431","html_url":"https://github.com/apache/druid/pull/4146#issuecomment-292027431","issue_url":"https://api.github.com/repos/apache/druid/issues/4146","id":292027431,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjAyNzQzMQ==","user":{"login":"cxmcc","id":1209733,"node_id":"MDQ6VXNlcjEyMDk3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1209733?v=4","gravatar_id":"","url":"https://api.github.com/users/cxmcc","html_url":"https://github.com/cxmcc","followers_url":"https://api.github.com/users/cxmcc/followers","following_url":"https://api.github.com/users/cxmcc/following{/other_user}","gists_url":"https://api.github.com/users/cxmcc/gists{/gist_id}","starred_url":"https://api.github.com/users/cxmcc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cxmcc/subscriptions","organizations_url":"https://api.github.com/users/cxmcc/orgs","repos_url":"https://api.github.com/users/cxmcc/repos","events_url":"https://api.github.com/users/cxmcc/events{/privacy}","received_events_url":"https://api.github.com/users/cxmcc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T23:36:26Z","updated_at":"2017-04-05T23:36:26Z","author_association":"CONTRIBUTOR","body":"Done","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292027431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292028372","html_url":"https://github.com/apache/druid/pull/3985#issuecomment-292028372","issue_url":"https://api.github.com/repos/apache/druid/issues/3985","id":292028372,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjAyODM3Mg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T23:42:30Z","updated_at":"2017-04-05T23:42:30Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292028372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292028775","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-292028775","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":292028775,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjAyODc3NQ==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T23:45:03Z","updated_at":"2017-04-05T23:45:03Z","author_association":"CONTRIBUTOR","body":"@b-slim this is failing UT","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292028775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292031024","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-292031024","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":292031024,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjAzMTAyNA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-05T23:59:46Z","updated_at":"2017-04-05T23:59:46Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292031024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292084951","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-292084951","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":292084951,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjA4NDk1MQ==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T06:51:10Z","updated_at":"2017-04-06T06:54:57Z","author_association":"CONTRIBUTOR","body":"There are two upgrade points may should be mentioned in the release notes:\r\n\r\n1. \"segmentGranularity\" semantics changed. \r\n   If running in some locale other than \"GMT\", and set as \"DAY\" / \"WEEK\" / \"MONTH\", the result segments boundary may be changed.\r\n  In my production running, I found that:\r\n     In previous version, it generates segments align on \"local 00:00:00\"\r\n     In 0.10.0, it generates segments boundary align on \"GMT 00:00:00\"\r\n  To generate compatible segments, I had to specify something like\r\n     ```\r\n        {\r\n          \"type\" : \"period\",\r\n          \"period\" : \"P1D\",\r\n          \"timeZone\" : \"+08:00\",\r\n          \"origin\" : null\r\n        }\r\n    ```\r\n\r\n2. parameter in hadoop index spec changed.\r\n  tuningConfig: \"maxRowsInMemory\" has changed to \"maxRowsInMemory\"\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292084951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292089181","html_url":"https://github.com/apache/druid/pull/4134#issuecomment-292089181","issue_url":"https://api.github.com/repos/apache/druid/issues/4134","id":292089181,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjA4OTE4MQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T07:14:15Z","updated_at":"2017-04-06T07:14:15Z","author_association":"CONTRIBUTOR","body":"@leventov I first thought that it could be used in the future, so kept it. But, yeah, it's simple and can add again if necessary. I removed now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292089181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292193663","html_url":"https://github.com/apache/druid/issues/4150#issuecomment-292193663","issue_url":"https://api.github.com/repos/apache/druid/issues/4150","id":292193663,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjE5MzY2Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T14:34:21Z","updated_at":"2017-04-06T14:34:21Z","author_association":"CONTRIBUTOR","body":"It certainly can if the hadoop tasks executors will be able to read this data. You can point to that data via `inputSpec` that is part of `IoConfig` ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292193663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292212710","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-292212710","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":292212710,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjIxMjcxMA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T15:34:55Z","updated_at":"2017-04-06T15:34:55Z","author_association":"CONTRIBUTOR","body":"@leventov sorry, I was away for a while.\r\nHowever, i thought #4113 conclusion is to change the type of responseContext into something that is safer to use concurrently. responseContext is indeed there to pass around and gather various things.\r\nQuery context is more for various \"flags/configuration\" that are indication to query processing engine for various things. these may or may not be explicitly specified by the user.\r\n\r\nThat said, I might be wrong or we might want to change things in direction you're suggesting. So, please remind us to discuss this in next dev sync up and we can conclude it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292212710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292284630","html_url":"https://github.com/apache/druid/pull/4039#issuecomment-292284630","issue_url":"https://api.github.com/repos/apache/druid/issues/4039","id":292284630,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjI4NDYzMA==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T19:21:14Z","updated_at":"2017-04-07T00:01:34Z","author_association":"CONTRIBUTOR","body":"I don't know why Travis failed for the last commit.  I just let it re-run, and it looks ok this time.  I think I addressed all the points.   Remaining issue is the performance but that will be another PR.\r\n\r\nThere is a PR #2354 that seems to perform better (but uncommon flatten expression syntax).   I might reuse some code from the PR and create the JSONPath Protobuf provider.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292284630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292313452","html_url":"https://github.com/apache/druid/issues/4152#issuecomment-292313452","issue_url":"https://api.github.com/repos/apache/druid/issues/4152","id":292313452,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjMxMzQ1Mg==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T20:45:04Z","updated_at":"2017-04-06T20:54:08Z","author_association":"CONTRIBUTOR","body":"It was actually log4j taking up the time trying to lookup DNS for non existing host name.  \r\nI added /etc/hosts entry for the host.  Now the test finishes in 0.6sec which is not too far from 1sec limit.\r\n\r\nI don't know the solution but it'd be great if we could segregate the tests from the environment. \r\n\r\n```\r\njava.lang.Exception: test timed out after 1000 milliseconds\r\n\r\n\tat java.net.Inet6AddressImpl.lookupAllHostAddr(Native Method)\r\n\tat java.net.InetAddress$2.lookupAllHostAddr(InetAddress.java:928)\r\n\tat java.net.InetAddress.getAddressesFromNameService(InetAddress.java:1323)\r\n\tat java.net.InetAddress.getLocalHost(InetAddress.java:1500)\r\n\tat org.apache.logging.log4j.core.util.NetUtils.getLocalHostname(NetUtils.java:53)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:486)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:562)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:578)\r\n\tat org.apache.logging.log4j.core.LoggerContext.start(LoggerContext.java:214)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:145)\r\n\tat org.apache.logging.log4j.core.impl.Log4jContextFactory.getContext(Log4jContextFactory.java:41)\r\n\tat org.apache.logging.log4j.LogManager.getContext(LogManager.java:182)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getContext(AbstractLoggerAdapter.java:103)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getContext(Log4jLoggerFactory.java:43)\r\n\tat org.apache.logging.log4j.spi.AbstractLoggerAdapter.getLogger(AbstractLoggerAdapter.java:42)\r\n\tat org.apache.logging.slf4j.Log4jLoggerFactory.getLogger(Log4jLoggerFactory.java:29)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:253)\r\n\tat org.slf4j.LoggerFactory.getLogger(LoggerFactory.java:265)\r\n\tat io.druid.java.util.common.logger.Logger.<init>(Logger.java:38)\r\n\tat io.druid.collections.ReferenceCountingResourceHolder.<clinit>(ReferenceCountingResourceHolder.java:35)\r\n\tat io.druid.collections.BlockingPool.takeBatch(BlockingPool.java:171)\r\n\tat io.druid.collections.BlockingPoolTest.testWaitAndTakeBatch(BlockingPoolTest.java:106)\r\n```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292313452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292320449","html_url":"https://github.com/apache/druid/issues/4152#issuecomment-292320449","issue_url":"https://api.github.com/repos/apache/druid/issues/4152","id":292320449,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjMyMDQ0OQ==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-06T21:05:51Z","updated_at":"2017-04-06T21:05:51Z","author_association":"CONTRIBUTOR","body":"log4j web page said:\r\n> Note that if your /etc/hosts file does not include an entry for your computer‚Äôs hostname, then many unit tests may execute slowly due to DNS lookups to translate your hostname to an IP address in InetAddress::getLocalHost. To remedy this, you can execute the following:\r\n>\r\n> printf '127.0.0.1 %s\\n::1 %s\\n' `hostname` `hostname` | sudo tee -a /etc/hosts\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292320449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292373152","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-292373152","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":292373152,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjM3MzE1Mg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-07T00:20:04Z","updated_at":"2017-04-07T00:20:04Z","author_association":"MEMBER","body":"@himanshug I don't see what we disagree about. #4113 and https://github.com/druid-io/druid/pull/4131#issuecomment-290236052 couldn't be done in a minor Druid version update like 0.10.1, because they break custom user query types and query runners. This PR adds QueryMetrics in a compatible way for 0.10.x.\r\n\r\nI agree that `Query` is not a very intuitive/suitable place for `QueryMetrics`, but responseContext is worse. I used to pass some equivalent of `QueryMetrics` via responseContext when initially implemented this functionality several months ago, and got concurrency issues: #3803. So I think `Query` is the most suitable place for `QueryMetrics` _for now._\r\n\r\nI won't be able to participate next week's dev sync","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292373152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292401421","html_url":"https://github.com/apache/druid/issues/4150#issuecomment-292401421","issue_url":"https://api.github.com/repos/apache/druid/issues/4150","id":292401421,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjQwMTQyMQ==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-07T02:12:11Z","updated_at":"2017-04-07T02:12:11Z","author_association":"CONTRIBUTOR","body":"@b-slim I thought the core-site.xml and hdfs-site.xml locate the HDFS cluster. The config in inputSpec just locate the data path. Any doc or example for me,please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292401421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292549441","html_url":"https://github.com/apache/druid/issues/4150#issuecomment-292549441","issue_url":"https://api.github.com/repos/apache/druid/issues/4150","id":292549441,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjU0OTQ0MQ==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-07T14:19:45Z","updated_at":"2017-04-07T14:19:45Z","author_association":"CONTRIBUTOR","body":"you need to provide the full URI like `hdfs://nn1.example.com/file1`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292549441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292600475","html_url":"https://github.com/apache/druid/issues/4156#issuecomment-292600475","issue_url":"https://api.github.com/repos/apache/druid/issues/4156","id":292600475,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjYwMDQ3NQ==","user":{"login":"mgastel","id":7440712,"node_id":"MDQ6VXNlcjc0NDA3MTI=","avatar_url":"https://avatars.githubusercontent.com/u/7440712?v=4","gravatar_id":"","url":"https://api.github.com/users/mgastel","html_url":"https://github.com/mgastel","followers_url":"https://api.github.com/users/mgastel/followers","following_url":"https://api.github.com/users/mgastel/following{/other_user}","gists_url":"https://api.github.com/users/mgastel/gists{/gist_id}","starred_url":"https://api.github.com/users/mgastel/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mgastel/subscriptions","organizations_url":"https://api.github.com/users/mgastel/orgs","repos_url":"https://api.github.com/users/mgastel/repos","events_url":"https://api.github.com/users/mgastel/events{/privacy}","received_events_url":"https://api.github.com/users/mgastel/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-07T17:29:12Z","updated_at":"2017-04-07T17:29:12Z","author_association":"NONE","body":"I'd put a +1 on this.   I've never enabled caching for group by's because I don't want to have my users potentially get an error.   I would also prefer \"just doesn't cache\" and maybe keep a stat or something","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292600475/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292714037","html_url":"https://github.com/apache/druid/issues/4011#issuecomment-292714037","issue_url":"https://api.github.com/repos/apache/druid/issues/4011","id":292714037,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjcxNDAzNw==","user":{"login":"arpankhagram","id":20059251,"node_id":"MDQ6VXNlcjIwMDU5MjUx","avatar_url":"https://avatars.githubusercontent.com/u/20059251?v=4","gravatar_id":"","url":"https://api.github.com/users/arpankhagram","html_url":"https://github.com/arpankhagram","followers_url":"https://api.github.com/users/arpankhagram/followers","following_url":"https://api.github.com/users/arpankhagram/following{/other_user}","gists_url":"https://api.github.com/users/arpankhagram/gists{/gist_id}","starred_url":"https://api.github.com/users/arpankhagram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arpankhagram/subscriptions","organizations_url":"https://api.github.com/users/arpankhagram/orgs","repos_url":"https://api.github.com/users/arpankhagram/repos","events_url":"https://api.github.com/users/arpankhagram/events{/privacy}","received_events_url":"https://api.github.com/users/arpankhagram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-08T12:09:53Z","updated_at":"2017-04-08T12:09:53Z","author_association":"NONE","body":"@gianm  We have been able to make some progress by using groupBy queries to fetch those large result sets but the problem we are facing is with respect to inability of druid to response other small queries when we run these large groupBy queries. we have requests coming from multiple sources on demand to fetch the data - we can't let those requests timed out because of this large groupBy query.\r\n\r\nCan you suggest something please. Thanks in advance.\r\n\r\nRegards,\r\nArpan Khagram","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292714037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292731103","html_url":"https://github.com/apache/druid/issues/4133#issuecomment-292731103","issue_url":"https://api.github.com/repos/apache/druid/issues/4133","id":292731103,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjczMTEwMw==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-08T16:59:53Z","updated_at":"2017-04-08T17:19:50Z","author_association":"CONTRIBUTOR","body":"I've never used that extension, so this is just a suggestion only.   The OrcNewSplit class is provided by `hive-exec` version 2.0.0 jar.  The first thing I'd do is [pull-deps](http://druid.io/docs/latest/operations/pull-deps.html) and make sure necessary jars for the plugin are downloaded.  \r\n\r\n`java -classpath \"./lib/*\" io.druid.cli.Main tools pull-deps --clean -c io.druid.extensions.contrib:druid-orc-extensions:0.9.2 -h org.apache.hadoop:hadoop-client:2.3.0`\r\n\r\nIf the hadoop v2.3.0 client does not work for some reasons, please see [my post at Stackoverflow](http://stackoverflow.com/questions/40146584/an-error-loading-batch-data-in-druid-with-hadoop-2-6-0-cdh5-7-1-map-reduce).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292731103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292828416","html_url":"https://github.com/apache/druid/pull/4157#issuecomment-292828416","issue_url":"https://api.github.com/repos/apache/druid/issues/4157","id":292828416,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjgyODQxNg==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T01:21:03Z","updated_at":"2017-04-10T01:21:03Z","author_association":"CONTRIBUTOR","body":"üëç \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292828416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292828557","html_url":"https://github.com/apache/druid/pull/4155#issuecomment-292828557","issue_url":"https://api.github.com/repos/apache/druid/issues/4155","id":292828557,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjgyODU1Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T01:22:32Z","updated_at":"2017-04-10T01:22:32Z","author_association":"CONTRIBUTOR","body":"@kaijianding I believe your understand is right, looks like timeseries does run postaggs at more stages than is really necessary.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292828557/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292840667","html_url":"https://github.com/apache/druid/issues/4113#issuecomment-292840667","issue_url":"https://api.github.com/repos/apache/druid/issues/4113","id":292840667,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjg0MDY2Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T03:21:14Z","updated_at":"2017-04-10T03:21:14Z","author_association":"CONTRIBUTOR","body":"IMO, changes to response context should be motivated by use cases. There is no need to add complexity for things we might need but don't actually need. I suggest we combine this issue with #3803, they seem to be the same underlying problem.\r\n\r\nRight now, response context is used for:\r\n\r\n- tracking missing segments for query retries (see SpecificSegmentQueryRunner, ReportTimelineMissingSegmentQueryRunner, RetryQueryRunner)\r\n- returning a list of `uncoveredIntervals` to the client (see #2058, made optional in #2332)\r\n- tracking timeouts in the Scan query (although this usage is a bit dubious, see #4112)\r\n\r\nThat's all I can think of, maybe there's more that I missed. Possible future usages include query profiling: https://github.com/druid-io/druid/issues/4113#issuecomment-289181050 and #3371.\r\n\r\nAnyone aware of anything else?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292840667/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292841747","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-292841747","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":292841747,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjg0MTc0Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T03:31:29Z","updated_at":"2017-04-10T03:31:29Z","author_association":"CONTRIBUTOR","body":"@leventov, in reply to:\r\n\r\n> I agree that Query is not a very intuitive/suitable place for QueryMetrics, but responseContext is worse. This PR adds QueryMetrics in a compatible way for 0.10.x.\r\n\r\nThis patch won't preserve extension compatibility anyway, since Query gained `withQueryMetrics` but BaseQuery doesn't provide a default implementation.\r\n\r\nBut also: is there a nice migration path from this change now, to something that would be a \"better\" design for 0.11.0? From your discussion with @himanshug, it sounds like there isn't, and in 0.11.0 we'd just want to remove these methods we're adding now and replace them with something else. I think if that's the case, it's fine to make the \"better\" change now and have the next release after 0.10.0 be 0.11.0.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292841747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292842201","html_url":"https://github.com/apache/druid/issues/3833#issuecomment-292842201","issue_url":"https://api.github.com/repos/apache/druid/issues/3833","id":292842201,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjg0MjIwMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T03:35:40Z","updated_at":"2017-04-10T03:35:40Z","author_association":"CONTRIBUTOR","body":"@arpankhagram no, I'm not aware of plans to fix the original disk spill issue.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292842201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292845215","html_url":"https://github.com/apache/druid/pull/4052#issuecomment-292845215","issue_url":"https://api.github.com/repos/apache/druid/issues/4052","id":292845215,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjg0NTIxNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T04:06:42Z","updated_at":"2017-04-10T04:06:42Z","author_association":"CONTRIBUTOR","body":"Closing since a new approach is being worked on in #4049.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292845215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292856457","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-292856457","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":292856457,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjg1NjQ1Nw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T05:57:07Z","updated_at":"2017-04-10T05:57:07Z","author_association":"MEMBER","body":"@gianm uff, ok.\r\n\r\nCould you please comment on https://github.com/druid-io/druid/pull/4131#issuecomment-290236052? Also @drcrallen and @himanshug. I don't want to start implementing the change that people will dislike later. Because there is a lot of `Query` and `QueryRunner` code to change. (It couldn't be guaranteed that somebody will disagree when looking at actual PR, but I want to minimize probability of that.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292856457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292880886","html_url":"https://github.com/apache/druid/issues/4158#issuecomment-292880886","issue_url":"https://api.github.com/repos/apache/druid/issues/4158","id":292880886,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjg4MDg4Ng==","user":{"login":"mjaow","id":8275883,"node_id":"MDQ6VXNlcjgyNzU4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8275883?v=4","gravatar_id":"","url":"https://api.github.com/users/mjaow","html_url":"https://github.com/mjaow","followers_url":"https://api.github.com/users/mjaow/followers","following_url":"https://api.github.com/users/mjaow/following{/other_user}","gists_url":"https://api.github.com/users/mjaow/gists{/gist_id}","starred_url":"https://api.github.com/users/mjaow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjaow/subscriptions","organizations_url":"https://api.github.com/users/mjaow/orgs","repos_url":"https://api.github.com/users/mjaow/repos","events_url":"https://api.github.com/users/mjaow/events{/privacy}","received_events_url":"https://api.github.com/users/mjaow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T08:18:42Z","updated_at":"2017-04-10T08:18:42Z","author_association":"NONE","body":"i find a dump-segment tool in the version of 0.9.2.But i'm using 0.9.1.It seems i have to implement it with help of latest version","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292880886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292925014","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-292925014","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":292925014,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjkyNTAxNA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T11:39:53Z","updated_at":"2017-04-10T11:39:53Z","author_association":"CONTRIBUTOR","body":"comments addressed and ut added @gianm @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292925014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292928641","html_url":"https://github.com/apache/druid/issues/4150#issuecomment-292928641","issue_url":"https://api.github.com/repos/apache/druid/issues/4150","id":292928641,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MjkyODY0MQ==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T11:58:42Z","updated_at":"2017-04-10T11:58:42Z","author_association":"CONTRIBUTOR","body":"@b-slim Thank you very much. I will try it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292928641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292971651","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-292971651","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":292971651,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk3MTY1MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T14:46:00Z","updated_at":"2017-04-10T14:46:00Z","author_association":"CONTRIBUTOR","body":"Main code looks good to me but I had some comments about the tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292971651/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292972858","html_url":"https://github.com/apache/druid/pull/4155#issuecomment-292972858","issue_url":"https://api.github.com/repos/apache/druid/issues/4155","id":292972858,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk3Mjg1OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T14:49:37Z","updated_at":"2017-04-10T14:49:37Z","author_association":"CONTRIBUTOR","body":"@kaijianding something seems wrong with the unit tests.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292972858/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292976438","html_url":"https://github.com/apache/druid/pull/3855#issuecomment-292976438","issue_url":"https://api.github.com/repos/apache/druid/issues/3855","id":292976438,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk3NjQzOA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:01:00Z","updated_at":"2017-04-10T15:01:00Z","author_association":"CONTRIBUTOR","body":"@leventov please write your comments on the PR diff and not on commit diff , it appears I can't reply to those comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292976438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292977258","html_url":"https://github.com/apache/druid/pull/3855#issuecomment-292977258","issue_url":"https://api.github.com/repos/apache/druid/issues/3855","id":292977258,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk3NzI1OA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:03:32Z","updated_at":"2017-04-10T15:03:32Z","author_association":"CONTRIBUTOR","body":"@drcrallen added test for lookupManagementLoop ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292977258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292977631","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-292977631","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":292977631,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk3NzYzMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:04:44Z","updated_at":"2017-04-10T15:06:12Z","author_association":"CONTRIBUTOR","body":"I'll take a closer look at that in a bit. I guess you would propose that query endpoints like QueryResource should accept a QueryWithContext? My first thought is that there's not a serious need to reorganize Query to split out the context. Some considerations:\r\n\r\n1. IMO, we don't want to change the query API `/druid/v2/` as part of this change. So queries submitted there should still include a context.\r\n2. Sometimes \"internal\" context parameters are useful for users to be able to provide, like `finalize` (if a user wants to get complex metrics in raw form), `queryId` (if a user wants to use a specific query id).\r\n3. We need a way for users to provide parameters that affect execution but not results. For example, `priority`, `timeout`, `useCache`, `populateCache`, `groupByStrategy`.\r\n4. We need a way for brokers to pass down information to compute nodes, which needs to be part of the serialized form of a query. For example, when queries are issued from the broker, the groupBy query populates `groupByStrategy` if it wasn't set by the user, to ensure the same strategy is used on all nodes.\r\n5. Maybe not the best, but, sometimes query context parameters that users provide _do_ affect the results and need to be included in the cache key. For example: the timeseries parameter `skipEmptyBuckets`. That probably should have originally been a top level thing rather than a context parameter, but we should retain it in context for query API compatibility.\r\n\r\nThese points, taken as a whole, to me suggest it makes sense to keep the current design of Query. It satisfies all these needs well and does that in a relatively simple way.\r\n\r\nIt still makes sense to me to add a QueryPlus object and change QueryRunner to take that, but the \"plus\" wouldn't be query context, it would be probably response context and queryMetrics.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292977631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292980007","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-292980007","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":292980007,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk4MDAwNw==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:12:04Z","updated_at":"2017-04-10T15:12:04Z","author_association":"CONTRIBUTOR","body":"@leventov @gianm I would say keep Query the way it is now with query context in it.\r\nRegarding QueryRunner.run(QueryPlus) , I'm still not sure why it can't be QueryRunner.run(Query,ResponseContext) where ResponseContext has {QueryPlus - Query}. You do have to pass something in addition to Query to all the runners.\r\n\r\nalso @leventov do you agree with above but not in favor because it can't be made backward compatible?\r\n\r\n@leventov I do agree that we need to minimize disagreements after large code body is written so before writing any code , let us get to some conclusion first.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292980007/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292980375","html_url":"https://github.com/apache/druid/issues/4113#issuecomment-292980375","issue_url":"https://api.github.com/repos/apache/druid/issues/4113","id":292980375,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk4MDM3NQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:13:17Z","updated_at":"2017-04-10T15:13:17Z","author_association":"CONTRIBUTOR","body":"response context is also used for tracking the \"etag\" field to implement https://github.com/druid-io/druid/pull/3955","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292980375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292982057","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-292982057","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":292982057,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk4MjA1Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:18:39Z","updated_at":"2017-04-10T15:18:39Z","author_association":"CONTRIBUTOR","body":"> Regarding QueryRunner.run(QueryPlus) , I'm still not sure why it can't be QueryRunner.run(Query,ResponseContext) where ResponseContext has {QueryPlus - Query}. You do have to pass something in addition to Query to all the runners.\r\n\r\nQueryRunner.run(QueryPlus) and QueryRunner(Query, ExtraQueryStuff) are equivalent. The only reason I would suggest not naming ExtraQueryStuff as \"ResponseContext\" is for future proofing. It might have things in it that aren't response context. Like QueryMetrics, or future unforeseen uses. That way we don't have to change the API again if we want to add something else.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292982057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/292987537","html_url":"https://github.com/apache/druid/issues/4158#issuecomment-292987537","issue_url":"https://api.github.com/repos/apache/druid/issues/4158","id":292987537,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mjk4NzUzNw==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T15:36:25Z","updated_at":"2017-04-10T15:38:08Z","author_association":"CONTRIBUTOR","body":"I don't think you can extract raw data (as in individual events) from 0.9.1.  The 0.9.2 introduced `rollup` option in the [granularity spec](http://druid.io/docs/0.9.2/ingestion/).  Unless the option is explicitly turned off, the  raw data is aggregated and rolled up before saved into disk.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/292987537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293013918","html_url":"https://github.com/apache/druid/pull/4155#issuecomment-293013918","issue_url":"https://api.github.com/repos/apache/druid/issues/4155","id":293013918,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzAxMzkxOA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T17:04:34Z","updated_at":"2017-04-10T17:04:34Z","author_association":"CONTRIBUTOR","body":"ut fixed @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293013918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293014928","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-293014928","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":293014928,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzAxNDkyOA==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T17:08:08Z","updated_at":"2017-04-10T17:08:08Z","author_association":"CONTRIBUTOR","body":"ut comments addressed @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293014928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293047188","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-293047188","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":293047188,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzA0NzE4OA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T19:03:24Z","updated_at":"2017-04-10T19:03:24Z","author_association":"CONTRIBUTOR","body":"@hamlet-lee,\r\n\r\nFor (1) do you mean this is a behavior change when you're running Druid with some TZ other than UTC? If so, that configuration isn't supported (we officially only support running in UTC) and so behavior there is undefined and may change for any feature that relies on time zones. I'll add something to the release notes, but please run Druid in the UTC tz if at all possible, for your own benefit!\r\n\r\nFor (2) I don't understand what you're saying. It looks like \"maxRowsInMemory\" is the same as before. Could you please be more specific?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293047188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293049937","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-293049937","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":293049937,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzA0OTkzNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T19:14:12Z","updated_at":"2017-04-10T19:14:41Z","author_association":"CONTRIBUTOR","body":"I added this to the release notes:\r\n\r\n>When running in non-UTC timezones, behavior of predefined segmentGranularity constants such as \"day\" will change when upgrading. Formerly, this would generate segments using local days. In Druid 0.10.0, this will generate segments using UTC days. If you were running Druid in the UTC timezone, this change has no effect. Please note that running Druid in a non-UTC timezone is not officially supported (see http://druid.io/docs/0.10.0-rc2/configuration/index.html) and we recommend always running all processes in UTC timezones. To create local-day segments using Druid 0.10.0, you can use a local-time segmentGranularity such as:\r\n>```\r\n>\"segmentGranularity\" : {\r\n>     \"type\" : \"period\",\r\n>     \"period\" : \"P1D\",\r\n>     \"timeZone\" : \"America/Los_Angeles\"\r\n>}\r\n>```","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293049937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293083107","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-293083107","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":293083107,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzA4MzEwNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T21:22:48Z","updated_at":"2017-04-10T21:22:48Z","author_association":"CONTRIBUTOR","body":"@pjain1, just wondering, are you still looking at this? anything we could help with?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293083107/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293095762","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-293095762","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":293095762,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzA5NTc2Mg==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-10T22:20:18Z","updated_at":"2017-04-10T22:20:18Z","author_association":"MEMBER","body":"Hey, sorry it got stretched out a bit. I am done with the coding and currently testing it on our metrics cluster. I am yet to write tests for it, however I will try to do a PR without it as soon as possible so that you can have a look. Thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293095762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293134125","html_url":"https://github.com/apache/druid/issues/4158#issuecomment-293134125","issue_url":"https://api.github.com/repos/apache/druid/issues/4158","id":293134125,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzEzNDEyNQ==","user":{"login":"mjaow","id":8275883,"node_id":"MDQ6VXNlcjgyNzU4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8275883?v=4","gravatar_id":"","url":"https://api.github.com/users/mjaow","html_url":"https://github.com/mjaow","followers_url":"https://api.github.com/users/mjaow/followers","following_url":"https://api.github.com/users/mjaow/following{/other_user}","gists_url":"https://api.github.com/users/mjaow/gists{/gist_id}","starred_url":"https://api.github.com/users/mjaow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjaow/subscriptions","organizations_url":"https://api.github.com/users/mjaow/orgs","repos_url":"https://api.github.com/users/mjaow/repos","events_url":"https://api.github.com/users/mjaow/events{/privacy}","received_events_url":"https://api.github.com/users/mjaow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T02:44:43Z","updated_at":"2017-04-11T02:44:43Z","author_association":"NONE","body":"@knoguchi you are right.Anyway i can still get the aggregated data.Maybe that is just enough","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293134125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293159933","html_url":"https://github.com/apache/druid/pull/4039#issuecomment-293159933","issue_url":"https://api.github.com/repos/apache/druid/issues/4039","id":293159933,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE1OTkzMw==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T06:07:10Z","updated_at":"2017-04-11T06:07:10Z","author_association":"CONTRIBUTOR","body":"Travis is having timeout or dead lock problem.  The test passes in my local machine.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293159933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293166815","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-293166815","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":293166815,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzE2NjgxNQ==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T06:46:40Z","updated_at":"2017-04-11T06:46:40Z","author_association":"CONTRIBUTOR","body":"this check at IncrementalIndexStorageAdapter line 293\r\n```java\r\n                if (!filterMatcher.matches()) {\r\n                  done = true;\r\n                }\r\n```\r\nI think `done` should always be true at this place, I found this code was written from the very beginning, could you help to verify I understood it correctly? @gianm ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293166815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293273957","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-293273957","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":293273957,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzI3Mzk1Nw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T14:05:45Z","updated_at":"2017-04-11T14:05:45Z","author_association":"CONTRIBUTOR","body":"@dclim seems like there is a bunch of issue with the 2.8 it self, i am thinking about downgrading it to 2.7 again, what you think ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293273957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293318523","html_url":"https://github.com/apache/druid/issues/4161#issuecomment-293318523","issue_url":"https://api.github.com/repos/apache/druid/issues/4161","id":293318523,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzMxODUyMw==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T16:27:13Z","updated_at":"2017-04-11T16:27:13Z","author_association":"CONTRIBUTOR","body":"Discovered when I was looking at https://github.com/druid-io/druid/pull/4160","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293318523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293327041","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-293327041","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":293327041,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzMyNzA0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T16:55:51Z","updated_at":"2017-04-11T16:55:51Z","author_association":"CONTRIBUTOR","body":"Hmm, I don't see a reason to check `!filterMatcher.matches()` there, as it should always be true. I think it's fine to make the change you did.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293327041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293328897","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-293328897","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":293328897,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzMyODg5Nw==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T17:02:16Z","updated_at":"2017-04-11T17:02:16Z","author_association":"CONTRIBUTOR","body":"@b-slim do you know what is causing the UT to fail? is it a configuration issue or something more fundamental?\r\n\r\ndowngrading to 2.7 seems reasonable to me if we don't have time to fix the issue, but I expect that people may then run into the aws java sdk incompatibility issue and we may need to walk them through downgrading from 1.10.x to 1.7.4","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293328897/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293337260","html_url":"https://github.com/apache/druid/pull/3902#issuecomment-293337260","issue_url":"https://api.github.com/repos/apache/druid/issues/3902","id":293337260,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzMzNzI2MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T17:28:37Z","updated_at":"2017-04-11T17:28:37Z","author_association":"CONTRIBUTOR","body":"@pjain1 added some docs for clarification","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293337260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293367500","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-293367500","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":293367500,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzM2NzUwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T19:00:19Z","updated_at":"2017-04-11T19:00:35Z","author_association":"CONTRIBUTOR","body":"I updated the groupBy section of the release notes based on the dev sync discussion today:\r\n\r\n> Druid now defaults to the \"v2\" engine for groupBy rather than the legacy \"v1\" engine. **As part of this, memory usage limits have changed from row-based to byte-based limits, so it is possible that some queries which met resource limits before will now exceed them and fail.** You can avoid this by tuning the new groupBy engine appropriately. If necessary, you can roll back to the old engine by setting either \"druid.groupBy.query.defaultStrategy\" in your runtime.properties, or \"groupByStrategy\" in your query context, to \"v1\". See http://druid.io/docs/0.10.0-rc2/querying/groupbyquery.html for more details on the differences between groupBy v1 and v2.<p>This new groupBy engine was rewritten from the ground up for better performance and memory management. The query API and results are compatible between the two engines; however, there are some differences from a cluster configuration perspective: (1) groupBy v2 uses primarily off-heap memory instead of on-heap memory; (2) it requires one merge buffer for each concurrent query; (3) if you've configured caching for groupBy, it must be on historicals; and (4) it doesn't support chunkPeriod.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293367500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293392265","html_url":"https://github.com/apache/druid/issues/3505#issuecomment-293392265","issue_url":"https://api.github.com/repos/apache/druid/issues/3505","id":293392265,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzM5MjI2NQ==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T20:35:43Z","updated_at":"2017-04-11T22:13:52Z","author_association":"CONTRIBUTOR","body":"Now, I'm working on adding ETL capability to Druid, and considering Jackson JsonNode as the intermediate object.  I'm thinking of adding flattenSpec type \"jq\" and accept the jq expression in the \"expr\". \r\n\r\nI would like to introduce two modules.\r\n\r\n- [Jacskon  standard binary dataformat backends](https://github.com/FasterXML/jackson-dataformats-binary)\r\n- [Jackson-jq](https://github.com/eiiches/jackson-jq)\r\n\r\nOne consideration is that we should NOT use the JSON _string_ as the intermediate format.  It costs serializing the native object, and then deserializing back to the common object.  The Jackson binary backend should help avoiding this problem (needs research).   It supports Avro, Protobuf and two other formats out of the box.  Unfortunately [Thrift support](https://github.com/FasterXML/jackson-dataformat-thrift) is left untouched for 4 years(!) though.\r\n\r\nAs for the jq, it's a \"Swiss Army knife for JSON\".  It's widely accepted and proven to be capable for filtering and transforming the JSON.   There are two implementations for Java.  One is the Jackson-jq which is pure Java, the other is [jjq](https://github.com/bskaggs/jjq) JNA wrapper for libjq.   Obviously the latter is compatible with the original `jq` but JNI/JNA is not very flexible. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293392265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293394460","html_url":"https://github.com/apache/druid/pull/3902#issuecomment-293394460","issue_url":"https://api.github.com/repos/apache/druid/issues/3902","id":293394460,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzM5NDQ2MA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-11T20:44:08Z","updated_at":"2017-04-11T20:44:08Z","author_association":"CONTRIBUTOR","body":"@himanshug, I know I said on the dev sync today that I thought this should remain undocumented, but I changed my mind. I'm still ok with it only being reviewed by people from your organization, but I think it should be documented as experimental. That way other folks could help try it out too.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293394460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293438548","html_url":"https://github.com/apache/druid/pull/4162#issuecomment-293438548","issue_url":"https://api.github.com/repos/apache/druid/issues/4162","id":293438548,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzQzODU0OA==","user":{"login":"fjy","id":428325,"node_id":"MDQ6VXNlcjQyODMyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/428325?v=4","gravatar_id":"","url":"https://api.github.com/users/fjy","html_url":"https://github.com/fjy","followers_url":"https://api.github.com/users/fjy/followers","following_url":"https://api.github.com/users/fjy/following{/other_user}","gists_url":"https://api.github.com/users/fjy/gists{/gist_id}","starred_url":"https://api.github.com/users/fjy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fjy/subscriptions","organizations_url":"https://api.github.com/users/fjy/orgs","repos_url":"https://api.github.com/users/fjy/repos","events_url":"https://api.github.com/users/fjy/events{/privacy}","received_events_url":"https://api.github.com/users/fjy/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T00:30:51Z","updated_at":"2017-04-12T00:30:51Z","author_association":"CONTRIBUTOR","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293438548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293534951","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-293534951","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":293534951,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzUzNDk1MQ==","user":{"login":"hamlet-lee","id":12079531,"node_id":"MDQ6VXNlcjEyMDc5NTMx","avatar_url":"https://avatars.githubusercontent.com/u/12079531?v=4","gravatar_id":"","url":"https://api.github.com/users/hamlet-lee","html_url":"https://github.com/hamlet-lee","followers_url":"https://api.github.com/users/hamlet-lee/followers","following_url":"https://api.github.com/users/hamlet-lee/following{/other_user}","gists_url":"https://api.github.com/users/hamlet-lee/gists{/gist_id}","starred_url":"https://api.github.com/users/hamlet-lee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hamlet-lee/subscriptions","organizations_url":"https://api.github.com/users/hamlet-lee/orgs","repos_url":"https://api.github.com/users/hamlet-lee/repos","events_url":"https://api.github.com/users/hamlet-lee/events{/privacy}","received_events_url":"https://api.github.com/users/hamlet-lee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T10:18:21Z","updated_at":"2017-04-12T10:18:21Z","author_association":"CONTRIBUTOR","body":"@gianm \r\nMy mistake, it should be:\r\n tuningConfig: \"rowFlushBoundary\" has changed to \"maxRowsInMemory\"","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293534951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293556399","html_url":"https://github.com/apache/druid/issues/4150#issuecomment-293556399","issue_url":"https://api.github.com/repos/apache/druid/issues/4150","id":293556399,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzU1NjM5OQ==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T12:06:58Z","updated_at":"2017-04-12T12:08:32Z","author_association":"CONTRIBUTOR","body":"@b-slim when I provide the full URI like hdfs://mycluster-tj/XXX/XXX, I got the the exception below:\r\n\r\n> Caused by: java.lang.IllegalArgumentException: java.net.UnknownHostException: mycluster-tj\r\n\tat org.apache.hadoop.security.SecurityUtil.buildTokenService(SecurityUtil.java:377) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.NameNodeProxies.createNonHAProxy(NameNodeProxies.java:237) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.NameNodeProxies.createProxy(NameNodeProxies.java:141) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.DFSClient.<init>(DFSClient.java:569) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.DFSClient.<init>(DFSClient.java:512) ~[?:?]\r\n\tat org.apache.hadoop.hdfs.DistributedFileSystem.initialize(DistributedFileSystem.java:142) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem.createFileSystem(FileSystem.java:2316) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem.access$200(FileSystem.java:90) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.getInternal(FileSystem.java:2350) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem$Cache.get(FileSystem.java:2332) ~[?:?]\r\n\tat org.apache.hadoop.fs.FileSystem.get(FileSystem.java:369) ~[?:?]\r\n\tat org.apache.hadoop.fs.Path.getFileSystem(Path.java:296) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.lib.input.FileInputFormat.setInputPaths(FileInputFormat.java:446) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.lib.input.DelegatingInputFormat.getSplits(DelegatingInputFormat.java:110) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.writeNewSplits(JobSubmitter.java:493) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:510) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:394) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1285) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.Job$10.run(Job.java:1282) ~[?:?]\r\n\tat java.security.AccessController.doPrivileged(Native Method) ~[?:1.8.0_65]\r\n\tat javax.security.auth.Subject.doAs(Subject.java:422) ~[?:1.8.0_65]\r\n\tat org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548) ~[?:?]\r\n\tat org.apache.hadoop.mapreduce.Job.submit(Job.java:1282) ~[?:?]\r\n\tat io.druid.indexer.DetermineHashedPartitionsJob.run(DetermineHashedPartitionsJob.java:116) ~[druid-indexing-hadoop-0.9.2.jar:0.9.2]\r\n\tat io.druid.indexer.JobHelper.runJobs(JobHelper.java:349) ~[druid-indexing-hadoop-0.9.2.jar:0.9.2]\r\n\tat io.druid.indexer.HadoopDruidDetermineConfigurationJob.run(HadoopDruidDetermineConfigurationJob.java:91) ~[druid-indexing-hadoop-0.9.2.jar:0.9.2]\r\n\tat io.druid.indexing.common.task.HadoopIndexTask$HadoopDetermineConfigInnerProcessing.runTask(HadoopIndexTask.java:291) ~[druid-indexing-service-0.9.2.jar:0.9.2]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_65]\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:1.8.0_65]\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:1.8.0_65]\r\n\tat java.lang.reflect.Method.invoke(Method.java:497) ~[?:1.8.0_65]\r\n\tat io.druid.indexing.common.task.HadoopTask.invokeForeignLoader(HadoopTask.java:201) ~[druid-indexing-service-0.9.2.jar:0.9.2]\r\n\t... 7 more\r\n\r\nDo I miss something? I think there must be somewhere I should provide the core-site.xml and hdfs-site.xml of the HDFS to let druid know what the \"mycluster-tj\" means and where to get data from.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293556399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293561977","html_url":"https://github.com/apache/druid/pull/4049#issuecomment-293561977","issue_url":"https://api.github.com/repos/apache/druid/issues/4049","id":293561977,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzU2MTk3Nw==","user":{"login":"kaijianding","id":8663725,"node_id":"MDQ6VXNlcjg2NjM3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/8663725?v=4","gravatar_id":"","url":"https://api.github.com/users/kaijianding","html_url":"https://github.com/kaijianding","followers_url":"https://api.github.com/users/kaijianding/followers","following_url":"https://api.github.com/users/kaijianding/following{/other_user}","gists_url":"https://api.github.com/users/kaijianding/gists{/gist_id}","starred_url":"https://api.github.com/users/kaijianding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaijianding/subscriptions","organizations_url":"https://api.github.com/users/kaijianding/orgs","repos_url":"https://api.github.com/users/kaijianding/repos","events_url":"https://api.github.com/users/kaijianding/events{/privacy}","received_events_url":"https://api.github.com/users/kaijianding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T12:33:42Z","updated_at":"2017-04-12T12:33:42Z","author_association":"CONTRIBUTOR","body":"@gianm @leventov do you have more comments?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293561977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293577543","html_url":"https://github.com/apache/druid/issues/4150#issuecomment-293577543","issue_url":"https://api.github.com/repos/apache/druid/issues/4150","id":293577543,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzU3NzU0Mw==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T13:33:47Z","updated_at":"2017-04-12T13:33:47Z","author_association":"CONTRIBUTOR","body":"is `mycluster-tj` a fully qualified domain name ?  can you try to use the ip address instead  ? \r\nto debug this you can try from one of the nodes `hdfs dfs -ls  hdfs://mycluster-tj/XXX/XXX`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293577543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293583460","html_url":"https://github.com/apache/druid/pull/4162#issuecomment-293583460","issue_url":"https://api.github.com/repos/apache/druid/issues/4162","id":293583460,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzU4MzQ2MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T13:52:13Z","updated_at":"2017-04-12T13:52:13Z","author_association":"CONTRIBUTOR","body":":+1: aside from minor doc comments","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293583460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293620885","html_url":"https://github.com/apache/druid/pull/4162#issuecomment-293620885","issue_url":"https://api.github.com/repos/apache/druid/issues/4162","id":293620885,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzYyMDg4NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T15:45:29Z","updated_at":"2017-04-12T15:45:29Z","author_association":"CONTRIBUTOR","body":"Re-pushed with some edits.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293620885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293670621","html_url":"https://github.com/apache/druid/issues/3944#issuecomment-293670621","issue_url":"https://api.github.com/repos/apache/druid/issues/3944","id":293670621,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzY3MDYyMQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T18:41:55Z","updated_at":"2017-04-12T18:41:55Z","author_association":"CONTRIBUTOR","body":"rowFlushBoundary should still work in 0.10.0 (but it is deprecated and has been since 0.9.0).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293670621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293674076","html_url":"https://github.com/apache/druid/pull/4163#issuecomment-293674076","issue_url":"https://api.github.com/repos/apache/druid/issues/4163","id":293674076,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzY3NDA3Ng==","user":{"login":"ramiyer","id":237528,"node_id":"MDQ6VXNlcjIzNzUyOA==","avatar_url":"https://avatars.githubusercontent.com/u/237528?v=4","gravatar_id":"","url":"https://api.github.com/users/ramiyer","html_url":"https://github.com/ramiyer","followers_url":"https://api.github.com/users/ramiyer/followers","following_url":"https://api.github.com/users/ramiyer/following{/other_user}","gists_url":"https://api.github.com/users/ramiyer/gists{/gist_id}","starred_url":"https://api.github.com/users/ramiyer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ramiyer/subscriptions","organizations_url":"https://api.github.com/users/ramiyer/orgs","repos_url":"https://api.github.com/users/ramiyer/repos","events_url":"https://api.github.com/users/ramiyer/events{/privacy}","received_events_url":"https://api.github.com/users/ramiyer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T18:54:35Z","updated_at":"2017-04-12T18:54:35Z","author_association":"CONTRIBUTOR","body":"@nishantmonu51, üëç  Done filling CLA","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293674076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293713164","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-293713164","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":293713164,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzcxMzE2NA==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T21:28:43Z","updated_at":"2017-04-12T21:28:43Z","author_association":"MEMBER","body":"@gianm What is the expected behavior in case of stopGracefully being called on task. If a driver is at `mergeAndPush` stage then the task will not finish until all drivers have handed-off there segments otherwise just persist everything and be done ?\r\nAlso when the task fails to publish even after pending completion timeout, KafkaSupervisor stops the task gracefully and does not kill them. Is there any reason for this ? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293713164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293714574","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-293714574","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":293714574,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzcxNDU3NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T21:35:00Z","updated_at":"2017-04-12T21:35:00Z","author_association":"CONTRIBUTOR","body":"@pjain1 \r\n\r\n> What is the expected behavior in case of stopGracefully being called on task. If a driver is at mergeAndPush stage then the task will not finish until all drivers have handed-off there segments otherwise just persist everything and be done ?\r\n\r\nstopGracefully is used for the \"restoreTasksOnRestart\" feature. It's called on all restorable tasks (canRestore = true) when a middleManager shuts down and is meant to prepare for the task being restored when the middleManager starts back up. Any behavior is ok as long as it satisfies the needs of that feature.\r\n\r\n> Also when the task fails to publish even after pending completion timeout, KafkaSupervisor stops the task gracefully and does not kill them. Is there any reason for this ?\r\n\r\nI'm not sure, maybe @dclim knows.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293714574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293715796","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-293715796","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":293715796,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzcxNTc5Ng==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T21:40:18Z","updated_at":"2017-04-12T21:40:18Z","author_association":"CONTRIBUTOR","body":"@pjain1 I think the KafkaSupervisor generally first tries to stop tasks gracefully and then kills them after a timeout; in the case you mentioned, it should be fine to just kill them immediately","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293715796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293732924","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293732924","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293732924,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzczMjkyNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T23:12:09Z","updated_at":"2017-04-12T23:12:09Z","author_association":"CONTRIBUTOR","body":"@jihoonson, on the two points you raised, it sounds like the issue is that (a) loading new segments, and (b) moving existing segments for balancing, could break broadcasting if a segment from the colocated datasource is moved onto a historical node that didn't already have _any_ segments from that datasource.\r\n\r\nI guess in practice this is potentially an issue, but won't be a huge one, since odds are that a distributed datasource will have at least one segment on all historical nodes in a given tier anyway (unless it has a number of segments smaller than the number of historical nodes).\r\n\r\nTo keep things (very) simple, what do you think about removing the \"colocatedDataSources\" concept, and instead broadcasting the broadcast datasources to every historical node the given tier for the rule? I think in practice this achieves mostly the same thing (given the reason above) as having colocatedDataSources. It also avoids bugs due to this effect, since every historical in a tier will have the broadcast segments and there's no need to worry.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293732924/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293733204","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293733204","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293733204,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzczMzIwNA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T23:13:46Z","updated_at":"2017-04-12T23:13:46Z","author_association":"CONTRIBUTOR","body":"Or at least, making that the behavior if colocatedDataSources is empty, so users can leave it empty and not have to worry.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293733204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293733263","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293733263","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293733263,"node_id":"MDEyOklzc3VlQ29tbWVudDI5MzczMzI2Mw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-12T23:14:08Z","updated_at":"2017-04-12T23:14:08Z","author_association":"CONTRIBUTOR","body":"The docs should mention this caveat.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293733263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293750335","html_url":"https://github.com/apache/druid/issues/4016#issuecomment-293750335","issue_url":"https://api.github.com/repos/apache/druid/issues/4016","id":293750335,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzc1MDMzNQ==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T01:18:21Z","updated_at":"2017-04-13T01:18:21Z","author_association":"MEMBER","body":"Thanks","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293750335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293765874","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293765874","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293765874,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzc2NTg3NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T03:06:31Z","updated_at":"2017-04-13T03:06:31Z","author_association":"CONTRIBUTOR","body":"@gianm sounds good, but I'm concerned with the usability. If we support broadcasting to tiers instead of broadcasting to data sources, users will need two steps to design their data distribution. That is, they first need to check each data source to be joined is involved which tiers, and then decide which data sources need to be broadcasted to which tiers. Broadcasting to data sources will be simpler because users need to decide which sources are broadcasted to which source.\r\nIn addition, if load rules for a data source are changed, broadcast rules relating to that data source should be changed accordingly. This will be inconvenient.\r\nWhat do you think?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293765874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293766046","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293766046","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293766046,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzc2NjA0Ng==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T03:07:33Z","updated_at":"2017-04-13T03:07:33Z","author_association":"CONTRIBUTOR","body":"@gianm if colocatedDataSources is null or empty, segments are broadcasted to all nodes. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293766046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293766264","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293766264","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293766264,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzc2NjI2NA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T03:08:43Z","updated_at":"2017-04-13T03:08:43Z","author_association":"CONTRIBUTOR","body":"Maybe we can support two different types of broadcast rules for 1) broadcasting to tiers and 2) colocating data sources. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293766264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293771525","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293771525","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293771525,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzc3MTUyNQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T03:44:20Z","updated_at":"2017-04-13T03:44:20Z","author_association":"CONTRIBUTOR","body":"The latter suggestion sounds good. I think in practice many users will choose to broadcast to tiers -- since if you're already very aware of your tier structure (as many users are, if they use tiers) then it should be pretty easy to choose the right tier for a broadcast. It also works around the issue you brought up, which is nice.\r\n\r\nThe colocated data source option is a nice alternative that would make configuration simpler, just should come with a caveat about the issue you brought up.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293771525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293790598","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-293790598","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":293790598,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzc5MDU5OA==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T06:04:23Z","updated_at":"2017-04-13T06:04:23Z","author_association":"CONTRIBUTOR","body":"@b-slim have you tested this on a remote Hadoop cluster? I don't think it actually works as expected. The behavior I'm seeing is that even though the segments are getting pushed to S3, the loadSpec for the descriptor.json and in the druid_segments metadata table are showing type 'local' instead of 's3_zip' or 'hdfs'. \r\n\r\nThis is happening because the loadSpec is now being generated by the DataSegmentPusher implementation which is being selected based on the value of `druid.storage.type`. However, the Druid properties are not being passed down into the system properties of the map/reduce JVMs and hence `druid.storage.type` does not get set and the default LocalDataSegmentPusher get used (even though the segments are actually written to S3 because the pusher isn't used for this in Hadoop jobs).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293790598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293797898","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293797898","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293797898,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzc5Nzg5OA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T06:29:46Z","updated_at":"2017-04-13T06:29:46Z","author_association":"CONTRIBUTOR","body":"Ok, then I'll make another PR for broadcasting to tiers. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293797898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293798067","html_url":"https://github.com/apache/druid/pull/4077#issuecomment-293798067","issue_url":"https://api.github.com/repos/apache/druid/issues/4077","id":293798067,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzc5ODA2Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T06:30:20Z","updated_at":"2017-04-13T06:30:20Z","author_association":"CONTRIBUTOR","body":"@gianm, I added a caveat","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293798067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/293844895","html_url":"https://github.com/apache/druid/pull/4118#issuecomment-293844895","issue_url":"https://api.github.com/repos/apache/druid/issues/4118","id":293844895,"node_id":"MDEyOklzc3VlQ29tbWVudDI5Mzg0NDg5NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T09:52:25Z","updated_at":"2017-04-13T09:52:25Z","author_association":"CONTRIBUTOR","body":"@leventov thanks for your review. I addressed your comments.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/293844895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294035375","html_url":"https://github.com/apache/druid/issues/4170#issuecomment-294035375","issue_url":"https://api.github.com/repos/apache/druid/issues/4170","id":294035375,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDAzNTM3NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-13T22:13:25Z","updated_at":"2017-04-13T22:13:25Z","author_association":"CONTRIBUTOR","body":"@jerchung, this does look like an actual issue. A patch is welcome to fix it!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294035375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294053157","html_url":"https://github.com/apache/druid/pull/4118#issuecomment-294053157","issue_url":"https://api.github.com/repos/apache/druid/issues/4118","id":294053157,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDA1MzE1Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-14T00:16:02Z","updated_at":"2017-04-14T00:16:02Z","author_association":"CONTRIBUTOR","body":"I don't understand why travis failed. [Another travis test](https://travis-ci.org/jihoonson/druid/builds/221726847) succeeded. Would anyone restart test please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294053157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294057277","html_url":"https://github.com/apache/druid/pull/4118#issuecomment-294057277","issue_url":"https://api.github.com/repos/apache/druid/issues/4118","id":294057277,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDA1NzI3Nw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-14T00:43:52Z","updated_at":"2017-04-14T00:43:52Z","author_association":"CONTRIBUTOR","body":"I just did. You can also get travis to run again by closing and re-opening your PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294057277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294060762","html_url":"https://github.com/apache/druid/pull/4118#issuecomment-294060762","issue_url":"https://api.github.com/repos/apache/druid/issues/4118","id":294060762,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDA2MDc2Mg==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-14T01:11:56Z","updated_at":"2017-04-14T01:11:56Z","author_association":"CONTRIBUTOR","body":"@gianm thanks. I realized some codes of master branch causes the test failure. I'll fix it soon. ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294060762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294225566","html_url":"https://github.com/apache/druid/pull/4169#issuecomment-294225566","issue_url":"https://api.github.com/repos/apache/druid/issues/4169","id":294225566,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIyNTU2Ng==","user":{"login":"pjain1","id":11787983,"node_id":"MDQ6VXNlcjExNzg3OTgz","avatar_url":"https://avatars.githubusercontent.com/u/11787983?v=4","gravatar_id":"","url":"https://api.github.com/users/pjain1","html_url":"https://github.com/pjain1","followers_url":"https://api.github.com/users/pjain1/followers","following_url":"https://api.github.com/users/pjain1/following{/other_user}","gists_url":"https://api.github.com/users/pjain1/gists{/gist_id}","starred_url":"https://api.github.com/users/pjain1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjain1/subscriptions","organizations_url":"https://api.github.com/users/pjain1/orgs","repos_url":"https://api.github.com/users/pjain1/repos","events_url":"https://api.github.com/users/pjain1/events{/privacy}","received_events_url":"https://api.github.com/users/pjain1/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-14T20:02:54Z","updated_at":"2017-04-14T20:02:54Z","author_association":"MEMBER","body":"üëç ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294225566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294230576","html_url":"https://github.com/apache/druid/pull/4174#issuecomment-294230576","issue_url":"https://api.github.com/repos/apache/druid/issues/4174","id":294230576,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIzMDU3Ng==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-14T20:29:30Z","updated_at":"2017-04-14T20:29:30Z","author_association":"CONTRIBUTOR","body":"Awesome! thanks for the commit. Can you please fill out the CLA at http://druid.io/community/cla.html ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294230576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294232297","html_url":"https://github.com/apache/druid/pull/4174#issuecomment-294232297","issue_url":"https://api.github.com/repos/apache/druid/issues/4174","id":294232297,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIzMjI5Nw==","user":{"login":"jerchung","id":1167633,"node_id":"MDQ6VXNlcjExNjc2MzM=","avatar_url":"https://avatars.githubusercontent.com/u/1167633?v=4","gravatar_id":"","url":"https://api.github.com/users/jerchung","html_url":"https://github.com/jerchung","followers_url":"https://api.github.com/users/jerchung/followers","following_url":"https://api.github.com/users/jerchung/following{/other_user}","gists_url":"https://api.github.com/users/jerchung/gists{/gist_id}","starred_url":"https://api.github.com/users/jerchung/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jerchung/subscriptions","organizations_url":"https://api.github.com/users/jerchung/orgs","repos_url":"https://api.github.com/users/jerchung/repos","events_url":"https://api.github.com/users/jerchung/events{/privacy}","received_events_url":"https://api.github.com/users/jerchung/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-14T20:39:43Z","updated_at":"2017-04-14T20:39:43Z","author_association":"CONTRIBUTOR","body":"Done","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294232297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294233172","html_url":"https://github.com/apache/druid/pull/4116#issuecomment-294233172","issue_url":"https://api.github.com/repos/apache/druid/issues/4116","id":294233172,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDIzMzE3Mg==","user":{"login":"b-slim","id":7376396,"node_id":"MDQ6VXNlcjczNzYzOTY=","avatar_url":"https://avatars.githubusercontent.com/u/7376396?v=4","gravatar_id":"","url":"https://api.github.com/users/b-slim","html_url":"https://github.com/b-slim","followers_url":"https://api.github.com/users/b-slim/followers","following_url":"https://api.github.com/users/b-slim/following{/other_user}","gists_url":"https://api.github.com/users/b-slim/gists{/gist_id}","starred_url":"https://api.github.com/users/b-slim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/b-slim/subscriptions","organizations_url":"https://api.github.com/users/b-slim/orgs","repos_url":"https://api.github.com/users/b-slim/repos","events_url":"https://api.github.com/users/b-slim/events{/privacy}","received_events_url":"https://api.github.com/users/b-slim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-14T20:44:53Z","updated_at":"2017-04-14T20:44:53Z","author_association":"CONTRIBUTOR","body":"@dclim i haven't tested that downstream yet, let me check it out and see how we can propagate those properties to the MM and hadoop JVM opts.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294233172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294261559","html_url":"https://github.com/apache/druid/issues/4173#issuecomment-294261559","issue_url":"https://api.github.com/repos/apache/druid/issues/4173","id":294261559,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDI2MTU1OQ==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-15T00:45:19Z","updated_at":"2017-04-15T00:56:14Z","author_association":"CONTRIBUTOR","body":"I'm just a druid user so I can't say for sure but I don't think Druid can calculate delta which requires values from the previous bucket.\r\n\r\nI suggest that you calculate the metric in your app.    Let Druid calculate the time series of longSum(metric) for the desired granularity (e.g. 1hr) using groupBy system ID, then your app compute the delta = ts(t) - ts(t-1).  If you want to know up and down just put sign(delta). +1 for up, -1 for down, 0 for no change.\r\n\r\nAlso I suggest that you post this kind of questions to stack overflow or Druid users mailing list.\r\nhttps://groups.google.com/forum/#!forum/druid-user\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294261559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294262040","html_url":"https://github.com/apache/druid/issues/4172#issuecomment-294262040","issue_url":"https://api.github.com/repos/apache/druid/issues/4172","id":294262040,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDI2MjA0MA==","user":{"login":"knoguchi","id":127546,"node_id":"MDQ6VXNlcjEyNzU0Ng==","avatar_url":"https://avatars.githubusercontent.com/u/127546?v=4","gravatar_id":"","url":"https://api.github.com/users/knoguchi","html_url":"https://github.com/knoguchi","followers_url":"https://api.github.com/users/knoguchi/followers","following_url":"https://api.github.com/users/knoguchi/following{/other_user}","gists_url":"https://api.github.com/users/knoguchi/gists{/gist_id}","starred_url":"https://api.github.com/users/knoguchi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knoguchi/subscriptions","organizations_url":"https://api.github.com/users/knoguchi/orgs","repos_url":"https://api.github.com/users/knoguchi/repos","events_url":"https://api.github.com/users/knoguchi/events{/privacy}","received_events_url":"https://api.github.com/users/knoguchi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-15T00:53:29Z","updated_at":"2017-04-15T00:53:29Z","author_association":"CONTRIBUTOR","body":"I think you lost some segments (for whatever the reasons).   I believe the problem would go away If you re-compute the lost segments for the time range by batch process.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294262040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294268893","html_url":"https://github.com/apache/druid/issues/4172#issuecomment-294268893","issue_url":"https://api.github.com/repos/apache/druid/issues/4172","id":294268893,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDI2ODg5Mw==","user":{"login":"mjaow","id":8275883,"node_id":"MDQ6VXNlcjgyNzU4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/8275883?v=4","gravatar_id":"","url":"https://api.github.com/users/mjaow","html_url":"https://github.com/mjaow","followers_url":"https://api.github.com/users/mjaow/followers","following_url":"https://api.github.com/users/mjaow/following{/other_user}","gists_url":"https://api.github.com/users/mjaow/gists{/gist_id}","starred_url":"https://api.github.com/users/mjaow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mjaow/subscriptions","organizations_url":"https://api.github.com/users/mjaow/orgs","repos_url":"https://api.github.com/users/mjaow/repos","events_url":"https://api.github.com/users/mjaow/events{/privacy}","received_events_url":"https://api.github.com/users/mjaow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-15T03:23:11Z","updated_at":"2017-04-15T03:23:11Z","author_association":"NONE","body":"@knoguchi yeah,i think you are right.Thx","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294268893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294281921","html_url":"https://github.com/apache/druid/issues/4145#issuecomment-294281921","issue_url":"https://api.github.com/repos/apache/druid/issues/4145","id":294281921,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDI4MTkyMQ==","user":{"login":"arpankhagram","id":20059251,"node_id":"MDQ6VXNlcjIwMDU5MjUx","avatar_url":"https://avatars.githubusercontent.com/u/20059251?v=4","gravatar_id":"","url":"https://api.github.com/users/arpankhagram","html_url":"https://github.com/arpankhagram","followers_url":"https://api.github.com/users/arpankhagram/followers","following_url":"https://api.github.com/users/arpankhagram/following{/other_user}","gists_url":"https://api.github.com/users/arpankhagram/gists{/gist_id}","starred_url":"https://api.github.com/users/arpankhagram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arpankhagram/subscriptions","organizations_url":"https://api.github.com/users/arpankhagram/orgs","repos_url":"https://api.github.com/users/arpankhagram/repos","events_url":"https://api.github.com/users/arpankhagram/events{/privacy}","received_events_url":"https://api.github.com/users/arpankhagram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-15T09:16:17Z","updated_at":"2017-04-15T09:16:17Z","author_association":"NONE","body":"Hi Team, I'm not quite sure but shall I open pull request to progress this ? ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294281921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294339416","html_url":"https://github.com/apache/druid/issues/4173#issuecomment-294339416","issue_url":"https://api.github.com/repos/apache/druid/issues/4173","id":294339416,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDMzOTQxNg==","user":{"login":"codewithnaman","id":19516326,"node_id":"MDQ6VXNlcjE5NTE2MzI2","avatar_url":"https://avatars.githubusercontent.com/u/19516326?v=4","gravatar_id":"","url":"https://api.github.com/users/codewithnaman","html_url":"https://github.com/codewithnaman","followers_url":"https://api.github.com/users/codewithnaman/followers","following_url":"https://api.github.com/users/codewithnaman/following{/other_user}","gists_url":"https://api.github.com/users/codewithnaman/gists{/gist_id}","starred_url":"https://api.github.com/users/codewithnaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codewithnaman/subscriptions","organizations_url":"https://api.github.com/users/codewithnaman/orgs","repos_url":"https://api.github.com/users/codewithnaman/repos","events_url":"https://api.github.com/users/codewithnaman/events{/privacy}","received_events_url":"https://api.github.com/users/codewithnaman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-16T08:06:35Z","updated_at":"2017-04-16T08:06:35Z","author_association":"NONE","body":"@leventov, @fjy , @jon-wei if any one of you can help me on this, that will me much apperciable. Please give me answers of my question ASAP.\r\n\r\n--\r\nRegards\r\nNaman Gupta","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294339416/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294406992","html_url":"https://github.com/apache/druid/pull/3530#issuecomment-294406992","issue_url":"https://api.github.com/repos/apache/druid/issues/3530","id":294406992,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDQwNjk5Mg==","user":{"login":"praveev","id":297278,"node_id":"MDQ6VXNlcjI5NzI3OA==","avatar_url":"https://avatars.githubusercontent.com/u/297278?v=4","gravatar_id":"","url":"https://api.github.com/users/praveev","html_url":"https://github.com/praveev","followers_url":"https://api.github.com/users/praveev/followers","following_url":"https://api.github.com/users/praveev/following{/other_user}","gists_url":"https://api.github.com/users/praveev/gists{/gist_id}","starred_url":"https://api.github.com/users/praveev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/praveev/subscriptions","organizations_url":"https://api.github.com/users/praveev/orgs","repos_url":"https://api.github.com/users/praveev/repos","events_url":"https://api.github.com/users/praveev/events{/privacy}","received_events_url":"https://api.github.com/users/praveev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T05:19:14Z","updated_at":"2017-04-17T05:19:14Z","author_association":"CONTRIBUTOR","body":"@gianm Updated the PR. Not entirely sure if I understood your comment right, esp about the basePersistDirectory and KafkaTuningConfig. Please take a look and let me know.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294406992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294423822","html_url":"https://github.com/apache/druid/pull/2369#issuecomment-294423822","issue_url":"https://api.github.com/repos/apache/druid/issues/2369","id":294423822,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDQyMzgyMg==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T07:27:01Z","updated_at":"2017-04-17T07:27:01Z","author_association":"CONTRIBUTOR","body":"Is this plugin support HiveDecimal type please?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294423822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294433117","html_url":"https://github.com/apache/druid/pull/2369#issuecomment-294433117","issue_url":"https://api.github.com/repos/apache/druid/issues/2369","id":294433117,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDQzMzExNw==","user":{"login":"du00cs","id":6407028,"node_id":"MDQ6VXNlcjY0MDcwMjg=","avatar_url":"https://avatars.githubusercontent.com/u/6407028?v=4","gravatar_id":"","url":"https://api.github.com/users/du00cs","html_url":"https://github.com/du00cs","followers_url":"https://api.github.com/users/du00cs/followers","following_url":"https://api.github.com/users/du00cs/following{/other_user}","gists_url":"https://api.github.com/users/du00cs/gists{/gist_id}","starred_url":"https://api.github.com/users/du00cs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/du00cs/subscriptions","organizations_url":"https://api.github.com/users/du00cs/orgs","repos_url":"https://api.github.com/users/du00cs/repos","events_url":"https://api.github.com/users/du00cs/events{/privacy}","received_events_url":"https://api.github.com/users/du00cs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T08:44:07Z","updated_at":"2017-04-17T08:44:07Z","author_association":"CONTRIBUTOR","body":"There is no `HiveDecimal` in Parquet. I think maybe it is represented as Double type. So in this sense, it is supported.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294433117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294446682","html_url":"https://github.com/apache/druid/pull/2369#issuecomment-294446682","issue_url":"https://api.github.com/repos/apache/druid/issues/2369","id":294446682,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDQ0NjY4Mg==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T10:27:28Z","updated_at":"2017-04-17T10:27:28Z","author_association":"CONTRIBUTOR","body":"@du00cs I'm not sure about the relation between Parquet and  this extension. I encounter the problem when reading the ORC file from HDFS which contains HiveDecimal type. And the exception is below:\r\n\r\n> Caused by: com.metamx.common.parsers.ParseException: Unknown type[class org.apache.hadoop.hive.common.type.HiveDecimal]\r\n\tat io.druid.data.input.MapBasedRow.getFloatMetric(MapBasedRow.java:133) ~[druid-api-release-0.9.2-102.jar:release-0.9.2-102]\r\n\tat io.druid.segment.incremental.IncrementalIndex$1$3.get(IncrementalIndex.java:144) ~[druid-processing-0.9.2.jar:0.9.2]\r\n\tat io.druid.query.aggregation.DoubleSumAggregator.aggregate(DoubleSumAggregator.java:62) ~[druid-processing-0.9.2.jar:0.9.2]\r\n\tat io.druid.indexer.InputRowSerde.toBytes(InputRowSerde.java:97) ~[druid-indexing-hadoop-0.9.2.jar:0.9.2]\r\n\tat io.druid.indexer.IndexGeneratorJob$IndexGeneratorMapper.innerMap(IndexGeneratorJob.java:300) ~[druid-indexing-hadoop-0.9.2.jar:0.9.2]\r\n\tat io.druid.indexer.HadoopDruidIndexerMapper.map(HadoopDruidIndexerMapper.java:87) ~[druid-indexing-hadoop-0.9.2.jar:0.9.2]\r\n\tat org.apache.hadoop.mapreduce.Mapper.run(Mapper.java:145) ~[hadoop-mapreduce-client-core-2.3.0.jar:?]\r\n\tat org.apache.hadoop.mapred.MapTask.runNewMapper(MapTask.java:764) ~[hadoop-mapreduce-client-core-2.3.0.jar:?]\r\n\tat org.apache.hadoop.mapred.MapTask.run(MapTask.java:340) ~[hadoop-mapreduce-client-core-2.3.0.jar:?]\r\n\tat org.apache.hadoop.mapred.LocalJobRunner$Job$MapTaskRunnable.run(LocalJobRunner.java:243) ~[hadoop-mapreduce-client-common-2.3.0.jar:?]\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511) ~[?:1.8.0_65]\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266) ~[?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) ~[?:1.8.0_65]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) ~[?:1.8.0_65]\r\n\tat java.lang.Thread.run(Thread.java:745) ~[?:1.8.0_65]","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294446682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294464204","html_url":"https://github.com/apache/druid/issues/4113#issuecomment-294464204","issue_url":"https://api.github.com/repos/apache/druid/issues/4113","id":294464204,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDQ2NDIwNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T11:32:09Z","updated_at":"2017-04-17T11:32:09Z","author_association":"MEMBER","body":"@gianm the motivation for change is that it's impossible to reason about correctness with the current design. Probably it's ok right now, but probably not OK already, we may silently miss some queryContext entries and never notice that. It also may depend on the cluster deployment scheme. E. g. if brokers and historicals are deployed on the same nodes.\r\n\r\nGenerally, shared mutable response context breaks QueryRunner isolation, some combinations of QueryRunners work, but some will definitely not.\r\n\r\nI support the following design:\r\n```\r\nQueryResult {\r\n   ImmutableMap preResponseContext;\r\n   Sequence result;\r\n   Future<ImmutableMap> postResponseContext;\r\n}\r\n```\r\n\r\nIMO the change should be combined with #4131.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294464204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/294467944","html_url":"https://github.com/apache/druid/pull/4131#issuecomment-294467944","issue_url":"https://api.github.com/repos/apache/druid/issues/4131","id":294467944,"node_id":"MDEyOklzc3VlQ29tbWVudDI5NDQ2Nzk0NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-04-17T11:42:09Z","updated_at":"2017-04-17T11:42:09Z","author_association":"MEMBER","body":"@gianm your comment: https://github.com/druid-io/druid/pull/4131#issuecomment-292977631 makes sense for me. But talking about QueryPlus, responseContext shouldn't be part of it, response context should be returned from QueryRunner.run(), see https://github.com/druid-io/druid/issues/4113#issuecomment-294464204.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/294467944/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]