[{"url":"https://api.github.com/repos/apache/helix/issues/comments/693872340","html_url":"https://github.com/apache/helix/issues/1369#issuecomment-693872340","issue_url":"https://api.github.com/repos/apache/helix/issues/1369","id":693872340,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mzg3MjM0MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T05:13:49Z","updated_at":"2020-09-17T05:13:49Z","author_association":"CONTRIBUTOR","body":"This issue is separately reported by JJ and Huizhi","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/693872340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694064117","html_url":"https://github.com/apache/helix/issues/1368#issuecomment-694064117","issue_url":"https://api.github.com/repos/apache/helix/issues/1368","id":694064117,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDA2NDExNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T07:55:29Z","updated_at":"2020-09-17T07:57:07Z","author_association":"CONTRIBUTOR","body":"LOG 961\r\nhttps://github.com/apache/helix/actions/runs/258795345/workflow\r\n\r\n> 2020-09-17T07:10:31.8678311Z [ERROR] testJobQueueScheduling(org.apache.helix.integration.task.TestQuotaBasedScheduling)  Time elapsed: 1.124 s  <<< FAILURE!\r\n2020-09-17T07:10:31.8684042Z java.lang.AssertionError: expected:<5> but was:<4>\r\n2020-09-17T07:10:31.8694344Z \tat org.apache.helix.integration.task.TestQuotaBasedScheduling.testJobQueueScheduling(TestQuotaBasedScheduling.java:555)\r\n2020-09-17T07:10:31.8697409Z \r\n2020-09-17T07:10:32.2675138Z [ERROR] Failures: \r\n2020-09-17T07:10:32.2678355Z [ERROR]   TestQuotaBasedScheduling.testJobQueueScheduling:555 expected:<5> but was:<4>","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694064117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694064542","html_url":"https://github.com/apache/helix/issues/1368#issuecomment-694064542","issue_url":"https://api.github.com/repos/apache/helix/issues/1368","id":694064542,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDA2NDU0Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T07:56:21Z","updated_at":"2020-09-17T07:56:42Z","author_association":"CONTRIBUTOR","body":"LOG 958\r\nhttps://github.com/apache/helix/runs/1126777962?check_suite_focus=true\r\n>2020-09-17T06:16:23.0592050Z [ERROR] testJobQueueScheduling(org.apache.helix.integration.task.TestQuotaBasedScheduling)  Time elapsed: 0.679 s  <<< FAILURE!\r\n2020-09-17T06:16:23.0594030Z java.lang.AssertionError: expected:<5> but was:<3>\r\n2020-09-17T06:16:23.0596639Z \tat org.apache.helix.integration.task.TestQuotaBasedScheduling.testJobQueueScheduling(TestQuotaBasedScheduling.java:556)","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694064542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694485357","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-694485357","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":694485357,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDQ4NTM1Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T20:35:06Z","updated_at":"2020-09-17T20:35:06Z","author_association":"CONTRIBUTOR","body":"LOG 969, touch 3\r\n\r\n>2020-09-17T09:51:57.3363039Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 1,800.015 s  <<< FAILURE!\r\n2020-09-17T09:51:57.3413951Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testResetSnapshots() didn't finish within the time-out 1800000\r\n2020-09-17T09:51:57.3418048Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:437)\r\n2020-09-17T09:51:57.3420607Z \r\n2020-09-17T09:51:57.7154562Z [ERROR] Failures: \r\n2020-09-17T09:51:57.7156522Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:437 Â» ThreadTimeout Method org.t...","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694485357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694486349","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-694486349","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":694486349,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDQ4NjM0OQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T20:36:55Z","updated_at":"2020-09-17T20:36:55Z","author_association":"CONTRIBUTOR","body":"LOG 973, touch 5\r\n>2020-09-17T09:51:57.3363039Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 1,800.015 s  <<< FAILURE!\r\n2020-09-17T09:51:57.3413951Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testResetSnapshots() didn't finish within the time-out 1800000\r\n2020-09-17T09:51:57.3418048Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:437)\r\n2020-09-17T09:51:57.3420607Z \r\n2020-09-17T09:51:57.7154562Z [ERROR] Failures: \r\n2020-09-17T09:51:57.7156522Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:437 Â» ThreadTimeout Method org.t...","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694486349/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694490011","html_url":"https://github.com/apache/helix/issues/1372#issuecomment-694490011","issue_url":"https://api.github.com/repos/apache/helix/issues/1372","id":694490011,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDQ5MDAxMQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T20:44:15Z","updated_at":"2020-09-17T20:44:15Z","author_association":"CONTRIBUTOR","body":"similar to #1366 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694490011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694495117","html_url":"https://github.com/apache/helix/issues/1374#issuecomment-694495117","issue_url":"https://api.github.com/repos/apache/helix/issues/1374","id":694495117,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDQ5NTExNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T20:55:48Z","updated_at":"2020-09-17T20:55:48Z","author_association":"CONTRIBUTOR","body":"```\r\n    Thread.sleep(100);\r\n    result = ClusterStateVerifier.verifyByPolling(\r\n        new ExternalViewBalancedVerifier(_gZkClient, CLUSTER_NAME, TEST_DB), 10000, 100);\r\n    Assert.assertTrue(result);\r\n\r\n```\r\n\r\nNeed to get rid of these legacy verifier.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694495117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694496223","html_url":"https://github.com/apache/helix/issues/1372#issuecomment-694496223","issue_url":"https://api.github.com/repos/apache/helix/issues/1372","id":694496223,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDQ5NjIyMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T20:58:14Z","updated_at":"2020-09-17T20:58:14Z","author_association":"CONTRIBUTOR","body":"LOG 979\r\n\r\n>2020-09-17T11:29:48.0010235Z [ERROR] stopAndResumeNamedQueue(org.apache.helix.integration.task.TestTaskRebalancerStopResume)  Time elapsed: 900.013 s  <<< FAILURE!\r\n2020-09-17T11:29:48.0022641Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.stopAndResumeNamedQueue() didn't finish within the time-out 900000\r\n2020-09-17T11:29:48.0024922Z \r\n2020-09-17T11:29:48.3789290Z [ERROR] Failures: \r\n2020-09-17T11:29:48.3797170Z [ERROR]   TestTaskRebalancerStopResume.stopAndResumeNamedQueue Â» ThreadTimeout Method or...\r\n2020-09-17T11:29:48.3798445Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694496223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694498009","html_url":"https://github.com/apache/helix/issues/1371#issuecomment-694498009","issue_url":"https://api.github.com/repos/apache/helix/issues/1371","id":694498009,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDQ5ODAwOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T21:02:00Z","updated_at":"2020-09-17T21:02:00Z","author_association":"CONTRIBUTOR","body":"LOG 981 touch 9\r\n\r\n> 2020-09-17T11:16:32.0302688Z [ERROR] testLackEnoughInstances(org.apache.helix.integration.rebalancer.CrushRebalancers.TestCrushAutoRebalanceNonRack)  Time elapsed: 0.2 s  <<< FAILURE!\r\n2020-09-17T11:16:32.0306145Z org.apache.helix.HelixException: Node localhost_12920 is still alive for cluster CLUSTER_TestCrushAutoRebalanceNonRack, can't drop.\r\n2020-09-17T11:16:32.0311064Z \tat org.apache.helix.integration.rebalancer.CrushRebalancers.TestCrushAutoRebalanceNonRack.testLackEnoughInstances(TestCrushAutoRebalanceNonRack.java:282)\r\n2020-09-17T11:16:32.0314239Z \r\n2020-09-17T11:16:32.4240947Z [ERROR] Failures: \r\n2020-09-17T11:16:32.4249888Z [ERROR] org.apache.helix.integration.rebalancer.CrushRebalancers.TestCrushAutoRebalanceNonRack.testLackEnoughInstances(org.apache.helix.integration.rebalancer.CrushRebalancers.TestCrushAutoRebalanceNonRack)","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694498009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694505483","html_url":"https://github.com/apache/helix/issues/1371#issuecomment-694505483","issue_url":"https://api.github.com/repos/apache/helix/issues/1371","id":694505483,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDUwNTQ4Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T21:19:09Z","updated_at":"2020-09-17T21:19:09Z","author_association":"CONTRIBUTOR","body":"2020-09-17T10:09:09.0947422Z START TestCrushAutoRebalanceNonRack testLackEnoughInstances at Thu Sep 17 10:09:09 UTC 2020\r\n2020-09-17T10:09:09.1057616Z TestLackEnoughInstances CrushRebalanceStrategy\r\n2020-09-17T10:09:09.3539409Z 406919 [ClusterManager_Watcher_CLUSTER_TestCrushAutoRebalanceNonRack_localhost_12922_PARTICIPANT_10159] ERROR org.apache.helix.manager.zk.ZKExceptionHandler  - Exception while invoking init callback for listener:org.apache.helix.messaging.handling.HelixTaskExecutor@428b9021\r\n2020-09-17T10:09:09.3542946Z java.lang.IllegalStateException: ZkClient already closed!\r\n2020-09-17T10:09:09.3544367Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1664)\r\n2020-09-17T10:09:09.3546267Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.watchForChilds(ZkClient.java:2098)\r\n2020-09-17T10:09:09.3548564Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.subscribeChildChanges(ZkClient.java:259)\r\n2020-09-17T10:09:09.3551731Z \tat org.apache.helix.manager.zk.CallbackHandler.subscribeChildChange(CallbackHandler.java:551)\r\n2020-09-17T10:09:09.3554377Z \tat org.apache.helix.manager.zk.CallbackHandler.subscribeForChanges(CallbackHandler.java:608)\r\n2020-09-17T10:09:09.3556221Z \tat org.apache.helix.manager.zk.CallbackHandler.invoke(CallbackHandler.java:401)\r\n2020-09-17T10:09:09.3558141Z \tat org.apache.helix.manager.zk.CallbackHandler.init(CallbackHandler.java:705)\r\n2020-09-17T10:09:09.3559741Z \tat org.apache.helix.manager.zk.ZKHelixManager.initHandlers(ZKHelixManager.java:1122)\r\n2020-09-17T10:09:09.3561591Z \tat org.apache.helix.manager.zk.ZKHelixManager.handleNewSession(ZKHelixManager.java:1344)\r\n2020-09-17T10:09:09.3563435Z \tat org.apache.helix.manager.zk.ZKHelixManager.createClient(ZKHelixManager.java:752)\r\n2020-09-17T10:09:09.3565237Z \tat org.apache.helix.manager.zk.ZKHelixManager.connect(ZKHelixManager.java:789)\r\n2020-09-17T10:09:09.3567163Z \tat org.apache.helix.integration.manager.MockParticipantManager.run(MockParticipantManager.java:98)\r\n2020-09-17T10:09:09.3568578Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-17T10:09:09.3610845Z 406929 [ClusterManager_Watcher_CLUSTER_TestCrushAutoRebalanceNonRack_localhost_12921_PARTICIPANT_10158] ERROR org.apache.helix.manager.zk.ZKExceptionHandler  - Exception while invoking init callback for listener:org.apache.helix.messaging.handling.HelixTaskExecutor@3f5341de\r\n2020-09-17T10:09:09.3613140Z java.lang.IllegalStateException: ZkClient already closed!\r\n2020-09-17T10:09:09.3614649Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1664)\r\n2020-09-17T10:09:09.3616612Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.watchForChilds(ZkClient.java:2098)\r\n2020-09-17T10:09:09.3624017Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.subscribeChildChanges(ZkClient.java:259)\r\n2020-09-17T10:09:09.3626898Z \tat org.apache.helix.manager.zk.CallbackHandler.subscribeChildChange(CallbackHandler.java:551)\r\n2020-09-17T10:09:09.3629267Z \tat org.apache.helix.manager.zk.CallbackHandler.subscribeForChanges(CallbackHandler.java:608)\r\n2020-09-17T10:09:09.3631469Z \tat org.apache.helix.manager.zk.CallbackHandler.invoke(CallbackHandler.java:401)\r\n2020-09-17T10:09:09.3633204Z \tat org.apache.helix.manager.zk.CallbackHandler.init(CallbackHandler.java:705)\r\n2020-09-17T10:09:09.3648973Z \tat org.apache.helix.manager.zk.ZKHelixManager.initHandlers(ZKHelixManager.java:1122)\r\n2020-09-17T10:09:09.3654146Z \tat org.apache.helix.manager.zk.ZKHelixManager.handleNewSession(ZKHelixManager.java:1344)\r\n2020-09-17T10:09:09.3655960Z \tat org.apache.helix.manager.zk.ZKHelixManager.createClient(ZKHelixManager.java:752)\r\n2020-09-17T10:09:09.3657539Z \tat org.apache.helix.manager.zk.ZKHelixManager.connect(ZKHelixManager.java:789)\r\n2020-09-17T10:09:09.3659983Z \tat org.apache.helix.integration.manager.MockParticipantManager.run(MockParticipantManager.java:98)\r\n2020-09-17T10:09:09.3661448Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-17T10:09:09.3766251Z 406936 [ClusterManager_Watcher_CLUSTER_TestCrushAutoRebalanceNonRack_localhost_12920_PARTICIPANT_10157] ERROR org.apache.helix.manager.zk.ZKExceptionHandler  - Exception while invoking init callback for listener:org.apache.helix.messaging.handling.HelixTaskExecutor@d3c8e10\r\n2020-09-17T10:09:09.3768903Z java.lang.IllegalStateException: ZkClient already closed!\r\n2020-09-17T10:09:09.3770472Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1664)\r\n2020-09-17T10:09:09.3772586Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.watchForChilds(ZkClient.java:2098)\r\n2020-09-17T10:09:09.3774749Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.subscribeChildChanges(ZkClient.java:259)\r\n2020-09-17T10:09:09.3777101Z \tat org.apache.helix.manager.zk.CallbackHandler.subscribeChildChange(CallbackHandler.java:551)\r\n2020-09-17T10:09:09.3780113Z \tat org.apache.helix.manager.zk.CallbackHandler.subscribeForChanges(CallbackHandler.java:608)\r\n2020-09-17T10:09:09.3782768Z \tat org.apache.helix.manager.zk.CallbackHandler.invoke(CallbackHandler.java:401)\r\n2020-09-17T10:09:09.3784325Z \tat org.apache.helix.manager.zk.CallbackHandler.init(CallbackHandler.java:705)\r\n2020-09-17T10:09:09.3786221Z \tat org.apache.helix.manager.zk.ZKHelixManager.initHandlers(ZKHelixManager.java:1122)\r\n2020-09-17T10:09:09.3788364Z \tat org.apache.helix.manager.zk.ZKHelixManager.handleNewSession(ZKHelixManager.java:1344)\r\n2020-09-17T10:09:09.3790798Z \tat org.apache.helix.manager.zk.ZKHelixManager.createClient(ZKHelixManager.java:752)\r\n2020-09-17T10:09:09.3792551Z \tat org.apache.helix.manager.zk.ZKHelixManager.connect(ZKHelixManager.java:789)\r\n2020-09-17T10:09:09.3794663Z \tat org.apache.helix.integration.manager.MockParticipantManager.run(MockParticipantManager.java:98)\r\n2020-09-17T10:09:09.3796235Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-17T10:09:09.3823444Z 406950 [ClusterManager_Watcher_CLUSTER_TestCrushAutoRebalanceNonRack_localhost_12923_PARTICIPANT_10160] ERROR org.apache.helix.manager.zk.ZKExceptionHandler  - Exception while invoking init callback for listener:org.apache.helix.messaging.handling.HelixTaskExecutor@61516afd\r\n2020-09-17T10:09:09.3827698Z java.lang.IllegalStateException: ZkClient already closed!\r\n2020-09-17T10:09:09.3829474Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1664)\r\n2020-09-17T10:09:09.3831670Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.watchForChilds(ZkClient.java:2098)\r\n2020-09-17T10:09:09.3834665Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.subscribeChildChanges(ZkClient.java:259)\r\n2020-09-17T10:09:09.3837645Z \tat org.apache.helix.manager.zk.CallbackHandler.subscribeChildChange(CallbackHandler.java:551)\r\n2020-09-17T10:09:09.3840088Z \tat org.apache.helix.manager.zk.CallbackHandler.subscribeForChanges(CallbackHandler.java:608)\r\n2020-09-17T10:09:09.3842261Z \tat org.apache.helix.manager.zk.CallbackHandler.invoke(CallbackHandler.java:401)\r\n2020-09-17T10:09:09.3844057Z \tat org.apache.helix.manager.zk.CallbackHandler.init(CallbackHandler.java:705)\r\n2020-09-17T10:09:09.3845805Z \tat org.apache.helix.manager.zk.ZKHelixManager.initHandlers(ZKHelixManager.java:1122)\r\n2020-09-17T10:09:09.3847785Z \tat org.apache.helix.manager.zk.ZKHelixManager.handleNewSession(ZKHelixManager.java:1344)\r\n2020-09-17T10:09:09.3850612Z \tat org.apache.helix.manager.zk.ZKHelixManager.createClient(ZKHelixManager.java:752)\r\n2020-09-17T10:09:09.3852580Z \tat org.apache.helix.manager.zk.ZKHelixManager.connect(ZKHelixManager.java:789)\r\n2020-09-17T10:09:09.3854650Z \tat org.apache.helix.integration.manager.MockParticipantManager.run(MockParticipantManager.java:98)\r\n2020-09-17T10:09:09.3856155Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-17T10:09:09.5025072Z END TestCrushAutoRebalanceNonRack testLackEnoughInstances at Thu Sep 17 10:09:09 UTC 2020, took: 403ms.\r\n2020-09-17T10:09:09.5029878Z START TestCrushAutoRebalanceNonRack testLackEnoughInstances at Thu Sep 17 10:09:09 UTC 2020\r\n2020-09-17T10:09:09.5030874Z TestLackEnoughInstances CrushEdRebalanceStrategy\r\n2020-09-17T10:09:12.5796494Z END TestCrushAutoRebalanceNonRack testLackEnoughInstances at Thu Sep 17 10:09:12 UTC 2020, took: 3081ms.\r\n2020-09-17T10:09:12.5798704Z AfterClass: TestCrushAutoRebalanceNonRack of TestCrushAutoRebalanceNonRack called.\r\n2020-09-17T10:09:12.6201211Z 410185 [HelixController-pipeline-default-CLUSTER_TestCrushAutoRebalanceNonRack-(8c650be6_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing DEFAULT pipeline: CLUSTER_TestCrushAutoRebalanceNonRack for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1689), org.apache.helix.zookeeper.zkclient.ZkClient.getChildren(ZkClient.java:1046), org.apache.helix.zookeeper.zkclient.ZkClient.getChildren(ZkClient.java:1039), org.apache.helix.manager.zk.ZkBaseDataAccessor.getChildNames(ZkBaseDataAccessor.java:669), org.apache.helix.manager.zk.ZKHelixDataAccessor.getChildNames(ZKHelixDataAccessor.java:394), org.apache.helix.common.caches.InstanceMessagesCache.refresh(InstanceMessagesCache.java:113), org.apache.helix.controller.dataproviders.BaseControllerDataProvider.doRefresh(BaseControllerDataProvider.java:341), org.apache.helix.controller.dataproviders.ResourceControllerDataProvider.refresh(ResourceControllerDataProvider.java:143), org.apache.helix.controller.stages.ReadClusterDataStage.process(ReadClusterDataStage.java:63), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-17T10:09:12.6221231Z 410189 [HelixController-pipeline-task-CLUSTER_TestCrushAutoRebalanceNonRack-(8c650be6_TASK)] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-17T10:09:12.6223689Z java.lang.InterruptedException\r\n2020-09-17T10:09:12.6224464Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-17T10:09:12.6225020Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-17T10:09:12.6226384Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-17T10:09:12.6228337Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.getStats(ZkBaseDataAccessor.java:1197)\r\n2020-09-17T10:09:12.6230966Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.getPropertyStats(ZKHelixDataAccessor.java:365)\r\n2020-09-17T10:09:12.6233258Z \tat org.apache.helix.common.caches.AbstractDataCache.refreshProperties(AbstractDataCache.java:66)\r\n2020-09-17T10:09:12.6236181Z \tat org.apache.helix.common.caches.ParticipantStateCache.refreshParticipantStatesCacheFromZk(ParticipantStateCache.java:122)\r\n2020-09-17T10:09:12.6239188Z \tat org.apache.helix.common.caches.ParticipantStateCache.refresh(ParticipantStateCache.java:62)\r\n2020-09-17T10:09:12.6241762Z \tat org.apache.helix.controller.dataproviders.BaseControllerDataProvider.doRefresh(BaseControllerDataProvider.java:342)\r\n2020-09-17T10:09:12.6246818Z \tat org.apache.helix.controller.dataproviders.WorkflowControllerDataProvider.refresh(WorkflowControllerDataProvider.java:88)\r\n2020-09-17T10:09:12.6250040Z \tat org.apache.helix.controller.stages.ReadClusterDataStage.process(ReadClusterDataStage.java:63)\r\n2020-09-17T10:09:12.6252562Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-17T10:09:12.6254787Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-17T10:09:12.6257152Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-17T10:09:12.6260562Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-17T10:09:13.7190598Z AfterClass: TestCrushAutoRebalanceNonRack of ZkStandAloneCMTestBase called\r\n2020-09-17T10:09:13.7196116Z END TestCrushAutoRebalanceNonRack at Thu Sep 17 10:09:13 UTC 2020\r\n2020-09-17T10:09:13.7221008Z AfterClass:TestCrushAutoRebalanceNonRack afterclass of ZkTestBase called!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694505483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694535151","html_url":"https://github.com/apache/helix/issues/1371#issuecomment-694535151","issue_url":"https://api.github.com/repos/apache/helix/issues/1371","id":694535151,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDUzNTE1MQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T22:33:15Z","updated_at":"2020-09-17T22:35:38Z","author_association":"CONTRIBUTOR","body":"The root cause seems to be at restarting the participant at `testLackEnoughLiveInstances`\r\n\r\n```\r\n    for (int i = 2; i < _participants.size(); i++) {\r\n      _participants.get(i).syncStart();\r\n    }\r\n\r\n```\r\n\r\nIn fact, participant can't be restart with syncStop before, we have to create a new participant before fixing life cycle of zkclient in CB issue. \r\n\r\nsee the right way to do it, in TestWagedRebalancce\r\n\r\n```\r\n\r\n    // restart the participants within the zone\r\n    for (int i = 2; i < _participants.size(); i++) {\r\n      MockParticipantManager p = _participants.get(i);\r\n      MockParticipantManager newNode =\r\n          new MockParticipantManager(ZK_ADDR, CLUSTER_NAME, p.getInstanceName());\r\n      _participants.set(i, newNode);\r\n      newNode.syncStart();\r\n    }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694535151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694690854","html_url":"https://github.com/apache/helix/issues/1300#issuecomment-694690854","issue_url":"https://api.github.com/repos/apache/helix/issues/1300","id":694690854,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDY5MDg1NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T06:51:06Z","updated_at":"2020-09-18T06:51:06Z","author_association":"CONTRIBUTOR","body":"> 2020-09-18T00:28:03.5214953Z [ERROR] testDeactivateCluster(org.apache.helix.tools.TestHelixAdminCli)  Time elapsed: 2.244 s  <<< FAILURE!\r\n2020-09-18T00:28:03.5216715Z org.apache.helix.HelixException: There are still LEADER in the cluster, shut them down first.\r\n2020-09-18T00:28:03.5218782Z \tat org.apache.helix.tools.TestHelixAdminCli.testDeactivateCluster(TestHelixAdminCli.java:604)\r\n2020-09-18T00:28:03.5220373Z \r\n2020-09-18T00:28:03.8965375Z [ERROR] Failures: \r\n2020-09-18T00:28:03.8967694Z [ERROR]   TestHelixAdminCli.testDeactivateCluster:604 Â» Helix There are still LEADER in ...\r\n2020-09-18T00:28:03.8971521Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 2","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694690854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694691295","html_url":"https://github.com/apache/helix/issues/1300#issuecomment-694691295","issue_url":"https://api.github.com/repos/apache/helix/issues/1300","id":694691295,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDY5MTI5NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T06:52:10Z","updated_at":"2020-09-18T06:52:10Z","author_association":"CONTRIBUTOR","body":">2020-09-17T23:34:33.0813638Z START TestHelixAdminCli testDeactivateCluster at Thu Sep 17 23:34:33 UTC 2020\r\n2020-09-17T23:34:33.0816039Z START TestHelixAdminCli at Thu Sep 17 23:34:33 UTC 2020\r\n2020-09-17T23:34:35.1388128Z 1254851 [HelixController-pipeline-default-TestHelixAdminCli-(041eaa31_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.waged.WagedRebalancer  - Failed to calculate the new assignments.\r\n2020-09-17T23:34:35.1399531Z org.apache.helix.HelixRebalanceException: Failed to get the current best possible assignment because of unexpected error. Failure Type: INVALID_REBALANCER_STATUS\r\n2020-09-17T23:34:35.1403542Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:664)\r\n2020-09-17T23:34:35.1407124Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.partialRebalance(WagedRebalancer.java:516)\r\n2020-09-17T23:34:35.1413905Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:357)\r\n2020-09-17T23:34:35.1419783Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n2020-09-17T23:34:35.1424876Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n2020-09-17T23:34:35.1430085Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n2020-09-17T23:34:35.1435441Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n2020-09-17T23:34:35.1438356Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n2020-09-17T23:34:35.1440589Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-17T23:34:35.1442578Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-17T23:34:35.1447466Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-17T23:34:35.1449655Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-17T23:34:35.1452127Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-17T23:34:35.1455189Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1689)\r\n2020-09-17T23:34:35.1457227Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1826)\r\n2020-09-17T23:34:35.1502103Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1818)\r\n2020-09-17T23:34:35.1504733Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.get(ZkBaseDataAccessor.java:473)\r\n2020-09-17T23:34:35.1506811Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:260)\r\n2020-09-17T23:34:35.1509602Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:238)\r\n2020-09-17T23:34:35.1545793Z \tat org.apache.helix.controller.rebalancer.waged.AssignmentMetadataStore.getBestPossibleAssignment(AssignmentMetadataStore.java:84)\r\n2020-09-17T23:34:35.1549885Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:661)\r\n2020-09-17T23:34:35.1551727Z \t... 11 more\r\n2020-09-17T23:34:35.1552161Z Caused by: java.lang.InterruptedException\r\n2020-09-17T23:34:35.1552733Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-17T23:34:35.1553855Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-17T23:34:35.1554751Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-17T23:34:35.1555901Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1219)\r\n2020-09-17T23:34:35.1557059Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1250)\r\n2020-09-17T23:34:35.1558424Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.readData(ZkConnection.java:144)\r\n2020-09-17T23:34:35.1559885Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1830)\r\n2020-09-17T23:34:35.1561067Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1826)\r\n2020-09-17T23:34:35.1562716Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1673)\r\n2020-09-17T23:34:35.1564014Z \t... 18 more\r\n2020-09-17T23:34:35.1668721Z 1254851 [HelixController-pipeline-default-TestHelixAdminCli-(041eaa31_DEFAULT)] ERROR org.apache.helix.controller.stages.BestPossibleStateCalcStage  - Event 041eaa31_DEFAULT : Failed to calculate the new Ideal States using the rebalancer WagedRebalancer due to INVALID_REBALANCER_STATUS\r\n2020-09-17T23:34:35.1678234Z org.apache.helix.HelixRebalanceException: Failed to get the current best possible assignment because of unexpected error. Failure Type: INVALID_REBALANCER_STATUS\r\n2020-09-17T23:34:35.1723029Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:664)\r\n2020-09-17T23:34:35.1735483Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.partialRebalance(WagedRebalancer.java:516)\r\n2020-09-17T23:34:35.1739715Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:357)\r\n2020-09-17T23:34:35.1749144Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n2020-09-17T23:34:35.1752667Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n2020-09-17T23:34:35.1761236Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n2020-09-17T23:34:35.1792270Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n2020-09-17T23:34:35.1795582Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n2020-09-17T23:34:35.1797815Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-17T23:34:35.1808646Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-17T23:34:35.1811669Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-17T23:34:35.1814779Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-17T23:34:35.1817938Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-17T23:34:35.1826228Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1689)\r\n2020-09-17T23:34:35.1836738Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1826)\r\n2020-09-17T23:34:35.1842390Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1818)\r\n2020-09-17T23:34:35.1844666Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.get(ZkBaseDataAccessor.java:473)\r\n2020-09-17T23:34:35.1847979Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:260)\r\n2020-09-17T23:34:35.1850610Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:238)\r\n2020-09-17T23:34:35.1854304Z \tat org.apache.helix.controller.rebalancer.waged.AssignmentMetadataStore.getBestPossibleAssignment(AssignmentMetadataStore.java:84)\r\n2020-09-17T23:34:35.1862221Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:661)\r\n2020-09-17T23:34:35.1864232Z \t... 11 more\r\n2020-09-17T23:34:35.1864690Z Caused by: java.lang.InterruptedException\r\n2020-09-17T23:34:35.1865304Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-17T23:34:35.1865836Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-17T23:34:35.1866769Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-17T23:34:35.1867960Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1219)\r\n2020-09-17T23:34:35.1869006Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1250)\r\n2020-09-17T23:34:35.1870458Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.readData(ZkConnection.java:144)\r\n2020-09-17T23:34:35.1872015Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1830)\r\n2020-09-17T23:34:35.1873445Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1826)\r\n2020-09-17T23:34:35.1875222Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1673)\r\n2020-09-17T23:34:35.1878217Z \t... 18 more\r\n2020-09-17T23:34:35.1946437Z 1254852 [HelixController-pipeline-default-TestHelixAdminCli-(041eaa31_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing DEFAULT pipeline: TestHelixAdminCli for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1629), org.apache.helix.zookeeper.zkclient.ZkClient.waitForKeeperState(ZkClient.java:1607), org.apache.helix.zookeeper.zkclient.ZkClient.waitUntilConnected(ZkClient.java:1598), org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:396), org.apache.helix.manager.zk.ZKHelixManager.getSessionId(ZKHelixManager.java:943), org.apache.helix.controller.stages.MessageGenerationPhase.createStateTransitionMessage(MessageGenerationPhase.java:412), org.apache.helix.controller.stages.MessageGenerationPhase.generateMessage(MessageGenerationPhase.java:235), org.apache.helix.controller.stages.MessageGenerationPhase.processEvent(MessageGenerationPhase.java:102), org.apache.helix.controller.stages.resource.ResourceMessageGenerationPhase.process(ResourceMessageGenerationPhase.java:35), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-17T23:34:35.2024765Z 1254852 [HelixController-pipeline-task-TestHelixAdminCli-(562e8de3_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing TASK pipeline: TestHelixAdminCli for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1689), org.apache.helix.zookeeper.zkclient.ZkClient.getChildren(ZkClient.java:1046), org.apache.helix.zookeeper.zkclient.ZkClient.getChildren(ZkClient.java:1039), org.apache.helix.manager.zk.ZkBaseDataAccessor.getChildNames(ZkBaseDataAccessor.java:669), org.apache.helix.manager.zk.ZKHelixDataAccessor.getChildNames(ZKHelixDataAccessor.java:394), org.apache.helix.common.caches.InstanceMessagesCache.refresh(InstanceMessagesCache.java:113), org.apache.helix.controller.dataproviders.BaseControllerDataProvider.doRefresh(BaseControllerDataProvider.java:341), org.apache.helix.controller.dataproviders.WorkflowControllerDataProvider.refresh(WorkflowControllerDataProvider.java:88), org.apache.helix.controller.stages.ReadClusterDataStage.process(ReadClusterDataStage.java:63), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-17T23:34:35.4207164Z 1255134 [HelixController-pipeline-default-TestHelixAdminCli-(f12c5deb_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_9000 is not leader for TestHelixAdminCli. Pipeline will not be invoked\r\n2020-09-17T23:34:41.3800177Z END TestHelixAdminCli testDeactivateCluster at Thu Sep 17 23:34:41 UTC 2020, took: 8298ms.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694691295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694745984","html_url":"https://github.com/apache/helix/issues/1300#issuecomment-694745984","issue_url":"https://api.github.com/repos/apache/helix/issues/1300","id":694745984,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDc0NTk4NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T08:56:21Z","updated_at":"2020-09-18T08:56:21Z","author_association":"CONTRIBUTOR","body":"/TestHelixAdminCli/CONTROLLER/LEADER\r\n\r\nsuper cluster ideal state \r\n{\r\n  \"id\" : \"TestHelixAdminCli\",\r\n  \"simpleFields\" : {\r\n    \"IDEAL_STATE_MODE\" : \"AUTO_REBALANCE\",\r\n    \"NUM_PARTITIONS\" : \"1\",\r\n    \"REBALANCER_CLASS_NAME\" : \"org.apache.helix.controller.rebalancer.DelayedAutoRebalancer\",\r\n    \"REBALANCE_MODE\" : \"FULL_AUTO\",\r\n    \"REBALANCE_STRATEGY\" : \"org.apache.helix.controller.rebalancer.strategy.CrushEdRebalanceStrategy\",\r\n    \"REPLICAS\" : \"3\",\r\n    \"STATE_MODEL_DEF_REF\" : \"LeaderStandby\"\r\n  },\r\n  \"mapFields\" : { },\r\n  \"listFields\" : {\r\n    \"TestHelixAdminCli\" : [ ]\r\n  }\r\n}\r\n\r\n```\r\npublic void testDeactivateCluster() throws Exception {\r\n    final int n = 6;\r\n\r\n    System.out.println(\"START \" + clusterName + \" at \" + new Date(System.currentTimeMillis()));\r\n\r\n    MockParticipantManager[] participants = new MockParticipantManager[n];\r\n    ClusterDistributedController[] controllers = new ClusterDistributedController[2];\r\n    setupCluster(clusterName, grandClusterName, n, participants, controllers);\r\n    String command =\r\n        \"-zkSvr \" + ZK_ADDR + \" -activateCluster \" + clusterName + \" \" + grandClusterName + \" true\";\r\n    ClusterSetup.processCommandLineArgs(command.split(\"\\\\s+\"));\r\n    Thread.sleep(500);\r\n\r\n-----> is it the reason that before cluster fully up we de-active cluster?\r\n\r\n    // deactivate cluster\r\n    command = \"-zkSvr \" + ZK_ADDR + \" -activateCluster \" + clusterName + \" \" + grandClusterName\r\n        + \" false\";\r\n    ClusterSetup.processCommandLineArgs(command.split(\"\\\\s+\"));\r\n\r\n    BaseDataAccessor<ZNRecord> baseAccessor = new ZkBaseDataAccessor<>(_gZkClient);\r\n    HelixDataAccessor accessor = new ZKHelixDataAccessor(clusterName, baseAccessor);\r\n    final String path = accessor.keyBuilder().controllerLeader().getPath();\r\n    TestHelper.verify(() -> !_gZkClient.exists(path), 10000L);   -----> here, validate that leader path removed /TestHelixAdminCli/CONTROLLER/LEADER\r\n\r\n    Assert.assertFalse(_gZkClient.exists(path),\r\n        \"leader should be gone after deactivate the cluster\");\r\n\r\n    command = \"-zkSvr \" + ZK_ADDR + \" -dropCluster \" + clusterName;\r\n    try {\r\n      ClusterSetup.processCommandLineArgs(command.split(\"\\\\s+\"));\r\n      Assert.fail(\"dropCluster should fail since there are still instances running\");\r\n    } catch (Exception e) {\r\n      // OK\r\n    }\r\n\r\n    for (MockParticipantManager participant : participants) {\r\n      participant.syncStop();\r\n    }\r\n    for (MockParticipantManager participant : participants) {\r\n      if (participant.isConnected()) {\r\n        Thread.sleep(SLEEP_DURATION);\r\n      }\r\n    }\r\n\r\n    command = \"-zkSvr localhost:2183 -dropCluster \" + clusterName;\r\n    ClusterSetup.processCommandLineArgs(command.split(\"\\\\s\"));         -------> \"There are still LEADER in the cluster, shut them down first.\"  this is the leader node /TestHelixAdminCli/CONTROLLER/LEADER\r\n\r\n    for (ClusterDistributedController controller : controllers) {\r\n      controller.syncStop();\r\n    }\r\n    for (ClusterDistributedController controller : controllers) {\r\n      if (controller.isConnected()) {\r\n        Thread.sleep(SLEEP_DURATION);\r\n      }\r\n    }\r\n\r\n    command = \"-zkSvr localhost:2183 -dropCluster \" + grandClusterName;\r\n    ClusterSetup.processCommandLineArgs(command.split(\"\\\\s+\"));\r\n  }\r\n\r\n\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694745984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/694748590","html_url":"https://github.com/apache/helix/issues/1300#issuecomment-694748590","issue_url":"https://api.github.com/repos/apache/helix/issues/1300","id":694748590,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDc0ODU5MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T09:01:44Z","updated_at":"2020-09-18T09:01:44Z","author_association":"CONTRIBUTOR","body":"Why we have WagedRebalancer here? @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/694748590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695059824","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-695059824","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":695059824,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTA1OTgyNA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T20:03:05Z","updated_at":"2020-09-18T20:03:05Z","author_association":"CONTRIBUTOR","body":"LOG 1051, 09/18 touch 3\r\n> 2020-09-18T11:14:08.7558906Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 1,800.014 s  <<< FAILURE!\r\n2020-09-18T11:14:08.7685856Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testResetSnapshots() didn't finish within the time-out 1800000\r\n2020-09-18T11:14:08.7698996Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:437)\r\n2020-09-18T11:14:08.7702496Z \r\n2020-09-18T11:14:09.1585373Z [ERROR] Failures: \r\n2020-09-18T11:14:09.1588655Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:437 Â» ThreadTimeout Method org.t...\r\n2020-09-18T11:14:09.1590014Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695059824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695063350","html_url":"https://github.com/apache/helix/issues/1380#issuecomment-695063350","issue_url":"https://api.github.com/repos/apache/helix/issues/1380","id":695063350,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTA2MzM1MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T20:11:14Z","updated_at":"2020-09-18T20:11:14Z","author_association":"CONTRIBUTOR","body":"This one used to be failing a lot. with recent enhancement, a lot better. 1/20 test","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695063350/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695065794","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-695065794","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":695065794,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTA2NTc5NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T20:16:41Z","updated_at":"2020-09-18T20:16:41Z","author_association":"CONTRIBUTOR","body":"LOG 1061, 09/18 touch 9\r\n\r\n>2020-09-18T11:18:01.3541498Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:437 Â» ThreadTimeout Method org.t...\r\n2020-09-18T11:18:01.3547252Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695065794/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695073930","html_url":"https://github.com/apache/helix/issues/1367#issuecomment-695073930","issue_url":"https://api.github.com/repos/apache/helix/issues/1367","id":695073930,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTA3MzkzMA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T20:35:47Z","updated_at":"2020-09-18T20:35:47Z","author_association":"CONTRIBUTOR","body":"    for (int i = 0; i < _numDbs; i++) {\r\n      JobConfig.Builder jobConfig =\r\n          new JobConfig.Builder().setCommand(MockTask.TASK_COMMAND).setTargetResource(_testDbs.get(i))\r\n              .setTargetPartitionStates(Sets.newHashSet(\"SLAVE\")).setIgnoreDependentJobFailure(true);\r\n      String jobName = \"job\" + _testDbs.get(i);\r\n      queueBuilder.enqueueJob(jobName, jobConfig);\r\n      currentJobNames.add(jobName);\r\n    }","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695073930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695107707","html_url":"https://github.com/apache/helix/issues/1289#issuecomment-695107707","issue_url":"https://api.github.com/repos/apache/helix/issues/1289","id":695107707,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTEwNzcwNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T22:07:35Z","updated_at":"2020-09-18T22:07:35Z","author_association":"CONTRIBUTOR","body":"log4j.logger.org.apache.helix.controller.stages.MessageDispatchStage=INFO\r\n\r\nto validate.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695107707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695138112","html_url":"https://github.com/apache/helix/pull/1377#issuecomment-695138112","issue_url":"https://api.github.com/repos/apache/helix/issues/1377","id":695138112,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTEzODExMg==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-19T00:34:07Z","updated_at":"2020-09-19T00:34:07Z","author_association":"CONTRIBUTOR","body":"We'll firstly use a customized object name factory to insert namespace key to object name: #1357\r\nWe'll put this in backlog. If we need to remove attributes and also need this JmxReporter for further integration work, we then add this class.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695138112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695147425","html_url":"https://github.com/apache/helix/issues/1372#issuecomment-695147425","issue_url":"https://api.github.com/repos/apache/helix/issues/1372","id":695147425,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTE0NzQyNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-19T01:44:40Z","updated_at":"2020-09-19T01:44:40Z","author_association":"CONTRIBUTOR","body":"LOG 1074 \r\n\r\n>2020-09-19T01:20:52.9828081Z [ERROR] stopDeleteJobAndResumeNamedQueue(org.apache.helix.integration.task.TestTaskRebalancerStopResume)  Time elapsed: 607.514 s  <<< FAILURE!\r\n2020-09-19T01:20:52.9839860Z org.apache.helix.HelixException: Workflow \"stopDeleteJobAndResumeNamedQueue\", job \"stopDeleteJobAndResumeNamedQueue_slaveJob2_second\" timed out\r\n2020-09-19T01:20:52.9915658Z \tat org.apache.helix.integration.task.TestTaskRebalancerStopResume.stopDeleteJobAndResumeNamedQueue(TestTaskRebalancerStopResume.java:247)\r\n2020-09-19T01:20:52.9919495Z \r\n2020-09-19T01:20:53.3830418Z [ERROR] Failures: \r\n2020-09-19T01:20:53.3836636Z [ERROR]   TestTaskRebalancerStopResume.stopDeleteJobAndResumeNamedQueue:247 Â» Helix Work...","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695147425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695147635","html_url":"https://github.com/apache/helix/issues/1372#issuecomment-695147635","issue_url":"https://api.github.com/repos/apache/helix/issues/1372","id":695147635,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTE0NzYzNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-19T01:46:46Z","updated_at":"2020-09-19T01:46:46Z","author_association":"CONTRIBUTOR","body":"Note, this is a frequent failure case.\r\n\r\n```\r\n\r\n    // add job 3 back\r\n    JobConfig.Builder job = new JobConfig.Builder().setCommand(MockTask.TASK_COMMAND)\r\n        .setTargetResource(WorkflowGenerator.DEFAULT_TGT_DB)\r\n        .setTargetPartitionStates(Sets.newHashSet(\"SLAVE\"));\r\n\r\n    // the name here MUST be unique in order to avoid conflicts with the old job cached in\r\n    // RuntimeJobDag\r\n    String newJob = deletedJob2 + \"_second\";\r\n    LOG.info(\"Enqueuing job: \" + newJob);\r\n    _driver.enqueueJob(queueName, newJob, job);\r\n    currentJobNames.add(newJob);\r\n\r\n    // Ensure the jobs left are successful completed in the correct order\r\n    long preJobFinish = 0;\r\n    for (int i = 0; i < currentJobNames.size(); i++) {\r\n      String namedSpaceJobName = String.format(\"%s_%s\", queueName, currentJobNames.get(i));\r\n      _driver.pollForJobState(queueName, namedSpaceJobName, TaskState.COMPLETED);    --------> failed here.\r\n\r\n      JobContext jobContext = _driver.getJobContext(namedSpaceJobName);\r\n      long jobStart = jobContext.getStartTime();\r\n      Assert.assertTrue(jobStart >= preJobFinish);\r\n      preJobFinish = jobContext.getFinishTime();\r\n    }\r\n\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695147635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695841851","html_url":"https://github.com/apache/helix/issues/1367#issuecomment-695841851","issue_url":"https://api.github.com/repos/apache/helix/issues/1367","id":695841851,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTg0MTg1MQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T22:01:36Z","updated_at":"2020-09-20T22:01:36Z","author_association":"CONTRIBUTOR","body":"LOG 1102.  09/20 touch 109/20 touch 10\r\n>2020-09-20T21:38:15.3363023Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 4,998.924 s <<< FAILURE! - in TestSuite\r\n2020-09-20T21:38:15.3367848Z [ERROR] testWorkflowFailureJobThreshold(org.apache.helix.integration.task.TestJobFailureDependence)  Time elapsed: 609.303 s  <<< FAILURE!\r\n2020-09-20T21:38:15.3372630Z org.apache.helix.HelixException: Workflow \"testWorkflowFailureJobThreshold\", job \"testWorkflowFailureJobThreshold_jobTestDB1\" timed out\r\n2020-09-20T21:38:15.3379159Z \tat org.apache.helix.integration.task.TestJobFailureDependence.testWorkflowFailureJobThreshold(TestJobFailureDependence.java:176)\r\n2020-09-20T21:38:15.3384055Z \r\n2020-09-20T21:38:15.4393798Z [ERROR] Failures: \r\n2020-09-20T21:38:15.4459524Z [ERROR]   TestJobFailureDependence.testWorkflowFailureJobThreshold:176 Â» Helix Workflow ...\r\n2020-09-20T21:38:15.4460989Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695841851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695841917","html_url":"https://github.com/apache/helix/issues/1367#issuecomment-695841917","issue_url":"https://api.github.com/repos/apache/helix/issues/1367","id":695841917,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTg0MTkxNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T22:02:18Z","updated_at":"2020-09-20T22:02:18Z","author_association":"CONTRIBUTOR","body":"    for (int i = 0; i < _numDbs; i++) {\r\n      JobConfig.Builder jobConfig =\r\n          new JobConfig.Builder().setCommand(MockTask.TASK_COMMAND).setTargetResource(_testDbs.get(i))\r\n              .setTargetPartitionStates(Sets.newHashSet(\"SLAVE\")).setIgnoreDependentJobFailure(true);\r\n      String jobName = \"job\" + _testDbs.get(i);\r\n      queueBuilder.enqueueJob(jobName, jobConfig);\r\n      _driver.enqueueJob(queueName, jobName, jobConfig);\r\n    }\r\n\r\n    _driver.resume(queueName);\r\n\r\n    namedSpaceJob1 = String.format(\"%s_%s\", queueName, currentJobNames.get(1));\r\n    _driver.pollForJobState(queueName, namedSpaceJob1, TaskState.FAILED);","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695841917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695841946","html_url":"https://github.com/apache/helix/issues/1367#issuecomment-695841946","issue_url":"https://api.github.com/repos/apache/helix/issues/1367","id":695841946,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTg0MTk0Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T22:02:36Z","updated_at":"2020-09-20T22:02:36Z","author_association":"CONTRIBUTOR","body":"consider batch add.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695841946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/695842138","html_url":"https://github.com/apache/helix/issues/1380#issuecomment-695842138","issue_url":"https://api.github.com/repos/apache/helix/issues/1380","id":695842138,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NTg0MjEzOA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-20T22:04:56Z","updated_at":"2020-09-21T18:15:14Z","author_association":"CONTRIBUTOR","body":"LOG 1106 09/20 touch 3\r\n> 2020-09-20T21:49:44.4994732Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 4,700.261 s <<< FAILURE! - in TestSuite\r\n2020-09-20T21:49:44.5036565Z [ERROR] testP2PStateTransitionEnabled(org.apache.helix.integration.messaging.TestP2PNoDuplicatedMessage)  Time elapsed: 26.394 s  <<< FAILURE!\r\n2020-09-20T21:49:44.5038630Z java.lang.AssertionError: expected:<2200> but was:<2185>\r\n2020-09-20T21:49:44.5041767Z \tat org.apache.helix.integration.messaging.TestP2PNoDuplicatedMessage.testP2PStateTransitionEnabled(TestP2PNoDuplicatedMessage.java:180)\r\n2020-09-20T21:49:44.5044911Z \r\n2020-09-20T21:49:44.5101633Z 4690180 [Helix-RouterUpdater-event_process-TestZkCallbackHandlerLeak_testCurrentStatePathLeakingByAsycRemoval] ERROR org.apache.helix.spectator.RoutingTableProvider  - HelixManager is not connected for router update event: Event id : a383a99b-ba43-4e44-8aec-12401b13919bname:PeriodicalRebalance\r\n2020-09-20T21:49:44.5105088Z changeContext:org.apache.helix.NotificationContext@727c4682\r\n2020-09-20T21:49:44.5107008Z helixmanager:org.apache.helix.integration.manager.ClusterSpectatorManager@4d0923e6\r\n2020-09-20T21:49:44.5109850Z \r\n2020-09-20T21:49:44.5113867Z 4690180 [Helix-RouterUpdater-event_process-TestZkCallbackHandlerLeak_testCurrentStatePathLeakingByAsycRemoval] ERROR org.apache.helix.common.DedupEventProcessor  - Helix-RouterUpdater-event_process thread failed while running Helix-RouterUpdater-event_process\r\n2020-09-20T21:49:44.5122198Z org.apache.helix.HelixException: HelixManager is not connected for router update event.\r\n2020-09-20T21:49:44.5123950Z \tat org.apache.helix.spectator.RoutingTableProvider$RouterUpdater.handleEvent(RoutingTableProvider.java:891)\r\n2020-09-20T21:49:44.5126270Z \tat org.apache.helix.spectator.RoutingTableProvider$RouterUpdater.handleEvent(RoutingTableProvider.java:855)\r\n2020-09-20T21:49:44.5128337Z \tat org.apache.helix.common.DedupEventProcessor.run(DedupEventProcessor.java:61)\r\n2020-09-20T21:49:44.8946581Z [ERROR] Failures: \r\n2020-09-20T21:49:44.8951177Z [ERROR]   TestP2PNoDuplicatedMessage.testP2PStateTransitionEnabled:180 expected:<2200> but was:<2185>\r\n2020-09-20T21:49:44.8953542Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1\r\n2020-09-20T21:49:44.9041402Z [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project helix-core: There are test failures.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/695842138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696279952","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-696279952","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":696279952,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjI3OTk1Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T18:08:03Z","updated_at":"2020-09-21T18:08:03Z","author_association":"CONTRIBUTOR","body":"LOG 1118. fix #1367 \r\n\r\n>2020-09-21T04:56:36.3191026Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 1,800.026 s  <<< FAILURE!\r\n2020-09-21T04:56:36.3203620Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testResetSnapshots() didn't finish within the time-out 1800000\r\n2020-09-21T04:56:36.3215445Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:437)\r\n2020-09-21T04:56:36.3219010Z \r\n2020-09-21T04:56:36.6976619Z [ERROR] Failures: \r\n2020-09-21T04:56:36.6982617Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:437 Â» ThreadTimeout Method org.t...\r\n2020-09-21T04:56:36.7005986Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1\r\n2020-09-21T04:56:36.7054647Z [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project helix-core: There are test failures.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696279952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696280653","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-696280653","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":696280653,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjI4MDY1Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T18:09:22Z","updated_at":"2020-09-21T18:09:22Z","author_association":"CONTRIBUTOR","body":"LOG 1113 09/20 touch 8\r\n>2020-09-20T22:23:33.9435500Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 1,800.016 s  <<< FAILURE!\r\n2020-09-20T22:23:33.9447133Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testResetSnapshots() didn't finish within the time-out 1800000\r\n2020-09-20T22:23:33.9466054Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:437)\r\n2020-09-20T22:23:33.9468916Z \r\n2020-09-20T22:23:34.3349605Z [ERROR] Failures: \r\n2020-09-20T22:23:34.3355817Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:437 Â» ThreadTimeout Method org.t...\r\n2020-09-20T22:23:34.3357545Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1\r\n2020-09-20T22:23:34.3438853Z [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project helix-core: There are test failures.\r\n2020-09-20T22:23:34.3464788Z [ERROR] ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696280653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696281555","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-696281555","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":696281555,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjI4MTU1NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T18:11:09Z","updated_at":"2020-09-21T18:11:09Z","author_association":"CONTRIBUTOR","body":"LOG 1109, 09/20 touch 5\r\n>2020-09-20T22:19:50.9503891Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 6,338.181 s <<< FAILURE! - in TestSuite\r\n2020-09-20T22:19:50.9506411Z [ERROR] testResetSnapshots(org.apache.helix.controller.changedetector.TestResourceChangeDetector)  Time elapsed: 1,800.013 s  <<< FAILURE!\r\n2020-09-20T22:19:50.9511011Z org.testng.internal.thread.ThreadTimeoutException: Method org.testng.internal.TestNGMethod.testResetSnapshots() didn't finish within the time-out 1800000\r\n2020-09-20T22:19:50.9514789Z \tat org.apache.helix.controller.changedetector.TestResourceChangeDetector.testResetSnapshots(TestResourceChangeDetector.java:440)\r\n2020-09-20T22:19:50.9517051Z \r\n2020-09-20T22:19:51.3291033Z [ERROR] Failures: \r\n2020-09-20T22:19:51.3298448Z [ERROR]   TestResourceChangeDetector.testResetSnapshots:440->Object.wait:-2 Â» ThreadTimeout\r\n2020-09-20T22:19:51.3299552Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1\r\n2020-09-20T22:19:51.3372077Z [ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M3:test (default-test) on project helix-core: There are test failures.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696281555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696301598","html_url":"https://github.com/apache/helix/pull/1206#issuecomment-696301598","issue_url":"https://api.github.com/repos/apache/helix/issues/1206","id":696301598,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjMwMTU5OA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T18:48:25Z","updated_at":"2020-09-21T18:48:25Z","author_association":"CONTRIBUTOR","body":"@jiajunwang I've sent an email to helix-dev. No one is giving any concern about this. I think it is good to go.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696301598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696337766","html_url":"https://github.com/apache/helix/pull/1206#issuecomment-696337766","issue_url":"https://api.github.com/repos/apache/helix/issues/1206","id":696337766,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjMzNzc2Ng==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T19:55:25Z","updated_at":"2020-09-21T19:55:25Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696337766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696431757","html_url":"https://github.com/apache/helix/issues/1281#issuecomment-696431757","issue_url":"https://api.github.com/repos/apache/helix/issues/1281","id":696431757,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjQzMTc1Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T23:23:52Z","updated_at":"2020-09-21T23:23:52Z","author_association":"CONTRIBUTOR","body":"public void testIgnoreNonTopologyChanges()\r\n\r\ndelete full auto resource added.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696431757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696433180","html_url":"https://github.com/apache/helix/pull/1379#issuecomment-696433180","issue_url":"https://api.github.com/repos/apache/helix/issues/1379","id":696433180,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjQzMzE4MA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-21T23:27:57Z","updated_at":"2020-09-21T23:27:57Z","author_association":"CONTRIBUTOR","body":"@dasahcc Thanks for the review! I've verified the annotations worked.\r\n\r\nThis PR is ready to be merged, approved by @dasahcc ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696433180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696462600","html_url":"https://github.com/apache/helix/pull/1357#issuecomment-696462600","issue_url":"https://api.github.com/repos/apache/helix/issues/1357","id":696462600,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjQ2MjYwMA==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T01:17:25Z","updated_at":"2020-09-22T01:17:25Z","author_association":"CONTRIBUTOR","body":"Thank @dasahcc @jiajunwang for the review!\r\n\r\nThis PR is ready to be merged, approved by @dasahcc @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696462600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696899015","html_url":"https://github.com/apache/helix/issues/1386#issuecomment-696899015","issue_url":"https://api.github.com/repos/apache/helix/issues/1386","id":696899015,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Njg5OTAxNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T18:25:17Z","updated_at":"2020-09-22T18:25:17Z","author_association":"CONTRIBUTOR","body":"> 2020-09-22T04:51:51.3027369Z START TestPartitionMovementThrottle testThrottleOnlyClusterLevelAnyType at Tue Sep 22 04:51:51 UTC 2020\r\n2020-09-22T04:51:52.7377317Z 684549 [ZkClient-EventThread-16587-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-22T04:51:52.7379803Z java.lang.InterruptedException\r\n2020-09-22T04:51:52.7380705Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-22T04:51:52.7381879Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-22T04:51:52.7383796Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-22T04:51:52.7386296Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1305)\r\n2020-09-22T04:51:52.7388179Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:83)\r\n2020-09-22T04:51:52.7389907Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1331)\r\n2020-09-22T04:51:52.7391694Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n2020-09-22T04:51:55.0892669Z no throttle result for :localhost_12920\r\n2020-09-22T04:51:55.0893819Z no throttle result for :localhost_12921\r\n2020-09-22T04:51:55.0894538Z no throttle result for :localhost_12922\r\n2020-09-22T04:51:55.4739163Z 687286 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(376b0c57_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:55.4744365Z 687286 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(376b0c57_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:55.4749250Z 687286 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(376b0c57_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:57.2169181Z 689028 [ZkClient-EventThread-16705-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-22T04:51:57.2171993Z java.lang.InterruptedException\r\n2020-09-22T04:51:57.2172944Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-22T04:51:57.2173739Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-22T04:51:57.2176576Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-22T04:51:57.2179129Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1305)\r\n2020-09-22T04:51:57.2180788Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:83)\r\n2020-09-22T04:51:57.2182218Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1331)\r\n2020-09-22T04:51:57.2186712Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n2020-09-22T04:51:57.4695312Z 689280 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(d87b3a25_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:57.4700583Z 689280 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(d87b3a25_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:57.4705634Z 689280 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(d87b3a25_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:58.6586935Z 690469 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(f0bd536a_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:58.6592355Z 690469 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(f0bd536a_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:58.6597249Z 690469 [HelixController-pipeline-default-CLUSTER_TestPartitionMovementThrottle-(f0bd536a_DEFAULT)] ERROR org.apache.helix.controller.stages.StateTransitionThrottleController  - Wrong rebalance type NONE as parameter\r\n2020-09-22T04:51:59.7540974Z 691565 [ZkClient-EventThread-16742-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696899015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696904776","html_url":"https://github.com/apache/helix/issues/1389#issuecomment-696904776","issue_url":"https://api.github.com/repos/apache/helix/issues/1389","id":696904776,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjkwNDc3Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T18:35:58Z","updated_at":"2020-09-22T18:35:58Z","author_association":"CONTRIBUTOR","body":"```\r\n      // Add a half-second delay because it takes time for messages to be processed\r\n      Thread.sleep(500L);\r\n      PropertyKey controllerTaskStatus =\r\n          keyBuilder.controllerTaskStatus(MessageType.SCHEDULER_MSG.name(), msgId);\r\n      ZNRecord statusUpdate = helixDataAccessor.getProperty(controllerTaskStatus).getRecord();\r\n      Assert.assertEquals(\"\" + (_PARTITIONS * 3 / 5),\r\n          statusUpdate.getMapField(\"SentMessageCount\").get(\"MessageCount\"));\r\n      int messageResultCount = 0;\r\n      for (String key : statusUpdate.getMapFields().keySet()) {\r\n        if (key.startsWith(\"MessageResult\")) {\r\n          messageResultCount++;\r\n        }\r\n      }\r\n      Assert.assertEquals(messageResultCount, _PARTITIONS * 3 / 5);   -----> failing here\r\n\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696904776/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696907617","html_url":"https://github.com/apache/helix/issues/1389#issuecomment-696907617","issue_url":"https://api.github.com/repos/apache/helix/issues/1389","id":696907617,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjkwNzYxNw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T18:41:25Z","updated_at":"2020-09-22T18:41:25Z","author_association":"CONTRIBUTOR","body":"2020-09-22T04:54:44.5385233Z START TestSchedulerMessage testSchedulerMsg4 at Tue Sep 22 04:54:44 UTC 2020\r\n2020-09-22T04:54:44.5599266Z 972682 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(00839d99_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.5840162Z 972707 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(d1a6f049_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.5906565Z 972713 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(2d0e1ec7_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.6025495Z 972725 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(09765939_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.6128286Z 972736 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(4e00efd8_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.6425334Z 972761 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(4c177f43_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.6429702Z 972762 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(4c177f43_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.6895949Z 972812 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(8cf6f7f5_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.6902804Z 972813 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(8cf6f7f5_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.7171022Z 972840 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(afa5024f_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.7174791Z 972840 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(afa5024f_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.7586891Z 972882 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(2726d8e5_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.7590565Z 972882 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(2726d8e5_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.8171444Z 972936 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(c5b43dee_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.8174985Z 972936 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(c5b43dee_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.8603162Z 972981 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(bac86c07_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.8606435Z 972981 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(bac86c07_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.8977754Z 973020 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(ad4185d3_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.8981828Z 973020 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(ad4185d3_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.9445240Z 973067 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(89a82a98_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.9473174Z 973067 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(89a82a98_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.9821881Z 973105 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(1bb74084_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:44.9826049Z 973105 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(1bb74084_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.0149884Z 973138 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(0c5d70c2_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.0153691Z 973138 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(0c5d70c2_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.0513872Z 973173 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(e1dcc887_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.0518196Z 973173 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(e1dcc887_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.1139885Z 973235 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(88f9a0ae_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.1143728Z 973235 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(88f9a0ae_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.1693155Z 973289 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(c06a5e18_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.1696689Z 973289 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(c06a5e18_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.2013866Z 973322 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(e75803b5_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.2017155Z 973322 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(e75803b5_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.2384677Z 973358 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(71cea0d0_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.2387945Z 973358 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(71cea0d0_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.2792528Z 973399 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(faa34189_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.2795806Z 973399 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(faa34189_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.3044925Z 973425 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(27fdd9e8_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.3048195Z 973425 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(27fdd9e8_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.3564995Z 973477 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(33640223_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.3569413Z 973477 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(33640223_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.4001757Z 973520 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(24e2c0d1_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.4005362Z 973520 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(24e2c0d1_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.4253605Z 973548 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(99281099_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.4258798Z 973548 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(99281099_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.4573651Z 973580 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(eddc8c35_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.4578370Z 973580 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(eddc8c35_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.4903733Z 973613 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(d33bd79d_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.4911582Z 973614 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(d33bd79d_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.5189366Z 973642 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(7f2dbd7d_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.5197010Z 973643 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(7f2dbd7d_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.5627415Z 973685 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(eb5cf20a_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.5630982Z 973685 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(eb5cf20a_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.5911802Z 973714 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(a6974934_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.5920097Z 973715 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(a6974934_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.6127490Z 973736 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(835d006e_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.6135292Z 973737 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(835d006e_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.6465564Z 973769 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(29b26efe_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.6469093Z 973769 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(29b26efe_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.6787096Z 973801 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(3ad06084_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.6790673Z 973801 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(3ad06084_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.7331053Z 973855 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(47d887b0_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.7334859Z 973855 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(47d887b0_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.7623429Z 973885 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(0409d4da_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.7627041Z 973885 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(0409d4da_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.7922769Z 973914 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(918eed38_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.7926677Z 973914 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(918eed38_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.8321191Z 973954 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(79065bee_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.8324819Z 973954 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(79065bee_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.8692424Z 973991 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(e51bddd3_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.8696185Z 973991 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(e51bddd3_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.9036431Z 974026 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(54e73172_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.9040926Z 974026 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(54e73172_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.9252693Z 974047 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(a33ab0cf_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.9256330Z 974048 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(a33ab0cf_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.9539196Z 974076 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(2c8c75f4_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.9542859Z 974076 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(2c8c75f4_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.9867241Z 974109 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(5529a4db_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:45.9870887Z 974109 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(5529a4db_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.0227418Z 974145 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(66b27c4b_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.0231084Z 974145 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(66b27c4b_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.0417308Z 974164 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(094709a8_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.0420875Z 974164 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(094709a8_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.0615649Z 974184 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(b10e1b6b_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.0619316Z 974184 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(b10e1b6b_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.0851690Z 974208 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(8b5bcf42_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.0856051Z 974208 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(8b5bcf42_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.1121164Z 974235 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(d2c52114_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.1124683Z 974235 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(d2c52114_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.1382661Z 974260 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(2b8e7322_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.1392515Z 974260 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(2b8e7322_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.1654579Z 974288 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(7a690246_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.1664029Z 974288 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(7a690246_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.1886690Z 974311 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(ea92e464_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.1897085Z 974311 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(ea92e464_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.2153746Z 974337 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(cd862edc_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.2164738Z 974337 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(cd862edc_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.2403115Z 974362 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(ff0451bb_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.2406338Z 974362 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(ff0451bb_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.2579320Z 974380 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(c109d508_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.2587698Z 974380 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(c109d508_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.2827924Z 974404 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(d9bfef3a_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.2831174Z 974405 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(d9bfef3a_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3082675Z 974431 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(bff4bc88_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3086145Z 974431 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(bff4bc88_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3292462Z 974451 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(699c49ca_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3297068Z 974451 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(699c49ca_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3468168Z 974469 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(77f43b27_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3473072Z 974469 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(77f43b27_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3655217Z 974488 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(cc0e8cc4_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3665100Z 974488 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(cc0e8cc4_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3776757Z 974500 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(cbd9b57a_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3785063Z 974500 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(cbd9b57a_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3915969Z 974514 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(915b945b_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3919419Z 974514 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(915b945b_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3991755Z 974522 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(6ee10104_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg4 does not have number of partitions (was -1).\r\n2020-09-22T04:54:46.3995066Z 974522 [HelixController-pipeline-default-CLUSTER_TestSchedulerMessage-(6ee10104_DEFAULT)] ERROR org.apache.helix.model.IdealState  - idealState:TestSchedulerMsg3 does not have number of partitions (was -1).\r\n2020-09-22T04:54:49.5497429Z END TestSchedulerMessage testSchedulerMsg4 at Tue Sep 22 04:54:49 UTC 2020, took: 5010ms.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696907617/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696920455","html_url":"https://github.com/apache/helix/issues/1391#issuecomment-696920455","issue_url":"https://api.github.com/repos/apache/helix/issues/1391","id":696920455,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NjkyMDQ1NQ==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T19:05:24Z","updated_at":"2020-09-22T19:05:24Z","author_association":"CONTRIBUTOR","body":"Waged metrics related log in helix-rest.\r\n\r\n```\r\n18816 [HelixController-pipeline-default-TestCluster_0-(f7860f7e_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.waged.WagedRebalancer  - Failed to calculate the new assignments.\r\norg.apache.helix.HelixRebalanceException: Failed to generate cluster model for global rebalance. Failure Type: INVALID_CLUSTER_STATUS\r\n\tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.globalRebalance(WagedRebalancer.java:427)\r\n\tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:354)\r\n\tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n\tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n\tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n\tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n\tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n\tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n\tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n\tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n\tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\nCaused by: org.apache.helix.HelixException: The required capacity keys: [FOO, BAR] are not fully configured in the resource: TestCluster_0_db_0, partition: TestCluster_0_db_0_0, weight map: {}.\r\n\tat org.apache.helix.controller.rebalancer.util.WagedValidationUtil.validateAndGetPartitionCapacity(WagedValidationUtil.java:84)\r\n\tat org.apache.helix.controller.rebalancer.waged.model.AssignableReplica.fetchCapacityUsage(AssignableReplica.java:156)\r\n\tat org.apache.helix.controller.rebalancer.waged.model.AssignableReplica.<init>(AssignableReplica.java:65)\r\n\tat org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.lambda$getAllAssignableReplicas$14(ClusterModelProvider.java:483)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.HashMap$KeySpliterator.forEachRemaining(HashMap.java:1556)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:747)\r\n\tat java.util.stream.ReduceOps$ReduceTask.doLeaf(ReduceOps.java:721)\r\n\tat java.util.stream.AbstractTask.compute(AbstractTask.java:316)\r\n\tat java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:731)\r\n\tat java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:289)\r\n\tat java.util.concurrent.ForkJoinPool.helpComplete(ForkJoinPool.java:1870)\r\n\tat java.util.concurrent.ForkJoinPool.externalHelpComplete(ForkJoinPool.java:2467)\r\n\tat java.util.concurrent.ForkJoinTask.externalAwaitDone(ForkJoinTask.java:324)\r\n\tat java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:405)\r\n\tat java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:734)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateParallel(ReduceOps.java:714)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.getAllAssignableReplicas(ClusterModelProvider.java:488)\r\n\tat org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModel(ClusterModelProvider.java:147)\r\n\tat org.apache.helix.controller.rebalancer.waged.model.ClusterModelProvider.generateClusterModelForBaseline(ClusterModelProvider.java:97)\r\n\tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.globalRebalance(WagedRebalancer.java:424)\r\n\t... 10 more\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696920455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/696992692","html_url":"https://github.com/apache/helix/pull/1360#issuecomment-696992692","issue_url":"https://api.github.com/repos/apache/helix/issues/1360","id":696992692,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Njk5MjY5Mg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-22T21:29:36Z","updated_at":"2020-09-22T21:29:36Z","author_association":"CONTRIBUTOR","body":"This PR has been approved and re-tested after rebase to the master branch. It is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/696992692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697051671","html_url":"https://github.com/apache/helix/issues/1386#issuecomment-697051671","issue_url":"https://api.github.com/repos/apache/helix/issues/1386","id":697051671,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzA1MTY3MQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T00:28:44Z","updated_at":"2020-09-23T00:28:44Z","author_association":"CONTRIBUTOR","body":"```\r\n      StateTransitionThrottleConfig.RebalanceType rebalanceType = RebalanceType.NONE;\r\n      if (partitionsNeedRecovery.contains(partition)) {\r\n        rebalanceType = StateTransitionThrottleConfig.RebalanceType.RECOVERY_BALANCE;\r\n      } else if (partitionsNeedLoadbalance.contains(partition)) {\r\n        rebalanceType = StateTransitionThrottleConfig.RebalanceType.LOAD_BALANCE;\r\n      }\r\n-----> NONE can be passed in. Is it a problem ?\r\n      if (pendingMap.size() > 0) {\r\n        boolean shouldChargePartition = false;\r\n        for (String instance : pendingMap.keySet()) {\r\n          String currentState = currentStateMap.get(instance);\r\n          String pendingState = pendingMap.get(instance);\r\n          if (pendingState != null && !pendingState.equals(currentState)\r\n              && !cache.getDisabledInstancesForPartition(resourceName, partition.getPartitionName())\r\n              .contains(instance)) {\r\n            // Only charge this instance if the partition is not disabled\r\n            throttleController.chargeInstance(rebalanceType, instance);\r\n            shouldChargePartition = true;\r\n            // If there is a pending state transition for the partition, that means that an assignment\r\n            // has already been made and the state transition message has already been sent out for the partition\r\n            // in a previous pipeline run. We must honor this and reflect it by charging for the pending state transition message.\r\n\r\n            // Since the assignment has already been made for the pending message, we do a special treatment\r\n            // for it by setting the best possible state directly in intermediatePartitionStateMap so that the pending\r\n            // message won't be double-assigned or double-charged in recovery or load balance.\r\n            handlePendingStateTransitionsForThrottling(partition, partitionsNeedRecovery,\r\n                partitionsNeedLoadbalance, rebalanceType, bestPossiblePartitionStateMap,\r\n                intermediatePartitionStateMap);\r\n          }\r\n        }\r\n        if (shouldChargePartition) {\r\n          throttleController.chargeCluster(rebalanceType);\r\n          throttleController.chargeResource(rebalanceType, resourceName);\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697051671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697061887","html_url":"https://github.com/apache/helix/pull/1295#issuecomment-697061887","issue_url":"https://api.github.com/repos/apache/helix/issues/1295","id":697061887,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzA2MTg4Nw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T01:07:13Z","updated_at":"2020-09-23T01:08:06Z","author_association":"CONTRIBUTOR","body":"This diff is approved. Please help to merge\r\n\r\n>ZkClient connects to ZooKeeper before monitor bean\r\ninitialization and registration. This causes race condition that fails\r\nmetrics test. Fix this issue by properly construct the object.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697061887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697125318","html_url":"https://github.com/apache/helix/issues/1372#issuecomment-697125318","issue_url":"https://api.github.com/repos/apache/helix/issues/1372","id":697125318,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzEyNTMxOA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T04:21:25Z","updated_at":"2020-09-23T04:21:25Z","author_association":"CONTRIBUTOR","body":"LOG 1252 09/22 touch 10 after JJ's rebalancer change\r\n\r\n>2020-09-23T03:28:13.6548620Z [ERROR] stopDeleteJobAndResumeNamedQueue(org.apache.helix.integration.task.TestTaskRebalancerStopResume)  Time elapsed: 607.521 s  <<< FAILURE!\r\n2020-09-23T03:28:13.6551573Z org.apache.helix.HelixException: Workflow \"stopDeleteJobAndResumeNamedQueue\", job \"stopDeleteJobAndResumeNamedQueue_slaveJob2_second\" timed out\r\n2020-09-23T03:28:13.6555575Z \tat org.apache.helix.integration.task.TestTaskRebalancerStopResume.stopDeleteJobAndResumeNamedQueue(TestTaskRebalancerStopResume.java:247)\r\n2020-09-23T03:28:13.6559777Z ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697125318/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697130458","html_url":"https://github.com/apache/helix/issues/1369#issuecomment-697130458","issue_url":"https://api.github.com/repos/apache/helix/issues/1369","id":697130458,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzEzMDQ1OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T04:42:26Z","updated_at":"2020-09-23T04:42:26Z","author_association":"CONTRIBUTOR","body":"LOG 1252\r\n>2020-09-23T03:28:13.6540915Z [ERROR] testTaskRunningIndefinitely(org.apache.helix.integration.task.TestJobTimeout)  Time elapsed: 0.331 s  <<< FAILURE!\r\n2020-09-23T03:28:13.6542875Z java.lang.AssertionError: expected:<TASK_ABORTED> but was:<null>\r\n2020-09-23T03:28:13.6545099Z \tat org.apache.helix.integration.task.TestJobTimeout.testTaskRunningIndefinitely(TestJobTimeout.java:107)\r\n2020-09-23T03:28:13.6546952Z ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697130458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697133991","html_url":"https://github.com/apache/helix/issues/1392#issuecomment-697133991","issue_url":"https://api.github.com/repos/apache/helix/issues/1392","id":697133991,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzEzMzk5MQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T04:57:04Z","updated_at":"2020-09-23T04:57:04Z","author_association":"CONTRIBUTOR","body":"{\r\n  \"id\" : \"TestDB0\",\r\n  \"simpleFields\" : {\r\n    \"IDEAL_STATE_MODE\" : \"AUTO_REBALANCE\",\r\n    \"NUM_PARTITIONS\" : \"256\",\r\n    \"REBALANCE_MODE\" : \"FULL_AUTO\",\r\n    \"REBALANCE_STRATEGY\" : \"DEFAULT\",\r\n    \"REPLICAS\" : \"1\",\r\n    \"STATE_MODEL_DEF_REF\" : \"LeaderStandby\",\r\n    \"STATE_MODEL_FACTORY_NAME\" : \"DEFAULT\"\r\n  },\r\n  \"mapFields\" : {\r\n    \"TestDB0_0\" : { },\r\n    \"TestDB0_1\" : { },\r\n    \"TestDB0_10\" : { },\r\n    \"TestDB0_100\" : { },\r\n    \"TestDB0_101\" : { },\r\n    \"TestDB0_102\" : { },\r\n    \"TestDB0_103\" : { },\r\n    \"TestDB0_104\" : { },\r\n    \"TestDB0_105\" : { },\r\n    \"TestDB0_106\" : { },\r\n    \"TestDB0_107\" : { },\r\n    \"TestDB0_108\" : { },\r\n    \"TestDB0_109\" : { },\r\n    \"TestDB0_11\" : { },\r\n    \"TestDB0_110\" : { },\r\n    \"TestDB0_111\" : { },\r\n    \"TestDB0_112\" : { },\r\n    \"TestDB0_113\" : { },\r\n    \"TestDB0_114\" : { },\r\n    \"TestDB0_115\" : { },\r\n    \"TestDB0_116\" : { },\r\n    \"TestDB0_117\" : { },\r\n    \"TestDB0_118\" : { },\r\n    \"TestDB0_119\" : { },\r\n    \"TestDB0_12\" : { },\r\n    \"TestDB0_120\" : { },\r\n    \"TestDB0_121\" : { },\r\n    \"TestDB0_122\" : { },\r\n    \"TestDB0_123\" : { },\r\n    \"TestDB0_124\" : { },\r\n    \"TestDB0_125\" : { },\r\n    \"TestDB0_126\" : { },\r\n    \"TestDB0_127\" : { },\r\n    \"TestDB0_128\" : { },\r\n    \"TestDB0_129\" : { },\r\n    \"TestDB0_13\" : { },\r\n    \"TestDB0_130\" : { },\r\n    \"TestDB0_131\" : { },\r\n    \"TestDB0_132\" : { },\r\n    \"TestDB0_133\" : { },\r\n    \"TestDB0_134\" : { },\r\n    \"TestDB0_135\" : { },\r\n    \"TestDB0_136\" : { },\r\n    \"TestDB0_137\" : { },\r\n    \"TestDB0_138\" : { },\r\n    \"TestDB0_139\" : { },\r\n    \"TestDB0_14\" : { },\r\n    \"TestDB0_140\" : { },\r\n    \"TestDB0_141\" : { },\r\n    \"TestDB0_142\" : { },\r\n    \"TestDB0_143\" : { },\r\n    \"TestDB0_144\" : { },\r\n    \"TestDB0_145\" : { },\r\n    \"TestDB0_146\" : { },\r\n    \"TestDB0_147\" : { },\r\n    \"TestDB0_148\" : { },\r\n    \"TestDB0_149\" : { },\r\n    \"TestDB0_15\" : { },\r\n    \"TestDB0_150\" : { },\r\n    \"TestDB0_151\" : { },\r\n    \"TestDB0_152\" : { },\r\n    \"TestDB0_153\" : { },\r\n    \"TestDB0_154\" : { },\r\n    \"TestDB0_155\" : { },\r\n    \"TestDB0_156\" : { },\r\n    \"TestDB0_157\" : { },\r\n    \"TestDB0_158\" : { },\r\n    \"TestDB0_159\" : { },\r\n    \"TestDB0_16\" : { },\r\n    \"TestDB0_160\" : { },\r\n    \"TestDB0_161\" : { },\r\n    \"TestDB0_162\" : { },\r\n    \"TestDB0_163\" : { },\r\n    \"TestDB0_164\" : { },\r\n    \"TestDB0_165\" : { },\r\n    \"TestDB0_166\" : { },\r\n    \"TestDB0_167\" : { },\r\n    \"TestDB0_168\" : { },\r\n    \"TestDB0_169\" : { },\r\n    \"TestDB0_17\" : { },\r\n    \"TestDB0_170\" : { },\r\n    \"TestDB0_171\" : { },\r\n    \"TestDB0_172\" : { },\r\n    \"TestDB0_173\" : { },\r\n    \"TestDB0_174\" : { },\r\n    \"TestDB0_175\" : { },\r\n    \"TestDB0_176\" : { },\r\n    \"TestDB0_177\" : { },\r\n    \"TestDB0_178\" : { },\r\n    \"TestDB0_179\" : { },\r\n    \"TestDB0_18\" : { },\r\n    \"TestDB0_180\" : { },\r\n    \"TestDB0_181\" : { },\r\n    \"TestDB0_182\" : { },\r\n    \"TestDB0_183\" : { },\r\n    \"TestDB0_184\" : { },\r\n    \"TestDB0_185\" : { },\r\n    \"TestDB0_186\" : { },\r\n    \"TestDB0_187\" : { },\r\n    \"TestDB0_188\" : { },\r\n    \"TestDB0_189\" : { },\r\n    \"TestDB0_19\" : { },\r\n    \"TestDB0_190\" : { },\r\n    \"TestDB0_191\" : { },\r\n    \"TestDB0_192\" : { },\r\n    \"TestDB0_193\" : { },\r\n    \"TestDB0_194\" : { },\r\n    \"TestDB0_195\" : { },\r\n    \"TestDB0_196\" : { },\r\n    \"TestDB0_197\" : { },\r\n    \"TestDB0_198\" : { },\r\n    \"TestDB0_199\" : { },\r\n    \"TestDB0_2\" : { },\r\n    \"TestDB0_20\" : { },\r\n    \"TestDB0_200\" : { },\r\n    \"TestDB0_201\" : { },\r\n    \"TestDB0_202\" : { },\r\n    \"TestDB0_203\" : { },\r\n    \"TestDB0_204\" : { },\r\n    \"TestDB0_205\" : { },\r\n    \"TestDB0_206\" : { },\r\n    \"TestDB0_207\" : { },\r\n    \"TestDB0_208\" : { },\r\n    \"TestDB0_209\" : { },\r\n    \"TestDB0_21\" : { },\r\n    \"TestDB0_210\" : { },\r\n    \"TestDB0_211\" : { },\r\n    \"TestDB0_212\" : { },\r\n    \"TestDB0_213\" : { },\r\n    \"TestDB0_214\" : { },\r\n    \"TestDB0_215\" : { },\r\n    \"TestDB0_216\" : { },\r\n    \"TestDB0_217\" : { },\r\n    \"TestDB0_218\" : { },\r\n    \"TestDB0_219\" : { },\r\n    \"TestDB0_22\" : { },\r\n    \"TestDB0_220\" : { },\r\n    \"TestDB0_221\" : { },\r\n    \"TestDB0_222\" : { },\r\n    \"TestDB0_223\" : { },\r\n    \"TestDB0_224\" : { },\r\n    \"TestDB0_225\" : { },\r\n    \"TestDB0_226\" : { },\r\n    \"TestDB0_227\" : { },\r\n    \"TestDB0_228\" : { },\r\n    \"TestDB0_229\" : { },\r\n    \"TestDB0_23\" : { },\r\n    \"TestDB0_230\" : { },\r\n    \"TestDB0_231\" : { },\r\n    \"TestDB0_232\" : { },\r\n    \"TestDB0_233\" : { },\r\n    \"TestDB0_234\" : { },\r\n    \"TestDB0_235\" : { },\r\n    \"TestDB0_236\" : { },\r\n    \"TestDB0_237\" : { },\r\n    \"TestDB0_238\" : { },\r\n    \"TestDB0_239\" : { },\r\n    \"TestDB0_24\" : { },\r\n    \"TestDB0_240\" : { },\r\n    \"TestDB0_241\" : { },\r\n    \"TestDB0_242\" : { },\r\n    \"TestDB0_243\" : { },\r\n    \"TestDB0_244\" : { },\r\n    \"TestDB0_245\" : { },\r\n    \"TestDB0_246\" : { },\r\n    \"TestDB0_247\" : { },\r\n    \"TestDB0_248\" : { },\r\n    \"TestDB0_249\" : { },\r\n    \"TestDB0_25\" : { },\r\n    \"TestDB0_250\" : { },\r\n    \"TestDB0_251\" : { },\r\n    \"TestDB0_252\" : { },\r\n    \"TestDB0_253\" : { },\r\n    \"TestDB0_254\" : { },\r\n    \"TestDB0_255\" : { },\r\n    \"TestDB0_26\" : { },\r\n    \"TestDB0_27\" : { },\r\n    \"TestDB0_28\" : { },\r\n    \"TestDB0_29\" : { },\r\n    \"TestDB0_3\" : { },\r\n    \"TestDB0_30\" : { },\r\n    \"TestDB0_31\" : { },\r\n    \"TestDB0_32\" : { },\r\n    \"TestDB0_33\" : { },\r\n    \"TestDB0_34\" : { },\r\n    \"TestDB0_35\" : { },\r\n    \"TestDB0_36\" : { },\r\n    \"TestDB0_37\" : { },\r\n    \"TestDB0_38\" : { },\r\n    \"TestDB0_39\" : { },\r\n    \"TestDB0_4\" : { },\r\n    \"TestDB0_40\" : { },\r\n    \"TestDB0_41\" : { },\r\n    \"TestDB0_42\" : { },\r\n    \"TestDB0_43\" : { },\r\n    \"TestDB0_44\" : { },\r\n    \"TestDB0_45\" : { },\r\n    \"TestDB0_46\" : { },\r\n    \"TestDB0_47\" : { },\r\n    \"TestDB0_48\" : { },\r\n    \"TestDB0_49\" : { },\r\n    \"TestDB0_5\" : { },\r\n    \"TestDB0_50\" : { },\r\n    \"TestDB0_51\" : { },\r\n    \"TestDB0_52\" : { },\r\n    \"TestDB0_53\" : { },\r\n    \"TestDB0_54\" : { },\r\n    \"TestDB0_55\" : { },\r\n    \"TestDB0_56\" : { },\r\n    \"TestDB0_57\" : { },\r\n    \"TestDB0_58\" : { },\r\n    \"TestDB0_59\" : { },\r\n    \"TestDB0_6\" : { },\r\n    \"TestDB0_60\" : { },\r\n    \"TestDB0_61\" : { },\r\n    \"TestDB0_62\" : { },\r\n    \"TestDB0_63\" : { },\r\n    \"TestDB0_64\" : { },\r\n    \"TestDB0_65\" : { },\r\n    \"TestDB0_66\" : { },\r\n    \"TestDB0_67\" : { },\r\n    \"TestDB0_68\" : { },\r\n    \"TestDB0_69\" : { },\r\n    \"TestDB0_7\" : { },\r\n    \"TestDB0_70\" : { },\r\n    \"TestDB0_71\" : { },\r\n    \"TestDB0_72\" : { },\r\n    \"TestDB0_73\" : { },\r\n    \"TestDB0_74\" : { },\r\n    \"TestDB0_75\" : { },\r\n    \"TestDB0_76\" : { },\r\n    \"TestDB0_77\" : { },\r\n    \"TestDB0_78\" : { },\r\n    \"TestDB0_79\" : { },\r\n    \"TestDB0_8\" : { },\r\n    \"TestDB0_80\" : { },\r\n    \"TestDB0_81\" : { },\r\n    \"TestDB0_82\" : { },\r\n    \"TestDB0_83\" : { },\r\n    \"TestDB0_84\" : { },\r\n    \"TestDB0_85\" : { },\r\n    \"TestDB0_86\" : { },\r\n    \"TestDB0_87\" : { },\r\n    \"TestDB0_88\" : { },\r\n    \"TestDB0_89\" : { },\r\n    \"TestDB0_9\" : { },\r\n    \"TestDB0_90\" : { },\r\n    \"TestDB0_91\" : { },\r\n    \"TestDB0_92\" : { },\r\n    \"TestDB0_93\" : { },\r\n    \"TestDB0_94\" : { },\r\n    \"TestDB0_95\" : { },\r\n    \"TestDB0_96\" : { },\r\n    \"TestDB0_97\" : { },\r\n    \"TestDB0_98\" : { },\r\n    \"TestDB0_99\" : { }\r\n  },\r\n  \"listFields\" : {\r\n    \"TestDB0_0\" : [ ],\r\n    \"TestDB0_1\" : [ ],\r\n    \"TestDB0_10\" : [ ],\r\n    \"TestDB0_100\" : [ ],\r\n    \"TestDB0_101\" : [ ],\r\n    \"TestDB0_102\" : [ ],\r\n    \"TestDB0_103\" : [ ],\r\n    \"TestDB0_104\" : [ ],\r\n    \"TestDB0_105\" : [ ],\r\n    \"TestDB0_106\" : [ ],\r\n    \"TestDB0_107\" : [ ],\r\n    \"TestDB0_108\" : [ ],\r\n    \"TestDB0_109\" : [ ],\r\n    \"TestDB0_11\" : [ ],\r\n    \"TestDB0_110\" : [ ],\r\n    \"TestDB0_111\" : [ ],\r\n    \"TestDB0_112\" : [ ],\r\n    \"TestDB0_113\" : [ ],\r\n    \"TestDB0_114\" : [ ],\r\n    \"TestDB0_115\" : [ ],\r\n    \"TestDB0_116\" : [ ],\r\n    \"TestDB0_117\" : [ ],\r\n    \"TestDB0_118\" : [ ],\r\n    \"TestDB0_119\" : [ ],\r\n    \"TestDB0_12\" : [ ],\r\n    \"TestDB0_120\" : [ ],\r\n    \"TestDB0_121\" : [ ],\r\n    \"TestDB0_122\" : [ ],\r\n    \"TestDB0_123\" : [ ],\r\n    \"TestDB0_124\" : [ ],\r\n    \"TestDB0_125\" : [ ],\r\n    \"TestDB0_126\" : [ ],\r\n    \"TestDB0_127\" : [ ],\r\n    \"TestDB0_128\" : [ ],\r\n    \"TestDB0_129\" : [ ],\r\n    \"TestDB0_13\" : [ ],\r\n    \"TestDB0_130\" : [ ],\r\n    \"TestDB0_131\" : [ ],\r\n    \"TestDB0_132\" : [ ],\r\n    \"TestDB0_133\" : [ ],\r\n    \"TestDB0_134\" : [ ],\r\n    \"TestDB0_135\" : [ ],\r\n    \"TestDB0_136\" : [ ],\r\n    \"TestDB0_137\" : [ ],\r\n    \"TestDB0_138\" : [ ],\r\n    \"TestDB0_139\" : [ ],\r\n    \"TestDB0_14\" : [ ],\r\n    \"TestDB0_140\" : [ ],\r\n    \"TestDB0_141\" : [ ],\r\n    \"TestDB0_142\" : [ ],\r\n    \"TestDB0_143\" : [ ],\r\n    \"TestDB0_144\" : [ ],\r\n    \"TestDB0_145\" : [ ],\r\n    \"TestDB0_146\" : [ ],\r\n    \"TestDB0_147\" : [ ],\r\n    \"TestDB0_148\" : [ ],\r\n    \"TestDB0_149\" : [ ],\r\n    \"TestDB0_15\" : [ ],\r\n    \"TestDB0_150\" : [ ],\r\n    \"TestDB0_151\" : [ ],\r\n    \"TestDB0_152\" : [ ],\r\n    \"TestDB0_153\" : [ ],\r\n    \"TestDB0_154\" : [ ],\r\n    \"TestDB0_155\" : [ ],\r\n    \"TestDB0_156\" : [ ],\r\n    \"TestDB0_157\" : [ ],\r\n    \"TestDB0_158\" : [ ],\r\n    \"TestDB0_159\" : [ ],\r\n    \"TestDB0_16\" : [ ],\r\n    \"TestDB0_160\" : [ ],\r\n    \"TestDB0_161\" : [ ],\r\n    \"TestDB0_162\" : [ ],\r\n    \"TestDB0_163\" : [ ],\r\n    \"TestDB0_164\" : [ ],\r\n    \"TestDB0_165\" : [ ],\r\n    \"TestDB0_166\" : [ ],\r\n    \"TestDB0_167\" : [ ],\r\n    \"TestDB0_168\" : [ ],\r\n    \"TestDB0_169\" : [ ],\r\n    \"TestDB0_17\" : [ ],\r\n    \"TestDB0_170\" : [ ],\r\n    \"TestDB0_171\" : [ ],\r\n    \"TestDB0_172\" : [ ],\r\n    \"TestDB0_173\" : [ ],\r\n    \"TestDB0_174\" : [ ],\r\n    \"TestDB0_175\" : [ ],\r\n    \"TestDB0_176\" : [ ],\r\n    \"TestDB0_177\" : [ ],\r\n    \"TestDB0_178\" : [ ],\r\n    \"TestDB0_179\" : [ ],\r\n    \"TestDB0_18\" : [ ],\r\n    \"TestDB0_180\" : [ ],\r\n    \"TestDB0_181\" : [ ],\r\n    \"TestDB0_182\" : [ ],\r\n    \"TestDB0_183\" : [ ],\r\n    \"TestDB0_184\" : [ ],\r\n    \"TestDB0_185\" : [ ],\r\n    \"TestDB0_186\" : [ ],\r\n    \"TestDB0_187\" : [ ],\r\n    \"TestDB0_188\" : [ ],\r\n    \"TestDB0_189\" : [ ],\r\n    \"TestDB0_19\" : [ ],\r\n    \"TestDB0_190\" : [ ],\r\n    \"TestDB0_191\" : [ ],\r\n    \"TestDB0_192\" : [ ],\r\n    \"TestDB0_193\" : [ ],\r\n    \"TestDB0_194\" : [ ],\r\n    \"TestDB0_195\" : [ ],\r\n    \"TestDB0_196\" : [ ],\r\n    \"TestDB0_197\" : [ ],\r\n    \"TestDB0_198\" : [ ],\r\n    \"TestDB0_199\" : [ ],\r\n    \"TestDB0_2\" : [ ],\r\n    \"TestDB0_20\" : [ ],\r\n    \"TestDB0_200\" : [ ],\r\n    \"TestDB0_201\" : [ ],\r\n    \"TestDB0_202\" : [ ],\r\n    \"TestDB0_203\" : [ ],\r\n    \"TestDB0_204\" : [ ],\r\n    \"TestDB0_205\" : [ ],\r\n    \"TestDB0_206\" : [ ],\r\n    \"TestDB0_207\" : [ ],\r\n    \"TestDB0_208\" : [ ],\r\n    \"TestDB0_209\" : [ ],\r\n    \"TestDB0_21\" : [ ],\r\n    \"TestDB0_210\" : [ ],\r\n    \"TestDB0_211\" : [ ],\r\n    \"TestDB0_212\" : [ ],\r\n    \"TestDB0_213\" : [ ],\r\n    \"TestDB0_214\" : [ ],\r\n    \"TestDB0_215\" : [ ],\r\n    \"TestDB0_216\" : [ ],\r\n    \"TestDB0_217\" : [ ],\r\n    \"TestDB0_218\" : [ ],\r\n    \"TestDB0_219\" : [ ],\r\n    \"TestDB0_22\" : [ ],\r\n    \"TestDB0_220\" : [ ],\r\n    \"TestDB0_221\" : [ ],\r\n    \"TestDB0_222\" : [ ],\r\n    \"TestDB0_223\" : [ ],\r\n    \"TestDB0_224\" : [ ],\r\n    \"TestDB0_225\" : [ ],\r\n    \"TestDB0_226\" : [ ],\r\n    \"TestDB0_227\" : [ ],\r\n    \"TestDB0_228\" : [ ],\r\n    \"TestDB0_229\" : [ ],\r\n    \"TestDB0_23\" : [ ],\r\n    \"TestDB0_230\" : [ ],\r\n    \"TestDB0_231\" : [ ],\r\n    \"TestDB0_232\" : [ ],\r\n    \"TestDB0_233\" : [ ],\r\n    \"TestDB0_234\" : [ ],\r\n    \"TestDB0_235\" : [ ],\r\n    \"TestDB0_236\" : [ ],\r\n    \"TestDB0_237\" : [ ],\r\n    \"TestDB0_238\" : [ ],\r\n    \"TestDB0_239\" : [ ],\r\n    \"TestDB0_24\" : [ ],\r\n    \"TestDB0_240\" : [ ],\r\n    \"TestDB0_241\" : [ ],\r\n    \"TestDB0_242\" : [ ],\r\n    \"TestDB0_243\" : [ ],\r\n    \"TestDB0_244\" : [ ],\r\n    \"TestDB0_245\" : [ ],\r\n    \"TestDB0_246\" : [ ],\r\n    \"TestDB0_247\" : [ ],\r\n    \"TestDB0_248\" : [ ],\r\n    \"TestDB0_249\" : [ ],\r\n    \"TestDB0_25\" : [ ],\r\n    \"TestDB0_250\" : [ ],\r\n    \"TestDB0_251\" : [ ],\r\n    \"TestDB0_252\" : [ ],\r\n    \"TestDB0_253\" : [ ],\r\n    \"TestDB0_254\" : [ ],\r\n    \"TestDB0_255\" : [ ],\r\n    \"TestDB0_26\" : [ ],\r\n    \"TestDB0_27\" : [ ],\r\n    \"TestDB0_28\" : [ ],\r\n    \"TestDB0_29\" : [ ],\r\n    \"TestDB0_3\" : [ ],\r\n    \"TestDB0_30\" : [ ],\r\n    \"TestDB0_31\" : [ ],\r\n    \"TestDB0_32\" : [ ],\r\n    \"TestDB0_33\" : [ ],\r\n    \"TestDB0_34\" : [ ],\r\n    \"TestDB0_35\" : [ ],\r\n    \"TestDB0_36\" : [ ],\r\n    \"TestDB0_37\" : [ ],\r\n    \"TestDB0_38\" : [ ],\r\n    \"TestDB0_39\" : [ ],\r\n    \"TestDB0_4\" : [ ],\r\n    \"TestDB0_40\" : [ ],\r\n    \"TestDB0_41\" : [ ],\r\n    \"TestDB0_42\" : [ ],\r\n    \"TestDB0_43\" : [ ],\r\n    \"TestDB0_44\" : [ ],\r\n    \"TestDB0_45\" : [ ],\r\n    \"TestDB0_46\" : [ ],\r\n    \"TestDB0_47\" : [ ],\r\n    \"TestDB0_48\" : [ ],\r\n    \"TestDB0_49\" : [ ],\r\n    \"TestDB0_5\" : [ ],\r\n    \"TestDB0_50\" : [ ],\r\n    \"TestDB0_51\" : [ ],\r\n    \"TestDB0_52\" : [ ],\r\n    \"TestDB0_53\" : [ ],\r\n    \"TestDB0_54\" : [ ],\r\n    \"TestDB0_55\" : [ ],\r\n    \"TestDB0_56\" : [ ],\r\n    \"TestDB0_57\" : [ ],\r\n    \"TestDB0_58\" : [ ],\r\n    \"TestDB0_59\" : [ ],\r\n    \"TestDB0_6\" : [ ],\r\n    \"TestDB0_60\" : [ ],\r\n    \"TestDB0_61\" : [ ],\r\n    \"TestDB0_62\" : [ ],\r\n    \"TestDB0_63\" : [ ],\r\n    \"TestDB0_64\" : [ ],\r\n    \"TestDB0_65\" : [ ],\r\n    \"TestDB0_66\" : [ ],\r\n    \"TestDB0_67\" : [ ],\r\n    \"TestDB0_68\" : [ ],\r\n    \"TestDB0_69\" : [ ],\r\n    \"TestDB0_7\" : [ ],\r\n    \"TestDB0_70\" : [ ],\r\n    \"TestDB0_71\" : [ ],\r\n    \"TestDB0_72\" : [ ],\r\n    \"TestDB0_73\" : [ ],\r\n    \"TestDB0_74\" : [ ],\r\n    \"TestDB0_75\" : [ ],\r\n    \"TestDB0_76\" : [ ],\r\n    \"TestDB0_77\" : [ ],\r\n    \"TestDB0_78\" : [ ],\r\n    \"TestDB0_79\" : [ ],\r\n    \"TestDB0_8\" : [ ],\r\n    \"TestDB0_80\" : [ ],\r\n    \"TestDB0_81\" : [ ],\r\n    \"TestDB0_82\" : [ ],\r\n    \"TestDB0_83\" : [ ],\r\n    \"TestDB0_84\" : [ ],\r\n    \"TestDB0_85\" : [ ],\r\n    \"TestDB0_86\" : [ ],\r\n    \"TestDB0_87\" : [ ],\r\n    \"TestDB0_88\" : [ ],\r\n    \"TestDB0_89\" : [ ],\r\n    \"TestDB0_9\" : [ ],\r\n    \"TestDB0_90\" : [ ],\r\n    \"TestDB0_91\" : [ ],\r\n    \"TestDB0_92\" : [ ],\r\n    \"TestDB0_93\" : [ ],\r\n    \"TestDB0_94\" : [ ],\r\n    \"TestDB0_95\" : [ ],\r\n    \"TestDB0_96\" : [ ],\r\n    \"TestDB0_97\" : [ ],\r\n    \"TestDB0_98\" : [ ],\r\n    \"TestDB0_99\" : [ ]\r\n  }\r\n}","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697133991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697137981","html_url":"https://github.com/apache/helix/issues/1393#issuecomment-697137981","issue_url":"https://api.github.com/repos/apache/helix/issues/1393","id":697137981,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzEzNzk4MQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T05:12:07Z","updated_at":"2020-09-23T05:12:07Z","author_association":"CONTRIBUTOR","body":"START TestFullAutoNodeTagging_testSafeAssignment at Tue Sep 22 22:01:39 PDT 2020\r\n0    [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(f23303a1_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n24   [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(fadbd556_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n32   [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(f21f0ad2_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n38   [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(2a2175b5_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n44   [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(e3221ee4_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n58   [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(ea9dba6c_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n66   [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(0e952013_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n76   [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(1e6ea235_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n328580 [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(d515f963_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n328592 [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(ec6849fd_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n328612 [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(3442e8cb_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n328617 [HelixController-pipeline-default-TestFullAutoNodeTagging_testSafeAssignment-(6d028faa_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12922, localhost_12924, localhost_12925, localhost_12920], liveInstances: [], activeInstances: []\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697137981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697138041","html_url":"https://github.com/apache/helix/issues/1393#issuecomment-697138041","issue_url":"https://api.github.com/repos/apache/helix/issues/1393","id":697138041,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzEzODA0MQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T05:12:22Z","updated_at":"2020-09-23T05:12:22Z","author_association":"CONTRIBUTOR","body":"{\r\n  \"id\" : \"TestDB0\",\r\n  \"simpleFields\" : {\r\n    \"IDEAL_STATE_MODE\" : \"AUTO_REBALANCE\",\r\n    \"INSTANCE_GROUP_TAG\" : \"ASSIGNABLE\",\r\n    \"NUM_PARTITIONS\" : \"4\",\r\n    \"REBALANCE_MODE\" : \"FULL_AUTO\",\r\n    \"REBALANCE_STRATEGY\" : \"DEFAULT\",\r\n    \"REPLICAS\" : \"2\",\r\n    \"STATE_MODEL_DEF_REF\" : \"MasterSlave\",\r\n    \"STATE_MODEL_FACTORY_NAME\" : \"DEFAULT\"\r\n  },\r\n  \"mapFields\" : {\r\n    \"TestDB0_0\" : { },\r\n    \"TestDB0_1\" : { },\r\n    \"TestDB0_2\" : { },\r\n    \"TestDB0_3\" : { }\r\n  },\r\n  \"listFields\" : {\r\n    \"TestDB0_0\" : [ ],\r\n    \"TestDB0_1\" : [ ],\r\n    \"TestDB0_2\" : [ ],\r\n    \"TestDB0_3\" : [ ]\r\n  }\r\n}","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697138041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697138145","html_url":"https://github.com/apache/helix/issues/1393#issuecomment-697138145","issue_url":"https://api.github.com/repos/apache/helix/issues/1393","id":697138145,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzEzODE0NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T05:12:47Z","updated_at":"2020-09-23T05:12:47Z","author_association":"CONTRIBUTOR","body":"Similar to #1392 ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697138145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697144622","html_url":"https://github.com/apache/helix/issues/1374#issuecomment-697144622","issue_url":"https://api.github.com/repos/apache/helix/issues/1374","id":697144622,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE0NDYyMg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T05:36:29Z","updated_at":"2020-09-23T05:36:29Z","author_association":"CONTRIBUTOR","body":"LOG 1244 after default to delayedAutoRebalancer\r\n\r\n>2020-09-23T03:25:49.9699881Z [ERROR] testAutoRebalance(org.apache.helix.integration.rebalancer.TestAutoRebalance)  Time elapsed: 31.639 s  <<< FAILURE!\r\n2020-09-23T03:25:49.9701635Z java.lang.AssertionError: expected:<true> but was:<false>\r\n2020-09-23T03:25:49.9703882Z \tat org.apache.helix.integration.rebalancer.TestAutoRebalance.testAutoRebalance(TestAutoRebalance.java:179)\r\n2020-09-23T03:25:49.9706164Z ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697144622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697144985","html_url":"https://github.com/apache/helix/issues/1374#issuecomment-697144985","issue_url":"https://api.github.com/repos/apache/helix/issues/1374","id":697144985,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE0NDk4NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T05:37:44Z","updated_at":"2020-09-23T05:37:44Z","author_association":"CONTRIBUTOR","body":"```\r\n    Thread.sleep(TestHelper.DEFAULT_REBALANCE_PROCESSING_WAIT_TIME);\r\n    result = ClusterStateVerifier.verifyByPolling(\r\n        new ExternalViewBalancedVerifier(_gZkClient, CLUSTER_NAME, TEST_DB), 30000, 100);\r\n    Assert.assertTrue(result);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697144985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697150314","html_url":"https://github.com/apache/helix/issues/1392#issuecomment-697150314","issue_url":"https://api.github.com/repos/apache/helix/issues/1392","id":697150314,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE1MDMxNA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T05:56:15Z","updated_at":"2020-09-23T05:56:15Z","author_association":"CONTRIBUTOR","body":"LOG 1250\r\n>2020-09-23T03:18:05.5036929Z [ERROR] test(org.apache.helix.integration.controller.TestControllerLiveLock)  Time elapsed: 40.744 s  <<< FAILURE!\r\n2020-09-23T03:18:05.5040884Z java.lang.AssertionError: expected:<true> but was:<false>\r\n2020-09-23T03:18:05.5046238Z \tat org.apache.helix.integration.controller.TestControllerLiveLock.test(TestControllerLiveLock.java:91)\r\n2020-09-23T03:18:05.5047765Z \r\n2020-09-23T03:18:05.9146727Z [ERROR] Failures: \r\n2020-09-23T03:18:05.9150902Z [ERROR]   TestControllerLiveLock.test:91 expected:<true> but was:<false>\r\n2020-09-23T03:18:05.9160512Z [ERROR] Tests run: 1196, Failures: 1, Errors: 0, Skipped: 1","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697150314/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697181733","html_url":"https://github.com/apache/helix/issues/1392#issuecomment-697181733","issue_url":"https://api.github.com/repos/apache/helix/issues/1392","id":697181733,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE4MTczMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T07:17:24Z","updated_at":"2020-09-23T07:17:24Z","author_association":"CONTRIBUTOR","body":"2020-09-23T05:29:28.6492530Z 2436904 [HelixController-pipeline-default-TestControllerLiveLock_test-(19097af4_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.DelayedAutoRebalancer  - No instances or active instances available for resource TestDB0, allInstances: [localhost_12919, localhost_12926, localhost_12927, localhost_12928, localhost_12929, localhost_12918, localhost_12922, localhost_12923, localhost_12924, localhost_12925, localhost_12920, localhost_12921], liveInstances: [], activeInstances: []","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697181733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697181939","html_url":"https://github.com/apache/helix/issues/1392#issuecomment-697181939","issue_url":"https://api.github.com/repos/apache/helix/issues/1392","id":697181939,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzE4MTkzOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T07:17:50Z","updated_at":"2020-09-23T07:17:50Z","author_association":"CONTRIBUTOR","body":"start up controller later would be eliminate the above error message","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697181939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697222890","html_url":"https://github.com/apache/helix/issues/1393#issuecomment-697222890","issue_url":"https://api.github.com/repos/apache/helix/issues/1393","id":697222890,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NzIyMjg5MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T08:42:07Z","updated_at":"2020-09-23T08:42:07Z","author_association":"CONTRIBUTOR","body":"This case seems to be DelayedAutoRebalancer with AutoRebalanceStrategy","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697222890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697847011","html_url":"https://github.com/apache/helix/issues/1374#issuecomment-697847011","issue_url":"https://api.github.com/repos/apache/helix/issues/1374","id":697847011,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Nzg0NzAxMQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T18:29:50Z","updated_at":"2020-09-23T18:30:53Z","author_association":"CONTRIBUTOR","body":"```\r\n    // setup storage cluster\r\n    _gSetupTool.addCluster(CLUSTER_NAME, true);\r\n    _gSetupTool.addResourceToCluster(CLUSTER_NAME, TEST_DB, _PARTITIONS, STATE_MODEL,\r\n        RebalanceMode.FULL_AUTO + \"\");\r\n```\r\n\r\nThis previously using AutoRebalancer with AutoRebalance strategy, now it is using DelayedAutoRebalancer with AutoRebalance strategy. Shall we change to using AutoRebalancer with AutoRebalanceStrategy, as we are testing AutoRebalance? @jiajunwang ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697847011/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697947464","html_url":"https://github.com/apache/helix/pull/1355#issuecomment-697947464","issue_url":"https://api.github.com/repos/apache/helix/issues/1355","id":697947464,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Nzk0NzQ2NA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T20:13:34Z","updated_at":"2020-09-23T20:13:34Z","author_association":"CONTRIBUTOR","body":"This pull request is approved, please help to merge\r\n\r\n>CallbackHandlder and ZkClient methods are invoked over multiple threads.\r\nIt can be hard to correlate one object's execution thread over multiple\r\njava threads. This poses a serious issue in production log examination.\r\n\r\nWe propose to add unique id to each methods' logging to help the\r\ncorrelation and also track the object's life cycle.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697947464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/697986198","html_url":"https://github.com/apache/helix/pull/1398#issuecomment-697986198","issue_url":"https://api.github.com/repos/apache/helix/issues/1398","id":697986198,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Nzk4NjE5OA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T21:37:41Z","updated_at":"2020-09-23T21:37:41Z","author_association":"NONE","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/697986198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698004239","html_url":"https://github.com/apache/helix/issues/1381#issuecomment-698004239","issue_url":"https://api.github.com/repos/apache/helix/issues/1381","id":698004239,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODAwNDIzOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T22:26:51Z","updated_at":"2020-09-23T22:31:58Z","author_association":"CONTRIBUTOR","body":"LOG 1263\r\n\r\n>2020-09-23T06:09:41.3248613Z [ERROR] testDuplicateMsg(org.apache.helix.controller.stages.TestRebalancePipeline)  Time elapsed: 60.082 s  <<< FAILURE!\r\n2020-09-23T06:09:41.3250269Z java.lang.AssertionError: expected:< true > but was:< false >\r\n2020-09-23T06:09:41.3252484Z \tat org.apache.helix.controller.stages.TestRebalancePipeline.testDuplicateMsg(TestRebalancePipeline.java:158)\r\n2020-09-23T06:09:41.3254310Z ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698004239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698004430","html_url":"https://github.com/apache/helix/issues/1369#issuecomment-698004430","issue_url":"https://api.github.com/repos/apache/helix/issues/1369","id":698004430,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODAwNDQzMA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T22:27:30Z","updated_at":"2020-09-23T22:27:46Z","author_association":"CONTRIBUTOR","body":"fixed #1398","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698004430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698017822","html_url":"https://github.com/apache/helix/issues/1381#issuecomment-698017822","issue_url":"https://api.github.com/repos/apache/helix/issues/1381","id":698017822,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODAxNzgyMg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T23:10:15Z","updated_at":"2020-09-23T23:10:15Z","author_association":"CONTRIBUTOR","body":"2020-09-23T05:59:39.1813240Z START CLUSTER_TestRebalancePipeline_dup at Wed Sep 23 05:59:39 UTC 2020\r\n2020-09-23T06:00:39.2530066Z 4307507 [TestNGInvoker-testDuplicateMsg()] ERROR org.apache.helix.TestHelper  - verifier time out, consider try longer timeout, stack trace[java.lang.Thread.getStackTrace(Thread.java:1559), org.apache.helix.TestHelper.verify(TestHelper.java:804), org.apache.helix.controller.stages.TestRebalancePipeline.testDuplicateMsg(TestRebalancePipeline.java:158), sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method), sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.lang.reflect.Method.invoke(Method.java:498), org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76), org.testng.internal.InvokeMethodRunnable.runOne(InvokeMethodRunnable.java:46), org.testng.internal.InvokeMethodRunnable.run(InvokeMethodRunnable.java:37), java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511), java.util.concurrent.FutureTask.run(FutureTask.java:266), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624), java.lang.Thread.run(Thread.java:748)]\r\n2020-09-23T06:00:39.2604875Z END TestRebalancePipeline testDuplicateMsg at Wed Sep 23 06:00:39 UTC 2020, took: 60083ms.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698017822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698029063","html_url":"https://github.com/apache/helix/issues/1381#issuecomment-698029063","issue_url":"https://api.github.com/repos/apache/helix/issues/1381","id":698029063,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODAyOTA2Mw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-23T23:47:13Z","updated_at":"2020-09-23T23:47:13Z","author_association":"CONTRIBUTOR","body":"Root cause seems to be:\r\n\r\n1/ message is removed from MessageGenerationPhase\r\n```\r\n    // Asynchronously GC pending messages if necessary\r\n    if (!messagesToCleanUp.isEmpty()) {\r\n      schedulePendingMessageCleanUp(messagesToCleanUp, cache.getAsyncTasksThreadPool(),\r\n          manager.getHelixDataAccessor());\r\n    }\r\n```\r\n\r\n2/ cache is updated \r\n\r\n```\r\nrefreshStaleMessageCache()\r\n---> call by\r\nrunPipeline(event, dataRefresh);\r\n\r\n```\r\n\r\nso what we need is to call runPipeline in TestHelper.verify() loop.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698029063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698033309","html_url":"https://github.com/apache/helix/issues/1392#issuecomment-698033309","issue_url":"https://api.github.com/repos/apache/helix/issues/1392","id":698033309,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODAzMzMwOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T00:00:08Z","updated_at":"2020-09-24T00:00:08Z","author_association":"CONTRIBUTOR","body":"The gist is that using DelayedAutoRebalancer with AutoRebalanceStrategy together, it BestPossibleVerifier may never converge.\r\n\r\nAs discussed with JJ, need to change this one use have DelayedAutoRebalancer with CrushED","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698033309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698033742","html_url":"https://github.com/apache/helix/issues/1392#issuecomment-698033742","issue_url":"https://api.github.com/repos/apache/helix/issues/1392","id":698033742,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODAzMzc0Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T00:01:40Z","updated_at":"2020-09-24T00:01:40Z","author_association":"CONTRIBUTOR","body":"Note, the fix from #1401 changed to setup cluster to use CrushED if mode is full-auto ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698033742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698040903","html_url":"https://github.com/apache/helix/issues/1393#issuecomment-698040903","issue_url":"https://api.github.com/repos/apache/helix/issues/1393","id":698040903,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA0MDkwMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T00:27:17Z","updated_at":"2020-09-24T00:27:17Z","author_association":"CONTRIBUTOR","body":"we need DelayAuto + crushed. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698040903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698047278","html_url":"https://github.com/apache/helix/issues/1394#issuecomment-698047278","issue_url":"https://api.github.com/repos/apache/helix/issues/1394","id":698047278,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA0NzI3OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T00:51:39Z","updated_at":"2020-09-24T00:51:39Z","author_association":"CONTRIBUTOR","body":"fix by batch add. ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698047278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698047542","html_url":"https://github.com/apache/helix/issues/1375#issuecomment-698047542","issue_url":"https://api.github.com/repos/apache/helix/issues/1375","id":698047542,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA0NzU0Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T00:52:43Z","updated_at":"2020-09-24T00:52:43Z","author_association":"CONTRIBUTOR","body":"batch add fix","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698047542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698047813","html_url":"https://github.com/apache/helix/issues/1371#issuecomment-698047813","issue_url":"https://api.github.com/repos/apache/helix/issues/1371","id":698047813,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA0NzgxMw==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T00:53:44Z","updated_at":"2020-09-24T00:53:44Z","author_association":"CONTRIBUTOR","body":"Participant can't be restart once it is stopped.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698047813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698048126","html_url":"https://github.com/apache/helix/issues/1367#issuecomment-698048126","issue_url":"https://api.github.com/repos/apache/helix/issues/1367","id":698048126,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA0ODEyNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T00:54:48Z","updated_at":"2020-09-24T00:54:48Z","author_association":"CONTRIBUTOR","body":"batch add","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698048126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698078785","html_url":"https://github.com/apache/helix/issues/1300#issuecomment-698078785","issue_url":"https://api.github.com/repos/apache/helix/issues/1300","id":698078785,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA3ODc4NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T02:48:22Z","updated_at":"2020-09-24T02:48:48Z","author_association":"CONTRIBUTOR","body":"LOG 1326\r\n\r\n>2020-09-24T02:01:42.8529030Z [ERROR] testDeactivateCluster(org.apache.helix.tools.TestHelixAdminCli)  Time elapsed: 7.763 s  <<< FAILURE!\r\n2020-09-24T02:01:42.8537470Z org.apache.helix.zookeeper.exception.ZkClientException: Failed to delete /TestHelixAdminCli\r\n2020-09-24T02:01:42.8546009Z \tat org.apache.helix.tools.TestHelixAdminCli.testDeactivateCluster(TestHelixAdminCli.java:615)\r\n2020-09-24T02:01:42.8560841Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkException: org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /TestHelixAdminCli\r\n2020-09-24T02:01:42.8570363Z \tat org.apache.helix.tools.TestHelixAdminCli.testDeactivateCluster(TestHelixAdminCli.java:615)\r\n2020-09-24T02:01:42.8580752Z Caused by: org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /TestHelixAdminCli\r\n2020-09-24T02:01:42.8589069Z \tat org.apache.helix.tools.TestHelixAdminCli.testDeactivateCluster(TestHelixAdminCli.java:615)\r\n2020-09-24T02:01:42.8591548Z \r\n2020-09-24T02:01:43.2439422Z [ERROR] Failures: \r\n2020-09-24T02:01:43.2442720Z [ERROR]   TestHelixAdminCli.testDeactivateCluster:615 Â» ZkClient Failed to delete /TestH...","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698078785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698083688","html_url":"https://github.com/apache/helix/issues/1300#issuecomment-698083688","issue_url":"https://api.github.com/repos/apache/helix/issues/1300","id":698083688,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA4MzY4OA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T03:06:59Z","updated_at":"2020-09-24T03:06:59Z","author_association":"CONTRIBUTOR","body":">2020-09-23T05:08:49.1861208Z START TestHelixAdminCli at Wed Sep 23 05:08:49 UTC 2020\r\n2020-09-23T05:08:49.3335448Z 1197589 [ZkClient-EventThread-25630-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-23T05:08:49.3337814Z java.lang.InterruptedException\r\n2020-09-23T05:08:49.3338699Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-23T05:08:49.3339546Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-23T05:08:49.3341383Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-23T05:08:49.3343677Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1305)\r\n2020-09-23T05:08:49.3345356Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:83)\r\n2020-09-23T05:08:49.3346813Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1331)\r\n2020-09-23T05:08:49.3348377Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n2020-09-23T05:08:53.3085745Z 1201556 [HelixController-pipeline-default-TestHelixAdminCli-(51359ebb_DEFAULT)] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-23T05:08:53.3088355Z java.lang.InterruptedException\r\n2020-09-23T05:08:53.3088980Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-23T05:08:53.3089527Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-23T05:08:53.3091244Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-23T05:08:53.3093597Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.create(ZkBaseDataAccessor.java:761)\r\n2020-09-23T05:08:53.3095719Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.createChildren(ZkBaseDataAccessor.java:831)\r\n2020-09-23T05:08:53.3098099Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.createChildren(ZKHelixDataAccessor.java:515)\r\n2020-09-23T05:08:53.3100729Z \tat org.apache.helix.controller.stages.MessageDispatchStage.sendMessages(MessageDispatchStage.java:171)\r\n2020-09-23T05:08:53.3103834Z \tat org.apache.helix.controller.stages.MessageDispatchStage.processEvent(MessageDispatchStage.java:81)\r\n2020-09-23T05:08:53.3107326Z \tat org.apache.helix.controller.stages.resource.ResourceMessageDispatchStage.process(ResourceMessageDispatchStage.java:33)\r\n2020-09-23T05:08:53.3110066Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-23T05:08:53.3112170Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-23T05:08:53.3114571Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-23T05:08:53.3116852Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-23T05:08:54.8285053Z testDeactivateCluster deavtive cluster TestHelixAdminCli\r\n2020-09-23T05:08:54.9471743Z 1203203 [HelixController-pipeline-default-TestHelixAdminCli-(4ebbd400_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_9000 is not leader for TestHelixAdminCli. Pipeline will not be invoked\r\n2020-09-23T05:08:54.9490029Z 1203203 [HelixController-pipeline-task-TestHelixAdminCli-(4ebbd400_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_9000 is not leader for TestHelixAdminCli. Pipeline will not be invoked\r\n2020-09-23T05:08:54.9860669Z validated leader path not existing TestHelixAdminCli\r\n2020-09-23T05:08:55.1822844Z 1203434 [HelixController-pipeline-default-TestHelixAdminCli_grand-(012e378a_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.waged.WagedRebalancer  - Failed to calculate the new assignments.\r\n2020-09-23T05:08:55.1827373Z org.apache.helix.HelixRebalanceException: Failed to get the current best possible assignment because of unexpected error. Failure Type: INVALID_REBALANCER_STATUS\r\n2020-09-23T05:08:55.1831747Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:664)\r\n2020-09-23T05:08:55.1836423Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.partialRebalance(WagedRebalancer.java:516)\r\n2020-09-23T05:08:55.1840246Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:357)\r\n2020-09-23T05:08:55.1844462Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n2020-09-23T05:08:55.1848257Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n2020-09-23T05:08:55.1853838Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n2020-09-23T05:08:55.1858904Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n2020-09-23T05:08:55.1862144Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n2020-09-23T05:08:55.1864973Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-23T05:08:55.1867222Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-23T05:08:55.1869747Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-23T05:08:55.1872174Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-23T05:08:55.1876644Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-23T05:08:55.1879279Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1689)\r\n2020-09-23T05:08:55.1924731Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1826)\r\n2020-09-23T05:08:55.1926458Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1818)\r\n2020-09-23T05:08:55.1928993Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.get(ZkBaseDataAccessor.java:473)\r\n2020-09-23T05:08:55.1931382Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:260)\r\n2020-09-23T05:08:55.1934256Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:238)\r\n2020-09-23T05:08:55.1938125Z \tat org.apache.helix.controller.rebalancer.waged.AssignmentMetadataStore.getBestPossibleAssignment(AssignmentMetadataStore.java:84)\r\n2020-09-23T05:08:55.2008862Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:661)\r\n2020-09-23T05:08:55.2010934Z \t... 11 more\r\n2020-09-23T05:08:55.2011416Z Caused by: java.lang.InterruptedException\r\n2020-09-23T05:08:55.2012782Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-23T05:08:55.2013697Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-23T05:08:55.2014758Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-23T05:08:55.2016030Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1219)\r\n2020-09-23T05:08:55.2017136Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1250)\r\n2020-09-23T05:08:55.2018677Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.readData(ZkConnection.java:144)\r\n2020-09-23T05:08:55.2020326Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1830)\r\n2020-09-23T05:08:55.2021654Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1826)\r\n2020-09-23T05:08:55.2023473Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1673)\r\n2020-09-23T05:08:55.2024714Z \t... 18 more\r\n2020-09-23T05:08:55.2033258Z 1203434 [HelixController-pipeline-default-TestHelixAdminCli_grand-(012e378a_DEFAULT)] ERROR org.apache.helix.controller.stages.BestPossibleStateCalcStage  - Event 012e378a_DEFAULT : Failed to calculate the new Ideal States using the rebalancer WagedRebalancer due to INVALID_REBALANCER_STATUS\r\n2020-09-23T05:08:55.2045999Z org.apache.helix.HelixRebalanceException: Failed to get the current best possible assignment because of unexpected error. Failure Type: INVALID_REBALANCER_STATUS\r\n2020-09-23T05:08:55.2055735Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:664)\r\n2020-09-23T05:08:55.2065610Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.partialRebalance(WagedRebalancer.java:516)\r\n2020-09-23T05:08:55.2076790Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:357)\r\n2020-09-23T05:08:55.2096796Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n2020-09-23T05:08:55.2107688Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n2020-09-23T05:08:55.2122412Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n2020-09-23T05:08:55.2134962Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n2020-09-23T05:08:55.2145058Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n2020-09-23T05:08:55.2155306Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-23T05:08:55.2165092Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-23T05:08:55.2174779Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-23T05:08:55.2184115Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-23T05:08:55.2193459Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-23T05:08:55.2222030Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1689)\r\n2020-09-23T05:08:55.2228830Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1826)\r\n2020-09-23T05:08:55.2235286Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1818)\r\n2020-09-23T05:08:55.2245941Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.get(ZkBaseDataAccessor.java:473)\r\n2020-09-23T05:08:56.0029773Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:260)\r\n2020-09-23T05:08:56.0033520Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:238)\r\n2020-09-23T05:08:56.0037707Z \tat org.apache.helix.controller.rebalancer.waged.AssignmentMetadataStore.getBestPossibleAssignment(AssignmentMetadataStore.java:84)\r\n2020-09-23T05:08:56.0042324Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:661)\r\n2020-09-23T05:08:56.0050241Z \t... 11 more\r\n2020-09-23T05:08:56.0050749Z Caused by: java.lang.InterruptedException\r\n2020-09-23T05:08:56.0051390Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-23T05:08:56.0051951Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-23T05:08:56.0052949Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-23T05:08:56.0055097Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1219)\r\n2020-09-23T05:08:56.0056257Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1250)\r\n2020-09-23T05:08:56.0057802Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.readData(ZkConnection.java:144)\r\n2020-09-23T05:08:56.0059455Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1830)\r\n2020-09-23T05:08:56.0060788Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1826)\r\n2020-09-23T05:08:56.0062608Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1673)\r\n2020-09-23T05:08:56.0063839Z \t... 18 more\r\n2020-09-23T05:08:56.0079934Z 1203444 [HelixController-pipeline-default-TestHelixAdminCli_grand-(012e378a_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing DEFAULT pipeline: TestHelixAdminCli_grand for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1629), org.apache.helix.zookeeper.zkclient.ZkClient.waitForKeeperState(ZkClient.java:1607), org.apache.helix.zookeeper.zkclient.ZkClient.waitUntilConnected(ZkClient.java:1598), org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:396), org.apache.helix.manager.zk.ZKHelixManager.getHelixDataAccessor(ZKHelixManager.java:658), org.apache.helix.controller.stages.MessageDispatchStage.processEvent(MessageDispatchStage.java:64), org.apache.helix.controller.stages.resource.ResourceMessageDispatchStage.process(ResourceMessageDispatchStage.java:33), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-23T05:08:56.0096249Z 1203488 [HelixController-pipeline-task-TestHelixAdminCli_grand-(b2c13aed_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_9001 is not leader for TestHelixAdminCli_grand. Pipeline will not be invoked\r\n2020-09-23T05:08:56.0098411Z END TestHelixAdminCli testDeactivateCluster at Wed Sep 23 05:08:55 UTC 2020, took: 6073ms.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698083688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698095161","html_url":"https://github.com/apache/helix/pull/1400#issuecomment-698095161","issue_url":"https://api.github.com/repos/apache/helix/issues/1400","id":698095161,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODA5NTE2MQ==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T03:51:50Z","updated_at":"2020-09-24T03:51:50Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge. Approved by @alirezazamani \r\nFinal commit message:\r\nAdd get resource customized view in Helix admin","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698095161/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698101405","html_url":"https://github.com/apache/helix/issues/1300#issuecomment-698101405","issue_url":"https://api.github.com/repos/apache/helix/issues/1300","id":698101405,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODEwMTQwNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T04:16:36Z","updated_at":"2020-09-24T04:16:36Z","author_association":"CONTRIBUTOR","body":"Validated that supercluster seems working normally in debugger.  The potential issue can be that before the test cluster in grand cluster if fully stable, tearing it down may be an issue.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698101405/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698102117","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-698102117","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":698102117,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODEwMjExNw==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T04:19:33Z","updated_at":"2020-09-24T04:19:33Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge. Approved by @jiajunwang \r\nFinal commit message:\r\nAdd TrieClusterTopology for retrieving hierarchical topology in a cluster.\r\n- Add TrieNode class to define a node in the trie\r\n- Add ClusterTrie class to handle the construction, validation and retrieval of nodes/paths in the trie.\r\n- Add ClusterTopology class to provide different APIs for users to retrieve cluster topology information.\r\n- Add APIs in HelixAdmin to retrieve ClusterTopology of a specific cluster.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698102117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698104842","html_url":"https://github.com/apache/helix/issues/1386#issuecomment-698104842","issue_url":"https://api.github.com/repos/apache/helix/issues/1386","id":698104842,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODEwNDg0Mg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T04:29:57Z","updated_at":"2020-09-24T04:29:57Z","author_association":"CONTRIBUTOR","body":"No need to do final bestpossible verify","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698104842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698108510","html_url":"https://github.com/apache/helix/issues/1387#issuecomment-698108510","issue_url":"https://api.github.com/repos/apache/helix/issues/1387","id":698108510,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODEwODUxMA==","user":{"login":"junkaixue","id":6695617,"node_id":"MDQ6VXNlcjY2OTU2MTc=","avatar_url":"https://avatars.githubusercontent.com/u/6695617?v=4","gravatar_id":"","url":"https://api.github.com/users/junkaixue","html_url":"https://github.com/junkaixue","followers_url":"https://api.github.com/users/junkaixue/followers","following_url":"https://api.github.com/users/junkaixue/following{/other_user}","gists_url":"https://api.github.com/users/junkaixue/gists{/gist_id}","starred_url":"https://api.github.com/users/junkaixue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/junkaixue/subscriptions","organizations_url":"https://api.github.com/users/junkaixue/orgs","repos_url":"https://api.github.com/users/junkaixue/repos","events_url":"https://api.github.com/users/junkaixue/events{/privacy}","received_events_url":"https://api.github.com/users/junkaixue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T04:43:47Z","updated_at":"2020-09-24T04:43:47Z","author_association":"CONTRIBUTOR","body":"Thanks for reporting that. We will take a look.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698108510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698111830","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-698111830","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":698111830,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODExMTgzMA==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T04:56:06Z","updated_at":"2020-09-24T04:56:06Z","author_association":"CONTRIBUTOR","body":"> This PR is ready to merge. Approved by @jiajunwang\r\n> Final commit message:\r\n> Add TrieClusterTopology for retrieving hierarchical topology in a cluster.\r\n> \r\n> * Add TrieNode class to define a node in the trie\r\n> * Add ClusterTrie class to handle the construction, validation and retrieval of nodes/paths in the trie.\r\n> * Add ClusterTopology class to provide different APIs for users to retrieve cluster topology information.\r\n> * Add APIs in HelixAdmin to retrieve ClusterTopology of a specific cluster.\r\n\r\nTest result, please.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698111830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698112627","html_url":"https://github.com/apache/helix/pull/1295#issuecomment-698112627","issue_url":"https://api.github.com/repos/apache/helix/issues/1295","id":698112627,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODExMjYyNw==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T04:59:09Z","updated_at":"2020-09-24T04:59:09Z","author_association":"CONTRIBUTOR","body":"@kaisun2000 Please run helix-core tests since the change impacts almost all logics.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698112627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698114902","html_url":"https://github.com/apache/helix/pull/1400#issuecomment-698114902","issue_url":"https://api.github.com/repos/apache/helix/issues/1400","id":698114902,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODExNDkwMg==","user":{"login":"jiajunwang","id":1803880,"node_id":"MDQ6VXNlcjE4MDM4ODA=","avatar_url":"https://avatars.githubusercontent.com/u/1803880?v=4","gravatar_id":"","url":"https://api.github.com/users/jiajunwang","html_url":"https://github.com/jiajunwang","followers_url":"https://api.github.com/users/jiajunwang/followers","following_url":"https://api.github.com/users/jiajunwang/following{/other_user}","gists_url":"https://api.github.com/users/jiajunwang/gists{/gist_id}","starred_url":"https://api.github.com/users/jiajunwang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jiajunwang/subscriptions","organizations_url":"https://api.github.com/users/jiajunwang/orgs","repos_url":"https://api.github.com/users/jiajunwang/repos","events_url":"https://api.github.com/users/jiajunwang/events{/privacy}","received_events_url":"https://api.github.com/users/jiajunwang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T05:07:06Z","updated_at":"2020-09-24T05:07:06Z","author_association":"CONTRIBUTOR","body":"Shall we add a unit test?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698114902/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698147299","html_url":"https://github.com/apache/helix/issues/1402#issuecomment-698147299","issue_url":"https://api.github.com/repos/apache/helix/issues/1402","id":698147299,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODE0NzI5OQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T06:40:33Z","updated_at":"2020-09-24T06:40:33Z","author_association":"CONTRIBUTOR","body":"```\r\n  @Test(dependsOnMethods = \"testMaxPartitionLimit\")\r\n  public void testMaintenanceHistory() throws InterruptedException, IOException {\r\n    // In maintenance mode, by controller, for MAX_PARTITION_PER_INSTANCE_EXCEEDED\r\n    ControllerHistory history = _dataAccessor.getProperty(_keyBuilder.controllerLeaderHistory());\r\n    Map<String, String> lastHistoryEntry = convertStringToMap(\r\n        history.getMaintenanceHistoryList().get(history.getMaintenanceHistoryList().size() - 1));\r\n\r\n    // **The KV pairs are hard-coded in here for the ease of reading!**\r\n    Assert.assertEquals(lastHistoryEntry.get(\"OPERATION_TYPE\"), \"ENTER\");              -----> this line failed.\r\n    Assert.assertEquals(lastHistoryEntry.get(\"TRIGGERED_BY\"), \"CONTROLLER\");\r\n    Assert.assertEquals(lastHistoryEntry.get(\"AUTO_TRIGGER_REASON\"),\r\n        \"MAX_PARTITION_PER_INSTANCE_EXCEEDED\");\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698147299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698154255","html_url":"https://github.com/apache/helix/pull/1307#issuecomment-698154255","issue_url":"https://api.github.com/repos/apache/helix/issues/1307","id":698154255,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODE1NDI1NQ==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T06:56:21Z","updated_at":"2020-09-24T06:56:21Z","author_association":"CONTRIBUTOR","body":"> > This PR is ready to merge. Approved by @jiajunwang\r\n> > Final commit message:\r\n> > Add TrieClusterTopology for retrieving hierarchical topology in a cluster.\r\n> > \r\n> > * Add TrieNode class to define a node in the trie\r\n> > * Add ClusterTrie class to handle the construction, validation and retrieval of nodes/paths in the trie.\r\n> > * Add ClusterTopology class to provide different APIs for users to retrieve cluster topology information.\r\n> > * Add APIs in HelixAdmin to retrieve ClusterTopology of a specific cluster.\r\n> \r\n> Test result, please.\r\n\r\n@jiajunwang tested and updated.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698154255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698434957","html_url":"https://github.com/apache/helix/issues/1370#issuecomment-698434957","issue_url":"https://api.github.com/repos/apache/helix/issues/1370","id":698434957,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODQzNDk1Nw==","user":{"login":"EverYoung124","id":1933682,"node_id":"MDQ6VXNlcjE5MzM2ODI=","avatar_url":"https://avatars.githubusercontent.com/u/1933682?v=4","gravatar_id":"","url":"https://api.github.com/users/EverYoung124","html_url":"https://github.com/EverYoung124","followers_url":"https://api.github.com/users/EverYoung124/followers","following_url":"https://api.github.com/users/EverYoung124/following{/other_user}","gists_url":"https://api.github.com/users/EverYoung124/gists{/gist_id}","starred_url":"https://api.github.com/users/EverYoung124/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EverYoung124/subscriptions","organizations_url":"https://api.github.com/users/EverYoung124/orgs","repos_url":"https://api.github.com/users/EverYoung124/repos","events_url":"https://api.github.com/users/EverYoung124/events{/privacy}","received_events_url":"https://api.github.com/users/EverYoung124/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T15:57:33Z","updated_at":"2020-09-24T15:57:33Z","author_association":"NONE","body":"Why not detect environment is not set, then skip the parse?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698434957/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698435172","html_url":"https://github.com/apache/helix/pull/1400#issuecomment-698435172","issue_url":"https://api.github.com/repos/apache/helix/issues/1400","id":698435172,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODQzNTE3Mg==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T15:57:54Z","updated_at":"2020-09-24T15:57:54Z","author_association":"CONTRIBUTOR","body":"> Shall we add a unit test?\r\n\r\nAdded one check similar to external view.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698435172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698498452","html_url":"https://github.com/apache/helix/pull/1385#issuecomment-698498452","issue_url":"https://api.github.com/repos/apache/helix/issues/1385","id":698498452,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODQ5ODQ1Mg==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T18:00:31Z","updated_at":"2020-09-24T18:00:31Z","author_association":"NONE","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698498452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698600686","html_url":"https://github.com/apache/helix/issues/1404#issuecomment-698600686","issue_url":"https://api.github.com/repos/apache/helix/issues/1404","id":698600686,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODYwMDY4Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T21:34:48Z","updated_at":"2020-09-24T21:34:48Z","author_association":"CONTRIBUTOR","body":"try batch add","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698600686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698625813","html_url":"https://github.com/apache/helix/pull/1390#issuecomment-698625813","issue_url":"https://api.github.com/repos/apache/helix/issues/1390","id":698625813,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODYyNTgxMw==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T22:43:51Z","updated_at":"2020-09-24T22:43:51Z","author_association":"NONE","body":"> LGTM! 2 minor questions.\r\n> \r\n> 1. I remember there are 1200 or more tests. But it is 1199 in your result. Did we remove one?\r\n> 2. Please follow the PR template and note the new test case that you added to the description of PR.\r\n\r\n1- Rebased and ran the tests again and updated the test results.\r\n2- Done.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698625813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698646148","html_url":"https://github.com/apache/helix/pull/1390#issuecomment-698646148","issue_url":"https://api.github.com/repos/apache/helix/issues/1390","id":698646148,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODY0NjE0OA==","user":{"login":"alirezazamani","id":9290963,"node_id":"MDQ6VXNlcjkyOTA5NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9290963?v=4","gravatar_id":"","url":"https://api.github.com/users/alirezazamani","html_url":"https://github.com/alirezazamani","followers_url":"https://api.github.com/users/alirezazamani/followers","following_url":"https://api.github.com/users/alirezazamani/following{/other_user}","gists_url":"https://api.github.com/users/alirezazamani/gists{/gist_id}","starred_url":"https://api.github.com/users/alirezazamani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alirezazamani/subscriptions","organizations_url":"https://api.github.com/users/alirezazamani/orgs","repos_url":"https://api.github.com/users/alirezazamani/repos","events_url":"https://api.github.com/users/alirezazamani/events{/privacy}","received_events_url":"https://api.github.com/users/alirezazamani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-24T23:57:08Z","updated_at":"2020-09-24T23:57:08Z","author_association":"NONE","body":"This PR is ready to be merged.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698646148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698650095","html_url":"https://github.com/apache/helix/pull/1154#issuecomment-698650095","issue_url":"https://api.github.com/repos/apache/helix/issues/1154","id":698650095,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODY1MDA5NQ==","user":{"login":"zhangmeng916","id":56051770,"node_id":"MDQ6VXNlcjU2MDUxNzcw","avatar_url":"https://avatars.githubusercontent.com/u/56051770?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangmeng916","html_url":"https://github.com/zhangmeng916","followers_url":"https://api.github.com/users/zhangmeng916/followers","following_url":"https://api.github.com/users/zhangmeng916/following{/other_user}","gists_url":"https://api.github.com/users/zhangmeng916/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangmeng916/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangmeng916/subscriptions","organizations_url":"https://api.github.com/users/zhangmeng916/orgs","repos_url":"https://api.github.com/users/zhangmeng916/repos","events_url":"https://api.github.com/users/zhangmeng916/events{/privacy}","received_events_url":"https://api.github.com/users/zhangmeng916/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T00:11:19Z","updated_at":"2020-09-25T00:11:19Z","author_association":"CONTRIBUTOR","body":"This PR is ready to merge. Approved by @jiajunwang \r\nFinal commit message:\r\nAdd initial callback when adding routing table listener.\r\n","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698650095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698701270","html_url":"https://github.com/apache/helix/issues/1406#issuecomment-698701270","issue_url":"https://api.github.com/repos/apache/helix/issues/1406","id":698701270,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODcwMTI3MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T03:35:17Z","updated_at":"2020-09-25T03:35:17Z","author_association":"CONTRIBUTOR","body":"\r\n>2020-09-25T00:31:09.2998076Z START TestDeleteJobFromJobQueue testForceDeleteJobFromJobQueue at Fri Sep 25 00:31:09 UTC 2020\r\n2020-09-25T00:31:09.4152687Z 2732340 [TestNGInvoker-testForceDeleteJobFromJobQueue()] ERROR org.apache.helix.zookeeper.zkclient.ZkClient  - zkclient 5127, Failed to delete /CLUSTER_TestDeleteJobFromJobQueue/PROPERTYSTORE/TaskRebalancer/testForceDeleteJobFromJobQueue_job2, exception {}\r\n2020-09-25T00:31:09.4205608Z org.apache.helix.zookeeper.zkclient.exception.ZkException: org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /CLUSTER_TestDeleteJobFromJobQueue/PROPERTYSTORE/TaskRebalancer/testForceDeleteJobFromJobQueue_job2\r\n2020-09-25T00:31:09.4208794Z \tat org.apache.helix.zookeeper.zkclient.exception.ZkException.create(ZkException.java:72)\r\n2020-09-25T00:31:09.4210848Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1692)\r\n2020-09-25T00:31:09.4212856Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.delete(ZkClient.java:1750)\r\n2020-09-25T00:31:09.4214957Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.deleteRecursively(ZkClient.java:1432)\r\n2020-09-25T00:31:09.4216865Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.remove(ZkBaseDataAccessor.java:708)\r\n2020-09-25T00:31:09.4219089Z \tat org.apache.helix.manager.zk.ZkCacheBaseDataAccessor.remove(ZkCacheBaseDataAccessor.java:350)\r\n2020-09-25T00:31:09.4233249Z \tat org.apache.helix.store.zk.AutoFallbackPropertyStore.remove(AutoFallbackPropertyStore.java:95)\r\n2020-09-25T00:31:09.4235692Z \tat org.apache.helix.task.TaskUtil.removeWorkflowJobContext(TaskUtil.java:948)\r\n2020-09-25T00:31:09.4236962Z \tat org.apache.helix.task.TaskUtil.removeJobContext(TaskUtil.java:254)\r\n2020-09-25T00:31:09.4237974Z \tat org.apache.helix.task.TaskUtil.removeJob(TaskUtil.java:867)\r\n2020-09-25T00:31:09.4239081Z \tat org.apache.helix.task.TaskDriver.deleteNamespacedJob(TaskDriver.java:278)\r\n2020-09-25T00:31:09.4240240Z \tat org.apache.helix.task.TaskDriver.deleteJob(TaskDriver.java:259)\r\n2020-09-25T00:31:09.4242679Z \tat org.apache.helix.integration.task.TestDeleteJobFromJobQueue.testForceDeleteJobFromJobQueue(TestDeleteJobFromJobQueue.java:73)\r\n2020-09-25T00:31:09.4245484Z \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2020-09-25T00:31:09.4247045Z \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n2020-09-25T00:31:09.4248523Z \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2020-09-25T00:31:09.4249652Z \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n2020-09-25T00:31:09.4250832Z \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76)\r\n2020-09-25T00:31:09.4252392Z \tat org.testng.internal.InvokeMethodRunnable.runOne(InvokeMethodRunnable.java:46)\r\n2020-09-25T00:31:09.4298054Z \tat org.testng.internal.InvokeMethodRunnable.run(InvokeMethodRunnable.java:37)\r\n2020-09-25T00:31:09.4300104Z \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n2020-09-25T00:31:09.4301199Z \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2020-09-25T00:31:09.4303099Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2020-09-25T00:31:09.4304666Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2020-09-25T00:31:09.4305442Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-25T00:31:09.4307130Z Caused by: org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /CLUSTER_TestDeleteJobFromJobQueue/PROPERTYSTORE/TaskRebalancer/testForceDeleteJobFromJobQueue_job2\r\n2020-09-25T00:31:09.4309284Z \tat org.apache.zookeeper.KeeperException.create(KeeperException.java:128)\r\n2020-09-25T00:31:09.4310501Z \tat org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\r\n2020-09-25T00:31:09.4311974Z \tat org.apache.zookeeper.ZooKeeper.delete(ZooKeeper.java:882)\r\n2020-09-25T00:31:09.4313114Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.delete(ZkConnection.java:127)\r\n2020-09-25T00:31:09.4314578Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$10.call(ZkClient.java:1754)\r\n2020-09-25T00:31:09.4316235Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T00:31:09.4317275Z \t... 23 more\r\n2020-09-25T00:31:09.4319614Z 2732341 [TestNGInvoker-testForceDeleteJobFromJobQueue()] ERROR org.apache.helix.manager.zk.ZkBaseDataAccessor  - Failed to delete /CLUSTER_TestDeleteJobFromJobQueue/PROPERTYSTORE/TaskRebalancer/testForceDeleteJobFromJobQueue_job2 recursively with opts 1.\r\n2020-09-25T00:31:09.4374767Z org.apache.helix.zookeeper.exception.ZkClientException: Failed to delete /CLUSTER_TestDeleteJobFromJobQueue/PROPERTYSTORE/TaskRebalancer/testForceDeleteJobFromJobQueue_job2\r\n2020-09-25T00:31:09.4376819Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.deleteRecursively(ZkClient.java:1435)\r\n2020-09-25T00:31:09.4378547Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.remove(ZkBaseDataAccessor.java:708)\r\n2020-09-25T00:31:09.4380179Z \tat org.apache.helix.manager.zk.ZkCacheBaseDataAccessor.remove(ZkCacheBaseDataAccessor.java:350)\r\n2020-09-25T00:31:09.4382572Z \tat org.apache.helix.store.zk.AutoFallbackPropertyStore.remove(AutoFallbackPropertyStore.java:95)\r\n2020-09-25T00:31:09.4384848Z \tat org.apache.helix.task.TaskUtil.removeWorkflowJobContext(TaskUtil.java:948)\r\n2020-09-25T00:31:09.4386709Z \tat org.apache.helix.task.TaskUtil.removeJobContext(TaskUtil.java:254)\r\n2020-09-25T00:31:09.4389355Z \tat org.apache.helix.task.TaskUtil.removeJob(TaskUtil.java:867)\r\n2020-09-25T00:31:09.4391179Z \tat org.apache.helix.task.TaskDriver.deleteNamespacedJob(TaskDriver.java:278)\r\n2020-09-25T00:31:09.4392335Z \tat org.apache.helix.task.TaskDriver.deleteJob(TaskDriver.java:259)\r\n2020-09-25T00:31:09.4394617Z \tat org.apache.helix.integration.task.TestDeleteJobFromJobQueue.testForceDeleteJobFromJobQueue(TestDeleteJobFromJobQueue.java:73)\r\n2020-09-25T00:31:09.4396906Z \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n2020-09-25T00:31:09.4398079Z \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n2020-09-25T00:31:09.4399515Z \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n2020-09-25T00:31:09.4400613Z \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n2020-09-25T00:31:09.4401774Z \tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76)\r\n2020-09-25T00:31:09.4403290Z \tat org.testng.internal.InvokeMethodRunnable.runOne(InvokeMethodRunnable.java:46)\r\n2020-09-25T00:31:09.4404573Z \tat org.testng.internal.InvokeMethodRunnable.run(InvokeMethodRunnable.java:37)\r\n2020-09-25T00:31:09.4405618Z \tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\n2020-09-25T00:31:09.4406432Z \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2020-09-25T00:31:09.4407876Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2020-09-25T00:31:09.4410083Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2020-09-25T00:31:09.4410877Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-25T00:31:09.4413044Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkException: org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /CLUSTER_TestDeleteJobFromJobQueue/PROPERTYSTORE/TaskRebalancer/testForceDeleteJobFromJobQueue_job2\r\n2020-09-25T00:31:09.4417260Z \tat org.apache.helix.zookeeper.zkclient.exception.ZkException.create(ZkException.java:72)\r\n2020-09-25T00:31:09.4419620Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1692)\r\n2020-09-25T00:31:09.4468334Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.delete(ZkClient.java:1750)\r\n2020-09-25T00:31:09.4470040Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.deleteRecursively(ZkClient.java:1432)\r\n2020-09-25T00:31:09.4470977Z \t... 21 more\r\n2020-09-25T00:31:09.4472177Z Caused by: org.apache.zookeeper.KeeperException$NotEmptyException: KeeperErrorCode = Directory not empty for /CLUSTER_TestDeleteJobFromJobQueue/PROPERTYSTORE/TaskRebalancer/testForceDeleteJobFromJobQueue_job2\r\n2020-09-25T00:31:09.4473823Z \tat org.apache.zookeeper.KeeperException.create(KeeperException.java:128)\r\n2020-09-25T00:31:09.4474942Z \tat org.apache.zookeeper.KeeperException.create(KeeperException.java:54)\r\n2020-09-25T00:31:09.4475915Z \tat org.apache.zookeeper.ZooKeeper.delete(ZooKeeper.java:882)\r\n2020-09-25T00:31:09.4477035Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.delete(ZkConnection.java:127)\r\n2020-09-25T00:31:09.4478269Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$10.call(ZkClient.java:1754)\r\n2020-09-25T00:31:09.4479664Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T00:31:09.4480640Z \t... 23 more\r\n2020-09-25T00:31:09.4481233Z END TestDeleteJobFromJobQueue testForceDeleteJobFromJobQueue at Fri Sep 25 00:31:09 UTC 2020, took: 129ms.\r\n2020-09-25T00:31:09.4482332Z AfterClass: TestDeleteJobFromJobQueue of TaskSynchronizedTestBase called.\r\n2020-09-25T00:31:09.4484380Z 2732369 [HelixController-pipeline-task-CLUSTER_TestDeleteJobFromJobQueue-(d5272040_TASK)] ERROR org.apache.helix.task.JobDispatcher  - Job configuration is NULL for testForceDeleteJobFromJobQueue_job2\r\n2020-09-25T00:31:09.4629535Z 2732387 [TaskJobPurgeWorker-CLUSTER_TestDeleteJobFromJobQueue] ERROR org.apache.helix.controller.pipeline.AbstractAsyncBaseStage  - Failed to process TASK::TaskGarbageCollectionStage asynchronously\r\n2020-09-25T00:31:09.4632274Z org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T00:31:09.4634638Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1634)\r\n2020-09-25T00:31:09.4636604Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.waitForKeeperState(ZkClient.java:1611)\r\n2020-09-25T00:31:09.4638501Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.waitUntilConnected(ZkClient.java:1602)\r\n2020-09-25T00:31:09.4640151Z \tat org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:396)\r\n2020-09-25T00:31:09.4641838Z \tat org.apache.helix.manager.zk.ZKHelixManager.getHelixDataAccessor(ZKHelixManager.java:658)\r\n2020-09-25T00:31:09.4643444Z \tat org.apache.helix.task.TaskUtil.workflowGarbageCollection(TaskUtil.java:1118)\r\n2020-09-25T00:31:09.4645354Z \tat org.apache.helix.controller.stages.TaskGarbageCollectionStage.execute(TaskGarbageCollectionStage.java:126)\r\n2020-09-25T00:31:09.4647450Z \tat org.apache.helix.controller.pipeline.AbstractAsyncBaseStage$1.run(AbstractAsyncBaseStage.java:47)\r\n2020-09-25T00:31:09.4649138Z \tat org.apache.helix.controller.GenericHelixController$3.handleEvent(GenericHelixController.java:654)\r\n2020-09-25T00:31:09.4650695Z \tat org.apache.helix.controller.GenericHelixController$3.handleEvent(GenericHelixController.java:650)\r\n2020-09-25T00:31:09.4652123Z \tat org.apache.helix.common.DedupEventProcessor.run(DedupEventProcessor.java:61)\r\n2020-09-25T00:31:09.4653060Z Caused by: java.lang.InterruptedException\r\n2020-09-25T00:31:09.4654651Z \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1223)\r\n2020-09-25T00:31:09.4656752Z \tat java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)\r\n2020-09-25T00:31:09.4658364Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1632)\r\n2020-09-25T00:31:09.4659272Z \t... 10 more\r\n2020-09-25T00:31:09.5314861Z AfterClass:TestDeleteJobFromJobQueue afterclass of ZkTestBase called!\r\n2020-09-25T00:31:09.5316006Z ************ SYSTEM Physical Memory:7263748096","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698701270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698712073","html_url":"https://github.com/apache/helix/pull/1344#issuecomment-698712073","issue_url":"https://api.github.com/repos/apache/helix/issues/1344","id":698712073,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODcxMjA3Mw==","user":{"login":"huizhilu","id":5187721,"node_id":"MDQ6VXNlcjUxODc3MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5187721?v=4","gravatar_id":"","url":"https://api.github.com/users/huizhilu","html_url":"https://github.com/huizhilu","followers_url":"https://api.github.com/users/huizhilu/followers","following_url":"https://api.github.com/users/huizhilu/following{/other_user}","gists_url":"https://api.github.com/users/huizhilu/gists{/gist_id}","starred_url":"https://api.github.com/users/huizhilu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/huizhilu/subscriptions","organizations_url":"https://api.github.com/users/huizhilu/orgs","repos_url":"https://api.github.com/users/huizhilu/repos","events_url":"https://api.github.com/users/huizhilu/events{/privacy}","received_events_url":"https://api.github.com/users/huizhilu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T04:23:11Z","updated_at":"2020-09-25T04:23:11Z","author_association":"CONTRIBUTOR","body":"This PR is ready to be merged, approved by @jiajunwang \n\n\nIn CallbackHanlder's subscribeForChanges(), children names need to be fetched. subscribeChildChange(path, callbackType) does actually have the children list, but it doesn't return, and later getChildren() is called again. It wastes one zk call: not only wasting time in handling a callback, but also adds more read pressure to zk server.\n\nThis commit uses the return result from subscribeChildChange() and saves getChildren() call.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698712073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698731925","html_url":"https://github.com/apache/helix/issues/1280#issuecomment-698731925","issue_url":"https://api.github.com/repos/apache/helix/issues/1280","id":698731925,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODczMTkyNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T05:42:14Z","updated_at":"2020-09-25T05:42:37Z","author_association":"CONTRIBUTOR","body":"LOG 1474\r\n\r\n>2020-09-25T05:34:14.4061345Z [ERROR] testClusterStatusMonitorLifecycle(org.apache.helix.monitoring.TestClusterStatusMonitorLifecycle)  Time elapsed: 64.82 s  <<< FAILURE!\r\n2020-09-25T05:34:14.4067624Z java.lang.AssertionError: expected:<true> but was:<false>\r\n2020-09-25T05:34:14.4080734Z \tat org.apache.helix.monitoring.TestClusterStatusMonitorLifecycle.testClusterStatusMonitorLifecycle(TestClusterStatusMonitorLifecycle.java:298)\r\n2020-09-25T05:34:14.4084644Z \r\n2020-09-25T05:34:14.8023392Z [ERROR] Failures: \r\n2020-09-25T05:34:14.8025868Z [ERROR]   TestClusterStatusMonitorLifecycle.testClusterStatusMonitorLifecycle:298 expected:<true> but was:<false>\r\n2020-09-25T05:34:14.8028368Z [ERROR] Tests run: 1205, Failures: 1, Errors: 0, Skipped: 1","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698731925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698733290","html_url":"https://github.com/apache/helix/issues/1280#issuecomment-698733290","issue_url":"https://api.github.com/repos/apache/helix/issues/1280","id":698733290,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODczMzI5MA==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T05:47:02Z","updated_at":"2020-09-25T05:47:02Z","author_association":"CONTRIBUTOR","body":"```\r\nfinal QueryExp exp2 = Query.and(\r\n        Query.not(Query.match(Query.attr(\"SensorName\"), Query.value(\"MessageQueueStatus.*\"))),\r\n        exp1);\r\n\r\n    Assert.assertTrue(TestHelper.verify(() -> ManagementFactory.getPlatformMBeanServer()\r\n        .queryMBeans(new ObjectName(\"ClusterStatus:*\"), exp2).isEmpty(), TestHelper.WAIT_DURATION));\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698733290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698733396","html_url":"https://github.com/apache/helix/issues/1280#issuecomment-698733396","issue_url":"https://api.github.com/repos/apache/helix/issues/1280","id":698733396,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODczMzM5Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T05:47:25Z","updated_at":"2020-09-25T05:47:25Z","author_association":"CONTRIBUTOR","body":"why?","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698733396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698737876","html_url":"https://github.com/apache/helix/issues/1280#issuecomment-698737876","issue_url":"https://api.github.com/repos/apache/helix/issues/1280","id":698737876,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODczNzg3Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T06:01:03Z","updated_at":"2020-09-25T06:01:03Z","author_association":"CONTRIBUTOR","body":">2020-09-25T05:29:32.6374477Z START TestClusterStatusMonitorLifecycle at Fri Sep 25 05:29:31 UTC 2020\r\n2020-09-25T05:29:32.6376950Z 4354570 [ZkClient-EventThread-85911-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-25T05:29:32.6378744Z java.lang.InterruptedException\r\n2020-09-25T05:29:32.6379330Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:29:32.6379884Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:29:32.6381552Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-25T05:29:32.6383803Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1308)\r\n2020-09-25T05:29:32.6385451Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:83)\r\n2020-09-25T05:29:32.6387037Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1334)\r\n2020-09-25T05:29:32.6388705Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n2020-09-25T05:29:34.5040939Z 4356506 [ZkClient-EventThread-54905-localhost:2183] ERROR org.apache.helix.manager.zk.ZKHelixManager  - fail to connect zkserver: localhost:2183 in 60000ms. expiredSessionId: 100000495350e0f, clusterName: TestSessionExpiryInTransition_testSessionExpiryInTransition\r\n2020-09-25T05:29:35.2808288Z 4357282 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_0-(88f9ab53_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestClusterStatusMonitorLifecycle0_0. Pipeline will not be invoked\r\n2020-09-25T05:29:36.4336072Z 4358434 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_3-(9ada8c3f_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_1 is not leader for TestClusterStatusMonitorLifecycle0_3. Pipeline will not be invoked\r\n2020-09-25T05:29:36.4361997Z 4358434 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_3-(9ada8c3f_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_1 is not leader for TestClusterStatusMonitorLifecycle0_3. Pipeline will not be invoked\r\n2020-09-25T05:29:36.8914580Z 4358893 [ZkClient-EventThread-86704-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-25T05:29:36.8917155Z java.lang.InterruptedException\r\n2020-09-25T05:29:36.8918066Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:29:36.8918865Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:29:36.8920758Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-25T05:29:36.8923304Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1308)\r\n2020-09-25T05:29:36.8925197Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:83)\r\n2020-09-25T05:29:36.8926889Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1334)\r\n2020-09-25T05:29:36.8928708Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n2020-09-25T05:29:40.5169690Z 4362518 [ZkClient-EventThread-86806-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-25T05:29:40.5172270Z java.lang.InterruptedException\r\n2020-09-25T05:29:40.5173180Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:29:40.5173988Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:29:40.5175907Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-25T05:29:40.5178406Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1308)\r\n2020-09-25T05:29:40.5180341Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:83)\r\n2020-09-25T05:29:40.5182019Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1334)\r\n2020-09-25T05:29:40.5183809Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n2020-09-25T05:29:42.8393973Z 4364841 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_1-(9a7caa77_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_2 is not leader for TestClusterStatusMonitorLifecycle0_1. Pipeline will not be invoked\r\n2020-09-25T05:29:42.9865450Z 4364988 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_3-(18603a76_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_4 is not leader for TestClusterStatusMonitorLifecycle0_3. Pipeline will not be invoked\r\n2020-09-25T05:29:42.9966477Z 4364990 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_3-(18603a76_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_4 is not leader for TestClusterStatusMonitorLifecycle0_3. Pipeline will not be invoked\r\n2020-09-25T05:29:42.9979615Z 4364992 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_4-(7b86e416_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestClusterStatusMonitorLifecycle0_4. Pipeline will not be invoked\r\n2020-09-25T05:29:43.0004276Z 4364992 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_4-(7b86e416_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestClusterStatusMonitorLifecycle0_4. Pipeline will not be invoked\r\n2020-09-25T05:29:43.0009972Z 4364995 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_9-(4e2a4b46_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_3 is not leader for TestClusterStatusMonitorLifecycle0_9. Pipeline will not be invoked\r\n2020-09-25T05:29:43.1379060Z 4365139 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_0-(1f8ca0d3_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_1 is not leader for TestClusterStatusMonitorLifecycle0_0. Pipeline will not be invoked\r\n2020-09-25T05:29:43.1417297Z 4365141 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_0-(1f8ca0d3_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_1 is not leader for TestClusterStatusMonitorLifecycle0_0. Pipeline will not be invoked\r\n2020-09-25T05:29:44.1232115Z 4366125 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_4-(a604ada1_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_3 is not leader for TestClusterStatusMonitorLifecycle0_4. Pipeline will not be invoked\r\n2020-09-25T05:29:44.1493972Z 4366151 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_1-(9c5c3f68_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_4 is not leader for TestClusterStatusMonitorLifecycle0_1. Pipeline will not be invoked\r\n2020-09-25T05:29:44.1518274Z 4366152 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_1-(9c5c3f68_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_4 is not leader for TestClusterStatusMonitorLifecycle0_1. Pipeline will not be invoked\r\n2020-09-25T05:29:44.6330270Z 4366634 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_3-(9b8b553e_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestClusterStatusMonitorLifecycle0_3. Pipeline will not be invoked\r\n2020-09-25T05:29:44.6335865Z 4366634 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_3-(9b8b553e_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestClusterStatusMonitorLifecycle0_3. Pipeline will not be invoked\r\n2020-09-25T05:29:45.0859246Z 4367087 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_1-(3ffea822_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_5 is not leader for TestClusterStatusMonitorLifecycle0_1. Pipeline will not be invoked\r\n2020-09-25T05:29:45.5026865Z 4367504 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_9-(b4627538_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_2 is not leader for TestClusterStatusMonitorLifecycle0_9. Pipeline will not be invoked\r\n2020-09-25T05:29:47.6263475Z 4368635 [ZkClient-EventThread-87441-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-25T05:29:47.6265554Z java.lang.InterruptedException\r\n2020-09-25T05:29:47.6266176Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:29:47.6267218Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:29:47.6269071Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-25T05:29:47.6271382Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1308)\r\n2020-09-25T05:29:47.6273030Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:83)\r\n2020-09-25T05:29:47.6274467Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1334)\r\n2020-09-25T05:29:47.6276000Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n2020-09-25T05:29:58.7359986Z START TestClusterStatusMonitorLifecycle testClusterStatusMonitorLifecycle at Fri Sep 25 05:29:58 UTC 2020\r\n2020-09-25T05:29:58.8493533Z 4380851 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_0-(df0430bf_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_6 is not leader for TestClusterStatusMonitorLifecycle0_0. Pipeline will not be invoked\r\n2020-09-25T05:29:58.9323365Z 4380934 [ZkClient-EventThread-87493-localhost:2183] ERROR org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks  - Interrupted waiting for success\r\n2020-09-25T05:29:58.9326273Z java.lang.InterruptedException\r\n2020-09-25T05:29:58.9329201Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:29:58.9330098Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:29:58.9332019Z \tat org.apache.helix.zookeeper.zkclient.callback.ZkAsyncCallbacks$DefaultCallback.waitForSuccess(ZkAsyncCallbacks.java:220)\r\n2020-09-25T05:29:58.9334522Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.issueSync(ZkClient.java:1308)\r\n2020-09-25T05:29:58.9336405Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.access$300(ZkClient.java:83)\r\n2020-09-25T05:29:58.9338075Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$4.run(ZkClient.java:1334)\r\n2020-09-25T05:29:58.9339918Z \tat org.apache.helix.zookeeper.zkclient.ZkEventThread.run(ZkEventThread.java:99)\r\n2020-09-25T05:30:01.9114207Z 4383911 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_7-(ee3a471d_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestClusterStatusMonitorLifecycle0_7. Pipeline will not be invoked\r\n2020-09-25T05:30:01.9127059Z 4383911 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_7-(ee3a471d_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_0 is not leader for TestClusterStatusMonitorLifecycle0_7. Pipeline will not be invoked\r\n2020-09-25T05:30:01.9861219Z 4383988 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_8-(db9dd4b0_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_1 is not leader for TestClusterStatusMonitorLifecycle0_8. Pipeline will not be invoked\r\n2020-09-25T05:30:01.9897887Z 4383989 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_8-(db9dd4b0_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_1 is not leader for TestClusterStatusMonitorLifecycle0_8. Pipeline will not be invoked\r\n2020-09-25T05:30:02.1325149Z 4384134 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_5-(3c3fd961_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_4 is not leader for TestClusterStatusMonitorLifecycle0_5. Pipeline will not be invoked\r\n2020-09-25T05:30:02.3872523Z 4384383 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_7-(a6fc1d69_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.waged.WagedRebalancer  - Failed to calculate the new assignments.\r\n2020-09-25T05:30:02.3875954Z org.apache.helix.HelixRebalanceException: Failed to get the current baseline assignment because of unexpected error. Failure Type: INVALID_REBALANCER_STATUS\r\n2020-09-25T05:30:02.3878627Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBaselineAssignment(WagedRebalancer.java:631)\r\n2020-09-25T05:30:02.3882287Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.globalRebalance(WagedRebalancer.java:420)\r\n2020-09-25T05:30:02.3886839Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:354)\r\n2020-09-25T05:30:02.3890897Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n2020-09-25T05:30:02.3894616Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n2020-09-25T05:30:02.3899736Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n2020-09-25T05:30:02.3904571Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n2020-09-25T05:30:02.3907599Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n2020-09-25T05:30:02.3910755Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-25T05:30:02.3913024Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-25T05:30:02.3915398Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-25T05:30:02.3917648Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-25T05:30:02.3920205Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T05:30:02.3922766Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694)\r\n2020-09-25T05:30:02.3924729Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1831)\r\n2020-09-25T05:30:02.3926394Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1823)\r\n2020-09-25T05:30:02.3928079Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.get(ZkBaseDataAccessor.java:473)\r\n2020-09-25T05:30:02.3930341Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:260)\r\n2020-09-25T05:30:02.3933157Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:238)\r\n2020-09-25T05:30:02.3936435Z \tat org.apache.helix.controller.rebalancer.waged.AssignmentMetadataStore.getBaseline(AssignmentMetadataStore.java:69)\r\n2020-09-25T05:30:02.3940031Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBaselineAssignment(WagedRebalancer.java:628)\r\n2020-09-25T05:30:02.3941919Z \t... 11 more\r\n2020-09-25T05:30:02.3942386Z Caused by: java.lang.InterruptedException\r\n2020-09-25T05:30:02.3943011Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:30:02.3943558Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:30:02.3944526Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-25T05:30:02.3945753Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1219)\r\n2020-09-25T05:30:02.3946833Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1250)\r\n2020-09-25T05:30:02.4028900Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.readData(ZkConnection.java:144)\r\n2020-09-25T05:30:02.4030697Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1835)\r\n2020-09-25T05:30:02.4032087Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1831)\r\n2020-09-25T05:30:02.4033988Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T05:30:02.4035280Z \t... 18 more\r\n2020-09-25T05:30:02.4038761Z 4384384 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_7-(a6fc1d69_DEFAULT)] ERROR org.apache.helix.controller.stages.BestPossibleStateCalcStage  - Event a6fc1d69_DEFAULT : Failed to calculate the new Ideal States using the rebalancer WagedRebalancer due to INVALID_REBALANCER_STATUS\r\n2020-09-25T05:30:02.4042649Z org.apache.helix.HelixRebalanceException: Failed to get the current baseline assignment because of unexpected error. Failure Type: INVALID_REBALANCER_STATUS\r\n2020-09-25T05:30:02.4045414Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBaselineAssignment(WagedRebalancer.java:631)\r\n2020-09-25T05:30:02.4048846Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.globalRebalance(WagedRebalancer.java:420)\r\n2020-09-25T05:30:02.4052648Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:354)\r\n2020-09-25T05:30:02.4056748Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n2020-09-25T05:30:02.4060546Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n2020-09-25T05:30:02.4065755Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n2020-09-25T05:30:02.4072114Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n2020-09-25T05:30:02.4075327Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n2020-09-25T05:30:02.4077636Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-25T05:30:02.4079706Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-25T05:30:02.4082076Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-25T05:30:02.4084335Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-25T05:30:02.4086900Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T05:30:02.4089465Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694)\r\n2020-09-25T05:30:02.4091426Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1831)\r\n2020-09-25T05:30:02.4093098Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1823)\r\n2020-09-25T05:30:02.4094791Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.get(ZkBaseDataAccessor.java:473)\r\n2020-09-25T05:30:02.4097056Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:260)\r\n2020-09-25T05:30:02.4099879Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:238)\r\n2020-09-25T05:30:02.4103099Z \tat org.apache.helix.controller.rebalancer.waged.AssignmentMetadataStore.getBaseline(AssignmentMetadataStore.java:69)\r\n2020-09-25T05:30:02.4106678Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBaselineAssignment(WagedRebalancer.java:628)\r\n2020-09-25T05:30:02.4108722Z \t... 11 more\r\n2020-09-25T05:30:02.4109201Z Caused by: java.lang.InterruptedException\r\n2020-09-25T05:30:02.4109825Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:30:02.4110371Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:30:02.4111343Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-25T05:30:02.4112583Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1219)\r\n2020-09-25T05:30:02.4113664Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1250)\r\n2020-09-25T05:30:02.4115211Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.readData(ZkConnection.java:144)\r\n2020-09-25T05:30:02.4116820Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1835)\r\n2020-09-25T05:30:02.4118126Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1831)\r\n2020-09-25T05:30:02.4119910Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T05:30:02.4121147Z \t... 18 more\r\n2020-09-25T05:30:02.4181568Z 4384406 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_7-(a6fc1d69_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing DEFAULT pipeline: TestClusterStatusMonitorLifecycle0_7 for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1634), org.apache.helix.zookeeper.zkclient.ZkClient.waitForKeeperState(ZkClient.java:1611), org.apache.helix.zookeeper.zkclient.ZkClient.waitUntilConnected(ZkClient.java:1602), org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:396), org.apache.helix.manager.zk.ZKHelixManager.getHelixDataAccessor(ZKHelixManager.java:658), org.apache.helix.controller.stages.MessageDispatchStage.processEvent(MessageDispatchStage.java:64), org.apache.helix.controller.stages.resource.ResourceMessageDispatchStage.process(ResourceMessageDispatchStage.java:33), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-25T05:30:02.4393048Z 4384438 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_7-(a6fc1d69_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing TASK pipeline: TestClusterStatusMonitorLifecycle0_7 for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1634), org.apache.helix.zookeeper.zkclient.ZkClient.waitForKeeperState(ZkClient.java:1611), org.apache.helix.zookeeper.zkclient.ZkClient.waitUntilConnected(ZkClient.java:1602), org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:396), org.apache.helix.manager.zk.ZKHelixManager.getHelixDataAccessor(ZKHelixManager.java:658), org.apache.helix.controller.stages.MessageDispatchStage.processEvent(MessageDispatchStage.java:64), org.apache.helix.controller.stages.task.TaskMessageDispatchStage.process(TaskMessageDispatchStage.java:33), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-25T05:30:02.5055567Z 4384498 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_4-(e7f5acd1_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_5 is not leader for TestClusterStatusMonitorLifecycle0_4. Pipeline will not be invoked\r\n2020-09-25T05:30:02.6375360Z 4384623 [HelixController-pipeline-task-CONTROLLER_TestClusterStatusMonitorLifecycle-(dbb7eba8_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing TASK pipeline: CONTROLLER_TestClusterStatusMonitorLifecycle for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1634), org.apache.helix.zookeeper.zkclient.ZkClient.waitForKeeperState(ZkClient.java:1611), org.apache.helix.zookeeper.zkclient.ZkClient.waitUntilConnected(ZkClient.java:1602), org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:396), org.apache.helix.manager.zk.ZKHelixManager.getHelixDataAccessor(ZKHelixManager.java:658), org.apache.helix.controller.stages.MessageDispatchStage.processEvent(MessageDispatchStage.java:64), org.apache.helix.controller.stages.task.TaskMessageDispatchStage.process(TaskMessageDispatchStage.java:33), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-25T05:30:02.7223868Z 4384723 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_9-(dd1a70ea_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_8 is not leader for TestClusterStatusMonitorLifecycle0_9. Pipeline will not be invoked\r\n2020-09-25T05:30:02.8032813Z 4384786 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_2-(7ec09f8c_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_8 is not leader for TestClusterStatusMonitorLifecycle0_2. Pipeline will not be invoked\r\n2020-09-25T05:30:02.8498667Z 4384851 [HelixTaskExecutor-message_handle_STATE_TRANSITION] ERROR org.apache.helix.messaging.handling.HelixStateTransitionHandler  - Current state of stateModel does not match the fromState in Message, CurrentState: OFFLINE, Message: STANDBY->LEADER, Partition: TestClusterStatusMonitorLifecycle0_1, from: controller_8, to: controller_8\r\n2020-09-25T05:30:02.8528059Z 4384854 [HelixTaskExecutor-message_handle_STATE_TRANSITION] ERROR org.apache.helix.messaging.handling.HelixTask  - Message execution failed. msgId: 38d888da-e24c-4fd8-a4b7-9c1d38a61290, errorMsg: org.apache.helix.messaging.handling.HelixStateTransitionHandler$HelixStateMismatchException: Current state of stateModel does not match the fromState in Message, CurrentState: OFFLINE, Message: STANDBY->LEADER, Partition: TestClusterStatusMonitorLifecycle0_1, from: controller_8, to: controller_8\r\n2020-09-25T05:30:02.8599782Z 4384862 [HelixTaskExecutor-message_handle_STATE_TRANSITION] ERROR org.apache.helix.messaging.handling.HelixStateTransitionHandler  - Skip internal error. errCode: ERROR, errMsg: Current state of stateModel does not match the fromState in Message, CurrentState: OFFLINE, Message: STANDBY->LEADER, Partition: TestClusterStatusMonitorLifecycle0_1, from: controller_8, to: controller_8\r\n2020-09-25T05:30:02.8795913Z 4384880 [HelixController-pipeline-default-CONTROLLER_TestClusterStatusMonitorLifecycle-(4a45c82c_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_8 is not leader for CONTROLLER_TestClusterStatusMonitorLifecycle. Pipeline will not be invoked\r\n2020-09-25T05:30:03.0941825Z 4385093 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.manager.zk.ZkBaseDataAccessor  - Exception while setting path: /CONTROLLER_TestClusterStatusMonitorLifecycle/INSTANCES/controller_9/CURRENTSTATES/1000004953516c1/TestClusterStatusMonitorLifecycle0\r\n2020-09-25T05:30:03.0945334Z org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T05:30:03.0948172Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694)\r\n2020-09-25T05:30:03.0950500Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.writeDataReturnStat(ZkClient.java:1912)\r\n2020-09-25T05:30:03.0952752Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.writeDataGetStat(ZkClient.java:1932)\r\n2020-09-25T05:30:03.0954726Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.doSet(ZkBaseDataAccessor.java:343)\r\n2020-09-25T05:30:03.0956534Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.set(ZkBaseDataAccessor.java:322)\r\n2020-09-25T05:30:03.0958266Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.set(ZkBaseDataAccessor.java:314)\r\n2020-09-25T05:30:03.0959676Z \tat org.apache.helix.GroupCommit.commit(GroupCommit.java:149)\r\n2020-09-25T05:30:03.0961406Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.updateProperty(ZKHelixDataAccessor.java:189)\r\n2020-09-25T05:30:03.0963809Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.updateProperty(ZKHelixDataAccessor.java:177)\r\n2020-09-25T05:30:03.0966969Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.postHandleMessage(HelixStateTransitionHandler.java:282)\r\n2020-09-25T05:30:03.0970723Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.handleMessage(HelixStateTransitionHandler.java:371)\r\n2020-09-25T05:30:03.0973666Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:97)\r\n2020-09-25T05:30:03.0975233Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:49)\r\n2020-09-25T05:30:03.0976522Z \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2020-09-25T05:30:03.0977887Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2020-09-25T05:30:03.0979480Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2020-09-25T05:30:03.0980461Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-25T05:30:03.0981085Z Caused by: java.lang.InterruptedException\r\n2020-09-25T05:30:03.0981710Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:30:03.0982261Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:30:03.0983229Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-25T05:30:03.0984471Z \tat org.apache.zookeeper.ZooKeeper.setData(ZooKeeper.java:1334)\r\n2020-09-25T05:30:03.0986308Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.writeDataReturnStat(ZkConnection.java:160)\r\n2020-09-25T05:30:03.0988374Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$12.call(ZkClient.java:1915)\r\n2020-09-25T05:30:03.0990306Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T05:30:03.0991552Z \t... 16 more\r\n2020-09-25T05:30:03.1086375Z 4385093 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.GroupCommit  - Fails to update /CONTROLLER_TestClusterStatusMonitorLifecycle/INSTANCES/controller_9/CURRENTSTATES/1000004953516c1/TestClusterStatusMonitorLifecycle0 to ZK, retry it! \r\n2020-09-25T05:30:03.6305065Z 4385110 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.manager.zk.ZkBaseDataAccessor  - Exception while setting path: /CONTROLLER_TestClusterStatusMonitorLifecycle/INSTANCES/controller_9/CURRENTSTATES/1000004953516c1/TestClusterStatusMonitorLifecycle0\r\n2020-09-25T05:30:03.6317741Z org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6320887Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694)\r\n2020-09-25T05:30:03.6325398Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.writeDataReturnStat(ZkClient.java:1912)\r\n2020-09-25T05:30:03.6328768Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.writeDataGetStat(ZkClient.java:1932)\r\n2020-09-25T05:30:03.6330926Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.doSet(ZkBaseDataAccessor.java:343)\r\n2020-09-25T05:30:03.6332828Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.set(ZkBaseDataAccessor.java:322)\r\n2020-09-25T05:30:03.6334672Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.set(ZkBaseDataAccessor.java:314)\r\n2020-09-25T05:30:03.6336177Z \tat org.apache.helix.GroupCommit.commit(GroupCommit.java:149)\r\n2020-09-25T05:30:03.6338080Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.updateProperty(ZKHelixDataAccessor.java:189)\r\n2020-09-25T05:30:03.6340611Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.updateProperty(ZKHelixDataAccessor.java:177)\r\n2020-09-25T05:30:03.6343879Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.postHandleMessage(HelixStateTransitionHandler.java:282)\r\n2020-09-25T05:30:03.6347764Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.handleMessage(HelixStateTransitionHandler.java:371)\r\n2020-09-25T05:30:03.6354831Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:97)\r\n2020-09-25T05:30:03.6356420Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:49)\r\n2020-09-25T05:30:03.6357703Z \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2020-09-25T05:30:03.6359084Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2020-09-25T05:30:03.6360671Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2020-09-25T05:30:03.6361653Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-25T05:30:03.6362654Z Caused by: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6363288Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:30:03.6363818Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:30:03.6364795Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-25T05:30:03.6366036Z \tat org.apache.zookeeper.ZooKeeper.setData(ZooKeeper.java:1334)\r\n2020-09-25T05:30:03.6367872Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.writeDataReturnStat(ZkConnection.java:160)\r\n2020-09-25T05:30:03.6369820Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$12.call(ZkClient.java:1915)\r\n2020-09-25T05:30:03.6371603Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T05:30:03.6372849Z \t... 16 more\r\n2020-09-25T05:30:03.6375083Z 4385111 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.GroupCommit  - Fails to update /CONTROLLER_TestClusterStatusMonitorLifecycle/INSTANCES/controller_9/CURRENTSTATES/1000004953516c1/TestClusterStatusMonitorLifecycle0 to ZK, retry it! \r\n2020-09-25T05:30:03.6378815Z 4385112 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.manager.zk.ZkBaseDataAccessor  - Exception while setting path: /CONTROLLER_TestClusterStatusMonitorLifecycle/INSTANCES/controller_9/CURRENTSTATES/1000004953516c1/TestClusterStatusMonitorLifecycle0\r\n2020-09-25T05:30:03.6382189Z org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6384721Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694)\r\n2020-09-25T05:30:03.6386998Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.writeDataReturnStat(ZkClient.java:1912)\r\n2020-09-25T05:30:03.6389326Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.writeDataGetStat(ZkClient.java:1932)\r\n2020-09-25T05:30:03.6391291Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.doSet(ZkBaseDataAccessor.java:343)\r\n2020-09-25T05:30:03.6393060Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.set(ZkBaseDataAccessor.java:322)\r\n2020-09-25T05:30:03.6394787Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.set(ZkBaseDataAccessor.java:314)\r\n2020-09-25T05:30:03.6396166Z \tat org.apache.helix.GroupCommit.commit(GroupCommit.java:149)\r\n2020-09-25T05:30:03.6397878Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.updateProperty(ZKHelixDataAccessor.java:189)\r\n2020-09-25T05:30:03.6400260Z \tat org.apache.helix.manager.zk.ZKHelixDataAccessor.updateProperty(ZKHelixDataAccessor.java:177)\r\n2020-09-25T05:30:03.6403400Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.postHandleMessage(HelixStateTransitionHandler.java:282)\r\n2020-09-25T05:30:03.6407145Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.handleMessage(HelixStateTransitionHandler.java:371)\r\n2020-09-25T05:30:03.6409723Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:97)\r\n2020-09-25T05:30:03.6411285Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:49)\r\n2020-09-25T05:30:03.6412554Z \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2020-09-25T05:30:03.6413924Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2020-09-25T05:30:03.6415516Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2020-09-25T05:30:03.6416495Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-25T05:30:03.6417114Z Caused by: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6417738Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:30:03.6418286Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:30:03.6419254Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-25T05:30:03.6420493Z \tat org.apache.zookeeper.ZooKeeper.setData(ZooKeeper.java:1334)\r\n2020-09-25T05:30:03.6422311Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.writeDataReturnStat(ZkConnection.java:160)\r\n2020-09-25T05:30:03.6424261Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$12.call(ZkClient.java:1915)\r\n2020-09-25T05:30:03.6426161Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T05:30:03.6427409Z \t... 16 more\r\n2020-09-25T05:30:03.6430408Z 4385112 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.GroupCommit  - Fails to update /CONTROLLER_TestClusterStatusMonitorLifecycle/INSTANCES/controller_9/CURRENTSTATES/1000004953516c1/TestClusterStatusMonitorLifecycle0 to ZK, retry it! \r\n2020-09-25T05:30:03.6433665Z 4385112 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.messaging.handling.HelixStateTransitionHandler  - Error when updating current-state \r\n2020-09-25T05:30:03.6436363Z org.apache.helix.HelixException: Fails to persist current state back to ZK for resource TestClusterStatusMonitorLifecycle0 partition: TestClusterStatusMonitorLifecycle0_1\r\n2020-09-25T05:30:03.6439537Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.postHandleMessage(HelixStateTransitionHandler.java:284)\r\n2020-09-25T05:30:03.6444025Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.handleMessage(HelixStateTransitionHandler.java:371)\r\n2020-09-25T05:30:03.6446639Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:97)\r\n2020-09-25T05:30:03.6448666Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:49)\r\n2020-09-25T05:30:03.6449977Z \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2020-09-25T05:30:03.6451353Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2020-09-25T05:30:03.6452927Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2020-09-25T05:30:03.6454596Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-25T05:30:03.6457620Z 4385126 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_1-(0485645c_DEFAULT)] ERROR org.apache.helix.controller.rebalancer.waged.WagedRebalancer  - Failed to calculate the new assignments.\r\n2020-09-25T05:30:03.6460772Z org.apache.helix.HelixRebalanceException: Failed to get the current best possible assignment because of unexpected error. Failure Type: INVALID_REBALANCER_STATUS\r\n2020-09-25T05:30:03.6469634Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:664)\r\n2020-09-25T05:30:03.6473230Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.partialRebalance(WagedRebalancer.java:516)\r\n2020-09-25T05:30:03.6476920Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:357)\r\n2020-09-25T05:30:03.6481180Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n2020-09-25T05:30:03.6487343Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n2020-09-25T05:30:03.6492487Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n2020-09-25T05:30:03.6503197Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n2020-09-25T05:30:03.6506286Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n2020-09-25T05:30:03.6508860Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-25T05:30:03.6510945Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-25T05:30:03.6513311Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-25T05:30:03.6515572Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-25T05:30:03.6518509Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6521106Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694)\r\n2020-09-25T05:30:03.6523261Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1831)\r\n2020-09-25T05:30:03.6524936Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1823)\r\n2020-09-25T05:30:03.6526949Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.get(ZkBaseDataAccessor.java:473)\r\n2020-09-25T05:30:03.6529249Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:260)\r\n2020-09-25T05:30:03.6532402Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:238)\r\n2020-09-25T05:30:03.6537797Z \tat org.apache.helix.controller.rebalancer.waged.AssignmentMetadataStore.getBestPossibleAssignment(AssignmentMetadataStore.java:84)\r\n2020-09-25T05:30:03.6543630Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:661)\r\n2020-09-25T05:30:03.6546125Z \t... 11 more\r\n2020-09-25T05:30:03.6546606Z Caused by: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6547245Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:30:03.6547915Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:30:03.6548901Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-25T05:30:03.6550325Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1219)\r\n2020-09-25T05:30:03.6551683Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1250)\r\n2020-09-25T05:30:03.6553236Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.readData(ZkConnection.java:144)\r\n2020-09-25T05:30:03.6554941Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1835)\r\n2020-09-25T05:30:03.6556502Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1831)\r\n2020-09-25T05:30:03.6558571Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T05:30:03.6560322Z \t... 18 more\r\n2020-09-25T05:30:03.6563702Z 4385141 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_1-(0485645c_DEFAULT)] ERROR org.apache.helix.controller.stages.BestPossibleStateCalcStage  - Event 0485645c_DEFAULT : Failed to calculate the new Ideal States using the rebalancer WagedRebalancer due to INVALID_REBALANCER_STATUS\r\n2020-09-25T05:30:03.6567213Z org.apache.helix.HelixRebalanceException: Failed to get the current best possible assignment because of unexpected error. Failure Type: INVALID_REBALANCER_STATUS\r\n2020-09-25T05:30:03.6570034Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:664)\r\n2020-09-25T05:30:03.6573649Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.partialRebalance(WagedRebalancer.java:516)\r\n2020-09-25T05:30:03.6577735Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleAssignment(WagedRebalancer.java:357)\r\n2020-09-25T05:30:03.6581774Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeBestPossibleStates(WagedRebalancer.java:327)\r\n2020-09-25T05:30:03.6585515Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.computeNewIdealStates(WagedRebalancer.java:262)\r\n2020-09-25T05:30:03.6590825Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.computeResourceBestPossibleStateWithWagedRebalancer(BestPossibleStateCalcStage.java:270)\r\n2020-09-25T05:30:03.6595681Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.compute(BestPossibleStateCalcStage.java:126)\r\n2020-09-25T05:30:03.6598708Z \tat org.apache.helix.controller.stages.BestPossibleStateCalcStage.process(BestPossibleStateCalcStage.java:85)\r\n2020-09-25T05:30:03.6601025Z \tat org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68)\r\n2020-09-25T05:30:03.6603090Z \tat org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777)\r\n2020-09-25T05:30:03.6605464Z \tat org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128)\r\n2020-09-25T05:30:03.6607718Z \tat org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)\r\n2020-09-25T05:30:03.6610428Z Caused by: org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6612993Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694)\r\n2020-09-25T05:30:03.6614959Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1831)\r\n2020-09-25T05:30:03.6616633Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.readData(ZkClient.java:1823)\r\n2020-09-25T05:30:03.6618324Z \tat org.apache.helix.manager.zk.ZkBaseDataAccessor.get(ZkBaseDataAccessor.java:473)\r\n2020-09-25T05:30:03.6620590Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:260)\r\n2020-09-25T05:30:03.6623402Z \tat org.apache.helix.manager.zk.ZkBucketDataAccessor.compressedBucketRead(ZkBucketDataAccessor.java:238)\r\n2020-09-25T05:30:03.6627170Z \tat org.apache.helix.controller.rebalancer.waged.AssignmentMetadataStore.getBestPossibleAssignment(AssignmentMetadataStore.java:84)\r\n2020-09-25T05:30:03.6631579Z \tat org.apache.helix.controller.rebalancer.waged.WagedRebalancer.getBestPossibleAssignment(WagedRebalancer.java:661)\r\n2020-09-25T05:30:03.6633745Z \t... 11 more\r\n2020-09-25T05:30:03.6634214Z Caused by: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6634827Z \tat java.lang.Object.wait(Native Method)\r\n2020-09-25T05:30:03.6635377Z \tat java.lang.Object.wait(Object.java:502)\r\n2020-09-25T05:30:03.6636350Z \tat org.apache.zookeeper.ClientCnxn.submitRequest(ClientCnxn.java:1411)\r\n2020-09-25T05:30:03.6637591Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1219)\r\n2020-09-25T05:30:03.6640034Z \tat org.apache.zookeeper.ZooKeeper.getData(ZooKeeper.java:1250)\r\n2020-09-25T05:30:03.6645357Z \tat org.apache.helix.zookeeper.zkclient.ZkConnection.readData(ZkConnection.java:144)\r\n2020-09-25T05:30:03.6647005Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1835)\r\n2020-09-25T05:30:03.6648319Z \tat org.apache.helix.zookeeper.zkclient.ZkClient$11.call(ZkClient.java:1831)\r\n2020-09-25T05:30:03.6650112Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1678)\r\n2020-09-25T05:30:03.6651358Z \t... 18 more\r\n2020-09-25T05:30:03.6654589Z 4385144 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.messaging.handling.HelixTask  - Exception while executing a message. org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException msgId: 2b874ac8-1751-420b-aa10-4a56f10ce659 type: STATE_TRANSITION\r\n2020-09-25T05:30:03.6659649Z org.apache.helix.zookeeper.zkclient.exception.ZkInterruptedException: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6662158Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1634)\r\n2020-09-25T05:30:03.6664569Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.waitForKeeperState(ZkClient.java:1611)\r\n2020-09-25T05:30:03.6666831Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.waitUntilConnected(ZkClient.java:1602)\r\n2020-09-25T05:30:03.6670100Z \tat org.apache.helix.manager.zk.ZKHelixManager.cleanupCallbackHandlers(ZKHelixManager.java:873)\r\n2020-09-25T05:30:03.6672283Z \tat org.apache.helix.manager.zk.ZKHelixManager.disconnect(ZKHelixManager.java:823)\r\n2020-09-25T05:30:03.6674710Z \tat org.apache.helix.participant.DistClusterControllerStateModel.reset(DistClusterControllerStateModel.java:116)\r\n2020-09-25T05:30:03.6678379Z \tat org.apache.helix.participant.AbstractHelixLeaderStandbyStateModel.rollbackOnError(AbstractHelixLeaderStandbyStateModel.java:86)\r\n2020-09-25T05:30:03.6682476Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.postHandleMessage(HelixStateTransitionHandler.java:297)\r\n2020-09-25T05:30:03.6686219Z \tat org.apache.helix.messaging.handling.HelixStateTransitionHandler.handleMessage(HelixStateTransitionHandler.java:371)\r\n2020-09-25T05:30:03.6688793Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:97)\r\n2020-09-25T05:30:03.6690357Z \tat org.apache.helix.messaging.handling.HelixTask.call(HelixTask.java:49)\r\n2020-09-25T05:30:03.6691810Z \tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n2020-09-25T05:30:03.6693189Z \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n2020-09-25T05:30:03.6694763Z \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n2020-09-25T05:30:03.6695749Z \tat java.lang.Thread.run(Thread.java:748)\r\n2020-09-25T05:30:03.6696377Z Caused by: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6698412Z \tat java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireInterruptibly(AbstractQueuedSynchronizer.java:1223)\r\n2020-09-25T05:30:03.6701102Z \tat java.util.concurrent.locks.ReentrantLock.lockInterruptibly(ReentrantLock.java:340)\r\n2020-09-25T05:30:03.6703161Z \tat org.apache.helix.zookeeper.zkclient.ZkClient.acquireEventLock(ZkClient.java:1632)\r\n2020-09-25T05:30:03.6704317Z \t... 14 more\r\n2020-09-25T05:30:03.6707286Z 4385145 [TaskJobPurgeWorker-TestClusterStatusMonitorLifecycle0_1] ERROR org.apache.helix.controller.pipeline.AbstractAsyncBaseStage  - Failed to process TASK::TaskGarbageCollectionStage asynchronously\r\n2020-09-25T05:30:03.6710103Z org.apache.helix.HelixException: HelixManager (ZkClient) is not connected. Call HelixManager#connect()\r\n2020-09-25T05:30:03.6711842Z \tat org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:388)\r\n2020-09-25T05:30:03.6714000Z \tat org.apache.helix.manager.zk.ZKHelixManager.getHelixDataAccessor(ZKHelixManager.java:658)\r\n2020-09-25T05:30:03.6716078Z \tat org.apache.helix.task.TaskUtil.workflowGarbageCollection(TaskUtil.java:1118)\r\n2020-09-25T05:30:03.6718492Z \tat org.apache.helix.controller.stages.TaskGarbageCollectionStage.execute(TaskGarbageCollectionStage.java:126)\r\n2020-09-25T05:30:03.6721173Z \tat org.apache.helix.controller.pipeline.AbstractAsyncBaseStage$1.run(AbstractAsyncBaseStage.java:47)\r\n2020-09-25T05:30:03.6723340Z \tat org.apache.helix.controller.GenericHelixController$3.handleEvent(GenericHelixController.java:654)\r\n2020-09-25T05:30:03.6725333Z \tat org.apache.helix.controller.GenericHelixController$3.handleEvent(GenericHelixController.java:650)\r\n2020-09-25T05:30:03.6727151Z \tat org.apache.helix.common.DedupEventProcessor.run(DedupEventProcessor.java:61)\r\n2020-09-25T05:30:03.6740087Z 4385145 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_1-(3e22ed78_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing TASK pipeline: TestClusterStatusMonitorLifecycle0_1 for cluster [org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:388), org.apache.helix.manager.zk.ZKHelixManager.getHelixDataAccessor(ZKHelixManager.java:658), org.apache.helix.controller.stages.MessageDispatchStage.processEvent(MessageDispatchStage.java:64), org.apache.helix.controller.stages.task.TaskMessageDispatchStage.process(TaskMessageDispatchStage.java:33), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-25T05:30:03.6754003Z 4385146 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_1-(a70bc871_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_9 is not leader for TestClusterStatusMonitorLifecycle0_1. Pipeline will not be invoked\r\n2020-09-25T05:30:03.6768901Z 4385146 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_1-(0485645c_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing DEFAULT pipeline: TestClusterStatusMonitorLifecycle0_1 for cluster [org.apache.helix.manager.zk.ZKHelixManager.checkConnected(ZKHelixManager.java:388), org.apache.helix.manager.zk.ZKHelixManager.getHelixDataAccessor(ZKHelixManager.java:658), org.apache.helix.controller.stages.MessageDispatchStage.processEvent(MessageDispatchStage.java:64), org.apache.helix.controller.stages.resource.ResourceMessageDispatchStage.process(ResourceMessageDispatchStage.java:33), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-25T05:30:03.6783257Z 4385146 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_1-(c5e03106_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_9 is not leader for TestClusterStatusMonitorLifecycle0_1. Pipeline will not be invoked\r\n2020-09-25T05:30:03.6788441Z 4385156 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_1-(c5f40b5a_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_9 is not leader for TestClusterStatusMonitorLifecycle0_1. Pipeline will not be invoked\r\n2020-09-25T05:30:03.6793735Z 4385156 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_1-(bd4172dc_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Cluster manager: controller_9 is not leader for TestClusterStatusMonitorLifecycle0_1. Pipeline will not be invoked\r\n2020-09-25T05:30:03.6799700Z 4385158 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.messaging.handling.HelixTask  - Message execution failed. msgId: 2b874ac8-1751-420b-aa10-4a56f10ce659, errorMsg: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6804249Z 4385172 [HelixTaskExecutor-message_handle_thread_37853] ERROR org.apache.helix.messaging.handling.HelixStateTransitionHandler  - Skip internal error. errCode: ERROR, errMsg: java.lang.InterruptedException\r\n2020-09-25T05:30:03.6829124Z 4385339 [HelixController-pipeline-default-TestClusterStatusMonitorLifecycle0_0-(2cae692c_DEFAULT)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing DEFAULT pipeline: TestClusterStatusMonitorLifecycle0_0 for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694), org.apache.helix.zookeeper.zkclient.ZkClient.getChildren(ZkClient.java:1047), org.apache.helix.zookeeper.zkclient.ZkClient.getChildren(ZkClient.java:1040), org.apache.helix.manager.zk.ZkBaseDataAccessor.getChildNames(ZkBaseDataAccessor.java:669), org.apache.helix.manager.zk.ZKHelixDataAccessor.getChildNames(ZKHelixDataAccessor.java:394), org.apache.helix.common.caches.PropertyCache.genSelectiveUpdateInput(PropertyCache.java:133), org.apache.helix.common.caches.PropertyCache.doRefreshWithSelectiveUpdate(PropertyCache.java:174), org.apache.helix.common.caches.PropertyCache.refresh(PropertyCache.java:158), org.apache.helix.controller.dataproviders.BaseControllerDataProvider.refreshLiveInstances(BaseControllerDataProvider.java:256), org.apache.helix.controller.dataproviders.BaseControllerDataProvider.doRefresh(BaseControllerDataProvider.java:330), org.apache.helix.controller.dataproviders.ResourceControllerDataProvider.refresh(ResourceControllerDataProvider.java:143), org.apache.helix.controller.stages.ReadClusterDataStage.process(ReadClusterDataStage.java:63), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-25T05:30:03.6873566Z 4385341 [HelixController-pipeline-task-TestClusterStatusMonitorLifecycle0_0-(2cae692c_TASK)] ERROR org.apache.helix.controller.GenericHelixController  - Exception while executing TASK pipeline: TestClusterStatusMonitorLifecycle0_0 for cluster [org.apache.helix.zookeeper.zkclient.ZkClient.retryUntilConnected(ZkClient.java:1694), org.apache.helix.zookeeper.zkclient.ZkClient.getChildren(ZkClient.java:1047), org.apache.helix.zookeeper.zkclient.ZkClient.getChildren(ZkClient.java:1040), org.apache.helix.manager.zk.ZkBaseDataAccessor.getChildNames(ZkBaseDataAccessor.java:669), org.apache.helix.manager.zk.ZKHelixDataAccessor.getChildNames(ZKHelixDataAccessor.java:394), org.apache.helix.common.caches.PropertyCache.genSelectiveUpdateInput(PropertyCache.java:133), org.apache.helix.common.caches.PropertyCache.doRefreshWithSelectiveUpdate(PropertyCache.java:174), org.apache.helix.common.caches.PropertyCache.refresh(PropertyCache.java:158), org.apache.helix.controller.dataproviders.BaseControllerDataProvider.refreshInstanceConfigs(BaseControllerDataProvider.java:269), org.apache.helix.controller.dataproviders.BaseControllerDataProvider.doRefresh(BaseControllerDataProvider.java:331), org.apache.helix.controller.dataproviders.WorkflowControllerDataProvider.refresh(WorkflowControllerDataProvider.java:88), org.apache.helix.controller.stages.ReadClusterDataStage.process(ReadClusterDataStage.java:63), org.apache.helix.controller.pipeline.Pipeline.handle(Pipeline.java:68), org.apache.helix.controller.GenericHelixController.handleEvent(GenericHelixController.java:777), org.apache.helix.controller.GenericHelixController.access$500(GenericHelixController.java:128), org.apache.helix.controller.GenericHelixController$ClusterEventProcessor.run(GenericHelixController.java:1407)]. Will not continue to next pipeline\r\n2020-09-25T05:30:34.5107540Z 4416507 [ZkClient-EventThread-54905-localhost:2183] ERROR org.apache.helix.manager.zk.ZKHelixManager  - fail to connect zkserver: localhost:2183 in 60000ms. expiredSessionId: 100000495350e0f, clusterName: TestSessionExpiryInTransition_testSessionExpiryInTransition\r\n2020-09-25T05:31:04.1459039Z 4445535 [TestNGInvoker-testClusterStatusMonitorLifecycle()] ERROR org.apache.helix.TestHelper  - verifier time out, consider try longer timeout, stack trace[java.lang.Thread.getStackTrace(Thread.java:1559), org.apache.helix.TestHelper.verify(TestHelper.java:809), org.apache.helix.monitoring.TestClusterStatusMonitorLifecycle.testClusterStatusMonitorLifecycle(TestClusterStatusMonitorLifecycle.java:298), sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method), sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62), sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43), java.lang.reflect.Method.invoke(Method.java:498), org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:76), org.testng.internal.InvokeMethodRunnable.runOne(InvokeMethodRunnable.java:46), org.testng.internal.InvokeMethodRunnable.run(InvokeMethodRunnable.java:37), java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511), java.util.concurrent.FutureTask.run(FutureTask.java:266), java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149), java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624), java.lang.Thread.run(Thread.java:748)]\r\n2020-09-25T05:31:04.1472049Z END TestClusterStatusMonitorLifecycle testClusterStatusMonitorLifecycle at Fri Sep 25 05:31:03 UTC 2020, took: 64819ms.\r\n2020-09-25T05:31:04.1473697Z AfterClass: TestClusterStatusMonitorLifecycle of TestClusterStatusMonitorLifeCycle called.\r\n2020-09-25T05:31:04.1474658Z Cleaning up...\r\n2020-09-25T05:31:04.1475248Z END TestClusterStatusMonitorLifecycle at Fri Sep 25 05:31:03 UTC 2020\r\n2020-09-25T05:31:04.1476288Z AfterClass:TestClusterStatusMonitorLifecycle afterclass of ZkTestBase called!","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698737876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698749436","html_url":"https://github.com/apache/helix/issues/1280#issuecomment-698749436","issue_url":"https://api.github.com/repos/apache/helix/issues/1280","id":698749436,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODc0OTQzNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T06:32:52Z","updated_at":"2020-09-25T06:32:52Z","author_association":"CONTRIBUTOR","body":"leaked threads\r\n>2020-09-25T05:31:04.1622348Z Failure Other threads has 279 thread\r\n2020-09-25T05:31:04.1623315Z 0 thread:GerenricHelixController-message_handle_STATE_TRANSITION.TestDB3\r\n2020-09-25T05:31:04.1624415Z 1 thread:TaskJobPurgeWorker-CLUSTER_TestTaskStage\r\n2020-09-25T05:31:04.1625532Z 2 thread:GerenricHelixController-message_handle_STATE_TRANSITION.TestDB3\r\n2020-09-25T05:31:04.1626403Z 3 thread:pool-1054-thread-7\r\n2020-09-25T05:31:04.1627299Z 4 thread:GerenricHelixController-message_handle_STATE_TRANSITION.NextDB\r\n2020-09-25T05:31:04.1628709Z 5 thread:GerenricHelixController-message_handle_STATE_TRANSITION.TestDB3\r\n**2020-09-25T05:31:04.1630137Z 6 thread:HelixController-async_tasks-TestClusterStatusMonitorLifecycle0_1**","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698749436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698752926","html_url":"https://github.com/apache/helix/issues/1280#issuecomment-698752926","issue_url":"https://api.github.com/repos/apache/helix/issues/1280","id":698752926,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODc1MjkyNg==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T06:42:26Z","updated_at":"2020-09-25T06:42:26Z","author_association":"CONTRIBUTOR","body":"these  async tasks has clustermonitor reference. If the they are not properly shutdown. This test would fail.\r\n\r\nshutdown __asyncTasksThreadPool logic is here.\r\n\r\n```\r\n    // shutdown asycTasksThreadpool and wait for terminate.\r\n    _asyncTasksThreadPool.shutdownNow();\r\n    try {\r\n      _asyncTasksThreadPool.awaitTermination(EVENT_THREAD_JOIN_TIMEOUT, TimeUnit.MILLISECONDS);\r\n    } catch (InterruptedException ex) {\r\n      logger.warn(\"Timeout when terminating async tasks. Some async tasks are still executing.\");\r\n    }\r\n\r\n```\r\n\r\nNote, the shutdown is best effort, not guarantee.  We may have a warning message in the case, but the test does not output warning.\r\n\r\nAll in all, let us disable this test as there is no guarantee of shutting down all threads.","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698752926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698758339","html_url":"https://github.com/apache/helix/issues/1374#issuecomment-698758339","issue_url":"https://api.github.com/repos/apache/helix/issues/1374","id":698758339,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODc1ODMzOQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T06:56:29Z","updated_at":"2020-09-25T06:56:29Z","author_association":"CONTRIBUTOR","body":"LOG 1482\r\n\r\n><<< FAILURE! - in TestSuite\r\n2020-09-25T05:36:20.3582205Z [ERROR] testAutoRebalance(org.apache.helix.integration.rebalancer.TestAutoRebalance)  Time elapsed: 31.81 s  <<< FAILURE!\r\n2020-09-25T05:36:20.3584157Z java.lang.AssertionError: expected:<true> but was:<false>\r\n2020-09-25T05:36:20.3586595Z \tat org.apache.helix.integration.rebalancer.TestAutoRebalance.testAutoRebalance(TestAutoRebalance.java:186)\r\n2020-09-25T05:36:20.3588251Z \r\n2020-09-25T05:36:20.7485311Z [ERROR] Failures: \r\n2020-09-25T05:36:20.7490402Z [ERROR]   TestAutoRebalance.testAutoRebalance:186 expected:<true> but was:<false>\r\n\r\n>020-09-25T04:48:04.6388323Z START TestAutoRebalance at Fri Sep 25 04:48:04 UTC 2020\r\n2020-09-25T04:48:06.1099349Z true: wait 9ms, org.apache.helix.integration.rebalancer.TestAutoRebalance$ExternalViewBalancedVerifier@5d4e13e1\r\n2020-09-25T04:48:06.1101169Z START TestAutoRebalance testAutoRebalance at Fri Sep 25 04:48:06 UTC 2020\r\n2020-09-25T04:48:06.3820957Z true: wait 267ms, org.apache.helix.integration.rebalancer.TestAutoRebalance$ExternalViewBalancedVerifier@76f35feb\r\n2020-09-25T04:48:37.9076332Z false: org.apache.helix.integration.rebalancer.TestAutoRebalance$ExternalViewBalancedVerifier@3f0ae3a8: wait 30040ms to verify\r\n2020-09-25T04:48:37.9210525Z END TestAutoRebalance testAutoRebalance at Fri Sep 25 04:48:37 UTC 2020, took: 31810ms.\r\n2020-09-25T04:48:","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698758339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698759005","html_url":"https://github.com/apache/helix/issues/1374#issuecomment-698759005","issue_url":"https://api.github.com/repos/apache/helix/issues/1374","id":698759005,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODc1OTAwNQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T06:58:12Z","updated_at":"2020-09-25T06:58:12Z","author_association":"CONTRIBUTOR","body":"```\r\n    Thread.sleep(TestHelper.DEFAULT_REBALANCE_PROCESSING_WAIT_TIME);\r\n    result = ClusterStateVerifier.verifyByPolling(\r\n        new ExternalViewBalancedVerifier(_gZkClient, CLUSTER_NAME, TEST_DB), 30000, 100);\r\n    Assert.assertTrue(result);  ---> failed\r\n\r\n```","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698759005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698806946","html_url":"https://github.com/apache/helix/issues/1406#issuecomment-698806946","issue_url":"https://api.github.com/repos/apache/helix/issues/1406","id":698806946,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODgwNjk0Ng==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T08:47:48Z","updated_at":"2020-09-25T08:47:48Z","author_association":"CONTRIBUTOR","body":"LOG 1502\r\n\r\n>2020-09-25T08:35:06.8783404Z [ERROR] Tests run: 1205, Failures: 1, Errors: 0, Skipped: 1, Time elapsed: 4,608.126 s <<< FAILURE! - in TestSuite\r\n2020-09-25T08:35:06.8807743Z [ERROR] testForceDeleteJobFromJobQueue(org.apache.helix.integration.task.TestDeleteJobFromJobQueue)  Time elapsed: 0.17 s  <<< FAILURE!\r\n2020-09-25T08:35:06.8810808Z org.apache.helix.HelixException: Failed to delete job: testForceDeleteJobFromJobQueue_job2 from queue: testForceDeleteJobFromJobQueue\r\n2020-09-25T08:35:06.8815043Z \tat org.apache.helix.integration.task.TestDeleteJobFromJobQueue.testForceDeleteJobFromJobQueue(TestDeleteJobFromJobQueue.java:73)\r\n2020-09-25T08:35:06.8818002Z \r\n2020-09-25T08:35:07.2724839Z [ERROR] Failures: \r\n2020-09-25T08:35:07.2731253Z [ERROR]   TestDeleteJobFromJobQueue.testForceDeleteJobFromJobQueue:73 Â» Helix Failed ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698806946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698807399","html_url":"https://github.com/apache/helix/issues/1406#issuecomment-698807399","issue_url":"https://api.github.com/repos/apache/helix/issues/1406","id":698807399,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODgwNzM5OQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T08:48:49Z","updated_at":"2020-09-25T08:48:49Z","author_association":"CONTRIBUTOR","body":"LOG 1505\r\n> 2020-09-25T08:34:08.8691684Z [ERROR] testForceDeleteJobFromJobQueue(org.apache.helix.integration.task.TestDeleteJobFromJobQueue)  Time elapsed: 0.146 s  <<< FAILURE!\r\n2020-09-25T08:34:08.8693946Z org.apache.helix.HelixException: Failed to delete job: testForceDeleteJobFromJobQueue_job2 from queue: testForceDeleteJobFromJobQueue\r\n2020-09-25T08:34:08.8696797Z \tat org.apache.helix.integration.task.TestDeleteJobFromJobQueue.testForceDeleteJobFromJobQueue(TestDeleteJobFromJobQueue.java:73)\r\n2020-09-25T08:34:08.8698837Z ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698807399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/helix/issues/comments/698809085","html_url":"https://github.com/apache/helix/issues/1283#issuecomment-698809085","issue_url":"https://api.github.com/repos/apache/helix/issues/1283","id":698809085,"node_id":"MDEyOklzc3VlQ29tbWVudDY5ODgwOTA4NQ==","user":{"login":"kaisun2000","id":52840222,"node_id":"MDQ6VXNlcjUyODQwMjIy","avatar_url":"https://avatars.githubusercontent.com/u/52840222?v=4","gravatar_id":"","url":"https://api.github.com/users/kaisun2000","html_url":"https://github.com/kaisun2000","followers_url":"https://api.github.com/users/kaisun2000/followers","following_url":"https://api.github.com/users/kaisun2000/following{/other_user}","gists_url":"https://api.github.com/users/kaisun2000/gists{/gist_id}","starred_url":"https://api.github.com/users/kaisun2000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaisun2000/subscriptions","organizations_url":"https://api.github.com/users/kaisun2000/orgs","repos_url":"https://api.github.com/users/kaisun2000/repos","events_url":"https://api.github.com/users/kaisun2000/events{/privacy}","received_events_url":"https://api.github.com/users/kaisun2000/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-25T08:52:07Z","updated_at":"2020-09-25T08:52:07Z","author_association":"CONTRIBUTOR","body":"LOG 1505\r\n>2020-09-25T08:34:08.8679889Z [ERROR] testWhenAllowOverlapJobAssignment(org.apache.helix.integration.task.TestTaskRebalancerParallel)  Time elapsed: 5.044 s  <<< FAILURE!\r\n2020-09-25T08:34:08.8681703Z java.lang.AssertionError: expected:<true> but was:<false>\r\n2020-09-25T08:34:08.8684400Z \tat org.apache.helix.integration.task.TestTaskRebalancerParallel.testWhenAllowOverlapJobAssignment(TestTaskRebalancerParallel.java:124)\r\n2020-09-25T08:34:08.8689680Z ","reactions":{"url":"https://api.github.com/repos/apache/helix/issues/comments/698809085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]