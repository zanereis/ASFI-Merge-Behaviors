[{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460820","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460820","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460820,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T20:13:09Z","updated_at":"2025-01-24T12:51:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12813729\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12813729</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Server.java &#8212;<br/>\n    @@ -133,4 +242,12 @@ public synchronized void close() {<br/>\n public void send(int task, byte[] message) </p>\n{\n     throw new RuntimeException(\"Server connection should not send any messages\");\n }\n<p>    +    <br/>\n    +    public void send(Iterator<TaskMessage> msgs) </p>\n{\n    +      throw new RuntimeException(\"Server connection should not send any messages\");\n    +    }\n<p>    +\t<br/>\n    +\t public String name() {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Indentation appears to be off here.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460824","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460824","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460824,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T20:15:09Z","updated_at":"2025-01-24T12:51:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12813817\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12813817</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/StormClientHandler.java &#8212;<br/>\n    @@ -18,70 +18,24 @@<br/>\n     package backtype.storm.messaging.netty;</p>\n\n<p>     import java.net.ConnectException;<br/>\n    -import java.util.concurrent.atomic.AtomicBoolean;</p>\n\n<p>    -import org.jboss.netty.channel.Channel;<br/>\n    -import org.jboss.netty.channel.ChannelHandlerContext;<br/>\n    -import org.jboss.netty.channel.ChannelStateEvent;<br/>\n    -import org.jboss.netty.channel.ExceptionEvent;<br/>\n    -import org.jboss.netty.channel.MessageEvent;<br/>\n    -import org.jboss.netty.channel.SimpleChannelUpstreamHandler;<br/>\n    +import org.jboss.netty.channel.*;<br/>\n     import org.slf4j.Logger;<br/>\n     import org.slf4j.LoggerFactory;</p>\n\n<p>    -import java.net.ConnectException;<br/>\n    -import java.util.concurrent.atomic.AtomicBoolean;<br/>\n    -<br/>\n     public class StormClientHandler extends SimpleChannelUpstreamHandler  {<br/>\n private static final Logger LOG = LoggerFactory.getLogger(StormClientHandler.class);<br/>\n private Client client;</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>long start_time;</li>\n</ul>\n\n\n<p> StormClientHandler(Client client) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    If all this code does now is log error messages can we drop the Client from the constructor and rename it to something that describes what it does better?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460824/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460826","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460826","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460826,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T20:15:57Z","updated_at":"2025-01-24T12:51:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12813854\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12813854</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/StormServerHandler.java &#8212;<br/>\n    @@ -41,30 +45,22 @@ public void channelConnected(ChannelHandlerContext ctx, ChannelStateEvent e) {</p>\n\n<p> @Override<br/>\n public void messageReceived(ChannelHandlerContext ctx, MessageEvent e) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>Object msg = e.getMessage();</li>\n\t<li>if (msg == null) return;<br/>\n    -</li>\n\t<li>//end of batch?</li>\n\t<li>if (msg==ControlMessage.EOB_MESSAGE) \n{\n    -    Channel channel = ctx.getChannel();\n    -    LOG.debug(\"Send back response ...\");\n    -    if (failure_count.get()==0)\n    -channel.write(ControlMessage.OK_RESPONSE);\n    -    else channel.write(ControlMessage.FAILURE_RESPONSE);\n    -    return;\n    -}</li>\n\t<li></li>\n\t<li>//enqueue the received message for processing</li>\n\t<li>try \n{\n    -    server.enqueue((TaskMessage)msg);\n    -}\n<p> catch (InterruptedException e1) </p>\n{\n    -    LOG.info(\"failed to enqueue a request message\", e);\n    -    failure_count.incrementAndGet();\n    -}\n<p>    +      List<TaskMessage> msgs = (List<TaskMessage>) e.getMessage();<br/>\n    +      if (msgs == null) </p>\n{\n    +return;\n    +      }\n<p>    +      <br/>\n    +      try </p>\n{\n    +server.enqueue(msgs);\n    +      }\n<p> catch (InterruptedException e1) </p>\n{\n    +LOG.info(\"failed to enqueue a request message\", e);\n    +failure_count.incrementAndGet();\n    +      }\n<p> }</p></li>\n</ul>\n\n\n<p> @Override<br/>\n public void exceptionCaught(ChannelHandlerContext ctx, ExceptionEvent e) {<br/>\n    +e.getCause().printStackTrace();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Can we log this properly instead of just printing the stack trace to stderr?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460826/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460832","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460832","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460832,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T20:22:47Z","updated_at":"2025-01-24T12:51:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12814221\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12814221</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/Utils.java &#8212;<br/>\n    @@ -301,15 +303,39 @@ public static ComponentCommon getComponentCommon(StormTopology topology, String<br/>\n }</p>\n\n<p> public static Integer getInt(Object o) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>if(o instanceof Long) \n{\n    -    return ((Long) o ).intValue();\n    -}\n<p> else if (o instanceof Integer) </p>\n{\n    -    return (Integer) o;\n    -}\n<p> else if (o instanceof Short) </p>\n{\n    -    return ((Short) o).intValue();\n    -}\n<p> else </p>\n{\n    -    throw new IllegalArgumentException(\"Don't know how to convert \" + o + \" + to int\");\n    -}\n<p>    +      Integer result = getInt(o, null);<br/>\n    +      if (null == result) </p>\n{\n    +throw new IllegalArgumentException(\"Don't know how to convert null + to int\");\n    +      }\n<p>    +      return result;<br/>\n    +    }<br/>\n    +    <br/>\n    +    public static Integer getInt(Object o, Integer defaultValue) {<br/>\n    +      if (null == o) </p>\n{\n    +return defaultValue;\n    +      }\n<p>    +      <br/>\n    +      if(o instanceof Long) {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Why?  If I type in 3.5 for an integer config and I get a 3 out of it, is it a problem?  If so then we need to change Config.java to not just expect a Number for these things, but instead have a proper checker that knows this should be an Integer, and checks ranges etc.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460832/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43553213","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43553213","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43553213,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTUzMjEz","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T20:25:04Z","updated_at":"2014-05-19T20:25:04Z","author_association":"CONTRIBUTOR","body":"I did a quick pass through the code.  I have some concerns about the blocking nature of a number of the calls, especially connect.  This just feels like it is going to make the worker block until all other workers are up and the connections have been established.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43553213/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460835","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460835","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460835,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T20:25:05Z","updated_at":"2025-01-24T12:51:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43553213\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43553213</a></p>\n\n<p>    I did a quick pass through the code.  I have some concerns about the blocking nature of a number of the calls, especially connect.  This just feels like it is going to make the worker block until all other workers are up and the connections have been established.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43555788","html_url":"https://github.com/apache/storm/pull/118#issuecomment-43555788","issue_url":"https://api.github.com/repos/apache/storm/issues/118","id":43555788,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTU1Nzg4","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T20:46:25Z","updated_at":"2014-05-19T20:46:25Z","author_association":"CONTRIBUTOR","body":"The change looks good to me I am +1, but it would be nice to see a test case that reproduces the error.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43555788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466136","html_url":"https://github.com/apache/storm/issues/4168#issuecomment-2612466136","issue_url":"https://api.github.com/repos/apache/storm/issues/4168","id":2612466136,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjYxMzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T20:46:28Z","updated_at":"2025-01-24T12:53:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/118#issuecomment-43555788\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/118#issuecomment-43555788</a></p>\n\n<p>    The change looks good to me I am +1, but it would be nice to see a test case that reproduces the error.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466136/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462635","html_url":"https://github.com/apache/storm/issues/4149#issuecomment-2612462635","issue_url":"https://api.github.com/repos/apache/storm/issues/4149","id":2612462635,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjI2MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:08:14Z","updated_at":"2025-01-24T12:52:41Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>For some strange reason all of the local state files are empty, but not the isupervisor ones.  This either means that Utils.serialize returned an empty array, or that FileUtils.writeByteArrayToFile did not fully write out what it was supposed to.  Either way this seems very odd. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43558564","html_url":"https://github.com/apache/storm/pull/115#issuecomment-43558564","issue_url":"https://api.github.com/repos/apache/storm/issues/115","id":43558564,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTU4NTY0","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:11:05Z","updated_at":"2014-05-19T21:11:05Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43558564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456844","html_url":"https://github.com/apache/storm/issues/4109#issuecomment-2612456844","issue_url":"https://api.github.com/repos/apache/storm/issues/4109","id":2612456844,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTY4NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:11:07Z","updated_at":"2025-01-24T12:49:44Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/115#issuecomment-43558564\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/115#issuecomment-43558564</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456844/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454396","html_url":"https://github.com/apache/storm/issues/4087#issuecomment-2612454396","issue_url":"https://api.github.com/repos/apache/storm/issues/4087","id":2612454396,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTQzOTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:27:45Z","updated_at":"2025-01-24T12:48:18Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks for the patch Taylor.  I merged this into master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454399","html_url":"https://github.com/apache/storm/issues/4087#issuecomment-2612454399","issue_url":"https://api.github.com/repos/apache/storm/issues/4087","id":2612454399,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTQzOTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:28:05Z","updated_at":"2025-01-24T12:48:18Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/43\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/43</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612454399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456544","html_url":"https://github.com/apache/storm/issues/4106#issuecomment-2612456544","issue_url":"https://api.github.com/repos/apache/storm/issues/4106","id":2612456544,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTY1NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:32:53Z","updated_at":"2025-01-24T12:49:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks Derek,</p>\n\n<p>I merged this to master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456548","html_url":"https://github.com/apache/storm/issues/4106#issuecomment-2612456548","issue_url":"https://api.github.com/repos/apache/storm/issues/4106","id":2612456548,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTY1NDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:33:59Z","updated_at":"2025-01-24T12:49:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/51\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/51</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440346","html_url":"https://github.com/apache/storm/issues/3980#issuecomment-2612440346","issue_url":"https://api.github.com/repos/apache/storm/issues/3980","id":2612440346,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDAzNDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:38:32Z","updated_at":"2025-01-24T12:40:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/84#discussion_r12817824\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/84#discussion_r12817824</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/spout/ShellSpout.java &#8212;<br/>\n    @@ -35,91 +35,84 @@<br/>\n private SpoutOutputCollector _collector;<br/>\n private String[] _command;<br/>\n private ShellProcess _process;<br/>\n    +    private SpoutMsg spoutMsg;</p>\n\n<p> public ShellSpout(ShellComponent component) </p>\n{\n     this(component.get_execution_command(), component.get_script());\n }\n<ul class=\"alternate\" type=\"square\">\n\t<li><p>    +<br/>\n public ShellSpout(String... command) </p>\n{\n     _command = command;\n }</li>\n\t<li><p>    +<br/>\n public void open(Map stormConf, TopologyContext context,<br/>\n  SpoutOutputCollector collector) {</p></li>\n\t<li>_process = new ShellProcess(_command);<br/>\n     _collector = collector;</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>try \n{\n    -    Number subpid = _process.launch(stormConf, context);\n    -    LOG.info(\"Launched subprocess with pid \" + subpid);\n    -}\n<p> catch (IOException e) </p>\n{\n    -    throw new RuntimeException(\"Error when launching multilang subprocess\\n\" + _process.getErrorsString(), e);\n    -}\n<p>    +_process = new ShellProcess(_command);<br/>\n    +<br/>\n    +Number subpid = _process.launch(stormConf, context);<br/>\n    +LOG.info(\"Launched subprocess with pid \" + subpid);<br/>\n }</p></li>\n</ul>\n\n\n<p> public void close() </p>\n{\n     _process.destroy();\n }\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private JSONObject _next;<br/>\n public void nextTuple() {</li>\n\t<li>if (_next == null) {</li>\n\t<li>_next = new JSONObject();</li>\n\t<li>_next.put(\"command\", \"next\");<br/>\n    +if (spoutMsg == null) \n{\n    +    spoutMsg = new SpoutMsg();\n     }<br/>\n    -<br/>\n    -querySubprocess(_next);<br/>\n    +spoutMsg.setCommand(\"next\");<br/>\n    +spoutMsg.setId(\"\");<br/>\n    +querySubprocess();<br/>\n }<br/>\n     <br/>\n    -    private JSONObject _ack;<br/>\n public void ack(Object msgId) {<br/>\n    -if (_ack == null) {<br/>\n    -    _ack = new JSONObject();<br/>\n    -    _ack.put(\"command\", \"ack\");<br/>\n    +if (spoutMsg == null) {    +    spoutMsg = new SpoutMsg();     }\n<p>    -</p></li>\n\t<li>_ack.put(\"id\", msgId);</li>\n\t<li>querySubprocess(_ack);<br/>\n    +spoutMsg.setCommand(\"ack\");<br/>\n    +spoutMsg.setId(msgId);<br/>\n    +querySubprocess();<br/>\n }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private JSONObject _fail;<br/>\n public void fail(Object msgId) {</li>\n\t<li>if (_fail == null) {</li>\n\t<li>_fail = new JSONObject();</li>\n\t<li>_fail.put(\"command\", \"fail\");<br/>\n    +if (spoutMsg == null) \n{\n    +    spoutMsg = new SpoutMsg();\n     }\n<p>    -</p></li>\n\t<li>_fail.put(\"id\", msgId);</li>\n\t<li>querySubprocess(_fail);<br/>\n    +spoutMsg.setCommand(\"fail\");<br/>\n    +spoutMsg.setId(msgId);<br/>\n    +querySubprocess();<br/>\n }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>private void querySubprocess(Object query) {<br/>\n    +    private void querySubprocess() {<br/>\n     try {</li>\n\t<li>_process.writeMessage(query);<br/>\n    +    _process.writeSpoutMsg(spoutMsg);</li>\n</ul>\n\n\n<p> while (true) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>JSONObject action = _process.readMessage();</li>\n\t<li>String command = (String) action.get(\"command\");<br/>\n    +ShellMsg shellMsg = _process.readShellMsg();<br/>\n    +String command = shellMsg.getCommand();<br/>\n     if (command.equals(\"sync\")) \n{\n return;\n     }\n<p> else if (command.equals(\"log\")) </p>\n{\n    -    String msg = (String) action.get(\"msg\");\n    +    String msg = shellMsg.getMsg();\n LOG.info(\"Shell msg: \" + msg);\n     }\n<p> else if (command.equals(\"emit\")) {</p></li>\n\t<li>String stream = (String) action.get(\"stream\");</li>\n\t<li>if (stream == null) stream = Utils.DEFAULT_STREAM_ID;\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    This is not a big enough issue to keep from merging this in.  If we run into troubles with this down the road, we can file another JIRA as an enhancement.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43561930","html_url":"https://github.com/apache/storm/pull/84#issuecomment-43561930","issue_url":"https://api.github.com/repos/apache/storm/issues/84","id":43561930,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTYxOTMw","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:38:48Z","updated_at":"2014-05-19T21:38:48Z","author_association":"NONE","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43561930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440351","html_url":"https://github.com/apache/storm/issues/3980#issuecomment-2612440351","issue_url":"https://api.github.com/repos/apache/storm/issues/3980","id":2612440351,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDAzNTE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:38:49Z","updated_at":"2025-01-24T12:40:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/84#issuecomment-43561930\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/84#issuecomment-43561930</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440351/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440355","html_url":"https://github.com/apache/storm/issues/3980#issuecomment-2612440355","issue_url":"https://api.github.com/repos/apache/storm/issues/3980","id":2612440355,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDAzNTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:53:13Z","updated_at":"2025-01-24T12:40:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>A big thanks to jsgilmore for putting this patch together and being patent enough to go through all the reviews to get this in.</p>\n\n<p>I merged this to master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440358","html_url":"https://github.com/apache/storm/issues/3980#issuecomment-2612440358","issue_url":"https://api.github.com/repos/apache/storm/issues/3980","id":2612440358,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NDAzNTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T21:53:26Z","updated_at":"2025-01-24T12:40:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/84\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/84</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612440358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460271","html_url":"https://github.com/apache/storm/issues/4137#issuecomment-2612460271","issue_url":"https://api.github.com/repos/apache/storm/issues/4137","id":2612460271,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjAyNzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T22:06:46Z","updated_at":"2025-01-24T12:51:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>Thanks Taylor and Suresh,</p>\n\n<p>I merged this into master.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460271/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460277","html_url":"https://github.com/apache/storm/issues/4137#issuecomment-2612460277","issue_url":"https://api.github.com/repos/apache/storm/issues/4137","id":2612460277,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjAyNzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-19T22:06:57Z","updated_at":"2025-01-24T12:51:34Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/87\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/87</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460277/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460841","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460841","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460841,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T03:17:10Z","updated_at":"2025-01-24T12:51:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12826580\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12826580</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/Utils.java &#8212;<br/>\n    @@ -301,15 +303,39 @@ public static ComponentCommon getComponentCommon(StormTopology topology, String<br/>\n }</p>\n\n<p> public static Integer getInt(Object o) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>if(o instanceof Long) \n{\n    -    return ((Long) o ).intValue();\n    -}\n<p> else if (o instanceof Integer) </p>\n{\n    -    return (Integer) o;\n    -}\n<p> else if (o instanceof Short) </p>\n{\n    -    return ((Short) o).intValue();\n    -}\n<p> else </p>\n{\n    -    throw new IllegalArgumentException(\"Don't know how to convert \" + o + \" + to int\");\n    -}\n<p>    +      Integer result = getInt(o, null);<br/>\n    +      if (null == result) </p>\n{\n    +throw new IllegalArgumentException(\"Don't know how to convert null + to int\");\n    +      }\n<p>    +      return result;<br/>\n    +    }<br/>\n    +    <br/>\n    +    public static Integer getInt(Object o, Integer defaultValue) {<br/>\n    +      if (null == o) </p>\n{\n    +return defaultValue;\n    +      }\n<p>    +      <br/>\n    +      if(o instanceof Long) {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    We are consistent with old behavior.<br/>\n    If a config expect a integer, then short, int, long are valid; double, float are invalid.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466242","html_url":"https://github.com/apache/storm/issues/4169#issuecomment-2612466242","issue_url":"https://api.github.com/repos/apache/storm/issues/4169","id":2612466242,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjYyNDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T03:18:28Z","updated_at":"2025-01-24T12:53:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=caofangkun\">caofangkun</a>:</i>\n<p>deamon script  </p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466242/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43584255","html_url":"https://github.com/apache/storm/pull/118#issuecomment-43584255","issue_url":"https://api.github.com/repos/apache/storm/issues/118","id":43584255,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTg0MjU1","user":{"login":"troyding","id":4179640,"node_id":"MDQ6VXNlcjQxNzk2NDA=","avatar_url":"https://avatars.githubusercontent.com/u/4179640?v=4","gravatar_id":"","url":"https://api.github.com/users/troyding","html_url":"https://github.com/troyding","followers_url":"https://api.github.com/users/troyding/followers","following_url":"https://api.github.com/users/troyding/following{/other_user}","gists_url":"https://api.github.com/users/troyding/gists{/gist_id}","starred_url":"https://api.github.com/users/troyding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/troyding/subscriptions","organizations_url":"https://api.github.com/users/troyding/orgs","repos_url":"https://api.github.com/users/troyding/repos","events_url":"https://api.github.com/users/troyding/events{/privacy}","received_events_url":"https://api.github.com/users/troyding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T03:58:46Z","updated_at":"2014-05-20T03:58:46Z","author_association":"CONTRIBUTOR","body":"Thank you for your advice @revans2 . I have added a new class named ExclamationTopologyWithMetrics to reproduce the error. The newly added class is based on the existed ExclamationTopology class. For testing, I set the parallelism of the bolt named \"exclaim1\" to 3, and its task number to 6, and the parallelism and task number of the second bolt named \"exclaim2\" to 2 and 6, respectively. After running the topology, I got the following results:\n\n![results](https://cloud.githubusercontent.com/assets/4179640/3022766/7a1a0e70-dfd2-11e3-8944-7e683c08a279.png)\n\nAs shown in the Figure, the task \"4:exclaim1\" has repeated twice of the metric reporting, and the task \"11:exclaim2\" has repeated three times, as we expected.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43584255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466140","html_url":"https://github.com/apache/storm/issues/4168#issuecomment-2612466140","issue_url":"https://api.github.com/repos/apache/storm/issues/4168","id":2612466140,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjYxNDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T03:58:50Z","updated_at":"2025-01-24T12:53:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user troyding commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/118#issuecomment-43584255\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/118#issuecomment-43584255</a></p>\n\n<p>    Thank you for your advice @revans2 . I have added a new class named ExclamationTopologyWithMetrics to reproduce the error. The newly added class is based on the existed ExclamationTopology class. For testing, I set the parallelism of the bolt named \"exclaim1\" to 3, and its task number to 6, and the parallelism and task number of the second bolt named \"exclaim2\" to 2 and 6, respectively. After running the topology, I got the following results:</p>\n\n<p>    !<span class=\"error\">&#91;results&#93;</span>(<a href=\"https://cloud.githubusercontent.com/assets/4179640/3022766/7a1a0e70-dfd2-11e3-8944-7e683c08a279.png\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://cloud.githubusercontent.com/assets/4179640/3022766/7a1a0e70-dfd2-11e3-8944-7e683c08a279.png</a>)</p>\n\n<p>    As shown in the Figure, the task \"4:exclaim1\" has repeated twice of the metric reporting, and the task \"11:exclaim2\" has repeated three times, as we expected.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460849","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460849","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460849,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4NDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:08:39Z","updated_at":"2025-01-24T12:51:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827274\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827274</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/disruptor.clj &#8212;<br/>\n    @@ -89,7 +90,7 @@<br/>\n     (consume-batch-when-available queue handler)<br/>\n     0 )<br/>\n   :kill-fn kill-fn</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>:thread-name thread-name<br/>\n    +      :thread-name (.getName queue)\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed with your suggestion, thanks</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460852","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460852","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460852,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4NTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:11:17Z","updated_at":"2025-01-24T12:51:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827309\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827309</a></p>\n\n<p>    &#8212; Diff: conf/defaults.yaml &#8212;<br/>\n    @@ -109,6 +112,15 @@ storm.messaging.netty.max_retries: 30<br/>\n     storm.messaging.netty.max_wait_ms: 1000<br/>\n     storm.messaging.netty.min_wait_ms: 100</p>\n\n<p>    +# If the Netty messaging layer is busy(netty internal buffer not writable), the Netty client will try to batch message as more as possible up to the size of storm.messaging.netty.transfer.batch.size bytes, otherwise it will try to flush message as soon as possible to reduce latency.<br/>\n    +storm.messaging.netty.transfer.batch.size: 262144<br/>\n    +<br/>\n    +# If storm.messaging.netty.blocking is set to true, the Netty Client will send messages in synchronized way, otherwise it will do it in async way. Set storm.messaging.netty.blocking to false to improve the latency and throughput.<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460852/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460860","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460860","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460860,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4NjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:11:31Z","updated_at":"2025-01-24T12:51:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827316\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827316</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/disruptor.clj &#8212;<br/>\n    @@ -89,7 +90,7 @@<br/>\n     (consume-batch-when-available queue handler)<br/>\n     0 )<br/>\n   :kill-fn kill-fn</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>:thread-name thread-name<br/>\n    +      :thread-name (.getName queue)\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460864","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460864","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460864,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:11:38Z","updated_at":"2025-01-24T12:51:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827318\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827318</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Client.java &#8212;<br/>\n    @@ -21,52 +21,53 @@<br/>\n     import backtype.storm.messaging.IConnection;<br/>\n     import backtype.storm.messaging.TaskMessage;<br/>\n     import backtype.storm.utils.Utils;<br/>\n    -<br/>\n     import org.jboss.netty.bootstrap.ClientBootstrap;<br/>\n     import org.jboss.netty.channel.Channel;<br/>\n     import org.jboss.netty.channel.ChannelFactory;<br/>\n    -import org.jboss.netty.channel.socket.nio.NioClientSocketChannelFactory;<br/>\n     import org.jboss.netty.channel.ChannelFuture;<br/>\n     import org.jboss.netty.channel.ChannelFutureListener;<br/>\n     import org.slf4j.Logger;<br/>\n     import org.slf4j.LoggerFactory;<br/>\n    -<br/>\n     import java.net.InetSocketAddress;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n     import java.util.Map;<br/>\n    -import java.util.Timer;<br/>\n    -import java.util.TimerTask;<br/>\n     import java.util.Random;<br/>\n    -import java.util.concurrent.LinkedBlockingQueue;<br/>\n    -import java.util.concurrent.atomic.AtomicBoolean;<br/>\n    -import java.util.concurrent.atomic.AtomicInteger;<br/>\n    +import java.util.concurrent.atomic.AtomicLong;<br/>\n     import java.util.concurrent.atomic.AtomicReference;</p>\n\n<p>    -class Client implements IConnection {<br/>\n    +public class Client implements IConnection {<br/>\n private static final Logger LOG = LoggerFactory.getLogger(Client.class);</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>private static final Timer TIMER = new Timer(\"netty-client-timer\", true);<br/>\n    -<br/>\n    +    private static final String PREFIX = \"Netty-Client-\";<br/>\n private final int max_retries;<br/>\n private final long base_sleep_ms;<br/>\n private final long max_sleep_ms;</li>\n\t<li>private LinkedBlockingQueue<Object> message_queue; //entry should either be TaskMessage or ControlMessage<br/>\n private AtomicReference<Channel> channelRef;<br/>\n private final ClientBootstrap bootstrap;</li>\n\t<li>InetSocketAddress remote_addr;</li>\n\t<li>private AtomicInteger retries;<br/>\n    +    private InetSocketAddress remote_addr;<br/>\n    +    <br/>\n private final Random random = new Random();<br/>\n private final ChannelFactory factory;<br/>\n private final int buffer_size;</li>\n\t<li>private final AtomicBoolean being_closed;</li>\n\t<li>private boolean wait_for_requests;<br/>\n    +    private boolean closing;<br/>\n    +<br/>\n    +    private Integer messageBatchSize;<br/>\n    +    private Boolean blocking = false;\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460871","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460871","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460871,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4NzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:12:10Z","updated_at":"2025-01-24T12:51:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827323\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827323</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Client.java &#8212;<br/>\n    @@ -128,133 +181,105 @@ private long getSleepTimeMs()<br/>\n }</p>\n\n<p> /**</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>* Enqueue a task message to be sent to server<br/>\n    +     * Enqueue task messages to be sent to server<br/>\n  */</li>\n\t<li>public void send(int task, byte[] message) {</li>\n\t<li>//throw exception if the client is being closed</li>\n\t<li>if (being_closed.get()) {<br/>\n    +    synchronized public void send(Iterator<TaskMessage> msgs) {<br/>\n    +<br/>\n    +// throw exception if the client is being closed<br/>\n    +if (closing) \n{\n throw new RuntimeException(\"Client is being closed, and does not take requests any more\");\n     }\n<p>    -</p></li>\n\t<li>try \n{\n    -    message_queue.put(new TaskMessage(task, message));\n    -\n    -    //resume delivery if it is waiting for requests\n    -    tryDeliverMessages(true);\n    -}\n<p> catch (InterruptedException e) {</p></li>\n\t<li>throw new RuntimeException(e);<br/>\n    +<br/>\n    +if (null == msgs || !msgs.hasNext()) \n{\n    +    return;\n     }</li>\n\t<li>}</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>/**</li>\n\t<li>* Retrieve messages from queue, and delivery to server if any</li>\n\t<li>*/</li>\n\t<li>synchronized void tryDeliverMessages(boolean only_if_waiting) throws InterruptedException {</li>\n\t<li>//just skip if delivery only if waiting, and we are not waiting currently</li>\n\t<li>if (only_if_waiting && !wait_for_requests)  return;<br/>\n    -</li>\n\t<li>//make sure that channel was not closed<br/>\n     Channel channel = channelRef.get();</li>\n\t<li>if (channel == null)  return;</li>\n\t<li>if (!channel.isOpen()) {</li>\n\t<li>LOG.info(\"Channel to {} is no longer open.\",remote_addr);</li>\n\t<li>//The channel is not open yet. Reconnect?</li>\n\t<li>reconnect();</li>\n\t<li>return;<br/>\n    +if (null == channel) \n{\n    +    connect();\n    +    channel = channelRef.get();\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>final MessageBatch requests = tryTakeMessages();</li>\n\t<li>if (requests==null) \n{\n    -    wait_for_requests = true;\n    -    return;\n    -}\n<p>    +while (msgs.hasNext()) {<br/>\n    +    TaskMessage message = msgs.next();<br/>\n    +    if (null == messageBatch) </p>\n{\n    +messageBatch = new MessageBatch(messageBatchSize);\n    +    }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>//if channel is being closed and we have no outstanding messages,  let's close the channel</li>\n\t<li>if (requests.isEmpty() && being_closed.get()) {</li>\n\t<li>close_n_release();</li>\n\t<li>return;<br/>\n    +    messageBatch.add(message);<br/>\n    +    if (messageBatch.isFull()) \n{\n    +MessageBatch toBeFlushed = messageBatch;\n    +flushRequest(channel, toBeFlushed, blocking);\n    +messageBatch = null;\n    +    }\n<p>     }</p></li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>//we are busily delivering messages, and will check queue upon response.</li>\n\t<li>//When send() is called by senders, we should not thus call tryDeliverMessages().</li>\n\t<li>wait_for_requests = false;<br/>\n    -</li>\n\t<li>//write request into socket channel</li>\n\t<li>ChannelFuture future = channel.write(requests);</li>\n\t<li>future.addListener(new ChannelFutureListener() {</li>\n\t<li>public void operationComplete(ChannelFuture future)</li>\n\t<li>throws Exception {</li>\n\t<li>if (!future.isSuccess()) \n{\n    -    LOG.info(\"failed to send \"+requests.size()+\" requests to \"+remote_addr, future.getCause());\n    -    reconnect();\n    -}\n<p> else {</p></li>\n\t<li>LOG.debug(\"{} request(s) sent\", requests.size());<br/>\n    -</li>\n\t<li>//Now that our requests have been sent, channel could be closed if needed</li>\n\t<li>if (being_closed.get())</li>\n\t<li>close_n_release();</li>\n\t<li>}<br/>\n    +if (null != messageBatch && !messageBatch.isEmpty()) {<br/>\n    +    if (channel.isWritable()) \n{\n    +flushCheckTimer.set(Long.MAX_VALUE);\n    +\n    +// Flush as fast as we can to reduce the latency\n    +MessageBatch toBeFlushed = messageBatch;\n    +messageBatch = null;\n    +flushRequest(channel, toBeFlushed, blocking);\n    +\n    +    }\n<p> else </p>\n{\n    +// when channel is NOT writable, it means the internal netty buffer is full. \n    +// In this case, we can try to buffer up more incoming messages.\n    +flushCheckTimer.set(System.currentTimeMillis() + flushCheckInterval);\n }</li>\n\t<li>});<br/>\n    +}<br/>\n    +<br/>\n }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>/**</li>\n\t<li>* Take all enqueued messages from queue</li>\n\t<li>* @return  batch of messages</li>\n\t<li>* @throws InterruptedException</li>\n\t<li>*</li>\n\t<li>* synchronized ... ensure that messages are delivered in the same order</li>\n\t<li>* as they are added into queue</li>\n\t<li>*/</li>\n\t<li>private MessageBatch tryTakeMessages() throws InterruptedException {</li>\n\t<li>//1st message</li>\n\t<li>Object msg = message_queue.poll();</li>\n\t<li>if (msg == null) return null;<br/>\n    -</li>\n\t<li>MessageBatch batch = new MessageBatch(buffer_size);</li>\n\t<li>//we will discard any message after CLOSE</li>\n\t<li>if (msg == ControlMessage.CLOSE_MESSAGE) {</li>\n\t<li>LOG.info(\"Connection to {} is being closed\", remote_addr);</li>\n\t<li>being_closed.set(true);</li>\n\t<li>return batch;<br/>\n    +    public String name() \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +if (null != remote_addr) {\n    +    return PREFIX + remote_addr.toString();\n     }    +return \"\";    +    }</span> </div></li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>batch.add((TaskMessage)msg);</li>\n\t<li>while (!batch.isFull() && ((msg = message_queue.peek())!=null)) {</li>\n\t<li>//Is it a CLOSE message?</li>\n\t<li>if (msg == ControlMessage.CLOSE_MESSAGE) {</li>\n\t<li>message_queue.take();</li>\n\t<li>LOG.info(\"Connection to {} is being closed\", remote_addr);</li>\n\t<li>being_closed.set(true);</li>\n\t<li>break;<br/>\n    +    private synchronized void flush() {<br/>\n    +if (!closing) {<br/>\n    +    if (null != messageBatch && !messageBatch.isEmpty()) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +MessageBatch toBeFlushed = messageBatch;    +Channel channel = channelRef.get();    +if (channel != null) {\n    +    flushCheckTimer.set(Long.MAX_VALUE);\n    +    flushRequest(channel, toBeFlushed, true);\n    +}    +messageBatch = null; }</span> </div>\n<p>    -</p></li>\n\t<li>//try to add this msg into batch</li>\n\t<li>if (!batch.tryAdd((TaskMessage) msg))</li>\n\t<li>break;<br/>\n    -</li>\n\t<li>//remove this message</li>\n\t<li>message_queue.take();<br/>\n     }<br/>\n    -</li>\n\t<li>return batch;<br/>\n }<br/>\n    -<br/>\n    +    <br/>\n /**</li>\n</ul>\n<ul>\n\t<li>gracefully close this client.</li>\n</ul>\n<ul class=\"alternate\" type=\"square\">\n\t<li>*</li>\n\t<li>* We will send all existing requests, and then invoke close_n_release() method<br/>\n    +     * <br/>\n    +     * We will send all existing requests, and then invoke close_n_release()<br/>\n    +     * method<br/>\n  */</li>\n\t<li>public void close() {</li>\n\t<li>//enqueue a CLOSE message so that shutdown() will be invoked</li>\n\t<li>try \n{\n    -    message_queue.put(ControlMessage.CLOSE_MESSAGE);\n    -\n    -    //resume delivery if it is waiting for requests\n    -    tryDeliverMessages(true);\n    -}\n<p> catch (InterruptedException e) {</p></li>\n\t<li>LOG.info(\"Interrupted Connection to {} is being closed\", remote_addr);</li>\n\t<li>being_closed.set(true);<br/>\n    +    public synchronized void close() {<br/>\n    +if (!closing) {<br/>\n    +    closing = true;<br/>\n    +    if (null != messageBatch && !messageBatch.isEmpty()) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +MessageBatch toBeFlushed = messageBatch;    +Channel channel = channelRef.get();    +if (channel != null) {\n    +    flushRequest(channel, toBeFlushed, true);\n    +}    +messageBatch = null;    +    }</span> </div>\n<p>    +<br/>\n    +    //wait for pendings to exit<br/>\n    +    while(pendings.get() != 0) {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460873","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460873","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460873,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4NzM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:12:15Z","updated_at":"2025-01-24T12:51:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827325\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827325</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Server.java &#8212;<br/>\n    @@ -31,35 +31,69 @@<br/>\n     import org.slf4j.LoggerFactory;</p>\n\n<p>     import java.net.InetSocketAddress;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n     import java.util.Map;<br/>\n     import java.util.concurrent.Executors;<br/>\n     import java.util.concurrent.LinkedBlockingQueue;<br/>\n    +import java.util.concurrent.ThreadFactory;</p>\n\n<p>     class Server implements IConnection {<br/>\n private static final Logger LOG = LoggerFactory.getLogger(Server.class);<br/>\n @SuppressWarnings(\"rawtypes\")<br/>\n Map storm_conf;<br/>\n int port;</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>private LinkedBlockingQueue<TaskMessage> message_queue;<br/>\n    +    <br/>\n    +    // Create multiple queues for incoming messages. The size equals the number of receiver threads.<br/>\n    +    // For message which is sent to same task, it will be stored in the same queue to preserve the message order.<br/>\n    +    private LinkedBlockingQueue<ArrayList<TaskMessage>>[] message_queue;<br/>\n    +    <br/>\n volatile ChannelGroup allChannels = new DefaultChannelGroup(\"storm-server\");<br/>\n final ChannelFactory factory;<br/>\n final ServerBootstrap bootstrap;<br/>\n    -<br/>\n    +    <br/>\n    +    private int queueCount;<br/>\n    +    HashMap<Integer, Integer> taskToQueueId = null;<br/>\n    +    int roundRobinQueueId;<br/>\n    +\t<br/>\n    +    boolean closing = false;<br/>\n    +    List<TaskMessage> closeMessage = Arrays.asList(new TaskMessage(-1, null));<br/>\n    +    <br/>\n    +    <br/>\n @SuppressWarnings(\"rawtypes\")<br/>\n Server(Map storm_conf, int port) {<br/>\n     this.storm_conf = storm_conf;<br/>\n     this.port = port;</li>\n\t<li>message_queue = new LinkedBlockingQueue<TaskMessage>();<br/>\n    -<br/>\n    +<br/>\n    +queueCount = Utils.getInt(storm_conf.get(\"worker.receiver.thread.count\"), 1);\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460879","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460879","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460879,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:12:25Z","updated_at":"2025-01-24T12:51:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827326\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827326</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Server.java &#8212;<br/>\n    @@ -31,35 +31,69 @@<br/>\n     import org.slf4j.LoggerFactory;</p>\n\n<p>     import java.net.InetSocketAddress;<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Arrays;<br/>\n    +import java.util.HashMap;<br/>\n    +import java.util.Iterator;<br/>\n    +import java.util.List;<br/>\n     import java.util.Map;<br/>\n     import java.util.concurrent.Executors;<br/>\n     import java.util.concurrent.LinkedBlockingQueue;<br/>\n    +import java.util.concurrent.ThreadFactory;</p>\n\n<p>     class Server implements IConnection {<br/>\n private static final Logger LOG = LoggerFactory.getLogger(Server.class);<br/>\n @SuppressWarnings(\"rawtypes\")<br/>\n Map storm_conf;<br/>\n int port;</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>private LinkedBlockingQueue<TaskMessage> message_queue;<br/>\n    +    <br/>\n    +    // Create multiple queues for incoming messages. The size equals the number of receiver threads.<br/>\n    +    // For message which is sent to same task, it will be stored in the same queue to preserve the message order.<br/>\n    +    private LinkedBlockingQueue<ArrayList<TaskMessage>>[] message_queue;<br/>\n    +    <br/>\n volatile ChannelGroup allChannels = new DefaultChannelGroup(\"storm-server\");<br/>\n final ChannelFactory factory;<br/>\n final ServerBootstrap bootstrap;<br/>\n    -<br/>\n    +    <br/>\n    +    private int queueCount;<br/>\n    +    HashMap<Integer, Integer> taskToQueueId = null;<br/>\n    +    int roundRobinQueueId;<br/>\n    +\t<br/>\n    +    boolean closing = false;<br/>\n    +    List<TaskMessage> closeMessage = Arrays.asList(new TaskMessage(-1, null));<br/>\n    +    <br/>\n    +    <br/>\n @SuppressWarnings(\"rawtypes\")<br/>\n Server(Map storm_conf, int port) {<br/>\n     this.storm_conf = storm_conf;<br/>\n     this.port = port;</li>\n\t<li>message_queue = new LinkedBlockingQueue<TaskMessage>();<br/>\n    -<br/>\n    +<br/>\n    +queueCount = Utils.getInt(storm_conf.get(\"worker.receiver.thread.count\"), 1);<br/>\n    +roundRobinQueueId = 0;<br/>\n    +taskToQueueId = new HashMap<Integer, Integer>();<br/>\n    +    <br/>\n    +message_queue = new LinkedBlockingQueue<span class=\"error\">&#91;queueCount&#93;</span>;<br/>\n    +\t\t    for (int i = 0; i < queueCount; i++) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460885","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460885","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460885,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:12:34Z","updated_at":"2025-01-24T12:51:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827328\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827328</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Server.java &#8212;<br/>\n    @@ -72,34 +106,109 @@<br/>\n     Channel channel = bootstrap.bind(new InetSocketAddress(port));<br/>\n     allChannels.add(channel);<br/>\n }<br/>\n    +    <br/>\n    +    private ArrayList<TaskMessage>[] groupMessages(List<TaskMessage> msgs) {<br/>\n    +      ArrayList<TaskMessage> messageGroups[] = new ArrayList<span class=\"error\">&#91;queueCount&#93;</span>;<br/>\n    +      <br/>\n    +      for (int i = 0; i < msgs.size(); i++) {<br/>\n    +TaskMessage message = msgs.get<img class=\"emoticon\" src=\"https://issues.apache.org/jira/images/icons/emoticons/information.png\" height=\"16\" width=\"16\" align=\"absmiddle\" alt=\"\" border=\"0\"/>;<br/>\n    +int task = message.task();<br/>\n    +<br/>\n    +if (task == -1) </p>\n{\n    +  closing = true;\n    +  return null;\n    +}\n<p>    +<br/>\n    +Integer queueId = getMessageQueueId(task);<br/>\n    +<br/>\n    +if (null == messageGroups<span class=\"error\">&#91;queueId&#93;</span>) </p>\n{\n    +  messageGroups[queueId] = new ArrayList<TaskMessage>();\n    +}\n<p>    +messageGroups<span class=\"error\">&#91;queueId&#93;</span>.add(message);<br/>\n    +      }<br/>\n    +      return messageGroups;<br/>\n    +    }<br/>\n    +    <br/>\n    +    private Integer getMessageQueueId(int task) {<br/>\n    +      // try to construct the map from taskId -> queueId in round robin manner.<br/>\n    +      <br/>\n    +      Integer queueId = taskToQueueId.get(task);<br/>\n    +      if (null == queueId) {<br/>\n    +synchronized(taskToQueueId) {<br/>\n    +  //assgin task to queue in round-robin manner<br/>\n    +  if (null == taskToQueueId.get(task)) {<br/>\n    +    queueId = roundRobinQueueId++;<br/>\n    +    <br/>\n    +    taskToQueueId.put(task, queueId);<br/>\n    +    if (roundRobinQueueId == queueCount) </p>\n{\n    +      roundRobinQueueId = 0;\n    +    }\n<p>    +  }<br/>\n    +}<br/>\n    +      }<br/>\n    +      return queueId;<br/>\n    +    }</p>\n\n<p> /**</p>\n<ul>\n\t<li>enqueue a received message</li>\n\t<li>@param message</li>\n\t<li>@throws InterruptedException<br/>\n  */</li>\n</ul>\n<ul class=\"alternate\" type=\"square\">\n\t<li>protected void enqueue(TaskMessage message) throws InterruptedException {</li>\n\t<li>message_queue.put(message);</li>\n\t<li>LOG.debug(\"message received with task: {}, payload size: {}\", message.task(), message.message().length);</li>\n\t<li>}<br/>\n    +    protected void enqueue(List<TaskMessage> msgs) throws InterruptedException {<br/>\n    +      <br/>\n    +      if (null == msgs || msgs.size() == 0 || closing) \n{\n    +return;\n    +      }<br/>\n    +      <br/>\n    +      ArrayList<TaskMessage> messageGroups[] = groupMessages(msgs);<br/>\n    +      <br/>\n    +      if (null == messageGroups || closing) {    +return;    +      }\n<p>    +      <br/>\n    +      for (int receiverId = 0; receiverId < messageGroups.length; receiverId++) </p>\n<div class=\"error\"><span class=\"error\">Unknown macro: {    +ArrayList<TaskMessage> msgGroup = messageGroups[receiverId];    +if (null != msgGroup) {\n    +  message_queue[receiverId].put(msgGroup);\n    +}    +      }</span> </div>\n<p>    +   }</p></li>\n</ul>\n\n\n<p> /**</p>\n<ul>\n\t<li>fetch a message from message queue synchronously (flags != 1) or asynchronously (flags==1)<br/>\n  */</li>\n</ul>\n<ul class=\"alternate\" type=\"square\">\n\t<li>public TaskMessage recv(int flags)  {</li>\n\t<li>if ((flags & 0x01) == 0x01) {<br/>\n    +    public Iterator<TaskMessage> recv(int flags)  {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460889","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460889","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460889,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:12:41Z","updated_at":"2025-01-24T12:51:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827330\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827330</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Server.java &#8212;<br/>\n    @@ -133,4 +242,12 @@ public synchronized void close() {<br/>\n public void send(int task, byte[] message) </p>\n{\n     throw new RuntimeException(\"Server connection should not send any messages\");\n }\n<p>    +    <br/>\n    +    public void send(Iterator<TaskMessage> msgs) </p>\n{\n    +      throw new RuntimeException(\"Server connection should not send any messages\");\n    +    }\n<p>    +\t<br/>\n    +\t public String name() {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460893","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460893","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460893,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA4OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:12:50Z","updated_at":"2025-01-24T12:51:52Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827334\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827334</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/StormClientHandler.java &#8212;<br/>\n    @@ -18,70 +18,24 @@<br/>\n     package backtype.storm.messaging.netty;</p>\n\n<p>     import java.net.ConnectException;<br/>\n    -import java.util.concurrent.atomic.AtomicBoolean;</p>\n\n<p>    -import org.jboss.netty.channel.Channel;<br/>\n    -import org.jboss.netty.channel.ChannelHandlerContext;<br/>\n    -import org.jboss.netty.channel.ChannelStateEvent;<br/>\n    -import org.jboss.netty.channel.ExceptionEvent;<br/>\n    -import org.jboss.netty.channel.MessageEvent;<br/>\n    -import org.jboss.netty.channel.SimpleChannelUpstreamHandler;<br/>\n    +import org.jboss.netty.channel.*;<br/>\n     import org.slf4j.Logger;<br/>\n     import org.slf4j.LoggerFactory;</p>\n\n<p>    -import java.net.ConnectException;<br/>\n    -import java.util.concurrent.atomic.AtomicBoolean;<br/>\n    -<br/>\n     public class StormClientHandler extends SimpleChannelUpstreamHandler  {<br/>\n private static final Logger LOG = LoggerFactory.getLogger(StormClientHandler.class);<br/>\n private Client client;</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>long start_time;</li>\n</ul>\n\n\n<p> StormClientHandler(Client client) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460900","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460900","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460900,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:12:57Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827338\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827338</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/StormServerHandler.java &#8212;<br/>\n    @@ -41,30 +45,22 @@ public void channelConnected(ChannelHandlerContext ctx, ChannelStateEvent e) {</p>\n\n<p> @Override<br/>\n public void messageReceived(ChannelHandlerContext ctx, MessageEvent e) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>Object msg = e.getMessage();</li>\n\t<li>if (msg == null) return;<br/>\n    -</li>\n\t<li>//end of batch?</li>\n\t<li>if (msg==ControlMessage.EOB_MESSAGE) \n{\n    -    Channel channel = ctx.getChannel();\n    -    LOG.debug(\"Send back response ...\");\n    -    if (failure_count.get()==0)\n    -channel.write(ControlMessage.OK_RESPONSE);\n    -    else channel.write(ControlMessage.FAILURE_RESPONSE);\n    -    return;\n    -}</li>\n\t<li></li>\n\t<li>//enqueue the received message for processing</li>\n\t<li>try \n{\n    -    server.enqueue((TaskMessage)msg);\n    -}\n<p> catch (InterruptedException e1) </p>\n{\n    -    LOG.info(\"failed to enqueue a request message\", e);\n    -    failure_count.incrementAndGet();\n    -}\n<p>    +      List<TaskMessage> msgs = (List<TaskMessage>) e.getMessage();<br/>\n    +      if (msgs == null) </p>\n{\n    +return;\n    +      }\n<p>    +      <br/>\n    +      try </p>\n{\n    +server.enqueue(msgs);\n    +      }\n<p> catch (InterruptedException e1) </p>\n{\n    +LOG.info(\"failed to enqueue a request message\", e);\n    +failure_count.incrementAndGet();\n    +      }\n<p> }</p></li>\n</ul>\n\n\n<p> @Override<br/>\n public void exceptionCaught(ChannelHandlerContext ctx, ExceptionEvent e) {<br/>\n    +e.getCause().printStackTrace();<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460900/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460905","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460905","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460905,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:29:12Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827582\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827582</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Client.java &#8212;<br/>\n    @@ -128,133 +181,105 @@ private long getSleepTimeMs()<br/>\n }</p>\n\n<p> /**</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>* Enqueue a task message to be sent to server<br/>\n    +     * Enqueue task messages to be sent to server<br/>\n  */</li>\n\t<li>public void send(int task, byte[] message) {</li>\n\t<li>//throw exception if the client is being closed</li>\n\t<li>if (being_closed.get()) {<br/>\n    +    synchronized public void send(Iterator<TaskMessage> msgs) {<br/>\n    +<br/>\n    +// throw exception if the client is being closed<br/>\n    +if (closing) \n{\n throw new RuntimeException(\"Client is being closed, and does not take requests any more\");\n     }\n<p>    -</p></li>\n\t<li>try \n{\n    -    message_queue.put(new TaskMessage(task, message));\n    -\n    -    //resume delivery if it is waiting for requests\n    -    tryDeliverMessages(true);\n    -}\n<p> catch (InterruptedException e) {</p></li>\n\t<li>throw new RuntimeException(e);<br/>\n    +<br/>\n    +if (null == msgs || !msgs.hasNext()) \n{\n    +    return;\n     }</li>\n\t<li>}</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>/**</li>\n\t<li>* Retrieve messages from queue, and delivery to server if any</li>\n\t<li>*/</li>\n\t<li>synchronized void tryDeliverMessages(boolean only_if_waiting) throws InterruptedException {</li>\n\t<li>//just skip if delivery only if waiting, and we are not waiting currently</li>\n\t<li>if (only_if_waiting && !wait_for_requests)  return;<br/>\n    -</li>\n\t<li>//make sure that channel was not closed<br/>\n     Channel channel = channelRef.get();</li>\n\t<li>if (channel == null)  return;</li>\n\t<li>if (!channel.isOpen()) {</li>\n\t<li>LOG.info(\"Channel to {} is no longer open.\",remote_addr);</li>\n\t<li>//The channel is not open yet. Reconnect?</li>\n\t<li>reconnect();</li>\n\t<li>return;<br/>\n    +if (null == channel) \n{\n    +    connect();\n    +    channel = channelRef.get();\n     }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>final MessageBatch requests = tryTakeMessages();</li>\n\t<li>if (requests==null) \n{\n    -    wait_for_requests = true;\n    -    return;\n    -}\n<p>    +while (msgs.hasNext()) {<br/>\n    +    TaskMessage message = msgs.next();<br/>\n    +    if (null == messageBatch) </p>\n{\n    +messageBatch = new MessageBatch(messageBatchSize);\n    +    }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>//if channel is being closed and we have no outstanding messages,  let's close the channel</li>\n\t<li>if (requests.isEmpty() && being_closed.get()) {</li>\n\t<li>close_n_release();</li>\n\t<li>return;<br/>\n    +    messageBatch.add(message);<br/>\n    +    if (messageBatch.isFull()) \n{\n    +MessageBatch toBeFlushed = messageBatch;\n    +flushRequest(channel, toBeFlushed, blocking);\n    +messageBatch = null;\n    +    }\n<p>     }</p></li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>//we are busily delivering messages, and will check queue upon response.</li>\n\t<li>//When send() is called by senders, we should not thus call tryDeliverMessages().</li>\n\t<li>wait_for_requests = false;<br/>\n    -</li>\n\t<li>//write request into socket channel</li>\n\t<li>ChannelFuture future = channel.write(requests);</li>\n\t<li>future.addListener(new ChannelFutureListener() {</li>\n\t<li>public void operationComplete(ChannelFuture future)</li>\n\t<li>throws Exception {</li>\n\t<li>if (!future.isSuccess()) \n{\n    -    LOG.info(\"failed to send \"+requests.size()+\" requests to \"+remote_addr, future.getCause());\n    -    reconnect();\n    -}\n<p> else {</p></li>\n\t<li>LOG.debug(\"{} request(s) sent\", requests.size());<br/>\n    -</li>\n\t<li>//Now that our requests have been sent, channel could be closed if needed</li>\n\t<li>if (being_closed.get())</li>\n\t<li>close_n_release();</li>\n\t<li>}<br/>\n    +if (null != messageBatch && !messageBatch.isEmpty()) {<br/>\n    +    if (channel.isWritable()) \n{\n    +flushCheckTimer.set(Long.MAX_VALUE);\n    +\n    +// Flush as fast as we can to reduce the latency\n    +MessageBatch toBeFlushed = messageBatch;\n    +messageBatch = null;\n    +flushRequest(channel, toBeFlushed, blocking);\n    +\n    +    }\n<p> else </p>\n{\n    +// when channel is NOT writable, it means the internal netty buffer is full. \n    +// In this case, we can try to buffer up more incoming messages.\n    +flushCheckTimer.set(System.currentTimeMillis() + flushCheckInterval);\n }</li>\n\t<li>});<br/>\n    +}<br/>\n    +<br/>\n }</li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>/**</li>\n\t<li>* Take all enqueued messages from queue</li>\n\t<li>* @return  batch of messages</li>\n\t<li>* @throws InterruptedException</li>\n\t<li>*</li>\n\t<li>* synchronized ... ensure that messages are delivered in the same order</li>\n\t<li>* as they are added into queue</li>\n\t<li>*/</li>\n\t<li>private MessageBatch tryTakeMessages() throws InterruptedException {</li>\n\t<li>//1st message</li>\n\t<li>Object msg = message_queue.poll();</li>\n\t<li>if (msg == null) return null;<br/>\n    -</li>\n\t<li>MessageBatch batch = new MessageBatch(buffer_size);</li>\n\t<li>//we will discard any message after CLOSE</li>\n\t<li>if (msg == ControlMessage.CLOSE_MESSAGE) {</li>\n\t<li>LOG.info(\"Connection to {} is being closed\", remote_addr);</li>\n\t<li>being_closed.set(true);</li>\n\t<li>return batch;<br/>\n    +    public String name() \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +if (null != remote_addr) {\n    +    return PREFIX + remote_addr.toString();\n     }    +return \"\";    +    }</span> </div></li>\n</ul>\n\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>batch.add((TaskMessage)msg);</li>\n\t<li>while (!batch.isFull() && ((msg = message_queue.peek())!=null)) {</li>\n\t<li>//Is it a CLOSE message?</li>\n\t<li>if (msg == ControlMessage.CLOSE_MESSAGE) {</li>\n\t<li>message_queue.take();</li>\n\t<li>LOG.info(\"Connection to {} is being closed\", remote_addr);</li>\n\t<li>being_closed.set(true);</li>\n\t<li>break;<br/>\n    +    private synchronized void flush() {<br/>\n    +if (!closing) {<br/>\n    +    if (null != messageBatch && !messageBatch.isEmpty()) {<br/>\n    +MessageBatch toBeFlushed = messageBatch;<br/>\n    +Channel channel = channelRef.get();<br/>\n    +if (channel != null) \n{\n    +    flushCheckTimer.set(Long.MAX_VALUE);\n    +    flushRequest(channel, toBeFlushed, true);\n    +}\n<p>    +messageBatch = null;</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed. Change flush() to flush(Channel channel), as the caller of flush() already checked the channel to make sure it is not null.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460909","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460909","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460909,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T04:34:26Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12827649\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12827649</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -109,25 +111,30 @@<br/>\n     (defn mk-transfer-fn <span class=\"error\">&#91;worker&#93;</span><br/>\n       (let [local-tasks (-> worker :task-ids set)<br/>\n     local-transfer (:transfer-local-fn worker)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>^DisruptorQueue transfer-queue (:transfer-queue worker)]<br/>\n    +^DisruptorQueue transfer-queue (:transfer-queue worker)<br/>\n    +task->node+port (:cached-task->node+port worker)]<br/>\n (fn <span class=\"error\">&#91;^KryoTupleSerializer serializer tuple-batch&#93;</span><br/>\n   (let [local (ArrayList.)</li>\n\t<li>remote (ArrayList.)]<br/>\n    +    remoteMap (HashMap.)]<br/>\n     (fast-list-iter [<span class=\"error\">&#91;task tuple :as pair&#93;</span> tuple-batch]<br/>\n       (if (local-tasks task)<br/>\n (.add local pair)</li>\n\t<li>(.add remote pair)</li>\n\t<li>))<br/>\n    +    (let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span><br/>\n    +      (when (not (.get remoteMap node+port))<br/>\n    +(.put remoteMap node+port (ArrayList.)))<br/>\n    +      (let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +(.add remote (TaskMessage. task (.serialize serializer tuple)))<br/>\n    + ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    This is on purpose for performance. <br/>\n    The ArrayList and HashMap constructed here will be used directly in java. We designed a  customized iterator inside class TransferDrainer, so that we don't need to wrap/unwrap data or copy data from clojure data strucutre to java data structure.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460909/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43588816","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43588816","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43588816,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNTg4ODE2","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T05:54:58Z","updated_at":"2014-05-20T05:54:58Z","author_association":"CONTRIBUTOR","body":"Hi Bobby,\n\nThank you for your comments. I addressed most of the issues, except these three:\n\n**issue1:**\n\n> ```\n> +    private synchronized void connect() {\n> ```\n> \n> I don't like the idea of having connect block until the connection is established. Any thread that tries to send data to a connection that is still being established will block until the connection is established. I think it is more robust to buffer the messages in a data structure and try to handle them later when the connection is finished.\n\n**reply:** I think it is better to have connection estabilish before we allow message sender to send message. Here is the my obervations when allowing message sender to send message without a established connection:\n1. Excessive memory usage\n   If  message senders are allow to send message without the connetion being established, the senders are encourged to send as fast as they can. In some profiling, I observed there was sharp increase of heap memory in the beginning, as we will buffer all those message in a unlimited queue in netty client. If the user are using unacked topology or set the topology.max.spout.pending to be a bigger enough value, it will possibly cause the JVM OOM.\n2. Longer latency\n   The Netty Client queue can turns out to be very long, longer queue means longer latency. For example, suppose Netty Client can at max transfer 10 tuples/second, the Netty Client queue increased to size of 10000 because of this buffering, the spout generates 10 tuple/second, then in this case the queue size will stablize at 10000, the throughput will be 10 tuples/second. The throughput will be the same no matter the queue size is 100, or 1000, or 10000, the latency will be much bigger for queue size 10000. So it is very important to make sure the queue will not increase to too big from the begining.\n3. Reduced throughput.\n   When the latency is longer, it will reduce the message generation speed of spout, as spout  will wait message to be acked(unacked size controled by topology.max.spout.pending). The longer the initial latency is, the longer it takes for the spout to converge to the balanced speed of tuple generation.  \n\nIn the code, we will setup the connection in Client constructor asyncly before the send(message) is called to reduce the time that need to be waited by the message sender.\n\n```\n        Thread flushChecker = new Thread(new Runnable() {\n            @Override\n            public void run() {\n                //make sure we have a connection\n                connect();  //<-----------------here!\n```\n\n**issue 2:**\n\n> ```\n> storm-core/src/jvm/backtype/storm/messaging/netty/Client\n> +        Thread flushChecker = new Thread(new Runnable() {\n> ```\n> \n> Can we make this thread shared between the clients, otherwise we will have a dedicated thread per client, which can cause resource utilization issues, hitting a ulimit with the number of processes allowed per user.\n\n**Reply:** Can we do this in a followup patch? I have a local patch, but it requires more testing.\n\n**issue 3:** \n\n> ```\n> +            (let [node+port (get @task->node+port task)]\n> +              (when (not (.get remoteMap node+port))\n> +                (.put remoteMap node+port (ArrayList.)))\n> +              (let [remote (.get remoteMap node+port)]\n> +                (.add remote (TaskMessage. task (.serialize serializer tuple)))\n> +                 ))))\n> ```\n> \n> The above code does not really feel like it is clojure, as it is updating mutable state. I would rather have see us do something like a group-by.\n\n**Reply:** This is on purpose for performance. \nThe ArrayList and HashMap constructed here will be used directly in java. We designed a customized iterator inside class TransferDrainer, so that we don't need to wrap/unwrap data or copy data from clojure data strucutre to java data structure.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43588816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460915","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460915","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460915,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MTU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T05:55:00Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43588816\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43588816</a></p>\n\n<p>    Hi Bobby,</p>\n\n<p>    Thank you for your comments. I addressed most of the issues, except these three:</p>\n\n<p>    *<b>issue1:</b>*<br/>\n    > <br/>\n    ```<br/>\n    +    private synchronized void connect() {<br/>\n    ```<br/>\n    > I don't like the idea of having connect block until the connection is established. Any thread that tries to send data to a connection that is still being established will block until the connection is established. I think it is more robust to buffer the messages in a data structure and try to handle them later when the connection is finished.</p>\n\n<p>    *<b>reply:</b>* I think it is better to have connection estabilish before we allow message sender to send message. Here is the my obervations when allowing message sender to send message without a established connection:</p>\n\n<p>    1. Excessive memory usage<br/>\n    If  message senders are allow to send message without the connetion being established, the senders are encourged to send as fast as they can. In some profiling, I observed there was sharp increase of heap memory in the beginning, as we will buffer all those message in a unlimited queue in netty client. If the user are using unacked topology or set the topology.max.spout.pending to be a bigger enough value, it will possibly cause the JVM OOM.</p>\n\n<p>    2. Longer latency<br/>\n    The Netty Client queue can turns out to be very long, longer queue means longer latency. For example, suppose Netty Client can at max transfer 10 tuples/second, the Netty Client queue increased to size of 10000 because of this buffering, the spout generates 10 tuple/second, then in this case the queue size will stablize at 10000, the throughput will be 10 tuples/second. The throughput will be the same no matter the queue size is 100, or 1000, or 10000, the latency will be much bigger for queue size 10000. So it is very important to make sure the queue will not increase to too big from the begining.</p>\n\n<p>    3. Reduced throughput.<br/>\n    When the latency is longer, it will reduce the message generation speed of spout, as spout  will wait message to be acked(unacked size controled by topology.max.spout.pending). The longer the initial latency is, the longer it takes for the spout to converge to the balanced speed of tuple generation.  </p>\n\n<p>    In the code, we will setup the connection in Client constructor asyncly before the send(message) is called to reduce the time that need to be waited by the message sender.<br/>\n    ```<br/>\n    Thread flushChecker = new Thread(new Runnable() {<br/>\n@Override<br/>\npublic void run() {<br/>\n    //make sure we have a connection<br/>\n    connect();  //<-----------------here!<br/>\n    ```</p>\n\n<p>    *<b>issue 2:</b>*<br/>\n    ><br/>\n    ```<br/>\n    storm-core/src/jvm/backtype/storm/messaging/netty/Client<br/>\n    +Thread flushChecker = new Thread(new Runnable() {<br/>\n    ```<br/>\n    > Can we make this thread shared between the clients, otherwise we will have a dedicated thread per client, which can cause resource utilization issues, hitting a ulimit with the number of processes allowed per user.</p>\n\n<p>    *<b>Reply:</b>* Can we do this in a followup patch? I have a local patch, but it requires more testing.</p>\n\n<p>    *<b>issue 3:</b>* <br/>\n    ><br/>\n    ```<br/>\n    +    (let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span><br/>\n    +      (when (not (.get remoteMap node+port))<br/>\n    +(.put remoteMap node+port (ArrayList.)))<br/>\n    +      (let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +(.add remote (TaskMessage. task (.serialize serializer tuple)))<br/>\n    + ))))<br/>\n    ```<br/>\n    > The above code does not really feel like it is clojure, as it is updating mutable state. I would rather have see us do something like a group-by.</p>\n\n<p>    *<b>Reply:</b>* This is on purpose for performance. <br/>\n    The ArrayList and HashMap constructed here will be used directly in java. We designed a customized iterator inside class TransferDrainer, so that we don't need to wrap/unwrap data or copy data from clojure data strucutre to java data structure.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43621117","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43621117","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43621117,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjIxMTE3","user":{"login":"Gvain","id":3352351,"node_id":"MDQ6VXNlcjMzNTIzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3352351?v=4","gravatar_id":"","url":"https://api.github.com/users/Gvain","html_url":"https://github.com/Gvain","followers_url":"https://api.github.com/users/Gvain/followers","following_url":"https://api.github.com/users/Gvain/following{/other_user}","gists_url":"https://api.github.com/users/Gvain/gists{/gist_id}","starred_url":"https://api.github.com/users/Gvain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gvain/subscriptions","organizations_url":"https://api.github.com/users/Gvain/orgs","repos_url":"https://api.github.com/users/Gvain/repos","events_url":"https://api.github.com/users/Gvain/events{/privacy}","received_events_url":"https://api.github.com/users/Gvain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T12:53:18Z","updated_at":"2014-05-20T12:53:18Z","author_association":"CONTRIBUTOR","body":"Just a hint:\nWhat if we use MORE workers per node than just only ONE worker per node without changing the total number of executors ? By doing so, we will have MORE received threads, transfer threads and netty i/o threads for the total 144 executors. Should this increase total CPU usage and network bandwidth usage? \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43621117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460920","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460920","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460920,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T12:53:21Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Gvain commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43621117\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43621117</a></p>\n\n<p>    Just a hint:<br/>\n    What if we use MORE workers per node than just only ONE worker per node without changing the total number of executors ? By doing so, we will have MORE received threads, transfer threads and netty i/o threads for the total 144 executors. Should this increase total CPU usage and network bandwidth usage? </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43625555","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43625555","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43625555,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjI1NTU1","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T13:33:37Z","updated_at":"2014-05-20T13:33:37Z","author_association":"CONTRIBUTOR","body":"**issue 2:**\n\n> storm-core/src/jvm/backtype/storm/messaging/netty/Client\n> \n> ```\n> +        Thread flushChecker = new Thread(new Runnable() {\n> ```\n> \n> Can we make this thread shared between the clients, otherwise we will have a dedicated thread per client, which can cause resource utilization issues, hitting a ulimit with the number of processes allowed per user.\n\n~~**Reply**: Can we do this in a followup patch? I have a local patch, but it requires more testing.~~\n**Update**: This is resolved in latest checkin,\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43625555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460921","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460921","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460921,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T13:33:39Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43625555\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43625555</a></p>\n\n<p>    *<b>issue 2:</b>*</p>\n\n<p>    >storm-core/src/jvm/backtype/storm/messaging/netty/Client<br/>\n    >```<br/>\n    +Thread flushChecker = new Thread(new Runnable() {<br/>\n    ```<br/>\n    > Can we make this thread shared between the clients, otherwise we will have a dedicated thread per client, which can cause resource utilization issues, hitting a ulimit with the number of processes allowed per user.</p>\n\n<p>    ~<sub>*<b>Reply</b>*: Can we do this in a followup patch? I have a local patch, but it requires more testing.</sub>~<br/>\n    *<b>Update</b>*: This is resolved in latest checkin,</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43626596","html_url":"https://github.com/apache/storm/pull/118#issuecomment-43626596","issue_url":"https://api.github.com/repos/apache/storm/issues/118","id":43626596,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjI2NTk2","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T13:41:34Z","updated_at":"2014-05-20T13:41:34Z","author_association":"CONTRIBUTOR","body":"I was thinking more along the lines of a unit test, but a manual test is OK too.  I would prefer to not merge it into the final release though.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43626596/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466143","html_url":"https://github.com/apache/storm/issues/4168#issuecomment-2612466143","issue_url":"https://api.github.com/repos/apache/storm/issues/4168","id":2612466143,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjYxNDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T13:41:38Z","updated_at":"2025-01-24T12:53:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/118#issuecomment-43626596\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/118#issuecomment-43626596</a></p>\n\n<p>    I was thinking more along the lines of a unit test, but a manual test is OK too.  I would prefer to not merge it into the final release though.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43627624","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43627624","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43627624,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjI3NjI0","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T13:49:23Z","updated_at":"2014-05-20T13:49:23Z","author_association":"CONTRIBUTOR","body":"Gvain,\n\n> What if we use MORE workers per node than just only ONE worker per node without changing the total number of executors ? By doing so, we will have MORE received threads, transfer threads and netty i/o threads for the total 144 executors. Should this increase total CPU usage and network bandwidth usage?\n\nWe tried this approach before, but it won't give us the performance data we want. There were inherit bottleneck there. Besides, receiver.count is not the biggest bottleneck here, netty performance matter more.\n\nThe logic behind make \"receiver.count\" configurable is that, since we allow user to configure spout/bolt executor count per worker, we should also allow user to configure the receiver thread count to make it consistent with the parallism settings.\n\nBesides, increasing worker count will, \n1. add more cross process or cross machine communication. For tasks inside same worker process,  the message will be **local** dispatched to target task if possible.\n2. More Netty context switch and contention. Check http://yahooeng.tumblr.com/post/64758709722/making-storm-fly-with-netty\n3. More outbound acker message count. Usually we will allocate one acker to one worker.\n\nSo in common practice, each worker will have a moderate size of executors, neither too small, nor too big.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43627624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460923","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460923","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460923,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T13:49:25Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43627624\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43627624</a></p>\n\n<p>    Gvain,</p>\n\n<p>    >What if we use MORE workers per node than just only ONE worker per node without changing the total number of executors ? By doing so, we will have MORE received threads, transfer threads and netty i/o threads for the total 144 executors. Should this increase total CPU usage and network bandwidth usage?</p>\n\n<p>    We tried this approach before, but it won't give us the performance data we want. There were inherit bottleneck there. Besides, receiver.count is not the biggest bottleneck here, netty performance matter more.</p>\n\n<p>    The logic behind make \"receiver.count\" configurable is that, since we allow user to configure spout/bolt executor count per worker, we should also allow user to configure the receiver thread count to make it consistent with the parallism settings.</p>\n\n<p>    Besides, increasing worker count will, <br/>\n    1. add more cross process or cross machine communication. For tasks inside same worker process,  the message will be *<b>local</b>* dispatched to target task if possible.<br/>\n    2. More Netty context switch and contention. Check <a href=\"http://yahooeng.tumblr.com/post/64758709722/making-storm-fly-with-netty\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://yahooeng.tumblr.com/post/64758709722/making-storm-fly-with-netty</a><br/>\n    3. More outbound acker message count. Usually we will allocate one acker to one worker.</p>\n\n<p>    So in common practice, each worker will have a moderate size of executors, neither too small, nor too big.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460930","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460930","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460930,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:13:21Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12845130\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12845130</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/messaging/netty/Client.java &#8212;<br/>\n    @@ -84,43 +93,87 @@</p>\n\n<p>     // Start the connection attempt.<br/>\n     remote_addr = new InetSocketAddress(host, port);</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>bootstrap.connect(remote_addr);<br/>\n    +<br/>\n    +Thread flushChecker = new Thread(new Runnable() {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460932","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460932","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460932,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5MzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:14:12Z","updated_at":"2025-01-24T12:51:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12845167\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12845167</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/Utils.java &#8212;<br/>\n    @@ -373,6 +399,25 @@ public static CuratorFramework newCuratorStarted(Map conf, List<String> servers,<br/>\n     ret.start();<br/>\n     return ret;<br/>\n }<br/>\n    +    <br/>\n    +    public static void redirectStreamAsync(Process process) {<br/>\n    +      redirectStreamAsync(process.getInputStream(), System.out);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Fixed, this part code is removed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460932/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460937","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460937","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460937,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5Mzc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:17:14Z","updated_at":"2025-01-24T12:51:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12845322\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12845322</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/backtype/storm/utils/Utils.java &#8212;<br/>\n    @@ -301,15 +303,39 @@ public static ComponentCommon getComponentCommon(StormTopology topology, String<br/>\n }</p>\n\n<p> public static Integer getInt(Object o) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>if(o instanceof Long) \n{\n    -    return ((Long) o ).intValue();\n    -}\n<p> else if (o instanceof Integer) </p>\n{\n    -    return (Integer) o;\n    -}\n<p> else if (o instanceof Short) </p>\n{\n    -    return ((Short) o).intValue();\n    -}\n<p> else </p>\n{\n    -    throw new IllegalArgumentException(\"Don't know how to convert \" + o + \" + to int\");\n    -}\n<p>    +      Integer result = getInt(o, null);<br/>\n    +      if (null == result) </p>\n{\n    +throw new IllegalArgumentException(\"Don't know how to convert null + to int\");\n    +      }\n<p>    +      return result;<br/>\n    +    }<br/>\n    +    <br/>\n    +    public static Integer getInt(Object o, Integer defaultValue) {<br/>\n    +      if (null == o) </p>\n{\n    +return defaultValue;\n    +      }\n<p>    +      <br/>\n    +      if(o instanceof Long) {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    You are correct, I filed</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-328\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-328</a></p>\n\n<p>    To address the issue across the project.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460939","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460939","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460939,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5Mzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:19:45Z","updated_at":"2025-01-24T12:51:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12845484\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12845484</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -109,25 +111,30 @@<br/>\n     (defn mk-transfer-fn <span class=\"error\">&#91;worker&#93;</span><br/>\n       (let [local-tasks (-> worker :task-ids set)<br/>\n     local-transfer (:transfer-local-fn worker)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>^DisruptorQueue transfer-queue (:transfer-queue worker)]<br/>\n    +^DisruptorQueue transfer-queue (:transfer-queue worker)<br/>\n    +task->node+port (:cached-task->node+port worker)]<br/>\n (fn <span class=\"error\">&#91;^KryoTupleSerializer serializer tuple-batch&#93;</span><br/>\n   (let [local (ArrayList.)</li>\n\t<li>remote (ArrayList.)]<br/>\n    +    remoteMap (HashMap.)]<br/>\n     (fast-list-iter [<span class=\"error\">&#91;task tuple :as pair&#93;</span> tuple-batch]<br/>\n       (if (local-tasks task)<br/>\n (.add local pair)</li>\n\t<li>(.add remote pair)</li>\n\t<li>))<br/>\n    +    (let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span><br/>\n    +      (when (not (.get remoteMap node+port))<br/>\n    +(.put remoteMap node+port (ArrayList.)))<br/>\n    +      (let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +(.add remote (TaskMessage. task (.serialize serializer tuple)))<br/>\n    + ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    OK, if you could add a quick comment about it, that would help prevent someone like me trying to \"clean it up\" in the future and slowing it down. Something like<br/>\n    ```;;Using java objects directly to avoid performance issues in java code```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460945","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460945","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460945,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:23:57Z","updated_at":"2025-01-24T12:51:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#discussion_r12845868\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#discussion_r12845868</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/backtype/storm/daemon/worker.clj &#8212;<br/>\n    @@ -109,25 +111,30 @@<br/>\n     (defn mk-transfer-fn <span class=\"error\">&#91;worker&#93;</span><br/>\n       (let [local-tasks (-> worker :task-ids set)<br/>\n     local-transfer (:transfer-local-fn worker)</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>^DisruptorQueue transfer-queue (:transfer-queue worker)]<br/>\n    +^DisruptorQueue transfer-queue (:transfer-queue worker)<br/>\n    +task->node+port (:cached-task->node+port worker)]<br/>\n (fn <span class=\"error\">&#91;^KryoTupleSerializer serializer tuple-batch&#93;</span><br/>\n   (let [local (ArrayList.)</li>\n\t<li>remote (ArrayList.)]<br/>\n    +    remoteMap (HashMap.)]<br/>\n     (fast-list-iter [<span class=\"error\">&#91;task tuple :as pair&#93;</span> tuple-batch]<br/>\n       (if (local-tasks task)<br/>\n (.add local pair)</li>\n\t<li>(.add remote pair)</li>\n\t<li>))<br/>\n    +    (let <span class=\"error\">&#91;node+port (get @task->node+port task)&#93;</span><br/>\n    +      (when (not (.get remoteMap node+port))<br/>\n    +(.put remoteMap node+port (ArrayList.)))<br/>\n    +      (let <span class=\"error\">&#91;remote (.get remoteMap node+port)&#93;</span><br/>\n    +(.add remote (TaskMessage. task (.serialize serializer tuple)))<br/>\n    + ))))\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    fixed, thanks</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43632986","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43632986","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43632986,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjMyOTg2","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:28:45Z","updated_at":"2014-05-20T14:28:45Z","author_association":"CONTRIBUTOR","body":"@clockfly,\n\nYour logic makes since to me on why these calls are blocking.  My biggest concern around the blocking is in the case of a worker crashing.  If a single worker crashes this can block the entire topology from executing until that worker comes back up.  In some cases I can see that being something that you would want.  In other cases I can see speed being the primary concern and some users would like to get partial data fast, rather then accurate data later.\n\nCould we make it configurable on a follow up JIRA where we can have a max limit to the buffering that is allowed, before we block, or throw data away (which is what zeromq does)?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43632986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460953","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460953","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460953,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:28:48Z","updated_at":"2025-01-24T12:51:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43632986\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43632986</a></p>\n\n<p>    @clockfly,</p>\n\n<p>    Your logic makes since to me on why these calls are blocking.  My biggest concern around the blocking is in the case of a worker crashing.  If a single worker crashes this can block the entire topology from executing until that worker comes back up.  In some cases I can see that being something that you would want.  In other cases I can see speed being the primary concern and some users would like to get partial data fast, rather then accurate data later.</p>\n\n<p>    Could we make it configurable on a follow up JIRA where we can have a max limit to the buffering that is allowed, before we block, or throw data away (which is what zeromq does)?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43634626","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43634626","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43634626,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM0NjI2","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:40:02Z","updated_at":"2014-05-20T14:40:02Z","author_association":"CONTRIBUTOR","body":"Bobby,\n\nYour suggestion makes sense, let's do this in a follow up jira!\n\nSean\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43634626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460956","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460956","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460956,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:40:06Z","updated_at":"2025-01-24T12:51:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43634626\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43634626</a></p>\n\n<p>    Bobby,</p>\n\n<p>    Your suggestion makes sense, let's do this in a follow up jira!</p>\n\n<p>    Sean</p>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43636831","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43636831","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43636831,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM2ODMx","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:55:36Z","updated_at":"2014-05-20T14:55:36Z","author_association":"CONTRIBUTOR","body":"Running the unit tests I ran into some errors in backtype.storm.messaging.netty-unit-test (there were 3 failures like this one)\n\nIt looks like you need to update the test to set Config.TOPOLOGY_WORKERS before creating the context.\n\n```\nexpected: nil\n  actual: java.lang.RuntimeException: Fail to construct messaging plugin from plugin backtype.storm.messaging.netty.Context\n at backtype.storm.messaging.TransportFactory.makeContext (TransportFactory.java:53)\n    backtype.storm.messaging.netty_unit_test/fn (netty_unit_test.clj:109)\n    clojure.test$test_var$fn__6926.invoke (test.clj:701)\n    clojure.test$test_var.invoke (test.clj:701)\n    clojure.test$test_all_vars$fn__6930$fn__6937.invoke (test.clj:717)\n    clojure.test$default_fixture.invoke (test.clj:671)\n    clojure.test$test_all_vars$fn__6930.invoke (test.clj:717)\n...\nCaused by: java.lang.IllegalArgumentException: Don&apos;t know how to convert null + to int\n at backtype.storm.utils.Utils.getInt (Utils.java:308)\n    backtype.storm.messaging.netty.Context.prepare (Context.java:66)\n    backtype.storm.messaging.TransportFactory.makeContext (TransportFactory.java:45)\n    backtype.storm.messaging.netty_unit_test/fn (netty_unit_test.clj:109)\n    clojure.test$test_var$fn__6926.invoke (test.clj:701)\n    clojure.test$test_var.invoke (test.clj:701)\n    clojure.test$test_all_vars$fn__6930$fn__6937.invoke (test.clj:717)\n    clojure.test$default_fixture.invoke (test.clj:671)\n    clojure.test$test_all_vars$fn__6930.invoke (test.clj:717)\n    clojure.test$default_fixture.invoke (test.clj:671)\n```\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43636831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460958","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460958","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460958,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5NTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T14:55:38Z","updated_at":"2025-01-24T12:51:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43636831\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43636831</a></p>\n\n<p>    Running the unit tests I ran into some errors in backtype.storm.messaging.netty-unit-test (there were 3 failures like this one)</p>\n\n<p>    It looks like you need to update the test to set Config.TOPOLOGY_WORKERS before creating the context.</p>\n\n<p>    ```<br/>\n    expected: nil<br/>\n      actual: java.lang.RuntimeException: Fail to construct messaging plugin from plugin backtype.storm.messaging.netty.Context<br/>\n     at backtype.storm.messaging.TransportFactory.makeContext (TransportFactory.java:53)<br/>\nbacktype.storm.messaging.netty_unit_test/fn (netty_unit_test.clj:109)<br/>\nclojure.test$test_var$fn__6926.invoke (test.clj:701)<br/>\nclojure.test$test_var.invoke (test.clj:701)<br/>\nclojure.test$test_all_vars$fn_<em>6930$fn</em>_6937.invoke (test.clj:717)<br/>\nclojure.test$default_fixture.invoke (test.clj:671)<br/>\nclojure.test$test_all_vars$fn__6930.invoke (test.clj:717)<br/>\n    ...<br/>\n    Caused by: java.lang.IllegalArgumentException: Don&apos;t know how to convert null + to int<br/>\n     at backtype.storm.utils.Utils.getInt (Utils.java:308)<br/>\nbacktype.storm.messaging.netty.Context.prepare (Context.java:66)<br/>\nbacktype.storm.messaging.TransportFactory.makeContext (TransportFactory.java:45)<br/>\nbacktype.storm.messaging.netty_unit_test/fn (netty_unit_test.clj:109)<br/>\nclojure.test$test_var$fn__6926.invoke (test.clj:701)<br/>\nclojure.test$test_var.invoke (test.clj:701)<br/>\nclojure.test$test_all_vars$fn_<em>6930$fn</em>_6937.invoke (test.clj:717)<br/>\nclojure.test$default_fixture.invoke (test.clj:671)<br/>\nclojure.test$test_all_vars$fn__6930.invoke (test.clj:717)<br/>\nclojure.test$default_fixture.invoke (test.clj:671)<br/>\n    ```</p>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43638885","html_url":"https://github.com/apache/storm/pull/28#issuecomment-43638885","issue_url":"https://api.github.com/repos/apache/storm/issues/28","id":43638885,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM4ODg1","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:10:23Z","updated_at":"2014-05-20T15:10:23Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43638885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452540","html_url":"https://github.com/apache/storm/issues/4074#issuecomment-2612452540","issue_url":"https://api.github.com/repos/apache/storm/issues/4074","id":2612452540,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTI1NDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:10:25Z","updated_at":"2025-01-24T12:47:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/28#issuecomment-43638885\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/28#issuecomment-43638885</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43639275","html_url":"https://github.com/apache/storm/pull/98#issuecomment-43639275","issue_url":"https://api.github.com/repos/apache/storm/issues/98","id":43639275,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM5Mjc1","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:13:09Z","updated_at":"2014-05-20T15:13:09Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43639275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452697","html_url":"https://github.com/apache/storm/issues/4075#issuecomment-2612452697","issue_url":"https://api.github.com/repos/apache/storm/issues/4075","id":2612452697,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTI2OTc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:13:11Z","updated_at":"2025-01-24T12:47:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/98#issuecomment-43639275\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/98#issuecomment-43639275</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452697/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43639415","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43639415","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43639415,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjM5NDE1","user":{"login":"Gvain","id":3352351,"node_id":"MDQ6VXNlcjMzNTIzNTE=","avatar_url":"https://avatars.githubusercontent.com/u/3352351?v=4","gravatar_id":"","url":"https://api.github.com/users/Gvain","html_url":"https://github.com/Gvain","followers_url":"https://api.github.com/users/Gvain/followers","following_url":"https://api.github.com/users/Gvain/following{/other_user}","gists_url":"https://api.github.com/users/Gvain/gists{/gist_id}","starred_url":"https://api.github.com/users/Gvain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Gvain/subscriptions","organizations_url":"https://api.github.com/users/Gvain/orgs","repos_url":"https://api.github.com/users/Gvain/repos","events_url":"https://api.github.com/users/Gvain/events{/privacy}","received_events_url":"https://api.github.com/users/Gvain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:14:08Z","updated_at":"2014-05-20T15:14:08Z","author_association":"CONTRIBUTOR","body":"\"So in common practice, each worker will have a moderate size of executors, neither too small, nor too big.\"\nI agree on this. But what size is considered to be too big or too small. Should 36 be too big? Only a few executors failed to heartbeat to nimbus, the whole worker will reload.\n\nBesides, By using a SHARED threadpool(its default size is 1) among all netty client within a worker, the netty threads number do not increase as total worker numbers increase. Check [jira][storm-12]. So, increasing worker count may not cause netty context switching problem.\n\n\"3. More outbound acker message count. Usually we will allocate one acker to one worker.\"\nBut you allocate 48 ackers to only 4 workers.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43639415/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460967","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460967","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460967,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:14:09Z","updated_at":"2025-01-24T12:51:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user Gvain commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43639415\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43639415</a></p>\n\n<p>    \"So in common practice, each worker will have a moderate size of executors, neither too small, nor too big.\"<br/>\n    I agree on this. But what size is considered to be too big or too small. Should 36 be too big? Only a few executors failed to heartbeat to nimbus, the whole worker will reload.</p>\n\n<p>    Besides, By using a SHARED threadpool(its default size is 1) among all netty client within a worker, the netty threads number do not increase as total worker numbers increase. Check <span class=\"error\">&#91;jira&#93;</span><span class=\"error\">&#91;storm-12&#93;</span>. So, increasing worker count may not cause netty context switching problem.</p>\n\n<p>    \"3. More outbound acker message count. Usually we will allocate one acker to one worker.\"<br/>\n    But you allocate 48 ackers to only 4 workers.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452543","html_url":"https://github.com/apache/storm/issues/4074#issuecomment-2612452543","issue_url":"https://api.github.com/repos/apache/storm/issues/4074","id":2612452543,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTI1NDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:25:16Z","updated_at":"2025-01-24T12:47:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=revans2\">revans2</a>:</i>\n<p>I merged this into master</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452545","html_url":"https://github.com/apache/storm/issues/4074#issuecomment-2612452545","issue_url":"https://api.github.com/repos/apache/storm/issues/4074","id":2612452545,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTI1NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:25:17Z","updated_at":"2025-01-24T12:47:22Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/28\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/28</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43641973","html_url":"https://github.com/apache/storm/pull/94#issuecomment-43641973","issue_url":"https://api.github.com/repos/apache/storm/issues/94","id":43641973,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQxOTcz","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:32:27Z","updated_at":"2014-05-20T15:32:27Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43641973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462168","html_url":"https://github.com/apache/storm/issues/4145#issuecomment-2612462168","issue_url":"https://api.github.com/repos/apache/storm/issues/4145","id":2612462168,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjIxNjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:32:29Z","updated_at":"2025-01-24T12:52:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/94#issuecomment-43641973\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/94#issuecomment-43641973</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462168/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43642341","html_url":"https://github.com/apache/storm/pull/115#issuecomment-43642341","issue_url":"https://api.github.com/repos/apache/storm/issues/115","id":43642341,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQyMzQx","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:35:04Z","updated_at":"2014-05-20T15:35:04Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43642341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456845","html_url":"https://github.com/apache/storm/issues/4109#issuecomment-2612456845","issue_url":"https://api.github.com/repos/apache/storm/issues/4109","id":2612456845,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTY4NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:35:06Z","updated_at":"2025-01-24T12:49:44Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/115#issuecomment-43642341\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/115#issuecomment-43642341</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43642658","html_url":"https://github.com/apache/storm/pull/106#issuecomment-43642658","issue_url":"https://api.github.com/repos/apache/storm/issues/106","id":43642658,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQyNjU4","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:37:35Z","updated_at":"2014-05-20T15:37:35Z","author_association":"MEMBER","body":"+1\n\nThis also removes the last reference to log4j, meaning all code now uses only slf4j.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43642658/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612463567","html_url":"https://github.com/apache/storm/issues/4155#issuecomment-2612463567","issue_url":"https://api.github.com/repos/apache/storm/issues/4155","id":2612463567,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjM1Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:37:37Z","updated_at":"2025-01-24T12:53:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/106#issuecomment-43642658\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/106#issuecomment-43642658</a></p>\n\n<p>    +1</p>\n\n<p>    This also removes the last reference to log4j, meaning all code now uses only slf4j.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612463567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43645272","html_url":"https://github.com/apache/storm/pull/66#issuecomment-43645272","issue_url":"https://api.github.com/repos/apache/storm/issues/66","id":43645272,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjQ1Mjcy","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:57:01Z","updated_at":"2014-05-20T15:57:01Z","author_association":"NONE","body":"+1 for 1.5.1 upgrade.  The unit test failures going to 1.6.x seem suspicious...\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43645272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456641","html_url":"https://github.com/apache/storm/issues/4107#issuecomment-2612456641","issue_url":"https://api.github.com/repos/apache/storm/issues/4107","id":2612456641,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTY2NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T15:57:02Z","updated_at":"2025-01-24T12:49:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/66#issuecomment-43645272\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/66#issuecomment-43645272</a></p>\n\n<p>    +1 for 1.5.1 upgrade.  The unit test failures going to 1.6.x seem suspicious...</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456645","html_url":"https://github.com/apache/storm/issues/4107#issuecomment-2612456645","issue_url":"https://api.github.com/repos/apache/storm/issues/4107","id":2612456645,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTY2NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T16:52:26Z","updated_at":"2025-01-24T12:49:37Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/66\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/66</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456850","html_url":"https://github.com/apache/storm/issues/4109#issuecomment-2612456850","issue_url":"https://api.github.com/repos/apache/storm/issues/4109","id":2612456850,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTY4NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T17:15:28Z","updated_at":"2025-01-24T12:49:44Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/115\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/115</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612456850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43656390","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43656390","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43656390,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjU2Mzkw","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T17:18:53Z","updated_at":"2014-05-20T17:18:53Z","author_association":"CONTRIBUTOR","body":"Gvain,\n\n> Besides, By using a SHARED threadpool(its default size is 1) among all netty client within a worker,  the netty threads number do not increase as total worker numbers increase. Check [jira][storm-12]. So, increasing worker count may not cause netty context switching problem.\n\nContext switch here means netty threads from different worker processes of same machine will compete with each other. \n\n> \"3. More outbound acker message count. Usually we will allocate one acker to one worker.\"\n> But you allocate 48 ackers to only 4 workers.\n\nUsually one acker one worker will suffice. But for the perfomance benchmarking case, acker becomes a bottleneck, because the message count is huge.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43656390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460979","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460979","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460979,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T17:18:55Z","updated_at":"2025-01-24T12:51:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43656390\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43656390</a></p>\n\n<p>    Gvain,</p>\n\n<p>    > Besides, By using a SHARED threadpool(its default size is 1) among all netty client within a worker,  the netty threads number do not increase as total worker numbers increase. Check <span class=\"error\">&#91;jira&#93;</span><span class=\"error\">&#91;storm-12&#93;</span>. So, increasing worker count may not cause netty context switching problem.</p>\n\n<p>    Context switch here means netty threads from different worker processes of same machine will compete with each other. </p>\n\n<p>    > \"3. More outbound acker message count. Usually we will allocate one acker to one worker.\"<br/>\n    But you allocate 48 ackers to only 4 workers.</p>\n\n<p>    Usually one acker one worker will suffice. But for the perfomance benchmarking case, acker becomes a bottleneck, because the message count is huge.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460979/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43656469","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43656469","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43656469,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjU2NDY5","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T17:19:35Z","updated_at":"2014-05-20T17:19:35Z","author_association":"CONTRIBUTOR","body":"Bobby, \n\nSorry for this regression. Now it is fixed.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43656469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460982","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460982","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460982,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5ODI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T17:19:36Z","updated_at":"2025-01-24T12:51:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43656469\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43656469</a></p>\n\n<p>    Bobby, </p>\n\n<p>    Sorry for this regression. Now it is fixed.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43659441","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43659441","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43659441,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjU5NDQx","user":{"login":"revans2","id":3441321,"node_id":"MDQ6VXNlcjM0NDEzMjE=","avatar_url":"https://avatars.githubusercontent.com/u/3441321?v=4","gravatar_id":"","url":"https://api.github.com/users/revans2","html_url":"https://github.com/revans2","followers_url":"https://api.github.com/users/revans2/followers","following_url":"https://api.github.com/users/revans2/following{/other_user}","gists_url":"https://api.github.com/users/revans2/gists{/gist_id}","starred_url":"https://api.github.com/users/revans2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/revans2/subscriptions","organizations_url":"https://api.github.com/users/revans2/orgs","repos_url":"https://api.github.com/users/revans2/repos","events_url":"https://api.github.com/users/revans2/events{/privacy}","received_events_url":"https://api.github.com/users/revans2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T17:44:08Z","updated_at":"2014-05-20T17:44:08Z","author_association":"CONTRIBUTOR","body":"The unit tests pass and the code looks OK to me.  I am +1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43659441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460985","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460985","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460985,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5ODU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T17:44:09Z","updated_at":"2025-01-24T12:51:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user revans2 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43659441\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43659441</a></p>\n\n<p>    The unit tests pass and the code looks OK to me.  I am +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452703","html_url":"https://github.com/apache/storm/issues/4075#issuecomment-2612452703","issue_url":"https://api.github.com/repos/apache/storm/issues/4075","id":2612452703,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTI3MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T17:47:50Z","updated_at":"2025-01-24T12:47:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/98\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/98</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612452703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43668065","html_url":"https://github.com/apache/storm/pull/113#issuecomment-43668065","issue_url":"https://api.github.com/repos/apache/storm/issues/113","id":43668065,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjY4MDY1","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T18:55:16Z","updated_at":"2014-05-20T18:55:16Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43668065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612464105","html_url":"https://github.com/apache/storm/issues/4160#issuecomment-2612464105","issue_url":"https://api.github.com/repos/apache/storm/issues/4160","id":2612464105,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjQxMDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T18:55:18Z","updated_at":"2025-01-24T12:53:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/113#issuecomment-43668065\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/113#issuecomment-43668065</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612464105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462172","html_url":"https://github.com/apache/storm/issues/4145#issuecomment-2612462172","issue_url":"https://api.github.com/repos/apache/storm/issues/4145","id":2612462172,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjIxNzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T18:59:03Z","updated_at":"2025-01-24T12:52:26Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/94\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/94</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43668622","html_url":"https://github.com/apache/storm/pull/113#issuecomment-43668622","issue_url":"https://api.github.com/repos/apache/storm/issues/113","id":43668622,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjY4NjIy","user":{"login":"d2r","id":905298,"node_id":"MDQ6VXNlcjkwNTI5OA==","avatar_url":"https://avatars.githubusercontent.com/u/905298?v=4","gravatar_id":"","url":"https://api.github.com/users/d2r","html_url":"https://github.com/d2r","followers_url":"https://api.github.com/users/d2r/followers","following_url":"https://api.github.com/users/d2r/following{/other_user}","gists_url":"https://api.github.com/users/d2r/gists{/gist_id}","starred_url":"https://api.github.com/users/d2r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/d2r/subscriptions","organizations_url":"https://api.github.com/users/d2r/orgs","repos_url":"https://api.github.com/users/d2r/repos","events_url":"https://api.github.com/users/d2r/events{/privacy}","received_events_url":"https://api.github.com/users/d2r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T18:59:41Z","updated_at":"2014-05-20T18:59:41Z","author_association":"NONE","body":"+1 Looks ok to me.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43668622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612464112","html_url":"https://github.com/apache/storm/issues/4160#issuecomment-2612464112","issue_url":"https://api.github.com/repos/apache/storm/issues/4160","id":2612464112,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjQxMTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T18:59:42Z","updated_at":"2025-01-24T12:53:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user d2r commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/113#issuecomment-43668622\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/113#issuecomment-43668622</a></p>\n\n<p>    +1 Looks ok to me.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612464112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43672419","html_url":"https://github.com/apache/storm/pull/118#issuecomment-43672419","issue_url":"https://api.github.com/repos/apache/storm/issues/118","id":43672419,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjcyNDE5","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T19:33:19Z","updated_at":"2014-05-20T19:33:19Z","author_association":"MEMBER","body":"@troyding I tend to agree with @revans2. Can you add a clojure unit test for this?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43672419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466148","html_url":"https://github.com/apache/storm/issues/4168#issuecomment-2612466148","issue_url":"https://api.github.com/repos/apache/storm/issues/4168","id":2612466148,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjYxNDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T19:33:20Z","updated_at":"2025-01-24T12:53:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/118#issuecomment-43672419\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/118#issuecomment-43672419</a></p>\n\n<p>    @troyding I tend to agree with @revans2. Can you add a clojure unit test for this?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612466148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612464116","html_url":"https://github.com/apache/storm/issues/4160#issuecomment-2612464116","issue_url":"https://api.github.com/repos/apache/storm/issues/4160","id":2612464116,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjQxMTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T19:47:51Z","updated_at":"2025-01-24T12:53:27Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/113\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/113</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612464116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43674246","html_url":"https://github.com/apache/storm/pull/64#issuecomment-43674246","issue_url":"https://api.github.com/repos/apache/storm/issues/64","id":43674246,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNjc0MjQ2","user":{"login":"ptgoetz","id":260896,"node_id":"MDQ6VXNlcjI2MDg5Ng==","avatar_url":"https://avatars.githubusercontent.com/u/260896?v=4","gravatar_id":"","url":"https://api.github.com/users/ptgoetz","html_url":"https://github.com/ptgoetz","followers_url":"https://api.github.com/users/ptgoetz/followers","following_url":"https://api.github.com/users/ptgoetz/following{/other_user}","gists_url":"https://api.github.com/users/ptgoetz/gists{/gist_id}","starred_url":"https://api.github.com/users/ptgoetz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptgoetz/subscriptions","organizations_url":"https://api.github.com/users/ptgoetz/orgs","repos_url":"https://api.github.com/users/ptgoetz/repos","events_url":"https://api.github.com/users/ptgoetz/events{/privacy}","received_events_url":"https://api.github.com/users/ptgoetz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T19:50:29Z","updated_at":"2014-05-20T19:50:29Z","author_association":"MEMBER","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43674246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462983","html_url":"https://github.com/apache/storm/issues/4151#issuecomment-2612462983","issue_url":"https://api.github.com/repos/apache/storm/issues/4151","id":2612462983,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjI5ODM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T19:50:31Z","updated_at":"2025-01-24T12:52:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ptgoetz commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/64#issuecomment-43674246\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/64#issuecomment-43674246</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462983/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462986","html_url":"https://github.com/apache/storm/issues/4151#issuecomment-2612462986","issue_url":"https://api.github.com/repos/apache/storm/issues/4151","id":2612462986,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjI5ODY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T20:35:15Z","updated_at":"2025-01-24T12:52:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user asfgit closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/64\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/64</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612462986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612432731","html_url":"https://github.com/apache/storm/issues/3914#issuecomment-2612432731","issue_url":"https://api.github.com/repos/apache/storm/issues/3914","id":2612432731,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0MzI3MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T23:17:50Z","updated_at":"2025-01-24T12:36:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jreichhold\">jreichhold</a>:</i>\n<p><a href=\"https://github.com/apache/incubator-storm/pull/119\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/119</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612432731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612450496","html_url":"https://github.com/apache/storm/issues/4057#issuecomment-2612450496","issue_url":"https://api.github.com/repos/apache/storm/issues/4057","id":2612450496,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NTA0OTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-20T23:41:15Z","updated_at":"2025-01-24T12:46:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jmlogan\">jmlogan</a>:</i>\n<p>could you post how you actually managed to get this to build?</p>\n\n<p>I'm not familiar with clojure/lein, and am having issues with it linking correctly with zmq...I have just been doing a lein install, and attempting to get the java library path set correctly, but haven't had any luck. (I've been getting Unsatisfied Link Errors).</p>\n\n<p>Or, if we could just get an actual jar posted to github, etc? Not sure how hardly this is linked to the specific system configuration.</p>\n\n\n\n<p>Thanks~</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612450496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/43703379","html_url":"https://github.com/apache/storm/pull/103#issuecomment-43703379","issue_url":"https://api.github.com/repos/apache/storm/issues/103","id":43703379,"node_id":"MDEyOklzc3VlQ29tbWVudDQzNzAzMzc5","user":{"login":"clockfly","id":2595532,"node_id":"MDQ6VXNlcjI1OTU1MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2595532?v=4","gravatar_id":"","url":"https://api.github.com/users/clockfly","html_url":"https://github.com/clockfly","followers_url":"https://api.github.com/users/clockfly/followers","following_url":"https://api.github.com/users/clockfly/following{/other_user}","gists_url":"https://api.github.com/users/clockfly/gists{/gist_id}","starred_url":"https://api.github.com/users/clockfly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clockfly/subscriptions","organizations_url":"https://api.github.com/users/clockfly/orgs","repos_url":"https://api.github.com/users/clockfly/repos","events_url":"https://api.github.com/users/clockfly/events{/privacy}","received_events_url":"https://api.github.com/users/clockfly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-21T01:34:58Z","updated_at":"2014-05-21T01:34:58Z","author_association":"CONTRIBUTOR","body":"Thanks.\n\n@miguno, @ptgoetz, @nathanmarz, do you have further comments?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/43703379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460989","html_url":"https://github.com/apache/storm/issues/4139#issuecomment-2612460989","issue_url":"https://api.github.com/repos/apache/storm/issues/4139","id":2612460989,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI0NjA5ODk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-21T01:35:00Z","updated_at":"2025-01-24T12:51:55Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user clockfly commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/incubator-storm/pull/103#issuecomment-43703379\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/incubator-storm/pull/103#issuecomment-43703379</a></p>\n\n<p>    Thanks.</p>\n\n<p>    @miguno, @ptgoetz, @nathanmarz, do you have further comments?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612460989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]