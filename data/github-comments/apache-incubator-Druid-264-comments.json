[{"url":"https://api.github.com/repos/apache/druid/issues/comments/512637966","html_url":"https://github.com/apache/druid/pull/8094#issuecomment-512637966","issue_url":"https://api.github.com/repos/apache/druid/issues/8094","id":512637966,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjYzNzk2Ng==","user":{"login":"asdf2014","id":8108788,"node_id":"MDQ6VXNlcjgxMDg3ODg=","avatar_url":"https://avatars.githubusercontent.com/u/8108788?v=4","gravatar_id":"","url":"https://api.github.com/users/asdf2014","html_url":"https://github.com/asdf2014","followers_url":"https://api.github.com/users/asdf2014/followers","following_url":"https://api.github.com/users/asdf2014/following{/other_user}","gists_url":"https://api.github.com/users/asdf2014/gists{/gist_id}","starred_url":"https://api.github.com/users/asdf2014/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asdf2014/subscriptions","organizations_url":"https://api.github.com/users/asdf2014/orgs","repos_url":"https://api.github.com/users/asdf2014/repos","events_url":"https://api.github.com/users/asdf2014/events{/privacy}","received_events_url":"https://api.github.com/users/asdf2014/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T02:20:54Z","updated_at":"2019-07-18T02:20:54Z","author_association":"MEMBER","body":"> While there is an `outDir: build` set in the tsconfig it should never be used. That setting could probably be removed. TypeScript is only used via the webpack ts-loader. You should not need to run `tsc` directly.\r\n> We should clean up the tsconfig. I don't think git ignoring `build` is a good idea as it just hides the real problem - which is we should never be writing to that dir.\r\n\r\n@vogievetsky In fact, I have never manually executed the `tsc` command. I don't know why, after opening the project in the IDE for a while, the `build` directory will still be created automatically. I will close this. BTW, maybe the `\"run\": \"./script/run\"` script in `package.json` also is not necessary. If you can, please help delete it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512637966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512652424","html_url":"https://github.com/apache/druid/issues/8095#issuecomment-512652424","issue_url":"https://api.github.com/repos/apache/druid/issues/8095","id":512652424,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjY1MjQyNA==","user":{"login":"burningice2012","id":13505983,"node_id":"MDQ6VXNlcjEzNTA1OTgz","avatar_url":"https://avatars.githubusercontent.com/u/13505983?v=4","gravatar_id":"","url":"https://api.github.com/users/burningice2012","html_url":"https://github.com/burningice2012","followers_url":"https://api.github.com/users/burningice2012/followers","following_url":"https://api.github.com/users/burningice2012/following{/other_user}","gists_url":"https://api.github.com/users/burningice2012/gists{/gist_id}","starred_url":"https://api.github.com/users/burningice2012/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/burningice2012/subscriptions","organizations_url":"https://api.github.com/users/burningice2012/orgs","repos_url":"https://api.github.com/users/burningice2012/repos","events_url":"https://api.github.com/users/burningice2012/events{/privacy}","received_events_url":"https://api.github.com/users/burningice2012/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T03:40:00Z","updated_at":"2019-07-18T09:50:58Z","author_association":"NONE","body":"Thanks. @AlexanderSaydakov\r\n I found the issues you mentioned in the release notes of 0.14.1. \r\nTo confirm:\r\n1. the related bug about quantiles you mentioned above should be:  [#7320](https://github.com/apache/incubator-druid/pull/7320) or [0.13.1 Apr 2, 2019: Fix Direct DoublesUnion Quantiles Bug](https://github.com/apache/incubator-datasketches-java/releases/tag/sketches-core-0.13.1)\r\n2. and the newly introduced bug about theta sketch is: [#7607](https://github.com/apache/incubator-druid/issues/7607).\r\n\r\nWe do use theta sketch, and I think the bug #7607 has been resolved in 0.14.2 ?\r\n[0.14.2-incubating release notes #7628](https://github.com/apache/incubator-druid/issues/7628)\r\nBug Fixes\r\n#7607 thetaSketch(with sketches-core-0.13.1) in groupBy always return value no more than 16384\r\n#6483 Exception during sketch aggregations while using Result level cache\r\n#7621 NPE when both populateResultLevelCache and grandTotal are set\r\n\r\nSo, is there other bugfixes for theta sketch to be released in 0.16.0?\r\nShould I upgrade to 0.14.2+, or cherrypick the datasketch module from master and build myself?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512652424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512667865","html_url":"https://github.com/apache/druid/issues/8063#issuecomment-512667865","issue_url":"https://api.github.com/repos/apache/druid/issues/8063","id":512667865,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjY2Nzg2NQ==","user":{"login":"mihai-cazacu-adswizz","id":45362709,"node_id":"MDQ6VXNlcjQ1MzYyNzA5","avatar_url":"https://avatars.githubusercontent.com/u/45362709?v=4","gravatar_id":"","url":"https://api.github.com/users/mihai-cazacu-adswizz","html_url":"https://github.com/mihai-cazacu-adswizz","followers_url":"https://api.github.com/users/mihai-cazacu-adswizz/followers","following_url":"https://api.github.com/users/mihai-cazacu-adswizz/following{/other_user}","gists_url":"https://api.github.com/users/mihai-cazacu-adswizz/gists{/gist_id}","starred_url":"https://api.github.com/users/mihai-cazacu-adswizz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mihai-cazacu-adswizz/subscriptions","organizations_url":"https://api.github.com/users/mihai-cazacu-adswizz/orgs","repos_url":"https://api.github.com/users/mihai-cazacu-adswizz/repos","events_url":"https://api.github.com/users/mihai-cazacu-adswizz/events{/privacy}","received_events_url":"https://api.github.com/users/mihai-cazacu-adswizz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T05:14:25Z","updated_at":"2019-07-18T10:46:40Z","author_association":"NONE","body":"@trtg: You have to access your MiddleManager and modify the `druid.indexer.runner.javaOpts` property in `${DRUID_HOME}/conf/druid/middleManager/runtime.properties`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512667865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512674779","html_url":"https://github.com/apache/druid/pull/8084#issuecomment-512674779","issue_url":"https://api.github.com/repos/apache/druid/issues/8084","id":512674779,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjY3NDc3OQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T05:52:13Z","updated_at":"2019-07-18T05:52:13Z","author_association":"MEMBER","body":"It might be worth going over the set of labels to consider if there are any that we should consider removing. For example, I think the `Difficulty - *` and `Priority - *` labels could be purged. I'll try to find time to have a look at them and see if there are any others I think could be dropped and raise a dev list thread about it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512674779/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512735284","html_url":"https://github.com/apache/druid/issues/7285#issuecomment-512735284","issue_url":"https://api.github.com/repos/apache/druid/issues/7285","id":512735284,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjczNTI4NA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T09:16:21Z","updated_at":"2019-07-18T09:16:21Z","author_association":"MEMBER","body":"`BrokerServerView.getTimeline()` is another manifestation of this problem: it's an example of https://github.com/code-review-checklists/java-concurrency#concurrent-mutation-race.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512735284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512789154","html_url":"https://github.com/apache/druid/issues/8102#issuecomment-512789154","issue_url":"https://api.github.com/repos/apache/druid/issues/8102","id":512789154,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjc4OTE1NA==","user":{"login":"yycncom","id":3283802,"node_id":"MDQ6VXNlcjMyODM4MDI=","avatar_url":"https://avatars.githubusercontent.com/u/3283802?v=4","gravatar_id":"","url":"https://api.github.com/users/yycncom","html_url":"https://github.com/yycncom","followers_url":"https://api.github.com/users/yycncom/followers","following_url":"https://api.github.com/users/yycncom/following{/other_user}","gists_url":"https://api.github.com/users/yycncom/gists{/gist_id}","starred_url":"https://api.github.com/users/yycncom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yycncom/subscriptions","organizations_url":"https://api.github.com/users/yycncom/orgs","repos_url":"https://api.github.com/users/yycncom/repos","events_url":"https://api.github.com/users/yycncom/events{/privacy}","received_events_url":"https://api.github.com/users/yycncom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T12:10:51Z","updated_at":"2019-07-18T12:10:51Z","author_association":"NONE","body":"There are some \"null\" and \"None\" in local_timestamp.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512789154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512800978","html_url":"https://github.com/apache/druid/pull/8021#issuecomment-512800978","issue_url":"https://api.github.com/repos/apache/druid/issues/8021","id":512800978,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjgwMDk3OA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T12:49:39Z","updated_at":"2019-07-18T12:49:39Z","author_association":"CONTRIBUTOR","body":"@clintropolis This is the first step into fixing the annotations, could we move this forward?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512800978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512805544","html_url":"https://github.com/apache/druid/issues/6447#issuecomment-512805544","issue_url":"https://api.github.com/repos/apache/druid/issues/6447","id":512805544,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjgwNTU0NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T13:02:27Z","updated_at":"2019-07-18T13:02:27Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512805544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512805552","html_url":"https://github.com/apache/druid/issues/6446#issuecomment-512805552","issue_url":"https://api.github.com/repos/apache/druid/issues/6446","id":512805552,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjgwNTU1Mg==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T13:02:28Z","updated_at":"2019-07-18T13:02:28Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512805552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512887948","html_url":"https://github.com/apache/druid/issues/8104#issuecomment-512887948","issue_url":"https://api.github.com/repos/apache/druid/issues/8104","id":512887948,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjg4Nzk0OA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T16:23:40Z","updated_at":"2019-07-18T16:23:40Z","author_association":"CONTRIBUTOR","body":"Try `SELECT * FROM bro2 WHERE \"id.orig_h\"='64.233.188.188'`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512887948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512903526","html_url":"https://github.com/apache/druid/issues/8091#issuecomment-512903526","issue_url":"https://api.github.com/repos/apache/druid/issues/8091","id":512903526,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkwMzUyNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T17:05:01Z","updated_at":"2019-07-18T17:05:01Z","author_association":"CONTRIBUTOR","body":"thanks, got it.... what was I thinking :)\r\n\r\nI will send in a patch soon. I am surprised that my ex-colleagues haven't noticed this , meaning it is mostly being used in the prefix case you described where it \"worked\" .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512903526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512915757","html_url":"https://github.com/apache/druid/issues/7285#issuecomment-512915757","issue_url":"https://api.github.com/repos/apache/druid/issues/7285","id":512915757,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjkxNTc1Nw==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T17:38:56Z","updated_at":"2019-07-18T17:38:56Z","author_association":"CONTRIBUTOR","body":"@leventov thanks for finding this bug. \r\n\r\n> `BrokerServerView.getTimeline()` is another manifestation of this problem: it's an example of https://github.com/code-review-checklists/java-concurrency#concurrent-mutation-race.\r\n\r\nWhy is this an example of concurrent mutation race rather than unsafe concurrent iteration? Looks like all users of `BrokerServerView.getTimeline()` just call `lookup()` on it.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512915757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512953037","html_url":"https://github.com/apache/druid/pull/8068#issuecomment-512953037","issue_url":"https://api.github.com/repos/apache/druid/issues/8068","id":512953037,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjk1MzAzNw==","user":{"login":"sashidhar","id":287761,"node_id":"MDQ6VXNlcjI4Nzc2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/287761?v=4","gravatar_id":"","url":"https://api.github.com/users/sashidhar","html_url":"https://github.com/sashidhar","followers_url":"https://api.github.com/users/sashidhar/followers","following_url":"https://api.github.com/users/sashidhar/following{/other_user}","gists_url":"https://api.github.com/users/sashidhar/gists{/gist_id}","starred_url":"https://api.github.com/users/sashidhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sashidhar/subscriptions","organizations_url":"https://api.github.com/users/sashidhar/orgs","repos_url":"https://api.github.com/users/sashidhar/repos","events_url":"https://api.github.com/users/sashidhar/events{/privacy}","received_events_url":"https://api.github.com/users/sashidhar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T19:24:20Z","updated_at":"2019-07-18T19:29:25Z","author_association":"CONTRIBUTOR","body":"Added support for the remaining time units i.e DECADE and MILLENNIUM. With this support for all missing time units is handled. Updated the test case accordingly. If the overall changes including the expression evaluation logic looks fine, I'll add and/or update more tests as needed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512953037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512955128","html_url":"https://github.com/apache/druid/pull/8088#issuecomment-512955128","issue_url":"https://api.github.com/repos/apache/druid/issues/8088","id":512955128,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjk1NTEyOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T19:30:30Z","updated_at":"2019-07-18T19:30:30Z","author_association":"CONTRIBUTOR","body":"@himanshug thanks for the review!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512955128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512956004","html_url":"https://github.com/apache/druid/issues/7285#issuecomment-512956004","issue_url":"https://api.github.com/repos/apache/druid/issues/7285","id":512956004,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjk1NjAwNA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T19:33:15Z","updated_at":"2019-07-18T19:33:15Z","author_association":"MEMBER","body":"@jihoonson apparently, it's both, since one concurrency checklist item of these is a generalization of another. I didn't look at `getTimeline()` uses. Thanks for looking further.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512956004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/512970401","html_url":"https://github.com/apache/druid/pull/8089#issuecomment-512970401","issue_url":"https://api.github.com/repos/apache/druid/issues/8089","id":512970401,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMjk3MDQwMQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T20:14:59Z","updated_at":"2019-07-18T20:14:59Z","author_association":"MEMBER","body":"Thanks for review @leventov and @jihoonson!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/512970401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513002129","html_url":"https://github.com/apache/druid/issues/7900#issuecomment-513002129","issue_url":"https://api.github.com/repos/apache/druid/issues/7900","id":513002129,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAwMjEyOQ==","user":{"login":"jon-wei","id":8729063,"node_id":"MDQ6VXNlcjg3MjkwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/8729063?v=4","gravatar_id":"","url":"https://api.github.com/users/jon-wei","html_url":"https://github.com/jon-wei","followers_url":"https://api.github.com/users/jon-wei/followers","following_url":"https://api.github.com/users/jon-wei/following{/other_user}","gists_url":"https://api.github.com/users/jon-wei/gists{/gist_id}","starred_url":"https://api.github.com/users/jon-wei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jon-wei/subscriptions","organizations_url":"https://api.github.com/users/jon-wei/orgs","repos_url":"https://api.github.com/users/jon-wei/repos","events_url":"https://api.github.com/users/jon-wei/events{/privacy}","received_events_url":"https://api.github.com/users/jon-wei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T21:50:06Z","updated_at":"2019-07-18T21:50:21Z","author_association":"CONTRIBUTOR","body":"> When I look at it from that perspective, it seems more logical to add a configuration parameter to existing MiddleManager node type that says whether or not to run task processes in same jvm process.\r\n\r\n@himanshug  I found that it was cleaner to define a new node type, since there are aspects of the new process that diverge from the existing MM's behavior.\r\n\r\n For example, with lookups, MM process doesn't need to load them but the new indexer does. In `DruidNodeDiscoveryProvider`, I would otherwise have to associate the MiddleManager node type with LookupNodeService and doing that kind of control across the board with a shared node type seems complicated.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513002129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513005099","html_url":"https://github.com/apache/druid/pull/8021#issuecomment-513005099","issue_url":"https://api.github.com/repos/apache/druid/issues/8021","id":513005099,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAwNTA5OQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T21:59:57Z","updated_at":"2019-07-18T21:59:57Z","author_association":"MEMBER","body":">@clintropolis This is the first step into fixing the annotations, could we move this forward?\r\n\r\nApologies, I've been very busy, I'll try to get to this sometime this week 😅 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513005099/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513021538","html_url":"https://github.com/apache/druid/pull/7564#issuecomment-513021538","issue_url":"https://api.github.com/repos/apache/druid/issues/7564","id":513021538,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAyMTUzOA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T22:51:30Z","updated_at":"2019-07-18T22:51:30Z","author_association":"CONTRIBUTOR","body":"Sadly we do not have a cluster publicly available right now. I think if you could just merge in master and fix the linting / code quality issues we could iron out any issues with large number of data point.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513021538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513030440","html_url":"https://github.com/apache/druid/issues/7962#issuecomment-513030440","issue_url":"https://api.github.com/repos/apache/druid/issues/7962","id":513030440,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAzMDQ0MA==","user":{"login":"ankit0811","id":12939079,"node_id":"MDQ6VXNlcjEyOTM5MDc5","avatar_url":"https://avatars.githubusercontent.com/u/12939079?v=4","gravatar_id":"","url":"https://api.github.com/users/ankit0811","html_url":"https://github.com/ankit0811","followers_url":"https://api.github.com/users/ankit0811/followers","following_url":"https://api.github.com/users/ankit0811/following{/other_user}","gists_url":"https://api.github.com/users/ankit0811/gists{/gist_id}","starred_url":"https://api.github.com/users/ankit0811/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ankit0811/subscriptions","organizations_url":"https://api.github.com/users/ankit0811/orgs","repos_url":"https://api.github.com/users/ankit0811/repos","events_url":"https://api.github.com/users/ankit0811/events{/privacy}","received_events_url":"https://api.github.com/users/ankit0811/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T23:25:37Z","updated_at":"2019-07-18T23:25:37Z","author_association":"CONTRIBUTOR","body":"@jon-wei \r\nI tested the kill task which included the changes from PR #8085 and the kill task works as expected. I dint see any inconsistency in terminating the underlying MR job.\r\n\r\nScenarios tested:\r\n1. Kill as soon as the MR job starts - works as expected\r\n2. Kill when the map phase is completed (100%) - works as expected\r\n3. Kill when the reducer phase is still in running phase - works as expected \r\n4. Kill when the MR job is almost completed - This leads to a race condition where in if the overlord issue the kill command and the job is completed, we see the above log lines \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513030440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513033635","html_url":"https://github.com/apache/druid/issues/5853#issuecomment-513033635","issue_url":"https://api.github.com/repos/apache/druid/issues/5853","id":513033635,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAzMzYzNQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T23:40:02Z","updated_at":"2019-07-18T23:40:51Z","author_association":"CONTRIBUTOR","body":"@chillinger  and @bryan-dlvr that warning is harmless and unrelated to issues you saw , please ignore that for now and it will disappear in 0.16.0 release.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513033635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513036185","html_url":"https://github.com/apache/druid/pull/7986#issuecomment-513036185","issue_url":"https://api.github.com/repos/apache/druid/issues/7986","id":513036185,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAzNjE4NQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T23:51:39Z","updated_at":"2019-07-18T23:51:39Z","author_association":"CONTRIBUTOR","body":"Thank you for taking care of all the feedback, looks great now. I am excited to use `setIntermediateQuery` in all the views.\r\n\r\n👍 after CI","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513036185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513036681","html_url":"https://github.com/apache/druid/pull/8094#issuecomment-513036681","issue_url":"https://api.github.com/repos/apache/druid/issues/8094","id":513036681,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzAzNjY4MQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-18T23:54:03Z","updated_at":"2019-07-18T23:54:03Z","author_association":"CONTRIBUTOR","body":"I will clean up the build artifacts ASAP","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513036681/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513041907","html_url":"https://github.com/apache/druid/issues/5853#issuecomment-513041907","issue_url":"https://api.github.com/repos/apache/druid/issues/5853","id":513041907,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzA0MTkwNw==","user":{"login":"bryan-dlvr","id":40764886,"node_id":"MDQ6VXNlcjQwNzY0ODg2","avatar_url":"https://avatars.githubusercontent.com/u/40764886?v=4","gravatar_id":"","url":"https://api.github.com/users/bryan-dlvr","html_url":"https://github.com/bryan-dlvr","followers_url":"https://api.github.com/users/bryan-dlvr/followers","following_url":"https://api.github.com/users/bryan-dlvr/following{/other_user}","gists_url":"https://api.github.com/users/bryan-dlvr/gists{/gist_id}","starred_url":"https://api.github.com/users/bryan-dlvr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryan-dlvr/subscriptions","organizations_url":"https://api.github.com/users/bryan-dlvr/orgs","repos_url":"https://api.github.com/users/bryan-dlvr/repos","events_url":"https://api.github.com/users/bryan-dlvr/events{/privacy}","received_events_url":"https://api.github.com/users/bryan-dlvr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T00:21:05Z","updated_at":"2019-07-19T00:21:05Z","author_association":"NONE","body":"If I'm understanding @jihoonson comment above, he says the warning is logged instead of the real error.  Is that assessment correct?  Or with this fix should we not expect something useful to be logged since you say it is not related to issues we saw?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513041907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513044911","html_url":"https://github.com/apache/druid/issues/5853#issuecomment-513044911","issue_url":"https://api.github.com/repos/apache/druid/issues/5853","id":513044911,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzA0NDkxMQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T00:36:39Z","updated_at":"2019-07-19T00:36:39Z","author_association":"CONTRIBUTOR","body":"Hi @bryan-dlvr, I was testing something when I opened this issue and some error was thrown in `SegmentListerResource.getSegments()` method. But I couldn't see the exact error message or stack trace because of this issue. \r\n\r\n```ERROR StatusLogger No log4j2 configuration file found. Using default configuration: logging only errors to the console.\r\nCould not load Logmanager \"io.druid.logging.log4j.jul.LogManager\"\r\njava.lang.ClassNotFoundException: io.druid.logging.log4j.jul.LogManager\r\n```\r\n\r\nFrom the log file you attached, it looks there is an issue with your logging configuration. Would you please set it properly and then try again? More details messages will be printed.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513044911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513060148","html_url":"https://github.com/apache/druid/issues/7999#issuecomment-513060148","issue_url":"https://api.github.com/repos/apache/druid/issues/7999","id":513060148,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzA2MDE0OA==","user":{"login":"yurmix","id":1529282,"node_id":"MDQ6VXNlcjE1MjkyODI=","avatar_url":"https://avatars.githubusercontent.com/u/1529282?v=4","gravatar_id":"","url":"https://api.github.com/users/yurmix","html_url":"https://github.com/yurmix","followers_url":"https://api.github.com/users/yurmix/followers","following_url":"https://api.github.com/users/yurmix/following{/other_user}","gists_url":"https://api.github.com/users/yurmix/gists{/gist_id}","starred_url":"https://api.github.com/users/yurmix/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yurmix/subscriptions","organizations_url":"https://api.github.com/users/yurmix/orgs","repos_url":"https://api.github.com/users/yurmix/repos","events_url":"https://api.github.com/users/yurmix/events{/privacy}","received_events_url":"https://api.github.com/users/yurmix/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T02:02:27Z","updated_at":"2019-07-19T02:02:27Z","author_association":"CONTRIBUTOR","body":"@jihoonson looks like MovingAverageQueryToolChest is being injected before its dependencies (ClientQuerySegmentWalker, CachingClusteredClient), do you know if there is perhaps a way to control the injection order here through an annotation?\r\nhttps://github.com/apache/incubator-druid/blob/6bd51fa8f5f183770d8ea128b02bc18fa92fa387/extensions-contrib/moving-average-query/src/main/java/org/apache/druid/query/movingaverage/MovingAverageQueryToolChest.java#L60","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513060148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513102489","html_url":"https://github.com/apache/druid/pull/7564#issuecomment-513102489","issue_url":"https://api.github.com/repos/apache/druid/issues/7564","id":513102489,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzEwMjQ4OQ==","user":{"login":"shuqi7","id":29443129,"node_id":"MDQ6VXNlcjI5NDQzMTI5","avatar_url":"https://avatars.githubusercontent.com/u/29443129?v=4","gravatar_id":"","url":"https://api.github.com/users/shuqi7","html_url":"https://github.com/shuqi7","followers_url":"https://api.github.com/users/shuqi7/followers","following_url":"https://api.github.com/users/shuqi7/following{/other_user}","gists_url":"https://api.github.com/users/shuqi7/gists{/gist_id}","starred_url":"https://api.github.com/users/shuqi7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuqi7/subscriptions","organizations_url":"https://api.github.com/users/shuqi7/orgs","repos_url":"https://api.github.com/users/shuqi7/repos","events_url":"https://api.github.com/users/shuqi7/events{/privacy}","received_events_url":"https://api.github.com/users/shuqi7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T06:01:13Z","updated_at":"2019-07-19T06:01:13Z","author_association":"CONTRIBUTOR","body":"@vogievetsky I'm trying to resolve the conflict but I'm getting the error as below when `npm start.` I got the same error even if I'm at the latest master branch.\r\n\r\n`Error: listen EADDRINUSE 127.0.0.1:18081\r\n    at Object._errnoException (util.js:1022:11)\r\n    at _exceptionWithHostPort (util.js:1044:20)\r\n    at Server.setupListenHandle [as _listen2] (net.js:1367:14)\r\n    at listenInCluster (net.js:1408:12)\r\n    at GetAddrInfoReqWrap.doListen [as callback] (net.js:1517:7)\r\n    at GetAddrInfoReqWrap.onlookup [as oncomplete] (dns.js:97:10)\r\nnpm ERR! code ELIFECYCLE\r\nnpm ERR! errno 1\r\nnpm ERR! web-console@0.16.0 start: `webpack-dev-server --hot --open`\r\nnpm ERR! Exit status 1\r\nnpm ERR! \r\nnpm ERR! Failed at the web-console@0.16.0 start script.\r\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\r\n`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513102489/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513111347","html_url":"https://github.com/apache/druid/pull/7564#issuecomment-513111347","issue_url":"https://api.github.com/repos/apache/druid/issues/7564","id":513111347,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzExMTM0Nw==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T06:38:48Z","updated_at":"2019-07-19T06:38:48Z","author_association":"CONTRIBUTOR","body":"@shuqi7  sounds like you have another `npm start` running in a different tab. Run `lsof -i :18081` to find the PID of the process and then `kill` it","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513111347/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513117341","html_url":"https://github.com/apache/druid/issues/6435#issuecomment-513117341","issue_url":"https://api.github.com/repos/apache/druid/issues/6435","id":513117341,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzExNzM0MQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T07:02:27Z","updated_at":"2019-07-19T07:02:27Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513117341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513148258","html_url":"https://github.com/apache/druid/issues/8104#issuecomment-513148258","issue_url":"https://api.github.com/repos/apache/druid/issues/8104","id":513148258,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzE0ODI1OA==","user":{"login":"shuaidonga","id":16378509,"node_id":"MDQ6VXNlcjE2Mzc4NTA5","avatar_url":"https://avatars.githubusercontent.com/u/16378509?v=4","gravatar_id":"","url":"https://api.github.com/users/shuaidonga","html_url":"https://github.com/shuaidonga","followers_url":"https://api.github.com/users/shuaidonga/followers","following_url":"https://api.github.com/users/shuaidonga/following{/other_user}","gists_url":"https://api.github.com/users/shuaidonga/gists{/gist_id}","starred_url":"https://api.github.com/users/shuaidonga/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shuaidonga/subscriptions","organizations_url":"https://api.github.com/users/shuaidonga/orgs","repos_url":"https://api.github.com/users/shuaidonga/repos","events_url":"https://api.github.com/users/shuaidonga/events{/privacy}","received_events_url":"https://api.github.com/users/shuaidonga/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T08:46:47Z","updated_at":"2019-07-19T08:47:12Z","author_association":"NONE","body":"@vogievetsky \r\nthank you very much","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513148258/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513154744","html_url":"https://github.com/apache/druid/pull/8021#issuecomment-513154744","issue_url":"https://api.github.com/repos/apache/druid/issues/8021","id":513154744,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzE1NDc0NA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T09:06:42Z","updated_at":"2019-07-19T09:06:42Z","author_association":"CONTRIBUTOR","body":"Thanks. There are no functional changes to the code, so it should be pretty straightforward.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513154744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513172495","html_url":"https://github.com/apache/druid/issues/5808#issuecomment-513172495","issue_url":"https://api.github.com/repos/apache/druid/issues/5808","id":513172495,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzE3MjQ5NQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T10:02:27Z","updated_at":"2019-07-19T10:02:27Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513172495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513249764","html_url":"https://github.com/apache/druid/issues/8101#issuecomment-513249764","issue_url":"https://api.github.com/repos/apache/druid/issues/8101","id":513249764,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzI0OTc2NA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T14:26:44Z","updated_at":"2019-07-19T14:26:44Z","author_association":"CONTRIBUTOR","body":"Yes, Druid should work on all regions. You do need to set this property: https://druid.apache.org/docs/latest/development/extensions-core/s3.html","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513249764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513265898","html_url":"https://github.com/apache/druid/issues/5116#issuecomment-513265898","issue_url":"https://api.github.com/repos/apache/druid/issues/5116","id":513265898,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzI2NTg5OA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T15:09:06Z","updated_at":"2019-07-19T15:09:06Z","author_association":"MEMBER","body":"Currently, it shows Coverage|unknown","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513265898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513270717","html_url":"https://github.com/apache/druid/pull/7175#issuecomment-513270717","issue_url":"https://api.github.com/repos/apache/druid/issues/7175","id":513270717,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzI3MDcxNw==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T15:22:36Z","updated_at":"2019-07-19T15:22:36Z","author_association":"MEMBER","body":"This is now fixed via #7889.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513270717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513333470","html_url":"https://github.com/apache/druid/pull/7066#issuecomment-513333470","issue_url":"https://api.github.com/repos/apache/druid/issues/7066","id":513333470,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzMzMzQ3MA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T18:36:52Z","updated_at":"2019-07-19T18:36:52Z","author_association":"NONE","body":"This pull request has been marked as stale due to 60 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If you think that's incorrect or this pull request should instead be reviewed, please simply write any comment. Even if closed, you can still revive the PR at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513333470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513335647","html_url":"https://github.com/apache/druid/pull/8112#issuecomment-513335647","issue_url":"https://api.github.com/repos/apache/druid/issues/8112","id":513335647,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzMzNTY0Nw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T18:43:36Z","updated_at":"2019-07-19T18:43:36Z","author_association":"MEMBER","body":"Hi, thanks for the contribution! Could you update the PR description to add a bit of context about the purpose of this change?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513335647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513340081","html_url":"https://github.com/apache/druid/pull/8112#issuecomment-513340081","issue_url":"https://api.github.com/repos/apache/druid/issues/8112","id":513340081,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzM0MDA4MQ==","user":{"login":"abossert","id":25932500,"node_id":"MDQ6VXNlcjI1OTMyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/25932500?v=4","gravatar_id":"","url":"https://api.github.com/users/abossert","html_url":"https://github.com/abossert","followers_url":"https://api.github.com/users/abossert/followers","following_url":"https://api.github.com/users/abossert/following{/other_user}","gists_url":"https://api.github.com/users/abossert/gists{/gist_id}","starred_url":"https://api.github.com/users/abossert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abossert/subscriptions","organizations_url":"https://api.github.com/users/abossert/orgs","repos_url":"https://api.github.com/users/abossert/repos","events_url":"https://api.github.com/users/abossert/events{/privacy}","received_events_url":"https://api.github.com/users/abossert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T18:58:19Z","updated_at":"2019-07-19T18:58:19Z","author_association":"CONTRIBUTOR","body":"Can do!\n\nSent from my iPhone\n\n> On Jul 19, 2019, at 14:44, Clint Wylie <notifications@github.com> wrote:\n> \n> Hi, thanks for the contribution! Could you update the PR description to add a bit of context about the purpose of this change?\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513340081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513344486","html_url":"https://github.com/apache/druid/pull/8112#issuecomment-513344486","issue_url":"https://api.github.com/repos/apache/druid/issues/8112","id":513344486,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzM0NDQ4Ng==","user":{"login":"abossert","id":25932500,"node_id":"MDQ6VXNlcjI1OTMyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/25932500?v=4","gravatar_id":"","url":"https://api.github.com/users/abossert","html_url":"https://github.com/abossert","followers_url":"https://api.github.com/users/abossert/followers","following_url":"https://api.github.com/users/abossert/following{/other_user}","gists_url":"https://api.github.com/users/abossert/gists{/gist_id}","starred_url":"https://api.github.com/users/abossert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abossert/subscriptions","organizations_url":"https://api.github.com/users/abossert/orgs","repos_url":"https://api.github.com/users/abossert/repos","events_url":"https://api.github.com/users/abossert/events{/privacy}","received_events_url":"https://api.github.com/users/abossert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T19:14:07Z","updated_at":"2019-07-19T19:14:07Z","author_association":"CONTRIBUTOR","body":"Just updated the PR comment...please let me know if that addresses your request.\n\nSent from my iPhone\n\n> On Jul 19, 2019, at 14:44, Clint Wylie <notifications@github.com> wrote:\n> \n> Hi, thanks for the contribution! Could you update the PR description to add a bit of context about the purpose of this change?\n> \n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513344486/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513383666","html_url":"https://github.com/apache/druid/issues/5340#issuecomment-513383666","issue_url":"https://api.github.com/repos/apache/druid/issues/5340","id":513383666,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzM4MzY2Ng==","user":{"login":"tvorogme","id":19264196,"node_id":"MDQ6VXNlcjE5MjY0MTk2","avatar_url":"https://avatars.githubusercontent.com/u/19264196?v=4","gravatar_id":"","url":"https://api.github.com/users/tvorogme","html_url":"https://github.com/tvorogme","followers_url":"https://api.github.com/users/tvorogme/followers","following_url":"https://api.github.com/users/tvorogme/following{/other_user}","gists_url":"https://api.github.com/users/tvorogme/gists{/gist_id}","starred_url":"https://api.github.com/users/tvorogme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tvorogme/subscriptions","organizations_url":"https://api.github.com/users/tvorogme/orgs","repos_url":"https://api.github.com/users/tvorogme/repos","events_url":"https://api.github.com/users/tvorogme/events{/privacy}","received_events_url":"https://api.github.com/users/tvorogme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T21:27:06Z","updated_at":"2019-07-19T21:27:06Z","author_association":"NONE","body":"Same issue, don't know how to resolve? I need to add more http workers or what?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513383666/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513397440","html_url":"https://github.com/apache/druid/issues/7866#issuecomment-513397440","issue_url":"https://api.github.com/repos/apache/druid/issues/7866","id":513397440,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzM5NzQ0MA==","user":{"login":"ccaominh","id":9208416,"node_id":"MDQ6VXNlcjkyMDg0MTY=","avatar_url":"https://avatars.githubusercontent.com/u/9208416?v=4","gravatar_id":"","url":"https://api.github.com/users/ccaominh","html_url":"https://github.com/ccaominh","followers_url":"https://api.github.com/users/ccaominh/followers","following_url":"https://api.github.com/users/ccaominh/following{/other_user}","gists_url":"https://api.github.com/users/ccaominh/gists{/gist_id}","starred_url":"https://api.github.com/users/ccaominh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ccaominh/subscriptions","organizations_url":"https://api.github.com/users/ccaominh/orgs","repos_url":"https://api.github.com/users/ccaominh/repos","events_url":"https://api.github.com/users/ccaominh/events{/privacy}","received_events_url":"https://api.github.com/users/ccaominh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T22:21:15Z","updated_at":"2019-07-19T22:21:15Z","author_association":"CONTRIBUTOR","body":"For those interested, my branch that has a gradle build partially implemented: https://github.com/ccaominh/incubator-druid/tree/gradle. Sources and tests compile and unit tests run.\r\n\r\nI'm putting this work on hold as the speed gain does not seem to outweigh the cost of having everyone switch from maven. Remaining work includes: refactoring (dependency versions, creating plugins, etc.), integration tests, and converting the various maven plugins that are currently used.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513397440/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513400511","html_url":"https://github.com/apache/druid/issues/7900#issuecomment-513400511","issue_url":"https://api.github.com/repos/apache/druid/issues/7900","id":513400511,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQwMDUxMQ==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-19T22:34:39Z","updated_at":"2019-07-19T22:34:39Z","author_association":"CONTRIBUTOR","body":" specific case of announcing the `LookupNodeService` from MM is possible based on the configuration. but, it seems you found it complicated for other reasons as well, so its fine.\r\n\r\nits just that, in the past, I have heard complaints about druid having the perception of difficult to deploy because of too many different node types.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513400511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513417725","html_url":"https://github.com/apache/druid/pull/8116#issuecomment-513417725","issue_url":"https://api.github.com/repos/apache/druid/issues/8116","id":513417725,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQxNzcyNQ==","user":{"login":"drcrallen","id":8213081,"node_id":"MDQ6VXNlcjgyMTMwODE=","avatar_url":"https://avatars.githubusercontent.com/u/8213081?v=4","gravatar_id":"","url":"https://api.github.com/users/drcrallen","html_url":"https://github.com/drcrallen","followers_url":"https://api.github.com/users/drcrallen/followers","following_url":"https://api.github.com/users/drcrallen/following{/other_user}","gists_url":"https://api.github.com/users/drcrallen/gists{/gist_id}","starred_url":"https://api.github.com/users/drcrallen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drcrallen/subscriptions","organizations_url":"https://api.github.com/users/drcrallen/orgs","repos_url":"https://api.github.com/users/drcrallen/repos","events_url":"https://api.github.com/users/drcrallen/events{/privacy}","received_events_url":"https://api.github.com/users/drcrallen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T00:22:06Z","updated_at":"2019-07-20T00:22:06Z","author_association":"CONTRIBUTOR","body":"Pretty flamegraph, what did you use to capture/generate it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513417725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513418908","html_url":"https://github.com/apache/druid/pull/8116#issuecomment-513418908","issue_url":"https://api.github.com/repos/apache/druid/issues/8116","id":513418908,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQxODkwOA==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T00:34:04Z","updated_at":"2019-07-20T00:34:04Z","author_association":"MEMBER","body":">Pretty flamegraph, what did you use to capture/generate it?\r\n\r\nThis was sampled and the flame graph generated with [swiss java knife](https://github.com/aragozin/jvm-tools)\r\n\r\nsample:\r\n```\r\njava -jar sjk.jar stcap -p <pid> -o historical-dump-1.std -t 30s\r\n```\r\n\r\nflame graph:\r\n```\r\njava -jar sjk.jar flame -f historical-dump-1.std -o historical-report-1.html\r\n```\r\n\r\nwhich spits out that html page you can interact with. The flame graph generation can also apparently work with VisualVM and flight recorder output as well, but I haven't tried it (just encountered this tool this week).","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513418908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513421394","html_url":"https://github.com/apache/druid/pull/8112#issuecomment-513421394","issue_url":"https://api.github.com/repos/apache/druid/issues/8112","id":513421394,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQyMTM5NA==","user":{"login":"abossert","id":25932500,"node_id":"MDQ6VXNlcjI1OTMyNTAw","avatar_url":"https://avatars.githubusercontent.com/u/25932500?v=4","gravatar_id":"","url":"https://api.github.com/users/abossert","html_url":"https://github.com/abossert","followers_url":"https://api.github.com/users/abossert/followers","following_url":"https://api.github.com/users/abossert/following{/other_user}","gists_url":"https://api.github.com/users/abossert/gists{/gist_id}","starred_url":"https://api.github.com/users/abossert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abossert/subscriptions","organizations_url":"https://api.github.com/users/abossert/orgs","repos_url":"https://api.github.com/users/abossert/repos","events_url":"https://api.github.com/users/abossert/events{/privacy}","received_events_url":"https://api.github.com/users/abossert/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T01:01:31Z","updated_at":"2019-07-20T01:01:31Z","author_association":"CONTRIBUTOR","body":"I am a bit intimidated by the style of the tests.  Could you point me to an example that is similar in functionality?  Apart from the tests, I have implemented all of your recommendations and am waiting to update the PR once I get the test written.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513421394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513446269","html_url":"https://github.com/apache/druid/pull/8114#issuecomment-513446269","issue_url":"https://api.github.com/repos/apache/druid/issues/8114","id":513446269,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQ0NjI2OQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T07:51:24Z","updated_at":"2019-07-20T07:51:24Z","author_association":"MEMBER","body":"@jihoonson please don't remove \"this PR has been reviewed with concurrency checklist\" item from the list since this PR does have relation to concurrency.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513446269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513481989","html_url":"https://github.com/apache/druid/issues/7617#issuecomment-513481989","issue_url":"https://api.github.com/repos/apache/druid/issues/7617","id":513481989,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQ4MTk4OQ==","user":{"login":"Shailesh-Pandey","id":46490790,"node_id":"MDQ6VXNlcjQ2NDkwNzkw","avatar_url":"https://avatars.githubusercontent.com/u/46490790?v=4","gravatar_id":"","url":"https://api.github.com/users/Shailesh-Pandey","html_url":"https://github.com/Shailesh-Pandey","followers_url":"https://api.github.com/users/Shailesh-Pandey/followers","following_url":"https://api.github.com/users/Shailesh-Pandey/following{/other_user}","gists_url":"https://api.github.com/users/Shailesh-Pandey/gists{/gist_id}","starred_url":"https://api.github.com/users/Shailesh-Pandey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Shailesh-Pandey/subscriptions","organizations_url":"https://api.github.com/users/Shailesh-Pandey/orgs","repos_url":"https://api.github.com/users/Shailesh-Pandey/repos","events_url":"https://api.github.com/users/Shailesh-Pandey/events{/privacy}","received_events_url":"https://api.github.com/users/Shailesh-Pandey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T16:41:54Z","updated_at":"2019-07-20T16:41:54Z","author_association":"NONE","body":"> \r\n> \r\n> @Shailesh-Pandey Did you find a cause/fix for this?\r\n\r\nNo I did not find any fix for it.\r\n\"Metadata storage is in derby\". I am guessing this might be the cause even though I was not using it for production.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513481989/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513482073","html_url":"https://github.com/apache/druid/issues/6463#issuecomment-513482073","issue_url":"https://api.github.com/repos/apache/druid/issues/6463","id":513482073,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzQ4MjA3Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-20T16:42:54Z","updated_at":"2019-07-20T16:42:54Z","author_association":"NONE","body":"This issue has been marked as stale due to 280 days of inactivity. It will be closed in 4 weeks if no further activity occurs. If this issue is still relevant, please simply write any comment. Even if closed, you can still revive the issue at any time or discuss it on the dev@druid.apache.org list. Thank you for your contributions.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513482073/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513523038","html_url":"https://github.com/apache/druid/pull/8114#issuecomment-513523038","issue_url":"https://api.github.com/repos/apache/druid/issues/8114","id":513523038,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUyMzAzOA==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T05:03:46Z","updated_at":"2019-07-21T05:03:46Z","author_association":"CONTRIBUTOR","body":"@leventov added back.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513523038/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513528841","html_url":"https://github.com/apache/druid/issues/8071#issuecomment-513528841","issue_url":"https://api.github.com/repos/apache/druid/issues/8071","id":513528841,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUyODg0MQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T06:55:29Z","updated_at":"2019-07-21T06:55:29Z","author_association":"CONTRIBUTOR","body":"Would the algorithm you mention be more or less efficient than the following -- which is what people mostly do today in Druid?\r\n\r\n```\r\n// maintain following variables\r\nlong count;\r\ndouble sum;\r\n\r\n// update with a value v\r\ncount++;\r\nsum += v;\r\n\r\n// merging\r\ncount = count1 + count2;\r\nsum = sum1 + sum2;\r\n\r\n// finalizing\r\nresult = sum / count;\r\n```\r\n\r\nI think yours has less likelihood of overflowing `sum`, but it involves a division on every update, and that might slow things down. (I haven't benchmarked it.)\r\n\r\nBtw, some comments related to Druid SQL:\r\n\r\n- In Druid SQL it's already easy. You can write `AVG(value)` and it will generate the sum and count aggs and the necessary postagg. I'm hoping that in general, people looking for easy ways to do stuff will gravitate towards SQL.\r\n- If we do end up adding native mean aggregators that are better than doing the sum+count+postagg thing, then we can also modify Druid SQL to use them. The code is in `AvgSqlAggregator`.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513528841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513528901","html_url":"https://github.com/apache/druid/issues/8118#issuecomment-513528901","issue_url":"https://api.github.com/repos/apache/druid/issues/8118","id":513528901,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUyODkwMQ==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T06:56:40Z","updated_at":"2019-07-21T06:56:40Z","author_association":"MEMBER","body":"This seems reasonable to me :metal:. How does `ResultRow` work in practice? Do the dimensions/virtual-columns/aggs/post-aggs of a `GroupByQuery` I guess form a schema of sorts that can map the columns to a position in a stable manner between brokers and historicals? If I don’t elect to translate the array results to a map row at the broker level, does it include a ‘header’ row of sorts that captures that schema?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513528901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513529149","html_url":"https://github.com/apache/druid/issues/8118#issuecomment-513529149","issue_url":"https://api.github.com/repos/apache/druid/issues/8118","id":513529149,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUyOTE0OQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T07:01:27Z","updated_at":"2019-07-21T07:01:50Z","author_association":"CONTRIBUTOR","body":"The idea is the row order would be determined solely by the granularity, dimensions, aggregators, and post-aggregators, in the following way:\r\n\r\n1. If `granularity != ALL` then the first element is a row timestamp. Otherwise, the timestamp is omitted.\r\n2. The next set of elements are each dimension, in order.\r\n3. Then aggregators.\r\n4. Then post-aggregators. These might be omitted if they haven't been computed yet (e.g. they won't be included in the ResultRow objects that come from the per-segment engine).\r\n\r\nThere wouldn't be headers, callers would be expected to know which element is which based on the above rules.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513529149/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513529855","html_url":"https://github.com/apache/druid/issues/8118#issuecomment-513529855","issue_url":"https://api.github.com/repos/apache/druid/issues/8118","id":513529855,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUyOTg1NQ==","user":{"login":"jihoonson","id":2322288,"node_id":"MDQ6VXNlcjIzMjIyODg=","avatar_url":"https://avatars.githubusercontent.com/u/2322288?v=4","gravatar_id":"","url":"https://api.github.com/users/jihoonson","html_url":"https://github.com/jihoonson","followers_url":"https://api.github.com/users/jihoonson/followers","following_url":"https://api.github.com/users/jihoonson/following{/other_user}","gists_url":"https://api.github.com/users/jihoonson/gists{/gist_id}","starred_url":"https://api.github.com/users/jihoonson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihoonson/subscriptions","organizations_url":"https://api.github.com/users/jihoonson/orgs","repos_url":"https://api.github.com/users/jihoonson/repos","events_url":"https://api.github.com/users/jihoonson/events{/privacy}","received_events_url":"https://api.github.com/users/jihoonson/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T07:14:36Z","updated_at":"2019-07-21T07:14:36Z","author_association":"CONTRIBUTOR","body":"Array based result row sounds good to me. I'm wondering this `ResultRow` could also be applicable to other query types as well such as TopN or Timeseries. I know this is a slightly different issue, but it would be really nice if all Druid queries can use the same result type.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513529855/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513531300","html_url":"https://github.com/apache/druid/issues/8118#issuecomment-513531300","issue_url":"https://api.github.com/repos/apache/druid/issues/8118","id":513531300,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUzMTMwMA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T07:39:35Z","updated_at":"2019-07-21T07:39:35Z","author_association":"CONTRIBUTOR","body":"It could certainly apply to them, although in the case of topN, it would be potentially wasteful: we'd need to write the timestamp once per result value instead of once per granular time bucket. (Right now, topN the result format is an array of time buckets, each one containing a timestamp + list of result values, and the nesting means the timestamp only needs to be written one time.)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513531300/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513531364","html_url":"https://github.com/apache/druid/issues/8118#issuecomment-513531364","issue_url":"https://api.github.com/repos/apache/druid/issues/8118","id":513531364,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUzMTM2NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T07:40:41Z","updated_at":"2019-07-21T07:40:41Z","author_association":"CONTRIBUTOR","body":"Would potentially be a nice option for every query type though. I bet for most TopNs granularity is \"all\" and so the timestamp could be omitted.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513531364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513532033","html_url":"https://github.com/apache/druid/issues/5698#issuecomment-513532033","issue_url":"https://api.github.com/repos/apache/druid/issues/5698","id":513532033,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUzMjAzMw==","user":{"login":"sanastas","id":12136181,"node_id":"MDQ6VXNlcjEyMTM2MTgx","avatar_url":"https://avatars.githubusercontent.com/u/12136181?v=4","gravatar_id":"","url":"https://api.github.com/users/sanastas","html_url":"https://github.com/sanastas","followers_url":"https://api.github.com/users/sanastas/followers","following_url":"https://api.github.com/users/sanastas/following{/other_user}","gists_url":"https://api.github.com/users/sanastas/gists{/gist_id}","starred_url":"https://api.github.com/users/sanastas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanastas/subscriptions","organizations_url":"https://api.github.com/users/sanastas/orgs","repos_url":"https://api.github.com/users/sanastas/repos","events_url":"https://api.github.com/users/sanastas/events{/privacy}","received_events_url":"https://api.github.com/users/sanastas/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T07:51:33Z","updated_at":"2019-07-25T07:53:01Z","author_association":"NONE","body":"Hi again,\r\n\r\nJust to prove what I have said about memory usage in numbers, hereby please find the graph presenting the measurements of memory usage of OakIncrementalIndex vs existing IncrementalIndex. The experiment presents memory usage measured for an invocation of IncrementalIngestionBenchmark. The horizontal axis presents the number of rows used in each experiment. The vertical axis presents GBs.\r\n\r\nBlack dashed line present only data size - just keys and values (IndexRow and Aggregators). Blue line presents the total memory consumption for OakIncrementalIndex (both off-heap and on-heap). Red line presents the total memory consumption for Druid's current IncrementalIndex (just on-heap). One can see that IncrementalIndex metadata takes almost twice than OakIncrementalIndex's metadata. In total OakIncrementalIndex use less memory than IncrementalIndex.\r\n\r\n[Memory Usage (Metadata vs Data).pdf](https://github.com/apache/incubator-druid/files/3430367/Memory.Usage.Metadata.vs.Data.pdf)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513532033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513532195","html_url":"https://github.com/apache/druid/issues/6743#issuecomment-513532195","issue_url":"https://api.github.com/repos/apache/druid/issues/6743","id":513532195,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUzMjE5NQ==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T07:54:23Z","updated_at":"2019-07-21T07:54:23Z","author_association":"CONTRIBUTOR","body":"Did you end up writing a proposal @himanshug? I was looking around for it just now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513532195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513532707","html_url":"https://github.com/apache/druid/issues/8031#issuecomment-513532707","issue_url":"https://api.github.com/repos/apache/druid/issues/8031","id":513532707,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzUzMjcwNw==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T08:03:15Z","updated_at":"2019-07-21T08:03:15Z","author_association":"CONTRIBUTOR","body":"@himanshug IMO something like this is worth doing even if its main purpose is making it clearer what concurrency behavior is expected of Aggregator and BufferAggregator impls. It has caused substantial confusion in code reviews in the past.\r\n\r\nBtw, I believe `isConcurrent` would always be false today for current usages of BufferAggregator (they're never used at ingestion time, which is the only context that does unsynchronized concurrent access). For Aggregator it would of course be true when used in the ingestion time context.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513532707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513540623","html_url":"https://github.com/apache/druid/pull/8106#issuecomment-513540623","issue_url":"https://api.github.com/repos/apache/druid/issues/8106","id":513540623,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzU0MDYyMw==","user":{"login":"clintropolis","id":1577461,"node_id":"MDQ6VXNlcjE1Nzc0NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1577461?v=4","gravatar_id":"","url":"https://api.github.com/users/clintropolis","html_url":"https://github.com/clintropolis","followers_url":"https://api.github.com/users/clintropolis/followers","following_url":"https://api.github.com/users/clintropolis/following{/other_user}","gists_url":"https://api.github.com/users/clintropolis/gists{/gist_id}","starred_url":"https://api.github.com/users/clintropolis/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clintropolis/subscriptions","organizations_url":"https://api.github.com/users/clintropolis/orgs","repos_url":"https://api.github.com/users/clintropolis/repos","events_url":"https://api.github.com/users/clintropolis/events{/privacy}","received_events_url":"https://api.github.com/users/clintropolis/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T10:07:00Z","updated_at":"2019-07-21T10:07:00Z","author_association":"MEMBER","body":"Thanks for the review!","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513540623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513583135","html_url":"https://github.com/apache/druid/pull/8117#issuecomment-513583135","issue_url":"https://api.github.com/repos/apache/druid/issues/8117","id":513583135,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzU4MzEzNQ==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-21T20:00:10Z","updated_at":"2019-07-21T20:00:10Z","author_association":"CONTRIBUTOR","body":"Looks great thank you! I am not qualified to review the docker compose file but 👍*2 on the idea of this PR.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513583135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513629597","html_url":"https://github.com/apache/druid/issues/8095#issuecomment-513629597","issue_url":"https://api.github.com/repos/apache/druid/issues/8095","id":513629597,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzYyOTU5Nw==","user":{"login":"burningice2012","id":13505983,"node_id":"MDQ6VXNlcjEzNTA1OTgz","avatar_url":"https://avatars.githubusercontent.com/u/13505983?v=4","gravatar_id":"","url":"https://api.github.com/users/burningice2012","html_url":"https://github.com/burningice2012","followers_url":"https://api.github.com/users/burningice2012/followers","following_url":"https://api.github.com/users/burningice2012/following{/other_user}","gists_url":"https://api.github.com/users/burningice2012/gists{/gist_id}","starred_url":"https://api.github.com/users/burningice2012/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/burningice2012/subscriptions","organizations_url":"https://api.github.com/users/burningice2012/orgs","repos_url":"https://api.github.com/users/burningice2012/repos","events_url":"https://api.github.com/users/burningice2012/events{/privacy}","received_events_url":"https://api.github.com/users/burningice2012/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T03:47:24Z","updated_at":"2019-07-22T03:47:24Z","author_association":"NONE","body":"Confirmed and fixed by upgrading to 0.14.2. Thanks to @AlexanderSaydakov. Issue closed now.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513629597/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513630021","html_url":"https://github.com/apache/druid/issues/8082#issuecomment-513630021","issue_url":"https://api.github.com/repos/apache/druid/issues/8082","id":513630021,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzYzMDAyMQ==","user":{"login":"quenlang","id":11764573,"node_id":"MDQ6VXNlcjExNzY0NTcz","avatar_url":"https://avatars.githubusercontent.com/u/11764573?v=4","gravatar_id":"","url":"https://api.github.com/users/quenlang","html_url":"https://github.com/quenlang","followers_url":"https://api.github.com/users/quenlang/followers","following_url":"https://api.github.com/users/quenlang/following{/other_user}","gists_url":"https://api.github.com/users/quenlang/gists{/gist_id}","starred_url":"https://api.github.com/users/quenlang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quenlang/subscriptions","organizations_url":"https://api.github.com/users/quenlang/orgs","repos_url":"https://api.github.com/users/quenlang/repos","events_url":"https://api.github.com/users/quenlang/events{/privacy}","received_events_url":"https://api.github.com/users/quenlang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T03:50:00Z","updated_at":"2019-07-22T03:50:00Z","author_association":"NONE","body":"> Also, @quenlang, this is logged as a warning and shouldn't cause the process to fail. Was the segment not usable because of this?\r\n\r\nYes, the segment was usable.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513630021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513631690","html_url":"https://github.com/apache/druid/issues/8082#issuecomment-513631690","issue_url":"https://api.github.com/repos/apache/druid/issues/8082","id":513631690,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzYzMTY5MA==","user":{"login":"quenlang","id":11764573,"node_id":"MDQ6VXNlcjExNzY0NTcz","avatar_url":"https://avatars.githubusercontent.com/u/11764573?v=4","gravatar_id":"","url":"https://api.github.com/users/quenlang","html_url":"https://github.com/quenlang","followers_url":"https://api.github.com/users/quenlang/followers","following_url":"https://api.github.com/users/quenlang/following{/other_user}","gists_url":"https://api.github.com/users/quenlang/gists{/gist_id}","starred_url":"https://api.github.com/users/quenlang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/quenlang/subscriptions","organizations_url":"https://api.github.com/users/quenlang/orgs","repos_url":"https://api.github.com/users/quenlang/repos","events_url":"https://api.github.com/users/quenlang/events{/privacy}","received_events_url":"https://api.github.com/users/quenlang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T04:00:45Z","updated_at":"2019-07-22T04:00:45Z","author_association":"NONE","body":"> I think the solution is that the dump-segment tool needs to be told to load those extensions. One way to do that is add your Druid config files (`conf/_common` or some such) to the tool's classpath, which will make them pick up your extension load list.\r\n\r\n\r\nI had added config files to the classpath, but it does not work.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513631690/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513702885","html_url":"https://github.com/apache/druid/issues/7926#issuecomment-513702885","issue_url":"https://api.github.com/repos/apache/druid/issues/7926","id":513702885,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzcwMjg4NQ==","user":{"login":"gvsmirnov","id":1493464,"node_id":"MDQ6VXNlcjE0OTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1493464?v=4","gravatar_id":"","url":"https://api.github.com/users/gvsmirnov","html_url":"https://github.com/gvsmirnov","followers_url":"https://api.github.com/users/gvsmirnov/followers","following_url":"https://api.github.com/users/gvsmirnov/following{/other_user}","gists_url":"https://api.github.com/users/gvsmirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/gvsmirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvsmirnov/subscriptions","organizations_url":"https://api.github.com/users/gvsmirnov/orgs","repos_url":"https://api.github.com/users/gvsmirnov/repos","events_url":"https://api.github.com/users/gvsmirnov/events{/privacy}","received_events_url":"https://api.github.com/users/gvsmirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T08:53:28Z","updated_at":"2019-07-22T08:53:28Z","author_association":"CONTRIBUTOR","body":"I faced this issue on `0.15.0-incubating`. Not exactly sure what triggered it, but I did offset resets for some supervisors and restarted the middle manager around the time when it happened. However, I have not yet been able to reproduce it.\r\n\r\n@acdn-mpreston any progress with the workaround, or any hints on how you managed to reproduce it?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513702885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513721013","html_url":"https://github.com/apache/druid/pull/6768#issuecomment-513721013","issue_url":"https://api.github.com/repos/apache/druid/issues/6768","id":513721013,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzcyMTAxMw==","user":{"login":"elloooooo","id":4433949,"node_id":"MDQ6VXNlcjQ0MzM5NDk=","avatar_url":"https://avatars.githubusercontent.com/u/4433949?v=4","gravatar_id":"","url":"https://api.github.com/users/elloooooo","html_url":"https://github.com/elloooooo","followers_url":"https://api.github.com/users/elloooooo/followers","following_url":"https://api.github.com/users/elloooooo/following{/other_user}","gists_url":"https://api.github.com/users/elloooooo/gists{/gist_id}","starred_url":"https://api.github.com/users/elloooooo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/elloooooo/subscriptions","organizations_url":"https://api.github.com/users/elloooooo/orgs","repos_url":"https://api.github.com/users/elloooooo/repos","events_url":"https://api.github.com/users/elloooooo/events{/privacy}","received_events_url":"https://api.github.com/users/elloooooo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T09:44:39Z","updated_at":"2019-07-22T09:44:39Z","author_association":"CONTRIBUTOR","body":"reactive","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513721013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513736147","html_url":"https://github.com/apache/druid/issues/5326#issuecomment-513736147","issue_url":"https://api.github.com/repos/apache/druid/issues/5326","id":513736147,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzczNjE0Nw==","user":{"login":"VijayakumarBalakrishnan","id":25528628,"node_id":"MDQ6VXNlcjI1NTI4NjI4","avatar_url":"https://avatars.githubusercontent.com/u/25528628?v=4","gravatar_id":"","url":"https://api.github.com/users/VijayakumarBalakrishnan","html_url":"https://github.com/VijayakumarBalakrishnan","followers_url":"https://api.github.com/users/VijayakumarBalakrishnan/followers","following_url":"https://api.github.com/users/VijayakumarBalakrishnan/following{/other_user}","gists_url":"https://api.github.com/users/VijayakumarBalakrishnan/gists{/gist_id}","starred_url":"https://api.github.com/users/VijayakumarBalakrishnan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/VijayakumarBalakrishnan/subscriptions","organizations_url":"https://api.github.com/users/VijayakumarBalakrishnan/orgs","repos_url":"https://api.github.com/users/VijayakumarBalakrishnan/repos","events_url":"https://api.github.com/users/VijayakumarBalakrishnan/events{/privacy}","received_events_url":"https://api.github.com/users/VijayakumarBalakrishnan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T10:30:00Z","updated_at":"2019-07-22T10:30:00Z","author_association":"NONE","body":"2019-07-22 15:58:00.589  WARN 5822 --- [:0:0:0:0:1903])] o.j.n.channel.DefaultChannelPipeline     : An exception was thrown by a user handler while handling an exception event ([id: 0x08ca0e26, /127.0.0.1:45258 :> 0.0.0.0/0.0.0.0:1903] EXCEPTION: java.lang.NullPointerException)\r\n\r\njava.lang.NullPointerException: null\r\n\tat com.ai.proxyserver.tcptunnel.TcpTunnelInboundHandler.exceptionCaught(TcpTunnelInboundHandler.java:186) ~[classes/:na]\r\n\tat org.jboss.netty.channel.Channels.fireExceptionCaught(Channels.java:432) ~[netty-3.2.2.Final.jar:na]\r\n\tat org.jboss.netty.channel.AbstractChannelSink.exceptionCaught(AbstractChannelSink.java:52) ~[netty-3.2.2.Final.jar:na]\r\n\tat org.jboss.netty.channel.Channels.fireChannelOpen(Channels.java:176) ~[netty-3.2.2.Final.jar:na]\r\n\tat org.jboss.netty.channel.socket.nio.NioAcceptedSocketChannel.<init>(NioAcceptedSocketChannel.java:49) ~[netty-3.2.2.Final.jar:na]\r\n\tat org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.registerAcceptedChannel(NioServerSocketPipelineSink.java:280) ~[netty-3.2.2.Final.jar:na]\r\n\tat org.jboss.netty.channel.socket.nio.NioServerSocketPipelineSink$Boss.run(NioServerSocketPipelineSink.java:247) ~[netty-3.2.2.Final.jar:na]\r\n\tat org.jboss.netty.util.internal.IoWorkerRunnable.run(IoWorkerRunnable.java:46) [netty-3.2.2.Final.jar:na]\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) [na:1.8.0_201]\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) [na:1.8.0_201]\r\n\tat java.lang.Thread.run(Thread.java:748) [na:1.8.0_201]\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513736147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513736363","html_url":"https://github.com/apache/druid/issues/5326#issuecomment-513736363","issue_url":"https://api.github.com/repos/apache/druid/issues/5326","id":513736363,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzczNjM2Mw==","user":{"login":"VijayakumarBalakrishnan","id":25528628,"node_id":"MDQ6VXNlcjI1NTI4NjI4","avatar_url":"https://avatars.githubusercontent.com/u/25528628?v=4","gravatar_id":"","url":"https://api.github.com/users/VijayakumarBalakrishnan","html_url":"https://github.com/VijayakumarBalakrishnan","followers_url":"https://api.github.com/users/VijayakumarBalakrishnan/followers","following_url":"https://api.github.com/users/VijayakumarBalakrishnan/following{/other_user}","gists_url":"https://api.github.com/users/VijayakumarBalakrishnan/gists{/gist_id}","starred_url":"https://api.github.com/users/VijayakumarBalakrishnan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/VijayakumarBalakrishnan/subscriptions","organizations_url":"https://api.github.com/users/VijayakumarBalakrishnan/orgs","repos_url":"https://api.github.com/users/VijayakumarBalakrishnan/repos","events_url":"https://api.github.com/users/VijayakumarBalakrishnan/events{/privacy}","received_events_url":"https://api.github.com/users/VijayakumarBalakrishnan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T10:30:41Z","updated_at":"2019-07-22T10:30:41Z","author_association":"NONE","body":"I don't know where the null pointer comes \r\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513736363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513760728","html_url":"https://github.com/apache/druid/pull/8060#issuecomment-513760728","issue_url":"https://api.github.com/repos/apache/druid/issues/8060","id":513760728,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzc2MDcyOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T11:55:46Z","updated_at":"2019-07-22T11:55:46Z","author_association":"MEMBER","body":"@SandishKumarHN don't force-push your branch. It still conflicts with master and still appears to have unrelated changes.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513760728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513761208","html_url":"https://github.com/apache/druid/pull/8110#issuecomment-513761208","issue_url":"https://api.github.com/repos/apache/druid/issues/8110","id":513761208,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzc2MTIwOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T11:57:19Z","updated_at":"2019-07-22T11:57:19Z","author_association":"MEMBER","body":"@esevastyanov please don't force-push your branch after the PR is created. See https://github.com/apache/incubator-druid/blob/master/CONTRIBUTING.md#if-your-pull-request-shows-conflicts-with-master","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513761208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513762328","html_url":"https://github.com/apache/druid/issues/8054#issuecomment-513762328","issue_url":"https://api.github.com/repos/apache/druid/issues/8054","id":513762328,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzc2MjMyOA==","user":{"login":"ilhanadiyaman","id":4068390,"node_id":"MDQ6VXNlcjQwNjgzOTA=","avatar_url":"https://avatars.githubusercontent.com/u/4068390?v=4","gravatar_id":"","url":"https://api.github.com/users/ilhanadiyaman","html_url":"https://github.com/ilhanadiyaman","followers_url":"https://api.github.com/users/ilhanadiyaman/followers","following_url":"https://api.github.com/users/ilhanadiyaman/following{/other_user}","gists_url":"https://api.github.com/users/ilhanadiyaman/gists{/gist_id}","starred_url":"https://api.github.com/users/ilhanadiyaman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ilhanadiyaman/subscriptions","organizations_url":"https://api.github.com/users/ilhanadiyaman/orgs","repos_url":"https://api.github.com/users/ilhanadiyaman/repos","events_url":"https://api.github.com/users/ilhanadiyaman/events{/privacy}","received_events_url":"https://api.github.com/users/ilhanadiyaman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T12:01:00Z","updated_at":"2019-07-22T12:01:00Z","author_association":"CONTRIBUTOR","body":"@santoshdvn I had the similar problem. [This PR](https://github.com/apache/incubator-druid/pull/7997) solved my issues regarding docker image. I hope they'll review and merge as soon as possible.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513762328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513763054","html_url":"https://github.com/apache/druid/pull/8110#issuecomment-513763054","issue_url":"https://api.github.com/repos/apache/druid/issues/8110","id":513763054,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzc2MzA1NA==","user":{"login":"esevastyanov","id":1766814,"node_id":"MDQ6VXNlcjE3NjY4MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1766814?v=4","gravatar_id":"","url":"https://api.github.com/users/esevastyanov","html_url":"https://github.com/esevastyanov","followers_url":"https://api.github.com/users/esevastyanov/followers","following_url":"https://api.github.com/users/esevastyanov/following{/other_user}","gists_url":"https://api.github.com/users/esevastyanov/gists{/gist_id}","starred_url":"https://api.github.com/users/esevastyanov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/esevastyanov/subscriptions","organizations_url":"https://api.github.com/users/esevastyanov/orgs","repos_url":"https://api.github.com/users/esevastyanov/repos","events_url":"https://api.github.com/users/esevastyanov/events{/privacy}","received_events_url":"https://api.github.com/users/esevastyanov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T12:03:39Z","updated_at":"2019-07-22T12:03:39Z","author_association":"CONTRIBUTOR","body":"Let me know if you have some issues with the force-push I did @leventov ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513763054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513765801","html_url":"https://github.com/apache/druid/pull/7991#issuecomment-513765801","issue_url":"https://api.github.com/repos/apache/druid/issues/7991","id":513765801,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzc2NTgwMQ==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T12:13:03Z","updated_at":"2019-07-22T12:13:03Z","author_association":"MEMBER","body":"@julianhyde I continue to think that all contributors shouldn't read this document. There are already two (kind of) \"shorter versions\" which are aimed at all contributors:\r\n - [The PR template](https://github.com/apache/incubator-druid/blob/master/.github/pull_request_template.md) which all contributors see when they create a PR\r\n - [CONTRIBUTING.md](https://github.com/apache/incubator-druid/blob/master/CONTRIBUTING.md).\r\n\r\nI'll add some additional text at the beginning of the document identifying that following (and even reading) the document is optional.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513765801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513766802","html_url":"https://github.com/apache/druid/pull/8110#issuecomment-513766802","issue_url":"https://api.github.com/repos/apache/druid/issues/8110","id":513766802,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzc2NjgwMg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T12:16:34Z","updated_at":"2019-07-22T12:16:34Z","author_association":"MEMBER","body":"Labelled `Design Review` because this PR adds and changes `@PublicApi`s.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513766802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513823295","html_url":"https://github.com/apache/druid/issues/1641#issuecomment-513823295","issue_url":"https://api.github.com/repos/apache/druid/issues/1641","id":513823295,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzgyMzI5NQ==","user":{"login":"saulfrank","id":22662385,"node_id":"MDQ6VXNlcjIyNjYyMzg1","avatar_url":"https://avatars.githubusercontent.com/u/22662385?v=4","gravatar_id":"","url":"https://api.github.com/users/saulfrank","html_url":"https://github.com/saulfrank","followers_url":"https://api.github.com/users/saulfrank/followers","following_url":"https://api.github.com/users/saulfrank/following{/other_user}","gists_url":"https://api.github.com/users/saulfrank/gists{/gist_id}","starred_url":"https://api.github.com/users/saulfrank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saulfrank/subscriptions","organizations_url":"https://api.github.com/users/saulfrank/orgs","repos_url":"https://api.github.com/users/saulfrank/repos","events_url":"https://api.github.com/users/saulfrank/events{/privacy}","received_events_url":"https://api.github.com/users/saulfrank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T14:46:34Z","updated_at":"2019-07-22T14:46:34Z","author_association":"NONE","body":"I am still getting an error using a subquery - should this be doable?\r\n\r\nUnknown exception (org.apache.druid.java.util.common.ISE): Cannot build plan for query:\r\n\r\nselect * from \"druid\".\"table\" \r\nwhere file_date = (\r\nselect max(file_date) as file_date from \"druid\".\"table\")","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513823295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513837488","html_url":"https://github.com/apache/druid/issues/7926#issuecomment-513837488","issue_url":"https://api.github.com/repos/apache/druid/issues/7926","id":513837488,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzgzNzQ4OA==","user":{"login":"acdn-mpreston","id":33030320,"node_id":"MDQ6VXNlcjMzMDMwMzIw","avatar_url":"https://avatars.githubusercontent.com/u/33030320?v=4","gravatar_id":"","url":"https://api.github.com/users/acdn-mpreston","html_url":"https://github.com/acdn-mpreston","followers_url":"https://api.github.com/users/acdn-mpreston/followers","following_url":"https://api.github.com/users/acdn-mpreston/following{/other_user}","gists_url":"https://api.github.com/users/acdn-mpreston/gists{/gist_id}","starred_url":"https://api.github.com/users/acdn-mpreston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdn-mpreston/subscriptions","organizations_url":"https://api.github.com/users/acdn-mpreston/orgs","repos_url":"https://api.github.com/users/acdn-mpreston/repos","events_url":"https://api.github.com/users/acdn-mpreston/events{/privacy}","received_events_url":"https://api.github.com/users/acdn-mpreston/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T15:19:39Z","updated_at":"2019-07-22T15:19:39Z","author_association":"NONE","body":"@gvsmirnov I am still unclear as to the root cause of the issue, but the way I most commonly got in this state was during an upgrade of a system using druid 0.12.X to druid 0.14.X. \r\n\r\nI do not have any workaround that is PR worthy, but if you only need Kafka ingestion (and not Kinesis) then my workaround is documented in the \"Current Workaround\" section of the issue description. The basic idea is to get rid of usage of the SeekableStreamEndSequenceNumber class and only use SeekableStreamStartSequenceNumber instances instead. This avoids all casting issues but it will break Kinesis streaming.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513837488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513840688","html_url":"https://github.com/apache/druid/issues/7926#issuecomment-513840688","issue_url":"https://api.github.com/repos/apache/druid/issues/7926","id":513840688,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzg0MDY4OA==","user":{"login":"gvsmirnov","id":1493464,"node_id":"MDQ6VXNlcjE0OTM0NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1493464?v=4","gravatar_id":"","url":"https://api.github.com/users/gvsmirnov","html_url":"https://github.com/gvsmirnov","followers_url":"https://api.github.com/users/gvsmirnov/followers","following_url":"https://api.github.com/users/gvsmirnov/following{/other_user}","gists_url":"https://api.github.com/users/gvsmirnov/gists{/gist_id}","starred_url":"https://api.github.com/users/gvsmirnov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gvsmirnov/subscriptions","organizations_url":"https://api.github.com/users/gvsmirnov/orgs","repos_url":"https://api.github.com/users/gvsmirnov/repos","events_url":"https://api.github.com/users/gvsmirnov/events{/privacy}","received_events_url":"https://api.github.com/users/gvsmirnov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T15:27:10Z","updated_at":"2019-07-22T15:27:18Z","author_association":"CONTRIBUTOR","body":"@acdn-mpreston thanks for getting back to me. To clarify my case, I got this issue in a clean deployment of druid `0.15.0-incubating`. It was not upgrading from any previous version, just a fresh installation.\r\n\r\nI am indeed using only kafka, and will try the same workaround. Was a bit confused by your follow-up comment stating that you have run into issues further down the ingestion pipeline. Did you find the root cause of that one? Thanks.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513840688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513858220","html_url":"https://github.com/apache/druid/issues/8121#issuecomment-513858220","issue_url":"https://api.github.com/repos/apache/druid/issues/8121","id":513858220,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzg1ODIyMA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T16:34:03Z","updated_at":"2019-07-22T16:34:03Z","author_association":"CONTRIBUTOR","body":"you can not do a raw select query (non group by) in Druid that orders by something other than `__time`","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513858220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513869264","html_url":"https://github.com/apache/druid/issues/8123#issuecomment-513869264","issue_url":"https://api.github.com/repos/apache/druid/issues/8123","id":513869264,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzg2OTI2NA==","user":{"login":"vogievetsky","id":177816,"node_id":"MDQ6VXNlcjE3NzgxNg==","avatar_url":"https://avatars.githubusercontent.com/u/177816?v=4","gravatar_id":"","url":"https://api.github.com/users/vogievetsky","html_url":"https://github.com/vogievetsky","followers_url":"https://api.github.com/users/vogievetsky/followers","following_url":"https://api.github.com/users/vogievetsky/following{/other_user}","gists_url":"https://api.github.com/users/vogievetsky/gists{/gist_id}","starred_url":"https://api.github.com/users/vogievetsky/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vogievetsky/subscriptions","organizations_url":"https://api.github.com/users/vogievetsky/orgs","repos_url":"https://api.github.com/users/vogievetsky/repos","events_url":"https://api.github.com/users/vogievetsky/events{/privacy}","received_events_url":"https://api.github.com/users/vogievetsky/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T17:04:04Z","updated_at":"2019-07-22T17:04:04Z","author_association":"CONTRIBUTOR","body":"Looks like you want to look at the last event (or few events) in your datasource. As of Druid 0.15.0 you can do:\r\n\r\n```\r\nselect * from \"druid\".\"table\" ORDER BY __time DESC LIMIT 1\r\n```\r\n\r\n(or limit more than 1)","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513869264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513882565","html_url":"https://github.com/apache/druid/issues/8123#issuecomment-513882565","issue_url":"https://api.github.com/repos/apache/druid/issues/8123","id":513882565,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzg4MjU2NQ==","user":{"login":"saulfrank","id":22662385,"node_id":"MDQ6VXNlcjIyNjYyMzg1","avatar_url":"https://avatars.githubusercontent.com/u/22662385?v=4","gravatar_id":"","url":"https://api.github.com/users/saulfrank","html_url":"https://github.com/saulfrank","followers_url":"https://api.github.com/users/saulfrank/followers","following_url":"https://api.github.com/users/saulfrank/following{/other_user}","gists_url":"https://api.github.com/users/saulfrank/gists{/gist_id}","starred_url":"https://api.github.com/users/saulfrank/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/saulfrank/subscriptions","organizations_url":"https://api.github.com/users/saulfrank/orgs","repos_url":"https://api.github.com/users/saulfrank/repos","events_url":"https://api.github.com/users/saulfrank/events{/privacy}","received_events_url":"https://api.github.com/users/saulfrank/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T17:40:25Z","updated_at":"2019-07-22T17:40:25Z","author_association":"NONE","body":"There are multiple records so that would have to be in the subquery. I\ntried putting that in the subquery and it still doesn’t work.\n\nSo where __time = (select __time from ...) doesn’t work.\n\nOn Mon, 22 Jul 2019 at 18:04, Vadim Ogievetsky <notifications@github.com>\nwrote:\n\n> Looks like you want to look at the last event (or few events) in your\n> datasource. As of Druid 0.15.0 you can do:\n>\n> select * from \"druid\".\"table\" ORDER BY __time DESC LIMIT 1\n>\n> (or limit more than 1)\n>\n> —\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/incubator-druid/issues/8123?email_source=notifications&email_token=AFM4Z4KYHX3TSUESBPOXOOTQAXSCVA5CNFSM4IFZ3NG2YY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOD2QQLUA#issuecomment-513869264>,\n> or mute the thread\n> <https://github.com/notifications/unsubscribe-auth/AFM4Z4ONPSNW54CNFOIGHBTQAXSCVANCNFSM4IFZ3NGQ>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513882565/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513891014","html_url":"https://github.com/apache/druid/pull/8005#issuecomment-513891014","issue_url":"https://api.github.com/repos/apache/druid/issues/8005","id":513891014,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzg5MTAxNA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T18:02:41Z","updated_at":"2019-07-22T18:02:41Z","author_association":"CONTRIBUTOR","body":"@asdf2014 WDYT?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513891014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513898178","html_url":"https://github.com/apache/druid/issues/8095#issuecomment-513898178","issue_url":"https://api.github.com/repos/apache/druid/issues/8095","id":513898178,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzg5ODE3OA==","user":{"login":"AlexanderSaydakov","id":13126686,"node_id":"MDQ6VXNlcjEzMTI2Njg2","avatar_url":"https://avatars.githubusercontent.com/u/13126686?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexanderSaydakov","html_url":"https://github.com/AlexanderSaydakov","followers_url":"https://api.github.com/users/AlexanderSaydakov/followers","following_url":"https://api.github.com/users/AlexanderSaydakov/following{/other_user}","gists_url":"https://api.github.com/users/AlexanderSaydakov/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexanderSaydakov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexanderSaydakov/subscriptions","organizations_url":"https://api.github.com/users/AlexanderSaydakov/orgs","repos_url":"https://api.github.com/users/AlexanderSaydakov/repos","events_url":"https://api.github.com/users/AlexanderSaydakov/events{/privacy}","received_events_url":"https://api.github.com/users/AlexanderSaydakov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T18:22:47Z","updated_at":"2019-07-23T22:47:14Z","author_association":"CONTRIBUTOR","body":"> is there other bugfixes for theta sketch to be released in 0.16.0?\r\n\r\nYes, the fix in 14.2 was not complete. In some cases the issue still can show up.\r\nThe following pull request fixed the second part:\r\nhttps://github.com/apache/incubator-druid/pull/7666\r\nIt is scheduled to be a part of 0.16.0","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513898178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513899084","html_url":"https://github.com/apache/druid/pull/8038#issuecomment-513899084","issue_url":"https://api.github.com/repos/apache/druid/issues/8038","id":513899084,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzg5OTA4NA==","user":{"login":"sashidhar","id":287761,"node_id":"MDQ6VXNlcjI4Nzc2MQ==","avatar_url":"https://avatars.githubusercontent.com/u/287761?v=4","gravatar_id":"","url":"https://api.github.com/users/sashidhar","html_url":"https://github.com/sashidhar","followers_url":"https://api.github.com/users/sashidhar/followers","following_url":"https://api.github.com/users/sashidhar/following{/other_user}","gists_url":"https://api.github.com/users/sashidhar/gists{/gist_id}","starred_url":"https://api.github.com/users/sashidhar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sashidhar/subscriptions","organizations_url":"https://api.github.com/users/sashidhar/orgs","repos_url":"https://api.github.com/users/sashidhar/repos","events_url":"https://api.github.com/users/sashidhar/events{/privacy}","received_events_url":"https://api.github.com/users/sashidhar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T18:25:01Z","updated_at":"2019-07-22T18:25:01Z","author_association":"CONTRIBUTOR","body":"@jihoonson , @himanshug , @dclim , @nishantmonu51 have you had a chance to review this ?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513899084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513903778","html_url":"https://github.com/apache/druid/issues/7926#issuecomment-513903778","issue_url":"https://api.github.com/repos/apache/druid/issues/7926","id":513903778,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkwMzc3OA==","user":{"login":"acdn-mpreston","id":33030320,"node_id":"MDQ6VXNlcjMzMDMwMzIw","avatar_url":"https://avatars.githubusercontent.com/u/33030320?v=4","gravatar_id":"","url":"https://api.github.com/users/acdn-mpreston","html_url":"https://github.com/acdn-mpreston","followers_url":"https://api.github.com/users/acdn-mpreston/followers","following_url":"https://api.github.com/users/acdn-mpreston/following{/other_user}","gists_url":"https://api.github.com/users/acdn-mpreston/gists{/gist_id}","starred_url":"https://api.github.com/users/acdn-mpreston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acdn-mpreston/subscriptions","organizations_url":"https://api.github.com/users/acdn-mpreston/orgs","repos_url":"https://api.github.com/users/acdn-mpreston/repos","events_url":"https://api.github.com/users/acdn-mpreston/events{/privacy}","received_events_url":"https://api.github.com/users/acdn-mpreston/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T18:38:07Z","updated_at":"2019-07-22T18:38:07Z","author_association":"NONE","body":"@gvsmirnov yes, the issue can happen on a clean install as well, the upgrade path was just the easiest way I found to reproduce. :)\r\n\r\nMy comment of running into issues \"further down the pipeline\" refers to a fix I tried originally in a referenced PR. Unfortunately, that attempt failed after the supervisor reset itself as it was expecting an offset stored as  a SeekableStreamEndSequenceNumber (as the reset metadata should always have offsets stored using this class) but in my PR I had cast it to a SeekableStreamStartSequenceNumber. This resulted in another class mismatch, this time on the \"plus\" method call.\r\n\r\nThis is what made me change my approach to just using SeekableStreamStartSequenceNumber class instances for storing the offset metadata as I clearly did not understand well enough all the places where the offset metadata would be retrieved and manipulated. By using only SeekableStreamEndSequenceNumber, there will never be a class mismatch.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513903778/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513904395","html_url":"https://github.com/apache/druid/pull/8117#issuecomment-513904395","issue_url":"https://api.github.com/repos/apache/druid/issues/8117","id":513904395,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkwNDM5NQ==","user":{"login":"dclim","id":11050882,"node_id":"MDQ6VXNlcjExMDUwODgy","avatar_url":"https://avatars.githubusercontent.com/u/11050882?v=4","gravatar_id":"","url":"https://api.github.com/users/dclim","html_url":"https://github.com/dclim","followers_url":"https://api.github.com/users/dclim/followers","following_url":"https://api.github.com/users/dclim/following{/other_user}","gists_url":"https://api.github.com/users/dclim/gists{/gist_id}","starred_url":"https://api.github.com/users/dclim/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dclim/subscriptions","organizations_url":"https://api.github.com/users/dclim/orgs","repos_url":"https://api.github.com/users/dclim/repos","events_url":"https://api.github.com/users/dclim/events{/privacy}","received_events_url":"https://api.github.com/users/dclim/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T18:39:50Z","updated_at":"2019-07-22T18:39:50Z","author_association":"CONTRIBUTOR","body":"👍 ","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513904395/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513906370","html_url":"https://github.com/apache/druid/pull/8076#issuecomment-513906370","issue_url":"https://api.github.com/repos/apache/druid/issues/8076","id":513906370,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkwNjM3MA==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T18:45:35Z","updated_at":"2019-07-22T18:45:35Z","author_association":"CONTRIBUTOR","body":"@dclim Time to look at this one?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513906370/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513907299","html_url":"https://github.com/apache/druid/pull/8006#issuecomment-513907299","issue_url":"https://api.github.com/repos/apache/druid/issues/8006","id":513907299,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkwNzI5OQ==","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T18:48:05Z","updated_at":"2019-07-22T18:48:05Z","author_association":"CONTRIBUTOR","body":"@asdf2014 Any thoughts?","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513907299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513911726","html_url":"https://github.com/apache/druid/pull/8116#issuecomment-513911726","issue_url":"https://api.github.com/repos/apache/druid/issues/8116","id":513911726,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxMTcyNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:00:32Z","updated_at":"2019-07-22T19:00:32Z","author_association":"MEMBER","body":"This PR inspired me to create this issue: #8125.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513911726/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912004","html_url":"https://github.com/apache/druid/issues/7340#issuecomment-513912004","issue_url":"https://api.github.com/repos/apache/druid/issues/7340","id":513912004,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxMjAwNA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:01:20Z","updated_at":"2019-07-22T19:01:20Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912143","html_url":"https://github.com/apache/druid/issues/7159#issuecomment-513912143","issue_url":"https://api.github.com/repos/apache/druid/issues/7159","id":513912143,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxMjE0Mw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:01:43Z","updated_at":"2019-07-22T19:01:43Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912231","html_url":"https://github.com/apache/druid/issues/7344#issuecomment-513912231","issue_url":"https://api.github.com/repos/apache/druid/issues/7344","id":513912231,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxMjIzMQ==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:01:59Z","updated_at":"2019-07-22T19:01:59Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912344","html_url":"https://github.com/apache/druid/issues/7354#issuecomment-513912344","issue_url":"https://api.github.com/repos/apache/druid/issues/7354","id":513912344,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxMjM0NA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:02:17Z","updated_at":"2019-07-22T19:02:17Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912344/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912788","html_url":"https://github.com/apache/druid/issues/7361#issuecomment-513912788","issue_url":"https://api.github.com/repos/apache/druid/issues/7361","id":513912788,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxMjc4OA==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:03:25Z","updated_at":"2019-07-22T19:03:25Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912923","html_url":"https://github.com/apache/druid/issues/7382#issuecomment-513912923","issue_url":"https://api.github.com/repos/apache/druid/issues/7382","id":513912923,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxMjkyMw==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:03:48Z","updated_at":"2019-07-22T19:03:48Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513912923/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513913276","html_url":"https://github.com/apache/druid/issues/7391#issuecomment-513913276","issue_url":"https://api.github.com/repos/apache/druid/issues/7391","id":513913276,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxMzI3Ng==","user":{"login":"stale[bot]","id":26384082,"node_id":"MDM6Qm90MjYzODQwODI=","avatar_url":"https://avatars.githubusercontent.com/in/1724?v=4","gravatar_id":"","url":"https://api.github.com/users/stale%5Bbot%5D","html_url":"https://github.com/apps/stale","followers_url":"https://api.github.com/users/stale%5Bbot%5D/followers","following_url":"https://api.github.com/users/stale%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/stale%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/stale%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stale%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/stale%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/stale%5Bbot%5D/repos","events_url":"https://api.github.com/users/stale%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/stale%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:04:45Z","updated_at":"2019-07-22T19:04:45Z","author_association":"NONE","body":"This issue is no longer marked as stale.\n","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513913276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513914628","html_url":"https://github.com/apache/druid/issues/7392#issuecomment-513914628","issue_url":"https://api.github.com/repos/apache/druid/issues/7392","id":513914628,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxNDYyOA==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:08:50Z","updated_at":"2019-07-22T19:08:50Z","author_association":"MEMBER","body":"In the future, we may split it and add a third implementation: brokers polling metadata store directory (proposed here: https://github.com/apache/incubator-druid/issues/6834#issuecomment-478569365 and discussed below in that issue). The proxy design still doesn't make sense to me.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513914628/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513915326","html_url":"https://github.com/apache/druid/issues/7383#issuecomment-513915326","issue_url":"https://api.github.com/repos/apache/druid/issues/7383","id":513915326,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzkxNTMyNg==","user":{"login":"leventov","id":609240,"node_id":"MDQ6VXNlcjYwOTI0MA==","avatar_url":"https://avatars.githubusercontent.com/u/609240?v=4","gravatar_id":"","url":"https://api.github.com/users/leventov","html_url":"https://github.com/leventov","followers_url":"https://api.github.com/users/leventov/followers","following_url":"https://api.github.com/users/leventov/following{/other_user}","gists_url":"https://api.github.com/users/leventov/gists{/gist_id}","starred_url":"https://api.github.com/users/leventov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leventov/subscriptions","organizations_url":"https://api.github.com/users/leventov/orgs","repos_url":"https://api.github.com/users/leventov/repos","events_url":"https://api.github.com/users/leventov/events{/privacy}","received_events_url":"https://api.github.com/users/leventov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T19:10:59Z","updated_at":"2019-07-22T19:10:59Z","author_association":"MEMBER","body":"There are many small and large inconsistencies in the current coordination/balancing algorithm which are inter-dependent and are hardly fixable in separation. An overhaul is proposed here: #7458.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513915326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513948436","html_url":"https://github.com/apache/druid/issues/6743#issuecomment-513948436","issue_url":"https://api.github.com/repos/apache/druid/issues/6743","id":513948436,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk0ODQzNg==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T20:49:20Z","updated_at":"2019-07-22T20:49:20Z","author_association":"CONTRIBUTOR","body":"@gianm https://github.com/apache/incubator-druid/issues/8126","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513948436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513949670","html_url":"https://github.com/apache/druid/issues/8031#issuecomment-513949670","issue_url":"https://api.github.com/repos/apache/druid/issues/8031","id":513949670,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk0OTY3MA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T20:52:38Z","updated_at":"2019-07-22T20:52:38Z","author_association":"CONTRIBUTOR","body":"related to https://github.com/apache/incubator-druid/issues/8126 which removes usage of `Aggregator` from indexing code as well .\r\nI will add code changes for this proposal as a follow up to https://github.com/apache/incubator-druid/issues/8126","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513949670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513954218","html_url":"https://github.com/apache/druid/issues/8071#issuecomment-513954218","issue_url":"https://api.github.com/repos/apache/druid/issues/8071","id":513954218,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk1NDIxOA==","user":{"login":"himanshug","id":246308,"node_id":"MDQ6VXNlcjI0NjMwOA==","avatar_url":"https://avatars.githubusercontent.com/u/246308?v=4","gravatar_id":"","url":"https://api.github.com/users/himanshug","html_url":"https://github.com/himanshug","followers_url":"https://api.github.com/users/himanshug/followers","following_url":"https://api.github.com/users/himanshug/following{/other_user}","gists_url":"https://api.github.com/users/himanshug/gists{/gist_id}","starred_url":"https://api.github.com/users/himanshug/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/himanshug/subscriptions","organizations_url":"https://api.github.com/users/himanshug/orgs","repos_url":"https://api.github.com/users/himanshug/repos","events_url":"https://api.github.com/users/himanshug/events{/privacy}","received_events_url":"https://api.github.com/users/himanshug/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T21:04:46Z","updated_at":"2019-07-22T21:07:58Z","author_association":"CONTRIBUTOR","body":"yeah that algorithm is to avoid overflowing `sum` . You are right that instructions for divisions are slower in theory (but hardware has come a long way...), but I will benchmark the division based algo presented here and post the findings. \r\nThat said, for some users it might be important to not have overflow problem even if division in this algorithm can potentially make things slower and Using sum, count aggs with a post agg for division would still be available.\r\n\r\nThat said, I think main reason, for me right now, introducing a mean aggregator is for convenience of its usage in druid native query spec which is what currently being used in my project. (Actually real story is \r\n slightly more complicated :P ) .","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513954218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/druid/issues/comments/513971684","html_url":"https://github.com/apache/druid/issues/8125#issuecomment-513971684","issue_url":"https://api.github.com/repos/apache/druid/issues/8125","id":513971684,"node_id":"MDEyOklzc3VlQ29tbWVudDUxMzk3MTY4NA==","user":{"login":"gianm","id":1214075,"node_id":"MDQ6VXNlcjEyMTQwNzU=","avatar_url":"https://avatars.githubusercontent.com/u/1214075?v=4","gravatar_id":"","url":"https://api.github.com/users/gianm","html_url":"https://github.com/gianm","followers_url":"https://api.github.com/users/gianm/followers","following_url":"https://api.github.com/users/gianm/following{/other_user}","gists_url":"https://api.github.com/users/gianm/gists{/gist_id}","starred_url":"https://api.github.com/users/gianm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gianm/subscriptions","organizations_url":"https://api.github.com/users/gianm/orgs","repos_url":"https://api.github.com/users/gianm/repos","events_url":"https://api.github.com/users/gianm/events{/privacy}","received_events_url":"https://api.github.com/users/gianm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-07-22T22:00:47Z","updated_at":"2019-07-22T22:00:47Z","author_association":"CONTRIBUTOR","body":"Maybe it's just me, but I find foreground/background and sync/async to be equally understandable.\r\n\r\n> There could be a single implementation. The executor may be DirectExecutorService in the \"sync\" case.\r\n\r\nA note: at least currently, the control flow is different enough that the foreground populator cannot be implement as a background populator with a direct executor service. I think the main reason is that the background populator isn't only trying to do the _population_ in the background, it's also trying to do _computation of cache entries_ in the background _and in parallel_.\r\n\r\nThe latter thing means that it needs to take a different approach to the foreground one. In particular, the foreground populator is simple: it writes something to a ByteArrayOutputStream for each item as the Sequence is walked. The background populator instead writes these items into a List and then starts up separate thread pool tasks to serialize each one, and then also populates the cache using yet another task.\r\n\r\nIn other words, if the foreground populator was replaced with a background populator + direct executor, it would use a lot more memory than it does today, since it would need to buffer up a List of items that it currently just writes immediately to a ByteArrayOutputStream.\r\n\r\n> It seems to me that the crucial difference between sync and async is whether blocking cache (Redis/Memcached) or local, (mostly) non-blocking cache (Caffeine) is used. At least, this should be highlighted in docs; at most, the mode of cachePopulator should be chosen automatically depending on the configured type of the cache.\r\n\r\nIt's not necessarily that simple, for two reasons:\r\n\r\n1. Some remote cache implementations (like memcached) queue things internally and return from `cache.put` _before_ the remote server acknowledges the write. So background population doesn't add any extra resistance to network based blocking.\r\n2. Even for local cache implementations, background population could in theory be useful, since it does cache entry generation in the background too. This could in theory be expensive enough (CPU-wise) that it is useful to background it.\r\n\r\n> Does it make any sense to make async cache populator which pushes results to remote cache to have more than 1 thread? After all, we will be hitting the same bottleneck - the local NIC. So async populator may just have a queue and a single thread takes cache entries from the queue and tries to push them to remote cache.\r\n\r\nIt depends how exactly the Cache impl works. If its `put` method is blocking, then having more than one thread is useful, since in that case you can get more bandwidth by doing multiple connections requests in parallel (otherwise, you have too much 'dead air' while waiting for responses). If its `put` method is CPU intensive (maybe it must wrap the provided `byte[]` in an envelope of sorts, involving a lot of memory copies) then having more than one thread could also improve throughput (but maybe a bad idea, since it's scary if you're spending so much CPU on putting stuff into the query cache). Otherwise, it's probably not useful to have more than one thread.","reactions":{"url":"https://api.github.com/repos/apache/druid/issues/comments/513971684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]