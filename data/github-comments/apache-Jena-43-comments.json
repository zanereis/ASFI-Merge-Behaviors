[{"url":"https://api.github.com/repos/apache/jena/issues/comments/1783880147","html_url":"https://github.com/apache/jena/pull/2065#issuecomment-1783880147","issue_url":"https://api.github.com/repos/apache/jena/issues/2065","id":1783880147,"node_id":"IC_kwDOAHF7Ec5qU9nT","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-28T17:37:51Z","updated_at":"2023-10-28T17:37:51Z","author_association":"MEMBER","body":"Can't count how many times I found useful articles in baeldung.com.\r\n\r\n>A key point is that it can only generate new files, not modify or affect compile time input files.\r\n>This is good to know - it means none of JUnit nor the Contract Testing is affected.\r\n\r\n:+1: \r\n\r\nThank you! ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1783880147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1783920717","html_url":"https://github.com/apache/jena/pull/2064#issuecomment-1783920717","issue_url":"https://api.github.com/repos/apache/jena/issues/2064","id":1783920717,"node_id":"IC_kwDOAHF7Ec5qVHhN","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-28T21:04:36Z","updated_at":"2023-10-28T21:04:36Z","author_association":"MEMBER","body":"Tests seem to cover the cases with multiple components, :+1: thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1783920717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1784975228","html_url":"https://github.com/apache/jena/issues/2062#issuecomment-1784975228","issue_url":"https://api.github.com/repos/apache/jena/issues/2062","id":1784975228,"node_id":"IC_kwDOAHF7Ec5qZI98","user":{"login":"svandenhoek","id":7658246,"node_id":"MDQ6VXNlcjc2NTgyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/7658246?v=4","gravatar_id":"","url":"https://api.github.com/users/svandenhoek","html_url":"https://github.com/svandenhoek","followers_url":"https://api.github.com/users/svandenhoek/followers","following_url":"https://api.github.com/users/svandenhoek/following{/other_user}","gists_url":"https://api.github.com/users/svandenhoek/gists{/gist_id}","starred_url":"https://api.github.com/users/svandenhoek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svandenhoek/subscriptions","organizations_url":"https://api.github.com/users/svandenhoek/orgs","repos_url":"https://api.github.com/users/svandenhoek/repos","events_url":"https://api.github.com/users/svandenhoek/events{/privacy}","received_events_url":"https://api.github.com/users/svandenhoek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T11:17:53Z","updated_at":"2023-10-30T11:17:53Z","author_association":"NONE","body":"My main point indeed is to not flag something as invalid if it might actually be in-spec, though I do agree that part about not-defined behaviour for undefined components is worrying indeed. An informational warning (or perhaps a command-line argument that allows toggling between \"in-spec only vs strict validation\") seems like a valid option.\r\n\r\nWhile it's a guess, perhaps other tools simply treat the fragment similarly to an IRI (so the fragment in `urn:uuid:0c93930e-709d-431b-add5-9fdca2a117da#something` and `http://www.w3.org/2000/01/rdf-schema#label` being treated the same) and therefore not causing any issues?\r\n\r\nInteresting observation regarding the rq-component indeed. It seems according to [RFC 8141 Section 2.3.1](https://datatracker.ietf.org/doc/html/rfc8141#section-2.3.1) that the r-component is for now purely there to \"reserves it for future use\" (first paragraph page 13) and it \"SHOULD NOT be used for URNs before their semantics have been standardized\" (last paragraph of the section). So a warning (or even an error?) sounds valid for now as well until it is updated. Though ofcourse this gets a bit more complicated due to `?+` being valid inside the q-component.\r\n\r\nLooking at [RFC 8141 Section 2.3.1](https://datatracker.ietf.org/doc/html/rfc8141#section-2.3.1), I'm not sure if `?+abc?=def` should be seen as a single r-component though (but I'll be honest that I have no clue regarding passing it to the resolver so you might be right regarding implementation):\r\n\r\n> The sequence \"?+\" introduces the r-component.  The r-component ends with a \"?=\" sequence (which begins a q-component) or a \"#\" character (number sign, which begins an f-component).\r\n\r\nRegarding the usage: We currently have some non-semantic data which we want to be able to query on linked data. Most of it can be converted properly to existing IRIs that represents this data (and are the parts relevant for federated querying). Some of the data which is purely relevant inside the project cannot be that easily converted, so within the current concept version a UUID is generated to represent the specific use-case and the fragments describe the parts they represent within that specific use-case. A bit similar to the anology in [RFC 8141 Section 2.3.3](https://datatracker.ietf.org/doc/html/rfc8141#section-2.3.3):\r\n\r\n> Consider the hypothetical example of obtaining resources that are part of a larger entity (say, the chapters of a book).  Each part could be specified in the f-component\r\n\r\nP.S. This week might not be able to respond as much.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1784975228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1784999301","html_url":"https://github.com/apache/jena/issues/2062#issuecomment-1784999301","issue_url":"https://api.github.com/repos/apache/jena/issues/2062","id":1784999301,"node_id":"IC_kwDOAHF7Ec5qZO2F","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T11:33:43Z","updated_at":"2023-10-30T11:33:43Z","author_association":"MEMBER","body":"The fragments part is unaffected. 8141 is following the URI spec.\r\n\r\n    r-component   = pchar *( pchar / \"/\" / \"?\" )\r\n\r\nand `pchar` includes `sub-delims` which includes `\"=\"`.\r\n\r\nTokenizing is \"greedy\" (longest match, regex style) so if there are two possibilities the first/longer happens. This may be intentional - so the r-component with q-component syntax get passed to a resolver.\r\n\r\nFortunately for syntax validation, it does not matter! it's pass/fail, not the reason.\r\nThere is no \"get r-component\" method on IRIx.\r\n\r\nAs for tools - I think tools that try to parse/check UUIDs, and many that parse/check URNs (which isn't many in linked data land) will not handle r-,q-components. If they treat them blindly as IRIs, they will pass them, including internationalization  issues.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1784999301/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1785937795","html_url":"https://github.com/apache/jena/issues/2066#issuecomment-1785937795","issue_url":"https://api.github.com/repos/apache/jena/issues/2066","id":1785937795,"node_id":"IC_kwDOAHF7Ec5qcz-D","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T19:54:42Z","updated_at":"2023-10-30T19:54:42Z","author_association":"MEMBER","body":"Closed with e5d5f65 (PR #2067)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1785937795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1786009956","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1786009956","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1786009956,"node_id":"IC_kwDOAHF7Ec5qdFlk","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-30T20:45:23Z","updated_at":"2023-10-30T20:45:23Z","author_association":"MEMBER","body":"When I run `mvn clean install` in `jena-fusekli-ui` problems running the `datasets.cy.js` and `query.cy.js` tests.  \r\n\r\n\"This occurred while Cypress was compiling and bundling your test code.\"\r\n\r\nRunning `mvn clean install -Pdev` does result in proper Fuseki with UI which works. The same happens with running in `jena-fuseki-ui`.\r\n\r\nI deleted all the files and did a \"git restore\" of jena-fusekli-ui to make sure I had the right files.\r\n\r\nTo check it's not just my machine, I pulled the PR, pushed to my account on github, and ran the Ubuntu action:\r\n\r\nStart of jena-fuseki-ui:\r\nhttps://github.com/afs/jena/actions/runs/6698087924/job/18200133940#step:4:4483\r\nthe errors start at:\r\nhttps://github.com/afs/jena/actions/runs/6698087924/job/18200133940#step:4:4753\r\n\r\n```\r\n[INFO] [TESTS]   Running:  datasets.cy.js                                                                  (1 of 2)\r\n[INFO] [TESTS] \r\n[INFO] [TESTS] Oops...we found an error preparing this test file:\r\n[INFO] [TESTS] \r\n[INFO] [TESTS]   > tests/e2e/specs/datasets.cy.js\r\n[INFO] [TESTS] \r\n[INFO] [TESTS] The error was:\r\n[INFO] [TESTS] \r\n[INFO] [TESTS] RollupError: Could not load /home/afs/ASF/afs-jena/jena-fuseki2/jena-fuseki-ui/src/views/manage/ExistingDatasets.vue: Cannot call \"addWatchFile\" after the build has finished.\r\n[INFO] [TESTS]     at error (file:///home/afs/ASF/afs-jena/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/parseAst.js:337:30)\r\n[INFO] [TESTS]     at Object.error (file:///home/afs/ASF/afs-jena/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/node-entry.js:18264:20)\r\n[INFO] [TESTS]     at Object.addWatchFile (file:///home/afs/ASF/afs-jena/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/node-entry.js:18256:29)\r\n[INFO] [TESTS]     at Object.load (file:///home/afs/ASF/afs-jena/jena-fuseki2/jena-fuseki-ui/node_modules/vite/dist/node/chunks/dep-kPX9VBbU.js:46422:22)\r\n[INFO] [TESTS]     at async PluginDriver.hookFirstAndGetPlugin (file:///home/afs/ASF/afs-jena/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/node-entry.js:18349:28)\r\n[INFO] [TESTS]     at async file:///home/afs/ASF/afs-jena/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/node-entry.js:17523:33\r\n[INFO] [TESTS]     at async Queue.work (file:///home/afs/ASF/afs-jena/jena-fuseki2/jena-fuseki-ui/node_modules/rollup/dist/es/shared/node-entry.js:18559:32)\r\n[INFO] [TESTS] \r\n[INFO] [TESTS] This occurred while Cypress was compiling and bundling your test code. This is usually caused by:\r\n[INFO] [TESTS] \r\n[INFO] [TESTS] - A missing file or dependency\r\n[INFO] [TESTS] - A syntax error in the file or one of its dependencies\r\n[INFO] [TESTS] \r\n[INFO] [TESTS] Fix the error in your code and re-run your tests.\r\n```\r\nSame for query.cy.js.\r\n\r\n[Complete log attached](https://github.com/apache/jena/files/13209634/LOG2.txt)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1786009956/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1787768623","html_url":"https://github.com/apache/jena/issues/2062#issuecomment-1787768623","issue_url":"https://api.github.com/repos/apache/jena/issues/2062","id":1787768623,"node_id":"IC_kwDOAHF7Ec5qjy8v","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-31T18:32:29Z","updated_at":"2023-11-01T08:49:06Z","author_association":"MEMBER","body":"Reported issue addressed by #2064.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1787768623/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788591055","html_url":"https://github.com/apache/jena/pull/2069#issuecomment-1788591055","issue_url":"https://api.github.com/repos/apache/jena/issues/2069","id":1788591055,"node_id":"IC_kwDOAHF7Ec5qm7vP","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T08:29:43Z","updated_at":"2023-11-01T08:29:43Z","author_association":"MEMBER","body":"@dependabot recreate","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788591055/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788694953","html_url":"https://github.com/apache/jena/pull/2068#issuecomment-1788694953","issue_url":"https://api.github.com/repos/apache/jena/issues/2068","id":1788694953,"node_id":"IC_kwDOAHF7Ec5qnVGp","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T09:58:42Z","updated_at":"2023-11-01T09:58:42Z","author_association":"MEMBER","body":"Done on the jena5 branch by #2073.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788694953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788695002","html_url":"https://github.com/apache/jena/pull/2068#issuecomment-1788695002","issue_url":"https://api.github.com/repos/apache/jena/issues/2068","id":1788695002,"node_id":"IC_kwDOAHF7Ec5qnVHa","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T09:58:44Z","updated_at":"2023-11-01T09:58:44Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788695002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788695856","html_url":"https://github.com/apache/jena/pull/2070#issuecomment-1788695856","issue_url":"https://api.github.com/repos/apache/jena/issues/2070","id":1788695856,"node_id":"IC_kwDOAHF7Ec5qnVUw","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T09:59:27Z","updated_at":"2023-11-01T09:59:27Z","author_association":"MEMBER","body":"Done on the jena5 branch by #2073.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788695856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788695922","html_url":"https://github.com/apache/jena/pull/2070#issuecomment-1788695922","issue_url":"https://api.github.com/repos/apache/jena/issues/2070","id":1788695922,"node_id":"IC_kwDOAHF7Ec5qnVVy","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T09:59:29Z","updated_at":"2023-11-01T09:59:29Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788695922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788696162","html_url":"https://github.com/apache/jena/pull/2071#issuecomment-1788696162","issue_url":"https://api.github.com/repos/apache/jena/issues/2071","id":1788696162,"node_id":"IC_kwDOAHF7Ec5qnVZi","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T09:59:41Z","updated_at":"2023-11-01T09:59:41Z","author_association":"MEMBER","body":"Done on the jena5 branch by #2073.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788696162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788696194","html_url":"https://github.com/apache/jena/pull/2071#issuecomment-1788696194","issue_url":"https://api.github.com/repos/apache/jena/issues/2071","id":1788696194,"node_id":"IC_kwDOAHF7Ec5qnVaC","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T09:59:44Z","updated_at":"2023-11-01T09:59:44Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. If you'd rather skip all updates until the next major or minor version, let me know by commenting `@dependabot ignore this major version` or `@dependabot ignore this minor version`. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788696194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788696479","html_url":"https://github.com/apache/jena/pull/2072#issuecomment-1788696479","issue_url":"https://api.github.com/repos/apache/jena/issues/2072","id":1788696479,"node_id":"IC_kwDOAHF7Ec5qnVef","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T09:59:58Z","updated_at":"2023-11-01T09:59:58Z","author_association":"MEMBER","body":"Done on the jena5 branch by #2073.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788696479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788696532","html_url":"https://github.com/apache/jena/pull/2072#issuecomment-1788696532","issue_url":"https://api.github.com/repos/apache/jena/issues/2072","id":1788696532,"node_id":"IC_kwDOAHF7Ec5qnVfU","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T10:00:01Z","updated_at":"2023-11-01T10:00:01Z","author_association":"CONTRIBUTOR","body":"OK, I won't notify you again about this release, but will get in touch when a new version is available. You can also ignore all major, minor, or patch releases for a dependency by adding an [`ignore` condition](https://docs.github.com/en/code-security/supply-chain-security/configuration-options-for-dependency-updates#ignore) with the desired `update_types` to your config file.\n\nIf you change your mind, just re-open this PR and I'll resolve any conflicts on it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788696532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":{"id":29110,"client_id":"Iv1.4f9a6346434f815e","slug":"dependabot","node_id":"MDM6QXBwMjkxMTA=","owner":{"login":"github","id":9919,"node_id":"MDEyOk9yZ2FuaXphdGlvbjk5MTk=","avatar_url":"https://avatars.githubusercontent.com/u/9919?v=4","gravatar_id":"","url":"https://api.github.com/users/github","html_url":"https://github.com/github","followers_url":"https://api.github.com/users/github/followers","following_url":"https://api.github.com/users/github/following{/other_user}","gists_url":"https://api.github.com/users/github/gists{/gist_id}","starred_url":"https://api.github.com/users/github/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github/subscriptions","organizations_url":"https://api.github.com/users/github/orgs","repos_url":"https://api.github.com/users/github/repos","events_url":"https://api.github.com/users/github/events{/privacy}","received_events_url":"https://api.github.com/users/github/received_events","type":"Organization","user_view_type":"public","site_admin":false},"name":"Dependabot","description":"","external_url":"https://dependabot-api.githubapp.com","html_url":"https://github.com/apps/dependabot","created_at":"2019-04-16T22:34:25Z","updated_at":"2024-03-20T21:06:35Z","permissions":{"actions":"read","checks":"write","contents":"write","issues":"write","members":"read","metadata":"read","pull_requests":"write","statuses":"read","vulnerability_alerts":"read","workflows":"write"},"events":["check_suite","issues","issue_comment","label","pull_request","pull_request_review","pull_request_review_comment","repository"]}},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788758095","html_url":"https://github.com/apache/jena/issues/2062#issuecomment-1788758095","issue_url":"https://api.github.com/repos/apache/jena/issues/2062","id":1788758095,"node_id":"IC_kwDOAHF7Ec5qnkhP","user":{"login":"svandenhoek","id":7658246,"node_id":"MDQ6VXNlcjc2NTgyNDY=","avatar_url":"https://avatars.githubusercontent.com/u/7658246?v=4","gravatar_id":"","url":"https://api.github.com/users/svandenhoek","html_url":"https://github.com/svandenhoek","followers_url":"https://api.github.com/users/svandenhoek/followers","following_url":"https://api.github.com/users/svandenhoek/following{/other_user}","gists_url":"https://api.github.com/users/svandenhoek/gists{/gist_id}","starred_url":"https://api.github.com/users/svandenhoek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/svandenhoek/subscriptions","organizations_url":"https://api.github.com/users/svandenhoek/orgs","repos_url":"https://api.github.com/users/svandenhoek/repos","events_url":"https://api.github.com/users/svandenhoek/events{/privacy}","received_events_url":"https://api.github.com/users/svandenhoek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T10:51:15Z","updated_at":"2023-11-01T10:51:15Z","author_association":"NONE","body":"Aaaah, noted. If tokenizing is greedy I get your point.\r\n\r\nRegarding tools, I probably should have phrased it a bit differently (only meant how fragments are treated similarly as in resulting in unique nodes inside a graph). You're right about handling it simply as an IRI would cause issues.\r\n\r\nAnyhow, thank you for resolving the reported issue!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788758095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788770856","html_url":"https://github.com/apache/jena/issues/2062#issuecomment-1788770856","issue_url":"https://api.github.com/repos/apache/jena/issues/2062","id":1788770856,"node_id":"IC_kwDOAHF7Ec5qnnoo","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-01T11:02:05Z","updated_at":"2023-11-01T11:02:05Z","author_association":"MEMBER","body":"(Closing the issue because the code, in jena5, is fixed)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1788770856/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790390677","html_url":"https://github.com/apache/jena/pull/2075#issuecomment-1790390677","issue_url":"https://api.github.com/repos/apache/jena/issues/2075","id":1790390677,"node_id":"IC_kwDOAHF7Ec5qtzGV","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T09:43:18Z","updated_at":"2023-11-02T09:43:18Z","author_association":"MEMBER","body":"Guess you bet me by seconds!\r\n\r\n![image](https://github.com/apache/jena/assets/304786/a3e6a532-91e9-49a0-8acd-9c5c20a98a67)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790390677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790391621","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790391621","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790391621,"node_id":"IC_kwDOAHF7Ec5qtzVF","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T09:43:56Z","updated_at":"2023-11-02T09:43:56Z","author_association":"MEMBER","body":"(will rebase and have a look later -- it was holiday in Spain yesterday but I \"extended\" it until Monday :-) )","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790391621/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790396191","html_url":"https://github.com/apache/jena/pull/2075#issuecomment-1790396191","issue_url":"https://api.github.com/repos/apache/jena/issues/2075","id":1790396191,"node_id":"IC_kwDOAHF7Ec5qt0cf","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T09:46:58Z","updated_at":"2023-11-02T09:46:58Z","author_association":"MEMBER","body":":-) Eventual consistency in action!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790396191/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790412328","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790412328","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790412328,"node_id":"IC_kwDOAHF7Ec5qt4Yo","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T09:57:13Z","updated_at":"2023-11-02T09:57:13Z","author_association":"MEMBER","body":"Hopefully, the switch to Jena5 development won't affect this PR significantly. \r\n\r\njena5 was rebased so all the commits have changed.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790412328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790536178","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790536178","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790536178,"node_id":"IC_kwDOAHF7Ec5quWny","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T11:17:50Z","updated_at":"2023-11-02T11:17:50Z","author_association":"MEMBER","body":"All good. Rebasing got all messed up. But good ol' `git reset --hard upstream/main`, followed by `git cherry-pick $single-commit-from-this-branch` did the trick! Just had to `git checkout upstream jena-fuseki2/jena-fuseki-ui/yarn.lock` and `yarn install` again :tada: ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790536178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790597230","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790597230","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790597230,"node_id":"IC_kwDOAHF7Ec5qulhu","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T11:58:50Z","updated_at":"2023-11-02T11:58:50Z","author_association":"MEMBER","body":"(and change the base of the pull request :grimacing: )","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790597230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790674993","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790674993","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790674993,"node_id":"IC_kwDOAHF7Ec5qu4gx","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T12:55:40Z","updated_at":"2023-11-02T12:55:40Z","author_association":"MEMBER","body":"I got the same error as @afs running `yarn run test:e2e` locally. Seems related to https://github.com/vitejs/vite/issues/13342\r\n\r\nTried a few options, and couldn't find a way to keep the manual chunks. Found issues saying that the chunks were still eagerly loaded in Vite, and [this one](https://sambitsahoo.com/blog/vite-code-splitting-that-works.html) that points that Vue Router does the lazy loading automagically.\r\n\r\nSince we are using that Vue Router syntax, and the tests are broken, I'm removing the manual chunks. I haven't done a thorough check (before this PR) if the chunks were actually being lazily loaded, but will try to look into that once the build is fixed (also look at the size of chunks, the Query page is ~2MB before gzip, not sure if YASR/etc or maybe assets like SVG's being included... will check)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790674993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790706399","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790706399","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790706399,"node_id":"IC_kwDOAHF7Ec5qvALf","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T13:16:18Z","updated_at":"2023-11-02T13:16:18Z","author_association":"MEMBER","body":"Once fixing that, the test seemed to be running in some loop. And I could only see many `200` HTTP requests to `/`. I executed the two commands executed by `test:e2e` separately, and opened it on my browser, then I could see similar behavior.\r\n\r\nLooking at the Firefox developer tools, in the Network tab, I noticed the connection upgrades, indicating it was changing from HTTP to another protocol (WebSockets normally).\r\n\r\nLooked at the test server, and indeed it had `wss: true`. Can't recall why/if I enabled it, but disabling it fixed the problem.\r\n\r\nReady to be tested again. @afs how are you testing this, on Jenkins? If so maybe I can trigger a build there to see if this builds OK now.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790706399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790818791","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790818791","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790818791,"node_id":"IC_kwDOAHF7Ec5qvbnn","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T14:14:37Z","updated_at":"2023-11-02T14:16:16Z","author_association":"MEMBER","body":"> @afs how are you testing this, on Jenkins? If so maybe I can trigger a build there to see if this builds OK now.\r\n\r\nI pull down the PR, or sometimes get as a diff, then run `mvn clean install` locally in the jena-fuseki-ui directory (having done `mvn clean install` at the top level sometime earlier in the day).\r\n\r\n[git-pull-pr.txt](https://github.com/apache/jena/files/13239917/git-pull-pr.txt)\r\n\r\n```\r\ngit-pull-pr upstream 2055 ui5\r\n```\r\nwhere \"upstream\" is git remote in .git/config and is the apache/jena.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790818791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790844500","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790844500","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790844500,"node_id":"IC_kwDOAHF7Ec5qvh5U","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T14:29:07Z","updated_at":"2023-11-02T14:29:07Z","author_association":"MEMBER","body":"It works!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790844500/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790918301","html_url":"https://github.com/apache/jena/pull/2055#issuecomment-1790918301","issue_url":"https://api.github.com/repos/apache/jena/issues/2055","id":1790918301,"node_id":"IC_kwDOAHF7Ec5qvz6d","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T15:08:14Z","updated_at":"2023-11-02T15:08:14Z","author_association":"MEMBER","body":"> > @afs how are you testing this, on Jenkins? If so maybe I can trigger a build there to see if this builds OK now.\r\n> \r\n> I pull down the PR, or sometimes get as a diff, then run `mvn clean install` locally in the jena-fuseki-ui directory (having done `mvn clean install` at the top level sometime earlier in the day).\r\n> \r\n> [git-pull-pr.txt](https://github.com/apache/jena/files/13239917/git-pull-pr.txt)\r\n> \r\n> ```\r\n> git-pull-pr upstream 2055 ui5\r\n> ```\r\n> \r\n> where \"upstream\" is git remote in .git/config and is the apache/jena.\r\n\r\nGot it, so I will try the `mvn clean install` in the UI project next time.\r\n\r\nYour script is way superior to my dork script :laughing: https://github.com/kinow/dork-scripts/blob/master/git/checkout-pr.sh","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1790918301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1791168657","html_url":"https://github.com/apache/jena/issues/2054#issuecomment-1791168657","issue_url":"https://api.github.com/repos/apache/jena/issues/2054","id":1791168657,"node_id":"IC_kwDOAHF7Ec5qwxCR","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-02T17:19:23Z","updated_at":"2023-11-02T17:19:23Z","author_association":"MEMBER","body":"The build failure seems to be: \r\n```\r\n[INFO] --- frontend:1.14.2:yarn (yarn install) @ jena-fuseki-ui ---\r\n[INFO] Running 'yarn install --frozen-lockfile' in /home/jenkins/workspace/Jena/Jena_Development_Test/jena-fuseki2/jena-fuseki-ui\r\n[INFO] node: /lib/x86_64-linux-gnu/libc.so.6: version `GLIBC_2.28' not found (required by node)\r\n```\r\nso not a Jena build issue.\r\n\r\nLooks like:\r\nhttps://stackoverflow.com/questions/72921215/getting-glibc-2-28-not-found\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1791168657/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1794325269","html_url":"https://github.com/apache/jena/issues/2076#issuecomment-1794325269","issue_url":"https://api.github.com/repos/apache/jena/issues/2076","id":1794325269,"node_id":"IC_kwDOAHF7Ec5q8zsV","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-06T08:43:13Z","updated_at":"2023-11-06T08:43:13Z","author_association":"MEMBER","body":"> This test below fails with Jena 4.9.0 and 4.10.0 (and probably earlier versions as well)\r\n\r\nThis could be quite sensitive to the environment (e.g. version of Java JDK) - would it be possible to run this in some earlier versions? `GraphMem` did change (clean up) in 4.9.0 although I don't think any behaviour will have changed.\r\n\r\nDoes it need to involve the async parser or does `RDFParser.source(\"\").parse(graph)` also exhibit the problem?\r\n\r\n> Also, GraphMem is no longer the instance returned by GraphFactory.createDefaultGraph().\r\n\r\nCorrect - in Jena 5.0.0, there is a completely new in-memory graph implementation, `GraphMem2`  which is also available in Jena4.9.0. It is a term-equality  graph.\r\n\r\n> Furthermore, the default graph's iterator in Jena 5.0.0 no longer supports remove() - so I wonder whether use of remove() on a Graph's iterator is generally considered discouraged.\r\n\r\nNot all implementations can provide `remove()` - either it is fundamentally incompatible with an implementation or a lot for work, including some amount of slow down, for little use.\r\n\r\nAnd of course, the Java world is moving to towards streams and flows.\r\n\r\nWe're moving to common semantics across different graph/datasets - we won't ever complete get there, sometimes the differences are for positive reasons. Term-equality and no support for iterator.remove is part of that.\r\n\r\nFeedback on the wider issues welcome - ideally on dev@jena.\r\n  ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1794325269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1794791236","html_url":"https://github.com/apache/jena/issues/2076#issuecomment-1794791236","issue_url":"https://api.github.com/repos/apache/jena/issues/2076","id":1794791236,"node_id":"IC_kwDOAHF7Ec5q-ldE","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-06T13:07:46Z","updated_at":"2023-11-06T13:08:32Z","author_association":"CONTRIBUTOR","body":"> This could be quite sensitive to the environment\r\n\r\nIt is at least sensitive to the exact state of `HashCommon.keys` and this depends on the hash codes which might differ between JVMs. As mentioned, the provided dataset `graph-mem-broken-iterator-delete-01.ttl` is an ordered dump of that data structure from my debugger (hence the comments with `null`). \r\n\r\nMy environment:\r\n```\r\njava -version\r\nopenjdk version \"17.0.8.1\" 2023-08-24\r\n\r\n# Java running on Ubuntu 22.04 and installed using\r\nsudo apt install openjdk-17-jdk\r\n```\r\n\r\n> Does it need to involve the async parser or does RDFParser.source(\"\").parse(graph) also exhibit the problem?\r\n\r\nNo, it also happens with `RDFDataMgr.read(graph, \"graph-mem-broken-iterator-delete-01.ttl\");`\r\nThe AsyncParser code was just a leftover from my experiments.\r\nThe important part is that the triples are added to the graph in order - swapping two random triples will cause the test to succeed.\r\n\r\n> Not all implementations can provide remove()\r\n\r\nYes, I see that it can get very difficult to implement that correctly and efficiently.\r\n\r\n> Would it be possible to run this in some earlier versions? \r\n\r\nWill try and report back\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1794791236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1794946884","html_url":"https://github.com/apache/jena/issues/2076#issuecomment-1794946884","issue_url":"https://api.github.com/repos/apache/jena/issues/2076","id":1794946884,"node_id":"IC_kwDOAHF7Ec5q_LdE","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-06T14:24:56Z","updated_at":"2023-11-06T14:24:56Z","author_association":"MEMBER","body":"I've reproduced something.\r\n\r\n> I don't understand the hash table code well enough to judge whether multiple moves are valid or not.\r\n\r\nSame.\r\n\r\n> The issue seems to be that in HashCommon.removeFrom a key may be moved multiple times causing it to be added multiple times to the movedKeys list HashCommon.BasicKeyIterator.movedKeys Maybe the fix is to make movedKeys a Set (LinkedHashSet for determinism) instead?\r\n\r\nA quick go at using `LinkedHashSet` seems to touch the code in various ways; the current `List` is used for indexed iteration, and is safe from CCME because it does index-into-a-list whereas a `LinkedHashSet` will need an iterator that might be vulnerable. \r\n\r\nSimple solutions which are less intrusive for the rest of the now-legacy code:\r\n\r\nIgnore the delete in `NiceIterator` where it says \"null == removeFrom\"\r\nThis needs a fix to the size because that goes to -1. Some case may not be going to \"all cleared\" and there have been non-exception missing deletes going on. We just don't know.\r\n\r\nOr `HashCommon.remove` where \"size == 0\".\r\n\r\nA safe way modelled after your suggestion is to make the list have uniqueness by changing `HashCommon.BasicKeyIterator.remove#L400`\r\n\r\n```\r\n            if (moved != null && ! movedKeys.contains(moved) )\r\n                movedKeys.add( moved );\r\n```\r\nwhich works although the performance might (unproven) be impacted. (But is it so important to support remove efficiently in all cases?) `LinkedHashSet` would have it's own overheads.\r\n\r\n> With GraphMem of jena 5.0.0-SNAPSHOT it works but this appears due to hash codes having changed rather than that the underlying issue was solved:\r\n\r\nYes - there is an overhaul of Node* in Jena5.\r\n\r\nPutting back the hashcode for Node_Blank in Jena4 doesn't help - presumably because the literal hashcodes have also changed, and which aren't so easy to extract that from the new code.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1794946884/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1798088523","html_url":"https://github.com/apache/jena/issues/2076#issuecomment-1798088523","issue_url":"https://api.github.com/repos/apache/jena/issues/2076","id":1798088523,"node_id":"IC_kwDOAHF7Ec5rLKdL","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-07T09:08:18Z","updated_at":"2023-11-07T11:07:32Z","author_association":"MEMBER","body":"The fix applied in #2080 and #2081 is the minimal change at `HashCommon.BasicKeyIterator.remove#L400`\r\n\r\n```\r\n        if (moved != null && ! movedKeys.contains(moved) )\r\n            movedKeys.add( moved );\r\n```\r\n\r\nThis may not be the best fix, but better to fix now and fix again later if a better solution is found.\r\n\r\nThe jena4 branch includes the report data and test case (which itself was tested to fail without the fix!)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1798088523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1798511217","html_url":"https://github.com/apache/jena/issues/2076#issuecomment-1798511217","issue_url":"https://api.github.com/repos/apache/jena/issues/2076","id":1798511217,"node_id":"IC_kwDOAHF7Ec5rMxpx","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-07T13:25:00Z","updated_at":"2023-11-07T13:25:00Z","author_association":"CONTRIBUTOR","body":"> This may not be the best fix, but better to fix now and fix again later if a better solution is found.\r\n\r\nAgreed.\r\n\r\n> The jena4 branch includes the report data and test case (which itself was tested to fail without the fix!)\r\n\r\nThanks a lot - I guess further tests from my side on older versions are no longer needed then.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1798511217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1799295228","html_url":"https://github.com/apache/jena/issues/2054#issuecomment-1799295228","issue_url":"https://api.github.com/repos/apache/jena/issues/2054","id":1799295228,"node_id":"IC_kwDOAHF7Ec5rPxD8","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-07T17:29:39Z","updated_at":"2023-11-07T17:29:39Z","author_association":"MEMBER","body":"Te build situation has already been reported: https://issues.apache.org/jira/browse/INFRA-23954\r\n\r\nThe issue is `nanoid` 5.* \r\n```\r\n[INFO] error nanoid@5.0.2: The engine \"node\" is incompatible with this module. Expected version \"^18 || >=20\". Got \"16.20.2\"\r\n```\r\nIt is a nanoid v4->v5 change.\r\n\r\nMaybe we can use nanoid v4.0.2.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1799295228/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1799296733","html_url":"https://github.com/apache/jena/issues/2054#issuecomment-1799296733","issue_url":"https://api.github.com/repos/apache/jena/issues/2054","id":1799296733,"node_id":"IC_kwDOAHF7Ec5rPxbd","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-07T17:30:29Z","updated_at":"2023-11-07T17:30:29Z","author_association":"MEMBER","body":"We have some overrides:\r\n```\r\n  \"overrides\": {\r\n    \"terser\": \"^5.14.2\",\r\n    \"loader-utils\": \"^1.4.2\",\r\n    \"cookiejar\": \"^2.1.4\",\r\n    \"json5\": \"^1.0.2\"\r\n  }\r\n```\r\nAre these still necessary?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1799296733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1799549193","html_url":"https://github.com/apache/jena/issues/2076#issuecomment-1799549193","issue_url":"https://api.github.com/repos/apache/jena/issues/2076","id":1799549193,"node_id":"IC_kwDOAHF7Ec5rQvEJ","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-07T18:52:59Z","updated_at":"2023-11-07T18:52:59Z","author_association":"MEMBER","body":"> further tests from my side\r\n\r\nWell, we can't fix old releases in place :-) so probably not useful. While it is very hash code and order dependent, your test case is reliable. The code doesn't appear to have changed in a long time. If old version pass, we can't be sure if it is some obscure hash change.\r\n\r\nThank for the report - it's possible this a Jena2 bug.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1799549193/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1799926545","html_url":"https://github.com/apache/jena/issues/2054#issuecomment-1799926545","issue_url":"https://api.github.com/repos/apache/jena/issues/2054","id":1799926545,"node_id":"IC_kwDOAHF7Ec5rSLMR","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-07T20:19:56Z","updated_at":"2023-11-07T20:19:56Z","author_association":"MEMBER","body":">It is a nanoid v4->v5 change.\r\n>\r\n>Maybe we can use nanoid v4.0.2.\r\n\r\nNot sure, haven't seen that error before -- I always use GH Actions to test Node apps, where I just say\r\n\r\n```yaml\r\n      - name: Setup Node\r\n        uses: actions/setup-node@v4\r\n        with:\r\n          node-version: '18'\r\n          cache: yarn\r\n```\r\n\r\n>We have some overrides:\r\n>Are these still necessary?\r\n\r\nHard to say. The overrides are handy as they solve dependency issues like the ones we had with security, but at the cost that later you need to inspect the dependency tree with the resolution, check NPM for releases, modify your `package.json`, check the dependency tree again, and confirm that the override can be removed.\r\n\r\nCreated https://github.com/apache/jena/issues/2082 to track that :+1: \r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1799926545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1803625838","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1803625838","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1803625838,"node_id":"IC_kwDOAHF7Ec5rgSVu","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-09T11:07:57Z","updated_at":"2023-11-09T11:07:57Z","author_association":"MEMBER","body":"I'm unable to reproduce this, the given input file validates successfully `riot --validate` with Jena 4.8.0, 4.9.0, 4.10.0\r\n\r\nAlso the error stack trace you show refers to a Line/Column that is a blank line in your linked file so that isn't the actual data you are encountering the error on.  Your bug report implies that there is some data transformation happening in your environment so you need to provide all the steps necessary to reproduce this issue in order for us to help you.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1803625838/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1803653482","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1803653482","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1803653482,"node_id":"IC_kwDOAHF7Ec5rgZFq","user":{"login":"mpro7","id":29251288,"node_id":"MDQ6VXNlcjI5MjUxMjg4","avatar_url":"https://avatars.githubusercontent.com/u/29251288?v=4","gravatar_id":"","url":"https://api.github.com/users/mpro7","html_url":"https://github.com/mpro7","followers_url":"https://api.github.com/users/mpro7/followers","following_url":"https://api.github.com/users/mpro7/following{/other_user}","gists_url":"https://api.github.com/users/mpro7/gists{/gist_id}","starred_url":"https://api.github.com/users/mpro7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpro7/subscriptions","organizations_url":"https://api.github.com/users/mpro7/orgs","repos_url":"https://api.github.com/users/mpro7/repos","events_url":"https://api.github.com/users/mpro7/events{/privacy}","received_events_url":"https://api.github.com/users/mpro7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-09T11:27:11Z","updated_at":"2023-11-09T11:31:31Z","author_association":"NONE","body":"@rvesse thanks for the replay. Sorry, the stacktrace was somehow truncated. [Here is the link](https://github.com/dasch-swiss/dsp-api/pull/2911/files#annotation_15514320445) how it exactly looks like (the bottom error). In the test the file is read and process with `parseWithStreamProcessor` method which uses `jena.riot.RDFParser` to do so. Result then should be written into `ByteArrayOutputStream` but it stucks on `RDFParser.parse()` method.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1803653482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1803926278","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1803926278","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1803926278,"node_id":"IC_kwDOAHF7Ec5rhbsG","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-09T14:22:18Z","updated_at":"2023-11-09T14:22:18Z","author_association":"MEMBER","body":"> [Here is the link](https://github.com/dasch-swiss/dsp-api/pull/2911/files#annotation_15514320445)\r\n\r\nAgain no idea what that link is for, it's to a diff in one of your projects PRs and there's no error message present there (nor any Jena related code) 😕 ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1803926278/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1804006629","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1804006629","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1804006629,"node_id":"IC_kwDOAHF7Ec5rhvTl","user":{"login":"mpro7","id":29251288,"node_id":"MDQ6VXNlcjI5MjUxMjg4","avatar_url":"https://avatars.githubusercontent.com/u/29251288?v=4","gravatar_id":"","url":"https://api.github.com/users/mpro7","html_url":"https://github.com/mpro7","followers_url":"https://api.github.com/users/mpro7/followers","following_url":"https://api.github.com/users/mpro7/following{/other_user}","gists_url":"https://api.github.com/users/mpro7/gists{/gist_id}","starred_url":"https://api.github.com/users/mpro7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mpro7/subscriptions","organizations_url":"https://api.github.com/users/mpro7/orgs","repos_url":"https://api.github.com/users/mpro7/repos","events_url":"https://api.github.com/users/mpro7/events{/privacy}","received_events_url":"https://api.github.com/users/mpro7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-09T15:05:25Z","updated_at":"2023-11-09T15:06:03Z","author_association":"NONE","body":"@rvesse sorry, this is because I've updated the branch and instead of commit link I've pasted some failing tests link, which seems to change after the branch update. [Here is the correct link](https://github.com/dasch-swiss/dsp-api/pull/2911/commits/1058ee6777e4def029d5790559735a6afb47460b). To see the full stack trace, scroll down to last error and click raw output.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1804006629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1804303846","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1804303846","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1804303846,"node_id":"IC_kwDOAHF7Ec5ri33m","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-09T18:01:05Z","updated_at":"2023-11-09T19:17:45Z","author_association":"MEMBER","body":"> I've noticed that v4.9.0 introduced new Turtle format,\r\n\r\nIt is a new output format and it isn't used by default.\r\n\r\nI can't see what's happening other than it seems the parsing is from an input stream given the parser - setup at line 139.\r\n\r\nThere isn't an LBRACE (a `{` ) in the file.\r\n\r\nThis would be the error if the input stream is actually TriG syntax, the parser syntax is set to Turtle, and a named graph is in the input.\r\n\r\nPlease could we have a complete, reproducible, minimal example.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1804303846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1806929000","html_url":"https://github.com/apache/jena/pull/2084#issuecomment-1806929000","issue_url":"https://api.github.com/repos/apache/jena/issues/2084","id":1806929000,"node_id":"IC_kwDOAHF7Ec5rs4xo","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-11T22:06:28Z","updated_at":"2023-11-11T22:06:28Z","author_association":"MEMBER","body":"Hopefully, this will unblock the ASF build.\r\n\r\nUbuntu 18.04 EOL was May 2023 but is still around.  Maybe ASF Jenkins will upgrade sometime ([INFRA-23954](https://issues.apache.org/jira/browse/INFRA-23954)) and we can reverse this PR.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1806929000/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1806931246","html_url":"https://github.com/apache/jena/pull/2084#issuecomment-1806931246","issue_url":"https://api.github.com/repos/apache/jena/issues/2084","id":1806931246,"node_id":"IC_kwDOAHF7Ec5rs5Uu","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-11T22:18:03Z","updated_at":"2023-11-11T22:18:03Z","author_association":"MEMBER","body":"All good. It doesn't affect the final JS created for Jena, only the development part and we can workaround it until infra sorts out the versions in Jenkins :shrug: Thanks for the PR!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1806931246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1808460820","html_url":"https://github.com/apache/jena/issues/2088#issuecomment-1808460820","issue_url":"https://api.github.com/repos/apache/jena/issues/2088","id":1808460820,"node_id":"IC_kwDOAHF7Ec5ryuwU","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-13T16:04:57Z","updated_at":"2023-11-13T16:04:57Z","author_association":"MEMBER","body":"Done with #2054\r\n\r\nThis issue added for better tracking.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1808460820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1810362743","html_url":"https://github.com/apache/jena/issues/2092#issuecomment-1810362743","issue_url":"https://api.github.com/repos/apache/jena/issues/2092","id":1810362743,"node_id":"IC_kwDOAHF7Ec5r5_F3","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-14T14:44:51Z","updated_at":"2023-11-14T14:44:51Z","author_association":"MEMBER","body":"I think this is the longstanding JDK bug - https://bugs.openjdk.org/browse/JDK-4715154 - that affects memory mapped files on Windows\r\n\r\nTerminating the JVM is the only way to allow these files to be deleted.\r\n\r\nYou might want to use `Files.createTempDirectory()` rather than hardcoding your temporary data location, that way the OS will put the test dataset into its temporary files area and those will naturally get cleaned up by the OS over time anyway.  Then you don't need to worry about explicitly deleting the files in your tests.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1810362743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1810375001","html_url":"https://github.com/apache/jena/issues/2092#issuecomment-1810375001","issue_url":"https://api.github.com/repos/apache/jena/issues/2092","id":1810375001,"node_id":"IC_kwDOAHF7Ec5r6CFZ","user":{"login":"luigi-asprino","id":11695205,"node_id":"MDQ6VXNlcjExNjk1MjA1","avatar_url":"https://avatars.githubusercontent.com/u/11695205?v=4","gravatar_id":"","url":"https://api.github.com/users/luigi-asprino","html_url":"https://github.com/luigi-asprino","followers_url":"https://api.github.com/users/luigi-asprino/followers","following_url":"https://api.github.com/users/luigi-asprino/following{/other_user}","gists_url":"https://api.github.com/users/luigi-asprino/gists{/gist_id}","starred_url":"https://api.github.com/users/luigi-asprino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luigi-asprino/subscriptions","organizations_url":"https://api.github.com/users/luigi-asprino/orgs","repos_url":"https://api.github.com/users/luigi-asprino/repos","events_url":"https://api.github.com/users/luigi-asprino/events{/privacy}","received_events_url":"https://api.github.com/users/luigi-asprino/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-14T14:51:29Z","updated_at":"2023-11-14T14:51:29Z","author_association":"NONE","body":"Hi, \r\nthanks for the hints. We need to explicitly delete the TDB and recreate a new one in a given location. I will try to come up with a workaround.  ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1810375001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1810375476","html_url":"https://github.com/apache/jena/issues/2092#issuecomment-1810375476","issue_url":"https://api.github.com/repos/apache/jena/issues/2092","id":1810375476,"node_id":"IC_kwDOAHF7Ec5r6CM0","user":{"login":"luigi-asprino","id":11695205,"node_id":"MDQ6VXNlcjExNjk1MjA1","avatar_url":"https://avatars.githubusercontent.com/u/11695205?v=4","gravatar_id":"","url":"https://api.github.com/users/luigi-asprino","html_url":"https://github.com/luigi-asprino","followers_url":"https://api.github.com/users/luigi-asprino/followers","following_url":"https://api.github.com/users/luigi-asprino/following{/other_user}","gists_url":"https://api.github.com/users/luigi-asprino/gists{/gist_id}","starred_url":"https://api.github.com/users/luigi-asprino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luigi-asprino/subscriptions","organizations_url":"https://api.github.com/users/luigi-asprino/orgs","repos_url":"https://api.github.com/users/luigi-asprino/repos","events_url":"https://api.github.com/users/luigi-asprino/events{/privacy}","received_events_url":"https://api.github.com/users/luigi-asprino/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-14T14:51:46Z","updated_at":"2023-11-14T14:51:46Z","author_association":"NONE","body":"This is definitely not a Jena bug.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1810375476/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1810416332","html_url":"https://github.com/apache/jena/issues/2092#issuecomment-1810416332","issue_url":"https://api.github.com/repos/apache/jena/issues/2092","id":1810416332,"node_id":"IC_kwDOAHF7Ec5r6MLM","user":{"login":"luigi-asprino","id":11695205,"node_id":"MDQ6VXNlcjExNjk1MjA1","avatar_url":"https://avatars.githubusercontent.com/u/11695205?v=4","gravatar_id":"","url":"https://api.github.com/users/luigi-asprino","html_url":"https://github.com/luigi-asprino","followers_url":"https://api.github.com/users/luigi-asprino/followers","following_url":"https://api.github.com/users/luigi-asprino/following{/other_user}","gists_url":"https://api.github.com/users/luigi-asprino/gists{/gist_id}","starred_url":"https://api.github.com/users/luigi-asprino/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/luigi-asprino/subscriptions","organizations_url":"https://api.github.com/users/luigi-asprino/orgs","repos_url":"https://api.github.com/users/luigi-asprino/repos","events_url":"https://api.github.com/users/luigi-asprino/events{/privacy}","received_events_url":"https://api.github.com/users/luigi-asprino/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-14T15:07:52Z","updated_at":"2023-11-14T15:07:52Z","author_association":"NONE","body":"Btw a simple workaround would be clearing the TDB instead of deleting it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1810416332/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1811980367","html_url":"https://github.com/apache/jena/issues/2083#issuecomment-1811980367","issue_url":"https://api.github.com/repos/apache/jena/issues/2083","id":1811980367,"node_id":"IC_kwDOAHF7Ec5sAKBP","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-15T08:07:34Z","updated_at":"2023-11-15T08:07:34Z","author_association":"MEMBER","body":"@mpro7 Any progress on a reproducible, minimal example?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1811980367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1811989992","html_url":"https://github.com/apache/jena/pull/2090#issuecomment-1811989992","issue_url":"https://api.github.com/repos/apache/jena/issues/2090","id":1811989992,"node_id":"IC_kwDOAHF7Ec5sAMXo","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-15T08:15:21Z","updated_at":"2023-11-15T08:15:21Z","author_association":"MEMBER","body":"> It this is already adopted in the browsers (i.e. Firefox LTS -- which is quite behind their bleeding edge -- and chromium/chrome for a while, and maybe safari?) then at some point we can drop axios too.\r\n\r\nWe are plagued with LTS! And they don't stop at the end-of-life point either.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1811989992/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1814070295","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1814070295","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1814070295,"node_id":"IC_kwDOAHF7Ec5sIIQX","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-16T09:23:16Z","updated_at":"2023-11-16T09:23:16Z","author_association":"MEMBER","body":"Could you provide a complete reproducible example please?  We're missing the sample input data that you've used to build the text index that exhibits this behaviour","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1814070295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1814654091","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1814654091","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1814654091,"node_id":"IC_kwDOAHF7Ec5sKWyL","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-16T15:15:32Z","updated_at":"2023-11-29T14:29:32Z","author_association":"NONE","body":"Yes, sure. \r\n\r\nI have been trying to use a default query using mt:defQuery - not searching in the note and multiple other fields and a second query using mt:includeNotes - including the note field and possibly other fields.\r\n\r\nI have simplified my use case. \r\n\r\nTest data - drinks.nt\r\n\r\n```\r\n<http://id.example.test/1>\t<http://www.w3.org/2000/01/rdf-schema#label>\t\"beer\"@en .\r\n<http://id.example.test/1>\t<http://id.example.test/vocab/#altLabel>\t\"pint\"@en .\r\n<http://id.example.test/2>\t<http://id.example.test/vocab/#alt_label>\t\"ale\"@en .\r\n<http://id.example.test/1>\t<http://id.example.test/mx/#alt_label>\t\"pivečko\"@cs .\r\n<http://id.example.test/1>\t<http://id.example.test/vocab/#note>\t\"Booze is a pleasure\"@en .\r\n<http://id.example.test/1>\t<http://id.example.test/vocab/#note>\t\"Chlast je slast\"@cs .\r\n<http://id.example.test/2>\t<http://www.w3.org/2000/01/rdf-schema#label>\t\"wine\"@en .\r\n<http://id.example.test/2>\t<http://id.example.test/vocab/#altLabel>\t\"champagne\"@en .\r\n<http://id.example.test/2>\t<http://id.example.test/vocab/#alt_label>\t\"burgundy\"@en .\r\n<http://id.example.test/2>\t<http://id.example.test/mx/#alt_label>\t\"víno\"@cs .\r\n<http://id.example.test/2>\t<http://id.example.test/vocab/#note>\t\"Red or white\"@en .\r\n<http://id.example.test/2>\t<http://id.example.test/vocab/#note>\t\"Červené či bílé\"@cs .\r\n```\r\n\r\nThe config - drinks.ttl\r\n\r\n```\r\n@prefix :        <http://localhost/jena_example/#> .\r\n@prefix rdf:     <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\r\n@prefix rdfs:    <http://www.w3.org/2000/01/rdf-schema#> .\r\n@prefix tdb2:    <http://jena.apache.org/2016/tdb#> .\r\n@prefix ja:      <http://jena.hpl.hp.com/2005/11/Assembler#> .\r\n@prefix text:    <http://jena.apache.org/text#> .\r\n@prefix fuseki:  <http://jena.apache.org/fuseki#> .\r\n@prefix mt:      <http://id.example.test/vocab/#> .\r\n@prefix mx:      <http://id.example.test/mx/#> .\r\n\r\n## Initialize text query\r\n[] ja:loadClass       \"org.apache.jena.query.text.TextQuery\" .\r\n# A TextDataset is a regular dataset with a text index.\r\ntext:TextDataset      rdfs:subClassOf   ja:RDFDataset .\r\n# Lucene index\r\ntext:TextIndexLucene  rdfs:subClassOf   text:TextIndex .\r\n# Elasticsearch index\r\ntext:TextIndexES    rdfs:subClassOf   text:TextIndex .\r\n\r\n## ---------------------------------------------------------------\r\n## This URI must be fixed - it's used to assemble the text dataset.\r\n\r\n:text_dataset\r\n    a text:TextDataset ;\r\n    text:dataset   <#dataset> ;\r\n    text:index     <#indexLucene> ;\r\n    .\r\n\r\n# A TDB dataset used for RDF storage\r\n<#dataset> \r\n    a tdb2:DatasetTDB2 ;\r\n    tdb2:location  \"d:/Data/jena/databases/drinks\" ;\r\n    .\r\n\r\n# Text index description\r\n<#indexLucene> \r\n    a text:TextIndexLucene ;\r\n    text:directory \"d:/Data/jena/indexes/drinks\" ;\r\n    text:entityMap <#entMap> ;\r\n    text:storeValues true ;\r\n    text:analyzer [\r\n       a text:ConfigurableAnalyzer ;\r\n       text:tokenizer text:StandardTokenizer ;\r\n       text:filters (text:ASCIIFoldingFilter text:LowerCaseFilter)\r\n       ] ;\r\n    text:queryParser text:AnalyzingQueryParser ;\r\n    text:multilingualSupport true ;\r\n    text:propLists (\r\n        [ text:propListProp mt:defQuery ;\r\n          text:props ( \r\n             rdfs:label\r\n               mt:altLabel\r\n               mt:alt_label\r\n             ) ;\r\n        ]\r\n        [ text:propListProp mt:includeNotes ;\r\n          text:props ( \r\n             rdfs:label\r\n               mt:altLabel\r\n               mt:alt_label\r\n               mt:note\r\n             ) ;\r\n        ]\r\n        [ text:propListProp mt:testQuery ;\r\n          text:props ( \r\n             rdfs:label\r\n               mx:alt_label\r\n             ) ;\r\n        ]\r\n    ) ;\r\n     .\r\n\r\n<#entMap> \r\n    a text:EntityMap ;\r\n    text:defaultField     \"ftext\" ;\r\n    text:entityField      \"uri\" ;\r\n    text:uidField         \"uid\" ;\r\n    text:langField        \"lang\" ;\r\n    text:graphField       \"graph\" ;\r\n    text:map (\r\n         [ text:field \"ftext\" ; text:predicate rdfs:label ]\r\n         [ text:field \"ftext\" ; text:predicate mt:altLabel ]\r\n         [ text:field \"ftext\" ; text:predicate mt:alt_label ]\r\n         [ text:field \"ftext\" ; text:predicate mt:note ]\r\n         ) .\r\n\r\n<#service_text_tdb> \r\n    a fuseki:Service ;\r\n    rdfs:label                      \"Drinks TEST\" ;\r\n    fuseki:name                     \"drinks\" ;\r\n    fuseki:serviceQuery             \"query\" ;\r\n    fuseki:serviceQuery             \"sparql\" ;\r\n    fuseki:serviceUpdate            \"update\" ;\r\n    fuseki:serviceUpload            \"upload\" ;\r\n    fuseki:serviceReadGraphStore    \"get\" ;\r\n    fuseki:serviceReadWriteGraphStore    \"data\" ;\r\n    fuseki:dataset                  :text_dataset ;\r\n    .\r\n\r\n```\r\n\r\nLoad to Jena\r\n\r\n      tdb2_tdbloader --loc %FUSEKI_BASE%/databases/drinks _imports/drinks.nt\r\n\r\nIndex\r\n\r\n      java -cp %FUSEKI_HOME%/fuseki-server.jar jena.textindexer --desc=configuration/drinks.ttl\r\n\r\nThe queries at http://localhost:3030/#/dataset/drinks/query\r\n\r\n```\r\nPREFIX rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#>\r\nPREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>\r\nPREFIX xsd:  <http://www.w3.org/2001/XMLSchema#>\r\nPREFIX owl:  <http://www.w3.org/2002/07/owl#>\r\nPREFIX text: <http://jena.apache.org/text#>\r\nPREFIX mt:   <http://id.example.test/vocab/#> \r\n\r\n# Query #1\r\n\r\nselect * where {\r\n?s text:query (\"beer white\") \r\n}\r\n```\r\n\r\n=> 2 hits - OK\r\n\r\n```\r\n# Query #2\r\n\r\nselect * where {\r\n?s text:query (mt:includeNotes \"white\") \r\n}\r\n```\r\n\r\n=> 1 hit - OK\r\n\r\n```\r\n# Query #3\r\n\r\nselect * where {\r\n?s text:query (mt:defQuery \"white\") \r\n}\r\n```\r\n\r\n=> 1 hit - but should it not be 0 ? Because the \"white\" string is only present in the note field ?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1814654091/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1814856451","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1814856451","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1814856451,"node_id":"IC_kwDOAHF7Ec5sLIMD","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-16T17:00:17Z","updated_at":"2023-11-29T13:39:22Z","author_association":"NONE","body":"Observation 1:\r\n\r\nNOT TRUE - see https://github.com/apache/jena/issues/2094#issuecomment-1831912164 - When a field/predicate name in the text:props definition contains underscore _ - ie. alt_label\r\n\r\n```\r\n        [ text:propListProp mt:testQuery ;\r\n          text:props ( \r\n             rdfs:label\r\n               mt:altLabel\r\n               mx:alt_label\r\n             ) ;\r\n        ]\r\n```\r\n\r\n- the query using this prop silently fails - returning 0 hits - which is my original case/issue\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1814856451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1816027659","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1816027659","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1816027659,"node_id":"IC_kwDOAHF7Ec5sPmIL","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-17T09:30:33Z","updated_at":"2023-11-17T09:30:33Z","author_association":"MEMBER","body":"Can you describe why this test is flaky, or show an environment where it fails?\r\n\r\nThe test case you mention is already designed to be resistant to variable ordering of the returned injections so not sure what this is gaining us here","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1816027659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1816947521","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1816947521","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1816947521,"node_id":"IC_kwDOAHF7Ec5sTGtB","user":{"login":"wang3820","id":44508845,"node_id":"MDQ6VXNlcjQ0NTA4ODQ1","avatar_url":"https://avatars.githubusercontent.com/u/44508845?v=4","gravatar_id":"","url":"https://api.github.com/users/wang3820","html_url":"https://github.com/wang3820","followers_url":"https://api.github.com/users/wang3820/followers","following_url":"https://api.github.com/users/wang3820/following{/other_user}","gists_url":"https://api.github.com/users/wang3820/gists{/gist_id}","starred_url":"https://api.github.com/users/wang3820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang3820/subscriptions","organizations_url":"https://api.github.com/users/wang3820/orgs","repos_url":"https://api.github.com/users/wang3820/repos","events_url":"https://api.github.com/users/wang3820/events{/privacy}","received_events_url":"https://api.github.com/users/wang3820/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-17T19:09:44Z","updated_at":"2023-11-17T19:09:44Z","author_association":"CONTRIBUTOR","body":"> Can you describe why this test is flaky, or show an environment where it fails?\r\n> \r\n> The test case you mention is already designed to be resistant to variable ordering of the returned injections so not sure what this is gaining us here\r\n\r\n**Nondex** was used to check and locate the flakiness in the test. The test can be reproduced using the following command:\r\n```shell\r\nmvn install -pl jena-arq -am -DskipTests\r\nmvn -pl jena-arq test -Dtest=org.apache.jena.query.TestParameterizedSparqlString#test_param_string_injection_10\r\nmvn -pl jena-arq edu.illinois:nondex-maven-plugin:2.1.7-SNAPSHOT:nondex -Dtest=org.apache.jena.query.TestParameterizedSparqlString#test_param_string_injection_10\r\n``` \r\n\r\nHow nondex works is that it shuffles collection objects that does not guarantee order, like `HashMap`, while running the test and see it fails because of some assumptions were made based on the order is maintained. From my understanding, since the variable ordering is retrieved from the `HashMap`, the returned injection order could be wrong. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1816947521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817007176","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1817007176","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1817007176,"node_id":"IC_kwDOAHF7Ec5sTVRI","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-17T19:58:03Z","updated_at":"2023-11-17T19:58:03Z","author_association":"MEMBER","body":"What's the repo URL to get to `edu.illinois:nondex-maven-plugin`?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817007176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817271890","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1817271890","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1817271890,"node_id":"IC_kwDOAHF7Ec5sUV5S","user":{"login":"wang3820","id":44508845,"node_id":"MDQ6VXNlcjQ0NTA4ODQ1","avatar_url":"https://avatars.githubusercontent.com/u/44508845?v=4","gravatar_id":"","url":"https://api.github.com/users/wang3820","html_url":"https://github.com/wang3820","followers_url":"https://api.github.com/users/wang3820/followers","following_url":"https://api.github.com/users/wang3820/following{/other_user}","gists_url":"https://api.github.com/users/wang3820/gists{/gist_id}","starred_url":"https://api.github.com/users/wang3820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang3820/subscriptions","organizations_url":"https://api.github.com/users/wang3820/orgs","repos_url":"https://api.github.com/users/wang3820/repos","events_url":"https://api.github.com/users/wang3820/events{/privacy}","received_events_url":"https://api.github.com/users/wang3820/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-18T00:05:53Z","updated_at":"2023-11-18T00:05:53Z","author_association":"CONTRIBUTOR","body":"https://github.com/TestingResearchIllinois/NonDex; however, for JAVA 17 projects, you might need to use \r\n```shell\r\ngit clone https://github.com/kaiyaok2/NonDex\r\ncd NonDex\r\ngit checkout support_java_17\r\nmvn clean install -DskipTests\r\n```\r\nto install version 2.1.7. \r\n\r\nThanks for your patience. \r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817271890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817855973","html_url":"https://github.com/apache/jena/pull/2097#issuecomment-1817855973","issue_url":"https://api.github.com/repos/apache/jena/issues/2097","id":1817855973,"node_id":"IC_kwDOAHF7Ec5sWkfl","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-19T13:28:16Z","updated_at":"2023-11-19T13:28:16Z","author_association":"MEMBER","body":"#2098 fixes the test.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817855973/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817875951","html_url":"https://github.com/apache/jena/pull/2097#issuecomment-1817875951","issue_url":"https://api.github.com/repos/apache/jena/issues/2097","id":1817875951,"node_id":"IC_kwDOAHF7Ec5sWpXv","user":{"login":"wang3820","id":44508845,"node_id":"MDQ6VXNlcjQ0NTA4ODQ1","avatar_url":"https://avatars.githubusercontent.com/u/44508845?v=4","gravatar_id":"","url":"https://api.github.com/users/wang3820","html_url":"https://github.com/wang3820","followers_url":"https://api.github.com/users/wang3820/followers","following_url":"https://api.github.com/users/wang3820/following{/other_user}","gists_url":"https://api.github.com/users/wang3820/gists{/gist_id}","starred_url":"https://api.github.com/users/wang3820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang3820/subscriptions","organizations_url":"https://api.github.com/users/wang3820/orgs","repos_url":"https://api.github.com/users/wang3820/repos","events_url":"https://api.github.com/users/wang3820/events{/privacy}","received_events_url":"https://api.github.com/users/wang3820/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-19T14:46:02Z","updated_at":"2023-11-19T14:46:02Z","author_association":"CONTRIBUTOR","body":"Thanks for letting me know. Should I close this draft now?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817875951/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817883199","html_url":"https://github.com/apache/jena/pull/2097#issuecomment-1817883199","issue_url":"https://api.github.com/repos/apache/jena/issues/2097","id":1817883199,"node_id":"IC_kwDOAHF7Ec5sWrI_","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-19T15:11:05Z","updated_at":"2023-11-19T16:16:28Z","author_association":"MEMBER","body":"If `AbstractTestPrefixMap` is the only place it occurs for PrefixMap/PrefixMapping (I'm guessing the test failure was in subclass `TestPrefixMapOverPrefixMapping`), then yes, I think we're done here.\r\n\r\nAnd you've altered us to be watchful in the future because the situation may also occur elsewhere.\r\n\r\nTests are mostly small scale and reordering due to rehashing is unlikely.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817883199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817900108","html_url":"https://github.com/apache/jena/pull/2097#issuecomment-1817900108","issue_url":"https://api.github.com/repos/apache/jena/issues/2097","id":1817900108,"node_id":"IC_kwDOAHF7Ec5sWvRM","user":{"login":"wang3820","id":44508845,"node_id":"MDQ6VXNlcjQ0NTA4ODQ1","avatar_url":"https://avatars.githubusercontent.com/u/44508845?v=4","gravatar_id":"","url":"https://api.github.com/users/wang3820","html_url":"https://github.com/wang3820","followers_url":"https://api.github.com/users/wang3820/followers","following_url":"https://api.github.com/users/wang3820/following{/other_user}","gists_url":"https://api.github.com/users/wang3820/gists{/gist_id}","starred_url":"https://api.github.com/users/wang3820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang3820/subscriptions","organizations_url":"https://api.github.com/users/wang3820/orgs","repos_url":"https://api.github.com/users/wang3820/repos","events_url":"https://api.github.com/users/wang3820/events{/privacy}","received_events_url":"https://api.github.com/users/wang3820/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-19T16:09:44Z","updated_at":"2023-11-19T16:09:44Z","author_association":"CONTRIBUTOR","body":"Great thanks. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817900108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817901883","html_url":"https://github.com/apache/jena/pull/2097#issuecomment-1817901883","issue_url":"https://api.github.com/repos/apache/jena/issues/2097","id":1817901883,"node_id":"IC_kwDOAHF7Ec5sWvs7","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-19T16:16:30Z","updated_at":"2023-11-19T16:16:30Z","author_association":"MEMBER","body":"Thanks!\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817901883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817905160","html_url":"https://github.com/apache/jena/pull/2097#issuecomment-1817905160","issue_url":"https://api.github.com/repos/apache/jena/issues/2097","id":1817905160,"node_id":"IC_kwDOAHF7Ec5sWwgI","user":{"login":"wang3820","id":44508845,"node_id":"MDQ6VXNlcjQ0NTA4ODQ1","avatar_url":"https://avatars.githubusercontent.com/u/44508845?v=4","gravatar_id":"","url":"https://api.github.com/users/wang3820","html_url":"https://github.com/wang3820","followers_url":"https://api.github.com/users/wang3820/followers","following_url":"https://api.github.com/users/wang3820/following{/other_user}","gists_url":"https://api.github.com/users/wang3820/gists{/gist_id}","starred_url":"https://api.github.com/users/wang3820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang3820/subscriptions","organizations_url":"https://api.github.com/users/wang3820/orgs","repos_url":"https://api.github.com/users/wang3820/repos","events_url":"https://api.github.com/users/wang3820/events{/privacy}","received_events_url":"https://api.github.com/users/wang3820/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-19T16:26:57Z","updated_at":"2023-11-19T16:26:57Z","author_association":"CONTRIBUTOR","body":"> If `AbstractTestPrefixMap` is the only place it occurs for PrefixMap/PrefixMapping (I'm guessing the test failure was in subclass `TestPrefixMapOverPrefixMapping`), then yes, I think we're done here.\r\n> \r\n> And you've altered us to be watchful in the future because the situation may also occur elsewhere.\r\n> \r\n> Tests are mostly small scale and reordering due to rehashing is unlikely.\r\n\r\nActually this problem also occurs in subclass`TestPrefixMapTDB1`, but #2098 fixes this too. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1817905160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1819017219","html_url":"https://github.com/apache/jena/issues/2101#issuecomment-1819017219","issue_url":"https://api.github.com/repos/apache/jena/issues/2101","id":1819017219,"node_id":"IC_kwDOAHF7Ec5sbAAD","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-20T12:57:21Z","updated_at":"2023-11-20T12:57:21Z","author_association":"CONTRIBUTOR","body":"The simpler solution is to provide a quick conversion from an object to a path and then use the PathFactory found in the sparql.path package.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1819017219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1819024768","html_url":"https://github.com/apache/jena/issues/2101#issuecomment-1819024768","issue_url":"https://api.github.com/repos/apache/jena/issues/2101","id":1819024768,"node_id":"IC_kwDOAHF7Ec5sbB2A","user":{"login":"Claudenw","id":2439838,"node_id":"MDQ6VXNlcjI0Mzk4Mzg=","avatar_url":"https://avatars.githubusercontent.com/u/2439838?v=4","gravatar_id":"","url":"https://api.github.com/users/Claudenw","html_url":"https://github.com/Claudenw","followers_url":"https://api.github.com/users/Claudenw/followers","following_url":"https://api.github.com/users/Claudenw/following{/other_user}","gists_url":"https://api.github.com/users/Claudenw/gists{/gist_id}","starred_url":"https://api.github.com/users/Claudenw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Claudenw/subscriptions","organizations_url":"https://api.github.com/users/Claudenw/orgs","repos_url":"https://api.github.com/users/Claudenw/repos","events_url":"https://api.github.com/users/Claudenw/events{/privacy}","received_events_url":"https://api.github.com/users/Claudenw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-20T13:02:16Z","updated_at":"2023-11-20T13:02:16Z","author_association":"CONTRIBUTOR","body":"Not needed -- use QueryBuilder `Converters.makeNode(Object) ` to create a node and then use the PathFactory from jena-arq to create the desired paths.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1819024768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1820587014","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1820587014","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1820587014,"node_id":"IC_kwDOAHF7Ec5sg_QG","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-21T09:58:54Z","updated_at":"2023-11-21T09:58:54Z","author_association":"MEMBER","body":"> How nondex works is that it shuffles collection objects that does not guarantee order, like `HashMap`, while running the test and see it fails because of some assumptions were made based on the order is maintained. From my understanding, since the variable ordering is retrieved from the `HashMap`, the returned injection order could be wrong.\r\n\r\nSo its actively shuffling the collection while the JVM is running, something that would **never** happen under normal circumstances?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1820587014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1821166502","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1821166502","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1821166502,"node_id":"IC_kwDOAHF7Ec5sjMum","user":{"login":"wang3820","id":44508845,"node_id":"MDQ6VXNlcjQ0NTA4ODQ1","avatar_url":"https://avatars.githubusercontent.com/u/44508845?v=4","gravatar_id":"","url":"https://api.github.com/users/wang3820","html_url":"https://github.com/wang3820","followers_url":"https://api.github.com/users/wang3820/followers","following_url":"https://api.github.com/users/wang3820/following{/other_user}","gists_url":"https://api.github.com/users/wang3820/gists{/gist_id}","starred_url":"https://api.github.com/users/wang3820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang3820/subscriptions","organizations_url":"https://api.github.com/users/wang3820/orgs","repos_url":"https://api.github.com/users/wang3820/repos","events_url":"https://api.github.com/users/wang3820/events{/privacy}","received_events_url":"https://api.github.com/users/wang3820/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-21T15:38:43Z","updated_at":"2023-11-21T15:38:43Z","author_association":"CONTRIBUTOR","body":"> > How nondex works is that it shuffles collection objects that does not guarantee order, like `HashMap`, while running the test and see it fails because of some assumptions were made based on the order is maintained. From my understanding, since the variable ordering is retrieved from the `HashMap`, the returned injection order could be wrong.\r\n> \r\n> So its actively shuffling the collection while the JVM is running, something that would **never** happen under normal circumstances?\r\n\r\nYes, that is correct; however, while active shuffling of collections would never happen under normal circumstances, reordering of elements in a `HashMap` could happen. As it states in the [documentation](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html): \"This class makes no guarantees as to the order of the map; in particular, it does not guarantee that the order will remain constant over time.\" However, as I understand, the probability of that happening is not high. The nondex tool simply significantly increase the chance. Since the insertion order really matters here, `LinkedHashMap` may be a better choice. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1821166502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1821313638","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1821313638","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1821313638,"node_id":"IC_kwDOAHF7Ec5sjwpm","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-21T17:01:09Z","updated_at":"2023-11-21T17:01:09Z","author_association":"MEMBER","body":"If a HashMap resizes through updates by \"put\", the iteration order can change.\r\nIf a HashMap is not changing, it will not reorder.\r\n\r\nIt is the test that is making the ordering assumption not the code under test.\r\n\r\nThe defaults for a HashMap are size 16 default load factor 0.75. No reorder for 2-4 items. With nondex it is as if it is.\r\n\r\nWould it be possible to try both orders?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1821313638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1822445487","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1822445487","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1822445487,"node_id":"IC_kwDOAHF7Ec5soE-v","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-22T09:56:24Z","updated_at":"2023-11-22T09:56:24Z","author_association":"MEMBER","body":"> It is the test that is making the ordering assumption not the code under test.\r\n\r\nI think this is the key point in this discussion.  This test is **deliberately** detecting the current iteration order in order to make a **deliberate** attempt to circumvent the SPARQL injection protections that the `ParameterisedSparqlString` provides.\r\n\r\nThe underlying code does not need a consistent order to function, in the test scenario in question doing things in the opposite order actually means that the attempted attack vector has no chance of working.  In a sense having an unpredictable iteration order is actually of benefit to this particular class\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1822445487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1824114601","html_url":"https://github.com/apache/jena/issues/2102#issuecomment-1824114601","issue_url":"https://api.github.com/repos/apache/jena/issues/2102","id":1824114601,"node_id":"IC_kwDOAHF7Ec5sucep","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-23T10:07:57Z","updated_at":"2023-11-23T10:07:57Z","author_association":"MEMBER","body":"Jena 4.x more strictly enforces certain tests around URI validity because allowing base URIs into the system always leads to problems down the road.\r\n\r\nSince this is a URI it should be URL encoded appropriately (i.e. Java/SPARQL backslash escapes are not suitable here), and that needs to happen in both your data and your queries.\r\n\r\nIn general the way your URIs are structured looks strange.  You seem to be trying to put a lot of \"structure\" into the URI fragment (the portion after the `#`) when you should really be using `/` based URL construction to achieve this, and your URIs seem to conflate schema concepts with instances of those concepts.\r\n\r\nYour data should probably have URIs more like `https://yourdata.com/building/gtc/rooms/1.H.1/room` with appropriate `rdf:type`'s declared as you do in your example where `yourdata.com` is substituted for some appropriate URI for the instances of the data, rather than the schema concept URI as you do currently","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1824114601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1824116408","html_url":"https://github.com/apache/jena/issues/2102#issuecomment-1824116408","issue_url":"https://api.github.com/repos/apache/jena/issues/2102","id":1824116408,"node_id":"IC_kwDOAHF7Ec5suc64","user":{"login":"neumarcx","id":10403482,"node_id":"MDQ6VXNlcjEwNDAzNDgy","avatar_url":"https://avatars.githubusercontent.com/u/10403482?v=4","gravatar_id":"","url":"https://api.github.com/users/neumarcx","html_url":"https://github.com/neumarcx","followers_url":"https://api.github.com/users/neumarcx/followers","following_url":"https://api.github.com/users/neumarcx/following{/other_user}","gists_url":"https://api.github.com/users/neumarcx/gists{/gist_id}","starred_url":"https://api.github.com/users/neumarcx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/neumarcx/subscriptions","organizations_url":"https://api.github.com/users/neumarcx/orgs","repos_url":"https://api.github.com/users/neumarcx/repos","events_url":"https://api.github.com/users/neumarcx/events{/privacy}","received_events_url":"https://api.github.com/users/neumarcx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-23T10:09:14Z","updated_at":"2023-11-23T10:09:14Z","author_association":"CONTRIBUTOR","body":"indeed the IRI validation has changed for SPARQL queries since 3.16. You have to get your data into the correct format. if this is not possible you have to URL encode the path component.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1824116408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1824363738","html_url":"https://github.com/apache/jena/issues/2102#issuecomment-1824363738","issue_url":"https://api.github.com/repos/apache/jena/issues/2102","id":1824363738,"node_id":"IC_kwDOAHF7Ec5svZTa","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-23T12:39:40Z","updated_at":"2023-11-23T12:39:40Z","author_association":"MEMBER","body":"It's a bug IMO. The Turtle parse accepts the data with a warning. There ought to be consistency between the SPARQL parser and the Turtle parser.\r\n\r\nThat said - the data is not legal. `[` and `]` are not legal in a URI except for IPv6 host addresses.\r\n\r\nNo amount of escaping will change that.\r\nURI do not have a `\\\\` escape.\r\nUsing `\\u005B` doesn't work.\r\n\r\n%-encoding as @rvesse mentions is replacing the character `[` with `%5B` and really does put 3 characters `%`, `5`, `B` into the URI which then must match the data.\r\n\r\nNot using `[`, `]`, or using %-encoding consistently is the best solution.\r\n\r\nEven if Jena allowed it, then the current data is likely to cause problems eslewhere.\r\n\r\nThe SPARQL  query can work with the string form of the URI in the data in an potentially inefficient manner:\r\n\r\n```\r\n      .... brick:isPartOf  ?X .\r\n      FILTER ( str(?X) = \"https://brickschema.org/schema/1.0.2/building_example#building:gtc/vavs/3/port[zn]\")\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1824363738/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825309128","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1825309128","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1825309128,"node_id":"IC_kwDOAHF7Ec5szAHI","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-24T08:31:01Z","updated_at":"2023-11-24T08:31:01Z","author_association":"NONE","body":"Any updates on this @rvesse ? I have tried to locate in the code what might be happening with the underscored fields but so far I failed.\r\n\r\nThe underscore is not a reserved char in Lucene.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825309128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825368945","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1825368945","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1825368945,"node_id":"IC_kwDOAHF7Ec5szOtx","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-24T09:21:14Z","updated_at":"2023-11-24T09:21:14Z","author_association":"MEMBER","body":"> Any updates on this @rvesse ? I have tried to locate in the code what might be happening with the underscored fields but so far I failed.\r\n> \r\n> The underscore is not a reserved char in Lucene.\r\n\r\nSorry @filak I have no idea personally, not an area of the code base I'm familiar with.\r\n\r\nI'd hoped by you providing more details some of our Jena Text/Lucene experts like @OyvindLGjesdal might be able to take a look and comment on what's going on?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825368945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825377892","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1825377892","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1825377892,"node_id":"IC_kwDOAHF7Ec5szQ5k","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-24T09:28:18Z","updated_at":"2023-11-24T09:28:18Z","author_association":"MEMBER","body":"We're agreed that there is no issue with main-ParameterizedSparqlString.\r\n\r\nThe test determines an order ATM.\r\n\r\nWould it be better to try both orders and expect at least (or exactly) one failure?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825377892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825417655","html_url":"https://github.com/apache/jena/issues/2102#issuecomment-1825417655","issue_url":"https://api.github.com/repos/apache/jena/issues/2102","id":1825417655,"node_id":"IC_kwDOAHF7Ec5szam3","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-24T09:56:48Z","updated_at":"2023-11-24T09:56:48Z","author_association":"MEMBER","body":"Side note: Parsing in SPARQL and parsing in Turtle are signficantly dofefrent in the way dubious (error or warning) IRIs are treated.\r\n\r\nThe W3C specs define the IRI token as \r\n\r\n```\r\nIRIREF ::=  `<' ([^#x00-#x20<>\"{}|^`\\] | [UCHAR] '>'\r\n```\r\nand then expect further checking for the legality of the string that matches that rule.\r\n\r\nJena's SPARQL parser, ARQ, uses that rule (via javacc) then performs IRI validation.\r\n\r\nJena's Turtle parser uses a custom tokenizer and does more limited checking on the characters between `<` and `>` , then performs IRI validation. Because the Turtle tokenizer is custom, the messages are more human-meaningful.\r\n\r\nAny IRI validation has to parse the string so it duplicates the character exclusion rules of `IRIREF`.\r\n\r\nThis is all known and intended by the W3C working groups - both specs intentionally did not include the full RFC3986/3986  grammar. It is quite large and it would have to be modified for UCHAR.  `UCHAR` escapes  mean later checks are necessary anyway. It does not fit well with a standard parser/tokenizer split.\r\n\r\nAn effect is that `{` (not the `UCHAR` way of doing that) is illegal surface syntax in SPARQL (an error that stops the parser) but a warning in Turtle.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825417655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825437421","html_url":"https://github.com/apache/jena/pull/2085#issuecomment-1825437421","issue_url":"https://api.github.com/repos/apache/jena/issues/2085","id":1825437421,"node_id":"IC_kwDOAHF7Ec5szfbt","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-24T10:11:39Z","updated_at":"2023-11-24T10:11:39Z","author_association":"MEMBER","body":"I pulled the PR and ran maven: tests pass, no compiler warnings.\r\n\r\nNot necessarily due to this PR but jena-querybuilder is showing javadoc warnings in the build: \r\nSome relate to `makeList` which is in this PR.\r\n\r\n```\r\n[INFO] --- javadoc:3.5.0:jar (attach-javadocs) @ jena-querybuilder ---\r\n[INFO] No previous run data found, generating javadoc.\r\n[WARNING] Javadoc Warnings\r\n...\r\n[WARNING] /home/afs/ASF/jena4/jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/clauses/WhereClause.java:431: warning: reference not found: #makeList(Object...)\r\n[WARNING] * @see #makeList(Object...)\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/clauses/WhereClause.java:431: warning: reference not found: #makeList(Object...)\r\n[WARNING] * @see #makeList(Object...)\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/Converters.java:512: warning: invalid usage of tag {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections\r\n[WARNING] * {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections}.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/Converters.java:482: warning: invalid usage of tag {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections\r\n[WARNING] * {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections}.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/Converters.java:482: warning: invalid usage of tag {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections\r\n[WARNING] * {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections}.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/Converters.java:512: warning: invalid usage of tag {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections\r\n[WARNING] * {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections}.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/clauses/WhereClause.java:431: warning: reference not found: #makeList(Object...)\r\n[WARNING] * @see #makeList(Object...)\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/clauses/WhereClause.java:431: warning: reference not found: #makeList(Object...)\r\n[WARNING] * @see #makeList(Object...)\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/clauses/WhereClause.java:431: warning: reference not found: #makeList(Object...)\r\n[WARNING] * @see #makeList(Object...)\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/clauses/WhereClause.java:431: warning: reference not found: #makeList(Object...)\r\n[WARNING] * @see #makeList(Object...)\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/handlers/WhereHandler.java:483: warning: reference not found: #addWhere(Object, Object, Object)\r\n[WARNING] * @deprecated use {@code addWhere(Converters.makeCollection(List.of(Object...)))}, or simply call {@link #addWhere(Object, Object, Object)} passing the collection for one of the objects.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/handlers/WhereHandler.java:483: warning: reference not found: #addWhere(Object, Object, Object)\r\n[WARNING] * @deprecated use {@code addWhere(Converters.makeCollection(List.of(Object...)))}, or simply call {@link #addWhere(Object, Object, Object)} passing the collection for one of the objects.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/handlers/WhereHandler.java:484: warning: reference not found: #makeList(Object...)\r\n[WARNING] * @see #makeList(Object...)\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/updatebuilder/WhereQuadHolder.java:408: warning: reference not found: #addWhere(Object, Object, Object)\r\n[WARNING] * @deprecated use {@code addWhere(Converters.makeCollection(List.of(Object...)))}, or simply call {@link #addWhere(Object, Object, Object)} passing the collection for one of the objects.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/updatebuilder/WhereQuadHolder.java:408: warning: reference not found: #addWhere(Object, Object, Object)\r\n[WARNING] * @deprecated use {@code addWhere(Converters.makeCollection(List.of(Object...)))}, or simply call {@link #addWhere(Object, Object, Object)} passing the collection for one of the objects.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/updatebuilder/WhereQuadHolder.java:409: warning: reference not found: #makeList(Object...)\r\n[WARNING] * @see #makeList(Object...)\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/handlers/WhereHandler.java:483: warning: reference not found: #addWhere(Object, Object, Object)\r\n[WARNING] * @deprecated use {@code addWhere(Converters.makeCollection(List.of(Object...)))}, or simply call {@link #addWhere(Object, Object, Object)} passing the collection for one of the objects.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/updatebuilder/WhereQuadHolder.java:408: warning: reference not found: #addWhere(Object, Object, Object)\r\n[WARNING] * @deprecated use {@code addWhere(Converters.makeCollection(List.of(Object...)))}, or simply call {@link #addWhere(Object, Object, Object)} passing the collection for one of the objects.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/handlers/WhereHandler.java:483: warning: reference not found: #addWhere(Object, Object, Object)\r\n[WARNING] * @deprecated use {@code addWhere(Converters.makeCollection(List.of(Object...)))}, or simply call {@link #addWhere(Object, Object, Object)} passing the collection for one of the objects.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/updatebuilder/WhereQuadHolder.java:408: warning: reference not found: #addWhere(Object, Object, Object)\r\n[WARNING] * @deprecated use {@code addWhere(Converters.makeCollection(List.of(Object...)))}, or simply call {@link #addWhere(Object, Object, Object)} passing the collection for one of the objects.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/Converters.java:512: warning: invalid usage of tag {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections\r\n[WARNING] * {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections}.\r\n[WARNING] ^\r\n[WARNING] .../jena-extras/jena-querybuilder/src/main/java/org/apache/jena/arq/querybuilder/Converters.java:482: warning: invalid usage of tag {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections\r\n[WARNING] * {@link http://www.w3.org/TR/2013/REC-sparql11-query-20130321/#collections}.\r\n[WARNING] ^\r\n[WARNING] 26 warnings\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1825437421/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1826727750","html_url":"https://github.com/apache/jena/pull/2085#issuecomment-1826727750","issue_url":"https://api.github.com/repos/apache/jena/issues/2085","id":1826727750,"node_id":"IC_kwDOAHF7Ec5s4adG","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-26T08:59:55Z","updated_at":"2023-11-26T08:59:55Z","author_association":"MEMBER","body":"For merging to main, we are moving away from \"merge commit\" to \"rebase and merge\" or \"squash and merge\".\r\n\r\nThis is for keeping the long term history for main cleaner. \r\n\r\nHere, it would be nice to squash the working commits to a single commit to a commit \"JENA-2357: ...\"  either by github UI or a local rebase and force push the PR branch.\r\n\r\nIt may make sense to use \"merge commit\" when history should preserve new functionality coming in - e.g. something large and significant we'd want to record.\r\n\r\nChoose which you feel is appropriate.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1826727750/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1827953887","html_url":"https://github.com/apache/jena/pull/2096#issuecomment-1827953887","issue_url":"https://api.github.com/repos/apache/jena/issues/2096","id":1827953887,"node_id":"IC_kwDOAHF7Ec5s9Fzf","user":{"login":"wang3820","id":44508845,"node_id":"MDQ6VXNlcjQ0NTA4ODQ1","avatar_url":"https://avatars.githubusercontent.com/u/44508845?v=4","gravatar_id":"","url":"https://api.github.com/users/wang3820","html_url":"https://github.com/wang3820","followers_url":"https://api.github.com/users/wang3820/followers","following_url":"https://api.github.com/users/wang3820/following{/other_user}","gists_url":"https://api.github.com/users/wang3820/gists{/gist_id}","starred_url":"https://api.github.com/users/wang3820/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wang3820/subscriptions","organizations_url":"https://api.github.com/users/wang3820/orgs","repos_url":"https://api.github.com/users/wang3820/repos","events_url":"https://api.github.com/users/wang3820/events{/privacy}","received_events_url":"https://api.github.com/users/wang3820/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-27T14:33:51Z","updated_at":"2023-11-27T14:33:51Z","author_association":"CONTRIBUTOR","body":"Apologies for the late reply, it was the Thanksgiving holidays in the US. Yes, I agree that there is no issue with main-ParameterizedSparqlString. I think it'd be better to try both orders.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1827953887/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1830894623","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1830894623","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1830894623,"node_id":"IC_kwDOAHF7Ec5tITwf","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-28T23:00:23Z","updated_at":"2023-11-29T13:37:05Z","author_association":"CONTRIBUTOR","body":"Hi @filak and thanks for the precise examples, and thanks for the ping.\r\n\r\nI have some problems with replicating the issues described. \r\n\r\nOne thing I notice in the test data is that the mx namespace isn't mentioned. What is the prefix mx: in *mx:alt_label*, is it just a typo in the example?\r\n\r\nI copied one of the existing tests using propLists to recreate the errors, and get the 3 expected results back when using the test-data, and no items back when I tried to replicate the other example.\r\n\r\nI first got the warning message\r\n\r\n```\r\n23:03:36 WARN  TextQueryPF :: Predicate not indexed: http://id.example.test/vocab/#alt_label\r\n23:03:36 WARN  TextQueryPF :: objectToStruct: props are not indexed [http://www.w3.org/2004/02/skos/core#prefLabel, http://www.w3.org/2004/02/skos/core#altLabel, http://www.w3.org/2000/01/rdf-schema#label, http://id.example.test/vocab/#alt_label]\r\n```\r\n\r\nduring running the test, and had to add it to the text map, and rerun the test without a warning, to get the expected result back.\r\n \r\n```diff\r\n       \"    text:map (\",\r\n                    \"         [ text:field \\\"label\\\" ; text:predicate rdfs:label ; text:noIndex true ]\",\r\n                    \"         [ text:field \\\"altLabel\\\" ; text:predicate skos:altLabel ]\",\r\n+                   \"         [ text:field \\\"alt_Label\\\" ; text:predicate mt:alt_label ]\",\r\n                    \"         [ text:field \\\"prefLabel\\\" ; text:predicate skos:prefLabel ]\",\r\n                    \"         [ text:field \\\"comment\\\" ; text:predicate rdfs:comment ]\",\r\n                    \"         [ text:field \\\"workAuthorshipStatement\\\" ; text:predicate spec:workAuthorshipStatement ]\",\r\n                    \"         [ text:field \\\"workEditionStatement\\\" ; text:predicate spec:workEditionStatement ]\",\r\n                    \"         [ text:field \\\"workColophon\\\" ; text:predicate spec:workColophon ]\",\r\n                    \"         ) .\"\r\n             \r\n```\r\n\r\nWas the *props are not indexed* step above silent when running?\r\n\r\nNot sure what happens with the second step, but one thing I thought of from the example above, was that maybe there was leftover documents in the lucene folder, if it wasn't deleted during debugging.\r\n\r\nI *think* that lucene deletions on documents aren't part of running the java command for reindexing. My  information might be outdated or wrong on this, but we still delete the lucene folder, before running indexing on an offline database, during CI-jobs.\r\n\r\nSee the two tests which pass at https://github.com/apache/jena/compare/main...OyvindLGjesdal:jena:debug-text-prop-not-working-in-some-cases\r\n\r\nI didn't replicate your configuration in the test, so it could also be other stuff that breaks, but hope this helps.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1830894623/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831475885","html_url":"https://github.com/apache/jena/pull/1989#issuecomment-1831475885","issue_url":"https://api.github.com/repos/apache/jena/issues/1989","id":1831475885,"node_id":"IC_kwDOAHF7Ec5tKhqt","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T08:55:15Z","updated_at":"2023-11-29T08:55:15Z","author_association":"MEMBER","body":"Ping @william-vw","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831475885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831510414","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1831510414","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1831510414,"node_id":"IC_kwDOAHF7Ec5tKqGO","user":{"login":"OyvindLGjesdal","id":5328572,"node_id":"MDQ6VXNlcjUzMjg1NzI=","avatar_url":"https://avatars.githubusercontent.com/u/5328572?v=4","gravatar_id":"","url":"https://api.github.com/users/OyvindLGjesdal","html_url":"https://github.com/OyvindLGjesdal","followers_url":"https://api.github.com/users/OyvindLGjesdal/followers","following_url":"https://api.github.com/users/OyvindLGjesdal/following{/other_user}","gists_url":"https://api.github.com/users/OyvindLGjesdal/gists{/gist_id}","starred_url":"https://api.github.com/users/OyvindLGjesdal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/OyvindLGjesdal/subscriptions","organizations_url":"https://api.github.com/users/OyvindLGjesdal/orgs","repos_url":"https://api.github.com/users/OyvindLGjesdal/repos","events_url":"https://api.github.com/users/OyvindLGjesdal/events{/privacy}","received_events_url":"https://api.github.com/users/OyvindLGjesdal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T09:17:57Z","updated_at":"2023-11-29T13:35:37Z","author_association":"CONTRIBUTOR","body":"Could it be that  it resolves to the the same  lucene `text:field \"fulltext\"` from the textmap, when it resolves the propListProp ? The tests which I copied from, used different field names, while your example adds them all to to the same `fulltext` field. This sounds more likelely, and is maybe a bug? I'll try tonight and see if replicating the example on the `text:map`, results in the same behavior.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831510414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831839925","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1831839925","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1831839925,"node_id":"IC_kwDOAHF7Ec5tL6i1","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T12:51:51Z","updated_at":"2023-11-29T14:03:22Z","author_association":"NONE","body":"Thank you for looking into this @OyvindLGjesdal \r\n\r\nI have updated the testing data and the config.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831839925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831880675","html_url":"https://github.com/apache/jena/pull/1989#issuecomment-1831880675","issue_url":"https://api.github.com/repos/apache/jena/issues/1989","id":1831880675,"node_id":"IC_kwDOAHF7Ec5tMEfj","user":{"login":"william-vw","id":11859376,"node_id":"MDQ6VXNlcjExODU5Mzc2","avatar_url":"https://avatars.githubusercontent.com/u/11859376?v=4","gravatar_id":"","url":"https://api.github.com/users/william-vw","html_url":"https://github.com/william-vw","followers_url":"https://api.github.com/users/william-vw/followers","following_url":"https://api.github.com/users/william-vw/following{/other_user}","gists_url":"https://api.github.com/users/william-vw/gists{/gist_id}","starred_url":"https://api.github.com/users/william-vw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/william-vw/subscriptions","organizations_url":"https://api.github.com/users/william-vw/orgs","repos_url":"https://api.github.com/users/william-vw/repos","events_url":"https://api.github.com/users/william-vw/events{/privacy}","received_events_url":"https://api.github.com/users/william-vw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T13:17:44Z","updated_at":"2023-11-29T13:17:44Z","author_association":"NONE","body":"@afs apologies, I'm lacking the cycles these days to properly format this PR so I will close it for now.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831880675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831912164","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1831912164","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1831912164,"node_id":"IC_kwDOAHF7Ec5tMMLk","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T13:37:10Z","updated_at":"2023-11-29T14:45:52Z","author_association":"NONE","body":"Hmmm, so going back to my Observation 1... \r\n\r\nThe undescore issue is just a red herring - I apologize for the mistake.\r\n\r\nI did forgot to include a field in the text:map() - mx:alt_label\r\n\r\n```\r\n  [ text:propListProp mt:testQuery ;\r\n    text:props ( \r\n       rdfs:label\r\n         mt:altLabel \r\n         mx:alt_label\r\n       ) ;\r\n\r\n<#entMap> \r\n    a text:EntityMap ;\r\n    text:defaultField     \"ftext\" ;\r\n    text:entityField      \"uri\" ;\r\n    text:uidField         \"uid\" ;\r\n    text:langField        \"lang\" ;\r\n    text:graphField       \"graph\" ;\r\n    text:map (\r\n         [ text:field \"ftext\" ; text:predicate rdfs:label ]\r\n         [ text:field \"ftext\" ; text:predicate mt:altLabel ]\r\n         [ text:field \"ftext\" ; text:predicate mt:note ]\r\n         ) .\r\n```\r\n\r\nSo any query\r\n```\r\nselect * where {\r\n?s text:query (mt:testQuery \"*\") \r\n}\r\n```\r\nalways returning 0 hits.\r\n\r\nIs this correct behaviour ? There is a missing field (mx:alt_label) in the props but also an existing field (mt:altLabel) - so maybe the query should return some hits in this case ?\r\n\r\nAnyway a prop field missing in the mapping seems to break things so it shall be avoided.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831912164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831942646","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1831942646","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1831942646,"node_id":"IC_kwDOAHF7Ec5tMTn2","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T13:55:58Z","updated_at":"2023-11-29T14:01:31Z","author_association":"NONE","body":"The other problem - the query\r\n```\r\n# Query #3\r\n\r\nselect * where {\r\n?s text:query (mt:defQuery \"white\") \r\n}\r\n```\r\nreturning 1 hit.\r\n\r\nI think this should return 0 hits - because the term *white* is contained in the mt:note field and this field is not included in text:props\r\n\r\n```\r\n        [ text:propListProp mt:defQuery ;\r\n          text:props ( \r\n             rdfs:label\r\n               mt:altLabel\r\n             ) ;\r\n        ]\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831942646/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831982740","html_url":"https://github.com/apache/jena/pull/1989#issuecomment-1831982740","issue_url":"https://api.github.com/repos/apache/jena/issues/1989","id":1831982740,"node_id":"IC_kwDOAHF7Ec5tMdaU","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T14:18:08Z","updated_at":"2023-11-29T14:18:08Z","author_association":"MEMBER","body":"I completely understand!\r\n\r\nIt can be reopened.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1831982740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832044048","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1832044048","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1832044048,"node_id":"IC_kwDOAHF7Ec5tMsYQ","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T14:51:09Z","updated_at":"2023-11-29T14:51:09Z","author_association":"MEMBER","body":"> The other problem - the query\r\n> \r\n> ```\r\n> # Query #3\r\n> \r\n> select * where {\r\n> ?s text:query (mt:defQuery \"white\") \r\n> }\r\n> ```\r\n> \r\n> returning 1 hit.\r\n> \r\n> I think this should return 0 hits - because the term _white_ is contained in the mt:note field and this field is not included in text:props\r\n> \r\n> ```\r\n>         [ text:propListProp mt:defQuery ;\r\n>           text:props ( \r\n>              rdfs:label\r\n>                mt:altLabel\r\n>              ) ;\r\n>         ]\r\n> ```\r\n\r\nI think this one is caused by the issue identified in https://github.com/apache/jena/issues/2094#issuecomment-1831510414, you map several properties to the same field in the underlying Lucene index.  Since the index doesn't store what property text originated from in the index a query on any of those properties that share the same Lucene field can thus return documents that matched based on any of the original input properties textual values.\r\n\r\nNot sure whether this a bug or not.  It appears to be a side effect of the design choices of how the data is indexed into Lucene.  This should maybe be flagged as a configuration and/or query time warning.\r\n\r\nTo make the query behave as you expect either requires your configuration to change to separate the properties into different fields, or the `jena-text` code to change how it currently indexes and queries data (which would be a breaking change AFAICT)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832044048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832089505","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1832089505","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1832089505,"node_id":"IC_kwDOAHF7Ec5tM3eh","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T15:13:50Z","updated_at":"2023-11-29T15:39:55Z","author_association":"NONE","body":"Maybe the docs need to be more specific about how to do the mapping...\r\n\r\nI had started initially with the catch-all *ftext* field - ie \r\n```\r\n<#entMap>\r\n...\r\ntext:map (\r\n         [ text:field \"ftext\" ; text:predicate ...\r\n         [ text:field \"ftext\" ; text:predicate ...\r\n         ...\r\n```\r\nand a queries like this\r\n\r\n       ?s text:query (\"whatever\")\r\n\r\nThen I realized I needed more control over the searching and I started trying to use propLists.\r\n\r\nSo should I map all the fields separately in the text:map and mix them in the propLists as needed? \r\n\r\nWhat might make sense to me:\r\n\r\n1. Map the fields like this\r\n\r\n```\r\n    text:defaultField     \"labels\" ;\r\n    ...\r\n    text:map (\r\n         [ text:field \"labels\" ; text:predicate rdfs:label ]\r\n         [ text:field \"labels\" ; text:predicate mt:altLabel ]\r\n         [ text:field \"labels\" ; text:predicate mt:alt_label ]\r\n         [ text:field \"labels\" ; text:predicate mx:alt_label ]\r\n         [ text:field \"notes\"  ; text:predicate mx:note ]\r\n         [ text:field \"notes\"  ; text:predicate mt:note2 ]\r\n         [ text:field \"notes\"  ; text:predicate mt:note1 ]\r\n```\r\n\r\n2. Mix and match the labes and the notes as needed in the propLists - ie\r\n\r\n```\r\n    text:propLists (\r\n        [ text:propListProp mt:defQuery ;\r\n          text:props ( \r\n             labels\r\n             ) ;\r\n        ]\r\n        [ text:propListProp mt:includeNotes ;\r\n          text:props (\r\n             labels \r\n             notes\r\n             ) ;\r\n        ]\r\n```\r\n\r\nBut I have no clue if that is feasible at all or what prefix I should use in this case.\r\n ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832089505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832272831","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1832272831","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1832272831,"node_id":"IC_kwDOAHF7Ec5tNkO_","user":{"login":"filak","id":1353748,"node_id":"MDQ6VXNlcjEzNTM3NDg=","avatar_url":"https://avatars.githubusercontent.com/u/1353748?v=4","gravatar_id":"","url":"https://api.github.com/users/filak","html_url":"https://github.com/filak","followers_url":"https://api.github.com/users/filak/followers","following_url":"https://api.github.com/users/filak/following{/other_user}","gists_url":"https://api.github.com/users/filak/gists{/gist_id}","starred_url":"https://api.github.com/users/filak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/filak/subscriptions","organizations_url":"https://api.github.com/users/filak/orgs","repos_url":"https://api.github.com/users/filak/repos","events_url":"https://api.github.com/users/filak/events{/privacy}","received_events_url":"https://api.github.com/users/filak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T16:26:44Z","updated_at":"2023-11-29T16:41:37Z","author_association":"NONE","body":"I have modified the config:\r\n\r\n```\r\n    text:propLists (\r\n        [ text:propListProp mt:defQuery ;\r\n          text:props ( \r\n             rdfs:label\r\n             mt:altLabel\r\n             mt:alt_label\r\n             mx:alt_label\r\n             ) ;\r\n        ]\r\n        [ text:propListProp mt:includeNotes ;\r\n          text:props (\r\n               rdfs:label\r\n               mt:altLabel\r\n               mt:alt_label\r\n               mx:alt_label           \r\n               mt:note\r\n             ) ;\r\n        ]\r\n    ) ;\r\n     .\r\n\r\n<#entMap> \r\n    a text:EntityMap ;\r\n    text:defaultField     \"ftext\" ;\r\n    text:entityField      \"uri\" ;\r\n    text:uidField         \"uid\" ;\r\n    text:langField        \"lang\" ;\r\n    text:graphField       \"graph\" ;\r\n    text:map (\r\n         [ text:field \"ftext\" ; text:predicate rdfs:label ]\r\n         [ text:field \"ftext\" ; text:predicate mt:altLabel ]\r\n         [ text:field \"ftext\" ; text:predicate mt:alt_label ]\r\n         [ text:field \"ftext\" ; text:predicate mx:alt_label ]\r\n         [ text:field \"note\" ; text:predicate mt:note ]\r\n         ) .\r\n```\r\n\r\nNow the queries work as expected !\r\n\r\n      ?s text:query (mt:defQuery \"white\")  => 0 hits\r\n\r\nAnd this also works:\r\n\r\n     ?s text:query (\"beer white\") => 1 hit - <http://id.example.test/1>\r\n     ?s text:query (\"white\") => 0 hits\r\n     ?s text:query (mt:includeNotes \"white beer\") => 2 hits (ID 1 + 2)\r\n\r\nHowever these are weird:\r\n\r\n     ?s text:query (mt:includeNotes \"red booze\") => 1 hit - <http://id.example.test/2> ??\r\n     ?s text:query (mt:includeNotes \"booze red\") => 1 hit - <http://id.example.test/1> ??","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832272831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832670504","html_url":"https://github.com/apache/jena/issues/2104#issuecomment-1832670504","issue_url":"https://api.github.com/repos/apache/jena/issues/2104","id":1832670504,"node_id":"IC_kwDOAHF7Ec5tPFUo","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T20:42:25Z","updated_at":"2023-11-29T20:42:25Z","author_association":"MEMBER","body":"Hi @larisa1995 \r\n\r\nDid you have a look at the replies in the email thread linked in the JIRA issue? \r\n\r\nhttps://lists.apache.org/thread/jxl4womxl8co1b3nxzytfd9kozd4z14b\r\n\r\nIn one of them it is mentioned that it could be because of different versions of commons-codec in the Java classpath. Maybe check your dependency tree (`mvn dependency:tree`) to confirm you don't have an older version of commons-codec loaded.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832670504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832678219","html_url":"https://github.com/apache/jena/issues/2104#issuecomment-1832678219","issue_url":"https://api.github.com/repos/apache/jena/issues/2104","id":1832678219,"node_id":"IC_kwDOAHF7Ec5tPHNL","user":{"login":"larisa1995","id":41237767,"node_id":"MDQ6VXNlcjQxMjM3NzY3","avatar_url":"https://avatars.githubusercontent.com/u/41237767?v=4","gravatar_id":"","url":"https://api.github.com/users/larisa1995","html_url":"https://github.com/larisa1995","followers_url":"https://api.github.com/users/larisa1995/followers","following_url":"https://api.github.com/users/larisa1995/following{/other_user}","gists_url":"https://api.github.com/users/larisa1995/gists{/gist_id}","starred_url":"https://api.github.com/users/larisa1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/larisa1995/subscriptions","organizations_url":"https://api.github.com/users/larisa1995/orgs","repos_url":"https://api.github.com/users/larisa1995/repos","events_url":"https://api.github.com/users/larisa1995/events{/privacy}","received_events_url":"https://api.github.com/users/larisa1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T20:48:39Z","updated_at":"2023-11-29T20:48:39Z","author_association":"NONE","body":"@kinow thank you for the answer. It would help a lot if you could possibly elaborate a bit on a tree. I'm a kind of newbie here","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832678219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832695382","html_url":"https://github.com/apache/jena/issues/2104#issuecomment-1832695382","issue_url":"https://api.github.com/repos/apache/jena/issues/2104","id":1832695382,"node_id":"IC_kwDOAHF7Ec5tPLZW","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-29T21:02:28Z","updated_at":"2023-11-29T21:02:28Z","author_association":"MEMBER","body":"Not a problem, we are/were all newbies :slightly_smiling_face: \r\n\r\nYou said you are working on RMLStreamer. I had a look at the GitHub repository, and it looks like a Maven project (because of the `pom.xml`). Normally Maven projects are built with the `mvn` utility, that will read `pom.xml`, and create a dependency tree.\r\n\r\nIt will read the dependencies of your `pom.xml`, and the dependencies of your dependencies, and so it goes. Until it has a complete dependency tree.\r\n\r\nWhen you run RMLStreamer (via `mvn` or in an IDE) you are *probably* using the dependencies in your classpath that were installed by Maven (this could vary a lot, and there is no easy way to help you there as it depends on how you are running your code, beyond the scope of an issue here in Apache Jena).\r\n\r\nThe exception that you have is complaining about a method not found.\r\n\r\n>java.lang.NoSuchMethodError: org.apache.commons.codec.digest.MurmurHash3.hash128x64([B)[J\r\n\r\nThis might be because a) Jena 4.8.0 requires [a version of Commons Codec](https://github.com/apache/jena/blob/jena-4.8.0/pom.xml#L102) but your classpath / dependency tree contains a different version of Commons Codec. It looks like RMLStreamer uses the same version, which is strange. But running `mvn dependency:tree` will print the complete list of dependencies, and you can make sure that you do not have anything else loading another version of commons codec (again, it depends how you are building it.\r\n\r\nIn your issue description you say that you are using Jena 4.8.0. But RMLStreamer development branch has [jena 4.3.1](https://github.com/RMLio/RMLStreamer/blob/development/pom.xml#L42). Start by making sure you have the correct version of Jena, then `mvn dependency:tree` and look at Commons Codec.\r\n\r\nHope that helps.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1832695382/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833343154","html_url":"https://github.com/apache/jena/issues/2105#issuecomment-1833343154","issue_url":"https://api.github.com/repos/apache/jena/issues/2105","id":1833343154,"node_id":"IC_kwDOAHF7Ec5tRpiy","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T08:53:45Z","updated_at":"2023-11-30T08:53:45Z","author_association":"MEMBER","body":"There would need to be an implementation before a report can be sent :smile:\r\n\r\nI've changed the issue title to reflect that.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833343154/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833402969","html_url":"https://github.com/apache/jena/issues/2106#issuecomment-1833402969","issue_url":"https://api.github.com/repos/apache/jena/issues/2106","id":1833402969,"node_id":"IC_kwDOAHF7Ec5tR4JZ","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T09:34:43Z","updated_at":"2023-11-30T09:34:43Z","author_association":"MEMBER","body":"How are you packaging the JAR?\r\n\r\nA common pitfall related to `ServiceLoader` is that people repack multiple dependencies into a single fat/uber JAR with Maven shade plugin or equivalent.  If that is done the default behaviour is to only keep one instance of each given file so when you have multiple `META-INF/services/<foo>` files across your dependencies only one gets picked.  The shade plugin has a transformer that can be explicitly enabled to merge all those files together sensibly, see [Combining Apache Jena JARs](https://jena.apache.org/documentation/notes/jena-repack.html) for examples of that\r\n\r\nHave you double checked that your JAR definitely contains your `META-INF/services` file if you unpack it with `unzip`?  The version you've attached to this issue does appear to have that correct AFAICT\r\n\r\nAnd if you inspect the `ps -ax` (or equivalent) output your extra JAR definitely got added to the `java` command run by `fuseki-service`?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833402969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833647274","html_url":"https://github.com/apache/jena/issues/2106#issuecomment-1833647274","issue_url":"https://api.github.com/repos/apache/jena/issues/2106","id":1833647274,"node_id":"IC_kwDOAHF7Ec5tSzyq","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T12:10:16Z","updated_at":"2023-11-30T13:27:31Z","author_association":"MEMBER","body":"Hi @Hamilton-dfp,\r\n\r\nThe log indicate you are running the packaging of Fuseki with the UI webapp.\r\nPresumably the `apache-jena-fuseki-4.10.0` download.\r\n\r\nThis version of Fuseki does not support Fuseki Modules.\r\n\r\nThe form that does is \"Fuseki Main\" - the long term reworking that will (sometime) be packaged with the UI and admin function and be the standalone server. \r\n\r\nhttps://jena.apache.org/documentation/fuseki2/fuseki-main.html -- this does not have the UI and only supports command line arguments and configuration files.\r\n\r\nThe artifact is https://repo1.maven.org/maven2/org/apache/jena/jena-fuseki-server/4.10.0/\r\n\r\nWhile there has been some prototyping work of Fuseki Main + UI + Shiro + admin, it is only a proof-of-concept at the moment.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833647274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833815123","html_url":"https://github.com/apache/jena/issues/2094#issuecomment-1833815123","issue_url":"https://api.github.com/repos/apache/jena/issues/2094","id":1833815123,"node_id":"IC_kwDOAHF7Ec5tTcxT","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-30T13:46:40Z","updated_at":"2023-11-30T13:46:40Z","author_association":"MEMBER","body":"> However these are weird:\r\n> \r\n> ```\r\n>  ?s text:query (mt:includeNotes \"red booze\") => 1 hit - <http://id.example.test/2> ??\r\n>  ?s text:query (mt:includeNotes \"booze red\") => 1 hit - <http://id.example.test/1> ??\r\n> ```\r\n\r\nYeah those still look off.   Seems like something odd may be happening since the order of terms in your query impacts the results returned, glancing at your sample data that query really should match both AFAICT\r\n\r\nCould you try increasing your log level to `TRACE` as looking at the `jena-text` code it should give a lot of detail about the Lucene query being built at that level?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1833815123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]