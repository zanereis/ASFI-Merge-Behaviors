[{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779655692","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-779655692","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":779655692,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTY1NTY5Mg==","user":{"login":"low-on-mana","id":8509512,"node_id":"MDQ6VXNlcjg1MDk1MTI=","avatar_url":"https://avatars.githubusercontent.com/u/8509512?v=4","gravatar_id":"","url":"https://api.github.com/users/low-on-mana","html_url":"https://github.com/low-on-mana","followers_url":"https://api.github.com/users/low-on-mana/followers","following_url":"https://api.github.com/users/low-on-mana/following{/other_user}","gists_url":"https://api.github.com/users/low-on-mana/gists{/gist_id}","starred_url":"https://api.github.com/users/low-on-mana/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/low-on-mana/subscriptions","organizations_url":"https://api.github.com/users/low-on-mana/orgs","repos_url":"https://api.github.com/users/low-on-mana/repos","events_url":"https://api.github.com/users/low-on-mana/events{/privacy}","received_events_url":"https://api.github.com/users/low-on-mana/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T07:55:24Z","updated_at":"2021-02-16T07:55:24Z","author_association":"CONTRIBUTOR","body":"@vinothchandar \r\nYa my bad, archival starts from older commit. Found the file with null content. Relevant logs:\r\n```\r\n21/02/16 07:45:29 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073304.deltacommit.requested' for reading\r\n21/02/16 07:45:29 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073304.deltacommit.inflight' for reading\r\n21/02/16 07:45:29 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073304.deltacommit' for reading\r\n21/02/16 07:45:29 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073413.deltacommit.requested' for reading\r\n21/02/16 07:45:30 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073413.deltacommit.inflight' for reading\r\n21/02/16 07:45:30 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073413.deltacommit' for reading\r\n21/02/16 07:45:30 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073441.deltacommit.requested' for reading\r\n21/02/16 07:45:30 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073441.deltacommit.inflight' for reading\r\n21/02/16 07:45:30 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073441.deltacommit' for reading\r\n21/02/16 07:45:30 INFO S3NativeFileSystem: Opening 's3://navi-emr-poc/delta-streamer-test/tables/accountsv2/.hoodie/20210216073500.deltacommit.requested' for reading\r\n21/02/16 07:45:30 ERROR HoodieTimelineArchiveLog: Failed to archive commits, .commit file: 20210216073500.deltacommit.requested\r\njava.lang.NullPointerException: null of string of map of union in field extraMetadata of org.apache.hudi.avro.model.HoodieCommitMetadata of union in field hoodieCommitMetadata of org.apache.hudi.avro.model.HoodieArchivedMetaEntry\r\n```\r\n\r\nContent of 20210216073304.deltacommit\r\n```\r\n{\r\n  \"partitionToWriteStats\" : { },\r\n  \"compacted\" : false,\r\n  \"extraMetadata\" : {\r\n    \"schema\" : null,\r\n    \"deltastreamer.checkpoint.key\" : \"to_be_deleted.public.accounts,0:59615,1:2,2:0\"\r\n  },\r\n  \"operationType\" : \"UPSERT\",\r\n  \"fileIdAndRelativePaths\" : { },\r\n  \"totalRecordsDeleted\" : 0,\r\n  \"totalLogRecordsCompacted\" : 0,\r\n  \"totalLogFilesCompacted\" : 0,\r\n  \"totalCompactedRecordsUpdated\" : 0,\r\n  \"totalLogFilesSize\" : 0,\r\n  \"totalScanTime\" : 0,\r\n  \"totalCreateTime\" : 0,\r\n  \"totalUpsertTime\" : 0\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779655692/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779762629","html_url":"https://github.com/apache/hudi/pull/2579#issuecomment-779762629","issue_url":"https://api.github.com/repos/apache/hudi/issues/2579","id":779762629,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTc2MjYyOQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T11:02:58Z","updated_at":"2021-02-16T11:09:47Z","author_association":"MEMBER","body":"hi @danny0405 @yanghua , please review the patch if you are free, thanks.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779762629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779911272","html_url":"https://github.com/apache/hudi/issues/2515#issuecomment-779911272","issue_url":"https://api.github.com/repos/apache/hudi/issues/2515","id":779911272,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTkxMTI3Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T15:27:54Z","updated_at":"2021-02-16T15:27:54Z","author_association":"MEMBER","body":"@t0il3ts0ap no worries. so an upsert operation it is. Will try to see whats going on. for e.g does it pass a null due to empty data etc. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779911272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779996283","html_url":"https://github.com/apache/hudi/pull/2565#issuecomment-779996283","issue_url":"https://api.github.com/repos/apache/hudi/issues/2565","id":779996283,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTk5NjI4Mw==","user":{"login":"nbalajee","id":47542891,"node_id":"MDQ6VXNlcjQ3NTQyODkx","avatar_url":"https://avatars.githubusercontent.com/u/47542891?v=4","gravatar_id":"","url":"https://api.github.com/users/nbalajee","html_url":"https://github.com/nbalajee","followers_url":"https://api.github.com/users/nbalajee/followers","following_url":"https://api.github.com/users/nbalajee/following{/other_user}","gists_url":"https://api.github.com/users/nbalajee/gists{/gist_id}","starred_url":"https://api.github.com/users/nbalajee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbalajee/subscriptions","organizations_url":"https://api.github.com/users/nbalajee/orgs","repos_url":"https://api.github.com/users/nbalajee/repos","events_url":"https://api.github.com/users/nbalajee/events{/privacy}","received_events_url":"https://api.github.com/users/nbalajee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T17:29:28Z","updated_at":"2021-02-16T17:29:28Z","author_association":"CONTRIBUTOR","body":"> @nbalajee Can you review this ?\r\n\r\nReviewed the changes.  LGTM.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779996283/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779996470","html_url":"https://github.com/apache/hudi/pull/2565#issuecomment-779996470","issue_url":"https://api.github.com/repos/apache/hudi/issues/2565","id":779996470,"node_id":"MDEyOklzc3VlQ29tbWVudDc3OTk5NjQ3MA==","user":{"login":"nbalajee","id":47542891,"node_id":"MDQ6VXNlcjQ3NTQyODkx","avatar_url":"https://avatars.githubusercontent.com/u/47542891?v=4","gravatar_id":"","url":"https://api.github.com/users/nbalajee","html_url":"https://github.com/nbalajee","followers_url":"https://api.github.com/users/nbalajee/followers","following_url":"https://api.github.com/users/nbalajee/following{/other_user}","gists_url":"https://api.github.com/users/nbalajee/gists{/gist_id}","starred_url":"https://api.github.com/users/nbalajee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nbalajee/subscriptions","organizations_url":"https://api.github.com/users/nbalajee/orgs","repos_url":"https://api.github.com/users/nbalajee/repos","events_url":"https://api.github.com/users/nbalajee/events{/privacy}","received_events_url":"https://api.github.com/users/nbalajee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T17:29:44Z","updated_at":"2021-02-16T17:29:44Z","author_association":"CONTRIBUTOR","body":"LGTM.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/779996470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780055458","html_url":"https://github.com/apache/hudi/pull/2536#issuecomment-780055458","issue_url":"https://api.github.com/repos/apache/hudi/issues/2536","id":780055458,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDA1NTQ1OA==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-16T19:08:53Z","updated_at":"2021-02-16T19:08:53Z","author_association":"MEMBER","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780055458/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780218110","html_url":"https://github.com/apache/hudi/pull/2580#issuecomment-780218110","issue_url":"https://api.github.com/repos/apache/hudi/issues/2580","id":780218110,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDIxODExMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T00:57:19Z","updated_at":"2021-03-13T02:09:43Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2580?src=pr&el=h1) Report\n> Merging [#2580](https://codecov.io/gh/apache/hudi/pull/2580?src=pr&el=desc) (1fd75aa) into [master](https://codecov.io/gh/apache/hudi/commit/be257b58c689510a21529019a766b7a2bfc7ebe6?el=desc) (be257b5) will **increase** coverage by `18.20%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2580/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2580?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2580       +/-   ##\n=============================================\n+ Coverage     51.27%   69.48%   +18.20%     \n+ Complexity     3241      364     -2877     \n=============================================\n  Files           438       53      -385     \n  Lines         20126     1963    -18163     \n  Branches       2079      235     -1844     \n=============================================\n- Hits          10320     1364     -8956     \n+ Misses         8954      466     -8488     \n+ Partials        852      133      -719     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.48% <ø> (+0.04%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2580?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.34% <0.00%> (-0.37%)` | `53.00% <0.00%> (+1.00%)` | :arrow_down: |\n| [...ies/sources/helpers/DatePartitionPathSelector.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvaGVscGVycy9EYXRlUGFydGl0aW9uUGF0aFNlbGVjdG9yLmphdmE=) | `54.68% <0.00%> (-0.16%)` | `13.00% <0.00%> (ø%)` | |\n| [...s/deltastreamer/HoodieMultiTableDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllTXVsdGlUYWJsZURlbHRhU3RyZWFtZXIuamF2YQ==) | `78.39% <0.00%> (ø)` | `18.00% <0.00%> (ø%)` | |\n| [...che/hudi/common/table/timeline/dto/InstantDTO.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9JbnN0YW50RFRPLmphdmE=) | | | |\n| [...apache/hudi/cli/HoodieHistoryFileNameProvider.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL0hvb2RpZUhpc3RvcnlGaWxlTmFtZVByb3ZpZGVyLmphdmE=) | | | |\n| [...udi/common/table/log/block/HoodieCorruptBlock.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9ibG9jay9Ib29kaWVDb3JydXB0QmxvY2suamF2YQ==) | | | |\n| [...rg/apache/hudi/cli/commands/SavepointsCommand.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1NhdmVwb2ludHNDb21tYW5kLmphdmE=) | | | |\n| [.../hudi/common/model/DefaultHoodieRecordPayload.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0RlZmF1bHRIb29kaWVSZWNvcmRQYXlsb2FkLmphdmE=) | | | |\n| [...til/jvm/HotSpotMemoryLayoutSpecification32bit.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL0hvdFNwb3RNZW1vcnlMYXlvdXRTcGVjaWZpY2F0aW9uMzJiaXQuamF2YQ==) | | | |\n| [.../main/java/org/apache/hudi/common/util/Option.java](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvT3B0aW9uLmphdmE=) | | | |\n| ... and [368 more](https://codecov.io/gh/apache/hudi/pull/2580/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780218110/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780246231","html_url":"https://github.com/apache/hudi/issues/2204#issuecomment-780246231","issue_url":"https://api.github.com/repos/apache/hudi/issues/2204","id":780246231,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDI0NjIzMQ==","user":{"login":"BalaMahesh","id":25053668,"node_id":"MDQ6VXNlcjI1MDUzNjY4","avatar_url":"https://avatars.githubusercontent.com/u/25053668?v=4","gravatar_id":"","url":"https://api.github.com/users/BalaMahesh","html_url":"https://github.com/BalaMahesh","followers_url":"https://api.github.com/users/BalaMahesh/followers","following_url":"https://api.github.com/users/BalaMahesh/following{/other_user}","gists_url":"https://api.github.com/users/BalaMahesh/gists{/gist_id}","starred_url":"https://api.github.com/users/BalaMahesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BalaMahesh/subscriptions","organizations_url":"https://api.github.com/users/BalaMahesh/orgs","repos_url":"https://api.github.com/users/BalaMahesh/repos","events_url":"https://api.github.com/users/BalaMahesh/events{/privacy}","received_events_url":"https://api.github.com/users/BalaMahesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T02:08:55Z","updated_at":"2021-02-17T02:08:55Z","author_association":"NONE","body":"sorry for the long delay. This exception is due to aws sdk version . I am closing this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780246231/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780248837","html_url":"https://github.com/apache/hudi/issues/2251#issuecomment-780248837","issue_url":"https://api.github.com/repos/apache/hudi/issues/2251","id":780248837,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDI0ODgzNw==","user":{"login":"BalaMahesh","id":25053668,"node_id":"MDQ6VXNlcjI1MDUzNjY4","avatar_url":"https://avatars.githubusercontent.com/u/25053668?v=4","gravatar_id":"","url":"https://api.github.com/users/BalaMahesh","html_url":"https://github.com/BalaMahesh","followers_url":"https://api.github.com/users/BalaMahesh/followers","following_url":"https://api.github.com/users/BalaMahesh/following{/other_user}","gists_url":"https://api.github.com/users/BalaMahesh/gists{/gist_id}","starred_url":"https://api.github.com/users/BalaMahesh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BalaMahesh/subscriptions","organizations_url":"https://api.github.com/users/BalaMahesh/orgs","repos_url":"https://api.github.com/users/BalaMahesh/repos","events_url":"https://api.github.com/users/BalaMahesh/events{/privacy}","received_events_url":"https://api.github.com/users/BalaMahesh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T02:15:53Z","updated_at":"2021-02-17T04:22:45Z","author_association":"NONE","body":"@nsivabalan \r\nI was doing POC . \r\nThis issue was observed when we were trying to query `hudi` tables from hive cli . All the error logs, we had are posted here. But when we tried the same query from beeline it didn't threw any errors. The suspection is when query submitted directly from hive cli, it is going through unwanted planner and optimizer, still not sure what optimization / plan it was choosing. With beeline we didn't see this issue.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780248837/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780281907","html_url":"https://github.com/apache/hudi/issues/2251#issuecomment-780281907","issue_url":"https://api.github.com/repos/apache/hudi/issues/2251","id":780281907,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDI4MTkwNw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T04:03:58Z","updated_at":"2021-02-17T04:03:58Z","author_association":"CONTRIBUTOR","body":"@BalaMahesh : thanks for the update. appreciate it. \r\n@bvaradar @n3nash : do we know if there could be diff between beeline and hive cli? and is there any known issue w/ hive cli? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780281907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780282670","html_url":"https://github.com/apache/hudi/pull/2283#issuecomment-780282670","issue_url":"https://api.github.com/repos/apache/hudi/issues/2283","id":780282670,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDI4MjY3MA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T04:06:38Z","updated_at":"2021-02-17T04:06:38Z","author_association":"CONTRIBUTOR","body":"@pengzhiwei2018 : I got a chance to sync up w/ Vinoth and Balaji. Now, I get the intention with this PR. Sorry about the noise. I will take a look in a day or two. But expect either of Vinoth or Balaji to review it as well as they have more expertise w/ perf nuances. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780282670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780285365","html_url":"https://github.com/apache/hudi/pull/2091#issuecomment-780285365","issue_url":"https://api.github.com/repos/apache/hudi/issues/2091","id":780285365,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDI4NTM2NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T04:15:32Z","updated_at":"2021-02-17T04:15:47Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @n3nash : any inputs appreciated. this is just waiting on your pointers. \r\nbtw @ivorzhou : In the mean time, a high level comment. not sure if you have handled this case. what if some of the missing columns don't have any default value set? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780285365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780285911","html_url":"https://github.com/apache/hudi/pull/2486#issuecomment-780285911","issue_url":"https://api.github.com/repos/apache/hudi/issues/2486","id":780285911,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDI4NTkxMQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T04:17:06Z","updated_at":"2021-02-17T04:17:06Z","author_association":"CONTRIBUTOR","body":"@quitozang : guess if someone is using delta streamer, they can leverage a transformer. If not, users could directly filter in the datasource before writing to hudi. So, not really sure if hudi need to support this feature. wdyt? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780285911/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780286206","html_url":"https://github.com/apache/hudi/pull/2443#issuecomment-780286206","issue_url":"https://api.github.com/repos/apache/hudi/issues/2443","id":780286206,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDI4NjIwNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T04:18:02Z","updated_at":"2021-02-17T04:18:02Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 : A gentle ping on this PR. Can you please address the feedback and update the PR. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780286206/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780294623","html_url":"https://github.com/apache/hudi/pull/2283#issuecomment-780294623","issue_url":"https://api.github.com/repos/apache/hudi/issues/2283","id":780294623,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDI5NDYyMw==","user":{"login":"umehrot2","id":8647012,"node_id":"MDQ6VXNlcjg2NDcwMTI=","avatar_url":"https://avatars.githubusercontent.com/u/8647012?v=4","gravatar_id":"","url":"https://api.github.com/users/umehrot2","html_url":"https://github.com/umehrot2","followers_url":"https://api.github.com/users/umehrot2/followers","following_url":"https://api.github.com/users/umehrot2/following{/other_user}","gists_url":"https://api.github.com/users/umehrot2/gists{/gist_id}","starred_url":"https://api.github.com/users/umehrot2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/umehrot2/subscriptions","organizations_url":"https://api.github.com/users/umehrot2/orgs","repos_url":"https://api.github.com/users/umehrot2/repos","events_url":"https://api.github.com/users/umehrot2/events{/privacy}","received_events_url":"https://api.github.com/users/umehrot2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T04:44:22Z","updated_at":"2021-02-17T04:44:22Z","author_association":"CONTRIBUTOR","body":"I do understand that these properties should be synced because it will make the spark sql queries go through the Data source instead of input format right ? So after this change spark sql will not go through the input format right but instead go through the datasource implementation ? This is needed either ways, but just want to confirm my understanding. @nsivabalan @vinothchandar \n\nBut \"incorrect results\" thing is not correct because Hudi requires you to use the convert metastore property to false when querying via spark sql. And if you set it to true (default) you need to use the path filter.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780294623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780366281","html_url":"https://github.com/apache/hudi/pull/2443#issuecomment-780366281","issue_url":"https://api.github.com/repos/apache/hudi/issues/2443","id":780366281,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDM2NjI4MQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T07:34:24Z","updated_at":"2021-02-17T07:34:24Z","author_association":"CONTRIBUTOR","body":"Thank you for your attention. I want to make changes after verification in the production environment. I will update in the near future\r\n\r\n\r\n\r\n------------------ Original ------------------\r\nFrom: Sivabalan Narayanan <notifications@github.com&gt;\r\nDate: Wed,Feb 17,2021 0:18 PM\r\nTo: apache/hudi <hudi@noreply.github.com&gt;\r\nCc: liujinhui <965147871@qq.com&gt;, Mention <mention@noreply.github.com&gt;\r\nSubject: Re: [apache/hudi] [HUDI-1269] Make whether the failure of connect hive affects hudi ingest process configurable (#2443)","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780366281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780483801","html_url":"https://github.com/apache/hudi/pull/2548#issuecomment-780483801","issue_url":"https://api.github.com/repos/apache/hudi/issues/2548","id":780483801,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDQ4MzgwMQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T11:11:16Z","updated_at":"2021-02-17T11:11:16Z","author_association":"MEMBER","body":"@yanghua  lets make a call here and move on. \r\n\r\nMy vote is for just merging these PRs and not do the new versions. The existing artifacts are out there already. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780483801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780489181","html_url":"https://github.com/apache/hudi/pull/2496#issuecomment-780489181","issue_url":"https://api.github.com/repos/apache/hudi/issues/2496","id":780489181,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDQ4OTE4MQ==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T11:21:02Z","updated_at":"2021-02-17T11:21:02Z","author_association":"MEMBER","body":"@prashantwason can we get the PR to pass tests?  I can take a final pass for landing. it'd be good to get this in","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780489181/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780513062","html_url":"https://github.com/apache/hudi/pull/2548#issuecomment-780513062","issue_url":"https://api.github.com/repos/apache/hudi/issues/2548","id":780513062,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDUxMzA2Mg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T12:07:52Z","updated_at":"2021-02-17T12:07:52Z","author_association":"CONTRIBUTOR","body":"> My vote is for just merging these PRs and not do the new versions. The existing artifacts are out there already.\r\n\r\n+1 for only merging the commit.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780513062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780556494","html_url":"https://github.com/apache/hudi/pull/2565#issuecomment-780556494","issue_url":"https://api.github.com/repos/apache/hudi/issues/2565","id":780556494,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDU1NjQ5NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T13:29:34Z","updated_at":"2021-02-17T13:29:34Z","author_association":"CONTRIBUTOR","body":"just curious. actual bootstrap should have some config on these lines right? while bootstrapping data to hudi, filter directories based on some predicate. can't we reuse the same? \r\nCC @bvaradar @n3nash ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780556494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780557022","html_url":"https://github.com/apache/hudi/pull/2580#issuecomment-780557022","issue_url":"https://api.github.com/repos/apache/hudi/issues/2580","id":780557022,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDU1NzAyMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T13:30:28Z","updated_at":"2021-02-17T13:30:28Z","author_association":"CONTRIBUTOR","body":"Can you please update the description and the purpose. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780557022/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780559379","html_url":"https://github.com/apache/hudi/pull/2580#issuecomment-780559379","issue_url":"https://api.github.com/repos/apache/hudi/issues/2580","id":780559379,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDU1OTM3OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T13:34:29Z","updated_at":"2021-02-17T13:34:47Z","author_association":"CONTRIBUTOR","body":"Can you go over steps required for migration if any. Also, guess we have to follow up with downgrade step if someone downgrades from 0.8.0 to 0.7.0 for eg. I assume no additional steps are required for upgrade though. If not, might have to fix that in a follow up patch as well. \r\n\r\nWould be nice if you can add those details. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780559379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780561687","html_url":"https://github.com/apache/hudi/pull/2388#issuecomment-780561687","issue_url":"https://api.github.com/repos/apache/hudi/issues/2388","id":780561687,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDU2MTY4Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T13:38:29Z","updated_at":"2021-02-17T13:38:29Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @n3nash : gentle reminder to review :) its been few days.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780561687/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780589054","html_url":"https://github.com/apache/hudi/issues/2265#issuecomment-780589054","issue_url":"https://api.github.com/repos/apache/hudi/issues/2265","id":780589054,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDU4OTA1NA==","user":{"login":"konradwudkowski","id":11072914,"node_id":"MDQ6VXNlcjExMDcyOTE0","avatar_url":"https://avatars.githubusercontent.com/u/11072914?v=4","gravatar_id":"","url":"https://api.github.com/users/konradwudkowski","html_url":"https://github.com/konradwudkowski","followers_url":"https://api.github.com/users/konradwudkowski/followers","following_url":"https://api.github.com/users/konradwudkowski/following{/other_user}","gists_url":"https://api.github.com/users/konradwudkowski/gists{/gist_id}","starred_url":"https://api.github.com/users/konradwudkowski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/konradwudkowski/subscriptions","organizations_url":"https://api.github.com/users/konradwudkowski/orgs","repos_url":"https://api.github.com/users/konradwudkowski/repos","events_url":"https://api.github.com/users/konradwudkowski/events{/privacy}","received_events_url":"https://api.github.com/users/konradwudkowski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T14:21:59Z","updated_at":"2021-02-17T14:22:18Z","author_association":"NONE","body":"Hi @nsivabalan I've not tried any previous version, I've used hudi for the first time now but we're in prod with it. I noticed the problem in a test where this scenario was an edge case I was asserting and was surprised by hudi's behaviour.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780589054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780850528","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-780850528","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":780850528,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDg1MDUyOA==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-17T21:01:35Z","updated_at":"2021-02-17T21:01:35Z","author_association":"NONE","body":"@nsivabalan it worked but I think a view it is not a good solution, because we will have a maintenence problem.\r\n\r\nIt is not a Hudi fault, so we need to wait for athena, but I think it should not be solved soon...\r\n\r\nin Hudi side is there anything what we can do? My timestamp is not a timestamp micro is timestamp milisecond","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780850528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780972942","html_url":"https://github.com/apache/hudi/pull/2565#issuecomment-780972942","issue_url":"https://api.github.com/repos/apache/hudi/issues/2565","id":780972942,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDk3Mjk0Mg==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T01:32:39Z","updated_at":"2021-02-18T01:32:39Z","author_association":"CONTRIBUTOR","body":"@prashantwason can you take care of @nsivabalan comment and concern, we can merge then.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780972942/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780973665","html_url":"https://github.com/apache/hudi/pull/2536#issuecomment-780973665","issue_url":"https://api.github.com/repos/apache/hudi/issues/2536","id":780973665,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDk3MzY2NQ==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T01:34:12Z","updated_at":"2021-02-18T01:34:12Z","author_association":"CONTRIBUTOR","body":"LGTM, merging this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780973665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780978653","html_url":"https://github.com/apache/hudi/pull/2534#issuecomment-780978653","issue_url":"https://api.github.com/repos/apache/hudi/issues/2534","id":780978653,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MDk3ODY1Mw==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T01:45:57Z","updated_at":"2021-02-18T01:45:57Z","author_association":"CONTRIBUTOR","body":"@nsivabalan There is a conflicting file.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/780978653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781032648","html_url":"https://github.com/apache/hudi/issues/2522#issuecomment-781032648","issue_url":"https://api.github.com/repos/apache/hudi/issues/2522","id":781032648,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTAzMjY0OA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T04:01:35Z","updated_at":"2021-02-18T04:01:35Z","author_association":"CONTRIBUTOR","body":"@sleapfish : closing this out as we could achieve this using existing recordPayload with one column to determine source ordering. We have a tracking ticket for multiple preCombine keys if you are interested https://issues.apache.org/jira/browse/HUDI-1573","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781032648/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781032755","html_url":"https://github.com/apache/hudi/issues/2522#issuecomment-781032755","issue_url":"https://api.github.com/repos/apache/hudi/issues/2522","id":781032755,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTAzMjc1NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T04:01:55Z","updated_at":"2021-02-18T04:01:55Z","author_association":"CONTRIBUTOR","body":"Feel free to reach out to us if you need any more info. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781032755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781034857","html_url":"https://github.com/apache/hudi/issues/2563#issuecomment-781034857","issue_url":"https://api.github.com/repos/apache/hudi/issues/2563","id":781034857,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTAzNDg1Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T04:08:31Z","updated_at":"2021-02-18T04:08:31Z","author_association":"CONTRIBUTOR","body":"yeah. we don't support full schema evolution as of today. But definitely its in our radar. https://issues.apache.org/jira/browse/HUDI-631 \r\nhttps://issues.apache.org/jira/browse/HUDI-1129\r\nLet us know if you need anything more that what is being tracked already. Or feel free to update the jiras. Feel free to close out this issue. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781034857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781035419","html_url":"https://github.com/apache/hudi/issues/2533#issuecomment-781035419","issue_url":"https://api.github.com/repos/apache/hudi/issues/2533","id":781035419,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTAzNTQxOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T04:10:25Z","updated_at":"2021-02-18T04:10:25Z","author_association":"CONTRIBUTOR","body":"yeah, unfortunately we don't expose this as of today. We have a tracking ticket https://issues.apache.org/jira/browse/HUDI-1593. We will try to get it in next release. \r\n@abhijeetkushe : can we close this support ticket if you are good w/ clarifications. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781035419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781038539","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-781038539","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":781038539,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTAzODUzOQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T04:20:36Z","updated_at":"2021-02-18T04:20:36Z","author_association":"CONTRIBUTOR","body":"slightly unrelated comment. guess you might have to fix your config value for hoodie.memory.compaction.fraction. It is expected to be a fraction like 0.3 or 0.5 etc. From your desc, looks like are having some large value for this config. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781038539/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781055752","html_url":"https://github.com/apache/hudi/pull/2548#issuecomment-781055752","issue_url":"https://api.github.com/repos/apache/hudi/issues/2548","id":781055752,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTA1NTc1Mg==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T05:02:30Z","updated_at":"2021-02-18T05:02:30Z","author_association":"MEMBER","body":"@caidezhi Thanks for your patience. It took us a while to sort this out, given this is the first time we faced somethign like this. \r\n\r\nWe deeply appreciate your initiative! ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781055752/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781085404","html_url":"https://github.com/apache/hudi/pull/2541#issuecomment-781085404","issue_url":"https://api.github.com/repos/apache/hudi/issues/2541","id":781085404,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTA4NTQwNA==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T06:15:39Z","updated_at":"2021-02-18T06:15:39Z","author_association":"MEMBER","body":"@xushiyan  Few things I want to confirm \r\n\r\n1. We are just adding this to extraMetadata in the commit? So, no changes to the avro schema for commit metadata?\r\n2. For now, we only do min/max? We went back on the histogram idea?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781085404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781088346","html_url":"https://github.com/apache/hudi/pull/2541#issuecomment-781088346","issue_url":"https://api.github.com/repos/apache/hudi/issues/2541","id":781088346,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTA4ODM0Ng==","user":{"login":"vinothchandar","id":1179324,"node_id":"MDQ6VXNlcjExNzkzMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1179324?v=4","gravatar_id":"","url":"https://api.github.com/users/vinothchandar","html_url":"https://github.com/vinothchandar","followers_url":"https://api.github.com/users/vinothchandar/followers","following_url":"https://api.github.com/users/vinothchandar/following{/other_user}","gists_url":"https://api.github.com/users/vinothchandar/gists{/gist_id}","starred_url":"https://api.github.com/users/vinothchandar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinothchandar/subscriptions","organizations_url":"https://api.github.com/users/vinothchandar/orgs","repos_url":"https://api.github.com/users/vinothchandar/repos","events_url":"https://api.github.com/users/vinothchandar/events{/privacy}","received_events_url":"https://api.github.com/users/vinothchandar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T06:22:33Z","updated_at":"2021-02-18T06:22:33Z","author_association":"MEMBER","body":"Actually, I think you are just emitting a metric?  can we also add this to commit metadata? ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781088346/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781095795","html_url":"https://github.com/apache/hudi/pull/2210#issuecomment-781095795","issue_url":"https://api.github.com/repos/apache/hudi/issues/2210","id":781095795,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTA5NTc5NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T06:39:47Z","updated_at":"2021-02-18T06:39:47Z","author_association":"CONTRIBUTOR","body":"@hotienvu : If you are busy, I can look at addressing any pending feedback and looking into the build failure. Will push updates to the patch w/ any fixes if you are ok.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781095795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781096026","html_url":"https://github.com/apache/hudi/pull/2188#issuecomment-781096026","issue_url":"https://api.github.com/repos/apache/hudi/issues/2188","id":781096026,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTA5NjAyNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T06:40:17Z","updated_at":"2021-02-18T17:06:45Z","author_association":"CONTRIBUTOR","body":"@n3nash : Can you please take this across the finish line. We tried to get this into previous release itself. Don't wanna scramble again for next release. Appreciate if you can spend some time on this. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781096026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781103554","html_url":"https://github.com/apache/hudi/pull/2581#issuecomment-781103554","issue_url":"https://api.github.com/repos/apache/hudi/issues/2581","id":781103554,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTEwMzU1NA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T06:57:00Z","updated_at":"2021-02-23T03:07:57Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2581?src=pr&el=h1) Report\n> Merging [#2581](https://codecov.io/gh/apache/hudi/pull/2581?src=pr&el=desc) (af6d9b7) into [master](https://codecov.io/gh/apache/hudi/commit/43a0776c7c88a5f7beac6c8853db7e341810635a?el=desc) (43a0776) will **decrease** coverage by `41.45%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2581/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2581?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master   #2581       +/-   ##\n============================================\n- Coverage     51.14%   9.69%   -41.46%     \n+ Complexity     3215      48     -3167     \n============================================\n  Files           438      53      -385     \n  Lines         20041    1929    -18112     \n  Branches       2064     230     -1834     \n============================================\n- Hits          10250     187    -10063     \n+ Misses         8946    1729     -7217     \n+ Partials        845      13      -832     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `9.69% <ø> (-59.78%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2581?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...va/org/apache/hudi/utilities/IdentitySplitter.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL0lkZW50aXR5U3BsaXR0ZXIuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-2.00%)` | |\n| [...va/org/apache/hudi/utilities/schema/SchemaSet.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFTZXQuamF2YQ==) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-3.00%)` | |\n| [...a/org/apache/hudi/utilities/sources/RowSource.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUm93U291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [.../org/apache/hudi/utilities/sources/AvroSource.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQXZyb1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [.../org/apache/hudi/utilities/sources/JsonSource.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvblNvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-1.00%)` | |\n| [...rg/apache/hudi/utilities/sources/CsvDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvQ3N2REZTU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-10.00%)` | |\n| [...g/apache/hudi/utilities/sources/JsonDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkRGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| [...apache/hudi/utilities/sources/JsonKafkaSource.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvSnNvbkthZmthU291cmNlLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-6.00%)` | |\n| [...pache/hudi/utilities/sources/ParquetDFSSource.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NvdXJjZXMvUGFycXVldERGU1NvdXJjZS5qYXZh) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-5.00%)` | |\n| [...lities/schema/SchemaProviderWithPostProcessor.java](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL3NjaGVtYS9TY2hlbWFQcm92aWRlcldpdGhQb3N0UHJvY2Vzc29yLmphdmE=) | `0.00% <0.00%> (-100.00%)` | `0.00% <0.00%> (-4.00%)` | |\n| ... and [412 more](https://codecov.io/gh/apache/hudi/pull/2581/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781103554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781108823","html_url":"https://github.com/apache/hudi/pull/2582#issuecomment-781108823","issue_url":"https://api.github.com/repos/apache/hudi/issues/2582","id":781108823,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTEwODgyMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T07:07:25Z","updated_at":"2021-02-18T20:55:53Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2582?src=pr&el=h1) Report\n> Merging [#2582](https://codecov.io/gh/apache/hudi/pull/2582?src=pr&el=desc) (17f5c38) into [master](https://codecov.io/gh/apache/hudi/commit/37972071ff4d1912ea58834061abf95fc499739d?el=desc) (3797207) will **increase** coverage by `18.28%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2582/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2582?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2582       +/-   ##\n=============================================\n+ Coverage     51.15%   69.44%   +18.28%     \n+ Complexity     3211      357     -2854     \n=============================================\n  Files           435       53      -382     \n  Lines         19984     1931    -18053     \n  Branches       2057      230     -1827     \n=============================================\n- Hits          10223     1341     -8882     \n+ Misses         8920      458     -8462     \n+ Partials        841      132      -709     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.44% <ø> (+0.05%)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2582?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...n/scala/org/apache/hudi/HoodieMergeOnReadRDD.scala](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0hvb2RpZU1lcmdlT25SZWFkUkRELnNjYWxh) | | | |\n| [...hudi/common/table/log/block/HoodieDeleteBlock.java](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9ibG9jay9Ib29kaWVEZWxldGVCbG9jay5qYXZh) | | | |\n| [...he/hudi/common/model/EmptyHoodieRecordPayload.java](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0VtcHR5SG9vZGllUmVjb3JkUGF5bG9hZC5qYXZh) | | | |\n| [...src/main/java/org/apache/hudi/dla/DLASyncTool.java](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1zeW5jL2h1ZGktZGxhLXN5bmMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvZGxhL0RMQVN5bmNUb29sLmphdmE=) | | | |\n| [.../apache/hudi/metadata/HoodieTableMetadataUtil.java](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvbWV0YWRhdGEvSG9vZGllVGFibGVNZXRhZGF0YVV0aWwuamF2YQ==) | | | |\n| [.../hadoop/realtime/AbstractRealtimeRecordReader.java](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL3JlYWx0aW1lL0Fic3RyYWN0UmVhbHRpbWVSZWNvcmRSZWFkZXIuamF2YQ==) | | | |\n| [...apache/hudi/common/model/HoodieCleaningPolicy.java](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL0hvb2RpZUNsZWFuaW5nUG9saWN5LmphdmE=) | | | |\n| [.../common/util/queue/FunctionBasedQueueProducer.java](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvRnVuY3Rpb25CYXNlZFF1ZXVlUHJvZHVjZXIuamF2YQ==) | | | |\n| [...udi/common/util/queue/BoundedInMemoryExecutor.java](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvQm91bmRlZEluTWVtb3J5RXhlY3V0b3IuamF2YQ==) | | | |\n| [...rc/main/scala/org/apache/hudi/Spark3RowSerDe.scala](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmszL3NyYy9tYWluL3NjYWxhL29yZy9hcGFjaGUvaHVkaS9TcGFyazNSb3dTZXJEZS5zY2FsYQ==) | | | |\n| ... and [373 more](https://codecov.io/gh/apache/hudi/pull/2582/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781108823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781141632","html_url":"https://github.com/apache/hudi/pull/2581#issuecomment-781141632","issue_url":"https://api.github.com/repos/apache/hudi/issues/2581","id":781141632,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTE0MTYzMg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T08:15:16Z","updated_at":"2021-02-18T08:15:16Z","author_association":"CONTRIBUTOR","body":"@lamber-ken You can also help to review this PR, if you would like to do it.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781141632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781149657","html_url":"https://github.com/apache/hudi/pull/2359#issuecomment-781149657","issue_url":"https://api.github.com/repos/apache/hudi/issues/2359","id":781149657,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTE0OTY1Nw==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T08:25:33Z","updated_at":"2021-02-18T08:26:00Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Addressed your comments PTAL. @vinothchandar This PR is ready. Following is the summary of outstanding items / previous questions. \r\nI have tested this PR against the test plan discussed. I have not been able to test against async clustering / compaction. This should be technically fine since there are no code changes to the rollback of their path. Let me know if you need any further clarification, we can do a quick call to resolve and land this PR.\r\n\r\n> > The concern I had was the part 2 where, a committed write could have been archived and we may end up skipping it. Can you please clarify again how we guard that? By ensuring the archival will wait for the cleaner to log this block?\r\n> \r\n> @vinothchandar I have made 2 changes for multi-writer.\r\n> \r\n> 1. I changed the logic in `HoodieTimelineArchiveLog` to NOT archive anything after the oldest inflight. For long running jobs, we want to make sure that all instants that happened after it are present and not archived so conflict resolution can be done correctly.\r\n> 2. I have added a check in log scanning code that log blocks instant should be either a) in the commit timeline or earlier that the earliest commit and b) not present in the inflight timeline.\r\n> \r\n> Not following your ask around committed writes and skipping, can you elaborate ? Resolved other comments, left 1 open item.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781149657/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781153000","html_url":"https://github.com/apache/hudi/pull/2580#issuecomment-781153000","issue_url":"https://api.github.com/repos/apache/hudi/issues/2580","id":781153000,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTE1MzAwMA==","user":{"login":"n3nash","id":2722167,"node_id":"MDQ6VXNlcjI3MjIxNjc=","avatar_url":"https://avatars.githubusercontent.com/u/2722167?v=4","gravatar_id":"","url":"https://api.github.com/users/n3nash","html_url":"https://github.com/n3nash","followers_url":"https://api.github.com/users/n3nash/followers","following_url":"https://api.github.com/users/n3nash/following{/other_user}","gists_url":"https://api.github.com/users/n3nash/gists{/gist_id}","starred_url":"https://api.github.com/users/n3nash/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/n3nash/subscriptions","organizations_url":"https://api.github.com/users/n3nash/orgs","repos_url":"https://api.github.com/users/n3nash/repos","events_url":"https://api.github.com/users/n3nash/events{/privacy}","received_events_url":"https://api.github.com/users/n3nash/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T08:27:14Z","updated_at":"2021-02-18T08:27:24Z","author_association":"CONTRIBUTOR","body":"@vinothchandar @nsivabalan Please hold on your comments, this PR is not ready and is marked as WIP.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781153000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781192449","html_url":"https://github.com/apache/hudi/pull/2581#issuecomment-781192449","issue_url":"https://api.github.com/repos/apache/hudi/issues/2581","id":781192449,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTE5MjQ0OQ==","user":{"login":"lamberken","id":20113411,"node_id":"MDQ6VXNlcjIwMTEzNDEx","avatar_url":"https://avatars.githubusercontent.com/u/20113411?v=4","gravatar_id":"","url":"https://api.github.com/users/lamberken","html_url":"https://github.com/lamberken","followers_url":"https://api.github.com/users/lamberken/followers","following_url":"https://api.github.com/users/lamberken/following{/other_user}","gists_url":"https://api.github.com/users/lamberken/gists{/gist_id}","starred_url":"https://api.github.com/users/lamberken/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lamberken/subscriptions","organizations_url":"https://api.github.com/users/lamberken/orgs","repos_url":"https://api.github.com/users/lamberken/repos","events_url":"https://api.github.com/users/lamberken/events{/privacy}","received_events_url":"https://api.github.com/users/lamberken/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T09:01:37Z","updated_at":"2021-02-18T09:01:37Z","author_association":"MEMBER","body":"> @lamber-ken You can also help to review this PR, if you would like to do it.\r\n\r\nYeah. By the way, big thanks to @danny0405 for RFC-24 👍 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781192449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781352392","html_url":"https://github.com/apache/hudi/issues/2533#issuecomment-781352392","issue_url":"https://api.github.com/repos/apache/hudi/issues/2533","id":781352392,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTM1MjM5Mg==","user":{"login":"abhijeetkushe","id":2093096,"node_id":"MDQ6VXNlcjIwOTMwOTY=","avatar_url":"https://avatars.githubusercontent.com/u/2093096?v=4","gravatar_id":"","url":"https://api.github.com/users/abhijeetkushe","html_url":"https://github.com/abhijeetkushe","followers_url":"https://api.github.com/users/abhijeetkushe/followers","following_url":"https://api.github.com/users/abhijeetkushe/following{/other_user}","gists_url":"https://api.github.com/users/abhijeetkushe/gists{/gist_id}","starred_url":"https://api.github.com/users/abhijeetkushe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhijeetkushe/subscriptions","organizations_url":"https://api.github.com/users/abhijeetkushe/orgs","repos_url":"https://api.github.com/users/abhijeetkushe/repos","events_url":"https://api.github.com/users/abhijeetkushe/events{/privacy}","received_events_url":"https://api.github.com/users/abhijeetkushe/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T13:43:04Z","updated_at":"2021-02-18T13:43:04Z","author_association":"NONE","body":"Yeah this ticket can be closed.We are using EMR built in version of hudi so will be hard for us to upgrade.So for now we have build checks to ensure this does not happen","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781352392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781385127","html_url":"https://github.com/apache/hudi/issues/2563#issuecomment-781385127","issue_url":"https://api.github.com/repos/apache/hudi/issues/2563","id":781385127,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTM4NTEyNw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T14:33:29Z","updated_at":"2021-02-18T14:33:29Z","author_association":"NONE","body":"@nsivabalan good to know, I will close this ticket.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781385127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781391464","html_url":"https://github.com/apache/hudi/issues/2533#issuecomment-781391464","issue_url":"https://api.github.com/repos/apache/hudi/issues/2533","id":781391464,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTM5MTQ2NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T14:43:15Z","updated_at":"2021-02-18T14:43:15Z","author_association":"CONTRIBUTOR","body":"got it, thanks. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781391464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781391686","html_url":"https://github.com/apache/hudi/issues/2563#issuecomment-781391686","issue_url":"https://api.github.com/repos/apache/hudi/issues/2563","id":781391686,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTM5MTY4Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T14:43:33Z","updated_at":"2021-02-18T14:43:33Z","author_association":"CONTRIBUTOR","body":"thanks. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781391686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781485443","html_url":"https://github.com/apache/hudi/issues/2555#issuecomment-781485443","issue_url":"https://api.github.com/repos/apache/hudi/issues/2555","id":781485443,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTQ4NTQ0Mw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T16:53:41Z","updated_at":"2021-02-18T16:53:41Z","author_association":"NONE","body":"Thank you so much for your explanation, I will wait for aws to have better support on Hudi Clustering","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781485443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781506162","html_url":"https://github.com/apache/hudi/pull/2359#issuecomment-781506162","issue_url":"https://api.github.com/repos/apache/hudi/issues/2359","id":781506162,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTUwNjE2Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T17:23:42Z","updated_at":"2021-02-18T17:23:42Z","author_association":"CONTRIBUTOR","body":"IIUC, we are delegating the clean up of failed writes to cleaner. Did you folks discuss the possibility of introducing another async table service called FailedJobsCleaner or something. Bcoz, we can't force customer to make regular cleaning aggressive as they might have their own reasons to retain for longer period of time. But what if they wish to clean up failed writes sooner but not inline ;) Also, from my understanding, this new \"FailedJobsCleaner\" does not need to coordinate w/ anything or take locks. just need to delete unreachable files. So, overhead may not be much as compared to other jobs. no updates to metadata as well right? or do we need to? \r\n\r\nI understand we keep adding more weight to async operations (cleaning, compaction, clustering, etc). anyways, wanted to hear your thoughts. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781506162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781686174","html_url":"https://github.com/apache/hudi/pull/2565#issuecomment-781686174","issue_url":"https://api.github.com/repos/apache/hudi/issues/2565","id":781686174,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTY4NjE3NA==","user":{"login":"prashantwason","id":58448203,"node_id":"MDQ6VXNlcjU4NDQ4MjAz","avatar_url":"https://avatars.githubusercontent.com/u/58448203?v=4","gravatar_id":"","url":"https://api.github.com/users/prashantwason","html_url":"https://github.com/prashantwason","followers_url":"https://api.github.com/users/prashantwason/followers","following_url":"https://api.github.com/users/prashantwason/following{/other_user}","gists_url":"https://api.github.com/users/prashantwason/gists{/gist_id}","starred_url":"https://api.github.com/users/prashantwason/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/prashantwason/subscriptions","organizations_url":"https://api.github.com/users/prashantwason/orgs","repos_url":"https://api.github.com/users/prashantwason/repos","events_url":"https://api.github.com/users/prashantwason/events{/privacy}","received_events_url":"https://api.github.com/users/prashantwason/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T22:48:10Z","updated_at":"2021-02-18T22:48:10Z","author_association":"MEMBER","body":"> just curious. actual bootstrap should have some config on these lines right? while bootstrapping data to hudi, filter directories based on some predicate. can't we reuse the same?\r\n> CC @bvaradar @n3nash\r\nI did not find any such config in HoodieBootstrapConfig. I feel keeping it separate may be better:\r\n1. so as to not be confusing the two features which work independently (also the configs in bootstrap have a prefix hoodie.bootstrap)\r\n2. building the HoodieWriteConfig will be awkward with having to provide a HoodieBootstrapConfig when enabling Metadata Table\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781686174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781689708","html_url":"https://github.com/apache/hudi/pull/2583#issuecomment-781689708","issue_url":"https://api.github.com/repos/apache/hudi/issues/2583","id":781689708,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTY4OTcwOA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T22:56:34Z","updated_at":"2021-02-18T23:06:54Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2583?src=pr&el=h1) Report\n> Merging [#2583](https://codecov.io/gh/apache/hudi/pull/2583?src=pr&el=desc) (3693e3f) into [master](https://codecov.io/gh/apache/hudi/commit/b0010bf3b449a9d2e01955b0746b795e22e577db?el=desc) (b0010bf) will **increase** coverage by `18.24%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2583/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2583?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2583       +/-   ##\n=============================================\n+ Coverage     51.15%   69.39%   +18.24%     \n+ Complexity     3212      356     -2856     \n=============================================\n  Files           436       53      -383     \n  Lines         19987     1931    -18056     \n  Branches       2057      230     -1827     \n=============================================\n- Hits          10224     1340     -8884     \n+ Misses         8922      458     -8464     \n+ Partials        841      133      -708     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.39% <ø> (ø)` | `0.00 <ø> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2583?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...rc/main/scala/org/apache/hudi/cli/DeDupeType.scala](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL2NsaS9EZUR1cGVUeXBlLnNjYWxh) | | | |\n| [...he/hudi/cli/commands/HDFSParquetImportCommand.java](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL0hERlNQYXJxdWV0SW1wb3J0Q29tbWFuZC5qYXZh) | | | |\n| [...a/org/apache/hudi/io/storage/HoodieFileReader.java](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaW8vc3RvcmFnZS9Ib29kaWVGaWxlUmVhZGVyLmphdmE=) | | | |\n| [...n/java/org/apache/hudi/internal/DefaultSource.java](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3BhcmsyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9odWRpL2ludGVybmFsL0RlZmF1bHRTb3VyY2UuamF2YQ==) | | | |\n| [...src/main/scala/org/apache/hudi/DefaultSource.scala](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1zcGFyay1kYXRhc291cmNlL2h1ZGktc3Bhcmsvc3JjL21haW4vc2NhbGEvb3JnL2FwYWNoZS9odWRpL0RlZmF1bHRTb3VyY2Uuc2NhbGE=) | | | |\n| [...org/apache/hudi/hadoop/HoodieHFileInputFormat.java](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0hvb2RpZUhGaWxlSW5wdXRGb3JtYXQuamF2YQ==) | | | |\n| [...udi/common/util/queue/BoundedInMemoryExecutor.java](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvcXVldWUvQm91bmRlZEluTWVtb3J5RXhlY3V0b3IuamF2YQ==) | | | |\n| [...src/main/java/org/apache/hudi/cli/TableHeader.java](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL1RhYmxlSGVhZGVyLmphdmE=) | | | |\n| [...mmon/table/log/AbstractHoodieLogRecordScanner.java](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL2xvZy9BYnN0cmFjdEhvb2RpZUxvZ1JlY29yZFNjYW5uZXIuamF2YQ==) | | | |\n| [...pache/hudi/hadoop/config/HoodieRealtimeConfig.java](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL2NvbmZpZy9Ib29kaWVSZWFsdGltZUNvbmZpZy5qYXZh) | | | |\n| ... and [372 more](https://codecov.io/gh/apache/hudi/pull/2583/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781689708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781692730","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-781692730","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":781692730,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTY5MjczMA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T23:03:38Z","updated_at":"2021-02-18T23:03:38Z","author_association":"CONTRIBUTOR","body":"@rswagatika : Sorry for the delay.  It looks like compaction was never run on the dataset. Without compaction run, cleaner wont be able to delete the old file slices. Can you trigger compaction  (https://hudi.apache.org/blog/async-compaction-deployment-model/ )","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781692730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781693183","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-781693183","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":781693183,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTY5MzE4Mw==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T23:04:41Z","updated_at":"2021-02-18T23:04:41Z","author_association":"CONTRIBUTOR","body":"Also, @nsivabalan : Can you check why the cli command \"show fsview all\" returned empty ? If this is a bug, can you raise a jira ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781693183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781696815","html_url":"https://github.com/apache/hudi/issues/2509#issuecomment-781696815","issue_url":"https://api.github.com/repos/apache/hudi/issues/2509","id":781696815,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTY5NjgxNQ==","user":{"login":"satishkotha","id":2992755,"node_id":"MDQ6VXNlcjI5OTI3NTU=","avatar_url":"https://avatars.githubusercontent.com/u/2992755?v=4","gravatar_id":"","url":"https://api.github.com/users/satishkotha","html_url":"https://github.com/satishkotha","followers_url":"https://api.github.com/users/satishkotha/followers","following_url":"https://api.github.com/users/satishkotha/following{/other_user}","gists_url":"https://api.github.com/users/satishkotha/gists{/gist_id}","starred_url":"https://api.github.com/users/satishkotha/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/satishkotha/subscriptions","organizations_url":"https://api.github.com/users/satishkotha/orgs","repos_url":"https://api.github.com/users/satishkotha/repos","events_url":"https://api.github.com/users/satishkotha/events{/privacy}","received_events_url":"https://api.github.com/users/satishkotha/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-18T23:13:36Z","updated_at":"2021-02-18T23:13:36Z","author_association":"MEMBER","body":"I think if you query using spark datasource APIs, queries will be able to read timestamp field correctly. Querying through Athena, i don't think there is another workaround unfortunately.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781696815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781759949","html_url":"https://github.com/apache/hudi/pull/2485#issuecomment-781759949","issue_url":"https://api.github.com/repos/apache/hudi/issues/2485","id":781759949,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTc1OTk0OQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T01:56:37Z","updated_at":"2021-02-19T01:56:37Z","author_association":"NONE","body":"I have a curiosity, what will happen if I recreate the source table of streaming?\r\n\r\nFor example, I have a tableA and a streaming using tableA as source and tableB as a sink, for any needs I reprocessed tableA, when Spark streaming try to read tableA, what will happen?\r\n\r\nI will try.\r\n\r\n@pengzhiwei2018 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781759949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781765517","html_url":"https://github.com/apache/hudi/pull/2485#issuecomment-781765517","issue_url":"https://api.github.com/repos/apache/hudi/issues/2485","id":781765517,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTc2NTUxNw==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T02:13:21Z","updated_at":"2021-02-19T02:13:21Z","author_association":"NONE","body":"> I have a curiosity, what will happen if I recreate the source table of streaming?\r\n> \r\n> For example, I have a tableA and a streaming using tableA as source and tableB as a sink, for any needs I reprocessed tableA, when Spark streaming try to read tableA, what will happen?\r\n> \r\n> I will try.\r\n> \r\n> @pengzhiwei2018\r\n\r\nHi @rubenssoto ,do you mean multiple stream jobs consume the same table simultaneously？Yeah, it does not matter with that. Each stream job keeps its own offset state. So the consumers do not influence each other.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781765517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781767655","html_url":"https://github.com/apache/hudi/pull/2485#issuecomment-781767655","issue_url":"https://api.github.com/repos/apache/hudi/issues/2485","id":781767655,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTc2NzY1NQ==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T02:19:51Z","updated_at":"2021-02-19T02:19:51Z","author_association":"NONE","body":"@pengzhiwei2018 \r\n\r\nno, for example, today with spark structured streaming in a regular parquet if my tableA as a source to my streaming, if I reprocess/recreate tableA spark streaming will process all new files of my reprocessed tableA\r\n\r\nif for any reason I need to recreate my tableA, what will happen to my streams?\r\n\r\nI dont know if I make myself clear","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781767655/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781777083","html_url":"https://github.com/apache/hudi/pull/2485#issuecomment-781777083","issue_url":"https://api.github.com/repos/apache/hudi/issues/2485","id":781777083,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTc3NzA4Mw==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T02:50:38Z","updated_at":"2021-02-19T02:50:38Z","author_association":"NONE","body":"> @pengzhiwei2018\r\n> \r\n> no, for example, today with spark structured streaming in a regular parquet if my tableA as a source to my streaming, if I reprocess/recreate tableA spark streaming will process all new files of my reprocessed tableA\r\n> \r\n> if for any reason I need to recreate my tableA, what will happen to my streams?\r\n> \r\n> I dont know if I make myself clear\r\n\r\nHi @rubenssoto.\r\nIf the table has recreated, the offset of the stream source should be reset(e.g. use another checkpoint directory or delete the old checkpoint directory). Otherwise, the old offset may not match the new recreated table and we cannot read data correctly.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781777083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781777638","html_url":"https://github.com/apache/hudi/pull/2485#issuecomment-781777638","issue_url":"https://api.github.com/repos/apache/hudi/issues/2485","id":781777638,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTc3NzYzOA==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T02:52:34Z","updated_at":"2021-02-19T02:52:34Z","author_association":"NONE","body":"good to know...\r\n\r\nthank you @pengzhiwei2018 !!!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781777638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781780040","html_url":"https://github.com/apache/hudi/pull/2283#issuecomment-781780040","issue_url":"https://api.github.com/repos/apache/hudi/issues/2283","id":781780040,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTc4MDA0MA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T03:00:11Z","updated_at":"2021-02-19T03:06:20Z","author_association":"NONE","body":"> I do understand that these prope\r\n\r\nHi @umehrot2 \r\n\r\n> I do understand that these properties should be synced because it will make the spark sql queries go through the Data source instead of input format right ?\r\n\r\nYes, you are right! Spark DataSource need these properties sync to hive meta.\r\n\r\n> But \"incorrect results\" thing is not correct because Hudi requires you to use the convert metastore property to false when querying via spark sql. And if you set it to true (default) you need to use the path filter.\r\n\r\nThanks for your correct. I will rename the description of the title.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781780040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781780948","html_url":"https://github.com/apache/hudi/pull/2283#issuecomment-781780948","issue_url":"https://api.github.com/repos/apache/hudi/issues/2283","id":781780948,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTc4MDk0OA==","user":{"login":"pengzhiwei2018","id":42458891,"node_id":"MDQ6VXNlcjQyNDU4ODkx","avatar_url":"https://avatars.githubusercontent.com/u/42458891?v=4","gravatar_id":"","url":"https://api.github.com/users/pengzhiwei2018","html_url":"https://github.com/pengzhiwei2018","followers_url":"https://api.github.com/users/pengzhiwei2018/followers","following_url":"https://api.github.com/users/pengzhiwei2018/following{/other_user}","gists_url":"https://api.github.com/users/pengzhiwei2018/gists{/gist_id}","starred_url":"https://api.github.com/users/pengzhiwei2018/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pengzhiwei2018/subscriptions","organizations_url":"https://api.github.com/users/pengzhiwei2018/orgs","repos_url":"https://api.github.com/users/pengzhiwei2018/repos","events_url":"https://api.github.com/users/pengzhiwei2018/events{/privacy}","received_events_url":"https://api.github.com/users/pengzhiwei2018/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T03:02:37Z","updated_at":"2021-02-19T03:02:37Z","author_association":"NONE","body":"> @pengzhiwei2018 : I got a chance to sync up w/ Vinoth and Balaji. Now, I get the intention with this PR. Sorry about the noise. I will take a look in a day or two. But expect either of Vinoth or Balaji to review it as well as they have more expertise w/ perf nuances.\r\n\r\nThanks for your attention on this issue, @nsivabalan . I will also spend some time to fix the test case and solve other comments in the CR.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781780948/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781818787","html_url":"https://github.com/apache/hudi/pull/2534#issuecomment-781818787","issue_url":"https://api.github.com/repos/apache/hudi/issues/2534","id":781818787,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTgxODc4Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T04:57:26Z","updated_at":"2021-02-19T04:57:26Z","author_association":"CONTRIBUTOR","body":"Fixed it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781818787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781953904","html_url":"https://github.com/apache/hudi/pull/2577#issuecomment-781953904","issue_url":"https://api.github.com/repos/apache/hudi/issues/2577","id":781953904,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MTk1MzkwNA==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T09:30:21Z","updated_at":"2021-02-19T09:30:21Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Travis failed.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/781953904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782069533","html_url":"https://github.com/apache/hudi/issues/2585#issuecomment-782069533","issue_url":"https://api.github.com/repos/apache/hudi/issues/2585","id":782069533,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjA2OTUzMw==","user":{"login":"rubenssoto","id":36298331,"node_id":"MDQ6VXNlcjM2Mjk4MzMx","avatar_url":"https://avatars.githubusercontent.com/u/36298331?v=4","gravatar_id":"","url":"https://api.github.com/users/rubenssoto","html_url":"https://github.com/rubenssoto","followers_url":"https://api.github.com/users/rubenssoto/followers","following_url":"https://api.github.com/users/rubenssoto/following{/other_user}","gists_url":"https://api.github.com/users/rubenssoto/gists{/gist_id}","starred_url":"https://api.github.com/users/rubenssoto/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rubenssoto/subscriptions","organizations_url":"https://api.github.com/users/rubenssoto/orgs","repos_url":"https://api.github.com/users/rubenssoto/repos","events_url":"https://api.github.com/users/rubenssoto/events{/privacy}","received_events_url":"https://api.github.com/users/rubenssoto/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T13:19:57Z","updated_at":"2021-02-19T13:19:57Z","author_association":"NONE","body":"Hi guys,\r\n\r\nI found a bug on my side","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782069533/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782091102","html_url":"https://github.com/apache/hudi/pull/2443#issuecomment-782091102","issue_url":"https://api.github.com/repos/apache/hudi/issues/2443","id":782091102,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjA5MTEwMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T13:57:20Z","updated_at":"2021-02-19T13:57:20Z","author_association":"CONTRIBUTOR","body":"cool, sounds good 👍 ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782091102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782099524","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-782099524","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":782099524,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjA5OTUyNA==","user":{"login":"bvaradar","id":3021376,"node_id":"MDQ6VXNlcjMwMjEzNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3021376?v=4","gravatar_id":"","url":"https://api.github.com/users/bvaradar","html_url":"https://github.com/bvaradar","followers_url":"https://api.github.com/users/bvaradar/followers","following_url":"https://api.github.com/users/bvaradar/following{/other_user}","gists_url":"https://api.github.com/users/bvaradar/gists{/gist_id}","starred_url":"https://api.github.com/users/bvaradar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bvaradar/subscriptions","organizations_url":"https://api.github.com/users/bvaradar/orgs","repos_url":"https://api.github.com/users/bvaradar/repos","events_url":"https://api.github.com/users/bvaradar/events{/privacy}","received_events_url":"https://api.github.com/users/bvaradar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T14:11:38Z","updated_at":"2021-02-19T14:11:38Z","author_association":"CONTRIBUTOR","body":"@nsivabalan : Can you try reproducing this ?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782099524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782101832","html_url":"https://github.com/apache/hudi/pull/2575#issuecomment-782101832","issue_url":"https://api.github.com/repos/apache/hudi/issues/2575","id":782101832,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjEwMTgzMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T14:15:44Z","updated_at":"2021-02-19T14:15:44Z","author_association":"CONTRIBUTOR","body":"![Screen Shot 2021-02-19 at 9 09 18 AM](https://user-images.githubusercontent.com/513218/108515330-f1a75880-7292-11eb-9673-108f4427b5f1.png)\r\n\r\n![Screen Shot 2021-02-19 at 9 09 31 AM](https://user-images.githubusercontent.com/513218/108515331-f23fef00-7292-11eb-8e20-ba60580a6753.png)\r\n\r\n![Screen Shot 2021-02-19 at 9 09 52 AM](https://user-images.githubusercontent.com/513218/108515333-f2d88580-7292-11eb-9c0a-3179fd730dd4.png)\r\n\r\n![Screen Shot 2021-02-19 at 9 10 03 AM](https://user-images.githubusercontent.com/513218/108515334-f2d88580-7292-11eb-84f4-08ce4c94434a.png)\r\n\r\n![Screen Shot 2021-02-19 at 9 10 12 AM](https://user-images.githubusercontent.com/513218/108515337-f2d88580-7292-11eb-8e51-b79e026787f1.png)\r\n\r\n![Screen Shot 2021-02-19 at 9 10 21 AM](https://user-images.githubusercontent.com/513218/108515338-f3711c00-7292-11eb-8f67-6c39f59a7042.png)\r\n\r\n![Screen Shot 2021-02-19 at 9 10 30 AM](https://user-images.githubusercontent.com/513218/108515340-f3711c00-7292-11eb-80e6-49c56164bc56.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782101832/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782132123","html_url":"https://github.com/apache/hudi/issues/2564#issuecomment-782132123","issue_url":"https://api.github.com/repos/apache/hudi/issues/2564","id":782132123,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjEzMjEyMw==","user":{"login":"rswagatika","id":76132270,"node_id":"MDQ6VXNlcjc2MTMyMjcw","avatar_url":"https://avatars.githubusercontent.com/u/76132270?v=4","gravatar_id":"","url":"https://api.github.com/users/rswagatika","html_url":"https://github.com/rswagatika","followers_url":"https://api.github.com/users/rswagatika/followers","following_url":"https://api.github.com/users/rswagatika/following{/other_user}","gists_url":"https://api.github.com/users/rswagatika/gists{/gist_id}","starred_url":"https://api.github.com/users/rswagatika/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rswagatika/subscriptions","organizations_url":"https://api.github.com/users/rswagatika/orgs","repos_url":"https://api.github.com/users/rswagatika/repos","events_url":"https://api.github.com/users/rswagatika/events{/privacy}","received_events_url":"https://api.github.com/users/rswagatika/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T15:06:14Z","updated_at":"2021-02-19T15:06:14Z","author_association":"NONE","body":"@bvaradar  Thank you for responding but both the pipelines triggered compaction and the screenshot for the second where cleaning did not trigger compaction occurred too. And also async compactation is not good for us. I think. We don't have a streaming solutions always active. So the async compaction has caused a lot of issue in the past. We are using inline compact triggered every 1 commit.\r\n\r\n\r\nCan you check why the cli command \"show fsview all\" returned empty ? => how can I check this ?\r\n\r\n<img width=\"835\" alt=\"Screen Shot 2021-02-19 at 10 02 24 AM\" src=\"https://user-images.githubusercontent.com/76132270/108521587-e4419c80-7299-11eb-8968-9cda0f0a6b93.png\">\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782132123/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782174934","html_url":"https://github.com/apache/hudi/issues/2439#issuecomment-782174934","issue_url":"https://api.github.com/repos/apache/hudi/issues/2439","id":782174934,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjE3NDkzNA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T16:12:20Z","updated_at":"2021-02-19T16:12:20Z","author_association":"CONTRIBUTOR","body":"@rakeshramakrishnan : if I not wrong, hive sync w/ metastore have been working (anecdotally from community. ) w/ hudi. So, may be some jar mismatch issue. Even w/o the aforementioned patch (#2449), it was working before. 2449 just adds explicit configs. Prior to this hive sync uses properties from Hadoop conf. that's the only difference. \r\nAs satish mentioned, we don't see any errors in the log attached.\r\n\r\nCan you get us a full stack trace if possible. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782174934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782184926","html_url":"https://github.com/apache/hudi/issues/1679#issuecomment-782184926","issue_url":"https://api.github.com/repos/apache/hudi/issues/1679","id":782184926,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjE4NDkyNg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T16:29:04Z","updated_at":"2021-02-19T16:29:04Z","author_association":"CONTRIBUTOR","body":"Here is my understanding. \r\nHudi does not use a fat jar(as the fat jar pulls in lot of unwanted jars) for hive-exec and relies on the jars to be available in the environment. Hudi does not pull this jar explicitly in any of the bundles. But this flow has been working before w/o any issues. \r\n@bvaradar @n3nash : Could it be some jar version mismatches? Any pointers would be appreciable. As I told earlier, I am running some issues locally and hence couldn't reproduce. Your help is much appreciated here. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782184926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782204284","html_url":"https://github.com/apache/hudi/pull/2534#issuecomment-782204284","issue_url":"https://api.github.com/repos/apache/hudi/issues/2534","id":782204284,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjIwNDI4NA==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T17:00:16Z","updated_at":"2021-02-19T17:00:16Z","author_association":"CONTRIBUTOR","body":"@yanghua : feel free to merge this in. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782204284/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782280046","html_url":"https://github.com/apache/hudi/pull/2473#issuecomment-782280046","issue_url":"https://api.github.com/repos/apache/hudi/issues/2473","id":782280046,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjI4MDA0Ng==","user":{"login":"zhedoubushishi","id":31263084,"node_id":"MDQ6VXNlcjMxMjYzMDg0","avatar_url":"https://avatars.githubusercontent.com/u/31263084?v=4","gravatar_id":"","url":"https://api.github.com/users/zhedoubushishi","html_url":"https://github.com/zhedoubushishi","followers_url":"https://api.github.com/users/zhedoubushishi/followers","following_url":"https://api.github.com/users/zhedoubushishi/following{/other_user}","gists_url":"https://api.github.com/users/zhedoubushishi/gists{/gist_id}","starred_url":"https://api.github.com/users/zhedoubushishi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhedoubushishi/subscriptions","organizations_url":"https://api.github.com/users/zhedoubushishi/orgs","repos_url":"https://api.github.com/users/zhedoubushishi/repos","events_url":"https://api.github.com/users/zhedoubushishi/events{/privacy}","received_events_url":"https://api.github.com/users/zhedoubushishi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-19T19:06:04Z","updated_at":"2021-02-19T19:06:04Z","author_association":"CONTRIBUTOR","body":"I have a question about this pr, is there any reason we don't want to use Flink 1.12.0? Looks like ```FlinkKafkaConsumerBase``` is also avaiable in ```flink-connector-kafka_2.12```. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782280046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782524299","html_url":"https://github.com/apache/hudi/issues/2121#issuecomment-782524299","issue_url":"https://api.github.com/repos/apache/hudi/issues/2121","id":782524299,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjUyNDI5OQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T02:15:52Z","updated_at":"2021-02-20T02:15:52Z","author_association":"CONTRIBUTOR","body":"I wrapped a key on jsonArray\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782524299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782525225","html_url":"https://github.com/apache/hudi/issues/2121#issuecomment-782525225","issue_url":"https://api.github.com/repos/apache/hudi/issues/2121","id":782525225,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjUyNTIyNQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T02:20:06Z","updated_at":"2021-02-20T02:20:06Z","author_association":"CONTRIBUTOR","body":"{\r\n\t\"product_seris\": \"S_01\",\r\n\t\"product_name\": \"iphone7\",\r\n\t\"prices\": [{\r\n\t\t\"model\": \"iphone7\",\r\n\t\t\"price\": 5200\r\n\t}, {\r\n\t\t\"model\": \"iphone7 plus\",\r\n\t\t\"price\": 5800\r\n\t}]\r\n}\r\n\r\nFormat like this.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782525225/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782525401","html_url":"https://github.com/apache/hudi/issues/2121#issuecomment-782525401","issue_url":"https://api.github.com/repos/apache/hudi/issues/2121","id":782525401,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjUyNTQwMQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T02:20:41Z","updated_at":"2021-02-20T02:20:41Z","author_association":"CONTRIBUTOR","body":"@nsivabalan ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782525401/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782526217","html_url":"https://github.com/apache/hudi/pull/2445#issuecomment-782526217","issue_url":"https://api.github.com/repos/apache/hudi/issues/2445","id":782526217,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjUyNjIxNw==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T02:24:35Z","updated_at":"2021-02-20T02:24:35Z","author_association":"CONTRIBUTOR","body":"> if the scope increases to log any data as per config/props, can you create a jira and link it.\r\n\r\nok","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782526217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782589121","html_url":"https://github.com/apache/hudi/pull/2438#issuecomment-782589121","issue_url":"https://api.github.com/repos/apache/hudi/issues/2438","id":782589121,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjU4OTEyMQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T08:46:45Z","updated_at":"2021-02-20T08:46:45Z","author_association":"CONTRIBUTOR","body":"I have verified, please help review\r\n@wangxianghu @yanghua @nsivabalan \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782589121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782593156","html_url":"https://github.com/apache/hudi/pull/2188#issuecomment-782593156","issue_url":"https://api.github.com/repos/apache/hudi/issues/2188","id":782593156,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjU5MzE1Ng==","user":{"login":"hj2016","id":18521084,"node_id":"MDQ6VXNlcjE4NTIxMDg0","avatar_url":"https://avatars.githubusercontent.com/u/18521084?v=4","gravatar_id":"","url":"https://api.github.com/users/hj2016","html_url":"https://github.com/hj2016","followers_url":"https://api.github.com/users/hj2016/followers","following_url":"https://api.github.com/users/hj2016/following{/other_user}","gists_url":"https://api.github.com/users/hj2016/gists{/gist_id}","starred_url":"https://api.github.com/users/hj2016/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hj2016/subscriptions","organizations_url":"https://api.github.com/users/hj2016/orgs","repos_url":"https://api.github.com/users/hj2016/repos","events_url":"https://api.github.com/users/hj2016/events{/privacy}","received_events_url":"https://api.github.com/users/hj2016/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T09:17:56Z","updated_at":"2021-02-20T09:17:56Z","author_association":"CONTRIBUTOR","body":"@nsivabalan  Maybe n3nash is busy and hasn't responded to me. I first modified it according to my ideas. You can confirm whether you can merge. Leave me a message if you have any questions.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782593156/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782598913","html_url":"https://github.com/apache/hudi/pull/2445#issuecomment-782598913","issue_url":"https://api.github.com/repos/apache/hudi/issues/2445","id":782598913,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjU5ODkxMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T10:02:02Z","updated_at":"2021-02-22T02:03:59Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/hudi/pull/2445?src=pr&el=h1) Report\n> Merging [#2445](https://codecov.io/gh/apache/hudi/pull/2445?src=pr&el=desc) (0ec3320) into [master](https://codecov.io/gh/apache/hudi/commit/e3d3677b7e7899705b624925666317f0c074f7c7?el=desc) (e3d3677) will **increase** coverage by `18.73%`.\n> The diff coverage is `0.00%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/hudi/pull/2445/graphs/tree.svg?width=650&height=150&src=pr&token=VTTXabwbs2)](https://codecov.io/gh/apache/hudi/pull/2445?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #2445       +/-   ##\n=============================================\n+ Coverage     50.73%   69.46%   +18.73%     \n+ Complexity     3064      356     -2708     \n=============================================\n  Files           419       53      -366     \n  Lines         18797     1929    -16868     \n  Branches       1922      230     -1692     \n=============================================\n- Hits           9536     1340     -8196     \n+ Misses         8487      456     -8031     \n+ Partials        774      133      -641     \n```\n\n| Flag | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| hudicli | `?` | `?` | |\n| hudiclient | `?` | `?` | |\n| hudicommon | `?` | `?` | |\n| hudiflink | `?` | `?` | |\n| hudihadoopmr | `?` | `?` | |\n| hudisparkdatasource | `?` | `?` | |\n| hudisync | `?` | `?` | |\n| huditimelineservice | `?` | `?` | |\n| hudiutilities | `69.46% <0.00%> (-0.02%)` | `0.00 <0.00> (ø)` | |\n\nFlags with carried forward coverage won't be shown. [Click here](https://docs.codecov.io/docs/carryforward-flags#carryforward-flags-in-the-pull-request-comment) to find out more.\n\n| [Impacted Files](https://codecov.io/gh/apache/hudi/pull/2445?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...callback/kafka/HoodieWriteCommitKafkaCallback.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2NhbGxiYWNrL2thZmthL0hvb2RpZVdyaXRlQ29tbWl0S2Fma2FDYWxsYmFjay5qYXZh) | `0.00% <0.00%> (ø)` | `0.00 <0.00> (ø)` | |\n| [...apache/hudi/utilities/deltastreamer/DeltaSync.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvRGVsdGFTeW5jLmphdmE=) | `70.00% <0.00%> (-0.87%)` | `50.00% <0.00%> (-1.00%)` | |\n| [...i/utilities/deltastreamer/HoodieDeltaStreamer.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS11dGlsaXRpZXMvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvdXRpbGl0aWVzL2RlbHRhc3RyZWFtZXIvSG9vZGllRGVsdGFTdHJlYW1lci5qYXZh) | `68.72% <0.00%> (-0.26%)` | `18.00% <0.00%> (ø%)` | |\n| [...oning/compaction/CompactionV2MigrationHandler.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL3ZlcnNpb25pbmcvY29tcGFjdGlvbi9Db21wYWN0aW9uVjJNaWdyYXRpb25IYW5kbGVyLmphdmE=) | | | |\n| [...tSpotMemoryLayoutSpecification64bitCompressed.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3V0aWwvanZtL0hvdFNwb3RNZW1vcnlMYXlvdXRTcGVjaWZpY2F0aW9uNjRiaXRDb21wcmVzc2VkLmphdmE=) | | | |\n| [...i/common/model/OverwriteWithLatestAvroPayload.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL21vZGVsL092ZXJ3cml0ZVdpdGhMYXRlc3RBdnJvUGF5bG9hZC5qYXZh) | | | |\n| [.../org/apache/hudi/cli/commands/TempViewCommand.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL1RlbXBWaWV3Q29tbWFuZC5qYXZh) | | | |\n| [.../java/org/apache/hudi/hadoop/InputPathHandler.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS1oYWRvb3AtbXIvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvaGFkb29wL0lucHV0UGF0aEhhbmRsZXIuamF2YQ==) | | | |\n| [...pache/hudi/cli/commands/FileSystemViewCommand.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS1jbGkvc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY2xpL2NvbW1hbmRzL0ZpbGVTeXN0ZW1WaWV3Q29tbWFuZC5qYXZh) | | | |\n| [...e/hudi/common/table/timeline/dto/FileGroupDTO.java](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree#diff-aHVkaS1jb21tb24vc3JjL21haW4vamF2YS9vcmcvYXBhY2hlL2h1ZGkvY29tbW9uL3RhYmxlL3RpbWVsaW5lL2R0by9GaWxlR3JvdXBEVE8uamF2YQ==) | | | |\n| ... and [360 more](https://codecov.io/gh/apache/hudi/pull/2445/diff?src=pr&el=tree-more) | |\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782598913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782611052","html_url":"https://github.com/apache/hudi/pull/2227#issuecomment-782611052","issue_url":"https://api.github.com/repos/apache/hudi/issues/2227","id":782611052,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjYxMTA1Mg==","user":{"login":"yanghua","id":2283778,"node_id":"MDQ6VXNlcjIyODM3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/2283778?v=4","gravatar_id":"","url":"https://api.github.com/users/yanghua","html_url":"https://github.com/yanghua","followers_url":"https://api.github.com/users/yanghua/followers","following_url":"https://api.github.com/users/yanghua/following{/other_user}","gists_url":"https://api.github.com/users/yanghua/gists{/gist_id}","starred_url":"https://api.github.com/users/yanghua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanghua/subscriptions","organizations_url":"https://api.github.com/users/yanghua/orgs","repos_url":"https://api.github.com/users/yanghua/repos","events_url":"https://api.github.com/users/yanghua/events{/privacy}","received_events_url":"https://api.github.com/users/yanghua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T11:33:46Z","updated_at":"2021-02-20T11:33:46Z","author_association":"CONTRIBUTOR","body":"@nsivabalan Let you take over this PR. Please go ahead.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782611052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782672436","html_url":"https://github.com/apache/hudi/pull/2443#issuecomment-782672436","issue_url":"https://api.github.com/repos/apache/hudi/issues/2443","id":782672436,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjY3MjQzNg==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-20T13:59:37Z","updated_at":"2021-02-20T13:59:37Z","author_association":"CONTRIBUTOR","body":"@nsivabalan @yanghua  please help review","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782672436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782770366","html_url":"https://github.com/apache/hudi/pull/2227#issuecomment-782770366","issue_url":"https://api.github.com/repos/apache/hudi/issues/2227","id":782770366,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjc3MDM2Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T00:20:32Z","updated_at":"2021-02-21T00:20:32Z","author_association":"CONTRIBUTOR","body":"@liujinhui1994 : I pushed a commit to this PR with tests to delta streamer to test transition from parquet dfs to kaka dfs :) Hope that's fine with you. If you plan to make more changes, feel free to pull in latest commits and add more commits to it. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782770366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782770387","html_url":"https://github.com/apache/hudi/pull/2227#issuecomment-782770387","issue_url":"https://api.github.com/repos/apache/hudi/issues/2227","id":782770387,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjc3MDM4Nw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T00:20:47Z","updated_at":"2021-02-21T00:22:09Z","author_association":"CONTRIBUTOR","body":"> @nsivabalan Let you take over this PR. Please go ahead.\r\n\r\nSure. By take over you mean, just reviewing or you want me to address all comments by myself and get it to finish line? I have added tests for now. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782770387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782850685","html_url":"https://github.com/apache/hudi/issues/2586#issuecomment-782850685","issue_url":"https://api.github.com/repos/apache/hudi/issues/2586","id":782850685,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg1MDY4NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T12:33:25Z","updated_at":"2021-02-21T12:33:39Z","author_association":"CONTRIBUTOR","body":"Hudi follows MVCC and hence there is isolation between writers and readers. You should not see any such issues.\r\n- \"if any process updates the table under S3\". by this you mean, if you update Hudi dataset via spark data source/deltastreamer etc is it? Or by some other means \r\n- Can you post the stack trace you see. w/o any logs, going to be tough to debug this.\r\n- Can you post your configs you use to write and read from hudi. \r\n- I assume you have just one writer at any point in time. Can you please confirm that.  ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782850685/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782850853","html_url":"https://github.com/apache/hudi/issues/2573#issuecomment-782850853","issue_url":"https://api.github.com/repos/apache/hudi/issues/2573","id":782850853,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg1MDg1Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T12:34:47Z","updated_at":"2021-02-21T12:34:47Z","author_association":"CONTRIBUTOR","body":"@bvaradar : can you respond here when you get a chance. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782850853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782851083","html_url":"https://github.com/apache/hudi/issues/2558#issuecomment-782851083","issue_url":"https://api.github.com/repos/apache/hudi/issues/2558","id":782851083,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg1MTA4Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T12:36:28Z","updated_at":"2021-02-21T12:36:28Z","author_association":"CONTRIBUTOR","body":"Thanks, closing this out as we have a tracking jira and PR as well. thanks for your contribution to help make Hudi better :) ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782851083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782851569","html_url":"https://github.com/apache/hudi/issues/2557#issuecomment-782851569","issue_url":"https://api.github.com/repos/apache/hudi/issues/2557","id":782851569,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg1MTU2OQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T12:40:06Z","updated_at":"2021-02-21T12:40:06Z","author_association":"CONTRIBUTOR","body":"To help investigate better\r\n- Can you post the configs you used to write to hudi.\r\n- Can you post a screen shot of spark stages. So that we know where its failing and can relate to some configs used. \r\n- Can you give some rough idea of your dataset record keys. Is it completely random or does it have some ordering to it. what it is made of.\r\n- I assume you are using regular bloom as index type. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782851569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782860435","html_url":"https://github.com/apache/hudi/pull/2382#issuecomment-782860435","issue_url":"https://api.github.com/repos/apache/hudi/issues/2382","id":782860435,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg2MDQzNQ==","user":{"login":"leesf","id":10128888,"node_id":"MDQ6VXNlcjEwMTI4ODg4","avatar_url":"https://avatars.githubusercontent.com/u/10128888?v=4","gravatar_id":"","url":"https://api.github.com/users/leesf","html_url":"https://github.com/leesf","followers_url":"https://api.github.com/users/leesf/followers","following_url":"https://api.github.com/users/leesf/following{/other_user}","gists_url":"https://api.github.com/users/leesf/gists{/gist_id}","starred_url":"https://api.github.com/users/leesf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leesf/subscriptions","organizations_url":"https://api.github.com/users/leesf/orgs","repos_url":"https://api.github.com/users/leesf/repos","events_url":"https://api.github.com/users/leesf/events{/privacy}","received_events_url":"https://api.github.com/users/leesf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T13:43:46Z","updated_at":"2021-02-21T13:43:46Z","author_association":"CONTRIBUTOR","body":"@nsivabalan would you also want to take a pass here?","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782860435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782864578","html_url":"https://github.com/apache/hudi/pull/2210#issuecomment-782864578","issue_url":"https://api.github.com/repos/apache/hudi/issues/2210","id":782864578,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg2NDU3OA==","user":{"login":"hotienvu","id":1747423,"node_id":"MDQ6VXNlcjE3NDc0MjM=","avatar_url":"https://avatars.githubusercontent.com/u/1747423?v=4","gravatar_id":"","url":"https://api.github.com/users/hotienvu","html_url":"https://github.com/hotienvu","followers_url":"https://api.github.com/users/hotienvu/followers","following_url":"https://api.github.com/users/hotienvu/following{/other_user}","gists_url":"https://api.github.com/users/hotienvu/gists{/gist_id}","starred_url":"https://api.github.com/users/hotienvu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hotienvu/subscriptions","organizations_url":"https://api.github.com/users/hotienvu/orgs","repos_url":"https://api.github.com/users/hotienvu/repos","events_url":"https://api.github.com/users/hotienvu/events{/privacy}","received_events_url":"https://api.github.com/users/hotienvu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T14:13:24Z","updated_at":"2021-02-21T14:13:24Z","author_association":"CONTRIBUTOR","body":"> @hotienvu : If you are busy, I can look at addressing any pending feedback and looking into the build failure. Will push updates to the patch w/ any fixes if you are ok.\r\n\r\nHi @nsivabalan: Sorry for late reply, yes your help is much appreciated since I'm not quite familiar with the integration test suite","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782864578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782890593","html_url":"https://github.com/apache/hudi/pull/2445#issuecomment-782890593","issue_url":"https://api.github.com/repos/apache/hudi/issues/2445","id":782890593,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg5MDU5Mw==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T17:11:14Z","updated_at":"2021-02-21T17:11:14Z","author_association":"CONTRIBUTOR","body":"@yanghua: feel free to land this once your feedback is addressed","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782890593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782891622","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-782891622","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":782891622,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg5MTYyMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T17:17:06Z","updated_at":"2021-02-21T17:17:06Z","author_association":"CONTRIBUTOR","body":"@jtmzheng : I haven't tried py test before. I am trying to repro and running into issues wrt parquet schema missing. Can you tell me if I am missing something. May be I am making some rookie mistake. can you help me out. \r\n\r\n```\r\ndocker build -f hudi.Dockerfile -t test_hudi .\r\ndocker run test_hudi py.test -s --verbose test_hudi.py\r\n```\r\n\r\nFile contents:\r\nhttps://gist.github.com/nsivabalan/1b768c324691456605473b556d53c9a8\r\n\r\nstack trace: https://gist.github.com/nsivabalan/74476a48493fac2a9b8fdea4cd973ca9","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782891622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782892789","html_url":"https://github.com/apache/hudi/issues/2586#issuecomment-782892789","issue_url":"https://api.github.com/repos/apache/hudi/issues/2586","id":782892789,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg5Mjc4OQ==","user":{"login":"Rap70r","id":22181358,"node_id":"MDQ6VXNlcjIyMTgxMzU4","avatar_url":"https://avatars.githubusercontent.com/u/22181358?v=4","gravatar_id":"","url":"https://api.github.com/users/Rap70r","html_url":"https://github.com/Rap70r","followers_url":"https://api.github.com/users/Rap70r/followers","following_url":"https://api.github.com/users/Rap70r/following{/other_user}","gists_url":"https://api.github.com/users/Rap70r/gists{/gist_id}","starred_url":"https://api.github.com/users/Rap70r/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Rap70r/subscriptions","organizations_url":"https://api.github.com/users/Rap70r/orgs","repos_url":"https://api.github.com/users/Rap70r/repos","events_url":"https://api.github.com/users/Rap70r/events{/privacy}","received_events_url":"https://api.github.com/users/Rap70r/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T17:24:43Z","updated_at":"2021-02-22T01:18:21Z","author_association":"NONE","body":"Hello nsivabalan, thank you for getting back to me.\r\n\r\n* All Hudi tables are stored in S3 buckets. We use Spark Structured Streaming to apply incremental updates against S3 Hudi datasets.\r\n\r\n* **Stacktrace**\r\n\r\n```\r\norg.apache.spark.sql.execution.datasources.FileDownloadException: Failed to download file path: s3://bucket_name/folder_name/table_name/some_partition/some_parquet_file.parquet, range: 0-515243, partition values: [empty row], isDataPresent: false\r\n\tat org.apache.spark.sql.execution.datasources.AsyncFileDownloader.next(AsyncFileDownloader.scala:142)\r\n\tat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.getNextFile(FileScanRDD.scala:252)\r\n\tat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.nextIterator(FileScanRDD.scala:174)\r\n\tat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.hasNext(FileScanRDD.scala:132)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat scala.collection.Iterator$$anon$12.hasNext(Iterator.scala:511)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat org.apache.spark.shuffle.sort.UnsafeShuffleWriter.write(UnsafeShuffleWriter.java:179)\r\n\tat org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:127)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:446)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:449)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.FileNotFoundException: No such file or directory 's3://bucket_name/folder_name/table_name/some_partition/some_parquet_file.parquet'\r\n\tat com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem.getFileStatus(S3NativeFileSystem.java:473)\r\n\tat com.amazon.ws.emr.hadoop.fs.EmrFileSystem.getFileStatus(EmrFileSystem.java:694)\r\n\tat org.apache.parquet.hadoop.util.HadoopInputFile.fromPath(HadoopInputFile.java:39)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:449)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat.$anonfun$buildPrefetcherWithPartitionValues$1(ParquetFileFormat.scala:492)\r\n\tat org.apache.spark.sql.execution.datasources.AsyncFileDownloader.org$apache$spark$sql$execution$datasources$AsyncFileDownloader$$downloadFile(AsyncFileDownloader.scala:93)\r\n\tat org.apache.spark.sql.execution.datasources.AsyncFileDownloader$$anon$1.call(AsyncFileDownloader.scala:73)\r\n\tat org.apache.spark.sql.execution.datasources.AsyncFileDownloader$$anon$1.call(AsyncFileDownloader.scala:72)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n```\r\n\r\n* Writer Configs:\r\n\r\n```\r\nOutput Path: S3 path\r\nhoodie.datasource.write.operation: upsert\r\nparallelism: 3000\r\nhoodie.datasource.write.table.type: COPY_ON_WRITE\r\nhoodie.cleaner.policy: KEEP_LATEST_FILE_VERSIONS\r\nFile Version Retained: 1\r\nhoodie.datasource.hive_sync.enable: false\r\nSaveMode: Append\r\npartitionBy: Single Column\r\n```\r\n\r\n* Reader Configs:\r\n\r\n```\r\nval df = ss.read\r\n     .format(\"org.apache.hudi\")\r\n     .option(DataSourceReadOptions.QUERY_TYPE_OPT_KEY, DataSourceReadOptions.QUERY_TYPE_SNAPSHOT_OPT_VAL)\r\n     .load(\"s3://path/to/hudi/table/*/*\")\r\n\t \r\ndf.createOrReplaceTempView(\"hudi_table\")\r\n```\r\n\r\n* At any point of time, this setup has just a single writer. However, the writer applies incremental upserts very frequently, but the consecutive upsert jobs do not overlap. This means that while a reader might be performing time consuming queries on a Hudi dataset Spark dataframe, the writer has time to finish multiple times.\r\n\r\n**To Reproduce**\r\n\r\n* Load the dataframe using Hudi:\r\n```\r\nval df = ss.read\r\n     .format(\"org.apache.hudi\")\r\n     .option(DataSourceReadOptions.QUERY_TYPE_OPT_KEY, DataSourceReadOptions.QUERY_TYPE_SNAPSHOT_OPT_VAL)\r\n     .load(\"s3://path/to/hudi/table/*/*\")\r\n\t \r\ndf.createOrReplaceTempView(\"hudi_table\")\r\n```\r\n\r\n* Apply time consuming Spark SQL queries against 'hudi_table'\r\n\r\n* A different Spark process updates Hudi dataset incrementally.\r\n\r\n* After upsert is done, if the time consuming query is still running, it will crash with below error:\r\n\r\n```\r\norg.apache.spark.sql.execution.datasources.FileDownloadException: Failed to download file path: s3://bucket_name/folder_name/table_name/some_partition/some_parquet_file.parquet, range: 0-515243, partition values: [empty row], isDataPresent: false\r\n\tat org.apache.spark.sql.execution.datasources.AsyncFileDownloader.next(AsyncFileDownloader.scala:142)\r\n\tat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.getNextFile(FileScanRDD.scala:252)\r\n\tat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.nextIterator(FileScanRDD.scala:174)\r\n\tat org.apache.spark.sql.execution.datasources.FileScanRDD$$anon$1.hasNext(FileScanRDD.scala:132)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat scala.collection.Iterator$$anon$12.hasNext(Iterator.scala:511)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat scala.collection.Iterator$$anon$10.hasNext(Iterator.scala:458)\r\n\tat org.apache.spark.shuffle.sort.UnsafeShuffleWriter.write(UnsafeShuffleWriter.java:179)\r\n\tat org.apache.spark.shuffle.ShuffleWriteProcessor.write(ShuffleWriteProcessor.scala:59)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n\tat org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:52)\r\n\tat org.apache.spark.scheduler.Task.run(Task.scala:127)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.$anonfun$run$3(Executor.scala:446)\r\n\tat org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1377)\r\n\tat org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:449)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.FileNotFoundException: No such file or directory 's3://bucket_name/folder_name/table_name/some_partition/some_parquet_file.parquet'\r\n\tat com.amazon.ws.emr.hadoop.fs.s3n.S3NativeFileSystem.getFileStatus(S3NativeFileSystem.java:473)\r\n\tat com.amazon.ws.emr.hadoop.fs.EmrFileSystem.getFileStatus(EmrFileSystem.java:694)\r\n\tat org.apache.parquet.hadoop.util.HadoopInputFile.fromPath(HadoopInputFile.java:39)\r\n\tat org.apache.parquet.hadoop.ParquetFileReader.readFooter(ParquetFileReader.java:449)\r\n\tat org.apache.spark.sql.execution.datasources.parquet.ParquetFileFormat.$anonfun$buildPrefetcherWithPartitionValues$1(ParquetFileFormat.scala:492)\r\n\tat org.apache.spark.sql.execution.datasources.AsyncFileDownloader.org$apache$spark$sql$execution$datasources$AsyncFileDownloader$$downloadFile(AsyncFileDownloader.scala:93)\r\n\tat org.apache.spark.sql.execution.datasources.AsyncFileDownloader$$anon$1.call(AsyncFileDownloader.scala:73)\r\n\tat org.apache.spark.sql.execution.datasources.AsyncFileDownloader$$anon$1.call(AsyncFileDownloader.scala:72)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n```\r\n\r\nLet me know if you need further details.\r\n\r\nThank you\r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782892789/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782896085","html_url":"https://github.com/apache/hudi/pull/2445#issuecomment-782896085","issue_url":"https://api.github.com/repos/apache/hudi/issues/2445","id":782896085,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg5NjA4NQ==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T17:47:04Z","updated_at":"2021-02-21T17:47:22Z","author_association":"CONTRIBUTOR","body":"yeah, I missed to see the MINOR. \r\nbut I did check the code path to ensure we don't trigger any dag actions as this is List\\<HoodieWriteStat\\>.\r\nrealizing that this is called before postWrite, within commitstats(). So, wanted to hear your opinion if we this is fine or should we disallow sending entire WriteStats to the callback. \r\n","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782896085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782897494","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-782897494","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":782897494,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjg5NzQ5NA==","user":{"login":"jtmzheng","id":3466206,"node_id":"MDQ6VXNlcjM0NjYyMDY=","avatar_url":"https://avatars.githubusercontent.com/u/3466206?v=4","gravatar_id":"","url":"https://api.github.com/users/jtmzheng","html_url":"https://github.com/jtmzheng","followers_url":"https://api.github.com/users/jtmzheng/followers","following_url":"https://api.github.com/users/jtmzheng/following{/other_user}","gists_url":"https://api.github.com/users/jtmzheng/gists{/gist_id}","starred_url":"https://api.github.com/users/jtmzheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtmzheng/subscriptions","organizations_url":"https://api.github.com/users/jtmzheng/orgs","repos_url":"https://api.github.com/users/jtmzheng/repos","events_url":"https://api.github.com/users/jtmzheng/events{/privacy}","received_events_url":"https://api.github.com/users/jtmzheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T17:56:15Z","updated_at":"2021-02-21T17:56:15Z","author_association":"NONE","body":"@nsivabalan \"\"hoodie.datasource.write.keygenerator.class\" needs to be \"org.apache.hudi.keygen.ComplexKeyGenerator\" (I was able to reproduce the stacktrace you provided when I set it to SimpleKeyGenerator, I'm guessing because partition path is a composite key in my example). Thanks for investigating!","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782897494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782900702","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-782900702","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":782900702,"node_id":"MDEyOklzc3VlQ29tbWVudDc4MjkwMDcwMg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-21T18:15:23Z","updated_at":"2021-02-21T18:15:23Z","author_association":"CONTRIBUTOR","body":"got it. yes, I could able to repro now. will investigate further. thnx.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782900702/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782977872","html_url":"https://github.com/apache/hudi/issues/2566#issuecomment-782977872","issue_url":"https://api.github.com/repos/apache/hudi/issues/2566","id":782977872,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjk3Nzg3Mg==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-22T01:21:41Z","updated_at":"2021-02-22T01:31:56Z","author_association":"CONTRIBUTOR","body":"I am still triaging the issue. here is the tracking ticket in the mean time: https://issues.apache.org/jira/browse/HUDI-1568. Happening even for spark. ","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782977872/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782984396","html_url":"https://github.com/apache/hudi/pull/2208#issuecomment-782984396","issue_url":"https://api.github.com/repos/apache/hudi/issues/2208","id":782984396,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjk4NDM5Ng==","user":{"login":"nsivabalan","id":513218,"node_id":"MDQ6VXNlcjUxMzIxOA==","avatar_url":"https://avatars.githubusercontent.com/u/513218?v=4","gravatar_id":"","url":"https://api.github.com/users/nsivabalan","html_url":"https://github.com/nsivabalan","followers_url":"https://api.github.com/users/nsivabalan/followers","following_url":"https://api.github.com/users/nsivabalan/following{/other_user}","gists_url":"https://api.github.com/users/nsivabalan/gists{/gist_id}","starred_url":"https://api.github.com/users/nsivabalan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nsivabalan/subscriptions","organizations_url":"https://api.github.com/users/nsivabalan/orgs","repos_url":"https://api.github.com/users/nsivabalan/repos","events_url":"https://api.github.com/users/nsivabalan/events{/privacy}","received_events_url":"https://api.github.com/users/nsivabalan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-22T01:49:27Z","updated_at":"2021-02-22T01:50:48Z","author_association":"CONTRIBUTOR","body":"Commenting here so that all interested folks will get notified. We are hitting an issue related to spark2.4.4 vs spark3 while trying out quick start in hudi for MOR table with spark_12 bundle. More details are [here](https://issues.apache.org/jira/browse/HUDI-1568). Running into NoSuchMethodError: 'void org.apache.spark.sql.execution.datasources.InMemoryFileIndex.<init> during read of MOR table. \r\nI saw similar error was already quoted [here](https://github.com/apache/hudi/pull/1760#issuecomment-713993418) while spark 3 work was ongoing. so thought someone could help out. \r\nCan someone help me out as to what am I missing while trying out quick start.","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782984396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782985138","html_url":"https://github.com/apache/hudi/pull/2443#issuecomment-782985138","issue_url":"https://api.github.com/repos/apache/hudi/issues/2443","id":782985138,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjk4NTEzOA==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-22T01:52:41Z","updated_at":"2021-02-22T01:52:41Z","author_association":"CONTRIBUTOR","body":"> Just to confirm, we don't need to fix anything wrt HoodieHiveClient wrt this patch is it?\r\n\r\nyes","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782985138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782990952","html_url":"https://github.com/apache/hudi/pull/2443#issuecomment-782990952","issue_url":"https://api.github.com/repos/apache/hudi/issues/2443","id":782990952,"node_id":"MDEyOklzc3VlQ29tbWVudDc4Mjk5MDk1Mg==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-22T02:12:42Z","updated_at":"2021-02-22T02:12:42Z","author_association":"CONTRIBUTOR","body":"@nsivabalan  Thanks for the suggestion, I will make changes","reactions":{"url":"https://api.github.com/repos/apache/hudi/issues/comments/782990952/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]