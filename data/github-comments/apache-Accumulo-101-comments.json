[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320580324","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1320580324","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1320580324,"node_id":"IC_kwDOACaFSM5OtnTk","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-18T22:08:15Z","updated_at":"2022-11-18T22:08:15Z","author_association":"CONTRIBUTOR","body":"Not sure if this is related and can be handled in the same fashion (or with the same code) but if you have a shell open and shutdown the cluster you need to find and the kill the shell pid.\r\n\r\nNot really a operational scenario - but does happen if you are testing with multiple tabs / windows open.\r\n\r\nAlso not sure if this is really a bug in 1.10, but might be more appropriate for 3.x and maybe 2.1.1","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320580324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320924082","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1320924082","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1320924082,"node_id":"IC_kwDOACaFSM5Ou7Oy","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T16:56:09Z","updated_at":"2022-11-19T16:56:09Z","author_association":"MEMBER","body":"Because components start at different times, and can be flaky, I'm pretty sure this is working as intended, and not a bug at all. We rely on retrying when the connection to ZooKeeper is flaky, because the problem is usually transient, and system reliability overall is improved when we do this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320924082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320924169","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1320924169","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1320924169,"node_id":"IC_kwDOACaFSM5Ou7QJ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T16:56:31Z","updated_at":"2022-11-19T16:56:31Z","author_association":"MEMBER","body":"This has been Accumulo's intended behavior for as long as I can remember.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320924169/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320924839","html_url":"https://github.com/apache/accumulo/issues/3084#issuecomment-1320924839","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3084","id":1320924839,"node_id":"IC_kwDOACaFSM5Ou7an","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T17:00:28Z","updated_at":"2022-11-19T17:00:28Z","author_association":"MEMBER","body":"I'm marking this as a blocker, because if we remove this restriction in a patch release, we need to be confident it works and doesn't lower the stability of the release line.  So, this should block the 2.1.1 release (unless support for offline scanning is reverted instead, which I would not advocate doing).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320924839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320927753","html_url":"https://github.com/apache/accumulo/issues/3086#issuecomment-1320927753","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3086","id":1320927753,"node_id":"IC_kwDOACaFSM5Ou8IJ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T17:15:56Z","updated_at":"2022-11-19T17:15:56Z","author_association":"MEMBER","body":"The main point for items 1 and 2 is that it puts responsibility on the committer who does the merge to ensure they've done their due diligence before merging. One way they can ensure the code is good is to just check out the pull request, delete the generated directory, and build with `mvn package -Pthrift -DskipTests` to verify that the contents of the generated directory are the same using their local build as what is in the PR. I normally do this anyway, but it saves me steps when we merge a PR that omits those changes, and I just commit what I generate locally.\r\n\r\nFor what it's worth, it is extremely rare for a non-committer to touch thrift... as that generally requires expertise and a developer environment that most new contributors don't have yet. And, for committers, who who we already trust with write access to the repo, this isn't really an issue.\r\n\r\nItem 2 is just suboptimal GitHub tooling.\r\n\r\nItem 3 is my biggest concern, because looking at changes in the history is very inconvenient when the thrift generated code is squashed into the non-generated code in the same commit, and the generated code diff drowns out the important diffs. In my mind, it's just as easy to just omit the generated code from the PR to begin with, and apply those changes later... but then you don't get the automated checks if it doesn't compile (unless we configure GitHub Actions to build thrift).\r\n\r\nOne way this could be done is to have a PR that omits the generated code, then a separate PR that depends on it that includes it. We can review the one that omits it, and rely on the automated checks from the PR that includes it. But then there's a risk that they could be different.\r\n\r\nAnother option is to just stop checking in generated code to the repo, and just make that part of the build. However, that also is troublesome, because thrift is a pain to build (we can't just run a code generator as a maven plugin), and because the code needs to be generated prior to loading the project into an IDE.\r\n\r\nNone of the available options are perfect. We just have to find the least bad one.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320927753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320928748","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1320928748","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1320928748,"node_id":"IC_kwDOACaFSM5Ou8Xs","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-19T17:22:02Z","updated_at":"2022-11-19T17:22:02Z","author_association":"MEMBER","body":"I was going to merge this yesterday, but didn't have time. I intend to get to it this week, as I'm taking most of the week off, and this will give me something small to do when I get bored.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1320928748/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1321973561","html_url":"https://github.com/apache/accumulo/issues/3086#issuecomment-1321973561","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3086","id":1321973561,"node_id":"IC_kwDOACaFSM5Oy7c5","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T12:16:45Z","updated_at":"2022-11-21T12:16:45Z","author_association":"CONTRIBUTOR","body":"I feel like the simple answer here is to just remove the Thrift profile and run Thrift during the compile phase. It only takes a couple of seconds and is dwarfed by the time it takes to run tests. Removing the contents of the directory that contain the Thrift generated code and regenerating the code should alleviate the concern about unreviewed malicious code being introduced into that directory. Using the `.gitattributes` feature I found will hide the thrift generated java files during the PR, and I think we can safely ignore them during a review.\r\n\r\nIt may be the case that not everyone has Thrift installed, and I agree that it's not the easiest thing to install. I'm thinking that for this issue we create a Docker build environment that can be used locally and by the automated build systems. The Docker image would have Java, Thrift, Maven, etc installed and would build the code that is checked out on the local filesystem (see [this](https://hub.docker.com/_/maven) for an idea of what I'm thinking). This would not preclude someone from building Accumulo in the way that they want. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1321973561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1322048773","html_url":"https://github.com/apache/accumulo/issues/3086#issuecomment-1322048773","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3086","id":1322048773,"node_id":"IC_kwDOACaFSM5OzN0F","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T13:14:45Z","updated_at":"2022-11-21T13:15:33Z","author_association":"CONTRIBUTOR","body":"If you did exclude it from the build then you wouldn't even need the .gitattributes at all as you would just ignore the generated code in git entirely and not commit it so it wouldn't be part of the commit/repository.\r\n\r\nWhile normally I would say that's the way to go (just generate each time and not commit) I don't know that I like the idea of someone having to set up Thrift to build or Docker or whatever. Adding that extra dependency is a bit annoying vs just being able to checkout and build using Maven. But this may be the best option as long as it's pretty quick to generate the Thrift code, we can just have instructions for setting up Thrift and for also using Docker.\r\n\r\nSomething else I thought of as an alternative...this has been making me wonder if if it makes sense to just pull all of the Thrift stuff into it's own separate project and make it a separate dependency that the main project depends on. Not saying we necessarily want to do that but it's another option. I guess it mostly depends on how often we change the protocol, if there's a lot of changes then it would get annoying to have to keep updating another project and releasing it so may or may not be the right answer.\r\n\r\nOne other benefit of moving it to a separate project is that there has been some initial discussion about having a plugable protocol at some point. Right now we require Thrift and it's tightly coupled but we don't have to in the future so if we decided to refactor it to have an API and allow people to use a different RPC protcol (something like grpc and protofbuf for example) having it separated out makes sense too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1322048773/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1322596544","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1322596544","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1322596544,"node_id":"IC_kwDOACaFSM5O1TjA","user":{"login":"jwomeara","id":7132616,"node_id":"MDQ6VXNlcjcxMzI2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/7132616?v=4","gravatar_id":"","url":"https://api.github.com/users/jwomeara","html_url":"https://github.com/jwomeara","followers_url":"https://api.github.com/users/jwomeara/followers","following_url":"https://api.github.com/users/jwomeara/following{/other_user}","gists_url":"https://api.github.com/users/jwomeara/gists{/gist_id}","starred_url":"https://api.github.com/users/jwomeara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwomeara/subscriptions","organizations_url":"https://api.github.com/users/jwomeara/orgs","repos_url":"https://api.github.com/users/jwomeara/repos","events_url":"https://api.github.com/users/jwomeara/events{/privacy}","received_events_url":"https://api.github.com/users/jwomeara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T20:20:50Z","updated_at":"2022-11-21T20:20:50Z","author_association":"NONE","body":"I'm not asking for any default behavior to be changed.  If the way it's written today works for 99% of the use cases, then I wouldn't argue for changing that.  \r\n\r\nThe problem I'm having is that in the event that there is a networking issue, or my zookeeper instances are (temporarily) unavailable, my code will get stuck in the createBatchWriter call indefinitely, removing my ability to react to the situation.  Giving me a way to take back control, either by specifying a certain number of retries or a timeout, would be useful.\r\n\r\nIn the specific use case I'm dealing with, I have a limited number of rabbitmq consumer threads that read audit messages from a queue and then write those messages to accumulo using a batch writer.  I am getting into a situation where all of my consumer threads are getting locked up waiting on createBatchWriter to return, and even when the zookeeper instances return, the call still hangs.  If I were able to configure accumulo to throw an exception instead, then I would be able to react and possibly write my audit messages somewhere else, like HDFS, or even attempt creating a new batch writer.  The way it is now, I am locking up all of my threads and backing up rabbitmq, with my only recourse being to roll the audit service.\r\n\r\nIf adding a timeout option is a no-go, then I will have to resort to creating the batch writer in a separate thread that I am able to kill myself after a certain amount of time.  That seems sloppy to me, but I don't think I have any other options without making a change to accumulo.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1322596544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1322609064","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1322609064","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1322609064,"node_id":"IC_kwDOACaFSM5O1Wmo","user":{"login":"jwomeara","id":7132616,"node_id":"MDQ6VXNlcjcxMzI2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/7132616?v=4","gravatar_id":"","url":"https://api.github.com/users/jwomeara","html_url":"https://github.com/jwomeara","followers_url":"https://api.github.com/users/jwomeara/followers","following_url":"https://api.github.com/users/jwomeara/following{/other_user}","gists_url":"https://api.github.com/users/jwomeara/gists{/gist_id}","starred_url":"https://api.github.com/users/jwomeara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwomeara/subscriptions","organizations_url":"https://api.github.com/users/jwomeara/orgs","repos_url":"https://api.github.com/users/jwomeara/repos","events_url":"https://api.github.com/users/jwomeara/events{/privacy}","received_events_url":"https://api.github.com/users/jwomeara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-21T20:33:34Z","updated_at":"2022-11-21T20:33:34Z","author_association":"NONE","body":"As I see it, my options are to either code around accumulo by running this call in a separate thread, or update Accumulo to handle this use case.  I would prefer to update Accumulo as that seems cleaner to me.  Adding the retry/timeout parameters to BatchWriterConfig would ensure that both the Connector API and default behavior remain unchanged.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1322609064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323020472","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1323020472","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1323020472,"node_id":"IC_kwDOACaFSM5O27C4","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T04:11:41Z","updated_at":"2022-11-22T04:11:41Z","author_association":"MEMBER","body":"I was responding to the general behavior described in the original post and first few comments. If all that is being requested here is a timeout option for a particular API endpoint, that's probably doable, as long as we're careful to not break existing expected default behavior.\r\n\r\nAs a note about possible implementation, I will add that adding timeouts to APIs is tricky when the internal components are independently blocking. Having a monitor thread outside the call to the API generally seems more reliable when you want to be sure that it doesn't get stuck in some arbitrary code block that's blocking. Maybe it makes sense to just do that by running stuff in a separate thread, as part of a future asynchronous API instead of extending the existing synchronous APIs with timeout parameters.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323020472/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323053172","html_url":"https://github.com/apache/accumulo/issues/3086#issuecomment-1323053172","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3086","id":1323053172,"node_id":"IC_kwDOACaFSM5O3DB0","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T04:47:14Z","updated_at":"2022-11-22T04:47:14Z","author_association":"MEMBER","body":"One of the first tickets I worked on when the project went open source was https://issues.apache.org/jira/browse/ACCUMULO-756. That never got merged, but I think it can/should be revisited. It would make it easier to put the thrift stuff in its own project. However, that's a much bigger task than what's being discussed here, and even that doesn't solve the problem we're discussing much, because the changes that prompted this discussion, as well as many Thrift changes involving generated code changes, are changes where we need to change the RPC layer to support some feature on top, so both layers are changing simultaneously.\r\n\r\nI share the concerns about raising the barrier for new folks. Requiring docker instead of thrift isn't much better. I'm not entirely opposed to dropping the generated code from the source tree and just always activate the thrift profile, so it is generated each build, but I'd lean towards just keeping the status quo as my first choice. My second choice would be to do the .gitattributes thing and just deal with the generated code being squashed into the same commits as the changed code that generated it, as proposed here.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323053172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323413646","html_url":"https://github.com/apache/accumulo/pull/3088#issuecomment-1323413646","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3088","id":1323413646,"node_id":"IC_kwDOACaFSM5O4bCO","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T10:08:39Z","updated_at":"2022-11-22T10:08:39Z","author_association":"CONTRIBUTOR","body":"I plan to circle back to this and point it to 3.0","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323413646/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323653594","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1323653594","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1323653594,"node_id":"IC_kwDOACaFSM5O5Vna","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T13:08:38Z","updated_at":"2022-11-22T13:08:38Z","author_association":"CONTRIBUTOR","body":"If this continues to grow, my opinion is that it should be a project.\r\n\r\nContinuing the discussion - I very much prefer leveraging GH issues and projects for tracking things over a personnel lists  - that allows  everyone to track / have visibility into things and relieves me of the burden of making my own list, keeping it up to date and tracking it myself.\r\n\r\nThe advantage of projects is that is tracks multiple issues and shows outstanding vs completed independent of the individual issues.\r\n\r\nBeing able to review open issues on GH allows me to judge where things stand and what people are thinking about.  If there are areas of code that I think could use some attention, knowing what other potential changes should be considered might help deconflict what I might propose.  If it was aon someone's private list, then I have no visibility and need to rely on someone noticing my change and realizing that it may brush on things that could be impacted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323653594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323724343","html_url":"https://github.com/apache/accumulo/issues/3086#issuecomment-1323724343","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3086","id":1323724343,"node_id":"IC_kwDOACaFSM5O5m43","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T14:01:09Z","updated_at":"2022-11-22T14:01:09Z","author_association":"MEMBER","body":"> It may be the case that not everyone has Thrift installed, and I agree that it's not the easiest thing to install. I'm thinking that for this issue we create a Docker build environment that can be used locally and by the automated build systems. The Docker image would have Java, Thrift, Maven, etc installed and would build the code that is checked out on the local filesystem (see [this](https://hub.docker.com/_/maven) for an idea of what I'm thinking). This would not preclude someone from building Accumulo in the way that they want.\r\n\r\nRe: barrier to entry... What @dlmarion suggests could also be used to set up [codespaces](https://github.com/features/codespaces). Codespaces are free for open source development, and as far as I can tell, are enabled on the Apache GitHub org. You can work entirely in a browser if you want (though at least Visual Studio Code and JetBrains IDEs are supported too for remote development in the container), so there is no requirement to install software if you just want to play around a little bit.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323724343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323955190","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1323955190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1323955190,"node_id":"IC_kwDOACaFSM5O6fP2","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T16:38:32Z","updated_at":"2022-11-22T16:38:32Z","author_association":"CONTRIBUTOR","body":"ReadWriteIT now passing locally, kicked off full IT build.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1323955190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324150842","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1324150842","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1324150842,"node_id":"IC_kwDOACaFSM5O7PA6","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T19:35:13Z","updated_at":"2022-11-22T19:35:13Z","author_association":"CONTRIBUTOR","body":"Marked draft because one of the tests is failing, still a little bit of work to do.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324150842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324151467","html_url":"https://github.com/apache/accumulo/issues/3086#issuecomment-1324151467","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3086","id":1324151467,"node_id":"IC_kwDOACaFSM5O7PKr","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T19:35:54Z","updated_at":"2022-11-22T19:35:54Z","author_association":"CONTRIBUTOR","body":"Draft PR up that contains the beginning of what I was thinking.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324151467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324214044","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1324214044","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1324214044,"node_id":"IC_kwDOACaFSM5O7ecc","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-22T20:38:43Z","updated_at":"2022-11-22T20:38:43Z","author_association":"CONTRIBUTOR","body":"Full IT build passed","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324214044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324533452","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1324533452","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1324533452,"node_id":"IC_kwDOACaFSM5O8sbM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T04:24:17Z","updated_at":"2022-11-23T04:24:17Z","author_association":"MEMBER","body":"Regardless of where you track this list (and I would prefer a \"project\" (we've been using the \"classic\" projects) over an issue that is more easily lost, I don't think we need to include things that are already staged for a 2.1 patch release, unless we're trying to argue that the 2.2 should replace the 2.1 as a continuation of that \"LTM\" series. But, that could get really confusing, suggesting that risk-averse users jump a minor release when they chose to stay on LTM releases to avoid the risks associated with new features.\r\n\r\nThen again, we can just say \"oops, our mistake\", 2.1.0 is not an LTM release, but 2.2.0 is. But then, when does it stop? Maybe next time we do a .0 release, we do an initial release as non-LTM, and then only decide it's going to be an LTM release later? I don't know what's least confusing to users trying to track the version hell.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324533452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324536713","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1324536713","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1324536713,"node_id":"IC_kwDOACaFSM5O8tOJ","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T04:30:25Z","updated_at":"2022-11-23T04:30:25Z","author_association":"MEMBER","body":"I didn't see the earlier discussion on #3088 that suggested an issue instead of a project, so it's less noisy. Either way works for me.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324536713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324539493","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1324539493","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1324539493,"node_id":"IC_kwDOACaFSM5O8t5l","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T04:36:13Z","updated_at":"2022-11-23T04:36:13Z","author_association":"MEMBER","body":"@dlmarion Is this targeting 3.0? It's based on the main branch instead of 2.1 branch. The issue this closes says it's planned for 2.1.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324539493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324936452","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1324936452","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1324936452,"node_id":"IC_kwDOACaFSM5O-O0E","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T11:48:36Z","updated_at":"2022-11-23T11:48:36Z","author_association":"CONTRIBUTOR","body":"@ctubbsii  - Thanks, I didn't notice that. I changed the base branch. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324936452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324955235","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1324955235","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1324955235,"node_id":"IC_kwDOACaFSM5O-TZj","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T12:04:15Z","updated_at":"2022-11-23T12:04:15Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - thanks for the feedback. I will update the Dockerfile and script to make the changes you suggested and add comments to make things more clear.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1324955235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325328904","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1325328904","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1325328904,"node_id":"IC_kwDOACaFSM5O_uoI","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T16:17:30Z","updated_at":"2022-11-23T16:17:30Z","author_association":"MEMBER","body":"I'm still confused about the intended workflow for this. Can you explain how this should be used, under which circumstances?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325328904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325353602","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1325353602","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1325353602,"node_id":"IC_kwDOACaFSM5O_0qC","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T16:37:02Z","updated_at":"2022-11-23T16:46:55Z","author_association":"CONTRIBUTOR","body":"So, it could certainly be used by developers on their local machine that don't want to install Thrift (and upgrade it everytime we upgrade the version).\r\n\r\nAlso, I had commented previously that we could mitigate the risk of the Thrift generated Java code potentially being modified in a commit if we changed when it was built. The Docker stuff in this PR is associated with the idea (not sure if it will work or not) that there could be a GitHub Action where a build occurs using the thrift profile, and if any of those files have been modiifed, it either fails or automatically commits them to the PR branch. Something like: https://github.com/marketplace/actions/git-auto-commit\r\n\r\nI think Brian had another use case too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325353602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325379307","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1325379307","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1325379307,"node_id":"IC_kwDOACaFSM5O_67r","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T16:52:26Z","updated_at":"2022-11-23T16:52:26Z","author_association":"MEMBER","body":"> I think Brian had another use case too.\r\n\r\nMy use case would just be an extension of what you mentioned @dlmarion. If the build changes to require thrift and/or docker, then using this image in a [codespace](https://github.com/features/codespaces) could help with barrier to entry. It might not be until next week some time, but I'll create a branch that demonstrates what I mean.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325379307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325388266","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1325388266","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1325388266,"node_id":"IC_kwDOACaFSM5O_9Hq","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-23T16:59:04Z","updated_at":"2022-11-23T16:59:04Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - I'm thinking that we don't need to move the Thrift generated code to another repo. I think that if we trust what Thrift generates as being correct (which is basically what we do now), then we can:\r\n\r\n1. use the `.gitattributes` to make it easier to review changes that involve modifications to the Thrift IDL files\r\n2. not worry about potentially malicious changes to the Thrift generated code because it's generated automatically by the build to match the IDL, so the tests are always using the latest. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325388266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325989078","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1325989078","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1325989078,"node_id":"IC_kwDOACaFSM5PCPzW","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T05:54:41Z","updated_at":"2022-11-24T05:54:41Z","author_association":"MEMBER","body":"> @ctubbsii - I'm thinking that we don't need to move the Thrift generated code to another repo. I think that if we trust what Thrift generates as being correct (which is basically what we do now), then we can:\r\n> \r\n> 1. use the `.gitattributes` to make it easier to review changes that involve modifications to the Thrift IDL files\r\n> 2. not worry about potentially malicious changes to the Thrift generated code because it's generated automatically by the build to match the IDL, so the tests are always using the latest.\r\n\r\nI get these goals, but I don't understand how the contents in this PR help facilitate item 2. What is the expected workflow that would make use of this?\r\n\r\nIf we just want GitHub Actions to regenerate the thrift to ensure that the files in the PR were generated correctly, then it seems like that would be a GitHub Actions task that installs the thrift compiler and runs the build with the thrift profile, but skipping tests, then simply checking if the git workspace got dirty. That's one possible workflow that doesn't involve docker at all. I don't understand the workflow you're envisioning that involves docker.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1325989078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1326361133","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1326361133","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1326361133,"node_id":"IC_kwDOACaFSM5PDqot","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T12:06:27Z","updated_at":"2022-11-24T12:34:32Z","author_association":"CONTRIBUTOR","body":"@ctubbsii and @EdColeman I agree that GH projects are a better way to track this type of information.  I was concerned about it being noisy and the lack of consensus on wether 2.2.0 was even a good goal.  I am not even sure 2.2.0 is a good goal.  Creating a GH project named 2.2.0 feels like this is something we have reached consensus about.  I suppose a simple solution to that is to name the project 'possible 2.2.0' or something that clearly expresses the uncertainty and lack of consensus.\r\n\r\nThinking about consensus in general I realized a few things.\r\n\r\n  * When a PR is following previously settled consensus (like using semver) then its great because no time needs to be spent on the PR discussing the previously settled consensus.\r\n  * When a PR is deviating from previously settled consensus, then a lot of time can spent on discussions around those deviations.\r\n\r\nOverall having settled consensus saves us lots of time.   When we are spending lots of time in multiple PRs discussing deviations from settled consensus, then that could be an indication that we need to establish some new consensus or that we should stop deviating inorder to save ourselves the hassle.\r\n\r\nIve had specific thoughts about 2.2.0, but I have not been able to communicate them very well.  I realized what I was thinking about for 2.2.0 is something we have actually done before.  Going back to Accumulo 1.8.0 the releases looked like 1.8.0->1.8.1->1.9.0->1.9.1->1.9.2->1.9.3->1.10.0->1.10.1.  The [release notes from 1.9.0](https://accumulo.apache.org/release/accumulo-1.9.0/) contain the following \r\n\r\n```\r\nApache Accumulo 1.9.0 is a minor release on the 1.x branch. This release would be considered a maintenance release on 1.8 branch except there are some API additions which resulted in a new minor release.\r\n```\r\n\r\nThe [release notes for 1.10.0](https://accumulo.apache.org/release/accumulo-1.10.0/) contained the following\r\n\r\n```\r\nApache Accumulo 1.10.0 is a continuation of the 1.x release line, and is essentially the next maintenance release of 1.8/1.9, following the 1.9.3 version with some small additional internal improvements. Earlier 1.x versions are now superseded by this maintenance release, and will no longer be maintained.\r\n```\r\n\r\nWe could follow the same strategy for 2.x starting w/ 2.1.0.  I don't know what to call this strategy though, besides what we did for 1.8.0.   I feel like we tried to do at least the following with 1.8.0 forward.\r\n\r\n * Continually improved stability by fixing serious bugs\r\n * Followed a principal of least surprise with the minor updates.  Not only did we keep the APIs super stable in 1.8.0 and forward, but we kept lots of stuff outside of the APIs stable like scripts, properties, config files, etc.  We could have made more disruptive changes in 1.9.0 and 1.10.0, but chose not to do so.\r\n\r\nWe could follow the same strategy for 2.1.0 forward (have minor releases that have the least suprise) if we develop consensus around it and properly communicate it AND still consider it a LTM line.  Like we could say the current LTM 1.10.x line started with 1.8.0.\r\n\r\nOne thing I have been thinking about is urgency in making this decision.   I don't think there is any urgency from the release perspective that would force a decision.  3.0.0 will not be released soon and 2.1.1 would not be released until we find serious bugs that motivate the release.  Currently there are no known serious bugs in 2.1.0.  One driver for urgency around deciding about 2.2.0 would be if making that decision could help us work more efficiently.  If we are not going to do 2.(2+x).0 releases, then maybe  we should decide that all PRs that violate semver in the 2.1.x line should just be pushed to 3.0.0 or later so that we can save ourselves time from rehashing.\r\n\r\nSorry for the tome. Thinking about consensus around the project name led to this deeper line of thinking about consensus in general.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1326361133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1326424608","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1326424608","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1326424608,"node_id":"IC_kwDOACaFSM5PD6Ig","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T13:03:28Z","updated_at":"2022-11-24T13:03:28Z","author_association":"MEMBER","body":"@keith-turner thank you for laying out your thoughts. One thing to consider regarding the path of least surprise that we've done before, is that we did that before establishing the LTM release strategy, which adds an extra dimension to consider. One of the goals of that is to keep a more and more stable feature fixed release line, and not just a minimal, least surprise, series of minor release feature additions. It's easy to communicate that 2.1 is LTM, but much more confusing to users that the version range `[2.1,2.3)` is a single LTM \"version\". It also complicated potential upgrade paths and maintenance branches we develop (would there be a 2.1.2 after a 2.2.0? Users may expect one because it's in the LTM range).\n\nSo, I'm inclined to bump things to 3.0 that would not be appropriate for 2.1 patch releases because of semver.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1326424608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1326566623","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1326566623","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1326566623,"node_id":"IC_kwDOACaFSM5PEczf","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-24T15:04:06Z","updated_at":"2022-11-24T15:04:06Z","author_association":"CONTRIBUTOR","body":"> would there be a 2.1.2 after a 2.2.0?\r\n\r\nNo, not if following was done w/ 1.8.0 onward.  It was a linear progression.\r\n\r\n> So, I'm inclined to bump things to 3.0 that would not be appropriate for 2.1 patch releases because of semver.\r\n\r\nAnother option to consider is that we accept exceptions to semver in the 2.1.x line as long as they are well documented in release notes and javadoc.  This was discussed on one or more of the PRs.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1326566623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1327535851","html_url":"https://github.com/apache/accumulo/issues/3052#issuecomment-1327535851","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3052","id":1327535851,"node_id":"IC_kwDOACaFSM5PIJbr","user":{"login":"AlbertWhitlock","id":40367659,"node_id":"MDQ6VXNlcjQwMzY3NjU5","avatar_url":"https://avatars.githubusercontent.com/u/40367659?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbertWhitlock","html_url":"https://github.com/AlbertWhitlock","followers_url":"https://api.github.com/users/AlbertWhitlock/followers","following_url":"https://api.github.com/users/AlbertWhitlock/following{/other_user}","gists_url":"https://api.github.com/users/AlbertWhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbertWhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbertWhitlock/subscriptions","organizations_url":"https://api.github.com/users/AlbertWhitlock/orgs","repos_url":"https://api.github.com/users/AlbertWhitlock/repos","events_url":"https://api.github.com/users/AlbertWhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/AlbertWhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-25T14:21:19Z","updated_at":"2022-11-25T14:21:19Z","author_association":"CONTRIBUTOR","body":"Where should jshell be documented in this list.......under 'Core commands'?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1327535851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1327660048","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1327660048","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1327660048,"node_id":"IC_kwDOACaFSM5PInwQ","user":{"login":"jwomeara","id":7132616,"node_id":"MDQ6VXNlcjcxMzI2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/7132616?v=4","gravatar_id":"","url":"https://api.github.com/users/jwomeara","html_url":"https://github.com/jwomeara","followers_url":"https://api.github.com/users/jwomeara/followers","following_url":"https://api.github.com/users/jwomeara/following{/other_user}","gists_url":"https://api.github.com/users/jwomeara/gists{/gist_id}","starred_url":"https://api.github.com/users/jwomeara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwomeara/subscriptions","organizations_url":"https://api.github.com/users/jwomeara/orgs","repos_url":"https://api.github.com/users/jwomeara/repos","events_url":"https://api.github.com/users/jwomeara/events{/privacy}","received_events_url":"https://api.github.com/users/jwomeara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-25T16:05:44Z","updated_at":"2022-11-25T16:05:44Z","author_association":"NONE","body":"Hmmm, so I tried updating my code to run the accumulo API calls (instance.getConnector, and connector.createBatchWriter) in their own threads so that I can cancel them after a configurable amount of time.  It seems like those accumulo API calls are not responding to the interrupt/cancel being called on the thread because the threads will remain living until zookeeper is brought back online, at which point the calls fail.  Might not be able to solve this problem solely by running the calls in a separate thread.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1327660048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1328047677","html_url":"https://github.com/apache/accumulo/issues/3052#issuecomment-1328047677","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3052","id":1328047677,"node_id":"IC_kwDOACaFSM5PKGY9","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-26T13:35:18Z","updated_at":"2022-11-26T13:35:18Z","author_association":"CONTRIBUTOR","body":"> Where should jshell be documented in this list.......under 'Core commands'?\r\n\r\nCore commands seems like a good place to place it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1328047677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329088146","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1329088146","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1329088146,"node_id":"IC_kwDOACaFSM5POEaS","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T13:25:34Z","updated_at":"2022-11-28T13:25:34Z","author_association":"CONTRIBUTOR","body":"Interesting, I didn't realize that installing Thrift as part of the build was an option. I'd like to see Brian's codespace example too.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329088146/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329589939","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1329589939","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1329589939,"node_id":"IC_kwDOACaFSM5PP-6z","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T18:54:12Z","updated_at":"2022-11-28T18:54:12Z","author_association":"MEMBER","body":"@jwomeara What about using the new 2.x client API? If we add anything in a newer version, it would be to that API, not the deprecated one anyway. I'm guessing it's probably the same, but it's hard to say, since there was so many changes in 2.x to the client code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329589939/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329692249","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1329692249","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1329692249,"node_id":"IC_kwDOACaFSM5PQX5Z","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T20:04:18Z","updated_at":"2022-11-28T20:04:18Z","author_association":"CONTRIBUTOR","body":"> The purpose of this test is to ensure that the client side code does not keep caching extents that no longer exist.\r\n\r\nRegarding this - how would the client know whether the cache contents are correct or not if it doesn't query the metadata table each time to compare the cached data?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329692249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329720511","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1329720511","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1329720511,"node_id":"IC_kwDOACaFSM5PQey_","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T20:24:39Z","updated_at":"2022-11-28T20:24:39Z","author_association":"CONTRIBUTOR","body":"Re-reading the [LTM](https://accumulo.apache.org/contributor/versioning#LTM) page, it doesn't preclude a 2.2.0, 2.3.0, etc., it just says that as a non-LTM release any patches/bugfixes would be released in a subsequent minor version. This allows us to continue to release features on the 2.x line (even experimental ones). The downside here is that we end up with more branches to maintain. I feel like if we did some planning we could find consensus on a path forward.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329720511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329751603","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1329751603","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1329751603,"node_id":"IC_kwDOACaFSM5PQmYz","user":{"login":"brianloss","id":5400335,"node_id":"MDQ6VXNlcjU0MDAzMzU=","avatar_url":"https://avatars.githubusercontent.com/u/5400335?v=4","gravatar_id":"","url":"https://api.github.com/users/brianloss","html_url":"https://github.com/brianloss","followers_url":"https://api.github.com/users/brianloss/followers","following_url":"https://api.github.com/users/brianloss/following{/other_user}","gists_url":"https://api.github.com/users/brianloss/gists{/gist_id}","starred_url":"https://api.github.com/users/brianloss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brianloss/subscriptions","organizations_url":"https://api.github.com/users/brianloss/orgs","repos_url":"https://api.github.com/users/brianloss/repos","events_url":"https://api.github.com/users/brianloss/events{/privacy}","received_events_url":"https://api.github.com/users/brianloss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T20:56:39Z","updated_at":"2022-11-28T20:56:39Z","author_association":"MEMBER","body":"> Interesting, I didn't realize that installing Thrift as part of the build was an option. I'd like to see Brian's codespace example too.\r\n\r\nI pushed a codespaces test to my fork in the codespaces branch. If you navigate [here](https://github.com/brianloss/accumulo/tree/codespaces), you should see a \"Open in GitHub Codespaces\" button in the Building section of the readme. You can click on that to launch the codespace. You can also expand the Code button and click the Codespaces tab to play around there. In the terminal window in your codespace you can execute mvn commands to build the source. You can edit files and push changes back to the repo, or even re-configure and rebuild the codespace itself.\r\n\r\nThere are a number of ways to do things, but I ended up creating two codespace configurations: one to build an image with thrift, java, maven, etc and another as the repo codespace configuration (it effectively just uses the image). The main reason I did that is to publish an image to the GH container registry for the main codespace to use. I could have also looked into [prebuilds](https://docs.github.com/en/codespaces/prebuilding-your-codespaces/about-github-codespaces-prebuilds), but having an image also gives something that could be used on a runner at build time.\r\n\r\nThe main repo codespace configuration (the one that is used when you create a codespace) is [here](https://github.com/brianloss/accumulo/tree/codespaces/.devcontainer). The image it references (currently ghcr.io/brianloss/accumulo/build-devcontainer) is built from the codespace configuration [here](https://github.com/brianloss/accumulo/tree/codespaces/contrib/codespaces/.devcontainer) using the devcontainers/ci action in a workflow, [here](https://github.com/brianloss/accumulo/blob/codespaces/.github/workflows/codespaces.yaml). I'm using the action to build and push the image, but according to [the docs](https://github.com/devcontainers/ci#quick-start) you could also use the action to run a step such as building the thrift during CI.\r\n\r\nHappy to convert this to a PR if people are interested. The main use would be for new developers who want a very quick way to get a working environment with everything required to build Accumulo and edit the source. A side-effect of building an image for the codespace is we can use the same environment during CI if needed/desired.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329751603/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329783854","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1329783854","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1329783854,"node_id":"IC_kwDOACaFSM5PQuQu","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T21:28:17Z","updated_at":"2022-11-28T21:28:17Z","author_association":"CONTRIBUTOR","body":"> Regarding this - how would the client know whether the cache contents are correct or not if it doesn't query the metadata table each time to compare the cached data?\r\n\r\nThinking the way it would work is that if a tablet splits and no longer exist, but is still in a clients cache, that it would eventually go to a scan server that would report the tablet does not exists and it would then clear its cache entry for that tablet.  After its cleared it would reload it eventually.   I think this is how caching works w/ tservers.  It stays in the cache until a tserver reports back it does not exists.  I think this was working for scan servers too when they were querying online tables, it would take the same code path when a scan server or tserver reported a tablet no longer existed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329783854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329796513","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1329796513","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1329796513,"node_id":"IC_kwDOACaFSM5PQxWh","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T21:43:34Z","updated_at":"2022-11-28T21:43:34Z","author_association":"CONTRIBUTOR","body":"Do you see any client side errors anywhere?  If this is happening to an accumulo client interacting w/ the metadata table I wonder if its reading or writing.  Also  I wonder if it throws an exception or just retries (hopefully at least logging a debug, a warn would be nice as it may be more apparent).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329796513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329806408","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1329806408","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1329806408,"node_id":"IC_kwDOACaFSM5PQzxI","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T21:55:40Z","updated_at":"2022-11-28T21:55:40Z","author_association":"CONTRIBUTOR","body":"The Accumulo GC reads a writes to the metadata  table alot, did you notice anything odd in its logs around the time these errors were happening on the tservers?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329806408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329858569","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1329858569","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1329858569,"node_id":"IC_kwDOACaFSM5PRAgJ","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T22:53:36Z","updated_at":"2022-11-28T22:53:36Z","author_association":"CONTRIBUTOR","body":"I can't tell if the tserver that is showing the error is the instigator of the communication or whether it is a separate client somewhere.  At the time this system is mostly quiet (no external scans of any significance).\r\n\r\nThese errors are occurring pretty consistently every 40 seconds to a minute.  The logs suggest that it may have to do with communicating with tservers handling the accumulo.metadata.  In our system we have separate tservers that exclusively handle the accumulo.metadata tablets.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329858569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329859188","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1329859188","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1329859188,"node_id":"IC_kwDOACaFSM5PRAp0","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T22:54:25Z","updated_at":"2022-11-28T22:55:47Z","author_association":"CONTRIBUTOR","body":"There are no exceptions being logged anywhere, and no apparent affects from these errors that I can detect.  Initially we thought it may be simply some innocuous external scans or something like that.  However dropping the one tserver will result in these errors popping up on another server.  Hence I believe this is somehow self inflicted.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329859188/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329863587","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1329863587","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1329863587,"node_id":"IC_kwDOACaFSM5PRBuj","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T23:00:37Z","updated_at":"2022-11-28T23:00:37Z","author_association":"CONTRIBUTOR","body":"May be worthwhile to write a giant mutation and see what the client behavior is.  Once we know what the behavior might be, might know what to look for.  Wonder if we could construct a multi-megabyte insert stmt that the accumulo shell would take just to see what would happen.  Although, metadata writes do not always use the batch writer, sometimes they use internal code that optimized for a single mutation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329863587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329867454","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1329867454","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1329867454,"node_id":"IC_kwDOACaFSM5PRCq-","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-28T23:05:08Z","updated_at":"2022-11-28T23:05:08Z","author_association":"CONTRIBUTOR","body":"When it shifts to a new tserver - is it the same tablet?  Does scanning the metadata table for the range of that tablet show anything that looks odd?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1329867454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1330545845","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1330545845","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1330545845,"node_id":"IC_kwDOACaFSM5PToS1","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T12:21:14Z","updated_at":"2022-11-29T12:21:14Z","author_association":"CONTRIBUTOR","body":"I added #3047 in 2.1, wonder if we can apply the same in a future 1.10.x patch release (if there is one).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1330545845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1330891703","html_url":"https://github.com/apache/accumulo/issues/3087#issuecomment-1330891703","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3087","id":1330891703,"node_id":"IC_kwDOACaFSM5PU8u3","user":{"login":"jwomeara","id":7132616,"node_id":"MDQ6VXNlcjcxMzI2MTY=","avatar_url":"https://avatars.githubusercontent.com/u/7132616?v=4","gravatar_id":"","url":"https://api.github.com/users/jwomeara","html_url":"https://github.com/jwomeara","followers_url":"https://api.github.com/users/jwomeara/followers","following_url":"https://api.github.com/users/jwomeara/following{/other_user}","gists_url":"https://api.github.com/users/jwomeara/gists{/gist_id}","starred_url":"https://api.github.com/users/jwomeara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jwomeara/subscriptions","organizations_url":"https://api.github.com/users/jwomeara/orgs","repos_url":"https://api.github.com/users/jwomeara/repos","events_url":"https://api.github.com/users/jwomeara/events{/privacy}","received_events_url":"https://api.github.com/users/jwomeara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T16:12:19Z","updated_at":"2022-11-29T16:12:19Z","author_association":"NONE","body":"I think I'm going to just revisit this once we are building against accumulo 2.x.  For now, I am going to work around this by adding accumulo health information to the audit service so that it can mark itself as unhealthy if we are hung on accumulo calls.  This will trigger a restart of the service.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1330891703/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331003307","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1331003307","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1331003307,"node_id":"IC_kwDOACaFSM5PVX-r","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T17:14:56Z","updated_at":"2022-11-29T17:14:56Z","author_association":"CONTRIBUTOR","body":"@keith-turner  - tests added, kicking off full IT build","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331003307/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331092109","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1331092109","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1331092109,"node_id":"IC_kwDOACaFSM5PVtqN","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T18:11:13Z","updated_at":"2022-11-29T18:11:13Z","author_association":"CONTRIBUTOR","body":"Talked with @ctubbsii regarding this. Based on the conversation, I'm going to remove the Docker related items from this PR and then create an issue to add a GitHub action that the build the thrift generated java code and compare it to the code in the PR branch. If it doesn't match, then it will fail the build.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331092109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331165623","html_url":"https://github.com/apache/accumulo/pull/3093#issuecomment-1331165623","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3093","id":1331165623,"node_id":"IC_kwDOACaFSM5PV_m3","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T19:08:08Z","updated_at":"2022-11-29T19:08:08Z","author_association":"MEMBER","body":"I think adding the .gitattributes is sufficient to suppress the generated stuff from code review. The follow-up task to check that the generated code is correct should address any code review gap left by this suppression (PRs can also be checked manually by running a built locally with the thrift profile, so the follow-up task is only a \"nice to have\"). Any other thing to help users create a development environment, such as Codespaces, seems out of scope for this issue, and could exist outside this repository. Personally, I don't see Codespaces getting much use, since most devs I know prefer to develop locally and to heavily customize their development environment to optimize their workflow. But, even if it is useful for some, it's really a separate issue from this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331165623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331172174","html_url":"https://github.com/apache/accumulo/issues/3095#issuecomment-1331172174","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3095","id":1331172174,"node_id":"IC_kwDOACaFSM5PWBNO","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T19:14:20Z","updated_at":"2022-11-29T19:14:20Z","author_association":"MEMBER","body":"It doesn't even need to be a binary tarball... just the single executable for `bin/thrift`. Actually, we can probably put it in svn. We have a dev space there we can use. We can also try to cache it in GitHub Actions so it doesn't need to be re-downloaded every time. The main concern is builds triggering IP bans on ASF infrastructure, so we need to be responsible in ensuring the downloads are aren't too frequent.\r\n\r\nI can spend a little time looking into this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331172174/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331179822","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1331179822","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1331179822,"node_id":"IC_kwDOACaFSM5PWDEu","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T19:21:34Z","updated_at":"2022-11-29T19:21:34Z","author_association":"MEMBER","body":"> I added #3047 in 2.1, wonder if we can apply the same in a future 1.10.x patch release (if there is one).\r\n\r\nThere are only a couple changes currently queued for a 1.10.3. It wouldn't hurt to backport that so it could be included with them. I'm sure we'll release it, but I don't know when.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331179822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331187429","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1331187429","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1331187429,"node_id":"IC_kwDOACaFSM5PWE7l","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T19:29:34Z","updated_at":"2022-11-29T19:29:34Z","author_association":"MEMBER","body":"@dlmarion You're right. But it's the \"more branches to maintain\" that I'm hoping to avoid. It might not be so bad if the changes are very minimal, but it would basically mean releasing a new 2.2\\+ version every time we release a 2.1 LTM patch if we want people on those versions to also have the patch. However, I'd rather focus on 3.0, and put the proposed additions there. I just don't see much urgency to include these proposed features as a 2.x update instead of just rolling them into 3.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331187429/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331229769","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1331229769","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1331229769,"node_id":"IC_kwDOACaFSM5PWPRJ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T20:03:25Z","updated_at":"2022-11-29T20:03:25Z","author_association":"CONTRIBUTOR","body":"> But it's the \"more branches to maintain\" that I'm hoping to avoid.\r\n\r\nI agree, that's a concern.\r\n\r\n> However, I'd rather focus on 3.0, and put the proposed additions there. I just don't see much urgency to include these proposed features as a 2.x update instead of just rolling them into 3.0.\r\n\r\nI think the issue here is that:\r\n\r\n  1. 2.1 was decided as a LTM release too early\r\n  2. we don't have a timeline for 3.x\r\n\r\nI would be on board with moving my features to 3.x if I knew more about its timeline. In fact, I would propose something like (dates are hypothetical):\r\n\r\n  3.0.0 - removal of deprecated items only (release date January or February - as early as possible)\r\n  3.1.0 - feature set A (release June 2023)\r\n  3.2.0 - feature set B (release Dec 2023)\r\n  LTM - when we're done and need to make breaking changes for 4.x","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331229769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331325874","html_url":"https://github.com/apache/accumulo/issues/3092#issuecomment-1331325874","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3092","id":1331325874,"node_id":"IC_kwDOACaFSM5PWmuy","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T21:20:59Z","updated_at":"2022-11-29T21:22:27Z","author_association":"MEMBER","body":"> * 2.1 was decided as a LTM release too early\r\n\r\nI don't agree with that. LTM releases are intended to be feature frozen up front so we can have a target to maintain as stable. I think the issues we're seeing is growing pains as we get used to that idea, and we're seeing a desire to add features here and there that weren't ready (or even known to be desired) until too late. From my perspective, it feels like the intent of LTM is being undermined by a regret of not having everything we wanted. But the constant flux of features without a predetermined stable version that we were intending to maintain is the *main* problem we were trying to fix by having LTM releases in the first place. We can still have those features... in the next version... but not in the LTM one... that's the whole point. New features can wait until the next version, and users can decide for themselves if they want to stay on the LTM release or move forward with new features and incur additional risk. We let the user decide that by communicating very clearly what the LTM is and isn't.\r\n\r\n> * we don't have a timeline for 3.x\r\n\r\nThat's fair, but we don't have a timeline for any 2.2 release either. Any plan for 2.2 to include these features can just be a plan for 3.0 to include those same features. I'm not opposed to a 2.2 in principal. I just think we need to limit how much we take on in terms of maintenance branches to reduce confusion for users and to manage our limited contributor resources. In fact, I think it's a good idea, in general, to make the LTM release the last minor release before moving to a new major release, because it helps users who aren't ready to upgrade and risk API breakages have confidence that the version will be maintained for a while and they won't have to upgrade.\r\n\r\n> 3.0.0 - removal of deprecated items only (release date January or February - as early as possible)\r\n> 3.1.0 - feature set A (release June 2023)\r\n\r\nYour proposed timeline seems reasonable. Originally, I had wanted a 3.0 in December. It might be attainable, but would be rough with people taking time off for holidays. January seems more likely. I had wanted to push to keep 3.0.0 really minimal, in terms of new features, so we could release it quickly after stripping out deprecations to clean up and set the stage for subsequent changes free of old baggage that limited our development. However, I did not anticipate small new features that were ready so quickly, prior to 3.0.0 being released. I think it would be okay to add a few small changes in 3.0.0, as long as they don't delay the release, and aren't disruptive to the main cleanup tasks. I think the changes proposed so far are likely in that category.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331325874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331399241","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1331399241","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1331399241,"node_id":"IC_kwDOACaFSM5PW4pJ","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-29T22:25:59Z","updated_at":"2022-11-29T22:25:59Z","author_association":"CONTRIBUTOR","body":"Full IT build succeeded","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331399241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331485622","html_url":"https://github.com/apache/accumulo/pull/3080#issuecomment-1331485622","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3080","id":1331485622,"node_id":"IC_kwDOACaFSM5PXNu2","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T00:18:17Z","updated_at":"2022-11-30T00:18:17Z","author_association":"MEMBER","body":"Found another flaky SASL/Kerberos test (ThriftTransportKeyTest) due to JVM reuse, just like in #3074 . Running it in a separate JVM seems to fix it. It's not related to these changes, but needed to isolate it to get it to reliably pass the tests in GitHub Actions. I'm still not sure the underlying actual issue with Hadoop's UserGroupInformation that is causing these, but `UserGroupInformation.initialize`doesn't seem to like being called twice in the same JVM, and assignment to one particular JVM or another by the surefire plugin seems to be flaky, based on environmental conditions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1331485622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332496908","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1332496908","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1332496908,"node_id":"IC_kwDOACaFSM5PbEoM","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T17:21:28Z","updated_at":"2022-11-30T17:21:28Z","author_association":"MEMBER","body":"I merged this into 2.1 and then merged into the main branch. It was a clean merge into 2.1, but got a bit messy merging into the main branch for the braces changes. I would appreciate a second pair of eyes making sure that the braces changes in `git diff 9bbde86a68c87f8ac75eac843c2aa1f82712420b 5c870af5015b3dfd8d3db3d5fc56d58d7c2584c0` didn't have any mistakes due to the merge.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332496908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332782336","html_url":"https://github.com/apache/accumulo/issues/3097#issuecomment-1332782336","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3097","id":1332782336,"node_id":"IC_kwDOACaFSM5PcKUA","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T21:56:09Z","updated_at":"2022-11-30T21:56:09Z","author_association":"MEMBER","body":"It may be useful to complete #3098 before completing this, in order to make it easier to add new upgrade code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332782336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332786972","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1332786972","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1332786972,"node_id":"IC_kwDOACaFSM5PcLcc","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T22:01:10Z","updated_at":"2022-11-30T22:01:10Z","author_association":"CONTRIBUTOR","body":"I am taking a look now.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332786972/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332801973","html_url":"https://github.com/apache/accumulo/issues/3097#issuecomment-1332801973","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3097","id":1332801973,"node_id":"IC_kwDOACaFSM5PcPG1","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T22:15:47Z","updated_at":"2022-11-30T22:15:47Z","author_association":"CONTRIBUTOR","body":"Would this be more appropriate as a manual - post install step? I think using the shell to drop the table would perform most, if not all of the clean-up.  This would put the responsibility that it was \"safe\" to remove any active replication information on the administrators.\r\n\r\nIf someone was using replication - they would need to ensure that the replication queue was fully drained before performing the upgrade.  We could abort the upgrade if we can determine that a) replication is active and b) data remains that has not been replicated - this would be similar to they way that we refuse to upgrade if any FATE transactions exist because we do not handle FATE conversions.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332801973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332820998","html_url":"https://github.com/apache/accumulo/pull/3064#issuecomment-1332820998","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3064","id":1332820998,"node_id":"IC_kwDOACaFSM5PcTwG","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T22:30:55Z","updated_at":"2022-11-30T22:30:55Z","author_association":"CONTRIBUTOR","body":"I ran `git diff 9bbde86a68c87f8ac75eac843c2aa1f82712420b 5c870af5015b3dfd8d3db3d5fc56d58d7c2584c0 -I'^\\s+\\*'` to ignore all the javadoc changes and just look at the brackets and I scanned through quickly and everything looks good to me. I didn't see anything weird as i browsed the changes. Everything is building and tests pass of course so I think we should be good to go.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332820998/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332865490","html_url":"https://github.com/apache/accumulo/issues/3075#issuecomment-1332865490","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3075","id":1332865490,"node_id":"IC_kwDOACaFSM5PcenS","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T23:21:43Z","updated_at":"2022-11-30T23:21:43Z","author_association":"CONTRIBUTOR","body":"I took a look at this and ran the test in a loop in my IDE until it failed and it fails pretty fast after a few attempts. \r\n\r\nThe root cause is that the identifiers are the same between the two generated tokens. This is due to the fact that the issue date is part of the ID and is used for equality and it's set using System.currentTimeMillis() as shown below. \r\n\r\nhttps://github.com/apache/accumulo/blob/b5701423330c8a55e50e8409d2492735149d70e0/server/base/src/main/java/org/apache/accumulo/server/security/delegation/AuthenticationTokenSecretManager.java#L81-L84\r\n\r\nThis means that if the test runs fast enough and System.currentTimeMillis() returns the same time then the generated ID is the same and the test fails. A simple fix for the test itself is just sleeping 1 millisecond before generating the next token to guarantee a different timestamp and I'll do a quick PR for that.\r\n\r\nHowever, a follow on question/issue is whether or not this behavior is ok and if we want to update the Token id to be more random in some way so that this collision doesn't happen.\r\n\r\nI added some logging to illustrate the issue.\r\n\r\n#### Here are IDs from a successful run where the issueDate timestamps are different values:\r\n\r\n`ID1:TAuthenticationTokenIdentifier(principal:user@EXAMPLE.COM, keyId:1, issueDate:`**`1669849979940`**`, expirationDate:1669850039940, instanceId:6c7a4bc6-f7e6-45c2-be8a-4870d2e59fb5)`\r\n\r\n`ID2:TAuthenticationTokenIdentifier(principal:user@EXAMPLE.COM, keyId:1, issueDate:`**`1669849979950`**`, expirationDate:1669850039950, instanceId:6c7a4bc6-f7e6-45c2-be8a-4870d2e59fb5)`\r\n\r\n#### And here is a failed run where the issueDate timestamps are the same value:\r\n\r\n`ID1:TAuthenticationTokenIdentifier(principal:user@EXAMPLE.COM, keyId:1, issueDate:`**`1669849979983`**`, expirationDate:1669850039983, instanceId:e77af232-3d4b-4bf6-941a-5cfd7f3b25d5)`\r\n\r\n`ID2:TAuthenticationTokenIdentifier(principal:user@EXAMPLE.COM, keyId:1, issueDate:`**`1669849979983`**`, expirationDate:1669850039983, instanceId:e77af232-3d4b-4bf6-941a-5cfd7f3b25d5)`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332865490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332884790","html_url":"https://github.com/apache/accumulo/issues/3075#issuecomment-1332884790","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3075","id":1332884790,"node_id":"IC_kwDOACaFSM5PcjU2","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T23:33:13Z","updated_at":"2022-11-30T23:40:56Z","author_association":"CONTRIBUTOR","body":"Depending on the timer precision 1 millisecond may not be enough to guarantee the timestamp changes - it will depend on the underlying clock and currentTimeMillis() likely does not use nano seconds (that's why its faster)\r\n\r\nThe sleep \"may\" work because of the additional overhead - but using a larger value (say > 65 millis) may force it to always be a new timestamp.  The 65 millis sticks in my head as being the worst case precision of a windows timer, but that may not be accurate anymore, or it was a different value.  But there is a precision difference between the reported milliseconds and the underlying clock so 1 millisecond may not guarantee a different value.\r\n\r\nLooking a 'man 7 time'  it looks like it may depend if a high-precision clock is used or if the time is derived from jiffys for the currentTimeMillis call.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332884790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332890525","html_url":"https://github.com/apache/accumulo/pull/3099#issuecomment-1332890525","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3099","id":1332890525,"node_id":"IC_kwDOACaFSM5Pckud","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T23:35:52Z","updated_at":"2022-11-30T23:35:52Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - not sure what's up but the recent checks are failing due to \"shellcheck\" having an issue. It looks like the last 3 commits have had the same problem starting with the Apache parent pom version 28 update so not sure if it's related to the root pom change or a coincidence.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332890525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332898946","html_url":"https://github.com/apache/accumulo/issues/3075#issuecomment-1332898946","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3075","id":1332898946,"node_id":"IC_kwDOACaFSM5PcmyC","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T23:39:47Z","updated_at":"2022-11-30T23:39:47Z","author_association":"CONTRIBUTOR","body":"Fair enough, I'll just bump it to 100 millis to play it safe, the test runs very fast so it isn't going to be a big deal.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332898946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332901133","html_url":"https://github.com/apache/accumulo/issues/3075#issuecomment-1332901133","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3075","id":1332901133,"node_id":"IC_kwDOACaFSM5PcnUN","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-30T23:42:19Z","updated_at":"2022-11-30T23:42:19Z","author_association":"CONTRIBUTOR","body":"Yea - sorry. Using 100 millis is the tl/dr read version ;-)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1332901133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1333304308","html_url":"https://github.com/apache/accumulo/pull/3099#issuecomment-1333304308","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3099","id":1333304308,"node_id":"IC_kwDOACaFSM5PeJv0","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T07:06:50Z","updated_at":"2022-12-01T07:06:50Z","author_association":"MEMBER","body":"> @ctubbsii - not sure what's up but the recent checks are failing due to \"shellcheck\" having an issue. It looks like the last 3 commits have had the same problem starting with the Apache parent pom version 28 update so not sure if it's related to the root pom change or a coincidence.\r\n\r\n@cshannon The changes where this was first observed did not change anything even remotely related to the scripts that would have triggered shellcheck. It looks like the version of shellcheck installed on the builder is newer than the version that we've previously seen, and the newer version is detecting a new issue, https://www.shellcheck.net/wiki/SC2294\r\n\r\nThis is easily fixed. Please disregard for now, since you're not changing any scripts.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1333304308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1333333610","html_url":"https://github.com/apache/accumulo/issues/3097#issuecomment-1333333610","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3097","id":1333333610,"node_id":"IC_kwDOACaFSM5PeQ5q","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T07:38:54Z","updated_at":"2022-12-01T07:38:54Z","author_association":"MEMBER","body":"> Would this be more appropriate as a manual - post install step?\r\n\r\n@EdColeman Short answer: No.\r\n\r\nUsers wouldn't be able to delete the replication table, because they can't delete stuff in the builtin accumulo namespace. Unless we bake in special exceptions for replication, which contrasts with the goal of removing it. Trying to relocate the table to user space is one option, but it is fraught with issues, starting with potential name collisions, the fact that the table ID doesn't match the same base-36 number format as other user tables, and also that you don't know which configuration that might be set on the built-in namespace that needs to be copied over to the new table or namespace on relocation.\r\n\r\nBut also, the information in this table is very heavily contextualized to the current state of Accumulo and its write ahead logs and garbage collection, which have already been stripped of any relevant code that would be affected by this metadata. So any information in this table isn't going to be up-to-date with the state of Accumulo's WALs anyway... not to mention that there's little to no documentation about the structure of this table that an administrator could use to make sense of its contents.\r\n\r\n> If someone was using replication - they would need to ensure that the replication queue was fully drained before performing the upgrade. We could abort the upgrade if we can determine that a) replication is active and b) data remains that has not been replicated - this would be similar to they way that we refuse to upgrade if any FATE transactions exist because we do not handle FATE conversions.\r\n\r\nIt would be enough to just check that the replication table is marked offline in ZK before proceeding. If it's marked as online in ZK, then we could abort. I don't think it's worth doing anything beyond that to investigate the state of replication during the upgrade process.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1333333610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334020722","html_url":"https://github.com/apache/accumulo/issues/3097#issuecomment-1334020722","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3097","id":1334020722,"node_id":"IC_kwDOACaFSM5Pg4py","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T16:20:46Z","updated_at":"2022-12-01T16:20:46Z","author_association":"CONTRIBUTOR","body":"This may need to be done first - or other provision need to be made.  I was testing an incremental update where I removed the ZooKeeper property conversions. I started a 2.1 instance, created and populated a test table and on 3.0 (modified) restart, the following is occurring in the tserver.\r\n\r\n```\r\n2022-12-01T16:00:21,353 [scan.LookupTask] WARN : exception while doing multi-scan \r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.accumulo.server.replication.StatusCombiner\r\n```\r\n\r\n<details>\r\n  <summary>full trace</summary>\r\n\r\n```\r\njava.lang.RuntimeException: java.lang.ClassNotFoundException: org.apache.accumulo.server.replication.StatusCombiner\r\n        at org.apache.accumulo.core.iteratorsImpl.IteratorConfigUtil.loadIterators(IteratorConfigUtil.java:231) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.ScanDataSource.createIterator(ScanDataSource.java:229) ~[accumulo-tserver-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.ScanDataSource.iterator(ScanDataSource.java:120) ~[accumulo-tserver-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.iteratorsImpl.system.SourceSwitchingIterator.seek(SourceSwitchingIterator.java:231) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.TabletBase.lookup(TabletBase.java:358) ~[accumulo-tserver-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.tablet.TabletBase.lookup(TabletBase.java:208) ~[accumulo-tserver-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.scan.LookupTask.run(LookupTask.java:129) ~[accumulo-tserver-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.tserver.session.ScanSession$ScanMeasurer.run(ScanSession.java:62) ~[accumulo-tserver-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]\r\n        at org.apache.accumulo.core.trace.TraceWrappedRunnable.run(TraceWrappedRunnable.java:52) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at java.lang.Thread.run(Thread.java:834) ~[?:?]\r\nCaused by: java.lang.ClassNotFoundException: org.apache.accumulo.server.replication.StatusCombiner\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:471) ~[?:?]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:588) ~[?:?]\r\n        at org.apache.accumulo.start.classloader.AccumuloClassLoader$1.loadClass(AccumuloClassLoader.java:217) ~[accumulo-start-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[?:?]\r\n        at org.apache.accumulo.core.classloader.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:85) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.iteratorsImpl.IteratorConfigUtil.loadClass(IteratorConfigUtil.java:240) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        at org.apache.accumulo.core.iteratorsImpl.IteratorConfigUtil.loadIterators(IteratorConfigUtil.java:215) ~[accumulo-core-3.0.0-SNAPSHOT.jar:3.0.0-SNAPSHOT]\r\n        ... 12 more\r\n\r\n```\r\n</details>\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334020722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334069632","html_url":"https://github.com/apache/accumulo/issues/3097#issuecomment-1334069632","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3097","id":1334069632,"node_id":"IC_kwDOACaFSM5PhEmA","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T16:59:36Z","updated_at":"2022-12-01T16:59:36Z","author_association":"MEMBER","body":"@EdColeman I don't think that's related to removing the table... but it is related to iterators that are set on the metadata table that will need to be removed during the upgrade step. Updating the upgrade code to remove the configuration in the metadata tables could be a discrete change in one PR, and removing the replication table can be another.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334069632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334092147","html_url":"https://github.com/apache/accumulo/issues/3097#issuecomment-1334092147","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3097","id":1334092147,"node_id":"IC_kwDOACaFSM5PhKFz","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T17:13:09Z","updated_at":"2022-12-01T17:16:35Z","author_association":"CONTRIBUTOR","body":"That's the path I am now heading.  For reference, these are the iterator set for replication in 2.1 (with replication off, never activated.\r\n\r\n```\r\nuno ashell -e 'config -np -t accumulo.metadata' | grep repli\r\ndefault    | table.file.replication ........................ | 0\r\ntable      | table.iterator.majc.replcombiner .............. | 9,org.apache.accumulo.server.replication.StatusCombiner\r\ntable      | table.iterator.minc.replcombiner .............. | 9,org.apache.accumulo.server.replication.StatusCombiner\r\ntable      | table.iterator.scan.replcombiner .............. | 9,org.apache.accumulo.server.replication.StatusCombiner\r\ndefault    | table.replication ............................. | false\r\n\r\n```\r\n\r\nThe thing is that it may be easier to handle removing the iterators as well as the replication table in the same or adjacent PRs before modifying the rest of the unnecessary upgrade code.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334092147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334166425","html_url":"https://github.com/apache/accumulo/issues/3052#issuecomment-1334166425","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3052","id":1334166425,"node_id":"IC_kwDOACaFSM5PhcOZ","user":{"login":"AlbertWhitlock","id":40367659,"node_id":"MDQ6VXNlcjQwMzY3NjU5","avatar_url":"https://avatars.githubusercontent.com/u/40367659?v=4","gravatar_id":"","url":"https://api.github.com/users/AlbertWhitlock","html_url":"https://github.com/AlbertWhitlock","followers_url":"https://api.github.com/users/AlbertWhitlock/followers","following_url":"https://api.github.com/users/AlbertWhitlock/following{/other_user}","gists_url":"https://api.github.com/users/AlbertWhitlock/gists{/gist_id}","starred_url":"https://api.github.com/users/AlbertWhitlock/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlbertWhitlock/subscriptions","organizations_url":"https://api.github.com/users/AlbertWhitlock/orgs","repos_url":"https://api.github.com/users/AlbertWhitlock/repos","events_url":"https://api.github.com/users/AlbertWhitlock/events{/privacy}","received_events_url":"https://api.github.com/users/AlbertWhitlock/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T18:16:21Z","updated_at":"2022-12-01T18:16:21Z","author_association":"CONTRIBUTOR","body":"PR #3100 addresses this ticket.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334166425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334424209","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1334424209","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1334424209,"node_id":"IC_kwDOACaFSM5PibKR","user":{"login":"ivakegg","id":347158,"node_id":"MDQ6VXNlcjM0NzE1OA==","avatar_url":"https://avatars.githubusercontent.com/u/347158?v=4","gravatar_id":"","url":"https://api.github.com/users/ivakegg","html_url":"https://github.com/ivakegg","followers_url":"https://api.github.com/users/ivakegg/followers","following_url":"https://api.github.com/users/ivakegg/following{/other_user}","gists_url":"https://api.github.com/users/ivakegg/gists{/gist_id}","starred_url":"https://api.github.com/users/ivakegg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ivakegg/subscriptions","organizations_url":"https://api.github.com/users/ivakegg/orgs","repos_url":"https://api.github.com/users/ivakegg/repos","events_url":"https://api.github.com/users/ivakegg/events{/privacy}","received_events_url":"https://api.github.com/users/ivakegg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T20:45:05Z","updated_at":"2022-12-01T20:45:05Z","author_association":"CONTRIBUTOR","body":"Well, I applied the patch from #3047 and restarted accumulo.  Unfortunately this is what I got:\r\n\r\nCustomFrameBuffer.read returned false when reading data from client: null\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334424209/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334456366","html_url":"https://github.com/apache/accumulo/pull/3100#issuecomment-1334456366","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3100","id":1334456366,"node_id":"IC_kwDOACaFSM5PijAu","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T21:17:22Z","updated_at":"2022-12-01T21:17:22Z","author_association":"MEMBER","body":"This should be applied to the 2.1 branch, but that's in a bad state at the moment and I'm looking into fixing it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334456366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334477286","html_url":"https://github.com/apache/accumulo/pull/3102#issuecomment-1334477286","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3102","id":1334477286,"node_id":"IC_kwDOACaFSM5PioHm","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T21:35:25Z","updated_at":"2022-12-01T21:35:25Z","author_association":"MEMBER","body":"It looks like this was squashed when this was commited to the main branch... it should have been a merge commit, to bring the history of the 2.1 branch (specifically at 0928f74) into the main branch. However, it looks like something was messed up, and commit b793a1f was added to the 2.1 branch first, which never should have happened. That merged everything in the main branch into the 2.1 branch... which is not what we want.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334477286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334482105","html_url":"https://github.com/apache/accumulo/pull/3102#issuecomment-1334482105","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3102","id":1334482105,"node_id":"IC_kwDOACaFSM5PipS5","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T21:39:32Z","updated_at":"2022-12-01T21:39:54Z","author_association":"MEMBER","body":"To fix the 2.1 branch, I'm going to force bush it back to 0928f740f9, which is where 2.1 should have been at. I'm not sure why or when commit b793a1f got added in. It looks like perhaps that was done on the command line.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334482105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334496065","html_url":"https://github.com/apache/accumulo/pull/3082#issuecomment-1334496065","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3082","id":1334496065,"node_id":"IC_kwDOACaFSM5PistB","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T21:56:16Z","updated_at":"2022-12-01T21:56:16Z","author_association":"MEMBER","body":"This feature was reverted in 2.1, and will need to be reapplied to the new target branch.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334496065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334500373","html_url":"https://github.com/apache/accumulo/pull/3102#issuecomment-1334500373","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3102","id":1334500373,"node_id":"IC_kwDOACaFSM5PitwV","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T22:00:50Z","updated_at":"2022-12-01T22:00:50Z","author_association":"MEMBER","body":"This commit reverts the code in the main branch that was already reverted in 2.1 in #3101. To correctly merge the 2.1 history into the main branch, I've created a noop merge commit 9a787f12b62e865267fb5d28848432048ad3af96 that merges the revert commit in the 2.1 branch at commit 0928f740f9ddf9aeb104d8357f219457e67de925, which was the head of 2.1 at the time.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334500373/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334577642","html_url":"https://github.com/apache/accumulo/pull/3100#issuecomment-1334577642","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3100","id":1334577642,"node_id":"IC_kwDOACaFSM5PjAnq","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T23:29:32Z","updated_at":"2022-12-01T23:29:32Z","author_association":"MEMBER","body":"I rebased this onto 2.1 since that is now fixed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334577642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334580135","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1334580135","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1334580135,"node_id":"IC_kwDOACaFSM5PjBOn","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-01T23:33:52Z","updated_at":"2022-12-01T23:33:52Z","author_association":"MEMBER","body":"@dlmarion  I think you're planning on re-applying the changes that were reverted in #3101 to this PR. Is that correct?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1334580135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335171490","html_url":"https://github.com/apache/accumulo/pull/3091#issuecomment-1335171490","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3091","id":1335171490,"node_id":"IC_kwDOACaFSM5PlRmi","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T12:37:23Z","updated_at":"2022-12-02T12:37:23Z","author_association":"CONTRIBUTOR","body":"@ctubbsii  - That's correct. I reverted the prior change from 2.1 (and main by merge of 2.1 -> main). I figured I would make the changes here so that an incomplete and non-functional change was not included in a 2.1 patch release.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335171490/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335259369","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1335259369","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1335259369,"node_id":"IC_kwDOACaFSM5PlnDp","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T13:51:42Z","updated_at":"2022-12-02T13:52:16Z","author_association":"CONTRIBUTOR","body":"This has popped up before it looks like, did a search and found: \r\n\r\nhttps://lists.apache.org/thread/pdrftl1o3c1q5mcnpq7tdfffz5oxz3m1\r\nhttps://issues.apache.org/jira/browse/ACCUMULO-2360\r\n\r\nSince the general theory in the past is some non Thrift process trying to connect to the Thrift port and causing the issue, identifying the actual client using the patch from #3047 would be ideal to find out the client so we know if it's external process or something self inflicted.\r\n\r\nI'll take a look and see if I can figure out why the client value might have been null when logging. It uses a ThreadLocal to capture the client address so for some reason the thread that was the logging doesn't have that value set.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335259369/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335372632","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1335372632","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1335372632,"node_id":"IC_kwDOACaFSM5PmCtY","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T14:58:29Z","updated_at":"2022-12-02T15:02:04Z","author_association":"CONTRIBUTOR","body":"The issue is that the original patch doesn't work because the client will never be set in the thread local. The thread local is set as part of ClientInfoProcessorFactory [here](https://github.com/apache/accumulo/blob/a541197cd3304910cf80dc83b7063a2bcd3eb1d6/server/base/src/main/java/org/apache/accumulo/server/rpc/ClientInfoProcessorFactory.java#L43) and this factory is configured when using TThreadPoolServer. However, TThreadPoolServer is specifically only used for blocking servers, not nonblocking. So we will need a different approach to capture/log the client when using the non blocking server.\r\n\r\nEdit: Nevermind, I do see the invoke() method of CustomNonBlockingServer trying to set the client address in the thread local but that doesn't seem to be working so I will investigate further.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335372632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335503578","html_url":"https://github.com/apache/accumulo/issues/3094#issuecomment-1335503578","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3094","id":1335503578,"node_id":"IC_kwDOACaFSM5Pmira","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T16:27:34Z","updated_at":"2022-12-02T16:28:04Z","author_association":"CONTRIBUTOR","body":"https://github.com/apache/accumulo/pull/3103 addresses the null logging issue from the original patch in #3047 \r\n\r\nThe problem is the server is nonblocking so different threads can process the same FrameBuffer. When I tested and increased logging I saw different threads calling read() and invoke() on the same buffer so capturing the client address in invoke() and storing in a ThreadLocal doesn't work. The new PR just captures the client address on FrameBuffer creation and stores it in a String format for easy logging as a new FrameBuffer is allocated for each request. \r\n\r\nWith this new patch the logging should now work correctly and not return null.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335503578/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335944035","html_url":"https://github.com/apache/accumulo/pull/3103#issuecomment-1335944035","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3103","id":1335944035,"node_id":"IC_kwDOACaFSM5PoONj","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-02T23:03:39Z","updated_at":"2022-12-02T23:05:50Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - Ok I pushed a new commit and I think the latest should be good to go. I dug more into the code and as I noted in my comments that the reason it's null is because read is called before invoke() so the value isn't set but the biggest problem is that invoke method is actually called in a different thread using an executor service so it would never work.\r\n\r\nhttps://github.com/apache/thrift/blob/9c0de2d1eb343910213c62325f73e3bb72361c22/lib/java/src/main/java/org/apache/thrift/server/THsHaServer.java#L183\r\n\r\nMy latest update still captures the value in the constructor as a local variable so we can use it for logging when reading/writing but restores the previous behavior of setting the value on the thread local when invoke() is called so that the thread that called invoke() will have the value available again and not break existing behavior.\r\n\r\nIn regards to your comment about fixing it in Thrift API, I agree that would be the best case but that should probably be a follow on task if we want to do that and still merge this now so that we fix the current issue.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1335944035/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336174325","html_url":"https://github.com/apache/accumulo/pull/3106#issuecomment-1336174325","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3106","id":1336174325,"node_id":"IC_kwDOACaFSM5PpGb1","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T14:45:16Z","updated_at":"2022-12-03T14:45:16Z","author_association":"CONTRIBUTOR","body":"I'd like a couple people to take a look to make sure I didn't screw anything up when I was removing deprecated properties. I ran through the sunny tests and they passed but we should also kick off a full IT if it looks good. As I noted in #3105, this is the first pass to remove most of the properties that were easy to clean up. Follow on issues will be done for more in depth changes for things like compaction strategy.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336174325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336175928","html_url":"https://github.com/apache/accumulo/issues/1099#issuecomment-1336175928","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1099","id":1336175928,"node_id":"IC_kwDOACaFSM5PpG04","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T14:55:01Z","updated_at":"2022-12-03T14:55:01Z","author_association":"CONTRIBUTOR","body":"I'm going to close it out and we can open a new issue if needed for other hot methods.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336175928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336176155","html_url":"https://github.com/apache/accumulo/issues/2939#issuecomment-1336176155","issue_url":"https://api.github.com/repos/apache/accumulo/issues/2939","id":1336176155,"node_id":"IC_kwDOACaFSM5PpG4b","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T14:56:18Z","updated_at":"2022-12-03T14:56:18Z","author_association":"CONTRIBUTOR","body":"Closing as the changes were merged. We ended up not using the google style guide but just modifying the current Accumulo one and notably requiring braces for all control statements.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336176155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336177357","html_url":"https://github.com/apache/accumulo/pull/3088#issuecomment-1336177357","issue_url":"https://api.github.com/repos/apache/accumulo/issues/3088","id":1336177357,"node_id":"IC_kwDOACaFSM5PpHLN","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:02:09Z","updated_at":"2022-12-03T15:02:09Z","author_association":"CONTRIBUTOR","body":"This is ready to merge into main now.  Changed the target branch for the PR and the since tags.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336177357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336177993","html_url":"https://github.com/apache/accumulo/issues/1811#issuecomment-1336177993","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1811","id":1336177993,"node_id":"IC_kwDOACaFSM5PpHVJ","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:04:58Z","updated_at":"2022-12-03T15:04:58Z","author_association":"CONTRIBUTOR","body":"#2259 removed this test","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336177993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336179514","html_url":"https://github.com/apache/accumulo/issues/695#issuecomment-1336179514","issue_url":"https://api.github.com/repos/apache/accumulo/issues/695","id":1336179514,"node_id":"IC_kwDOACaFSM5PpHs6","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:12:48Z","updated_at":"2022-12-03T15:12:48Z","author_association":"CONTRIBUTOR","body":"This issue is over 4 years old so closing out. If there is still a desire to do it then it can be re-opened.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336179514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336180185","html_url":"https://github.com/apache/accumulo/issues/696#issuecomment-1336180185","issue_url":"https://api.github.com/repos/apache/accumulo/issues/696","id":1336180185,"node_id":"IC_kwDOACaFSM5PpH3Z","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:13:58Z","updated_at":"2022-12-03T15:13:58Z","author_association":"CONTRIBUTOR","body":"This issue is over 4 years old so closing out. If there is still a desire to do it then it can be re-opened. Also tracing was replaced recently so this may or may not be relevant.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336180185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336181113","html_url":"https://github.com/apache/accumulo/issues/1278#issuecomment-1336181113","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1278","id":1336181113,"node_id":"IC_kwDOACaFSM5PpIF5","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:17:03Z","updated_at":"2022-12-03T15:17:03Z","author_association":"CONTRIBUTOR","body":"Closing out as no activity in over 3 years, it can be reopened if this is still a problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336181113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336181434","html_url":"https://github.com/apache/accumulo/issues/608#issuecomment-1336181434","issue_url":"https://api.github.com/repos/apache/accumulo/issues/608","id":1336181434,"node_id":"IC_kwDOACaFSM5PpIK6","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:18:48Z","updated_at":"2022-12-03T15:18:48Z","author_association":"CONTRIBUTOR","body":"Closing out as no activity in over 4 years, it can be reopened if this is still a problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336181434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336181894","html_url":"https://github.com/apache/accumulo/issues/1006#issuecomment-1336181894","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1006","id":1336181894,"node_id":"IC_kwDOACaFSM5PpISG","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:22:14Z","updated_at":"2022-12-03T15:22:14Z","author_association":"CONTRIBUTOR","body":"Closing out as no activity in over 3 years, it can be reopened if this is still a problem.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336181894/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336182518","html_url":"https://github.com/apache/accumulo/issues/798#issuecomment-1336182518","issue_url":"https://api.github.com/repos/apache/accumulo/issues/798","id":1336182518,"node_id":"IC_kwDOACaFSM5PpIb2","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:25:26Z","updated_at":"2022-12-03T15:25:26Z","author_association":"CONTRIBUTOR","body":"This issue is pretty old so closing this out for now, if it is still a problem it can be re-opened.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336182518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336182903","html_url":"https://github.com/apache/accumulo/issues/1076#issuecomment-1336182903","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1076","id":1336182903,"node_id":"IC_kwDOACaFSM5PpIh3","user":{"login":"cshannon","id":123009,"node_id":"MDQ6VXNlcjEyMzAwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/123009?v=4","gravatar_id":"","url":"https://api.github.com/users/cshannon","html_url":"https://github.com/cshannon","followers_url":"https://api.github.com/users/cshannon/followers","following_url":"https://api.github.com/users/cshannon/following{/other_user}","gists_url":"https://api.github.com/users/cshannon/gists{/gist_id}","starred_url":"https://api.github.com/users/cshannon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cshannon/subscriptions","organizations_url":"https://api.github.com/users/cshannon/orgs","repos_url":"https://api.github.com/users/cshannon/repos","events_url":"https://api.github.com/users/cshannon/events{/privacy}","received_events_url":"https://api.github.com/users/cshannon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-12-03T15:27:51Z","updated_at":"2022-12-03T15:27:51Z","author_association":"CONTRIBUTOR","body":"This appears to have been resolved so closing out.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/1336182903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]