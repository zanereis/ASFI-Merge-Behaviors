[{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2447348925","html_url":"https://github.com/apache/brpc/issues/2795#issuecomment-2447348925","issue_url":"https://api.github.com/repos/apache/brpc/issues/2795","id":2447348925,"node_id":"IC_kwDOBhmkcs6R35S9","user":{"login":"zhaojinzhou","id":16334836,"node_id":"MDQ6VXNlcjE2MzM0ODM2","avatar_url":"https://avatars.githubusercontent.com/u/16334836?v=4","gravatar_id":"","url":"https://api.github.com/users/zhaojinzhou","html_url":"https://github.com/zhaojinzhou","followers_url":"https://api.github.com/users/zhaojinzhou/followers","following_url":"https://api.github.com/users/zhaojinzhou/following{/other_user}","gists_url":"https://api.github.com/users/zhaojinzhou/gists{/gist_id}","starred_url":"https://api.github.com/users/zhaojinzhou/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhaojinzhou/subscriptions","organizations_url":"https://api.github.com/users/zhaojinzhou/orgs","repos_url":"https://api.github.com/users/zhaojinzhou/repos","events_url":"https://api.github.com/users/zhaojinzhou/events{/privacy}","received_events_url":"https://api.github.com/users/zhaojinzhou/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-30T14:30:13Z","updated_at":"2024-10-30T14:30:13Z","author_association":"NONE","body":"> unwind\r\n\r\n怎么换呢？\r\n譬如说，举个例子？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2447348925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2447572464","html_url":"https://github.com/apache/brpc/issues/2795#issuecomment-2447572464","issue_url":"https://api.github.com/repos/apache/brpc/issues/2795","id":2447572464,"node_id":"IC_kwDOBhmkcs6R4v3w","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-30T15:35:54Z","updated_at":"2024-10-30T15:36:13Z","author_association":"CONTRIBUTOR","body":"可以看看gperftools的[文档](https://github.com/gperftools/gperftools/wiki/gperftools'-stacktrace-capturing-methods-and-their-issues#libunwind)。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2447572464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2448939368","html_url":"https://github.com/apache/brpc/issues/2788#issuecomment-2448939368","issue_url":"https://api.github.com/repos/apache/brpc/issues/2788","id":2448939368,"node_id":"IC_kwDOBhmkcs6R99lo","user":{"login":"qqwangxiaow","id":26954625,"node_id":"MDQ6VXNlcjI2OTU0NjI1","avatar_url":"https://avatars.githubusercontent.com/u/26954625?v=4","gravatar_id":"","url":"https://api.github.com/users/qqwangxiaow","html_url":"https://github.com/qqwangxiaow","followers_url":"https://api.github.com/users/qqwangxiaow/followers","following_url":"https://api.github.com/users/qqwangxiaow/following{/other_user}","gists_url":"https://api.github.com/users/qqwangxiaow/gists{/gist_id}","starred_url":"https://api.github.com/users/qqwangxiaow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qqwangxiaow/subscriptions","organizations_url":"https://api.github.com/users/qqwangxiaow/orgs","repos_url":"https://api.github.com/users/qqwangxiaow/repos","events_url":"https://api.github.com/users/qqwangxiaow/events{/privacy}","received_events_url":"https://api.github.com/users/qqwangxiaow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-31T03:21:11Z","updated_at":"2024-10-31T03:21:11Z","author_association":"CONTRIBUTOR","body":"> 20000条metrics一直会更新吗？有没有已经没用的？\r\n\r\n确实有一些是没用的  需要手工删除  但是这个值能不能支持扩展一下呢 有些时候指标确实很多","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2448939368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2448943755","html_url":"https://github.com/apache/brpc/issues/2805#issuecomment-2448943755","issue_url":"https://api.github.com/repos/apache/brpc/issues/2805","id":2448943755,"node_id":"IC_kwDOBhmkcs6R9-qL","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-31T03:27:05Z","updated_at":"2024-10-31T03:27:05Z","author_association":"CONTRIBUTOR","body":"Maybe it's better to use user specific paths first, like this: `set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${PROJECT_SOURCE_DIR}/cmake)`.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2448943755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2448954372","html_url":"https://github.com/apache/brpc/issues/2793#issuecomment-2448954372","issue_url":"https://api.github.com/repos/apache/brpc/issues/2793","id":2448954372,"node_id":"IC_kwDOBhmkcs6R-BQE","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-31T03:41:16Z","updated_at":"2024-10-31T03:41:16Z","author_association":"CONTRIBUTOR","body":"Thanks for the feedback. I will optimize the implementation and solve the memory leak problem later.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2448954372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2449645778","html_url":"https://github.com/apache/brpc/issues/2805#issuecomment-2449645778","issue_url":"https://api.github.com/repos/apache/brpc/issues/2805","id":2449645778,"node_id":"IC_kwDOBhmkcs6SAqDS","user":{"login":"vaavaav","id":56087034,"node_id":"MDQ6VXNlcjU2MDg3MDM0","avatar_url":"https://avatars.githubusercontent.com/u/56087034?v=4","gravatar_id":"","url":"https://api.github.com/users/vaavaav","html_url":"https://github.com/vaavaav","followers_url":"https://api.github.com/users/vaavaav/followers","following_url":"https://api.github.com/users/vaavaav/following{/other_user}","gists_url":"https://api.github.com/users/vaavaav/gists{/gist_id}","starred_url":"https://api.github.com/users/vaavaav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vaavaav/subscriptions","organizations_url":"https://api.github.com/users/vaavaav/orgs","repos_url":"https://api.github.com/users/vaavaav/repos","events_url":"https://api.github.com/users/vaavaav/events{/privacy}","received_events_url":"https://api.github.com/users/vaavaav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-31T11:38:50Z","updated_at":"2024-10-31T11:38:50Z","author_association":"NONE","body":"After searching a bit more, I stumble upon the suggestion of treating `CMAKE_MODULE_PATH` as a _list_ of paths. \r\nAs such, `list(APPEND CMAKE_MODULE_PATH \"${PROJECT_SOURCE_DIR}/cmake\")` is a much better practice. ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2449645778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2449742567","html_url":"https://github.com/apache/brpc/issues/2805#issuecomment-2449742567","issue_url":"https://api.github.com/repos/apache/brpc/issues/2805","id":2449742567,"node_id":"IC_kwDOBhmkcs6SBBrn","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-31T12:35:34Z","updated_at":"2024-10-31T12:44:45Z","author_association":"CONTRIBUTOR","body":"Good idea! Please check #2806.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2449742567/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2449751051","html_url":"https://github.com/apache/brpc/pull/1026#issuecomment-2449751051","issue_url":"https://api.github.com/repos/apache/brpc/issues/1026","id":2449751051,"node_id":"IC_kwDOBhmkcs6SBDwL","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-31T12:40:07Z","updated_at":"2024-10-31T12:40:07Z","author_association":"CONTRIBUTOR","body":"Closed this as completed in #2752.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2449751051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2449752183","html_url":"https://github.com/apache/brpc/pull/1031#issuecomment-2449752183","issue_url":"https://api.github.com/repos/apache/brpc/issues/1031","id":2449752183,"node_id":"IC_kwDOBhmkcs6SBEB3","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-31T12:40:45Z","updated_at":"2024-10-31T12:40:45Z","author_association":"CONTRIBUTOR","body":"Closed this as completed in #2752.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2449752183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2451937940","html_url":"https://github.com/apache/brpc/issues/2809#issuecomment-2451937940","issue_url":"https://api.github.com/repos/apache/brpc/issues/2809","id":2451937940,"node_id":"IC_kwDOBhmkcs6SJZqU","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-01T14:10:21Z","updated_at":"2024-11-01T14:10:21Z","author_association":"CONTRIBUTOR","body":"> 是否可以通过多次初始化建立多个到相同地址的h2：grpc链接\r\n\r\n设置不同的ChannelOptions::connection_group就可以使用不同的连接了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2451937940/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2451944498","html_url":"https://github.com/apache/brpc/issues/286#issuecomment-2451944498","issue_url":"https://api.github.com/repos/apache/brpc/issues/286","id":2451944498,"node_id":"IC_kwDOBhmkcs6SJbQy","user":{"login":"wangrufeng","id":5085970,"node_id":"MDQ6VXNlcjUwODU5NzA=","avatar_url":"https://avatars.githubusercontent.com/u/5085970?v=4","gravatar_id":"","url":"https://api.github.com/users/wangrufeng","html_url":"https://github.com/wangrufeng","followers_url":"https://api.github.com/users/wangrufeng/followers","following_url":"https://api.github.com/users/wangrufeng/following{/other_user}","gists_url":"https://api.github.com/users/wangrufeng/gists{/gist_id}","starred_url":"https://api.github.com/users/wangrufeng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangrufeng/subscriptions","organizations_url":"https://api.github.com/users/wangrufeng/orgs","repos_url":"https://api.github.com/users/wangrufeng/repos","events_url":"https://api.github.com/users/wangrufeng/events{/privacy}","received_events_url":"https://api.github.com/users/wangrufeng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-01T14:14:29Z","updated_at":"2024-11-01T14:22:05Z","author_association":"NONE","body":"> event.wait如果用的不是bthread同步原语， 那么可能会把所有的worker线程全部阻塞了， 导致没有线程可以执行task. 2018-03-28 17:16 GMT+08:00 闫梓祯@智能引擎 <notifications@github.com>:\r\n> […](#)\r\n> 如果是单个execution_queue，执行都没有问题；如果是两个的话（task和execute函数都是不同的），就会出现传进去task， 但是并没有在execute中收到的问题，请问这个是我自己实现的问题吗？下面是简化后的代码 //在server端启动时，初始化eq bthread::ExecutionQueueOptions options1; bthread::execution_queue_start(&queue_id1_, &options, ex1, meta1_); bthread::ExecutionQueueOptions options2; bthread::execution_queue_start(&queue_id2_, &options2, ex2, meta2_); 　　　//ex的函数实现 int ex1(void *meta, bthread::TaskIterator <Task1> &iter_task) { AddMeta *add_mata = (AddMeta *) meta; if (iter_task.is_queue_stopped()) { return 0; } for (; iter_task; ++iter_task) { iter_task->event->Signal(); } return 0; } // 在server 端　rpc接口，使用如下代码添加task butil::WaitableEvent event(true,false); Task1 task(&event); auto ret = bthread::execution_queue_execute(queue_id1_, task); DLOG(INFO)<<\"execution_queue_execute ret \"<<ret; event.Wait(); //如果开启多个eq，代码执行一段时间后，都会等待在这里 — You are receiving this because you are subscribed to this thread. Reply to this email directly, view it on GitHub <#286>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AGfYT-aYBFoiQaMTO40R3b_2ZKvnjXnjks5ti1TngaJpZM4S-SZX> .\r\n\r\n可以再给详细解释下吗？ 我目前遇到了在brpc服务中使用butil::WaitableEvent造成死锁的问题，butil::WaitableEvent正确的使用方式是怎样的？\r\n\r\n\r\n```\r\n#0  0x00007f875b9a5945 in pthread_cond_wait@@GLIBC_2.3.2 () from /lib64/libpthread.so.0\r\n#1  0x0000000000999505 in butil::WaitableEvent::TimedWait(butil::TimeDelta const&) ()\r\n#2  0x0000000000999609 in butil::WaitableEvent::Wait() ()\r\n\r\n...\r\n\r\n#11 0x0000000000840385 in Service::CallMethod(google::protobuf::MethodDescriptor const*, google::protobuf::RpcController*, google::protobuf::Message const*, google::protobuf::Message*, google::protobuf::Closure*) ()\r\n#12 0x0000000000aa4cfe in brpc::policy::ProcessRpcRequest(brpc::InputMessageBase*) ()\r\n#13 0x0000000000a13c9a in brpc::ProcessInputMessage(void*) ()\r\n#14 0x00000000009ca13f in bthread::TaskGroup::task_runner(long) ()\r\n#15 0x00000000009cd611 in bthread_make_fcontext ()\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2451944498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2452014477","html_url":"https://github.com/apache/brpc/issues/286#issuecomment-2452014477","issue_url":"https://api.github.com/repos/apache/brpc/issues/286","id":2452014477,"node_id":"IC_kwDOBhmkcs6SJsWN","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-01T14:56:16Z","updated_at":"2024-11-01T14:56:34Z","author_association":"CONTRIBUTOR","body":"butil::WaitableEvent是用pthread同步原语的，在bthread中使用会阻塞worker线程，如果全部都阻塞了，就调度不了bthread了。bthread中用bthread::CountdownEvent代替或者bthread::Mutex/bthread::ConditionVariable代替吧。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2452014477/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2452894778","html_url":"https://github.com/apache/brpc/pull/2620#issuecomment-2452894778","issue_url":"https://api.github.com/repos/apache/brpc/issues/2620","id":2452894778,"node_id":"IC_kwDOBhmkcs6SNDQ6","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-02T06:35:03Z","updated_at":"2024-11-02T06:35:03Z","author_association":"CONTRIBUTOR","body":"@wwbmmm 有空看看","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2452894778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453007526","html_url":"https://github.com/apache/brpc/issues/2807#issuecomment-2453007526","issue_url":"https://api.github.com/repos/apache/brpc/issues/2807","id":2453007526,"node_id":"IC_kwDOBhmkcs6SNeym","user":{"login":"wasphin","id":1237906,"node_id":"MDQ6VXNlcjEyMzc5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/1237906?v=4","gravatar_id":"","url":"https://api.github.com/users/wasphin","html_url":"https://github.com/wasphin","followers_url":"https://api.github.com/users/wasphin/followers","following_url":"https://api.github.com/users/wasphin/following{/other_user}","gists_url":"https://api.github.com/users/wasphin/gists{/gist_id}","starred_url":"https://api.github.com/users/wasphin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wasphin/subscriptions","organizations_url":"https://api.github.com/users/wasphin/orgs","repos_url":"https://api.github.com/users/wasphin/repos","events_url":"https://api.github.com/users/wasphin/events{/privacy}","received_events_url":"https://api.github.com/users/wasphin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-02T14:25:27Z","updated_at":"2024-11-02T14:25:27Z","author_association":"MEMBER","body":"看着是使用了不同版本的 protobuf 进行混合编译，建议清理下生成的 pb 文件全新编译下试试","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453007526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453311531","html_url":"https://github.com/apache/brpc/issues/2790#issuecomment-2453311531","issue_url":"https://api.github.com/repos/apache/brpc/issues/2790","id":2453311531,"node_id":"IC_kwDOBhmkcs6SOpAr","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-03T06:13:35Z","updated_at":"2024-11-03T06:13:35Z","author_association":"CONTRIBUTOR","body":"服务端能解包成功，那应该不是组包的问题。可以看看是不是压缩出问题了？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453311531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453313185","html_url":"https://github.com/apache/brpc/issues/2808#issuecomment-2453313185","issue_url":"https://api.github.com/repos/apache/brpc/issues/2808","id":2453313185,"node_id":"IC_kwDOBhmkcs6SOpah","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-03T06:20:37Z","updated_at":"2024-11-03T06:20:37Z","author_association":"CONTRIBUTOR","body":"> 是否有支持 限制最大连接数，和超时断开连接 的设置\r\n\r\n目前不支持。\r\n\r\n> 服务会被打爆并变得不可用\r\n\r\n具体是什么错误呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453313185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453326590","html_url":"https://github.com/apache/brpc/pull/2620#issuecomment-2453326590","issue_url":"https://api.github.com/repos/apache/brpc/issues/2620","id":2453326590,"node_id":"IC_kwDOBhmkcs6SOsr-","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-03T07:25:33Z","updated_at":"2024-11-03T07:25:33Z","author_association":"CONTRIBUTOR","body":"对FlatMap的性能有影响吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453326590/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453326649","html_url":"https://github.com/apache/brpc/pull/2811#issuecomment-2453326649","issue_url":"https://api.github.com/repos/apache/brpc/issues/2811","id":2453326649,"node_id":"IC_kwDOBhmkcs6SOss5","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-03T07:25:48Z","updated_at":"2024-11-03T07:25:48Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453326649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453371513","html_url":"https://github.com/apache/brpc/pull/2620#issuecomment-2453371513","issue_url":"https://api.github.com/repos/apache/brpc/issues/2620","id":2453371513,"node_id":"IC_kwDOBhmkcs6SO3p5","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-03T10:15:05Z","updated_at":"2024-11-03T10:15:05Z","author_association":"CONTRIBUTOR","body":"> 对FlatMap的性能有影响吗？\r\n\r\n没有影响。理论上来说，内联的内存块对cache更优化。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453371513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453682703","html_url":"https://github.com/apache/brpc/issues/2808#issuecomment-2453682703","issue_url":"https://api.github.com/repos/apache/brpc/issues/2808","id":2453682703,"node_id":"IC_kwDOBhmkcs6SQDoP","user":{"login":"Yeehok","id":9711109,"node_id":"MDQ6VXNlcjk3MTExMDk=","avatar_url":"https://avatars.githubusercontent.com/u/9711109?v=4","gravatar_id":"","url":"https://api.github.com/users/Yeehok","html_url":"https://github.com/Yeehok","followers_url":"https://api.github.com/users/Yeehok/followers","following_url":"https://api.github.com/users/Yeehok/following{/other_user}","gists_url":"https://api.github.com/users/Yeehok/gists{/gist_id}","starred_url":"https://api.github.com/users/Yeehok/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Yeehok/subscriptions","organizations_url":"https://api.github.com/users/Yeehok/orgs","repos_url":"https://api.github.com/users/Yeehok/repos","events_url":"https://api.github.com/users/Yeehok/events{/privacy}","received_events_url":"https://api.github.com/users/Yeehok/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T01:30:06Z","updated_at":"2024-11-04T01:30:06Z","author_association":"NONE","body":"> > 服务会被打爆并变得不可用\r\n> \r\n> 具体是什么错误呢？\r\n\r\n表现上来看，就是服务端不再接受HTTP请求，客户端会超时断开","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453682703/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453693183","html_url":"https://github.com/apache/brpc/issues/2808#issuecomment-2453693183","issue_url":"https://api.github.com/repos/apache/brpc/issues/2808","id":2453693183,"node_id":"IC_kwDOBhmkcs6SQGL_","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T01:46:34Z","updated_at":"2024-11-04T01:46:34Z","author_association":"CONTRIBUTOR","body":"可以按照[文档](https://github.com/apache/brpc/blob/master/docs/cn/server_debugging.md)排查一下服务端的问题。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453693183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453696077","html_url":"https://github.com/apache/brpc/issues/2788#issuecomment-2453696077","issue_url":"https://api.github.com/repos/apache/brpc/issues/2788","id":2453696077,"node_id":"IC_kwDOBhmkcs6SQG5N","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T01:51:18Z","updated_at":"2024-11-04T01:51:18Z","author_association":"CONTRIBUTOR","body":"可以支持。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453696077/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453702990","html_url":"https://github.com/apache/brpc/issues/2809#issuecomment-2453702990","issue_url":"https://api.github.com/repos/apache/brpc/issues/2809","id":2453702990,"node_id":"IC_kwDOBhmkcs6SQIlO","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T02:01:27Z","updated_at":"2024-11-04T02:01:27Z","author_association":"CONTRIBUTOR","body":"只用了一个channel？\r\n\r\nconnection_group没问题的，可以通过内置服务connections页面确认一下有几个连接。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453702990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453707960","html_url":"https://github.com/apache/brpc/issues/2809#issuecomment-2453707960","issue_url":"https://api.github.com/repos/apache/brpc/issues/2809","id":2453707960,"node_id":"IC_kwDOBhmkcs6SQJy4","user":{"login":"WeiYan-Lynn","id":62536039,"node_id":"MDQ6VXNlcjYyNTM2MDM5","avatar_url":"https://avatars.githubusercontent.com/u/62536039?v=4","gravatar_id":"","url":"https://api.github.com/users/WeiYan-Lynn","html_url":"https://github.com/WeiYan-Lynn","followers_url":"https://api.github.com/users/WeiYan-Lynn/followers","following_url":"https://api.github.com/users/WeiYan-Lynn/following{/other_user}","gists_url":"https://api.github.com/users/WeiYan-Lynn/gists{/gist_id}","starred_url":"https://api.github.com/users/WeiYan-Lynn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WeiYan-Lynn/subscriptions","organizations_url":"https://api.github.com/users/WeiYan-Lynn/orgs","repos_url":"https://api.github.com/users/WeiYan-Lynn/repos","events_url":"https://api.github.com/users/WeiYan-Lynn/events{/privacy}","received_events_url":"https://api.github.com/users/WeiYan-Lynn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T02:07:11Z","updated_at":"2024-11-04T02:07:11Z","author_association":"NONE","body":"\r\n可以了可以了，感谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453707960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453711057","html_url":"https://github.com/apache/brpc/issues/2808#issuecomment-2453711057","issue_url":"https://api.github.com/repos/apache/brpc/issues/2808","id":2453711057,"node_id":"IC_kwDOBhmkcs6SQKjR","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T02:12:09Z","updated_at":"2024-11-04T02:12:09Z","author_association":"CONTRIBUTOR","body":"> 目前在brpc::ServerOptions内找到两个参数 idle_timeout_sec和method_max_concurrency，分别描述为“连接但无数据传输时的连接关闭时间”和“最大并发数” 目前实际测试过程中（使用slowhttptest工具），当持续建立连接（比如pending 1w个连接），并且持续缓慢发送数据时，服务会被打爆并变得不可用。 所以请问对于使用BRPC启动的HTTP Service，是否有支持 限制最大连接数，和超时断开连接 的设置。\r\n\r\n参考https://github.com/apache/brpc/blob/master/docs/cn/server.md#%E9%99%90%E5%88%B6%E6%9C%80%E5%A4%A7%E5%B9%B6%E5%8F%91 进行设置和验证。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453711057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453713539","html_url":"https://github.com/apache/brpc/issues/2804#issuecomment-2453713539","issue_url":"https://api.github.com/repos/apache/brpc/issues/2804","id":2453713539,"node_id":"IC_kwDOBhmkcs6SQLKD","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T02:16:06Z","updated_at":"2024-11-04T02:16:06Z","author_association":"CONTRIBUTOR","body":"@serverglen 这个帅哥看看有办法修一下么，是不是部署在了一台内部的服务器上？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453713539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453789627","html_url":"https://github.com/apache/brpc/pull/2620#issuecomment-2453789627","issue_url":"https://api.github.com/repos/apache/brpc/issues/2620","id":2453789627,"node_id":"IC_kwDOBhmkcs6SQdu7","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T04:05:55Z","updated_at":"2024-11-04T04:05:55Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453789627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453792469","html_url":"https://github.com/apache/brpc/issues/2804#issuecomment-2453792469","issue_url":"https://api.github.com/repos/apache/brpc/issues/2804","id":2453792469,"node_id":"IC_kwDOBhmkcs6SQebV","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T04:08:54Z","updated_at":"2024-11-04T04:08:54Z","author_association":"CONTRIBUTOR","body":"要不把这个链接去掉？让用户本地起一个server，然后把文档里的brpc.baidu.com改成localhost","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2453792469/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2454768301","html_url":"https://github.com/apache/brpc/issues/2756#issuecomment-2454768301","issue_url":"https://api.github.com/repos/apache/brpc/issues/2756","id":2454768301,"node_id":"IC_kwDOBhmkcs6SUMqt","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-04T13:49:40Z","updated_at":"2024-11-04T13:49:40Z","author_association":"CONTRIBUTOR","body":"Closed this as completed in #2768.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2454768301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2456062102","html_url":"https://github.com/apache/brpc/pull/2813#issuecomment-2456062102","issue_url":"https://api.github.com/repos/apache/brpc/issues/2813","id":2456062102,"node_id":"IC_kwDOBhmkcs6SZIiW","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-05T01:56:07Z","updated_at":"2024-11-05T01:56:07Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2456062102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2456145028","html_url":"https://github.com/apache/brpc/issues/2815#issuecomment-2456145028","issue_url":"https://api.github.com/repos/apache/brpc/issues/2815","id":2456145028,"node_id":"IC_kwDOBhmkcs6SZcyE","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-05T03:18:21Z","updated_at":"2024-11-05T03:19:44Z","author_association":"CONTRIBUTOR","body":"bthread::butex是很底层的元语，类似于futex，bthread::Mutex类似于std::mutex。在开发过程中应该尽量使用更上层包装好的元语，即bthread::Mutex这个层面的源语言。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2456145028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2460142414","html_url":"https://github.com/apache/brpc/issues/2816#issuecomment-2460142414","issue_url":"https://api.github.com/repos/apache/brpc/issues/2816","id":2460142414,"node_id":"IC_kwDOBhmkcs6SostO","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-06T15:56:16Z","updated_at":"2024-11-06T16:01:48Z","author_association":"CONTRIBUTOR","body":"You also need to set `connect_timeout_ms` to -1, but echo_client does not provide this gflag setting. You can modify the code of echo_client, like: `options.connect_timeout_ms = -1`.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2460142414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2460166523","html_url":"https://github.com/apache/brpc/issues/2816#issuecomment-2460166523","issue_url":"https://api.github.com/repos/apache/brpc/issues/2816","id":2460166523,"node_id":"IC_kwDOBhmkcs6Soyl7","user":{"login":"vaavaav","id":56087034,"node_id":"MDQ6VXNlcjU2MDg3MDM0","avatar_url":"https://avatars.githubusercontent.com/u/56087034?v=4","gravatar_id":"","url":"https://api.github.com/users/vaavaav","html_url":"https://github.com/vaavaav","followers_url":"https://api.github.com/users/vaavaav/followers","following_url":"https://api.github.com/users/vaavaav/following{/other_user}","gists_url":"https://api.github.com/users/vaavaav/gists{/gist_id}","starred_url":"https://api.github.com/users/vaavaav/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vaavaav/subscriptions","organizations_url":"https://api.github.com/users/vaavaav/orgs","repos_url":"https://api.github.com/users/vaavaav/repos","events_url":"https://api.github.com/users/vaavaav/events{/privacy}","received_events_url":"https://api.github.com/users/vaavaav/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-06T16:02:41Z","updated_at":"2024-11-06T16:02:41Z","author_association":"NONE","body":"Strangely enough, I was doing that on the project I was actually working on and had the exact same problem. However, it is true that in the example above, setting `options.connect_timeout_ms` to `-1` avoids this problem.\r\nThanks for the help; I'll see if this was, in fact, a problem on my side.","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2460166523/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2461209757","html_url":"https://github.com/apache/brpc/issues/2812#issuecomment-2461209757","issue_url":"https://api.github.com/repos/apache/brpc/issues/2812","id":2461209757,"node_id":"IC_kwDOBhmkcs6SsxSd","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-07T02:53:57Z","updated_at":"2024-11-07T02:53:57Z","author_association":"CONTRIBUTOR","body":"没法安全析构handler，将handler看做是单例吧，不用析构。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2461209757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2463705426","html_url":"https://github.com/apache/brpc/issues/2817#issuecomment-2463705426","issue_url":"https://api.github.com/repos/apache/brpc/issues/2817","id":2463705426,"node_id":"IC_kwDOBhmkcs6S2SlS","user":{"login":"wanghenshui","id":8872493,"node_id":"MDQ6VXNlcjg4NzI0OTM=","avatar_url":"https://avatars.githubusercontent.com/u/8872493?v=4","gravatar_id":"","url":"https://api.github.com/users/wanghenshui","html_url":"https://github.com/wanghenshui","followers_url":"https://api.github.com/users/wanghenshui/followers","following_url":"https://api.github.com/users/wanghenshui/following{/other_user}","gists_url":"https://api.github.com/users/wanghenshui/gists{/gist_id}","starred_url":"https://api.github.com/users/wanghenshui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wanghenshui/subscriptions","organizations_url":"https://api.github.com/users/wanghenshui/orgs","repos_url":"https://api.github.com/users/wanghenshui/repos","events_url":"https://api.github.com/users/wanghenshui/events{/privacy}","received_events_url":"https://api.github.com/users/wanghenshui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-08T03:55:08Z","updated_at":"2024-11-08T03:55:08Z","author_association":"NONE","body":"batch可能会提高延迟吧，满足延迟条件下的最优batch大小不好找。\r\n\r\n如果能提供对应工具找最优batchsize的话确实是个很好的优化点","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2463705426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2463947707","html_url":"https://github.com/apache/brpc/issues/2817#issuecomment-2463947707","issue_url":"https://api.github.com/repos/apache/brpc/issues/2817","id":2463947707,"node_id":"IC_kwDOBhmkcs6S3Nu7","user":{"login":"zhengJade","id":30115816,"node_id":"MDQ6VXNlcjMwMTE1ODE2","avatar_url":"https://avatars.githubusercontent.com/u/30115816?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengJade","html_url":"https://github.com/zhengJade","followers_url":"https://api.github.com/users/zhengJade/followers","following_url":"https://api.github.com/users/zhengJade/following{/other_user}","gists_url":"https://api.github.com/users/zhengJade/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengJade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengJade/subscriptions","organizations_url":"https://api.github.com/users/zhengJade/orgs","repos_url":"https://api.github.com/users/zhengJade/repos","events_url":"https://api.github.com/users/zhengJade/events{/privacy}","received_events_url":"https://api.github.com/users/zhengJade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-08T07:26:53Z","updated_at":"2024-11-08T07:26:53Z","author_association":"CONTRIBUTOR","body":"找到一个合适的 batch 是很难的，因为任务本身可能有大有小，即使 steal 了合适的 batch，也不能保证是均匀做完的。\r\n\r\n我的思路是其实这和一个流批的系统很像，可以把**原来看作流，现在想做成批处理**，对于不同的业务落地场景，肯定是不同的 batch 会更好，所以可以把这个 batch 设计成可变的，默认大小是 **_rq.size() / NUM_WORKER**。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2463947707/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2465993927","html_url":"https://github.com/apache/brpc/pull/2399#issuecomment-2465993927","issue_url":"https://api.github.com/repos/apache/brpc/issues/2399","id":2465993927,"node_id":"IC_kwDOBhmkcs6S_BTH","user":{"login":"yyweii","id":598529,"node_id":"MDQ6VXNlcjU5ODUyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/598529?v=4","gravatar_id":"","url":"https://api.github.com/users/yyweii","html_url":"https://github.com/yyweii","followers_url":"https://api.github.com/users/yyweii/followers","following_url":"https://api.github.com/users/yyweii/following{/other_user}","gists_url":"https://api.github.com/users/yyweii/gists{/gist_id}","starred_url":"https://api.github.com/users/yyweii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yyweii/subscriptions","organizations_url":"https://api.github.com/users/yyweii/orgs","repos_url":"https://api.github.com/users/yyweii/repos","events_url":"https://api.github.com/users/yyweii/events{/privacy}","received_events_url":"https://api.github.com/users/yyweii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-09T02:17:07Z","updated_at":"2024-11-09T02:17:07Z","author_association":"CONTRIBUTOR","body":"@ehds 我尝试了下用boringssl，打开http_verbose，有打印发送请求的信息，但是收不到回复。如果把AddBIOBuffer去掉，能够正常运作。可能BIO_s_mem并不能代替BIO_f_buffer\r\n\r\n  auto m1 = BIO_new(BIO_s_mem());\r\n  auto m2 = BIO_new(BIO_s_mem());\r\n  auto m3 = BIO_push(m1, m2);\r\n  string buf = \"123\";\r\n  int nw = BIO_write(m3, buf.data(), buf.size());\r\n  cout << \"write nw=\" << nw << endl;\r\n  BIO_flush(m3);\r\n  char rd_buf[16] = {0};\r\n  int nr = BIO_read(m2, rd_buf, 16);\r\n  cout << \"read nr=\" << nr << endl;\r\n\r\n输出：\r\nwrite nw=3\r\nread nr=-1\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2465993927/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2466199201","html_url":"https://github.com/apache/brpc/issues/2818#issuecomment-2466199201","issue_url":"https://api.github.com/repos/apache/brpc/issues/2818","id":2466199201,"node_id":"IC_kwDOBhmkcs6S_zah","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-09T12:38:39Z","updated_at":"2024-11-09T12:39:05Z","author_association":"CONTRIBUTOR","body":"辛苦贴下具体代码","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2466199201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2466205630","html_url":"https://github.com/apache/brpc/issues/2779#issuecomment-2466205630","issue_url":"https://api.github.com/repos/apache/brpc/issues/2779","id":2466205630,"node_id":"IC_kwDOBhmkcs6S_0--","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-09T12:57:14Z","updated_at":"2024-11-09T12:57:14Z","author_association":"CONTRIBUTOR","body":"是用什么编译的，现在解决了么","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2466205630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2466209284","html_url":"https://github.com/apache/brpc/issues/2750#issuecomment-2466209284","issue_url":"https://api.github.com/repos/apache/brpc/issues/2750","id":2466209284,"node_id":"IC_kwDOBhmkcs6S_14E","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-09T13:10:04Z","updated_at":"2024-11-09T13:11:07Z","author_association":"CONTRIBUTOR","body":"没有这方面的使用demo，可以尝试一下，最好能同步一下验证结果～","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2466209284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2466774647","html_url":"https://github.com/apache/brpc/issues/2788#issuecomment-2466774647","issue_url":"https://api.github.com/repos/apache/brpc/issues/2788","id":2466774647,"node_id":"IC_kwDOBhmkcs6TB_53","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-10T15:19:47Z","updated_at":"2024-11-10T15:19:47Z","author_association":"CONTRIBUTOR","body":"@qqwangxiaow 加了一个`set_max_stats_count`接口。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2466774647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2467062105","html_url":"https://github.com/apache/brpc/issues/2750#issuecomment-2467062105","issue_url":"https://api.github.com/repos/apache/brpc/issues/2750","id":2467062105,"node_id":"IC_kwDOBhmkcs6TDGFZ","user":{"login":"knightXun","id":8334944,"node_id":"MDQ6VXNlcjgzMzQ5NDQ=","avatar_url":"https://avatars.githubusercontent.com/u/8334944?v=4","gravatar_id":"","url":"https://api.github.com/users/knightXun","html_url":"https://github.com/knightXun","followers_url":"https://api.github.com/users/knightXun/followers","following_url":"https://api.github.com/users/knightXun/following{/other_user}","gists_url":"https://api.github.com/users/knightXun/gists{/gist_id}","starred_url":"https://api.github.com/users/knightXun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knightXun/subscriptions","organizations_url":"https://api.github.com/users/knightXun/orgs","repos_url":"https://api.github.com/users/knightXun/repos","events_url":"https://api.github.com/users/knightXun/events{/privacy}","received_events_url":"https://api.github.com/users/knightXun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-11T01:31:32Z","updated_at":"2024-11-11T01:31:32Z","author_association":"NONE","body":"> 没有这方面的使用demo，可以尝试一下，最好能同步一下验证结果～\r\n已解决，多谢","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2467062105/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2467965585","html_url":"https://github.com/apache/brpc/issues/2818#issuecomment-2467965585","issue_url":"https://api.github.com/repos/apache/brpc/issues/2818","id":2467965585,"node_id":"IC_kwDOBhmkcs6TGiqR","user":{"login":"imdouyu","id":59607623,"node_id":"MDQ6VXNlcjU5NjA3NjIz","avatar_url":"https://avatars.githubusercontent.com/u/59607623?v=4","gravatar_id":"","url":"https://api.github.com/users/imdouyu","html_url":"https://github.com/imdouyu","followers_url":"https://api.github.com/users/imdouyu/followers","following_url":"https://api.github.com/users/imdouyu/following{/other_user}","gists_url":"https://api.github.com/users/imdouyu/gists{/gist_id}","starred_url":"https://api.github.com/users/imdouyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imdouyu/subscriptions","organizations_url":"https://api.github.com/users/imdouyu/orgs","repos_url":"https://api.github.com/users/imdouyu/repos","events_url":"https://api.github.com/users/imdouyu/events{/privacy}","received_events_url":"https://api.github.com/users/imdouyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-11T11:38:59Z","updated_at":"2024-11-11T11:38:59Z","author_association":"CONTRIBUTOR","body":"> 辛苦贴下具体代码\r\n\r\n已更新","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2467965585/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2468507423","html_url":"https://github.com/apache/brpc/issues/1776#issuecomment-2468507423","issue_url":"https://api.github.com/repos/apache/brpc/issues/1776","id":2468507423,"node_id":"IC_kwDOBhmkcs6TIm8f","user":{"login":"yuanzhubi","id":25676580,"node_id":"MDQ6VXNlcjI1Njc2NTgw","avatar_url":"https://avatars.githubusercontent.com/u/25676580?v=4","gravatar_id":"","url":"https://api.github.com/users/yuanzhubi","html_url":"https://github.com/yuanzhubi","followers_url":"https://api.github.com/users/yuanzhubi/followers","following_url":"https://api.github.com/users/yuanzhubi/following{/other_user}","gists_url":"https://api.github.com/users/yuanzhubi/gists{/gist_id}","starred_url":"https://api.github.com/users/yuanzhubi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yuanzhubi/subscriptions","organizations_url":"https://api.github.com/users/yuanzhubi/orgs","repos_url":"https://api.github.com/users/yuanzhubi/repos","events_url":"https://api.github.com/users/yuanzhubi/events{/privacy}","received_events_url":"https://api.github.com/users/yuanzhubi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-11T15:57:39Z","updated_at":"2024-11-11T15:57:39Z","author_association":"NONE","body":"> 问题2，关于 tls_bls 被缓存在寄存器上的问题，看起来还没解决吧？\r\n\r\n感觉是一个机制的问题，worker steal的实现机制对于任何可能发生thread 切换，都可能让对tls的使用产生问题。需要系统的在避免tls使用。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2468507423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2469466340","html_url":"https://github.com/apache/brpc/issues/2818#issuecomment-2469466340","issue_url":"https://api.github.com/repos/apache/brpc/issues/2818","id":2469466340,"node_id":"IC_kwDOBhmkcs6TMRDk","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-12T02:30:28Z","updated_at":"2024-11-12T02:30:28Z","author_association":"CONTRIBUTOR","body":"1. bthread内可以起pthread。但是pthread_join会阻塞worker线程，慎用。\r\n2. bthread同步原语支持bthread和pthread。在pthread执行的是pthread的同步逻辑。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2469466340/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2469514019","html_url":"https://github.com/apache/brpc/issues/2818#issuecomment-2469514019","issue_url":"https://api.github.com/repos/apache/brpc/issues/2818","id":2469514019,"node_id":"IC_kwDOBhmkcs6TMcsj","user":{"login":"imdouyu","id":59607623,"node_id":"MDQ6VXNlcjU5NjA3NjIz","avatar_url":"https://avatars.githubusercontent.com/u/59607623?v=4","gravatar_id":"","url":"https://api.github.com/users/imdouyu","html_url":"https://github.com/imdouyu","followers_url":"https://api.github.com/users/imdouyu/followers","following_url":"https://api.github.com/users/imdouyu/following{/other_user}","gists_url":"https://api.github.com/users/imdouyu/gists{/gist_id}","starred_url":"https://api.github.com/users/imdouyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imdouyu/subscriptions","organizations_url":"https://api.github.com/users/imdouyu/orgs","repos_url":"https://api.github.com/users/imdouyu/repos","events_url":"https://api.github.com/users/imdouyu/events{/privacy}","received_events_url":"https://api.github.com/users/imdouyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-12T03:23:22Z","updated_at":"2024-11-12T03:23:22Z","author_association":"CONTRIBUTOR","body":"> 1. bthread内可以起pthread。但是pthread_join会阻塞worker线程，慎用。\r\n> 2. bthread同步原语支持bthread和pthread。在pthread执行的是pthread的同步逻辑。\r\n\r\n这里说的worker线程指bthread运行的线程吗","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2469514019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2469522922","html_url":"https://github.com/apache/brpc/issues/2818#issuecomment-2469522922","issue_url":"https://api.github.com/repos/apache/brpc/issues/2818","id":2469522922,"node_id":"IC_kwDOBhmkcs6TMe3q","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-12T03:33:51Z","updated_at":"2024-11-12T03:33:51Z","author_association":"CONTRIBUTOR","body":"是的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2469522922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2472121661","html_url":"https://github.com/apache/brpc/issues/2814#issuecomment-2472121661","issue_url":"https://api.github.com/repos/apache/brpc/issues/2814","id":2472121661,"node_id":"IC_kwDOBhmkcs6TWZU9","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T01:32:58Z","updated_at":"2024-11-13T01:32:58Z","author_association":"CONTRIBUTOR","body":"使用rdma_performance来测试你这个协议的请求和应答试试呢？这样能缩小问题的排查范围，更好的定位问题点。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2472121661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2472523584","html_url":"https://github.com/apache/brpc/pull/2591#issuecomment-2472523584","issue_url":"https://api.github.com/repos/apache/brpc/issues/2591","id":2472523584,"node_id":"IC_kwDOBhmkcs6TX7dA","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-13T06:15:32Z","updated_at":"2024-11-13T06:15:32Z","author_association":"CONTRIBUTOR","body":"> 不一定是写不进去。大多数情况应该是StartWrite写完队头数据，但是队列里还有还有其他数据，所以启动协程KeepWrite。\r\n> \r\n> 不过 #2588 在压力比较大的时候，整体服务能力都下降了。只优化少数连接上的rpc回包延迟，优化应该有限吧。\r\n\r\n那如果是只写了一个req，队列里面还有其它数据，这种情况要是优化，可以让StartWrite去再取后边的请求，也不用再专门启动一个bthread吧。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2472523584/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475226109","html_url":"https://github.com/apache/brpc/pull/2591#issuecomment-2475226109","issue_url":"https://api.github.com/repos/apache/brpc/issues/2591","id":2475226109,"node_id":"IC_kwDOBhmkcs6TiPP9","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T02:15:51Z","updated_at":"2024-11-14T02:15:51Z","author_association":"CONTRIBUTOR","body":"> > 不一定是写不进去。大多数情况应该是StartWrite写完队头数据，但是队列里还有还有其他数据，所以启动协程KeepWrite。\r\n> > 不过 #2588 在压力比较大的时候，整体服务能力都下降了。只优化少数连接上的rpc回包延迟，优化应该有限吧。\r\n> \r\n> 那如果是只写了一个req，队列里面还有其它数据，这种情况要是优化，可以让StartWrite去再取后边的请求，也不用再专门启动一个bthread吧。\r\n\r\n不可行吧。调用方的预期是写完自己的req就得返回了，后续还有其他逻辑执行。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475226109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475278601","html_url":"https://github.com/apache/brpc/pull/2591#issuecomment-2475278601","issue_url":"https://api.github.com/repos/apache/brpc/issues/2591","id":2475278601,"node_id":"IC_kwDOBhmkcs6TicEJ","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T02:31:13Z","updated_at":"2024-11-14T02:31:13Z","author_association":"CONTRIBUTOR","body":"> > > 不一定是写不进去。大多数情况应该是StartWrite写完队头数据，但是队列里还有还有其他数据，所以启动协程KeepWrite。\r\n> > > 不过 #2588 在压力比较大的时候，整体服务能力都下降了。只优化少数连接上的rpc回包延迟，优化应该有限吧。\r\n> > \r\n> > \r\n> > 那如果是只写了一个req，队列里面还有其它数据，这种情况要是优化，可以让StartWrite去再取后边的请求，也不用再专门启动一个bthread吧。\r\n> \r\n> 不可行吧。调用方的预期是写完自己的req就得返回了，后续还有其他逻辑执行。\r\n\r\n上面有个_write_head.exchange，这块如果fd有写的话，这个请求就挂到链表里面就返回了，下面的判断逻辑就不生效了吧？这块怎么理解呢？有时候起作用，有时候不起作用吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475278601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475289337","html_url":"https://github.com/apache/brpc/pull/2591#issuecomment-2475289337","issue_url":"https://api.github.com/repos/apache/brpc/issues/2591","id":2475289337,"node_id":"IC_kwDOBhmkcs6Tier5","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T02:34:13Z","updated_at":"2024-11-14T02:34:13Z","author_association":"CONTRIBUTOR","body":"我理解是要么同步写自己的req，要么异步写。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475289337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475518812","html_url":"https://github.com/apache/brpc/issues/2389#issuecomment-2475518812","issue_url":"https://api.github.com/repos/apache/brpc/issues/2389","id":2475518812,"node_id":"IC_kwDOBhmkcs6TjWtc","user":{"login":"vinllen","id":6987398,"node_id":"MDQ6VXNlcjY5ODczOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6987398?v=4","gravatar_id":"","url":"https://api.github.com/users/vinllen","html_url":"https://github.com/vinllen","followers_url":"https://api.github.com/users/vinllen/followers","following_url":"https://api.github.com/users/vinllen/following{/other_user}","gists_url":"https://api.github.com/users/vinllen/gists{/gist_id}","starred_url":"https://api.github.com/users/vinllen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinllen/subscriptions","organizations_url":"https://api.github.com/users/vinllen/orgs","repos_url":"https://api.github.com/users/vinllen/repos","events_url":"https://api.github.com/users/vinllen/events{/privacy}","received_events_url":"https://api.github.com/users/vinllen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T06:31:04Z","updated_at":"2024-11-14T06:31:04Z","author_association":"NONE","body":"牛批 这个功能对我们帮助很大","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475518812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475577124","html_url":"https://github.com/apache/brpc/issues/2389#issuecomment-2475577124","issue_url":"https://api.github.com/repos/apache/brpc/issues/2389","id":2475577124,"node_id":"IC_kwDOBhmkcs6Tjk8k","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T07:08:42Z","updated_at":"2024-11-14T07:08:42Z","author_association":"CONTRIBUTOR","body":"你们在什么场景下需要打印bthread调用栈呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475577124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475805234","html_url":"https://github.com/apache/brpc/pull/2591#issuecomment-2475805234","issue_url":"https://api.github.com/repos/apache/brpc/issues/2591","id":2475805234,"node_id":"IC_kwDOBhmkcs6Tkcoy","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T09:15:42Z","updated_at":"2024-11-14T09:23:10Z","author_association":"CONTRIBUTOR","body":"> 我理解是要么同步写自己的req，要么异步写。\r\n\r\n那即使加这个start_urgent，也可能是异步写对吧？因为可能走不到这个分支就提前return了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475805234/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475834991","html_url":"https://github.com/apache/brpc/pull/2591#issuecomment-2475834991","issue_url":"https://api.github.com/repos/apache/brpc/issues/2591","id":2475834991,"node_id":"IC_kwDOBhmkcs6Tkj5v","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T09:29:44Z","updated_at":"2024-11-14T09:29:44Z","author_association":"CONTRIBUTOR","body":"> > 我理解是要么同步写自己的req，要么异步写。\r\n> \r\n> 那即使加这个start_urgent，也可能是异步写对吧？因为可能走不到这个分支就提前return了。\r\n\r\n是的","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2475834991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2476116457","html_url":"https://github.com/apache/brpc/pull/2591#issuecomment-2476116457","issue_url":"https://api.github.com/repos/apache/brpc/issues/2591","id":2476116457,"node_id":"IC_kwDOBhmkcs6Tlonp","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T11:31:24Z","updated_at":"2024-11-14T11:31:24Z","author_association":"CONTRIBUTOR","body":"> > > 我理解是要么同步写自己的req，要么异步写。\r\n> > \r\n> > \r\n> > 那即使加这个start_urgent，也可能是异步写对吧？因为可能走不到这个分支就提前return了。\r\n> \r\n> 是的\r\n\r\n那如果走到了下面的分支，说明本请求所在的线程获得了写的权限，它会把自己的请求写完，即使不启动start_urgent，启动start_urgent的目的是为了让后续的请求更及时的写到socket？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2476116457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2476147315","html_url":"https://github.com/apache/brpc/pull/2591#issuecomment-2476147315","issue_url":"https://api.github.com/repos/apache/brpc/issues/2591","id":2476147315,"node_id":"IC_kwDOBhmkcs6TlwJz","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-14T11:47:52Z","updated_at":"2024-11-14T11:47:52Z","author_association":"CONTRIBUTOR","body":"期望是这样的，但是没测过效果。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2476147315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2477919541","html_url":"https://github.com/apache/brpc/issues/2437#issuecomment-2477919541","issue_url":"https://api.github.com/repos/apache/brpc/issues/2437","id":2477919541,"node_id":"IC_kwDOBhmkcs6Tsg01","user":{"login":"FancyJan","id":37871611,"node_id":"MDQ6VXNlcjM3ODcxNjEx","avatar_url":"https://avatars.githubusercontent.com/u/37871611?v=4","gravatar_id":"","url":"https://api.github.com/users/FancyJan","html_url":"https://github.com/FancyJan","followers_url":"https://api.github.com/users/FancyJan/followers","following_url":"https://api.github.com/users/FancyJan/following{/other_user}","gists_url":"https://api.github.com/users/FancyJan/gists{/gist_id}","starred_url":"https://api.github.com/users/FancyJan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FancyJan/subscriptions","organizations_url":"https://api.github.com/users/FancyJan/orgs","repos_url":"https://api.github.com/users/FancyJan/repos","events_url":"https://api.github.com/users/FancyJan/events{/privacy}","received_events_url":"https://api.github.com/users/FancyJan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T04:12:51Z","updated_at":"2024-11-15T07:53:19Z","author_association":"CONTRIBUTOR","body":"这个后来弄明白了，这块的逻辑在baidu_rpc_protocol.cpp的SendRpcResponse。\r\nbvar中的latency是在ConcurrencyRemover析构的时候统计，但是由于析构顺序需要等req和res先析构完再统计，导致这里的时间比实际发送出去的时间要长。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2477919541/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2477955173","html_url":"https://github.com/apache/brpc/issues/2437#issuecomment-2477955173","issue_url":"https://api.github.com/repos/apache/brpc/issues/2437","id":2477955173,"node_id":"IC_kwDOBhmkcs6Tsphl","user":{"login":"Huixxi","id":21335093,"node_id":"MDQ6VXNlcjIxMzM1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/21335093?v=4","gravatar_id":"","url":"https://api.github.com/users/Huixxi","html_url":"https://github.com/Huixxi","followers_url":"https://api.github.com/users/Huixxi/followers","following_url":"https://api.github.com/users/Huixxi/following{/other_user}","gists_url":"https://api.github.com/users/Huixxi/gists{/gist_id}","starred_url":"https://api.github.com/users/Huixxi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Huixxi/subscriptions","organizations_url":"https://api.github.com/users/Huixxi/orgs","repos_url":"https://api.github.com/users/Huixxi/repos","events_url":"https://api.github.com/users/Huixxi/events{/privacy}","received_events_url":"https://api.github.com/users/Huixxi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T04:49:03Z","updated_at":"2024-11-15T04:49:03Z","author_association":"CONTRIBUTOR","body":"> 这个后来弄明白了，这块的逻辑在baidu_rpc_protocol.cpp的SendRpcResponse。 bvar中的latency是在ConcurrencyRemover析构的时候统计，但是由于析构顺序需要等req和res先析构完再统计，导致这里的时间比实际发送出去的时间要长。\r\n\r\n所以是不是bvar这里的上报逻辑需要优化一下。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2477955173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2478045137","html_url":"https://github.com/apache/brpc/issues/2437#issuecomment-2478045137","issue_url":"https://api.github.com/repos/apache/brpc/issues/2437","id":2478045137,"node_id":"IC_kwDOBhmkcs6Ts_fR","user":{"login":"FancyJan","id":37871611,"node_id":"MDQ6VXNlcjM3ODcxNjEx","avatar_url":"https://avatars.githubusercontent.com/u/37871611?v=4","gravatar_id":"","url":"https://api.github.com/users/FancyJan","html_url":"https://github.com/FancyJan","followers_url":"https://api.github.com/users/FancyJan/followers","following_url":"https://api.github.com/users/FancyJan/following{/other_user}","gists_url":"https://api.github.com/users/FancyJan/gists{/gist_id}","starred_url":"https://api.github.com/users/FancyJan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FancyJan/subscriptions","organizations_url":"https://api.github.com/users/FancyJan/orgs","repos_url":"https://api.github.com/users/FancyJan/repos","events_url":"https://api.github.com/users/FancyJan/events{/privacy}","received_events_url":"https://api.github.com/users/FancyJan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T06:21:36Z","updated_at":"2024-11-15T06:27:21Z","author_association":"CONTRIBUTOR","body":"> > 这个后来弄明白了，这块的逻辑在baidu_rpc_protocol.cpp的SendRpcResponse。 bvar中的latency是在ConcurrencyRemover析构的时候统计，但是由于析构顺序需要等req和res先析构完再统计，导致这里的时间比实际发送出去的时间要长。\r\n> \r\n> 所以是不是bvar这里的上报逻辑需要优化一下。\r\n\r\n刚刚加了个打点看了下析构应该不是很耗时，问题不大。之所以有这么大差异的原因是业务引入了这个变更：https://github.com/apache/brpc/pull/2328/files#diff-1c912dfbdb9b39d5f50ed77e1a415829bf908666ee98226bf60d138f507242e6\r\n这个会导致bvar的统计多计入用户回调的时间，这个时间是比较长的。\r\n可以考虑把ConcurrencyRemover最后声明，这样获得的latency就比较准了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2478045137/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2478270442","html_url":"https://github.com/apache/brpc/issues/1231#issuecomment-2478270442","issue_url":"https://api.github.com/repos/apache/brpc/issues/1231","id":2478270442,"node_id":"IC_kwDOBhmkcs6Tt2fq","user":{"login":"HQF2017","id":32055029,"node_id":"MDQ6VXNlcjMyMDU1MDI5","avatar_url":"https://avatars.githubusercontent.com/u/32055029?v=4","gravatar_id":"","url":"https://api.github.com/users/HQF2017","html_url":"https://github.com/HQF2017","followers_url":"https://api.github.com/users/HQF2017/followers","following_url":"https://api.github.com/users/HQF2017/following{/other_user}","gists_url":"https://api.github.com/users/HQF2017/gists{/gist_id}","starred_url":"https://api.github.com/users/HQF2017/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HQF2017/subscriptions","organizations_url":"https://api.github.com/users/HQF2017/orgs","repos_url":"https://api.github.com/users/HQF2017/repos","events_url":"https://api.github.com/users/HQF2017/events{/privacy}","received_events_url":"https://api.github.com/users/HQF2017/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-15T08:57:23Z","updated_at":"2024-11-15T08:57:23Z","author_association":"NONE","body":"请问下有具体原因和解决方法吗...碰到了一样的问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2478270442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2482319125","html_url":"https://github.com/apache/brpc/issues/1895#issuecomment-2482319125","issue_url":"https://api.github.com/repos/apache/brpc/issues/1895","id":2482319125,"node_id":"IC_kwDOBhmkcs6T9S8V","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-18T08:55:41Z","updated_at":"2024-11-18T08:55:41Z","author_association":"CONTRIBUTOR","body":"有个场景我想再问一下，如果客户单给服务端发送的请求会被路由器drop掉，但是在tcp层面上这个socket是好的，bRPC现在会是什么行为呢？@chenBright","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2482319125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2484610563","html_url":"https://github.com/apache/brpc/issues/2821#issuecomment-2484610563","issue_url":"https://api.github.com/repos/apache/brpc/issues/2821","id":2484610563,"node_id":"IC_kwDOBhmkcs6UGCYD","user":{"login":"oathdruid","id":17508029,"node_id":"MDQ6VXNlcjE3NTA4MDI5","avatar_url":"https://avatars.githubusercontent.com/u/17508029?v=4","gravatar_id":"","url":"https://api.github.com/users/oathdruid","html_url":"https://github.com/oathdruid","followers_url":"https://api.github.com/users/oathdruid/followers","following_url":"https://api.github.com/users/oathdruid/following{/other_user}","gists_url":"https://api.github.com/users/oathdruid/gists{/gist_id}","starred_url":"https://api.github.com/users/oathdruid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/oathdruid/subscriptions","organizations_url":"https://api.github.com/users/oathdruid/orgs","repos_url":"https://api.github.com/users/oathdruid/repos","events_url":"https://api.github.com/users/oathdruid/events{/privacy}","received_events_url":"https://api.github.com/users/oathdruid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-19T03:04:13Z","updated_at":"2024-11-19T03:04:13Z","author_association":"CONTRIBUTOR","body":"1.11版本应该已经比较正式地支持bzlmod模式了，不过还有几个老deps还没有进bcr，目前要联合私服一起用","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2484610563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2486098708","html_url":"https://github.com/apache/brpc/issues/1895#issuecomment-2486098708","issue_url":"https://api.github.com/repos/apache/brpc/issues/1895","id":2486098708,"node_id":"IC_kwDOBhmkcs6ULtsU","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-19T15:53:52Z","updated_at":"2024-11-19T15:53:52Z","author_association":"CONTRIBUTOR","body":"> 有个场景我想再问一下，如果客户单给服务端发送的请求会被路由器drop掉，但是在tcp层面上这个socket是好的，bRPC现在会是什么行为呢？@chenBright\r\n\r\n@yanglimingcn  RPC超时。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2486098708/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2487136066","html_url":"https://github.com/apache/brpc/issues/1895#issuecomment-2487136066","issue_url":"https://api.github.com/repos/apache/brpc/issues/1895","id":2487136066,"node_id":"IC_kwDOBhmkcs6UPq9C","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T01:39:20Z","updated_at":"2024-11-20T01:40:17Z","author_association":"CONTRIBUTOR","body":"> > 有个场景我想再问一下，如果客户单给服务端发送的请求会被路由器drop掉，但是在tcp层面上这个socket是好的，bRPC现在会是什么行为呢？@chenBright\r\n> \r\n> @yanglimingcn RPC超时。\r\n\r\nRPC超时了，bRPC看上去不会认为这个socket有问题，会继续使用这个socket做重试，导致服务实际上一致不可用，直到socket本身有问题了，我们这边好像遇到这样的情况了。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2487136066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2487196184","html_url":"https://github.com/apache/brpc/issues/1895#issuecomment-2487196184","issue_url":"https://api.github.com/repos/apache/brpc/issues/1895","id":2487196184,"node_id":"IC_kwDOBhmkcs6UP5oY","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T02:26:06Z","updated_at":"2024-11-20T02:26:06Z","author_association":"CONTRIBUTOR","body":"可以看看[熔断功能](https://github.com/apache/brpc/blob/master/docs/cn/circuit_breaker.md)。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2487196184/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2487627359","html_url":"https://github.com/apache/brpc/issues/2354#issuecomment-2487627359","issue_url":"https://api.github.com/repos/apache/brpc/issues/2354","id":2487627359,"node_id":"IC_kwDOBhmkcs6URi5f","user":{"login":"lintanghui","id":13373613,"node_id":"MDQ6VXNlcjEzMzczNjEz","avatar_url":"https://avatars.githubusercontent.com/u/13373613?v=4","gravatar_id":"","url":"https://api.github.com/users/lintanghui","html_url":"https://github.com/lintanghui","followers_url":"https://api.github.com/users/lintanghui/followers","following_url":"https://api.github.com/users/lintanghui/following{/other_user}","gists_url":"https://api.github.com/users/lintanghui/gists{/gist_id}","starred_url":"https://api.github.com/users/lintanghui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lintanghui/subscriptions","organizations_url":"https://api.github.com/users/lintanghui/orgs","repos_url":"https://api.github.com/users/lintanghui/repos","events_url":"https://api.github.com/users/lintanghui/events{/privacy}","received_events_url":"https://api.github.com/users/lintanghui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T06:43:02Z","updated_at":"2024-11-20T06:43:02Z","author_association":"NONE","body":"开源计划进度有更新嘛","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2487627359/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2487687131","html_url":"https://github.com/apache/brpc/issues/2389#issuecomment-2487687131","issue_url":"https://api.github.com/repos/apache/brpc/issues/2389","id":2487687131,"node_id":"IC_kwDOBhmkcs6URxfb","user":{"login":"vinllen","id":6987398,"node_id":"MDQ6VXNlcjY5ODczOTg=","avatar_url":"https://avatars.githubusercontent.com/u/6987398?v=4","gravatar_id":"","url":"https://api.github.com/users/vinllen","html_url":"https://github.com/vinllen","followers_url":"https://api.github.com/users/vinllen/followers","following_url":"https://api.github.com/users/vinllen/following{/other_user}","gists_url":"https://api.github.com/users/vinllen/gists{/gist_id}","starred_url":"https://api.github.com/users/vinllen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vinllen/subscriptions","organizations_url":"https://api.github.com/users/vinllen/orgs","repos_url":"https://api.github.com/users/vinllen/repos","events_url":"https://api.github.com/users/vinllen/events{/privacy}","received_events_url":"https://api.github.com/users/vinllen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T07:13:08Z","updated_at":"2024-11-20T07:13:08Z","author_association":"NONE","body":"多种场景吧，比如进程hang住、或者排查长延迟的情况，类似pstack查看调用栈情况，只是bthread之前没有这个功能。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2487687131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489919968","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2489919968","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2489919968,"node_id":"IC_kwDOBhmkcs6UaSng","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T02:09:54Z","updated_at":"2024-11-21T02:09:54Z","author_association":"CONTRIBUTOR","body":"能否在bthread这个层面上，创建协程的时候设置一个属性，使它具有更高的优先级呢？现在这里专门设置了epoll_XXX，感觉有点特化。\r\n另外，总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489919968/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489938094","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2489938094","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2489938094,"node_id":"IC_kwDOBhmkcs6UaXCu","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T02:29:44Z","updated_at":"2024-11-21T02:29:44Z","author_association":"CONTRIBUTOR","body":"> 能否在bthread这个层面上，创建协程的时候设置一个属性，使它具有更高的优先级呢？现在这里专门设置了epoll_XXX，感觉有点特化。\r\n\r\n+1。\r\n进一步抽象出一个高优先级队列，使用WorkStealingQueue来实现：\r\n\r\n1. 简化实现逻辑。\r\n2. 后续还有高优先级的bthread，只需要设置对应的bthread_attrflags_t即可。 \r\n\r\n这样是不是更好呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489938094/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489940901","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2489940901","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2489940901,"node_id":"IC_kwDOBhmkcs6UaXul","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T02:32:42Z","updated_at":"2024-11-21T02:32:42Z","author_association":"CONTRIBUTOR","body":"> 总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？\r\n\r\n现在只有一个连接，epoll bthread调度不是很频繁。是不是可以起多一些client和epoll bthread再测一下呢？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489940901/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489942731","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2489942731","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2489942731,"node_id":"IC_kwDOBhmkcs6UaYLL","user":{"login":"wanghenshui","id":8872493,"node_id":"MDQ6VXNlcjg4NzI0OTM=","avatar_url":"https://avatars.githubusercontent.com/u/8872493?v=4","gravatar_id":"","url":"https://api.github.com/users/wanghenshui","html_url":"https://github.com/wanghenshui","followers_url":"https://api.github.com/users/wanghenshui/followers","following_url":"https://api.github.com/users/wanghenshui/following{/other_user}","gists_url":"https://api.github.com/users/wanghenshui/gists{/gist_id}","starred_url":"https://api.github.com/users/wanghenshui/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wanghenshui/subscriptions","organizations_url":"https://api.github.com/users/wanghenshui/orgs","repos_url":"https://api.github.com/users/wanghenshui/repos","events_url":"https://api.github.com/users/wanghenshui/events{/privacy}","received_events_url":"https://api.github.com/users/wanghenshui/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T02:34:45Z","updated_at":"2024-11-21T02:34:45Z","author_association":"NONE","body":"> 能否在bthread这个层面上，创建协程的时候设置一个属性，使它具有更高的优先级呢？现在这里专门设置了epoll_XXX，感觉有点特化。 另外，总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？\r\n\r\n1 你说得对，是有点特化，这么改简单点\r\n\r\n如果是带优先级的bthread 可能就得改调度了，涉及到任务抢占/饥饿问题，可能麻烦一点\r\n\r\n\r\n2 你说的也对可能会堆积，但是epoll任务是比较少的\r\n\r\n如果改了优先级，会存在你说的优先级高的任务太多导致其他任务饿死\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489942731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489944238","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2489944238","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2489944238,"node_id":"IC_kwDOBhmkcs6UaYiu","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T02:36:23Z","updated_at":"2024-11-21T02:36:23Z","author_association":"CONTRIBUTOR","body":"@zhengJade 延时性能的提升主要是因为epoll bthread优先调度了吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2489944238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490017008","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2490017008","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2490017008,"node_id":"IC_kwDOBhmkcs6UaqTw","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T03:58:11Z","updated_at":"2024-11-21T03:58:11Z","author_association":"CONTRIBUTOR","body":"> > 能否在bthread这个层面上，创建协程的时候设置一个属性，使它具有更高的优先级呢？现在这里专门设置了epoll_XXX，感觉有点特化。 另外，总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？\r\n> \r\n> 1 你说得对，是有点特化，这么改简单点\r\n> \r\n> 如果是带优先级的bthread 可能就得改调度了，涉及到任务抢占/饥饿问题，可能麻烦一点\r\n\r\n这样的特化，可能在一些其它用户哪里有些不适用，要尽量保持和原来的兼容性。\r\n\r\n> \r\n> 2 你说的也对可能会堆积，但是epoll任务是比较少的\r\n> \r\n> 如果改了优先级，会存在你说的优先级高的任务太多导致其他任务饿死\r\n\r\nepoll任务的多少，是由客户端那边决定的，这个不太好预期。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490017008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490107577","html_url":"https://github.com/apache/brpc/pull/2560#issuecomment-2490107577","issue_url":"https://api.github.com/repos/apache/brpc/issues/2560","id":2490107577,"node_id":"IC_kwDOBhmkcs6UbAa5","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T05:24:35Z","updated_at":"2024-11-21T05:24:35Z","author_association":"CONTRIBUTOR","body":"我最近使用了这个PR，很好用，👍，我有个问题，这里面创建一个fd使用Create，要是删掉一个fd调用哪个API呢？调用SetFailed吗？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490107577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490165774","html_url":"https://github.com/apache/brpc/pull/2560#issuecomment-2490165774","issue_url":"https://api.github.com/repos/apache/brpc/issues/2560","id":2490165774,"node_id":"IC_kwDOBhmkcs6UbOoO","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T06:17:43Z","updated_at":"2024-11-21T06:18:29Z","author_association":"CONTRIBUTOR","body":"> 我有个问题，这里面创建一个fd使用Create，要是删掉一个fd调用哪个API呢？调用SetFailed吗？\r\n\r\n跟Socket对象一样，调SetFailed。等到VersionedRefWithId引用计数降为0，就会调BeforeRecycled，在BeforeRecycled里close fd就行。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490165774/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490512341","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2490512341","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2490512341,"node_id":"IC_kwDOBhmkcs6UcjPV","user":{"login":"zhengJade","id":30115816,"node_id":"MDQ6VXNlcjMwMTE1ODE2","avatar_url":"https://avatars.githubusercontent.com/u/30115816?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengJade","html_url":"https://github.com/zhengJade","followers_url":"https://api.github.com/users/zhengJade/followers","following_url":"https://api.github.com/users/zhengJade/following{/other_user}","gists_url":"https://api.github.com/users/zhengJade/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengJade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengJade/subscriptions","organizations_url":"https://api.github.com/users/zhengJade/orgs","repos_url":"https://api.github.com/users/zhengJade/repos","events_url":"https://api.github.com/users/zhengJade/events{/privacy}","received_events_url":"https://api.github.com/users/zhengJade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T09:26:56Z","updated_at":"2024-11-21T09:26:56Z","author_association":"CONTRIBUTOR","body":"> > 总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？\r\n> \r\n> 现在只有一个连接，epoll bthread调度不是很频繁。是不是可以起多一些client和epoll bthread再测一下呢？\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490512341/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490525604","html_url":"https://github.com/apache/brpc/pull/2824#issuecomment-2490525604","issue_url":"https://api.github.com/repos/apache/brpc/issues/2824","id":2490525604,"node_id":"IC_kwDOBhmkcs6Ucmek","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T09:28:43Z","updated_at":"2024-11-21T09:28:43Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490525604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490551846","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2490551846","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2490551846,"node_id":"IC_kwDOBhmkcs6Ucs4m","user":{"login":"zhengJade","id":30115816,"node_id":"MDQ6VXNlcjMwMTE1ODE2","avatar_url":"https://avatars.githubusercontent.com/u/30115816?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengJade","html_url":"https://github.com/zhengJade","followers_url":"https://api.github.com/users/zhengJade/followers","following_url":"https://api.github.com/users/zhengJade/following{/other_user}","gists_url":"https://api.github.com/users/zhengJade/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengJade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengJade/subscriptions","organizations_url":"https://api.github.com/users/zhengJade/orgs","repos_url":"https://api.github.com/users/zhengJade/repos","events_url":"https://api.github.com/users/zhengJade/events{/privacy}","received_events_url":"https://api.github.com/users/zhengJade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T09:34:13Z","updated_at":"2024-11-21T09:40:04Z","author_association":"CONTRIBUTOR","body":"> 能否在bthread这个层面上，创建协程的时候设置一个属性，使它具有更高的优先级呢？现在这里专门设置了epoll_XXX，感觉有点特化。 另外，总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？\r\n\r\n@yanglimingcn 我觉得可以增加一个属性来表示高优先级，但是要说明一点，就是 epoll 的 任务被 steal 的前提肯定是有 worker 需要 steal from task_control，所以可证明 worker 自己的 queue 应该没有任务，证明他是空闲的，这个时候应该优先让其响应网络事件，这有两个好处\r\n1. 保证网络任务能够及时响应。\r\n2. 可以让所有的 worker 的 run_q 相对均匀，因为 q 中大量任务来源不是 steal，而是 deal event。\r\n另一个问题，就是是否会造成堆积：\r\n如果我们不响应 epoll 就会造成堆积，证明此刻的网络请求数量是大于 brpc 的处理能力的，否则我们不需要通过增加 steal 的次数这种比起 pop queue 更费时间的操作来加快某时刻处理存量 bthread 的能力。这是牺牲了 RT 带来的，感觉不合理。而且 QPS 高时候更容易造成 RT 抖动。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490551846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490555159","html_url":"https://github.com/apache/brpc/issues/2821#issuecomment-2490555159","issue_url":"https://api.github.com/repos/apache/brpc/issues/2821","id":2490555159,"node_id":"IC_kwDOBhmkcs6UctsX","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T09:34:45Z","updated_at":"2024-11-21T10:56:00Z","author_association":"CONTRIBUTOR","body":"我看test下面那个BUILD.bazel里面的测试不全，有很多ut文件都没覆盖到，可以更新的全面一些吗？\r\n@oathdruid ","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490555159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490558740","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2490558740","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2490558740,"node_id":"IC_kwDOBhmkcs6UcukU","user":{"login":"zhengJade","id":30115816,"node_id":"MDQ6VXNlcjMwMTE1ODE2","avatar_url":"https://avatars.githubusercontent.com/u/30115816?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengJade","html_url":"https://github.com/zhengJade","followers_url":"https://api.github.com/users/zhengJade/followers","following_url":"https://api.github.com/users/zhengJade/following{/other_user}","gists_url":"https://api.github.com/users/zhengJade/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengJade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengJade/subscriptions","organizations_url":"https://api.github.com/users/zhengJade/orgs","repos_url":"https://api.github.com/users/zhengJade/repos","events_url":"https://api.github.com/users/zhengJade/events{/privacy}","received_events_url":"https://api.github.com/users/zhengJade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T09:35:22Z","updated_at":"2024-11-21T09:35:22Z","author_association":"CONTRIBUTOR","body":"> > 总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？\r\n> \r\n> 现在只有一个连接，epoll bthread调度不是很频繁。是不是可以起多一些client和epoll bthread再测一下呢？\r\n\r\n好的，我再测试一下多 client 的效果","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490558740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490582269","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2490582269","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2490582269,"node_id":"IC_kwDOBhmkcs6Uc0T9","user":{"login":"zhengJade","id":30115816,"node_id":"MDQ6VXNlcjMwMTE1ODE2","avatar_url":"https://avatars.githubusercontent.com/u/30115816?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengJade","html_url":"https://github.com/zhengJade","followers_url":"https://api.github.com/users/zhengJade/followers","following_url":"https://api.github.com/users/zhengJade/following{/other_user}","gists_url":"https://api.github.com/users/zhengJade/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengJade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengJade/subscriptions","organizations_url":"https://api.github.com/users/zhengJade/orgs","repos_url":"https://api.github.com/users/zhengJade/repos","events_url":"https://api.github.com/users/zhengJade/events{/privacy}","received_events_url":"https://api.github.com/users/zhengJade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T09:39:41Z","updated_at":"2024-11-21T09:44:59Z","author_association":"CONTRIBUTOR","body":"> @zhengJade 延时性能的提升主要是因为epoll bthread优先调度了吗？\r\n\r\n@chenBright \r\n从理论上看应该有两方面原因\r\n1. epoll 响应更及时，导致整个 brpc 的处理优先级逻辑发生了变化，以前是所有的 worker 尽量先处理完所有的任务，才能保证有新的 event 进来，当然，没处理完也有会，这取决于是否 steal 到了 epoll 任务，这带来的变化就是，所有空闲的 worker 会立刻拿到 epoll，然后填充自己的 queue，这样可以保证，每个 worker 的 queue 都有一定量的任务，减少 steal 的频率。\r\n2. 任务分布均匀后，wait 的频率降低，可以降低 signal 的频率，只有有任务等待在通知。减少系统调用。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490582269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490597540","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2490597540","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2490597540,"node_id":"IC_kwDOBhmkcs6Uc4Ck","user":{"login":"zhengJade","id":30115816,"node_id":"MDQ6VXNlcjMwMTE1ODE2","avatar_url":"https://avatars.githubusercontent.com/u/30115816?v=4","gravatar_id":"","url":"https://api.github.com/users/zhengJade","html_url":"https://github.com/zhengJade","followers_url":"https://api.github.com/users/zhengJade/followers","following_url":"https://api.github.com/users/zhengJade/following{/other_user}","gists_url":"https://api.github.com/users/zhengJade/gists{/gist_id}","starred_url":"https://api.github.com/users/zhengJade/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhengJade/subscriptions","organizations_url":"https://api.github.com/users/zhengJade/orgs","repos_url":"https://api.github.com/users/zhengJade/repos","events_url":"https://api.github.com/users/zhengJade/events{/privacy}","received_events_url":"https://api.github.com/users/zhengJade/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T09:46:39Z","updated_at":"2024-11-21T09:46:39Z","author_association":"CONTRIBUTOR","body":"> > 能否在bthread这个层面上，创建协程的时候设置一个属性，使它具有更高的优先级呢？现在这里专门设置了epoll_XXX，感觉有点特化。 另外，总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？\r\n> \r\n> 1 你说得对，是有点特化，这么改简单点\r\n> \r\n> 如果是带优先级的bthread 可能就得改调度了，涉及到任务抢占/饥饿问题，可能麻烦一点\r\n> \r\n> 2 你说的也对可能会堆积，但是epoll任务是比较少的\r\n> \r\n> 如果改了优先级，会存在你说的优先级高的任务太多导致其他任务饿死\r\n\r\n@wanghenshui \r\n是的，当前的改动是特化的，因为目前我只分析出了 epoll 这种任务同优先级带来的问题，所以就只修改了 epoll。\r\n我们是可以增加一个 priority queue，这样可以对使用 bthread 的人开发增加更多的可能性，但是还需要完善，像你说的，随意使用 priority queue 可能会带来饥饿问题，在这个策略没想好之前，可以通过限制 queue 的大小，来一定程度保证不会饥饿，或者不开放这个接口，是 private 的，只作为内部使用。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490597540/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490950097","html_url":"https://github.com/apache/brpc/pull/2819#issuecomment-2490950097","issue_url":"https://api.github.com/repos/apache/brpc/issues/2819","id":2490950097,"node_id":"IC_kwDOBhmkcs6UeOHR","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-21T12:01:30Z","updated_at":"2024-11-21T12:01:30Z","author_association":"CONTRIBUTOR","body":"> > 能否在bthread这个层面上，创建协程的时候设置一个属性，使它具有更高的优先级呢？现在这里专门设置了epoll_XXX，感觉有点特化。 另外，总是让epoll的bthread优先调度的话，会不会造成堆积很多任务的情况呢？\r\n> \r\n> @yanglimingcn 我觉得可以增加一个属性来表示高优先级，但是要说明一点，就是 epoll 的 任务被 steal 的前提肯定是有 worker 需要 steal from task_control，所以可证明 worker 自己的 queue 应该没有任务，证明他是空闲的，这个时候应该优先让其响应网络事件，这有两个好处\r\n> \r\n> 1. 保证网络任务能够及时响应。\r\n> 2. 可以让所有的 worker 的 run_q 相对均匀，因为 q 中大量任务来源不是 steal，而是 deal event。\r\n>    另一个问题，就是是否会造成堆积：\r\n>    如果我们不响应 epoll 就会造成堆积，证明此刻的网络请求数量是大于 brpc 的处理能力的，否则我们不需要通过增加 steal 的次数这种比起 pop queue 更费时间的操作来加快某时刻处理存量 bthread 的能力。这是牺牲了 RT 带来的，感觉不合理。而且 QPS 高时候更容易造成 RT 抖动。\r\n\r\n    // Find next task to run, if none, switch to idle thread of the group.\r\n#ifndef BTHREAD_FAIR_WSQ\r\n    const bool popped = g->_rq.pop(&next_tid);\r\n#else\r\n    const bool popped = g->_rq.steal(&next_tid);\r\n#endif\r\n\r\n我看这块的代码是把任务的调度反转了，能达到先执行epoll的目的？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2490950097/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2492669784","html_url":"https://github.com/apache/brpc/pull/2824#issuecomment-2492669784","issue_url":"https://api.github.com/repos/apache/brpc/issues/2824","id":2492669784,"node_id":"IC_kwDOBhmkcs6Ukx9Y","user":{"login":"yanglimingcn","id":7091130,"node_id":"MDQ6VXNlcjcwOTExMzA=","avatar_url":"https://avatars.githubusercontent.com/u/7091130?v=4","gravatar_id":"","url":"https://api.github.com/users/yanglimingcn","html_url":"https://github.com/yanglimingcn","followers_url":"https://api.github.com/users/yanglimingcn/followers","following_url":"https://api.github.com/users/yanglimingcn/following{/other_user}","gists_url":"https://api.github.com/users/yanglimingcn/gists{/gist_id}","starred_url":"https://api.github.com/users/yanglimingcn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yanglimingcn/subscriptions","organizations_url":"https://api.github.com/users/yanglimingcn/orgs","repos_url":"https://api.github.com/users/yanglimingcn/repos","events_url":"https://api.github.com/users/yanglimingcn/events{/privacy}","received_events_url":"https://api.github.com/users/yanglimingcn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-22T01:11:42Z","updated_at":"2024-11-22T01:11:42Z","author_association":"CONTRIBUTOR","body":"LGTM 👍","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2492669784/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2499636309","html_url":"https://github.com/apache/brpc/pull/2827#issuecomment-2499636309","issue_url":"https://api.github.com/repos/apache/brpc/issues/2827","id":2499636309,"node_id":"IC_kwDOBhmkcs6U_WxV","user":{"login":"wasphin","id":1237906,"node_id":"MDQ6VXNlcjEyMzc5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/1237906?v=4","gravatar_id":"","url":"https://api.github.com/users/wasphin","html_url":"https://github.com/wasphin","followers_url":"https://api.github.com/users/wasphin/followers","following_url":"https://api.github.com/users/wasphin/following{/other_user}","gists_url":"https://api.github.com/users/wasphin/gists{/gist_id}","starred_url":"https://api.github.com/users/wasphin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wasphin/subscriptions","organizations_url":"https://api.github.com/users/wasphin/orgs","repos_url":"https://api.github.com/users/wasphin/repos","events_url":"https://api.github.com/users/wasphin/events{/privacy}","received_events_url":"https://api.github.com/users/wasphin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-26T04:32:56Z","updated_at":"2024-11-26T04:32:56Z","author_association":"MEMBER","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2499636309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2500074028","html_url":"https://github.com/apache/brpc/pull/2820#issuecomment-2500074028","issue_url":"https://api.github.com/repos/apache/brpc/issues/2820","id":2500074028,"node_id":"IC_kwDOBhmkcs6VBBos","user":{"login":"superhail","id":29605328,"node_id":"MDQ6VXNlcjI5NjA1MzI4","avatar_url":"https://avatars.githubusercontent.com/u/29605328?v=4","gravatar_id":"","url":"https://api.github.com/users/superhail","html_url":"https://github.com/superhail","followers_url":"https://api.github.com/users/superhail/followers","following_url":"https://api.github.com/users/superhail/following{/other_user}","gists_url":"https://api.github.com/users/superhail/gists{/gist_id}","starred_url":"https://api.github.com/users/superhail/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superhail/subscriptions","organizations_url":"https://api.github.com/users/superhail/orgs","repos_url":"https://api.github.com/users/superhail/repos","events_url":"https://api.github.com/users/superhail/events{/privacy}","received_events_url":"https://api.github.com/users/superhail/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-26T09:15:57Z","updated_at":"2024-11-26T09:15:57Z","author_association":"CONTRIBUTOR","body":"好的，我补充一下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2500074028/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2500306604","html_url":"https://github.com/apache/brpc/issues/2265#issuecomment-2500306604","issue_url":"https://api.github.com/repos/apache/brpc/issues/2265","id":2500306604,"node_id":"IC_kwDOBhmkcs6VB6as","user":{"login":"live4thee","id":71350,"node_id":"MDQ6VXNlcjcxMzUw","avatar_url":"https://avatars.githubusercontent.com/u/71350?v=4","gravatar_id":"","url":"https://api.github.com/users/live4thee","html_url":"https://github.com/live4thee","followers_url":"https://api.github.com/users/live4thee/followers","following_url":"https://api.github.com/users/live4thee/following{/other_user}","gists_url":"https://api.github.com/users/live4thee/gists{/gist_id}","starred_url":"https://api.github.com/users/live4thee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/live4thee/subscriptions","organizations_url":"https://api.github.com/users/live4thee/orgs","repos_url":"https://api.github.com/users/live4thee/repos","events_url":"https://api.github.com/users/live4thee/events{/privacy}","received_events_url":"https://api.github.com/users/live4thee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-26T11:00:08Z","updated_at":"2024-11-26T11:15:50Z","author_association":"CONTRIBUTOR","body":"补充一点发现：CC @Tuvie \r\n\r\n1. input_messenger.cpp 报错 `due to unknown message` 时，增加日志打印 `RdmaEndpoint::DebugInfo()` 的信息如下：\r\n```txt\r\nrdma_state=ON\r\nhandshake_state=ESTABLISHED\r\nrdma_window_size=125\r\nrdma_local_window_capacity=125\r\nrdma_remote_window_capacity=125\r\nrdma_sbuf_head=60\r\nrdma_sbuf_tail=60\r\nrdma_rbuf_head=118\r\nrdma_unacked_rq_wr=32\r\nrdma_received_ack=0\r\nrdma_unsolicited_sent=0\r\nrdma_unsignaled_sq_wr=14\r\n```\r\n2. 此时，对应的客户端 RPC 请求增加日志打印的 `RdmaEndpoint::DebugInfo()` 信息如下：\r\n```txt\r\nrdma_state=ON\r\nhandshake_state=ESTABLISHED\r\nrdma_window_size=19\r\nrdma_local_window_capacity=125\r\nrdma_remote_window_capacity=125\r\nrdma_sbuf_head=67\r\nrdma_sbuf_tail=86\r\nrdma_rbuf_head=22\r\nrdma_unacked_rq_wr=0\r\nrdma_received_ack=0\r\nrdma_unsolicited_sent=0\r\nrdma_unsignaled_sq_wr=5\r\n```\r\n\r\n分析 `unknown message` 的报错日志，原本应该出现在 attachment 里的内容，出现在了 protobuf 里。\r\n\r\n此外，如果 RPC 的数据较小，比如：限制在 64KB 以内，就会不容易出现。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2500306604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2502844625","html_url":"https://github.com/apache/brpc/issues/2480#issuecomment-2502844625","issue_url":"https://api.github.com/repos/apache/brpc/issues/2480","id":2502844625,"node_id":"IC_kwDOBhmkcs6VLmDR","user":{"login":"namelij","id":20858692,"node_id":"MDQ6VXNlcjIwODU4Njky","avatar_url":"https://avatars.githubusercontent.com/u/20858692?v=4","gravatar_id":"","url":"https://api.github.com/users/namelij","html_url":"https://github.com/namelij","followers_url":"https://api.github.com/users/namelij/followers","following_url":"https://api.github.com/users/namelij/following{/other_user}","gists_url":"https://api.github.com/users/namelij/gists{/gist_id}","starred_url":"https://api.github.com/users/namelij/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namelij/subscriptions","organizations_url":"https://api.github.com/users/namelij/orgs","repos_url":"https://api.github.com/users/namelij/repos","events_url":"https://api.github.com/users/namelij/events{/privacy}","received_events_url":"https://api.github.com/users/namelij/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-27T05:21:14Z","updated_at":"2024-11-27T05:21:14Z","author_association":"NONE","body":"一样，我也出现了类似问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2502844625/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2505329075","html_url":"https://github.com/apache/brpc/pull/2820#issuecomment-2505329075","issue_url":"https://api.github.com/repos/apache/brpc/issues/2820","id":2505329075,"node_id":"IC_kwDOBhmkcs6VVEmz","user":{"login":"superhail","id":29605328,"node_id":"MDQ6VXNlcjI5NjA1MzI4","avatar_url":"https://avatars.githubusercontent.com/u/29605328?v=4","gravatar_id":"","url":"https://api.github.com/users/superhail","html_url":"https://github.com/superhail","followers_url":"https://api.github.com/users/superhail/followers","following_url":"https://api.github.com/users/superhail/following{/other_user}","gists_url":"https://api.github.com/users/superhail/gists{/gist_id}","starred_url":"https://api.github.com/users/superhail/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superhail/subscriptions","organizations_url":"https://api.github.com/users/superhail/orgs","repos_url":"https://api.github.com/users/superhail/repos","events_url":"https://api.github.com/users/superhail/events{/privacy}","received_events_url":"https://api.github.com/users/superhail/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-28T06:07:16Z","updated_at":"2024-11-28T06:07:16Z","author_association":"CONTRIBUTOR","body":"@wwbmmm please help review","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2505329075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2505475676","html_url":"https://github.com/apache/brpc/issues/1335#issuecomment-2505475676","issue_url":"https://api.github.com/repos/apache/brpc/issues/1335","id":2505475676,"node_id":"IC_kwDOBhmkcs6VVoZc","user":{"login":"yangyang233333","id":39417815,"node_id":"MDQ6VXNlcjM5NDE3ODE1","avatar_url":"https://avatars.githubusercontent.com/u/39417815?v=4","gravatar_id":"","url":"https://api.github.com/users/yangyang233333","html_url":"https://github.com/yangyang233333","followers_url":"https://api.github.com/users/yangyang233333/followers","following_url":"https://api.github.com/users/yangyang233333/following{/other_user}","gists_url":"https://api.github.com/users/yangyang233333/gists{/gist_id}","starred_url":"https://api.github.com/users/yangyang233333/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangyang233333/subscriptions","organizations_url":"https://api.github.com/users/yangyang233333/orgs","repos_url":"https://api.github.com/users/yangyang233333/repos","events_url":"https://api.github.com/users/yangyang233333/events{/privacy}","received_events_url":"https://api.github.com/users/yangyang233333/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-28T08:00:39Z","updated_at":"2024-11-28T08:00:39Z","author_association":"NONE","body":"@pluswu @chenlei5662 @HSQ79815 @willwu5047 @live4thee 大佬们请问能说详细点吗？我好像也遇到了这个问题","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2505475676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2505668026","html_url":"https://github.com/apache/brpc/issues/1129#issuecomment-2505668026","issue_url":"https://api.github.com/repos/apache/brpc/issues/1129","id":2505668026,"node_id":"IC_kwDOBhmkcs6VWXW6","user":{"login":"yangyang233333","id":39417815,"node_id":"MDQ6VXNlcjM5NDE3ODE1","avatar_url":"https://avatars.githubusercontent.com/u/39417815?v=4","gravatar_id":"","url":"https://api.github.com/users/yangyang233333","html_url":"https://github.com/yangyang233333","followers_url":"https://api.github.com/users/yangyang233333/followers","following_url":"https://api.github.com/users/yangyang233333/following{/other_user}","gists_url":"https://api.github.com/users/yangyang233333/gists{/gist_id}","starred_url":"https://api.github.com/users/yangyang233333/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yangyang233333/subscriptions","organizations_url":"https://api.github.com/users/yangyang233333/orgs","repos_url":"https://api.github.com/users/yangyang233333/repos","events_url":"https://api.github.com/users/yangyang233333/events{/privacy}","received_events_url":"https://api.github.com/users/yangyang233333/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-28T09:39:25Z","updated_at":"2024-11-28T09:39:25Z","author_association":"NONE","body":"请问最终的如何解决的？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2505668026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2509403734","html_url":"https://github.com/apache/brpc/issues/2779#issuecomment-2509403734","issue_url":"https://api.github.com/repos/apache/brpc/issues/2779","id":2509403734,"node_id":"IC_kwDOBhmkcs6VknZW","user":{"login":"wasphin","id":1237906,"node_id":"MDQ6VXNlcjEyMzc5MDY=","avatar_url":"https://avatars.githubusercontent.com/u/1237906?v=4","gravatar_id":"","url":"https://api.github.com/users/wasphin","html_url":"https://github.com/wasphin","followers_url":"https://api.github.com/users/wasphin/followers","following_url":"https://api.github.com/users/wasphin/following{/other_user}","gists_url":"https://api.github.com/users/wasphin/gists{/gist_id}","starred_url":"https://api.github.com/users/wasphin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wasphin/subscriptions","organizations_url":"https://api.github.com/users/wasphin/orgs","repos_url":"https://api.github.com/users/wasphin/repos","events_url":"https://api.github.com/users/wasphin/events{/privacy}","received_events_url":"https://api.github.com/users/wasphin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-30T22:25:39Z","updated_at":"2024-11-30T22:25:39Z","author_association":"MEMBER","body":"印象中有一版centos系统中自带gflags有问题，需要升级下","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2509403734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2510509218","html_url":"https://github.com/apache/brpc/pull/2820#issuecomment-2510509218","issue_url":"https://api.github.com/repos/apache/brpc/issues/2820","id":2510509218,"node_id":"IC_kwDOBhmkcs6Vo1Si","user":{"login":"superhail","id":29605328,"node_id":"MDQ6VXNlcjI5NjA1MzI4","avatar_url":"https://avatars.githubusercontent.com/u/29605328?v=4","gravatar_id":"","url":"https://api.github.com/users/superhail","html_url":"https://github.com/superhail","followers_url":"https://api.github.com/users/superhail/followers","following_url":"https://api.github.com/users/superhail/following{/other_user}","gists_url":"https://api.github.com/users/superhail/gists{/gist_id}","starred_url":"https://api.github.com/users/superhail/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superhail/subscriptions","organizations_url":"https://api.github.com/users/superhail/orgs","repos_url":"https://api.github.com/users/superhail/repos","events_url":"https://api.github.com/users/superhail/events{/privacy}","received_events_url":"https://api.github.com/users/superhail/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-02T03:39:39Z","updated_at":"2024-12-02T03:39:39Z","author_association":"CONTRIBUTOR","body":"@wwbmmm cc","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2510509218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2510855068","html_url":"https://github.com/apache/brpc/issues/2828#issuecomment-2510855068","issue_url":"https://api.github.com/repos/apache/brpc/issues/2828","id":2510855068,"node_id":"IC_kwDOBhmkcs6VqJuc","user":{"login":"TousakaRin","id":8801314,"node_id":"MDQ6VXNlcjg4MDEzMTQ=","avatar_url":"https://avatars.githubusercontent.com/u/8801314?v=4","gravatar_id":"","url":"https://api.github.com/users/TousakaRin","html_url":"https://github.com/TousakaRin","followers_url":"https://api.github.com/users/TousakaRin/followers","following_url":"https://api.github.com/users/TousakaRin/following{/other_user}","gists_url":"https://api.github.com/users/TousakaRin/gists{/gist_id}","starred_url":"https://api.github.com/users/TousakaRin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TousakaRin/subscriptions","organizations_url":"https://api.github.com/users/TousakaRin/orgs","repos_url":"https://api.github.com/users/TousakaRin/repos","events_url":"https://api.github.com/users/TousakaRin/events{/privacy}","received_events_url":"https://api.github.com/users/TousakaRin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-02T08:18:04Z","updated_at":"2024-12-02T08:18:04Z","author_association":"CONTRIBUTOR","body":"如果测出来的平均 latency 远大于 min_latency ， max_concurrecy会平滑的慢慢减小，同时估算的min_latency 会平滑增大","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2510855068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2513689442","html_url":"https://github.com/apache/brpc/issues/1335#issuecomment-2513689442","issue_url":"https://api.github.com/repos/apache/brpc/issues/1335","id":2513689442,"node_id":"IC_kwDOBhmkcs6V09ti","user":{"login":"live4thee","id":71350,"node_id":"MDQ6VXNlcjcxMzUw","avatar_url":"https://avatars.githubusercontent.com/u/71350?v=4","gravatar_id":"","url":"https://api.github.com/users/live4thee","html_url":"https://github.com/live4thee","followers_url":"https://api.github.com/users/live4thee/followers","following_url":"https://api.github.com/users/live4thee/following{/other_user}","gists_url":"https://api.github.com/users/live4thee/gists{/gist_id}","starred_url":"https://api.github.com/users/live4thee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/live4thee/subscriptions","organizations_url":"https://api.github.com/users/live4thee/orgs","repos_url":"https://api.github.com/users/live4thee/repos","events_url":"https://api.github.com/users/live4thee/events{/privacy}","received_events_url":"https://api.github.com/users/live4thee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-03T06:45:24Z","updated_at":"2024-12-03T06:45:24Z","author_association":"CONTRIBUTOR","body":"> @pluswu @chenlei5662 @HSQ79815 @willwu5047 @live4thee 大佬们请问能说详细点吗？我好像也遇到了这个问题\r\n\r\n```sh\r\n$ git grep 'static bvar:'  # 找到所有静态初始化的 bvar\r\n```\r\n\r\n按照 @willwu5047 的建议，把这些 bvar 改成 **非** 静态初始化。`test/bvar_variable_unittest.cpp` 里有若干示例。","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2513689442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2513817704","html_url":"https://github.com/apache/brpc/pull/2820#issuecomment-2513817704","issue_url":"https://api.github.com/repos/apache/brpc/issues/2820","id":2513817704,"node_id":"IC_kwDOBhmkcs6V1dBo","user":{"login":"wwbmmm","id":3894631,"node_id":"MDQ6VXNlcjM4OTQ2MzE=","avatar_url":"https://avatars.githubusercontent.com/u/3894631?v=4","gravatar_id":"","url":"https://api.github.com/users/wwbmmm","html_url":"https://github.com/wwbmmm","followers_url":"https://api.github.com/users/wwbmmm/followers","following_url":"https://api.github.com/users/wwbmmm/following{/other_user}","gists_url":"https://api.github.com/users/wwbmmm/gists{/gist_id}","starred_url":"https://api.github.com/users/wwbmmm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wwbmmm/subscriptions","organizations_url":"https://api.github.com/users/wwbmmm/orgs","repos_url":"https://api.github.com/users/wwbmmm/repos","events_url":"https://api.github.com/users/wwbmmm/events{/privacy}","received_events_url":"https://api.github.com/users/wwbmmm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-03T08:10:26Z","updated_at":"2024-12-03T08:10:26Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2513817704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2517394451","html_url":"https://github.com/apache/brpc/issues/2265#issuecomment-2517394451","issue_url":"https://api.github.com/repos/apache/brpc/issues/2265","id":2517394451,"node_id":"IC_kwDOBhmkcs6WDGQT","user":{"login":"live4thee","id":71350,"node_id":"MDQ6VXNlcjcxMzUw","avatar_url":"https://avatars.githubusercontent.com/u/71350?v=4","gravatar_id":"","url":"https://api.github.com/users/live4thee","html_url":"https://github.com/live4thee","followers_url":"https://api.github.com/users/live4thee/followers","following_url":"https://api.github.com/users/live4thee/following{/other_user}","gists_url":"https://api.github.com/users/live4thee/gists{/gist_id}","starred_url":"https://api.github.com/users/live4thee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/live4thee/subscriptions","organizations_url":"https://api.github.com/users/live4thee/orgs","repos_url":"https://api.github.com/users/live4thee/repos","events_url":"https://api.github.com/users/live4thee/events{/privacy}","received_events_url":"https://api.github.com/users/live4thee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-04T13:31:34Z","updated_at":"2024-12-05T08:02:29Z","author_association":"CONTRIBUTOR","body":"把  `unknown message` 之前的请求内容 dump 出来发现，其中一个 RdmaIOBuf 的内容发生了错位。\r\n\r\n假设接收到的 RdmaIOBuf 列表为 `[B1, B2, ..., Bn]`, 其中的内容代表一个 cut 出来的 RPC 消息。则，现象是其中一个本应是当前 RPC 内容的 Bi 里面是第二个 RPC 的 RpcMeta 信息，计算 offset 刚好是少一个 RdmaIOBuf 大小：8160 字节。\r\n\r\nUpdated:\r\n多次测试后，分析请求内容，得到共同点：\r\n1. 出错的 RPC 请求里内容缺失，缺失的内容大小均为 RdmaIOBuf 的整数倍；\r\n2. 出错的 RPC 中混入了后续 RPC 请求的内容，因此解析后续 RPC 时报错 `unknown message`.\r\n\r\nUpdated again:\r\n也有少量是存粹内容出错，中间没有混入 RPC 头部元数据，如下图。填充的数据是 0xdeadface.\r\n![image](https://github.com/user-attachments/assets/de285f83-2ee3-483c-8191-36dc0a47db0b)","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2517394451/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2519841743","html_url":"https://github.com/apache/brpc/pull/2830#issuecomment-2519841743","issue_url":"https://api.github.com/repos/apache/brpc/issues/2830","id":2519841743,"node_id":"IC_kwDOBhmkcs6WMbvP","user":{"login":"chenBright","id":12249635,"node_id":"MDQ6VXNlcjEyMjQ5NjM1","avatar_url":"https://avatars.githubusercontent.com/u/12249635?v=4","gravatar_id":"","url":"https://api.github.com/users/chenBright","html_url":"https://github.com/chenBright","followers_url":"https://api.github.com/users/chenBright/followers","following_url":"https://api.github.com/users/chenBright/following{/other_user}","gists_url":"https://api.github.com/users/chenBright/gists{/gist_id}","starred_url":"https://api.github.com/users/chenBright/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenBright/subscriptions","organizations_url":"https://api.github.com/users/chenBright/orgs","repos_url":"https://api.github.com/users/chenBright/repos","events_url":"https://api.github.com/users/chenBright/events{/privacy}","received_events_url":"https://api.github.com/users/chenBright/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-05T10:09:48Z","updated_at":"2024-12-05T10:09:48Z","author_association":"CONTRIBUTOR","body":"是不是得更新一下[文档](https://github.com/apache/brpc/blob/master/docs/cn/getting_started.md#protobuf-30-325)？","reactions":{"url":"https://api.github.com/repos/apache/brpc/issues/comments/2519841743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]