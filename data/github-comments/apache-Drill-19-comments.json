[{"url":"https://api.github.com/repos/apache/drill/issues/comments/304114470","html_url":"https://github.com/apache/drill/pull/828#issuecomment-304114470","issue_url":"https://api.github.com/repos/apache/drill/issues/828","id":304114470,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDExNDQ3MA==","user":{"login":"sudheeshkatkam","id":3272600,"node_id":"MDQ6VXNlcjMyNzI2MDA=","avatar_url":"https://avatars.githubusercontent.com/u/3272600?v=4","gravatar_id":"","url":"https://api.github.com/users/sudheeshkatkam","html_url":"https://github.com/sudheeshkatkam","followers_url":"https://api.github.com/users/sudheeshkatkam/followers","following_url":"https://api.github.com/users/sudheeshkatkam/following{/other_user}","gists_url":"https://api.github.com/users/sudheeshkatkam/gists{/gist_id}","starred_url":"https://api.github.com/users/sudheeshkatkam/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sudheeshkatkam/subscriptions","organizations_url":"https://api.github.com/users/sudheeshkatkam/orgs","repos_url":"https://api.github.com/users/sudheeshkatkam/repos","events_url":"https://api.github.com/users/sudheeshkatkam/events{/privacy}","received_events_url":"https://api.github.com/users/sudheeshkatkam/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-25T20:25:43Z","updated_at":"2017-05-25T20:25:43Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nThe error seems unrelated to the changes, and all tests pass. Thank you for the PR!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/304114470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/304140977","html_url":"https://github.com/apache/drill/pull/789#issuecomment-304140977","issue_url":"https://api.github.com/repos/apache/drill/issues/789","id":304140977,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDE0MDk3Nw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-25T22:24:40Z","updated_at":"2017-05-25T22:24:40Z","author_association":"CONTRIBUTOR","body":"Cleaned up the multi-commit mess, rebased on the latest master, and fixed minor issues raised in code review comments. Should be read to commit.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/304140977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/304154088","html_url":"https://github.com/apache/drill/pull/822#issuecomment-304154088","issue_url":"https://api.github.com/repos/apache/drill/issues/822","id":304154088,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDE1NDA4OA==","user":{"login":"rchallapalli","id":2756222,"node_id":"MDQ6VXNlcjI3NTYyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/2756222?v=4","gravatar_id":"","url":"https://api.github.com/users/rchallapalli","html_url":"https://github.com/rchallapalli","followers_url":"https://api.github.com/users/rchallapalli/followers","following_url":"https://api.github.com/users/rchallapalli/following{/other_user}","gists_url":"https://api.github.com/users/rchallapalli/gists{/gist_id}","starred_url":"https://api.github.com/users/rchallapalli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rchallapalli/subscriptions","organizations_url":"https://api.github.com/users/rchallapalli/orgs","repos_url":"https://api.github.com/users/rchallapalli/repos","events_url":"https://api.github.com/users/rchallapalli/events{/privacy}","received_events_url":"https://api.github.com/users/rchallapalli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-25T23:48:39Z","updated_at":"2017-05-25T23:48:39Z","author_association":"NONE","body":"Based on the current design, if the code senses that there is not sufficient memory then it goes back to the old code. Now I have encountered a case where this happened and the old agg did not respect the memory constraints imposed by me. I gave 116MB memory and the old hash agg code consumed ~130MB and completed the query. This doesn't play well with the overall resource management plan","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/304154088/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/304155219","html_url":"https://github.com/apache/drill/pull/832#issuecomment-304155219","issue_url":"https://api.github.com/repos/apache/drill/issues/832","id":304155219,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDE1NTIxOQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-25T23:56:26Z","updated_at":"2017-05-25T23:56:26Z","author_association":"CONTRIBUTOR","body":"Fixed typo in log message and rebased onto latest master.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/304155219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/304329292","html_url":"https://github.com/apache/drill/pull/822#issuecomment-304329292","issue_url":"https://api.github.com/repos/apache/drill/issues/822","id":304329292,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDMyOTI5Mg==","user":{"login":"rchallapalli","id":2756222,"node_id":"MDQ6VXNlcjI3NTYyMjI=","avatar_url":"https://avatars.githubusercontent.com/u/2756222?v=4","gravatar_id":"","url":"https://api.github.com/users/rchallapalli","html_url":"https://github.com/rchallapalli","followers_url":"https://api.github.com/users/rchallapalli/followers","following_url":"https://api.github.com/users/rchallapalli/following{/other_user}","gists_url":"https://api.github.com/users/rchallapalli/gists{/gist_id}","starred_url":"https://api.github.com/users/rchallapalli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rchallapalli/subscriptions","organizations_url":"https://api.github.com/users/rchallapalli/orgs","repos_url":"https://api.github.com/users/rchallapalli/repos","events_url":"https://api.github.com/users/rchallapalli/events{/privacy}","received_events_url":"https://api.github.com/users/rchallapalli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-26T16:36:12Z","updated_at":"2017-05-26T16:36:12Z","author_association":"NONE","body":"And based on my initial testing, I observed that the hash-agg is only using half of the memory allocated. Since the planner by default uses a 2-phase agg, the memory computation logic divides the allocated memory between the 2 hash-agg operators in the plan. This is grossly in-efficient. And every test written would need to be modified once this issue gets resolved. Hence I would push for a fix sooner than later","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/304329292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/304346698","html_url":"https://github.com/apache/drill/pull/818#issuecomment-304346698","issue_url":"https://api.github.com/repos/apache/drill/issues/818","id":304346698,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDM0NjY5OA==","user":{"login":"jinfengni","id":5742011,"node_id":"MDQ6VXNlcjU3NDIwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5742011?v=4","gravatar_id":"","url":"https://api.github.com/users/jinfengni","html_url":"https://github.com/jinfengni","followers_url":"https://api.github.com/users/jinfengni/followers","following_url":"https://api.github.com/users/jinfengni/following{/other_user}","gists_url":"https://api.github.com/users/jinfengni/gists{/gist_id}","starred_url":"https://api.github.com/users/jinfengni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinfengni/subscriptions","organizations_url":"https://api.github.com/users/jinfengni/orgs","repos_url":"https://api.github.com/users/jinfengni/repos","events_url":"https://api.github.com/users/jinfengni/events{/privacy}","received_events_url":"https://api.github.com/users/jinfengni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-26T17:47:17Z","updated_at":"2017-05-26T17:47:17Z","author_association":"CONTRIBUTOR","body":"+1\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/304346698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/304945148","html_url":"https://github.com/apache/drill/pull/831#issuecomment-304945148","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":304945148,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDk0NTE0OA==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-30T17:08:49Z","updated_at":"2017-05-30T17:08:49Z","author_association":"CONTRIBUTOR","body":"I would recommend moving this format plugin to the contrib directory, since this is a new and untested implementation.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/304945148/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/304956883","html_url":"https://github.com/apache/drill/pull/845#issuecomment-304956883","issue_url":"https://api.github.com/repos/apache/drill/issues/845","id":304956883,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNDk1Njg4Mw==","user":{"login":"jinfengni","id":5742011,"node_id":"MDQ6VXNlcjU3NDIwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5742011?v=4","gravatar_id":"","url":"https://api.github.com/users/jinfengni","html_url":"https://github.com/jinfengni","followers_url":"https://api.github.com/users/jinfengni/followers","following_url":"https://api.github.com/users/jinfengni/following{/other_user}","gists_url":"https://api.github.com/users/jinfengni/gists{/gist_id}","starred_url":"https://api.github.com/users/jinfengni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinfengni/subscriptions","organizations_url":"https://api.github.com/users/jinfengni/orgs","repos_url":"https://api.github.com/users/jinfengni/repos","events_url":"https://api.github.com/users/jinfengni/events{/privacy}","received_events_url":"https://api.github.com/users/jinfengni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-30T17:52:16Z","updated_at":"2017-05-30T17:52:16Z","author_association":"CONTRIBUTOR","body":"+1\r\n\r\nLGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/304956883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/305055547","html_url":"https://github.com/apache/drill/pull/831#issuecomment-305055547","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":305055547,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTA1NTU0Nw==","user":{"login":"tdunning","id":250490,"node_id":"MDQ6VXNlcjI1MDQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/250490?v=4","gravatar_id":"","url":"https://api.github.com/users/tdunning","html_url":"https://github.com/tdunning","followers_url":"https://api.github.com/users/tdunning/followers","following_url":"https://api.github.com/users/tdunning/following{/other_user}","gists_url":"https://api.github.com/users/tdunning/gists{/gist_id}","starred_url":"https://api.github.com/users/tdunning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdunning/subscriptions","organizations_url":"https://api.github.com/users/tdunning/orgs","repos_url":"https://api.github.com/users/tdunning/repos","events_url":"https://api.github.com/users/tdunning/events{/privacy}","received_events_url":"https://api.github.com/users/tdunning/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-31T01:25:39Z","updated_at":"2017-05-31T01:25:39Z","author_association":"CONTRIBUTOR","body":"What is the effective difference between the contrib director and where the\nplugin already is?\n\nWhat sort of testing do you think is necessary?\n\n\n\nOn Tue, May 30, 2017 at 7:08 PM, Parth Chandra <notifications@github.com>\nwrote:\n\n> I would recommend moving this format plugin to the contrib directory,\n> since this is a new and untested implementation.\n>\n> â€”\n> You are receiving this because you commented.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/apache/drill/pull/831#issuecomment-304945148>, or mute\n> the thread\n> <https://github.com/notifications/unsubscribe-auth/AAPSejscWPF6xO5I3QMVeSitRA1qMr6vks5r_E0pgaJpZM4NYDv6>\n> .\n>\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/305055547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/305243037","html_url":"https://github.com/apache/drill/pull/846#issuecomment-305243037","issue_url":"https://api.github.com/repos/apache/drill/issues/846","id":305243037,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTI0MzAzNw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-31T16:32:09Z","updated_at":"2017-05-31T16:32:09Z","author_association":"CONTRIBUTOR","body":"Another critical issue here. Direct memory is not a limitless resource, unfortunately. Allocating memory larger than 16 MB causes memory fragmentation as the allocation must come from the system, but all free memory is cached in Netty in 16 MB chunks. So, if the buffer size here is larger than 16 MB, the operation may fail with an OOM.\r\n\r\nIf this operation must buffer in memory, and must use larger than 16 MB, then you need something like what the original code provided. That buffered writer can be backed by a chain of 16 MB direct memory blocks.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/305243037/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/305259797","html_url":"https://github.com/apache/drill/pull/831#issuecomment-305259797","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":305259797,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTI1OTc5Nw==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-31T17:31:01Z","updated_at":"2017-05-31T17:31:01Z","author_association":"CONTRIBUTOR","body":"The contrib directory is where we have, in the past, added new storage and format plugins that are new and may not have been sufficiently tested.\r\nFor this plugin, I think testing with pcap files from different sources would be useful. [1,2] are useful sources for data that will test boundary conditions. I tried on a file from [2] and got an NPE (didn't investigate the cause). A random sample of files from [1] worked very nicely indeed, though I didn't validate the output.\r\nYou might have already done this level of testing; if so, I will withdraw the suggestion.\r\n\r\n[1] https://wiki.wireshark.org/SampleCaptures#Captures_used_in_Wireshark_testing\r\n[2] http://www.netresec.com/?page=PcapFiles","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/305259797/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/305634413","html_url":"https://github.com/apache/drill/pull/829#issuecomment-305634413","issue_url":"https://api.github.com/repos/apache/drill/issues/829","id":305634413,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNTYzNDQxMw==","user":{"login":"jinfengni","id":5742011,"node_id":"MDQ6VXNlcjU3NDIwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5742011?v=4","gravatar_id":"","url":"https://api.github.com/users/jinfengni","html_url":"https://github.com/jinfengni","followers_url":"https://api.github.com/users/jinfengni/followers","following_url":"https://api.github.com/users/jinfengni/following{/other_user}","gists_url":"https://api.github.com/users/jinfengni/gists{/gist_id}","starred_url":"https://api.github.com/users/jinfengni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinfengni/subscriptions","organizations_url":"https://api.github.com/users/jinfengni/orgs","repos_url":"https://api.github.com/users/jinfengni/repos","events_url":"https://api.github.com/users/jinfengni/events{/privacy}","received_events_url":"https://api.github.com/users/jinfengni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-01T22:07:43Z","updated_at":"2017-06-01T22:07:43Z","author_association":"CONTRIBUTOR","body":"Seems @sohami has addressed @sudheeshkatkam 's comments. I'm going to merge this PR.\r\n\r\n+1\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/305634413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/306645315","html_url":"https://github.com/apache/drill/pull/808#issuecomment-306645315","issue_url":"https://api.github.com/repos/apache/drill/issues/808","id":306645315,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjY0NTMxNQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-06T23:45:33Z","updated_at":"2017-06-06T23:45:33Z","author_association":"CONTRIBUTOR","body":"Rebased onto latest master and resolved merge conflicts.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/306645315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/306654586","html_url":"https://github.com/apache/drill/pull/849#issuecomment-306654586","issue_url":"https://api.github.com/repos/apache/drill/issues/849","id":306654586,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjY1NDU4Ng==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-07T00:51:04Z","updated_at":"2017-06-07T00:51:04Z","author_association":"CONTRIBUTOR","body":"+ @paul-rogers - To help review this PR in case JIRA didn't sent out the email.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/306654586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/306654893","html_url":"https://github.com/apache/drill/pull/850#issuecomment-306654893","issue_url":"https://api.github.com/repos/apache/drill/issues/850","id":306654893,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNjY1NDg5Mw==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-07T00:53:31Z","updated_at":"2017-06-07T00:53:31Z","author_association":"CONTRIBUTOR","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/306654893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/307198126","html_url":"https://github.com/apache/drill/pull/846#issuecomment-307198126","issue_url":"https://api.github.com/repos/apache/drill/issues/846","id":307198126,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzE5ODEyNg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-08T19:06:37Z","updated_at":"2017-06-08T19:06:37Z","author_association":"CONTRIBUTOR","body":"Chatted with Parth who mentioned that Parquet page sizes are typically on the order of 1MB, maybe 8 MB, but 16 MB is too large.\r\n\r\nThe concern expressed in earlier comments was that if we buffer, say, 256 MB of data per file, and we're doing many parallel writes, we will use up too much memory.\r\n\r\nBut, if we buffer only one page at a time, and we control page size to be some amount on the order of 1-2 MB, then even with 100 threads, we're still using only 200 MB, say, which is fine.\r\n\r\nIn this case, the direct memory solution is fine. (But please check performance.)\r\n\r\nHowever, if we are running out of memory, I wonder if we are not controlling page size and letting them get too large? Did you happen to check the size of the pages we are writing?\r\n\r\nIf the pages are too big, let's file another JIRA ticket to fix that problem so that we have a complete solution.\r\n\r\nOnce we confirm that we are writing small pages (or file that JIRA if not), I'll change my vote from +0 to +1.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/307198126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/307486151","html_url":"https://github.com/apache/drill/pull/846#issuecomment-307486151","issue_url":"https://api.github.com/repos/apache/drill/issues/846","id":307486151,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzQ4NjE1MQ==","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-09T20:02:05Z","updated_at":"2017-06-09T20:02:05Z","author_association":"MEMBER","body":"@paul-rogers As I mentioned in my previous comment the page size can't greatly exceed 1Mb (default value of page-size option in Drill). And I checked it -- almost every time the page size is much less than 1 MB.\r\n\r\nThe data, which are buffered - all pages within one row group. And when buffered data exceeds the block-size then the row group will be written to the disk and flushed from the stream buffer.\r\nWhich is what the current code does.\r\n\r\nI compared of creating a large parquet tables with current Drill master version and version of Drill with my fix and received the same performance. Also I found the same time of passing the Drill's tests\r\n\r\nThe branch is rebased to the last Drill master version. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/307486151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/307493587","html_url":"https://github.com/apache/drill/pull/846#issuecomment-307493587","issue_url":"https://api.github.com/repos/apache/drill/issues/846","id":307493587,"node_id":"MDEyOklzc3VlQ29tbWVudDMwNzQ5MzU4Nw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-09T20:37:14Z","updated_at":"2017-06-09T20:37:36Z","author_association":"CONTRIBUTOR","body":"Given that the page sizes are small (~ 1MB), then the solution simply transfers a modest amount of memory from heap to direct. So, LGTM. Thanks for all the helpful explanations!\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/307493587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/308676199","html_url":"https://github.com/apache/drill/pull/852#issuecomment-308676199","issue_url":"https://api.github.com/repos/apache/drill/issues/852","id":308676199,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODY3NjE5OQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T09:15:38Z","updated_at":"2017-06-15T09:15:38Z","author_association":"MEMBER","body":"@ppadma, could you please resolve conflicts?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/308676199/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/308724856","html_url":"https://github.com/apache/drill/pull/844#issuecomment-308724856","issue_url":"https://api.github.com/repos/apache/drill/issues/844","id":308724856,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODcyNDg1Ng==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T13:10:48Z","updated_at":"2017-06-15T13:10:48Z","author_association":"MEMBER","body":"@jinfengni updated to PR to create TopProject with validatedNodeType after PHYSICAL phase instead of removing ProjectRemoveRule completely.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/308724856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/308833549","html_url":"https://github.com/apache/drill/pull/852#issuecomment-308833549","issue_url":"https://api.github.com/repos/apache/drill/issues/852","id":308833549,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODgzMzU0OQ==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T18:48:10Z","updated_at":"2017-06-15T18:48:10Z","author_association":"CONTRIBUTOR","body":"@arina-ielchiieva Done. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/308833549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/308834481","html_url":"https://github.com/apache/drill/pull/846#issuecomment-308834481","issue_url":"https://api.github.com/repos/apache/drill/issues/846","id":308834481,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODgzNDQ4MQ==","user":{"login":"vdiravka","id":11904420,"node_id":"MDQ6VXNlcjExOTA0NDIw","avatar_url":"https://avatars.githubusercontent.com/u/11904420?v=4","gravatar_id":"","url":"https://api.github.com/users/vdiravka","html_url":"https://github.com/vdiravka","followers_url":"https://api.github.com/users/vdiravka/followers","following_url":"https://api.github.com/users/vdiravka/following{/other_user}","gists_url":"https://api.github.com/users/vdiravka/gists{/gist_id}","starred_url":"https://api.github.com/users/vdiravka/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vdiravka/subscriptions","organizations_url":"https://api.github.com/users/vdiravka/orgs","repos_url":"https://api.github.com/users/vdiravka/repos","events_url":"https://api.github.com/users/vdiravka/events{/privacy}","received_events_url":"https://api.github.com/users/vdiravka/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T18:52:07Z","updated_at":"2017-06-15T18:52:07Z","author_association":"MEMBER","body":"Commits are squashed into one.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/308834481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/308861268","html_url":"https://github.com/apache/drill/pull/837#issuecomment-308861268","issue_url":"https://api.github.com/repos/apache/drill/issues/837","id":308861268,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODg2MTI2OA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T20:47:22Z","updated_at":"2017-06-15T20:47:22Z","author_association":"CONTRIBUTOR","body":"Fixed the two comments per CR suggestions. Please review. If acceptable, I'll squash the commits in preparation for commit.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/308861268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/308863933","html_url":"https://github.com/apache/drill/pull/837#issuecomment-308863933","issue_url":"https://api.github.com/repos/apache/drill/issues/837","id":308863933,"node_id":"MDEyOklzc3VlQ29tbWVudDMwODg2MzkzMw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-15T20:58:28Z","updated_at":"2017-06-15T20:58:28Z","author_association":"CONTRIBUTOR","body":"Thanks for the review!\r\n\r\nSquashed commits and rebased on master to prepare for commit.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/308863933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/309390112","html_url":"https://github.com/apache/drill/pull/808#issuecomment-309390112","issue_url":"https://api.github.com/repos/apache/drill/issues/808","id":309390112,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTM5MDExMg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T09:40:23Z","updated_at":"2017-06-19T09:40:23Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/309390112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/309395672","html_url":"https://github.com/apache/drill/pull/808#issuecomment-309395672","issue_url":"https://api.github.com/repos/apache/drill/issues/808","id":309395672,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTM5NTY3Mg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T10:03:44Z","updated_at":"2017-06-19T10:03:44Z","author_association":"MEMBER","body":"Revoke +1 since there are failures in unit tests:\r\n\r\n> Failed tests: \r\n  TestExternalSortExec.testSortSpec:175 expected:<1000000> but was:<20000000>\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/309395672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/309605237","html_url":"https://github.com/apache/drill/pull/856#issuecomment-309605237","issue_url":"https://api.github.com/repos/apache/drill/issues/856","id":309605237,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTYwNTIzNw==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-19T23:55:31Z","updated_at":"2017-06-19T23:55:31Z","author_association":"CONTRIBUTOR","body":"@ppadma / @parthchandra ... can you review this?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/309605237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/309614804","html_url":"https://github.com/apache/drill/pull/856#issuecomment-309614804","issue_url":"https://api.github.com/repos/apache/drill/issues/856","id":309614804,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTYxNDgwNA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-20T01:04:20Z","updated_at":"2017-06-20T01:04:20Z","author_association":"CONTRIBUTOR","body":"Existing negative Unit tests are failing. Look like we never had proper unit tests. Will add them and update the PR.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/309614804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/309973329","html_url":"https://github.com/apache/drill/pull/858#issuecomment-309973329","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":309973329,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTk3MzMyOQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T06:09:42Z","updated_at":"2017-06-21T06:09:42Z","author_association":"CONTRIBUTOR","body":"@laurentgo I'm seeing JUnit test failures with this commit.... \r\n\r\n>   ConnectionTest.testPrepareStatementBasicCaseWorks:94 Â» ClassCast org.apache.dr...\r\n>   PreparedStatementTest.testQueryMetadataInPreparedStatement:135 Â» ClassCast org...\r\n>   PreparedStatementTest.testExecuteQueryBasicCaseWorks:100 Â» ClassCast org.apach...\r\n>   LegacyPreparedStatementTest.testExecuteQueryBasicCaseWorks:84 Â» ClassCast org....\r\n\r\nThey all point to a common ClassCaseException\r\n\r\n>   Drill2769UnsupportedReportsUseSqlExceptionTest.testPreparedStatementMethodsThrowRight:430 Non-SQLException exception error(s): \r\n> Failures:\r\n> - PreparedStatement.execute() threw <java.lang.ClassCastException: org.apache.drill.jdbc.impl.DrillJdbc41Factory$DrillJdbc41PreparedStatement cannot be cast to org.apache.drill.jdbc.impl.DrillStatementImpl> instead of a SQLException\r\n> - PreparedStatement.executeQuery() threw <java.lang.ClassCastException: org.apache.drill.jdbc.impl.DrillJdbc41Factory$DrillJdbc41PreparedStatement cannot be cast to org.apache.drill.jdbc.impl.DrillStatementImpl> instead of a SQLException\r\n> - PreparedStatement.executeUpdate() threw <java.lang.ClassCastException: org.apache.drill.jdbc.impl.DrillJdbc41Factory$DrillJdbc41PreparedStatement cannot be cast to org.apache.drill.jdbc.impl.DrillStatementImpl> instead of a SQLException\r\n\r\nThe regular Statement.execute###() calls work fine. Any idea why I'm getting this?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/309973329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/309975780","html_url":"https://github.com/apache/drill/pull/858#issuecomment-309975780","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":309975780,"node_id":"MDEyOklzc3VlQ29tbWVudDMwOTk3NTc4MA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T06:25:11Z","updated_at":"2017-06-21T06:25:11Z","author_association":"CONTRIBUTOR","body":"Got it... traced it to a change in the DrillResultSetImpl. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/309975780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310043436","html_url":"https://github.com/apache/drill/pull/857#issuecomment-310043436","issue_url":"https://api.github.com/repos/apache/drill/issues/857","id":310043436,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDA0MzQzNg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T10:58:04Z","updated_at":"2017-06-21T10:58:04Z","author_association":"MEMBER","body":"Reworded error message. @paul-rogers and @ppadma thanks for code review!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310043436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310235688","html_url":"https://github.com/apache/drill/pull/833#issuecomment-310235688","issue_url":"https://api.github.com/repos/apache/drill/issues/833","id":310235688,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDIzNTY4OA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-21T23:45:44Z","updated_at":"2017-06-21T23:45:44Z","author_association":"CONTRIBUTOR","body":"Closing PR as change was merged into master (but without the magic commit message that closes this automagically.)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310235688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310365154","html_url":"https://github.com/apache/drill/pull/853#issuecomment-310365154","issue_url":"https://api.github.com/repos/apache/drill/issues/853","id":310365154,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDM2NTE1NA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T12:27:10Z","updated_at":"2017-06-22T12:27:10Z","author_association":"MEMBER","body":"@jinfengni I have implemented DrillValuesRel and ValuesPrel as Calcite Values sub-classes. Also added second constructor to avoid unnecessary tuples parsing into json during copying or logical to physical values conversion. Please review the changes when possible. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310365154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310449921","html_url":"https://github.com/apache/drill/pull/851#issuecomment-310449921","issue_url":"https://api.github.com/repos/apache/drill/issues/851","id":310449921,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDQ0OTkyMQ==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T17:35:40Z","updated_at":"2017-06-22T17:35:40Z","author_association":"CONTRIBUTOR","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310449921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310518676","html_url":"https://github.com/apache/drill/pull/831#issuecomment-310518676","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":310518676,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUxODY3Ng==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T22:20:30Z","updated_at":"2017-06-22T22:20:30Z","author_association":"CONTRIBUTOR","body":"Trying to figure out where we are on this PR. Looking at the review comments, some were addressed (thanks!), others are open. The question is: what is the resolution of the open issues? Anything to fix? Is the comment based on a misunderstanding? Is the requested work beyond the scope of this particular PR? Is there a disagreement?\r\n\r\nPerhaps respond to each open comment saying something like \"will fix\", \"won't fix\", \"beyond scope\" or something so we know if we're ready to move ahead with this PR, or if we are waiting for a few more improvements.\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310518676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310519034","html_url":"https://github.com/apache/drill/pull/796#issuecomment-310519034","issue_url":"https://api.github.com/repos/apache/drill/issues/796","id":310519034,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUxOTAzNA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T22:22:10Z","updated_at":"2017-06-22T22:22:10Z","author_association":"CONTRIBUTOR","body":"Is this PR ready for final review? Or, on hold waiting for something?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310519034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310519124","html_url":"https://github.com/apache/drill/pull/795#issuecomment-310519124","issue_url":"https://api.github.com/repos/apache/drill/issues/795","id":310519124,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUxOTEyNA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T22:22:40Z","updated_at":"2017-06-22T22:22:40Z","author_association":"CONTRIBUTOR","body":"Is this PR ready for final review? Or, on hold waiting for something?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310519124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310521033","html_url":"https://github.com/apache/drill/pull/779#issuecomment-310521033","issue_url":"https://api.github.com/repos/apache/drill/issues/779","id":310521033,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUyMTAzMw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T22:33:18Z","updated_at":"2017-06-22T22:33:18Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution! Seems there has been no action on this PR for a while. I suspect this is due to several reasons. Let's see if we can move things along.\r\n\r\n* In general, the Drill project requires that each PR be in response to a Drill JIRA ticket. Please create a JIRA ticket for this improvement. Then, please edit the title to say \"DRILL-xxxx: description.\" See other PRs for examples.\r\n* Would be great to describe the work that's been done. The description is best in the JIRA, but can appear as a comment here. (Once the JIRA ticket is in the title, the post will automatically be transferred to JIRA as a comment.) The more information you can provide, the easier it is for reviewers to understand the code. In many cases, you can simply provide links to material that, say, describes what \"indexr\" is.\r\n* The PR has many conflicts with existing files. For example, the pom files have old versions. To fix this, perhaps rebase the work onto the latest master.\r\n* The PR changes some Drill files (Parquet, etc.) outside the scope of \"indexr\". Is this intentional? Due to working with an old version of Drill?\r\n\r\nLet's see if we can work through the issues so we can begin to review the actual code.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310521033/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310521389","html_url":"https://github.com/apache/drill/pull/720#issuecomment-310521389","issue_url":"https://api.github.com/repos/apache/drill/issues/720","id":310521389,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUyMTM4OQ==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T22:35:26Z","updated_at":"2017-06-22T22:35:26Z","author_association":"CONTRIBUTOR","body":"There is another PR, for indexr-0.3.0. Is this an earlier version of that one? Is so, perhaps copy the links in this PR into the JIRA ticket needed for this PR, then close this PR in favor of the newer one. Or, if both are needed, perhaps explain how the two differ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310521389/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310522066","html_url":"https://github.com/apache/drill/pull/729#issuecomment-310522066","issue_url":"https://api.github.com/repos/apache/drill/issues/729","id":310522066,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUyMjA2Ng==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T22:39:41Z","updated_at":"2017-06-22T22:39:41Z","author_association":"CONTRIBUTOR","body":"This PR has been sitting idle for a while. Does it still make sense to continue with the reviews to get this into master? If so, @gparai, can you rebase onto the latest master and update with any fixes made since the last update?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310522066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310523048","html_url":"https://github.com/apache/drill/pull/805#issuecomment-310523048","issue_url":"https://api.github.com/repos/apache/drill/issues/805","id":310523048,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDUyMzA0OA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-22T22:45:45Z","updated_at":"2017-06-22T22:45:45Z","author_association":"CONTRIBUTOR","body":"@jinfengni, this PR has been sitting idle for a while. Anything else that needs to be done on this one?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310523048/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310744190","html_url":"https://github.com/apache/drill/pull/831#issuecomment-310744190","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":310744190,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDc0NDE5MA==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-23T18:46:12Z","updated_at":"2017-06-23T18:46:12Z","author_association":"CONTRIBUTOR","body":"Can we move this to contrib? I think we should get this one into the next release even as the rough edges (if any) are being smoothed out.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310744190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310745720","html_url":"https://github.com/apache/drill/pull/729#issuecomment-310745720","issue_url":"https://api.github.com/repos/apache/drill/issues/729","id":310745720,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDc0NTcyMA==","user":{"login":"gparai","id":19275160,"node_id":"MDQ6VXNlcjE5Mjc1MTYw","avatar_url":"https://avatars.githubusercontent.com/u/19275160?v=4","gravatar_id":"","url":"https://api.github.com/users/gparai","html_url":"https://github.com/gparai","followers_url":"https://api.github.com/users/gparai/followers","following_url":"https://api.github.com/users/gparai/following{/other_user}","gists_url":"https://api.github.com/users/gparai/gists{/gist_id}","starred_url":"https://api.github.com/users/gparai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gparai/subscriptions","organizations_url":"https://api.github.com/users/gparai/orgs","repos_url":"https://api.github.com/users/gparai/repos","events_url":"https://api.github.com/users/gparai/events{/privacy}","received_events_url":"https://api.github.com/users/gparai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-23T18:52:53Z","updated_at":"2017-06-23T18:52:53Z","author_association":"NONE","body":"Thanks for the reminder @paul-rogers. Based on the last discussion with the reviewers and Drill community members, we would hold off on the PR because it also causes regressions in queries in TPC-H, TPC-DS benchmarks. We identified that we need histograms and other enhancements to fully address the regressions. I will post a new PR once these issues are addressed.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310745720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310800457","html_url":"https://github.com/apache/drill/pull/855#issuecomment-310800457","issue_url":"https://api.github.com/repos/apache/drill/issues/855","id":310800457,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgwMDQ1Nw==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-24T00:23:04Z","updated_at":"2017-06-24T00:23:04Z","author_association":"CONTRIBUTOR","body":"+1 LGTM","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310800457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310801548","html_url":"https://github.com/apache/drill/pull/858#issuecomment-310801548","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":310801548,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgwMTU0OA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-24T00:36:57Z","updated_at":"2017-06-24T00:36:57Z","author_association":"CONTRIBUTOR","body":"@laurentgo I'm done with the refactoring. Please review. \r\n@parthchandra , since this will be the basis of exploring the cause for DRILL-5420 , perhaps you could do a review as well. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310801548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310802536","html_url":"https://github.com/apache/drill/pull/805#issuecomment-310802536","issue_url":"https://api.github.com/repos/apache/drill/issues/805","id":310802536,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDgwMjUzNg==","user":{"login":"jinfengni","id":5742011,"node_id":"MDQ6VXNlcjU3NDIwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5742011?v=4","gravatar_id":"","url":"https://api.github.com/users/jinfengni","html_url":"https://github.com/jinfengni","followers_url":"https://api.github.com/users/jinfengni/followers","following_url":"https://api.github.com/users/jinfengni/following{/other_user}","gists_url":"https://api.github.com/users/jinfengni/gists{/gist_id}","starred_url":"https://api.github.com/users/jinfengni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinfengni/subscriptions","organizations_url":"https://api.github.com/users/jinfengni/orgs","repos_url":"https://api.github.com/users/jinfengni/repos","events_url":"https://api.github.com/users/jinfengni/events{/privacy}","received_events_url":"https://api.github.com/users/jinfengni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-24T00:50:02Z","updated_at":"2017-06-24T00:50:02Z","author_association":"CONTRIBUTOR","body":"Thanks for the reminder, @paul-rogers . Somehow, I overlooked this PR. I thought I have reviewed and merged a PR from @vvysotskyi . But looks like I confused this one with another one I merged.\r\n\r\nAnyway, I'll take another look at this PR. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310802536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/310875977","html_url":"https://github.com/apache/drill/pull/855#issuecomment-310875977","issue_url":"https://api.github.com/repos/apache/drill/issues/855","id":310875977,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMDg3NTk3Nw==","user":{"login":"amansinha100","id":6034475,"node_id":"MDQ6VXNlcjYwMzQ0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/6034475?v=4","gravatar_id":"","url":"https://api.github.com/users/amansinha100","html_url":"https://github.com/amansinha100","followers_url":"https://api.github.com/users/amansinha100/followers","following_url":"https://api.github.com/users/amansinha100/following{/other_user}","gists_url":"https://api.github.com/users/amansinha100/gists{/gist_id}","starred_url":"https://api.github.com/users/amansinha100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amansinha100/subscriptions","organizations_url":"https://api.github.com/users/amansinha100/orgs","repos_url":"https://api.github.com/users/amansinha100/repos","events_url":"https://api.github.com/users/amansinha100/events{/privacy}","received_events_url":"https://api.github.com/users/amansinha100/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-25T01:31:38Z","updated_at":"2017-06-25T01:31:38Z","author_association":"NONE","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/310875977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311004682","html_url":"https://github.com/apache/drill/pull/853#issuecomment-311004682","issue_url":"https://api.github.com/repos/apache/drill/issues/853","id":311004682,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTAwNDY4Mg==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T09:09:43Z","updated_at":"2017-06-26T09:09:43Z","author_association":"MEMBER","body":"Merged into master with commit id 33682be99e719dce9cb326e2835ebc4ae434104a","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311004682/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311212287","html_url":"https://github.com/apache/drill/pull/840#issuecomment-311212287","issue_url":"https://api.github.com/repos/apache/drill/issues/840","id":311212287,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTIxMjI4Nw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T23:45:19Z","updated_at":"2017-06-26T23:45:19Z","author_association":"CONTRIBUTOR","body":"Rebased on master. Resolved merge conflict.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311212287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311212374","html_url":"https://github.com/apache/drill/pull/851#issuecomment-311212374","issue_url":"https://api.github.com/repos/apache/drill/issues/851","id":311212374,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTIxMjM3NA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-26T23:45:51Z","updated_at":"2017-06-26T23:45:51Z","author_association":"CONTRIBUTOR","body":"Rebased on latest master.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311212374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311217068","html_url":"https://github.com/apache/drill/pull/858#issuecomment-311217068","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":311217068,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTIxNzA2OA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T00:17:57Z","updated_at":"2017-06-27T00:17:57Z","author_association":"CONTRIBUTOR","body":"@laurentgo  Updated based on the review comments. The Timeout Executor Service is now maintained for the lifetime of a connection and closed during shutdown. Also refactored by introducing `isTimedOut()` and `cancelDueToTimeout()` .\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311217068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311317232","html_url":"https://github.com/apache/drill/pull/831#issuecomment-311317232","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":311317232,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTMxNzIzMg==","user":{"login":"vstorona-origin","id":13219901,"node_id":"MDQ6VXNlcjEzMjE5OTAx","avatar_url":"https://avatars.githubusercontent.com/u/13219901?v=4","gravatar_id":"","url":"https://api.github.com/users/vstorona-origin","html_url":"https://github.com/vstorona-origin","followers_url":"https://api.github.com/users/vstorona-origin/followers","following_url":"https://api.github.com/users/vstorona-origin/following{/other_user}","gists_url":"https://api.github.com/users/vstorona-origin/gists{/gist_id}","starred_url":"https://api.github.com/users/vstorona-origin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vstorona-origin/subscriptions","organizations_url":"https://api.github.com/users/vstorona-origin/orgs","repos_url":"https://api.github.com/users/vstorona-origin/repos","events_url":"https://api.github.com/users/vstorona-origin/events{/privacy}","received_events_url":"https://api.github.com/users/vstorona-origin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T10:22:07Z","updated_at":"2017-06-27T10:22:07Z","author_association":"CONTRIBUTOR","body":"As a result of project transferring problems were found out. In java-exec package exists file bootstrap-storage-plugin.json from which drill takes information about supported files formats. But in contrib package, there is no such file. If to transfer pcap-reader to contrib package and not to remove information from bootstrap-storage-plugin.json about pcap format, then there will be JsonMappingException. And if you remove this information from the config file, then drill will can`t find pcap files. Maybe I have not enough info/experience about drill. Maybe you can provide any solution how to handle this ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311317232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311495714","html_url":"https://github.com/apache/drill/pull/851#issuecomment-311495714","issue_url":"https://api.github.com/repos/apache/drill/issues/851","id":311495714,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTQ5NTcxNA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T21:46:50Z","updated_at":"2017-06-27T21:46:50Z","author_association":"CONTRIBUTOR","body":"Resolved merge conflicts. Retested on pre-commit tests. Now passes.\r\n\r\nThis PR needs a committer to review so we I can then merge the PR into master.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311495714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311518518","html_url":"https://github.com/apache/drill/pull/840#issuecomment-311518518","issue_url":"https://api.github.com/repos/apache/drill/issues/840","id":311518518,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUxODUxOA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-27T23:57:55Z","updated_at":"2017-06-27T23:57:55Z","author_association":"CONTRIBUTOR","body":"Reran pre-commit tests. One unit test fails, but in an area untouched by this commit. Indeed, this appears to be a random failure as the very same tests passes on my Mac and on my Linux development VM. See DRILL-5612.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311518518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311520564","html_url":"https://github.com/apache/drill/pull/831#issuecomment-311520564","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":311520564,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTUyMDU2NA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T00:11:27Z","updated_at":"2017-06-28T00:11:27Z","author_association":"CONTRIBUTOR","body":"Regarding bootstrap-storage-plugin.json, this is a generic issue. Drill must provide a solution that allows each module to provide its own file, as is done for drill-module.conf. I did not file a JIRA for this issue, feel free to file one.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311520564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311739311","html_url":"https://github.com/apache/drill/pull/862#issuecomment-311739311","issue_url":"https://api.github.com/repos/apache/drill/issues/862","id":311739311,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTczOTMxMQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T18:00:07Z","updated_at":"2017-06-28T18:00:07Z","author_association":"CONTRIBUTOR","body":"@parthchandra Can you please review this patch? ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311739311/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311821183","html_url":"https://github.com/apache/drill/pull/831#issuecomment-311821183","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":311821183,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTgyMTE4Mw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-28T23:36:32Z","updated_at":"2017-06-28T23:36:32Z","author_association":"CONTRIBUTOR","body":"Filed DRILL-5618 to describe the `bootstrap-storage-plugin.json` issue.\r\n\r\nThere are one or two remaining open comments. Will those be addressed, or should we do a final review based on the code as it stands now?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311821183/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311836520","html_url":"https://github.com/apache/drill/pull/826#issuecomment-311836520","issue_url":"https://api.github.com/repos/apache/drill/issues/826","id":311836520,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTgzNjUyMA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T01:25:57Z","updated_at":"2017-06-29T01:25:57Z","author_association":"CONTRIBUTOR","body":"@ppadma , Khurram [~khfaraaz] and I were looking at the details in the PR and it's not very clear what new behavior does the PR allow. If you need to specify the block-size as described in the [comment ](https://issues.apache.org/jira/browse/DRILL-5379?focusedCommentId=15981366&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-15981366)by @fmethot , doesn't Drill already do that? I thought Drill implicitly creates files with a single row-group anyway. \r\n\r\nMy understanding of the JIRA's problem statement was that if the Parquet block-size (i.e. the rowgroup size) is set to a large value that exceeds the HDFS block size, using the flag would allow Drill to ignore the larger value in the options and write with a parquet-blocksize that matches the target HDFS location. So, I could have {{store.parquet.block-size=1073741824}} (i.e. 1GB), but when writing an output worth 512MB, instead of 1 file... Drill would read the HDFS block-size (say 128GB) and apply that as the parquet-block-size and write 4 files. \r\n\r\n@fmethot is that what you were looking for? An **automatic scaling down** of the parquet file's size to match (and be contained within) the HDFS block size?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311836520/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311852340","html_url":"https://github.com/apache/drill/pull/851#issuecomment-311852340","issue_url":"https://api.github.com/repos/apache/drill/issues/851","id":311852340,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTg1MjM0MA==","user":{"login":"amansinha100","id":6034475,"node_id":"MDQ6VXNlcjYwMzQ0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/6034475?v=4","gravatar_id":"","url":"https://api.github.com/users/amansinha100","html_url":"https://github.com/amansinha100","followers_url":"https://api.github.com/users/amansinha100/followers","following_url":"https://api.github.com/users/amansinha100/following{/other_user}","gists_url":"https://api.github.com/users/amansinha100/gists{/gist_id}","starred_url":"https://api.github.com/users/amansinha100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amansinha100/subscriptions","organizations_url":"https://api.github.com/users/amansinha100/orgs","repos_url":"https://api.github.com/users/amansinha100/repos","events_url":"https://api.github.com/users/amansinha100/events{/privacy}","received_events_url":"https://api.github.com/users/amansinha100/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T03:25:36Z","updated_at":"2017-06-29T03:25:36Z","author_association":"NONE","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311852340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311868313","html_url":"https://github.com/apache/drill/pull/826#issuecomment-311868313","issue_url":"https://api.github.com/repos/apache/drill/issues/826","id":311868313,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTg2ODMxMw==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T05:45:35Z","updated_at":"2017-06-29T05:45:35Z","author_association":"CONTRIBUTOR","body":"@kkhatua  HDFS allows specifying block size during file creation which overrides the default file system block size. With this PR, we can have single HDFS block per Parquet file that can be larger than file system block size , without changing file system default block size. I know it is confusing. But, it is possible to create file with  block size that is different from file system default block size. \r\n\r\n ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311868313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/311902728","html_url":"https://github.com/apache/drill/pull/861#issuecomment-311902728","issue_url":"https://api.github.com/repos/apache/drill/issues/861","id":311902728,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMTkwMjcyOA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T08:46:01Z","updated_at":"2017-06-29T08:46:01Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/311902728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312014256","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312014256","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312014256,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjAxNDI1Ng==","user":{"login":"dmitriyHavrilovich","id":19188082,"node_id":"MDQ6VXNlcjE5MTg4MDgy","avatar_url":"https://avatars.githubusercontent.com/u/19188082?v=4","gravatar_id":"","url":"https://api.github.com/users/dmitriyHavrilovich","html_url":"https://github.com/dmitriyHavrilovich","followers_url":"https://api.github.com/users/dmitriyHavrilovich/followers","following_url":"https://api.github.com/users/dmitriyHavrilovich/following{/other_user}","gists_url":"https://api.github.com/users/dmitriyHavrilovich/gists{/gist_id}","starred_url":"https://api.github.com/users/dmitriyHavrilovich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmitriyHavrilovich/subscriptions","organizations_url":"https://api.github.com/users/dmitriyHavrilovich/orgs","repos_url":"https://api.github.com/users/dmitriyHavrilovich/repos","events_url":"https://api.github.com/users/dmitriyHavrilovich/events{/privacy}","received_events_url":"https://api.github.com/users/dmitriyHavrilovich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T16:06:25Z","updated_at":"2017-06-29T16:06:25Z","author_association":"NONE","body":"We will not move this to contrib because of issue. Request for package-info.java will be satisfied. Also comment in utils will be added. If I did not miss something, that is all ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312014256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312132424","html_url":"https://github.com/apache/drill/pull/862#issuecomment-312132424","issue_url":"https://api.github.com/repos/apache/drill/issues/862","id":312132424,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjEzMjQyNA==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T23:11:07Z","updated_at":"2017-06-29T23:11:07Z","author_association":"CONTRIBUTOR","body":"@parthchandra Please review the final change. I'll mark the JIRA with a ready-to-commit label if everything looks fine. ","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312132424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312133481","html_url":"https://github.com/apache/drill/pull/858#issuecomment-312133481","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":312133481,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjEzMzQ4MQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-29T23:18:36Z","updated_at":"2017-06-29T23:18:36Z","author_association":"CONTRIBUTOR","body":"@laurentgo I'm hoping to commit and close the PR before the long weekend... just waiting on your review of the changes :)","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312133481/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312139003","html_url":"https://github.com/apache/drill/pull/858#issuecomment-312139003","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":312139003,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjEzOTAwMw==","user":{"login":"laurentgo","id":677448,"node_id":"MDQ6VXNlcjY3NzQ0OA==","avatar_url":"https://avatars.githubusercontent.com/u/677448?v=4","gravatar_id":"","url":"https://api.github.com/users/laurentgo","html_url":"https://github.com/laurentgo","followers_url":"https://api.github.com/users/laurentgo/followers","following_url":"https://api.github.com/users/laurentgo/following{/other_user}","gists_url":"https://api.github.com/users/laurentgo/gists{/gist_id}","starred_url":"https://api.github.com/users/laurentgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laurentgo/subscriptions","organizations_url":"https://api.github.com/users/laurentgo/orgs","repos_url":"https://api.github.com/users/laurentgo/repos","events_url":"https://api.github.com/users/laurentgo/events{/privacy}","received_events_url":"https://api.github.com/users/laurentgo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T00:00:04Z","updated_at":"2017-06-30T00:00:04Z","author_association":"CONTRIBUTOR","body":"Thanks for the changes. That said, I still believe that it should be done using DrillCursor and the async framework already in place in Drill, and so I'm not comfortable giving my approval. Maybe @parthchandra can review it too?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312139003/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312165766","html_url":"https://github.com/apache/drill/pull/840#issuecomment-312165766","issue_url":"https://api.github.com/repos/apache/drill/issues/840","id":312165766,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjE2NTc2Ng==","user":{"login":"amansinha100","id":6034475,"node_id":"MDQ6VXNlcjYwMzQ0NzU=","avatar_url":"https://avatars.githubusercontent.com/u/6034475?v=4","gravatar_id":"","url":"https://api.github.com/users/amansinha100","html_url":"https://github.com/amansinha100","followers_url":"https://api.github.com/users/amansinha100/followers","following_url":"https://api.github.com/users/amansinha100/following{/other_user}","gists_url":"https://api.github.com/users/amansinha100/gists{/gist_id}","starred_url":"https://api.github.com/users/amansinha100/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amansinha100/subscriptions","organizations_url":"https://api.github.com/users/amansinha100/orgs","repos_url":"https://api.github.com/users/amansinha100/repos","events_url":"https://api.github.com/users/amansinha100/events{/privacy}","received_events_url":"https://api.github.com/users/amansinha100/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T03:31:57Z","updated_at":"2017-06-30T03:31:57Z","author_association":"NONE","body":"Minor followup comment.   LGTM.  +1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312165766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312319394","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312319394","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312319394,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjMxOTM5NA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T16:55:37Z","updated_at":"2017-06-30T16:55:37Z","author_association":"CONTRIBUTOR","body":"Looking at the big picture, Drill should allow specialized plugins such as this one to exist as independent projects. Users should be able to download the plugin jar, add it to Drill, and go.\r\n\r\nAs we've discussed, Drill has a bit of work before we get there. We can't hold up this work waiting for a better solution.\r\n\r\nSo, please fix the two minor issues you identified. The code will then be ready for a final quick review and approval.\r\n\r\nLater, once Drill provides the correct framework, I'd suggest that this code move into a separate Github repo to be maintained by experts in pcap. Frankly, most Drill developers are familiar with query engines, not pcap (or other specialized formats.)\r\n\r\nThe same is true, for example, of the \"indexr\" and TSDB plugins which are (slowly) working their way through the review process.\r\n\r\nSummary: please add the package-info file and the comments in utils. We can then give approval.\r\n\r\nCan we do this by, say, July 10? If so, we can likely get this PR into 1.11, if the Release Manager agrees.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312319394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312333020","html_url":"https://github.com/apache/drill/pull/860#issuecomment-312333020","issue_url":"https://api.github.com/repos/apache/drill/issues/860","id":312333020,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjMzMzAyMA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T17:55:14Z","updated_at":"2017-07-03T18:34:39Z","author_association":"CONTRIBUTOR","body":"Up until now, the managed external sort has been disabled by default. As a result, it has never previously gone through the full unit tests and QA test suite. This commit enables the managed sort by default. Doing so has found a number of small issues, resolved below. These issues probably should have been found earlier, but having the option turned off gave a false sense of security.\r\n\r\n## Single-Batch Optimization\r\n\r\nThe code contains an optimization for short queries. If the query has just one batch then the sort need not copy that batch to produce the output. Instead, the sort simply passes along the input batch along with an SV2. This commit fixes some issues with transferring that single, buffered, input batch to the sortâ€™s output container.\r\n\r\nAs it turns out, however, `TestDrillbitResiliance` assumes that the sort does a sort/merge even with a single batch. To allow that test to work, added an option that turns off the optimization. This is really a hack just to get that one test to work and should be removed when we find time to fix the test.\r\n\r\n## Record Batch Sizer (Again)\r\n\r\nRunning the full suite of tests pointed out some additional issues with the \"sizer\":\r\n\r\n* LIST and UNION types have no standard size and instead throw an exception when queried.\r\n* LIST types (along with repeated maps) have an outer offset vector and an inner content. The sizer now accounts for both.\r\n\r\nThe code to set final variables only once was pushed to the breaking point, so gave up and used non-final members, modifying the code to make it less convoluted since the code can now set the value to a starter value, then revise it for specific types.\r\n\r\n## Memory Use for In-Memory Sort\r\n\r\nThe sort operates in several modes, one of which is an in-memory sort merge. All incoming batches are retained in memory and individually sorted. Then, an SV4 is created that effectively merges the in-memory batches into a single larger hyper (i.e. \"virtual\") batch. Works fine.\r\n\r\nThe challenge is that we've not got, perhaps, many GB of data in memory. We'd like to release that memory as soon as possible. The code was revised to take advantage of the iterator protocol: once the sort returns `NONE`, it releases its in-memory batches so the memory can be reused by a downstream operator.\r\n\r\nThe problem is, the streaming agg batch requires that the sort hold onto the batches even after a return of `NONE`. This is certainly a bug stemming from Drill's process optimization to omit designs and dive straight into code: we never defined the exact iterator semantics. Changing the behavior in the streaming agg would be a big project. The agg really just needs the last row, but to get that, we have to hold onto may GB of data.\r\n\r\nOne solution would be to back out the sort optimization and simply release memory on the `close()` call as before. But, since this project is intended to optimize memory use, that option was rejected. Instead. The compromise, for which I deeply apologize, is to insert a hack into the streaming agg to tell the sort to retain batches after `NONE`, then to call an explicit `release()` method when the batches are no longer needed.\r\n\r\nLonger term, this mechanism should be built into the iterator protocol. But, that too is a big project and unlikely to be a priority. So, we need to do what works for now. Sorry!\r\n\r\n## Control Over Merge-Batch Size\r\n\r\nThe above mentioned the in-memory merge/sort. The sort determines the size of the \"virtual\" batches sent downstream, the default for which is 64K. Note that such batches are a bit strange: they take no memory, even when transferred into the downstream batch, as the memory is owned by the sort. There may be a reason for smaller batches, but that has not yet become clear.\r\n\r\nWhat has become clear is that the old sort provided an obscure boot-time option, `ExecConstants.EXTERNAL_SORT_MSORT_MAX_BATCHSIZE` that one test used. The new code omitted this option. This checkin restores it.\r\n\r\nThis option is unusual in that no default exists in `drill-module.conf`; the code instead handles the default case that that the option simply does not exist.\r\n\r\n## Test Suite Enhancements\r\n\r\nWhile reproducing problems found by QA, it turned out to be useful to be able to parse SQL statements from a file in the context of the test framework. Added test methods for this purpose.\r\n\r\nThe â€œAllocationHelperâ€ class turns out to throw an exception if asked to allocate a vector with zero elements. Since a zero-size can occasionally come from the record batch sizer (via the â€œsmart allocation helperâ€, special code was added to handle this case.\r\n\r\n## Other\r\n\r\nBacked out some debugging code that accidentally appeared in the original PR.\r\n\r\nCleaned up various bits of code as I came across the issues, including a few places where the same functionality was being done twice.\r\n\r\nWith this set of improvements, the revised, managed sort has become more stable and reliable than the original version. As a result, this commit enables the managed sort by default.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312333020/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312335295","html_url":"https://github.com/apache/drill/pull/858#issuecomment-312335295","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":312335295,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjMzNTI5NQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T18:04:13Z","updated_at":"2017-06-30T18:04:13Z","author_association":"CONTRIBUTOR","body":"@laurentgo Within the DrillCursor, the only place I could do such a check was \r\nhttps://github.com/kkhatua/drill/blob/c51473859d1dd81cf70e857f729c3a8491b2834a/exec/jdbc/src/main/java/org/apache/drill/jdbc/impl/DrillCursor.java#L582\r\n(Hosting a fork of this PR in this repo: https://github.com/kkhatua/drill/commits/altDrill3640 )\r\n\r\nMy JDBC client for performance testing has a similar mechanism for JDBC drivers that don't support timeout, but allow for query cancellation by using a cancelling-trigger thread to sleep until the timeout, before waking up explicitly cancelling the query. I've simply replicated behaviour that in the Drill JDBC package. Having a constant check on the time remaining using a system call like {{System.currentTimeMillis()}} is actually expensive, which is why I didn't want to have the DrillCursor contantly do that check before throwing an exception. Can you point to me on which async framework should I be looking at as well ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312335295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312336643","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312336643","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312336643,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjMzNjY0Mw==","user":{"login":"dmitriyHavrilovich","id":19188082,"node_id":"MDQ6VXNlcjE5MTg4MDgy","avatar_url":"https://avatars.githubusercontent.com/u/19188082?v=4","gravatar_id":"","url":"https://api.github.com/users/dmitriyHavrilovich","html_url":"https://github.com/dmitriyHavrilovich","followers_url":"https://api.github.com/users/dmitriyHavrilovich/followers","following_url":"https://api.github.com/users/dmitriyHavrilovich/following{/other_user}","gists_url":"https://api.github.com/users/dmitriyHavrilovich/gists{/gist_id}","starred_url":"https://api.github.com/users/dmitriyHavrilovich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmitriyHavrilovich/subscriptions","organizations_url":"https://api.github.com/users/dmitriyHavrilovich/orgs","repos_url":"https://api.github.com/users/dmitriyHavrilovich/repos","events_url":"https://api.github.com/users/dmitriyHavrilovich/events{/privacy}","received_events_url":"https://api.github.com/users/dmitriyHavrilovich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T18:10:13Z","updated_at":"2017-06-30T18:10:13Z","author_association":"NONE","body":"This is really good. Will do this immediately.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312336643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312338013","html_url":"https://github.com/apache/drill/pull/858#issuecomment-312338013","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":312338013,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjMzODAxMw==","user":{"login":"laurentgo","id":677448,"node_id":"MDQ6VXNlcjY3NzQ0OA==","avatar_url":"https://avatars.githubusercontent.com/u/677448?v=4","gravatar_id":"","url":"https://api.github.com/users/laurentgo","html_url":"https://github.com/laurentgo","followers_url":"https://api.github.com/users/laurentgo/followers","following_url":"https://api.github.com/users/laurentgo/following{/other_user}","gists_url":"https://api.github.com/users/laurentgo/gists{/gist_id}","starred_url":"https://api.github.com/users/laurentgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laurentgo/subscriptions","organizations_url":"https://api.github.com/users/laurentgo/orgs","repos_url":"https://api.github.com/users/laurentgo/repos","events_url":"https://api.github.com/users/laurentgo/events{/privacy}","received_events_url":"https://api.github.com/users/laurentgo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T18:16:06Z","updated_at":"2017-06-30T18:16:24Z","author_association":"CONTRIBUTOR","body":"you should look at:\r\n- https://github.com/kkhatua/drill/blob/c51473859d1dd81cf70e857f729c3a8491b2834a/exec/jdbc/src/main/java/org/apache/drill/jdbc/impl/DrillCursor.java#L144\r\n- https://github.com/kkhatua/drill/blob/c51473859d1dd81cf70e857f729c3a8491b2834a/exec/jdbc/src/main/java/org/apache/drill/jdbc/impl/DrillCursor.java#L226\r\n- https://github.com/kkhatua/drill/blob/c51473859d1dd81cf70e857f729c3a8491b2834a/exec/jdbc/src/main/java/org/apache/drill/jdbc/impl/DrillCursor.java#L255\r\n- https://github.com/kkhatua/drill/blob/c51473859d1dd81cf70e857f729c3a8491b2834a/exec/jdbc/src/main/java/org/apache/drill/jdbc/impl/DrillCursor.java#L548\r\n\r\nI believe those are the places where blocking operations are done, most of them don't have a timeout configured, but could be configured to have one (getNext is a bit special since it's waking up every 50ms to manage throttling)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312338013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312339623","html_url":"https://github.com/apache/drill/pull/858#issuecomment-312339623","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":312339623,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjMzOTYyMw==","user":{"login":"laurentgo","id":677448,"node_id":"MDQ6VXNlcjY3NzQ0OA==","avatar_url":"https://avatars.githubusercontent.com/u/677448?v=4","gravatar_id":"","url":"https://api.github.com/users/laurentgo","html_url":"https://github.com/laurentgo","followers_url":"https://api.github.com/users/laurentgo/followers","following_url":"https://api.github.com/users/laurentgo/following{/other_user}","gists_url":"https://api.github.com/users/laurentgo/gists{/gist_id}","starred_url":"https://api.github.com/users/laurentgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laurentgo/subscriptions","organizations_url":"https://api.github.com/users/laurentgo/orgs","repos_url":"https://api.github.com/users/laurentgo/repos","events_url":"https://api.github.com/users/laurentgo/events{/privacy}","received_events_url":"https://api.github.com/users/laurentgo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T18:22:59Z","updated_at":"2017-06-30T18:22:59Z","author_association":"CONTRIBUTOR","body":"As for System.currentTimeMillis(), maybe not as expensive as you think: if I remember correctly, it's a JVM intrinsic (no JNI cost), and if mapped to gettimeofday (which I believe is the case), it's a VSDO function on Linux, which means it's pretty cheap (no user/kernel context change).  Compared to creating threads, and waiting on conditions, should be way cheaper.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312339623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312349010","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312349010","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312349010,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjM0OTAxMA==","user":{"login":"tdunning","id":250490,"node_id":"MDQ6VXNlcjI1MDQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/250490?v=4","gravatar_id":"","url":"https://api.github.com/users/tdunning","html_url":"https://github.com/tdunning","followers_url":"https://api.github.com/users/tdunning/followers","following_url":"https://api.github.com/users/tdunning/following{/other_user}","gists_url":"https://api.github.com/users/tdunning/gists{/gist_id}","starred_url":"https://api.github.com/users/tdunning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdunning/subscriptions","organizations_url":"https://api.github.com/users/tdunning/orgs","repos_url":"https://api.github.com/users/tdunning/repos","events_url":"https://api.github.com/users/tdunning/events{/privacy}","received_events_url":"https://api.github.com/users/tdunning/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T19:03:45Z","updated_at":"2017-06-30T19:03:45Z","author_association":"CONTRIBUTOR","body":"On Fri, Jun 30, 2017 at 9:55 AM, Paul Rogers <notifications@github.com>\nwrote:\n\n> Later, once Drill provides the correct framework, I'd suggest that this\n> code move into a separate Github repo to be maintained by experts in pcap.\n> Frankly, most Drill developers are familiar with query engines, not pcap\n> (or other specialized formats.)\n>\n>\nThat only works if Drill has an autoloading capability that allows storage\nformats to be loaded and authenticated easily.\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312349010/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312366805","html_url":"https://github.com/apache/drill/pull/858#issuecomment-312366805","issue_url":"https://api.github.com/repos/apache/drill/issues/858","id":312366805,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjM2NjgwNQ==","user":{"login":"kkhatua","id":4335237,"node_id":"MDQ6VXNlcjQzMzUyMzc=","avatar_url":"https://avatars.githubusercontent.com/u/4335237?v=4","gravatar_id":"","url":"https://api.github.com/users/kkhatua","html_url":"https://github.com/kkhatua","followers_url":"https://api.github.com/users/kkhatua/followers","following_url":"https://api.github.com/users/kkhatua/following{/other_user}","gists_url":"https://api.github.com/users/kkhatua/gists{/gist_id}","starred_url":"https://api.github.com/users/kkhatua/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kkhatua/subscriptions","organizations_url":"https://api.github.com/users/kkhatua/orgs","repos_url":"https://api.github.com/users/kkhatua/repos","events_url":"https://api.github.com/users/kkhatua/events{/privacy}","received_events_url":"https://api.github.com/users/kkhatua/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-06-30T20:34:18Z","updated_at":"2017-06-30T20:34:18Z","author_association":"CONTRIBUTOR","body":"Wouldn't a query cancellation automatically interrupt those potentially blocking operations? I'm simply looking up whether the trigger was a timeout DrillStatement.isTimedOut() to decide if the returning exception is a SqlTimeoutExcp.\r\n\r\nThe extra thread (though mostly sleeping) didn't seem like a huge cost considering that the timeout is at the granularity of seconds.\r\n\r\nI ran a small custom JDBC client application to test this theory. Running longevity and concurrency testing worked well when testing for timeouts. For timeouts as low as 1 second for queries that needed to do lot of back end processing before returning rows much later (like a massive join), I noticed that we caught underlying exceptions as the timeouts during the 'executeQuery' call itself. If I were to not go the route of issuing a Statement.cancel() but relying primarily on the DrillCursor, unless I put in some mechanism of constantly polling for the out-of-time state of the clock. I think then I also need to cancel then cancel all operations from the level of the DrillCursor in both directions (up to the Statement and down to the fragments). All this versus issuing a Statement.cancel() that effectively cancels all the operations down to the fragment level. \r\n\r\nI am now wondering whether I missied a corner case which will be addressed by doing the timeout in the DrillCursor?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312366805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312399224","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312399224","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312399224,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjM5OTIyNA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-01T00:34:18Z","updated_at":"2017-07-01T00:34:18Z","author_association":"CONTRIBUTOR","body":"> That only works if Drill has an autoloading capability that allows storage\r\n> formats to be loaded and authenticated easily.\r\n\r\nWhy? To get pcap in 1.11, one must install a new Drill version, which requires a restart. Assuming that pcap were a separate project, you'd install a new jar, and restart. Neither provides auto loading.\r\n\r\nNot clear on the authentication issue. If a plugin were a separate project, wouldn't that project have a way of certifying its jars?\r\n\r\nUnderstanding this will help us figure out how to handle the growing set of specialized storage plugins...","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312399224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312404564","html_url":"https://github.com/apache/drill/pull/862#issuecomment-312404564","issue_url":"https://api.github.com/repos/apache/drill/issues/862","id":312404564,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjQwNDU2NA==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-01T02:14:35Z","updated_at":"2017-07-01T02:14:35Z","author_association":"CONTRIBUTOR","body":"LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312404564/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312404735","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312404735","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312404735,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjQwNDczNQ==","user":{"login":"tdunning","id":250490,"node_id":"MDQ6VXNlcjI1MDQ5MA==","avatar_url":"https://avatars.githubusercontent.com/u/250490?v=4","gravatar_id":"","url":"https://api.github.com/users/tdunning","html_url":"https://github.com/tdunning","followers_url":"https://api.github.com/users/tdunning/followers","following_url":"https://api.github.com/users/tdunning/following{/other_user}","gists_url":"https://api.github.com/users/tdunning/gists{/gist_id}","starred_url":"https://api.github.com/users/tdunning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tdunning/subscriptions","organizations_url":"https://api.github.com/users/tdunning/orgs","repos_url":"https://api.github.com/users/tdunning/repos","events_url":"https://api.github.com/users/tdunning/events{/privacy}","received_events_url":"https://api.github.com/users/tdunning/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-01T02:18:26Z","updated_at":"2017-07-01T02:18:26Z","author_association":"CONTRIBUTOR","body":"On Fri, Jun 30, 2017 at 5:34 PM, Paul Rogers <notifications@github.com>\nwrote:\n\n> That only works if Drill has an autoloading capability that allows storage\n> formats to be loaded and authenticated easily.\n>\n> Why? To get pcap in 1.11, one must install a new Drill version, which\n> requires a restart. Assuming that pcap were a separate project, you'd\n> install a new jar, and restart. Neither provides auto loading.\n>\nNo. But if I have 1.11 already and decide that I want pcap (or any similar\ndata format), it would be nice if I could do the equivalent of pip (for\npython) or install.packages(\"...\") (for R) or mvn test (for Java) and get\nwhatever cool capability I like.\n\nThis may be described as \"just install a new jar\" but the convenience level\nis a proven Big Deal (tm). It would even be possible to leverage Maven\ncentral to make it happen, but there needs to be convenience sugar around\nthe process to make it consumable.\n\n> Not clear on the authentication issue. If a plugin were a separate\n> project, wouldn't that project have a way of certifying its jars?\n>\nDunno. Not some random project.\n\nIf Drill requires it, then yes.  And I am saying that Drill should require\nresolution back to some level of trust.\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312404735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312706748","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312706748","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312706748,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjcwNjc0OA==","user":{"login":"dmitriyHavrilovich","id":19188082,"node_id":"MDQ6VXNlcjE5MTg4MDgy","avatar_url":"https://avatars.githubusercontent.com/u/19188082?v=4","gravatar_id":"","url":"https://api.github.com/users/dmitriyHavrilovich","html_url":"https://github.com/dmitriyHavrilovich","followers_url":"https://api.github.com/users/dmitriyHavrilovich/followers","following_url":"https://api.github.com/users/dmitriyHavrilovich/following{/other_user}","gists_url":"https://api.github.com/users/dmitriyHavrilovich/gists{/gist_id}","starred_url":"https://api.github.com/users/dmitriyHavrilovich/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dmitriyHavrilovich/subscriptions","organizations_url":"https://api.github.com/users/dmitriyHavrilovich/orgs","repos_url":"https://api.github.com/users/dmitriyHavrilovich/repos","events_url":"https://api.github.com/users/dmitriyHavrilovich/events{/privacy}","received_events_url":"https://api.github.com/users/dmitriyHavrilovich/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-03T18:10:49Z","updated_at":"2017-07-03T18:10:49Z","author_association":"NONE","body":"@paul-rogers , is anything else we can do for this PR ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312706748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312721854","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312721854","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312721854,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjcyMTg1NA==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-03T19:47:48Z","updated_at":"2017-07-03T19:47:48Z","author_association":"CONTRIBUTOR","body":"Looks like we're good to go. Will be working on pulling the PR into Apache master today and will post any issues that arise as I run the code through the detailed tests used in that process.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312721854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312730787","html_url":"https://github.com/apache/drill/pull/831#issuecomment-312730787","issue_url":"https://api.github.com/repos/apache/drill/issues/831","id":312730787,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjczMDc4Nw==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-03T20:46:38Z","updated_at":"2017-07-03T20:46:38Z","author_association":"CONTRIBUTOR","body":"Squashed commits and committed to Apache master. Congratulations!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312730787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312755792","html_url":"https://github.com/apache/drill/pull/863#issuecomment-312755792","issue_url":"https://api.github.com/repos/apache/drill/issues/863","id":312755792,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjc1NTc5Mg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-04T00:51:10Z","updated_at":"2017-07-04T00:51:10Z","author_association":"CONTRIBUTOR","body":"Not entirely thrilled with focusing on one bug without cleaning up the entire area, but that is another discussion.\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312755792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312786526","html_url":"https://github.com/apache/drill/pull/866#issuecomment-312786526","issue_url":"https://api.github.com/repos/apache/drill/issues/866","id":312786526,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjc4NjUyNg==","user":{"login":"paul-rogers","id":3248881,"node_id":"MDQ6VXNlcjMyNDg4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/3248881?v=4","gravatar_id":"","url":"https://api.github.com/users/paul-rogers","html_url":"https://github.com/paul-rogers","followers_url":"https://api.github.com/users/paul-rogers/followers","following_url":"https://api.github.com/users/paul-rogers/following{/other_user}","gists_url":"https://api.github.com/users/paul-rogers/gists{/gist_id}","starred_url":"https://api.github.com/users/paul-rogers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paul-rogers/subscriptions","organizations_url":"https://api.github.com/users/paul-rogers/orgs","repos_url":"https://api.github.com/users/paul-rogers/repos","events_url":"https://api.github.com/users/paul-rogers/events{/privacy}","received_events_url":"https://api.github.com/users/paul-rogers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-04T05:52:15Z","updated_at":"2017-07-04T05:52:15Z","author_association":"CONTRIBUTOR","body":"This commit provides another two levels of foundation for size-aware vector writers in the Drill record readers.\r\n\r\nMuch of the material below appears in Javadoc throughout the code. But, it is gathered here for quick reference to speed the code review.\r\n\r\nThe PR is broken into commits by layer of function. May be easier to review each commit one-by-one rather than looking at the whole mess in one big diff.\r\n\r\n## Column Accessors\r\n\r\nA recent extension to Drill's set of test tools created a \"row set\" abstraction to allow us to create, and verify, record batches with very few lines of code. Part of this work involved creating a set of \"column accessors\" in the vector subsystem. Column readers provide a uniform API to obtain data from columns (vectors), while column writers provide a uniform writing interface.\r\n\r\nDRILL-5211 discusses a set of changes to limit value vectors to 16 MB in size (to avoid memory fragmentation due to Drill's two memory allocators.) The column accessors have proven to be so useful that they will be the basis for the new, size-aware writers used by Drill's record readers.\r\n\r\nChanges include:\r\n\r\n* Implement fill-empties logic for vectors that do not provide it.\r\n* Use the new size-aware methods, throwing vector overflow exceptions which can now occur.\r\n* Some fiddling to handle the non-standard names of vector functions.\r\n* Modify strings to use a default type of bytes[], but offset a String version for convenience.\r\n* Add â€œfinish batchâ€ logic to handle values omitted at the end of a batch. (This is a bug in some existing record readers.)\r\n\r\n## Result Set Loader\r\n\r\nThe second layer of this commit is the new â€œresult set loader.â€ This abstraction is an evolution of the â€œMutatorâ€ class in the scan batch, when used with the existing column writers (which some readers use and others do not.)\r\n\r\nA result set loader loads a set of tuples (AKA records, rows) from any source (such as a record reader) into a set of record batches. The loader:\r\n\r\n* Divides records into batches based on a maximum row count or a maximum vector size, whichever occurs first. (Later revisions may limit overall batch size.)\r\n* Tracks the start and end of each batch.\r\n* Tracks the start and end of each row.\r\n* Provides column loaders to write each column value.\r\n* Handles overflow when a vector becomes full, but the client still must finish writing the current row.\r\n\r\nThe original Mutator class divided up responsibilities:\r\n\r\n* The Mutator handled the entire record batch\r\n* An optional VectorContainerWriter writes each record\r\n\r\nThe result set loader follows this same general pattern.\r\n\r\n* The result set loader handles the entire record batch (really, a series of batches that make up the entire result set: hence the name.)\r\n* The TupleLoader class provides per-tuple services which mostly consists of access to the column loaders.\r\n* A tuple schema defines the schema for the result set (see below.)\r\n\r\nTo hide this complexity from the client, a ResultSetLoader interface defines the public API. Then, a ResultSetLoaderImpl class implements the interface with all the gory details. Separate classes handle each column, the result set schema, and so on.\r\n\r\nThis class is pretty complex, with a state machine per batch and per column, so take your time reviewing it.\r\n\r\n## Column Loaders\r\n\r\nThe column writers are low-level classes that interface between a consumer and a value vector. To create the tuple loader we need a higher-level abstraction: the column loader. (Not that there is no equivalent for reading columns at this time: generated code does the reading in its own special way for each operator.)\r\n\r\nColumn loaders have a number of responsibilities:\r\n\r\n* Single class used for all data types. No more casting.\r\n* Transparently handle vector overflow and rollover.\r\n* Provide generic (Object-based) setters, most useful for testing.\r\n\r\nBecause this commit seeks to prove the concept; the column loader supports a subset of types. Adding the other types is simply a matter of copy & paste, and will be done once things settle down. For now, the focus is on int and Varchar types (though the generic version supports all types.)\r\n\r\nTo handle vector overflow, each â€œsetâ€ method:\r\n\r\n* Tries to write the value into the current vector (using a column writer)\r\n* If overflow occurs, tell the listener (the row set mutator) to create a new vector\r\n* Try the write a second time using the new vector\r\n\r\nThe set of column writers must be synchronized (not in a multi-thread sense) on the current row position. As in the row set test utilities, a WriterIndex performs this task. (In fact, this is derived from the same writer index used for the row set test code and is defined by the column accessor code.)\r\n\r\nAs with the row set version, a variety of column loader implementations exist depending on whether the underlying column is a scalar, an array, a map (not yet supported), etc. All this is transparent to the client of the tuple loader.\r\n\r\n## Vector Overflow Logic\r\n\r\nThe heart of this abstraction is that last point: the ability to detect when a vector overflows, switch in a new vector, and continue writing. Several tricks are involved.\r\n\r\nSuppose we have a row of five columns: a through e. The code writes a and b. Then, c overflows. The code canâ€™t rewrite a and b. To handle this, the tuple loader:\r\n\r\n* Creates a new, small set of vectors called the â€œoverflow batchâ€\r\n* Copies columns a and b from the current batch to the overflow batch.\r\n* Writes column c to the overflow batch.\r\n* Allows the client code to finish writing columns d and e (to the overflow batch).\r\n* Reports to the client that the batch is full.\r\n\r\nNote that the client is completely unaware that any of the above occurred: it just writes a row and asks if it can write another.\r\n\r\n## Skipping Columns\r\n\r\nThe loader must also handle a reader, such as Parquet, that skips columns if they are null. There were bugs in Drillâ€™s vectors for this case and temporary patches were made in a number of places to make this work. The trick also should work for arrays (a null array is allowed, Drill represents it as an empty array.) But, this code also was broken. For good measure, the code now also allows skipping non-null columns if a good â€œemptyâ€ value is available: 0 for numbers, blank for strings. This behavior is needed for the CSV reader; if a line is missing a field, the CSV reader treats it as an empty (not null) field.\r\n\r\n## Result Set Schema\r\n\r\nThe tuple loader is designed to handle two kinds of tables: â€œearly schemaâ€ (such as Parquet and CSV) define the schema up front. â€œLate schemaâ€ (such as JSON) discover the schema during reading. The tuple loader allows either form, and, in fact, uses the same mechanism. (The only caveat is that issues occur if adding a non-null column after the first row has been loaded.)\r\n\r\nConsumer of batches will, of course, want to know that the schema changed. Providing a simple flag is muddy: when should it be reset? A better solution is to provide a schema version which is incremented each time a column is added. (Columns cannot be removed or changed â€” at least not yet.)\r\n\r\n## Internal Vectors vs. Vector Container\r\n\r\nThe result set loader uses its own mechanism to manage vectors within the loader. Vectors are stored on each column to allow quick, indexed access and to simplify creating new columns.\r\n\r\nHowever, the consumer of the batch (eventually, a new scan batch), wants a vector container. A special class handles this translation, including incrementally modifying the container as new columns are added.\r\n\r\n## Logical Tuples\r\n\r\nAs if the above were not complex enough, we must deal with another layer of complexity. Suppose we have a query of the form:\r\n\r\n```\r\nSELECT * FROM myTable\r\n```\r\n\r\nIn such a query, the reader will read all columns using the tuple loader. Very simple. But, many queries are of the form:\r\n\r\n```\r\nSELECT a, b FROM myTable\r\n```\r\n\r\nWhere â€œmyTableâ€ contains columns (a, b, c, d, e). There is no point in reading columns c, d and e: weâ€™d just throw them away. Instead, we want to define a â€œlogical tupleâ€ that contains just (a, b) and not even read the others.\r\n\r\nEach Drill record reader does this in its own way. The tuple loader provides a new, standard solution in the form of a logical tuple loader.\r\n\r\nThe logical tuple loader works just like the regular one: but it knows which columns are projected and which are not. If the reader asks for a projected column, the logical loader returns a column loader to load the value. But, when the reader asks for a non-projected column, the logical loader simply returns null, telling the application to discard that column (or, better, to not read it at all.)\r\n\r\nThe logical loader is needed because the regular loader will create columns on the fly: the logical loader intercepts the column request and returns null instead.\r\n\r\n## Materialized Schema\r\n\r\nFor reasons that will become clear in the next PR, the scan batch ends up doing quite a bit of semantic analysis to map from the select list and the table schema to the result schema. Drill provides a BatchSchema class that is useful, but limited in this context. To solve this problem, a new class, MaterializedSchema, does what BatchSchema does, but allows fast access by both name and position, and allows the schema to grow dynamically.\r\n\r\nThe row set abstractions for testing already had a concept of a tuple schema, so this was extracted and extended to act as the foundation for the materialized schema.\r\n\r\n## Result Vector Cache\r\n\r\nAbove we mentioned that the tuple loader allows schema changes on the fly. As the next PR will make more clear, downstream operators want a fixed set of vectors. To assist with this, the tuple loader uses a â€œresult vector cacheâ€. Letâ€™s say a scanner reads two JSON files with the same schema. The first crates the schema and vectors. The second is obligated to use the same vectors. This is a royal pain. But, the vector cache does it automatically: when the tuple loader adds a new column, it checks if the vector already exists in the cache and reuses it. If not there, the cache adds it and returns it so that it is there the next time around.\r\n\r\n## Map, List, Union and Other Complex Support\r\n\r\nThis commit does not yet address complex types such as maps, lists, union vectors, and so on. The idea is to get the basics to work first. The commit does, however, support arrays of primitive and Varchar types.\r\n\r\n## Row Set Test Classes\r\n\r\nThe row set test classes and the above new classes share the same column accessors. The test classes were updated to catch the new overflow exception. Because the test code is used to creates small batches as test input data, the overflow exception is translated to an unchecked exception to keep test code simple.\r\n\r\nSeveral row set index classes were moved and adjusted to use the revised form needed for the tuple loader.\r\n\r\nA few names were changed to reduce confusion (mine) over what they meant.\r\n\r\n## Unit Tests\r\n\r\nAll of the above is pretty thoroughly tested via unit tests. In fact, the unit tests are a good place to start (now I tell you!) in order to see how client code uses the various abstractions.\r\n\r\nThe bit of unit test structure that handled system options turned out to be wrong. Modified it to use the defaults defined in the system option manager, which required changing the visibility of the defaults table.\r\n\r\n## Other\r\n\r\nSome unit tests were updated to use new features which become available in this PR. See TestFillEmpties and TestVectorLimits.\r\n\r\nThe `equals()` method in BatchSchema is badly broken. Cleaned it up some. But, didnâ€™t want to change it too much in case anything depends on the current, broken, semantics. So, added a new `isEquivalent` method to provide the correct semantics. Added an `isEquivalent()` method to the MaterializedField as well that will ignore the â€œimplementationâ€ columns that hang off of types such as nullables, repeated, etc. That is, two repeated columns are identical if their type is identical, regardless of whether one has the â€œ$offsetsâ€ child or not.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312786526/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312875674","html_url":"https://github.com/apache/drill/pull/805#issuecomment-312875674","issue_url":"https://api.github.com/repos/apache/drill/issues/805","id":312875674,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjg3NTY3NA==","user":{"login":"vvysotskyi","id":20928429,"node_id":"MDQ6VXNlcjIwOTI4NDI5","avatar_url":"https://avatars.githubusercontent.com/u/20928429?v=4","gravatar_id":"","url":"https://api.github.com/users/vvysotskyi","html_url":"https://github.com/vvysotskyi","followers_url":"https://api.github.com/users/vvysotskyi/followers","following_url":"https://api.github.com/users/vvysotskyi/following{/other_user}","gists_url":"https://api.github.com/users/vvysotskyi/gists{/gist_id}","starred_url":"https://api.github.com/users/vvysotskyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/vvysotskyi/subscriptions","organizations_url":"https://api.github.com/users/vvysotskyi/orgs","repos_url":"https://api.github.com/users/vvysotskyi/repos","events_url":"https://api.github.com/users/vvysotskyi/events{/privacy}","received_events_url":"https://api.github.com/users/vvysotskyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-04T13:17:46Z","updated_at":"2017-07-04T13:17:46Z","author_association":"MEMBER","body":"Resolved merge conflicts and rebased on latest master.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312875674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/312941124","html_url":"https://github.com/apache/drill/pull/865#issuecomment-312941124","issue_url":"https://api.github.com/repos/apache/drill/issues/865","id":312941124,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMjk0MTEyNA==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-04T19:55:43Z","updated_at":"2017-07-04T19:55:43Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/312941124/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/313190721","html_url":"https://github.com/apache/drill/pull/776#issuecomment-313190721","issue_url":"https://api.github.com/repos/apache/drill/issues/776","id":313190721,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzE5MDcyMQ==","user":{"login":"jinfengni","id":5742011,"node_id":"MDQ6VXNlcjU3NDIwMTE=","avatar_url":"https://avatars.githubusercontent.com/u/5742011?v=4","gravatar_id":"","url":"https://api.github.com/users/jinfengni","html_url":"https://github.com/jinfengni","followers_url":"https://api.github.com/users/jinfengni/followers","following_url":"https://api.github.com/users/jinfengni/following{/other_user}","gists_url":"https://api.github.com/users/jinfengni/gists{/gist_id}","starred_url":"https://api.github.com/users/jinfengni/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jinfengni/subscriptions","organizations_url":"https://api.github.com/users/jinfengni/orgs","repos_url":"https://api.github.com/users/jinfengni/repos","events_url":"https://api.github.com/users/jinfengni/events{/privacy}","received_events_url":"https://api.github.com/users/jinfengni/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-05T18:41:43Z","updated_at":"2017-07-05T18:41:43Z","author_association":"CONTRIBUTOR","body":"+1\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/313190721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/313218792","html_url":"https://github.com/apache/drill/pull/865#issuecomment-313218792","issue_url":"https://api.github.com/repos/apache/drill/issues/865","id":313218792,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzIxODc5Mg==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-05T20:33:40Z","updated_at":"2017-07-05T20:33:40Z","author_association":"CONTRIBUTOR","body":"Has anyone checked the export requirements for these functions? \r\nhttps://www.apache.org/dev/crypto.html\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/313218792/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/313272547","html_url":"https://github.com/apache/drill/pull/865#issuecomment-313272547","issue_url":"https://api.github.com/repos/apache/drill/issues/865","id":313272547,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzI3MjU0Nw==","user":{"login":"cgivre","id":5513150,"node_id":"MDQ6VXNlcjU1MTMxNTA=","avatar_url":"https://avatars.githubusercontent.com/u/5513150?v=4","gravatar_id":"","url":"https://api.github.com/users/cgivre","html_url":"https://github.com/cgivre","followers_url":"https://api.github.com/users/cgivre/followers","following_url":"https://api.github.com/users/cgivre/following{/other_user}","gists_url":"https://api.github.com/users/cgivre/gists{/gist_id}","starred_url":"https://api.github.com/users/cgivre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cgivre/subscriptions","organizations_url":"https://api.github.com/users/cgivre/orgs","repos_url":"https://api.github.com/users/cgivre/repos","events_url":"https://api.github.com/users/cgivre/events{/privacy}","received_events_url":"https://api.github.com/users/cgivre/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-06T01:45:15Z","updated_at":"2017-07-06T01:45:15Z","author_association":"CONTRIBUTOR","body":"Hi Parth, \nI need to look at AES, but on the page you sent it specifically said that all the digests (MD5, SHA) have no restrictions. \nâ€”C \n\n> On Jul 5, 2017, at 16:33, Parth Chandra <notifications@github.com> wrote:\n> \n> Has anyone checked the export requirements for these functions?\n> https://www.apache.org/dev/crypto.html <https://www.apache.org/dev/crypto.html>\n> â€”\n> You are receiving this because you authored the thread.\n> Reply to this email directly, view it on GitHub <https://github.com/apache/drill/pull/865#issuecomment-313218792>, or mute the thread <https://github.com/notifications/unsubscribe-auth/AFQfvoSWmSuVLKzYA-xa_dyUnaPPHUC5ks5sK_MngaJpZM4OLy5S>.\n> \n\n","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/313272547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/313465475","html_url":"https://github.com/apache/drill/pull/865#issuecomment-313465475","issue_url":"https://api.github.com/repos/apache/drill/issues/865","id":313465475,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzQ2NTQ3NQ==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-06T17:32:49Z","updated_at":"2017-07-06T17:32:49Z","author_association":"CONTRIBUTOR","body":"AES is specifically restricted. Can you check on commons-codec and see what it uses to implement AES support?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/313465475/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/313562851","html_url":"https://github.com/apache/drill/pull/870#issuecomment-313562851","issue_url":"https://api.github.com/repos/apache/drill/issues/870","id":313562851,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzU2Mjg1MQ==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-07T01:29:04Z","updated_at":"2017-07-07T01:29:04Z","author_association":"CONTRIBUTOR","body":"More details in JIRA [DRILL-5664](https://issues.apache.org/jira/browse/DRILL-5664).\r\n\r\n@parthchandra / @ppadma - Can you please help to review this change ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/313562851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/313671601","html_url":"https://github.com/apache/drill/pull/869#issuecomment-313671601","issue_url":"https://api.github.com/repos/apache/drill/issues/869","id":313671601,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzY3MTYwMQ==","user":{"login":"KulykRoman","id":20320066,"node_id":"MDQ6VXNlcjIwMzIwMDY2","avatar_url":"https://avatars.githubusercontent.com/u/20320066?v=4","gravatar_id":"","url":"https://api.github.com/users/KulykRoman","html_url":"https://github.com/KulykRoman","followers_url":"https://api.github.com/users/KulykRoman/followers","following_url":"https://api.github.com/users/KulykRoman/following{/other_user}","gists_url":"https://api.github.com/users/KulykRoman/gists{/gist_id}","starred_url":"https://api.github.com/users/KulykRoman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KulykRoman/subscriptions","organizations_url":"https://api.github.com/users/KulykRoman/orgs","repos_url":"https://api.github.com/users/KulykRoman/repos","events_url":"https://api.github.com/users/KulykRoman/events{/privacy}","received_events_url":"https://api.github.com/users/KulykRoman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-07T12:46:57Z","updated_at":"2017-07-07T12:46:57Z","author_association":"CONTRIBUTOR","body":"Done.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/313671601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/313685469","html_url":"https://github.com/apache/drill/pull/869#issuecomment-313685469","issue_url":"https://api.github.com/repos/apache/drill/issues/869","id":313685469,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzY4NTQ2OQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-07T13:48:17Z","updated_at":"2017-07-07T13:48:17Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/313685469/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/313710805","html_url":"https://github.com/apache/drill/pull/867#issuecomment-313710805","issue_url":"https://api.github.com/repos/apache/drill/issues/867","id":313710805,"node_id":"MDEyOklzc3VlQ29tbWVudDMxMzcxMDgwNQ==","user":{"login":"arina-ielchiieva","id":15086720,"node_id":"MDQ6VXNlcjE1MDg2NzIw","avatar_url":"https://avatars.githubusercontent.com/u/15086720?v=4","gravatar_id":"","url":"https://api.github.com/users/arina-ielchiieva","html_url":"https://github.com/arina-ielchiieva","followers_url":"https://api.github.com/users/arina-ielchiieva/followers","following_url":"https://api.github.com/users/arina-ielchiieva/following{/other_user}","gists_url":"https://api.github.com/users/arina-ielchiieva/gists{/gist_id}","starred_url":"https://api.github.com/users/arina-ielchiieva/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arina-ielchiieva/subscriptions","organizations_url":"https://api.github.com/users/arina-ielchiieva/orgs","repos_url":"https://api.github.com/users/arina-ielchiieva/repos","events_url":"https://api.github.com/users/arina-ielchiieva/events{/privacy}","received_events_url":"https://api.github.com/users/arina-ielchiieva/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-07T15:15:58Z","updated_at":"2017-07-07T15:15:58Z","author_association":"MEMBER","body":"+1, LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/313710805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/314338486","html_url":"https://github.com/apache/drill/pull/870#issuecomment-314338486","issue_url":"https://api.github.com/repos/apache/drill/issues/870","id":314338486,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDMzODQ4Ng==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-11T06:08:15Z","updated_at":"2017-07-11T06:08:15Z","author_association":"CONTRIBUTOR","body":"I have a question.  The user can change the storage plugin configuration itself instead of enabling/disabling this option.  what is the use of this option ?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/314338486/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/314518886","html_url":"https://github.com/apache/drill/pull/870#issuecomment-314518886","issue_url":"https://api.github.com/repos/apache/drill/issues/870","id":314518886,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDUxODg4Ng==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-11T17:40:32Z","updated_at":"2017-07-11T17:40:32Z","author_association":"CONTRIBUTOR","body":"@ppadma - \r\n1) For the ease of use. Once the security is being configured for Drill then it's better if all the config changes are done in single place (which is drill-override.conf) and then make sure that all communications are secure. With this option user doesn't have to explicitly go and edit the Storage Plugin configuration to enable security.\r\n2) It will take care of enabling/disabling security both for active and inactive plugins.\r\n3) This can be extended for handling security of all the storage plugin. Hence this config can be a single place to enable/disable security for all the plugins in one go rather than doing it manually for each and every plugin one by one.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/314518886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/314635941","html_url":"https://github.com/apache/drill/pull/859#issuecomment-314635941","issue_url":"https://api.github.com/repos/apache/drill/issues/859","id":314635941,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDYzNTk0MQ==","user":{"login":"ppadma","id":1904860,"node_id":"MDQ6VXNlcjE5MDQ4NjA=","avatar_url":"https://avatars.githubusercontent.com/u/1904860?v=4","gravatar_id":"","url":"https://api.github.com/users/ppadma","html_url":"https://github.com/ppadma","followers_url":"https://api.github.com/users/ppadma/followers","following_url":"https://api.github.com/users/ppadma/following{/other_user}","gists_url":"https://api.github.com/users/ppadma/gists{/gist_id}","starred_url":"https://api.github.com/users/ppadma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppadma/subscriptions","organizations_url":"https://api.github.com/users/ppadma/orgs","repos_url":"https://api.github.com/users/ppadma/repos","events_url":"https://api.github.com/users/ppadma/events{/privacy}","received_events_url":"https://api.github.com/users/ppadma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-12T03:40:45Z","updated_at":"2017-07-12T03:40:45Z","author_association":"CONTRIBUTOR","body":"closing this pull request. Need to figure out a better way to do this like Paul suggested.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/314635941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/314652899","html_url":"https://github.com/apache/drill/pull/873#issuecomment-314652899","issue_url":"https://api.github.com/repos/apache/drill/issues/873","id":314652899,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDY1Mjg5OQ==","user":{"login":"superbstreak","id":6262024,"node_id":"MDQ6VXNlcjYyNjIwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6262024?v=4","gravatar_id":"","url":"https://api.github.com/users/superbstreak","html_url":"https://github.com/superbstreak","followers_url":"https://api.github.com/users/superbstreak/followers","following_url":"https://api.github.com/users/superbstreak/following{/other_user}","gists_url":"https://api.github.com/users/superbstreak/gists{/gist_id}","starred_url":"https://api.github.com/users/superbstreak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superbstreak/subscriptions","organizations_url":"https://api.github.com/users/superbstreak/orgs","repos_url":"https://api.github.com/users/superbstreak/repos","events_url":"https://api.github.com/users/superbstreak/events{/privacy}","received_events_url":"https://api.github.com/users/superbstreak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-12T05:35:17Z","updated_at":"2017-07-12T05:35:17Z","author_association":"CONTRIBUTOR","body":"Thanks for the patch!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/314652899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/314812549","html_url":"https://github.com/apache/drill/pull/873#issuecomment-314812549","issue_url":"https://api.github.com/repos/apache/drill/issues/873","id":314812549,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDgxMjU0OQ==","user":{"login":"laurentgo","id":677448,"node_id":"MDQ6VXNlcjY3NzQ0OA==","avatar_url":"https://avatars.githubusercontent.com/u/677448?v=4","gravatar_id":"","url":"https://api.github.com/users/laurentgo","html_url":"https://github.com/laurentgo","followers_url":"https://api.github.com/users/laurentgo/followers","following_url":"https://api.github.com/users/laurentgo/following{/other_user}","gists_url":"https://api.github.com/users/laurentgo/gists{/gist_id}","starred_url":"https://api.github.com/users/laurentgo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/laurentgo/subscriptions","organizations_url":"https://api.github.com/users/laurentgo/orgs","repos_url":"https://api.github.com/users/laurentgo/repos","events_url":"https://api.github.com/users/laurentgo/events{/privacy}","received_events_url":"https://api.github.com/users/laurentgo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-12T15:49:36Z","updated_at":"2017-07-12T15:49:36Z","author_association":"CONTRIBUTOR","body":"@parthchandra @sudheeshkatkam look good to you?","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/314812549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/314844076","html_url":"https://github.com/apache/drill/pull/873#issuecomment-314844076","issue_url":"https://api.github.com/repos/apache/drill/issues/873","id":314844076,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNDg0NDA3Ng==","user":{"login":"parthchandra","id":6529136,"node_id":"MDQ6VXNlcjY1MjkxMzY=","avatar_url":"https://avatars.githubusercontent.com/u/6529136?v=4","gravatar_id":"","url":"https://api.github.com/users/parthchandra","html_url":"https://github.com/parthchandra","followers_url":"https://api.github.com/users/parthchandra/followers","following_url":"https://api.github.com/users/parthchandra/following{/other_user}","gists_url":"https://api.github.com/users/parthchandra/gists{/gist_id}","starred_url":"https://api.github.com/users/parthchandra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/parthchandra/subscriptions","organizations_url":"https://api.github.com/users/parthchandra/orgs","repos_url":"https://api.github.com/users/parthchandra/repos","events_url":"https://api.github.com/users/parthchandra/events{/privacy}","received_events_url":"https://api.github.com/users/parthchandra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-12T17:43:48Z","updated_at":"2017-07-12T17:43:48Z","author_association":"CONTRIBUTOR","body":"+1. LGTM.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/314844076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/315125857","html_url":"https://github.com/apache/drill/pull/876#issuecomment-315125857","issue_url":"https://api.github.com/repos/apache/drill/issues/876","id":315125857,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTEyNTg1Nw==","user":{"login":"sohami","id":22159459,"node_id":"MDQ6VXNlcjIyMTU5NDU5","avatar_url":"https://avatars.githubusercontent.com/u/22159459?v=4","gravatar_id":"","url":"https://api.github.com/users/sohami","html_url":"https://github.com/sohami","followers_url":"https://api.github.com/users/sohami/followers","following_url":"https://api.github.com/users/sohami/following{/other_user}","gists_url":"https://api.github.com/users/sohami/gists{/gist_id}","starred_url":"https://api.github.com/users/sohami/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sohami/subscriptions","organizations_url":"https://api.github.com/users/sohami/orgs","repos_url":"https://api.github.com/users/sohami/repos","events_url":"https://api.github.com/users/sohami/events{/privacy}","received_events_url":"https://api.github.com/users/sohami/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-13T16:10:36Z","updated_at":"2017-07-13T16:10:36Z","author_association":"CONTRIBUTOR","body":"+1 LGTM\r\nThanks a lot for catching and fixing this!. I will test it with SASL encryption case.","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/315125857/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/drill/issues/comments/315133986","html_url":"https://github.com/apache/drill/pull/876#issuecomment-315133986","issue_url":"https://api.github.com/repos/apache/drill/issues/876","id":315133986,"node_id":"MDEyOklzc3VlQ29tbWVudDMxNTEzMzk4Ng==","user":{"login":"superbstreak","id":6262024,"node_id":"MDQ6VXNlcjYyNjIwMjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6262024?v=4","gravatar_id":"","url":"https://api.github.com/users/superbstreak","html_url":"https://github.com/superbstreak","followers_url":"https://api.github.com/users/superbstreak/followers","following_url":"https://api.github.com/users/superbstreak/following{/other_user}","gists_url":"https://api.github.com/users/superbstreak/gists{/gist_id}","starred_url":"https://api.github.com/users/superbstreak/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superbstreak/subscriptions","organizations_url":"https://api.github.com/users/superbstreak/orgs","repos_url":"https://api.github.com/users/superbstreak/repos","events_url":"https://api.github.com/users/superbstreak/events{/privacy}","received_events_url":"https://api.github.com/users/superbstreak/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-07-13T16:40:20Z","updated_at":"2017-07-13T16:40:20Z","author_association":"CONTRIBUTOR","body":"Thanks, @parthchandra!","reactions":{"url":"https://api.github.com/repos/apache/drill/issues/comments/315133986/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]