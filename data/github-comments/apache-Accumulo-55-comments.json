[{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/726403361","html_url":"https://github.com/apache/accumulo/pull/1774#issuecomment-726403361","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1774","id":726403361,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjQwMzM2MQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-12T23:26:35Z","updated_at":"2020-11-12T23:27:28Z","author_association":"CONTRIBUTOR","body":"> there are `writeObject(out)` and `readObject(in)` methods \r\n\r\nSo I think these were added because of the `transient` field.  When I removed these, this caused spotbugs to fail. I will fix this.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/726403361/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/726416569","html_url":"https://github.com/apache/accumulo/pull/1774#issuecomment-726416569","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1774","id":726416569,"node_id":"MDEyOklzc3VlQ29tbWVudDcyNjQxNjU2OQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-13T00:01:26Z","updated_at":"2020-11-13T00:01:26Z","author_association":"CONTRIBUTOR","body":"@ctubbsii @keith-turner Do you think the class TServerInstance needs to be serializable?  We have a transient field declared and are overriding the java serilazation methods but I can't find where we are serializing the object. https://github.com/apache/accumulo/blob/bfe173ec140f07086b0ff8940fc08d640b9539a7/server/base/src/main/java/org/apache/accumulo/server/master/state/TServerInstance.java#L45-L46\r\nI am wondering if this was done because the old Guava object that HostAndPort was taken from at some point was not serializable.\r\nhttps://github.com/apache/accumulo/blob/bfe173ec140f07086b0ff8940fc08d640b9539a7/server/base/src/main/java/org/apache/accumulo/server/master/state/TServerInstance.java#L125-L133","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/726416569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728158049","html_url":"https://github.com/apache/accumulo/pull/1774#issuecomment-728158049","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1774","id":728158049,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODE1ODA0OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T16:05:57Z","updated_at":"2020-11-16T16:08:10Z","author_association":"MEMBER","body":"> @ctubbsii @keith-turner Do you think the class TServerInstance needs to be serializable? We have a transient field declared and are overriding the java serilazation methods but I can't find where we are serializing the object.\r\n\r\nI found one place where it is serialized as part of a FaTE RepO: `ShutdownTServer` has a member field called `server` of type `TServerInstance`. \r\n\r\nHowever, I did notice that it the customizations we've done to serialize and deserialize the `HostAndPort` transient member is because of the comment that says that type isn't serializable. However, the type we're using (the one copied into our code base from Guava) actually *is* serializable. So, we can probably just remove those customization methods, bump the `serialVersionUid` to `2L` (unless you're relocating it, then it doesn't matter if it stays the same, since it's a new object anyway), and make the `HostAndPort location` field `final` and remove the `transient` keyword.\r\n\r\nChanging the serialization would affect previous FaTE operations, but the only one I could find was the `ShutdownTServer` one, and I don't think that would matter across upgrades anyway.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728158049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728165175","html_url":"https://github.com/apache/accumulo/pull/1774#issuecomment-728165175","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1774","id":728165175,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODE2NTE3NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T16:17:23Z","updated_at":"2020-11-16T16:17:23Z","author_association":"MEMBER","body":"Actually, since `ShutdownTServer` looks like it's the only place where it is ever serialized, I'd probably prefer to drop `Serializable` altogether (still make the HostAndPort field final), and change `ShutdownTServer`'s serialization to use Strings instead. There's no reason we need to maintain serialization compatibility for `TServerLocation` when it's only ever serialized once, out of over 500 references in the code base.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728165175/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728165885","html_url":"https://github.com/apache/accumulo/pull/1715#issuecomment-728165885","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1715","id":728165885,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODE2NTg4NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T16:18:29Z","updated_at":"2020-11-16T16:18:29Z","author_association":"CONTRIBUTOR","body":"@ctubbsii @keith-turner - I believe I have made most of the requested changes. I did not make the change regarding the InitParameters in the SPI class as there did not seem to be consensus there. I just re-tested everything to ensure that it's still working. Any last thoughts before I merge?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728165885/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728213014","html_url":"https://github.com/apache/accumulo/pull/1780#issuecomment-728213014","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1780","id":728213014,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODIxMzAxNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T17:33:45Z","updated_at":"2020-11-16T17:33:45Z","author_association":"MEMBER","body":"Thanks for the PR, @BukrosSzabolcs . Thrift upgrades are always highly disruptive for us, as they involve (at minimum):\r\n\r\n1. Updates to pom.xml files\r\n2. Updates to our build scripts to generate and place generated Java code\r\n3. Remove any obsoleted workarounds we've added due to bugs in earlier Thrift releases\r\n4. Regenerate and check in new generated Thrift code (and remove any old stuff) (in a separate commit)\r\n5. Fix / workaround any new bugs caused by changes in Thrift libraries\r\n6. Ensure upgrades work across Accumulo versions that change the Thrift version\r\n7. Test, test, test\r\n\r\nI think your PR is a good start, but there's lots more to do to be confident about a Thrift version bump, and I'm not sure whether we're going to want to do that for 2.1 yet or not. When we are ready to update, we will certainly include your changes. However, I wanted to offer an explanation in case you don't see this merged right away.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728213014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728217355","html_url":"https://github.com/apache/accumulo/pull/1779#issuecomment-728217355","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1779","id":728217355,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODIxNzM1NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T17:41:15Z","updated_at":"2020-11-16T17:41:15Z","author_association":"CONTRIBUTOR","body":"@ctubbsii looking at these tests led me to open this ticket to examine this cache further: https://github.com/apache/accumulo/issues/1781","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728217355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728231263","html_url":"https://github.com/apache/accumulo/issues/1781#issuecomment-728231263","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1781","id":728231263,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODIzMTI2Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T18:06:39Z","updated_at":"2020-11-16T18:08:21Z","author_association":"MEMBER","body":"SoftReferences are cleaned up at the discretion of the Garbage Collector. They are kept around longer, which is better for caching, because it is more likely you'll get a cache hit. However, that's not how we're using this cache. We're using WeakReferences, specifically because we're only using it for deduplication/canonicalization, and *not* cache hit performance.  The javadoc for WeakReference says \"Weak references are most often used to implement canonicalizing mappings.\", which is how we are using it. The javadoc for SoftReference says \"Soft references are most often used to implement memory-sensitive caches.\", which is *not* how we are using it.\r\n\r\nI think what we have is correct. Also, this is a slight internal optimization so we don't have a ton of internal objects referring to the same table id (canonicalization for storage optimization), essentially the same as String interning. It is not something that is cached for performance/speed, as it is not speed-critical code, and I certainly don't think it would be worth making pluggable.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728231263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728235040","html_url":"https://github.com/apache/accumulo/issues/1781#issuecomment-728235040","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1781","id":728235040,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODIzNTA0MA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T18:13:09Z","updated_at":"2020-11-16T18:13:09Z","author_association":"CONTRIBUTOR","body":"OK sounds good.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728235040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728236123","html_url":"https://github.com/apache/accumulo/issues/1781#issuecomment-728236123","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1781","id":728236123,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODIzNjEyMw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T18:14:57Z","updated_at":"2020-11-16T18:14:57Z","author_association":"CONTRIBUTOR","body":"It is probably worth mentioning this in the code since there are no comments about the cacheing in the class.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728236123/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728239006","html_url":"https://github.com/apache/accumulo/issues/1781#issuecomment-728239006","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1781","id":728239006,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODIzOTAwNg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T18:20:10Z","updated_at":"2020-11-16T18:20:10Z","author_association":"MEMBER","body":"I will add some comments.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728239006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728250376","html_url":"https://github.com/apache/accumulo/issues/1781#issuecomment-728250376","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1781","id":728250376,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODI1MDM3Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T18:41:07Z","updated_at":"2020-11-16T18:41:07Z","author_association":"MEMBER","body":"Added comments in #1782","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728250376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728336907","html_url":"https://github.com/apache/accumulo/pull/1783#issuecomment-728336907","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1783","id":728336907,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODMzNjkwNw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T21:22:18Z","updated_at":"2020-11-16T21:22:18Z","author_association":"MEMBER","body":"@keith-turner I'm not sure how many threads it should use.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728336907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728347378","html_url":"https://github.com/apache/accumulo/pull/1774#issuecomment-728347378","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1774","id":728347378,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODM0NzM3OA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-16T21:44:42Z","updated_at":"2020-11-16T21:44:42Z","author_association":"CONTRIBUTOR","body":"> Actually, since `ShutdownTServer` looks like it's the only place where it is ever serialized, I'd probably prefer to drop `Serializable` altogether (still make the HostAndPort field final), and change `ShutdownTServer`'s serialization to use Strings instead. There's no reason we need to maintain serialization compatibility for `TServerLocation` when it's only ever serialized once, out of over 500 references in the code base.\r\n\r\nIn b735d2291bc59c416c I dropped the serialization of TServerInstance and made `ShutdownTServer` serialize HostAndPort and String instead.  I thought this was better since HostAndPort is actually serializable but is not using custom code.  Using the HostAndPort in `ShutdownTServer` made it easier to reconstruct `TServerInstance` in the FATE Operation. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728347378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728691754","html_url":"https://github.com/apache/accumulo/pull/1774#issuecomment-728691754","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1774","id":728691754,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODY5MTc1NA==","user":{"login":"keith-turner","id":1268739,"node_id":"MDQ6VXNlcjEyNjg3Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1268739?v=4","gravatar_id":"","url":"https://api.github.com/users/keith-turner","html_url":"https://github.com/keith-turner","followers_url":"https://api.github.com/users/keith-turner/followers","following_url":"https://api.github.com/users/keith-turner/following{/other_user}","gists_url":"https://api.github.com/users/keith-turner/gists{/gist_id}","starred_url":"https://api.github.com/users/keith-turner/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/keith-turner/subscriptions","organizations_url":"https://api.github.com/users/keith-turner/orgs","repos_url":"https://api.github.com/users/keith-turner/repos","events_url":"https://api.github.com/users/keith-turner/events{/privacy}","received_events_url":"https://api.github.com/users/keith-turner/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T05:16:50Z","updated_at":"2020-11-17T05:16:50Z","author_association":"CONTRIBUTOR","body":"> @ctubbsii @keith-turner Do you think the class TServerInstance needs to be serializable?\r\n\r\nI would guess some FATE ops use it.  Seems like @ctubbsii  found one.  Hopefully that is the only one and it can be removed.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728691754/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728931878","html_url":"https://github.com/apache/accumulo/pull/1780#issuecomment-728931878","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1780","id":728931878,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODkzMTg3OA==","user":{"login":"BukrosSzabolcs","id":45901354,"node_id":"MDQ6VXNlcjQ1OTAxMzU0","avatar_url":"https://avatars.githubusercontent.com/u/45901354?v=4","gravatar_id":"","url":"https://api.github.com/users/BukrosSzabolcs","html_url":"https://github.com/BukrosSzabolcs","followers_url":"https://api.github.com/users/BukrosSzabolcs/followers","following_url":"https://api.github.com/users/BukrosSzabolcs/following{/other_user}","gists_url":"https://api.github.com/users/BukrosSzabolcs/gists{/gist_id}","starred_url":"https://api.github.com/users/BukrosSzabolcs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BukrosSzabolcs/subscriptions","organizations_url":"https://api.github.com/users/BukrosSzabolcs/orgs","repos_url":"https://api.github.com/users/BukrosSzabolcs/repos","events_url":"https://api.github.com/users/BukrosSzabolcs/events{/privacy}","received_events_url":"https://api.github.com/users/BukrosSzabolcs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T13:37:31Z","updated_at":"2020-11-17T13:37:31Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I fully understand. Thank you for the explanation.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728931878/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728941910","html_url":"https://github.com/apache/accumulo/issues/1463#issuecomment-728941910","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1463","id":728941910,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODk0MTkxMA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T13:52:56Z","updated_at":"2020-11-17T13:52:56Z","author_association":"CONTRIBUTOR","body":"I was able to remove the beanutils references and compile the code. Some tests are failing and I'm a little confused as to why. The tests in `start` run just fine, but some of the tests in other modules fail with:\r\n\r\n```\r\nERROR] Tests run: 13, Failures: 0, Errors: 3, Skipped: 0, Time elapsed: 3.457 s <<< FAILURE! - in org.apache.accumulo.core.iterators.user.FilterTest\r\n[ERROR] test2a(org.apache.accumulo.core.iterators.user.FilterTest)  Time elapsed: 0.081 s  <<< ERROR!\r\njava.lang.Error: \r\nUnresolved compilation problems: \r\n\tThe type org.apache.commons.vfs2.FileSystemException cannot be resolved. It is indirectly referenced from required .class files\r\n\tThe method getClassLoader(String) from the type ContextManager refers to the missing type FileSystemException\r\n\r\n\tat org.apache.accumulo.core.iterators.user.FilterTest.test2a(FilterTest.java:233)\r\n```\r\n\r\nAlso, something to note is the output of `mvn dependency:tree`.  When run from `core` I see:\r\n```\r\n[INFO] +- org.apache.accumulo:accumulo-start:jar:2.1.0-SNAPSHOT:compile\r\n[INFO] |  +- org.apache.commons:commons-vfs2:jar:2.6.0:compile\r\n[INFO] |  \\- commons-beanutils:commons-beanutils:jar:1.9.4:runtime\r\n[INFO] |     \\- commons-collections:commons-collections:jar:3.2.2:runtime\r\n```\r\n\r\nBut `beanutils` has been removed as a dependency in the branch. Branch at https://github.com/dlmarion/accumulo/tree/1463-remove-beanutils\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728941910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728944114","html_url":"https://github.com/apache/accumulo/issues/1463#issuecomment-728944114","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1463","id":728944114,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODk0NDExNA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T13:56:25Z","updated_at":"2020-11-17T13:56:25Z","author_association":"CONTRIBUTOR","body":"I'll help investigate. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728944114/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728968941","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-728968941","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":728968941,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODk2ODk0MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T14:35:43Z","updated_at":"2020-11-17T14:41:22Z","author_association":"MEMBER","body":"@Manno15 Thanks for this. I saw a new build warning:\r\n\r\n```\r\n[WARNING] /home/runner/work/accumulo/accumulo/shell/src/main/java/org/apache/accumulo/shell/Shell.java:[623,13] shutdown() in jline.console.ConsoleReader has been deprecated\r\n```\r\n\r\nPresumably, this is because `ConsoleReader` is now `Closeable`. Is that warning something that you can fix?\r\n\r\nAlso, I'm running the full ITs myself, as a double-check, and will run some manual checks in the shell to see if there are any behavioral differences.\r\n\r\nAlso, do you know why the `\\t` changes in the tests were necessary? Were we always outputting `\\t`, and the console was replacing them with spaces?\r\n\r\nAlso, the original ticket mentioned the following additional things that I'm wondering if they need anything done for them:\r\n\r\n- [ ] Closing FileReader opened by FileHistory\r\n- [ ] The number in \"Display all n possibilities?\" differs from the actual number of commands listed\r\n- [ ] Upgrade to jansi 1.12\r\n- [ ] Default buffer is not printed correctly\r\n\r\nSome of these are lacking details, so it's not clear what was intended to be done for them, but did you look at any of those to see if those were necessary to address?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728968941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728971938","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-728971938","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":728971938,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODk3MTkzOA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T14:40:28Z","updated_at":"2020-11-17T14:51:06Z","author_association":"CONTRIBUTOR","body":"@ctubbsii I did not see that warning but I will take a look.\r\n\r\nThank you for taking another look at it for me. I did some checks on the shell myself and I noticed no issue.\r\n\r\nThe `\\t` changes were necessary because for some reason it would error out without them for the upgraded version but not for 2.11. It wouldn't accept that they were equal now. I noticed when I copy-pasted the result from the shell into the string it automatically added the `\\t` for me and it worked. That is what caused most of the errors from these changes. \r\n\r\nI suppose it is also possible to just strip out the `\\t` when we print to the shell. Maybe that would be a better change, we wouldn't have to make add the `\\t` in all the related IT's.\r\n\r\nI think the other things mentioned are just what else was fixed in 2.14.2. I noticed it was just copied from the release notes from Jline. Not sure if it was intended as something to add additional to the upgrade for accumulo.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728971938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728993817","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-728993817","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":728993817,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODk5MzgxNw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T15:13:22Z","updated_at":"2020-11-17T15:13:22Z","author_association":"MEMBER","body":"> @ctubbsii I did not see that warning but I will take a look.\r\n\r\nThanks.\r\n\r\n> I suppose it is also possible to just strip out the `\\t` when we print to the shell. Maybe that would be a better change, we wouldn't have to make add the `\\t` in all the related IT's.\r\n\r\nI think your change is fine. I was just curious why it previously worked.\r\n\r\n> I think the other things mentioned are just what else was fixed in 2.14.2. I noticed it was just copied from the release notes from Jline. Not sure if it was intended as something to add additional to the upgrade for accumulo.\r\n\r\nOkay, cool.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728993817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728994937","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-728994937","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":728994937,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODk5NDkzNw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T15:14:59Z","updated_at":"2020-11-17T15:14:59Z","author_association":"CONTRIBUTOR","body":"Yeah, I am not sure why it previously worked either. I couldn't find any details on what changed in Jline that would cause such a thing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728994937/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728995265","html_url":"https://github.com/apache/accumulo/issues/1463#issuecomment-728995265","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1463","id":728995265,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODk5NTI2NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T15:15:28Z","updated_at":"2020-11-17T15:15:28Z","author_association":"CONTRIBUTOR","body":"So, I ran `mvn clean install -DskipTests -DskipITs -Dspotbugs.skip` to install the snapshot jars without the dependency into my local Maven repo. `mvn clean test -Dspotbugs.skip -DskipITs` just completed successfully for me. Interesting...\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728995265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728996067","html_url":"https://github.com/apache/accumulo/issues/1463#issuecomment-728996067","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1463","id":728996067,"node_id":"MDEyOklzc3VlQ29tbWVudDcyODk5NjA2Nw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T15:16:38Z","updated_at":"2020-11-17T15:16:38Z","author_association":"CONTRIBUTOR","body":"Yeah, I am running the full test suite currently. I got past the issue you had and so far only one IT has failed. `IteratorEnvIT`. Not sure why as of yet. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/728996067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729002994","html_url":"https://github.com/apache/accumulo/issues/1463#issuecomment-729002994","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1463","id":729002994,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTAwMjk5NA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T15:27:18Z","updated_at":"2020-11-17T15:27:18Z","author_association":"MEMBER","body":"@dlmarion So, it seems like you might be using Maven a bit wrong, and it may be the reason you're seeing inconsistent results. `mvn test` generally only works in a multi-module project if all the modules are of `jar` or `pom` packaging type. That's not the case for all Accumulo modules. You should use `mvn package` which includes the `test` phase, in order to ensure all the modules have access to their sibling artifacts. It also works if you first do `mvn install`, but I would avoid that, because that taints your local maven repository with SNAPSHOT artifacts that can cause your subsequent builds to resolve local artifacts that are stale from a previous build rather than the current sibling artifacts in your multi-module project. There are cases where you need to use `mvn install` (to make a SNAPSHOT version of a dependency available to a separate project's build), but that's an edge case. Most of your builds should use `mvn package` or `mvn verify` as your build target in the [Maven build lifecycle](https://maven.apache.org/guides/introduction/introduction-to-the-lifecycle.html).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729002994/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729005324","html_url":"https://github.com/apache/accumulo/issues/1463#issuecomment-729005324","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1463","id":729005324,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTAwNTMyNA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T15:30:54Z","updated_at":"2020-11-17T15:30:54Z","author_association":"CONTRIBUTOR","body":"Interesting, I was just following the [test](https://github.com/apache/accumulo/blob/main/TESTING.md) instructions. Even my IDE was unhappy and the tests failed in the same manner until I installed the artifact.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729005324/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729006135","html_url":"https://github.com/apache/accumulo/issues/1463#issuecomment-729006135","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1463","id":729006135,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTAwNjEzNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T15:32:08Z","updated_at":"2020-11-17T15:52:56Z","author_association":"MEMBER","body":"> Interesting, I was just following the [test](https://github.com/apache/accumulo/blob/main/TESTING.md) instructions. Even my IDE was unhappy and the tests failed in the same manner until I installed the artifact.\r\n\r\nUgh, those instructions need to be fixed. (EDIT: done in 6bdda648309991149c786b0bcd005533e80456b7)","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729006135/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729010094","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-729010094","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":729010094,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTAxMDA5NA==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T15:35:55Z","updated_at":"2020-11-17T15:36:39Z","author_association":"CONTRIBUTOR","body":"> [WARNING] /home/runner/work/accumulo/accumulo/shell/src/main/java/org/apache/accumulo/shell/Shell.java:[623,13] shutdown() in jline.console.ConsoleReader has been deprecated\r\n\r\nI forgot to add the fix to this back. I kept switching from Jline versions so I took it out. The new function is now `close()`. I will make that change.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729010094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729038488","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-729038488","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":729038488,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTAzODQ4OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T16:20:05Z","updated_at":"2020-11-17T16:20:05Z","author_association":"MEMBER","body":"It looks like #1715 introduced a bunch of new build warnings, so they kind of dominate any that this might produce. I saw your change to use `close()`, and it probably fixes the warning I saw, but if not, it can be dealt with later. I wouldn't worry about it here. I'm just waiting on the ITs to pass for me before I approve.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729038488/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729091982","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-729091982","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":729091982,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTA5MTk4Mg==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T17:45:18Z","updated_at":"2020-11-17T17:45:18Z","author_association":"CONTRIBUTOR","body":"Made the changes you requested. I'm not sure what spam you were getting previously, but I did the following and did not get any results:\r\n\r\n```\r\nmvn clean verify -Psunny\r\nfind */target/surefire-reports -name *.txt -exec grep -H beanutils {} \\;\r\nfind */target/failsafe-reports -name *.txt -exec grep -H beanutils {} \\;\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729091982/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729093118","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-729093118","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":729093118,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTA5MzExOA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T17:47:21Z","updated_at":"2020-11-17T17:47:21Z","author_association":"CONTRIBUTOR","body":"Just realized I looked at the wrong files. Ran the following and didn't get any matches either:\r\n```\r\nfind */target/surefire-reports -name *-output.txt -exec grep -H beanutils {} \\;\r\nfind */target/failsafe-reports -name *-output.txt -exec grep -H beanutils {} \\;\r\n```","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729093118/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729113404","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-729113404","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":729113404,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTExMzQwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T18:20:26Z","updated_at":"2020-11-17T18:20:26Z","author_association":"MEMBER","body":"> Just realized I looked at the wrong files. Ran the following and didn't get any matches either:\r\n> \r\n> ```\r\n> find */target/surefire-reports -name *-output.txt -exec grep -H beanutils {} \\;\r\n> find */target/failsafe-reports -name *-output.txt -exec grep -H beanutils {} \\;\r\n> ```\r\n\r\nThe spam was in the log4j logs when starting up. They may show up in Mini logs, or maybe via Uno. You can see what I mean by removing the logging config changes without your other changes.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729113404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729120125","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-729120125","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":729120125,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTEyMDEyNQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T18:32:26Z","updated_at":"2020-11-17T18:32:26Z","author_association":"CONTRIBUTOR","body":"To be clear, you are saying that the spam is showing up in the master or tserver logs when starting Accumulo, and the entries in ` test/src/main/resources/log4j2-test.properties` suppress that? There are no logger settings in the `conf` directory for beanutils.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729120125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729140450","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-729140450","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":729140450,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTE0MDQ1MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T19:09:55Z","updated_at":"2020-11-17T19:09:55Z","author_association":"MEMBER","body":"I did see a test failure with `org.apache.accumulo.test.ShellIT.insertIntoSpecifiedTableTest`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729140450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729146670","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729146670","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729146670,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTE0NjY3MA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T19:20:31Z","updated_at":"2020-11-17T19:20:31Z","author_association":"CONTRIBUTOR","body":"Thanks for the contributions.  Just wanted to point out that the accumulo dev mailing list or the Accumulo slack channel (https://the-asf.slack.com/messages/CERNB8NDC) can be used if you have questions on impacts / secondary considerations.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729146670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729151190","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-729151190","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":729151190,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTE1MTE5MA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T19:28:52Z","updated_at":"2020-11-17T19:28:52Z","author_association":"MEMBER","body":"> To be clear, you are saying that the spam is showing up in the master or tserver logs when starting Accumulo, and the entries in ` test/src/main/resources/log4j2-test.properties` suppress that? There are no logger settings in the `conf` directory for beanutils.\r\n\r\nIf you do this on the `main` branch:\r\n\r\n```diff\r\n--- a/test/src/main/resources/log4j2-test.properties\r\n+++ b/test/src/main/resources/log4j2-test.properties\r\n@@ -121,3 +120,0 @@ logger.29.level = info\r\n-logger.30.name = org.apache.commons.beanutils.converters\r\n-logger.30.level = info\r\n-\r\n```\r\n\r\nThen, do `mvn clean verify -Dtest=blah -Psunny -Dspotbugs.skip -Dcheckstyle.skip`\r\n\r\nThen, do `grep converters test/target/mini-tests/org.apache.accumulo.test.functional.ReadWriteIT_interleaved/logs/*`\r\n\r\nYou will see them. You probably aren't seeing it because you're looking for `beanutil`, but our log4j configuration is set to only show the last two elements of the logger name, so the part with `beanutil` gets truncated.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729151190/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729190890","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-729190890","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":729190890,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTE5MDg5MA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T20:37:05Z","updated_at":"2020-11-17T20:37:05Z","author_association":"CONTRIBUTOR","body":"I ran the commands you gave me on the main branch (after removing the lines in the log4j properties file) and I saw the log statements you were talking about. Then I switched over to this branch and ran the same commands, nothing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729190890/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729245895","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729245895","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729245895,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTI0NTg5NQ==","user":{"login":"busbey","id":44891,"node_id":"MDQ6VXNlcjQ0ODkx","avatar_url":"https://avatars.githubusercontent.com/u/44891?v=4","gravatar_id":"","url":"https://api.github.com/users/busbey","html_url":"https://github.com/busbey","followers_url":"https://api.github.com/users/busbey/followers","following_url":"https://api.github.com/users/busbey/following{/other_user}","gists_url":"https://api.github.com/users/busbey/gists{/gist_id}","starred_url":"https://api.github.com/users/busbey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/busbey/subscriptions","organizations_url":"https://api.github.com/users/busbey/orgs","repos_url":"https://api.github.com/users/busbey/repos","events_url":"https://api.github.com/users/busbey/events{/privacy}","received_events_url":"https://api.github.com/users/busbey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T22:13:49Z","updated_at":"2020-11-17T22:13:49Z","author_association":"CONTRIBUTOR","body":"@ctubbsii is your request specifically that the PR be changed to allow for upgrades that maintain user credentials?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729245895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729246882","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729246882","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729246882,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTI0Njg4Mg==","user":{"login":"busbey","id":44891,"node_id":"MDQ6VXNlcjQ0ODkx","avatar_url":"https://avatars.githubusercontent.com/u/44891?v=4","gravatar_id":"","url":"https://api.github.com/users/busbey","html_url":"https://github.com/busbey","followers_url":"https://api.github.com/users/busbey/followers","following_url":"https://api.github.com/users/busbey/following{/other_user}","gists_url":"https://api.github.com/users/busbey/gists{/gist_id}","starred_url":"https://api.github.com/users/busbey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/busbey/subscriptions","organizations_url":"https://api.github.com/users/busbey/orgs","repos_url":"https://api.github.com/users/busbey/repos","events_url":"https://api.github.com/users/busbey/events{/privacy}","received_events_url":"https://api.github.com/users/busbey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T22:15:57Z","updated_at":"2020-11-17T22:15:57Z","author_association":"CONTRIBUTOR","body":"e.g. would an approach where the algorithm is configurable but defaults to the current SHA-256 be acceptable? that would allow existing users to continue to work as-is while allowing those with more stringent requirements to make a trade-off decision on starting from a new set of user credentials vs trying to get an exception in a certification process?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729246882/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729251958","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729251958","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729251958,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTI1MTk1OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T22:27:55Z","updated_at":"2020-11-17T22:27:55Z","author_association":"MEMBER","body":"> @ctubbsii is your request specifically that the PR be changed to allow for upgrades that maintain user credentials?\r\n\r\nI didn't necessarily have a request. Just an observation that merging this as-is would break users on upgrade, and that it overlapped with an old JIRA issue.\r\n\r\n> e.g. would an approach where the algorithm is configurable but defaults to the current SHA-256 be acceptable? that would allow existing users to continue to work as-is while allowing those with more stringent requirements to make a trade-off decision on starting from a new set of user credentials vs trying to get an exception in a certification process?\r\n\r\nThat approach would allow new users to use stronger hashing, while not affecting current users. However, if we make it configurable, that would provide a path for eager security-conscious users to break themselves by switching the algorithm. I think a better approach would be to implement an upgrade path to SHA-512 by detecting the old format when a user authenticates, and the system automatically replacing it with a new ZK node using the crypt(3) format with commons-codec. On startup, we can warn if there are any users in ZK that have passwords hashed with the old format, with instructions to authenticate to upgrade.\r\n\r\nThis would take care of the upgrade issue, ensure stronger security by default, would not allow users to break themselves, and would use a standard serialization that is robust in the face of new algorithms being added in future.\r\n\r\nIf somebody wants to do this, I know I would appreciate it, and I think it would add great value to the project. @BukrosSzabolcs is welcome to tackle it, if they are interested.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729251958/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729258281","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729258281","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729258281,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTI1ODI4MQ==","user":{"login":"busbey","id":44891,"node_id":"MDQ6VXNlcjQ0ODkx","avatar_url":"https://avatars.githubusercontent.com/u/44891?v=4","gravatar_id":"","url":"https://api.github.com/users/busbey","html_url":"https://github.com/busbey","followers_url":"https://api.github.com/users/busbey/followers","following_url":"https://api.github.com/users/busbey/following{/other_user}","gists_url":"https://api.github.com/users/busbey/gists{/gist_id}","starred_url":"https://api.github.com/users/busbey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/busbey/subscriptions","organizations_url":"https://api.github.com/users/busbey/orgs","repos_url":"https://api.github.com/users/busbey/repos","events_url":"https://api.github.com/users/busbey/events{/privacy}","received_events_url":"https://api.github.com/users/busbey/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T22:43:05Z","updated_at":"2020-11-17T22:43:05Z","author_association":"CONTRIBUTOR","body":"Given unlimited volunteer effort I agree that such an implementation would be nice.\r\n\r\nCan you think of a technical justification for a veto for the simpler incremental change where the hash is configurable, presuming it is paired with a suitable warning on compatibility?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729258281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729267575","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729267575","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729267575,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTI2NzU3NQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-17T23:05:42Z","updated_at":"2020-11-17T23:05:42Z","author_association":"CONTRIBUTOR","body":"Adding a change to the upgrade code is not that big of deal anymore, since it is now done in one spot.  There is already a method for upgrading data in ZK going from 2.0 to 2.1.  See https://github.com/apache/accumulo/blob/cccac86255cd2d0ecd49e791162ca5cdf07512b6/server/manager/src/main/java/org/apache/accumulo/master/upgrade/Upgrader9to10.java#L96","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729267575/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729290491","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729290491","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729290491,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTI5MDQ5MQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T00:10:35Z","updated_at":"2020-11-18T00:10:35Z","author_association":"MEMBER","body":"> would an approach where the algorithm is configurable but defaults to the current SHA-256 be acceptable?\r\n\r\nThis seems super reasonable to me.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729290491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729319342","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729319342","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729319342,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTMxOTM0Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T01:35:53Z","updated_at":"2020-11-18T01:35:53Z","author_association":"MEMBER","body":"> Given unlimited volunteer effort I agree that such an implementation would be nice.\r\n\r\nI was operating on the assumption that there was already an interested volunteer willing to pursue this a little bit. Is that not the case? I don't think the solution I explained above is that complex, and I'm happy to help as needed. I think this would be a good opportunity to encourage a contributor, if they are interested!\r\n\r\n> Can you think of a technical justification for a veto for the simpler incremental change where the hash is configurable, presuming it is paired with a suitable warning on compatibility?\r\n\r\nA possible technical justification for a veto would be that the Authenticator component is pluggable already, and there is no reason to implement half measures when a use case for specific Authenticator needs can already be satisfied with what's there now: copy/rename/replace hash/deploy... no change to Accumulo needed if all one wants to do is use SHA-512.\r\n\r\nMy hope in discussing the design of the preferred solution was to encourage a possible contribution from an interested party. If such a party does not exist, I would prefer to do it myself rather than go with an intermediate solution. However, my highest preference was to encourage a contributor effort. Vetoing was the last thing on my mind.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729319342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729320071","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729320071","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729320071,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTMyMDA3MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T01:38:16Z","updated_at":"2020-11-18T01:38:16Z","author_association":"MEMBER","body":"> Adding a change to the upgrade code is not that big of deal anymore, since it is now done in one spot. There is already a method for upgrading data in ZK going from 2.0 to 2.1. See\r\n> \r\n> https://github.com/apache/accumulo/blob/cccac86255cd2d0ecd49e791162ca5cdf07512b6/server/manager/src/main/java/org/apache/accumulo/master/upgrade/Upgrader9to10.java#L96\r\n\r\nThe problem with this upgrade code is that we can't upgrade our hashes without knowing the original passwords, and we don't know that until we can successfully authenticate using a provided password. We *might* be able to transform our existing passwords into something that is readable using commons-codec, but I doubt we use the salt exactly the same way.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729320071/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729606537","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-729606537","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":729606537,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTYwNjUzNw==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T11:05:29Z","updated_at":"2020-11-18T11:05:29Z","author_association":"CONTRIBUTOR","body":"That's because that test didn't exist on my branch... whoops. I updated my local branch and will push the fix. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729606537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729611969","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-729611969","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":729611969,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTYxMTk2OQ==","user":{"login":"Manno15","id":29436247,"node_id":"MDQ6VXNlcjI5NDM2MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/29436247?v=4","gravatar_id":"","url":"https://api.github.com/users/Manno15","html_url":"https://github.com/Manno15","followers_url":"https://api.github.com/users/Manno15/followers","following_url":"https://api.github.com/users/Manno15/following{/other_user}","gists_url":"https://api.github.com/users/Manno15/gists{/gist_id}","starred_url":"https://api.github.com/users/Manno15/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Manno15/subscriptions","organizations_url":"https://api.github.com/users/Manno15/orgs","repos_url":"https://api.github.com/users/Manno15/repos","events_url":"https://api.github.com/users/Manno15/events{/privacy}","received_events_url":"https://api.github.com/users/Manno15/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T11:16:08Z","updated_at":"2020-11-18T11:16:08Z","author_association":"CONTRIBUTOR","body":"I slightly messed things up trying to push the change. I was working from two different machines and things weren't aligned properly. I think I fixed it. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729611969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729819967","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729819967","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729819967,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTgxOTk2Nw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T17:09:08Z","updated_at":"2020-11-18T17:09:08Z","author_association":"MEMBER","body":"> My hope in discussing the design of the preferred solution was to encourage a possible contribution from an interested party. If such a party does not exist, I would prefer to do it myself rather than go with an intermediate solution\r\n\r\nMy only worry in this line of thinking is that it hinges on your seniority and can act as a form of exclusion. I would hope that we could accept the contribution that Szabolcs wants to do as long as it is not harmful. If you would want to later come along and change this, it would, of course, be in your purview to do so.\r\n\r\nWhen you say \"I'd rather it be done this way and I'll do it that way if you don't want to\", it removes all incentive for the contributor to stay engaged. My $0.02.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729819967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729877505","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729877505","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729877505,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTg3NzUwNQ==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T18:40:17Z","updated_at":"2020-11-18T18:40:17Z","author_association":"CONTRIBUTOR","body":"I was researching the PR and assessing the impact that Christopher pointed out - he just types faster.  I am also concerned with breaking existing installations and would need to see either an upgrade path or have it implemented as an option.  \r\n\r\nI tried to point out that we have a couple of communication channels available where we could work this out while encouraging additional contributions.  \r\n\r\nI did not want to see Szabolcs become frustrated if the PR was not immediately accepted - the code and the contribution are welcome, but there are additional considerations that may not be obvious at the start.  If there had been an issue / question raised first, or if there was a dialog, via email or slack, then maybe those could have worked out.  Taking the time and effort to create a code change is welcome, but engaging with the community first might alter the approach, make the change easier to integrate and would help ensure that everyone's interest and concerns are also addressed.\r\n\r\nThe intent of the PR is valid and I'm assuming being driven by a requirement, but there also is an obligation to the existing user base. I would not expect the community to accept allowing a change that broke existing installations on an upgrade without providing some path forward.  \r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729877505/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729896434","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729896434","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729896434,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTg5NjQzNA==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T19:15:33Z","updated_at":"2020-11-18T19:15:33Z","author_association":"MEMBER","body":"@EdColeman to clarify, the problem with making the change verbatim as it is now (s/256/512/) is understood and not being contested.\r\n\r\nThe question is: if using sha512 instead of sha256 was something which was configurable (opt-in via the user), and there was a contribution for that, would it be accepted? Christopher had stated that he would prefer that not happen, which is how we got into the current discussion.\r\n\r\nMy point was that there is _always_ a \"more elegant\" solution which can be had. If there is a simple solution which is not harmful, I would err on accepting such a solution (configurable PW Hash algorithm) and letting those with appetite build their elegant solutions on their own time.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729896434/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729917014","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729917014","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729917014,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkxNzAxNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T19:54:08Z","updated_at":"2020-11-18T19:54:08Z","author_association":"CONTRIBUTOR","body":"> If there is a simple solution which is not harmful, I would err on accepting such a solution (configurable PW Hash algorithm) and letting those with appetite build their elegant solutions on their own time.\r\n\r\nI think you missed part of what @ctubbsii said, pointing out how that solution would be harmful:\r\n>  However, if we make it configurable, that would provide a path for eager security-conscious users to break themselves by switching the algorithm.\r\n\r\nMaking it configurable is better but still potentially harmful and incomplete.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729917014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729920913","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729920913","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729920913,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkyMDkxMw==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T20:01:42Z","updated_at":"2020-11-18T20:01:42Z","author_association":"MEMBER","body":"> pointing out how that solution would be harmful\r\n\r\nI do not agree that \"lack of upgrade support\" is a harmful path when behind configuration. The only pain felt is when the user chooses to change this, and that would be pain they choose to self-inflict. Harm, to me, is something that a user could not avoid.\r\n\r\nPlease correct me if I've missed some subtlety as to how a configurable password algorithm would be considered harmful.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729920913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729936493","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729936493","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729936493,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTkzNjQ5Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T20:31:31Z","updated_at":"2020-11-18T20:31:31Z","author_association":"CONTRIBUTOR","body":"> I do not agree that \"lack of upgrade support\" is a harmful path when behind configuration. \r\n\r\nI was not saying \"lack of upgrade support\" is harmful.  I was saying providing the user with a way to easily harm themselves would be when they believe they are improving the security of their system.\r\n\r\n> The only pain felt is when the user chooses to change this, and that would be pain they choose to self-inflict. Harm, to me, is something that a user could not avoid.\r\n\r\nHarmful or not, this is dangerous.  Best case scenario for an existing cluster would be that Accumulo just won't start.  Worst case would be locking users out of a system and having to re-initialize a completely new cluster.  I don't know what would happen without testing.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729936493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729940641","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729940641","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729940641,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTk0MDY0MQ==","user":{"login":"joshelser","id":67863,"node_id":"MDQ6VXNlcjY3ODYz","avatar_url":"https://avatars.githubusercontent.com/u/67863?v=4","gravatar_id":"","url":"https://api.github.com/users/joshelser","html_url":"https://github.com/joshelser","followers_url":"https://api.github.com/users/joshelser/followers","following_url":"https://api.github.com/users/joshelser/following{/other_user}","gists_url":"https://api.github.com/users/joshelser/gists{/gist_id}","starred_url":"https://api.github.com/users/joshelser/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/joshelser/subscriptions","organizations_url":"https://api.github.com/users/joshelser/orgs","repos_url":"https://api.github.com/users/joshelser/repos","events_url":"https://api.github.com/users/joshelser/events{/privacy}","received_events_url":"https://api.github.com/users/joshelser/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T20:40:13Z","updated_at":"2020-11-18T20:40:13Z","author_association":"MEMBER","body":"> I was not saying \"lack of upgrade support\" is harmful. I was saying providing the user with a way to easily harm themselves would be when they believe they are improving the security of their system.\r\n\r\nThat is why we have documentation. If you want to see documentation with such a configuration option, please say that. If you want something else to come along with a configuration option, please say exactly what you'd want to see.\r\n\r\nI'm trying to take what is very lofty \"harmful\" assertions and get these translated into specific, tangible issues that aren't just \"this could be bad\".","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729940641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729954233","html_url":"https://github.com/apache/accumulo/issues/1463#issuecomment-729954233","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1463","id":729954233,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTk1NDIzMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T21:08:19Z","updated_at":"2020-11-18T21:08:19Z","author_association":"MEMBER","body":"This was closed by #1786 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729954233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729968918","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729968918","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729968918,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTk2ODkxOA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T21:31:48Z","updated_at":"2020-11-18T21:31:48Z","author_association":"CONTRIBUTOR","body":"> That is why we have documentation. If you want to see documentation with such a configuration option, please say that. If you want something else to come along with a configuration option, please say exactly what you'd want to see.\r\n\r\nI created an GitHub issue: https://github.com/apache/accumulo/issues/1788","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729968918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729975604","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-729975604","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":729975604,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTk3NTYwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T21:45:13Z","updated_at":"2020-11-18T21:45:13Z","author_association":"MEMBER","body":"@BukrosSzabolcs Since you opened this issue, I would like to ask if you are interested in contributing to the design I proposed, or if you are interested in contributing to the configurable solution proposed by others (with the understanding that it may be replaced by a different implementation in future), or if you have any suggestions for a different design that addresses some of the concerns raised here. Or, would implementing your own alternate implementation of the pluggable Authenticator interface be adequate to meet your needs until Accumulo has updated its implementation?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729975604/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729977155","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-729977155","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":729977155,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTk3NzE1NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T21:48:26Z","updated_at":"2020-11-18T21:48:26Z","author_association":"MEMBER","body":"This seems to be in high demand, so I'll mark this as something to do for 2.1.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729977155/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729988483","html_url":"https://github.com/apache/accumulo/issues/1789#issuecomment-729988483","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1789","id":729988483,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTk4ODQ4Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T22:10:33Z","updated_at":"2020-11-18T22:10:33Z","author_association":"CONTRIBUTOR","body":"This test passes for me locally.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729988483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729992592","html_url":"https://github.com/apache/accumulo/issues/1789#issuecomment-729992592","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1789","id":729992592,"node_id":"MDEyOklzc3VlQ29tbWVudDcyOTk5MjU5Mg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-18T22:18:09Z","updated_at":"2020-11-18T22:18:09Z","author_association":"MEMBER","body":"> This test passes for me locally.\r\n\r\nMe too... however, this part of the code is important enough that it makes sense to take a closer look to see if we can figure out which circumstances could have caused this and to address it.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/729992592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730152177","html_url":"https://github.com/apache/accumulo/pull/1784#issuecomment-730152177","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1784","id":730152177,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDE1MjE3Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T06:09:07Z","updated_at":"2020-11-19T06:09:07Z","author_association":"MEMBER","body":"I re-ran the ITs, and saw failures in VolumeIT... but that should be unrelated. I'm going to investigate a little bit first, before merging.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730152177/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730402159","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-730402159","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":730402159,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQwMjE1OQ==","user":{"login":"BukrosSzabolcs","id":45901354,"node_id":"MDQ6VXNlcjQ1OTAxMzU0","avatar_url":"https://avatars.githubusercontent.com/u/45901354?v=4","gravatar_id":"","url":"https://api.github.com/users/BukrosSzabolcs","html_url":"https://github.com/BukrosSzabolcs","followers_url":"https://api.github.com/users/BukrosSzabolcs/followers","following_url":"https://api.github.com/users/BukrosSzabolcs/following{/other_user}","gists_url":"https://api.github.com/users/BukrosSzabolcs/gists{/gist_id}","starred_url":"https://api.github.com/users/BukrosSzabolcs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BukrosSzabolcs/subscriptions","organizations_url":"https://api.github.com/users/BukrosSzabolcs/orgs","repos_url":"https://api.github.com/users/BukrosSzabolcs/repos","events_url":"https://api.github.com/users/BukrosSzabolcs/events{/privacy}","received_events_url":"https://api.github.com/users/BukrosSzabolcs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T14:13:10Z","updated_at":"2020-11-19T14:13:10Z","author_association":"CONTRIBUTOR","body":"I would like to thank everyone for the feedback, now I can see this change was a \"bit\" rushed. Sorry for not communicating my intentions on other channels I was under the impression the PR would suffice. I'll look up the slack channel to avoid issues like this in the future.\r\n@ctubbsii I like the design proposed in ACCUMULO-4044. I would be happy to contribute.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730402159/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730427893","html_url":"https://github.com/apache/accumulo/pull/1787#issuecomment-730427893","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1787","id":730427893,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQyNzg5Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T14:54:13Z","updated_at":"2020-11-19T14:54:13Z","author_association":"MEMBER","body":"> @ctubbsii I like the design proposed in ACCUMULO-4044. I would be happy to contribute.\r\n\r\nAwesome! Let me know if I can be of any help.\r\n\r\nAnd, thank you for your interest in Accumulo, and your patience in the process. Sometimes the process is turbulent, but I'm confident we can all work together to make Accumulo even better in the end!\r\n\r\nI'll close this current PR, so we can start fresh with a new conversation when things have progressed to a new PR, but feel free to continue to comment here or on the tracking issue Mike created and linked above, if there's more to discuss (or the mailing list or Slack).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730427893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730437715","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-730437715","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":730437715,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQzNzcxNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T15:08:57Z","updated_at":"2020-11-19T15:08:57Z","author_association":"MEMBER","body":"For reference, commons-digest can perform crypt(3)-compatible hashing: https://commons.apache.org/proper/commons-codec/apidocs/org/apache/commons/codec/digest/Crypt.html\r\n\r\nI suspect our custom algorithm is not possible to convert into something that is crypt(3)-compatible. However, if it is, then the ideal solution on upgrade is to convert our existing ZooKeeper stored hashes into this format. If that is not possible, then the next best solution would be to warn on startup and then do the convert-on-authentication, as described in https://github.com/apache/accumulo/pull/1787#issuecomment-729251958\r\n\r\nThe startup warning could look something like: `The password hash for user X is stored in an older format. It is recommended that X authenticate and change their password to convert to the new format.`","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730437715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730441145","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-730441145","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":730441145,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ0MTE0NQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T15:14:02Z","updated_at":"2020-11-19T15:14:02Z","author_association":"MEMBER","body":"Once the format is written in a way that we can detect the algorithm used to hash when we authenticate, then it will be safe to make the default algorithm configurable. However, it might make more sense to prefer the default algorithm of commons-codec (currently SHA-512).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730441145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730441425","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-730441425","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":730441425,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ0MTQyNQ==","user":{"login":"BukrosSzabolcs","id":45901354,"node_id":"MDQ6VXNlcjQ1OTAxMzU0","avatar_url":"https://avatars.githubusercontent.com/u/45901354?v=4","gravatar_id":"","url":"https://api.github.com/users/BukrosSzabolcs","html_url":"https://github.com/BukrosSzabolcs","followers_url":"https://api.github.com/users/BukrosSzabolcs/followers","following_url":"https://api.github.com/users/BukrosSzabolcs/following{/other_user}","gists_url":"https://api.github.com/users/BukrosSzabolcs/gists{/gist_id}","starred_url":"https://api.github.com/users/BukrosSzabolcs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BukrosSzabolcs/subscriptions","organizations_url":"https://api.github.com/users/BukrosSzabolcs/orgs","repos_url":"https://api.github.com/users/BukrosSzabolcs/repos","events_url":"https://api.github.com/users/BukrosSzabolcs/events{/privacy}","received_events_url":"https://api.github.com/users/BukrosSzabolcs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T15:14:25Z","updated_at":"2020-11-19T15:14:52Z","author_association":"CONTRIBUTOR","body":"The crypt hash results has very rigid format with fixed id and salt length (if the default salt is used) so recognizing a crypt hash is very easy. Theoretically I think an overlap with the old hash format is possible but highly unlikely. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730441425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730443985","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-730443985","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":730443985,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ0Mzk4NQ==","user":{"login":"BukrosSzabolcs","id":45901354,"node_id":"MDQ6VXNlcjQ1OTAxMzU0","avatar_url":"https://avatars.githubusercontent.com/u/45901354?v=4","gravatar_id":"","url":"https://api.github.com/users/BukrosSzabolcs","html_url":"https://github.com/BukrosSzabolcs","followers_url":"https://api.github.com/users/BukrosSzabolcs/followers","following_url":"https://api.github.com/users/BukrosSzabolcs/following{/other_user}","gists_url":"https://api.github.com/users/BukrosSzabolcs/gists{/gist_id}","starred_url":"https://api.github.com/users/BukrosSzabolcs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BukrosSzabolcs/subscriptions","organizations_url":"https://api.github.com/users/BukrosSzabolcs/orgs","repos_url":"https://api.github.com/users/BukrosSzabolcs/repos","events_url":"https://api.github.com/users/BukrosSzabolcs/events{/privacy}","received_events_url":"https://api.github.com/users/BukrosSzabolcs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T15:18:13Z","updated_at":"2020-11-19T15:18:13Z","author_association":"CONTRIBUTOR","body":"I would also prefer to rely on the default algorithm and use no custom hash, since the default is the most robust solution. Any change the customer could do would only weaken the hash.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730443985/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730468559","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-730468559","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":730468559,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ2ODU1OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T15:56:15Z","updated_at":"2020-11-19T15:56:47Z","author_association":"MEMBER","body":"> The crypt hash results has very rigid format with fixed id and salt length (if the default salt is used) so recognizing a crypt hash is very easy. Theoretically I think an overlap with the old hash format is possible but highly unlikely.\r\n\r\nI initially came to the same conclusion. However, the length of our current salt + sha-256 hash should be 40 bytes, exactly, and it's not possible for any of the algorithms supported by commons-codec to produce an encrypted String of that length. So, if we check the length, we can guarantee no overlap.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730468559/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730474608","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-730474608","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":730474608,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ3NDYwOA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T16:05:18Z","updated_at":"2020-11-19T16:05:18Z","author_association":"MEMBER","body":"Also, I was able to verify that we cannot naively convert our existing hashes to the crypt(3) format on upgrade, because we use an unconstrained 8 byte salt, but the crypt(3) format (at least, as implemented by commons-codec) is constrained to choosing a salt from the B64T character set. We could, in theory, encode our current hashes to the proper String encoding, but the constraint on the salt bytes is a blocker. So, the only path forward would be to convert on authenticate, and generate a new salt. At least, we can use the same ZooKeeper node, since we now know the length will be different, and there won't be any overlap with the old format.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730474608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730485876","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-730485876","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":730485876,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ4NTg3Ng==","user":{"login":"BukrosSzabolcs","id":45901354,"node_id":"MDQ6VXNlcjQ1OTAxMzU0","avatar_url":"https://avatars.githubusercontent.com/u/45901354?v=4","gravatar_id":"","url":"https://api.github.com/users/BukrosSzabolcs","html_url":"https://github.com/BukrosSzabolcs","followers_url":"https://api.github.com/users/BukrosSzabolcs/followers","following_url":"https://api.github.com/users/BukrosSzabolcs/following{/other_user}","gists_url":"https://api.github.com/users/BukrosSzabolcs/gists{/gist_id}","starred_url":"https://api.github.com/users/BukrosSzabolcs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BukrosSzabolcs/subscriptions","organizations_url":"https://api.github.com/users/BukrosSzabolcs/orgs","repos_url":"https://api.github.com/users/BukrosSzabolcs/repos","events_url":"https://api.github.com/users/BukrosSzabolcs/events{/privacy}","received_events_url":"https://api.github.com/users/BukrosSzabolcs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T16:23:45Z","updated_at":"2020-11-19T16:23:45Z","author_association":"CONTRIBUTOR","body":"> > The crypt hash results has very rigid format with fixed id and salt length (if the default salt is used) so recognizing a crypt hash is very easy. Theoretically I think an overlap with the old hash format is possible but highly unlikely.\r\n> \r\n> I initially came to the same conclusion. However, the length of our current salt + sha-256 hash should be 40 bytes, exactly, and it's not possible for any of the algorithms supported by commons-codec to produce an encrypted String of that length. So, if we check the length, we can guarantee no overlap.\r\n\r\nMy solution was to try matching the zkData to \"^\\\\$([56])\\\\$(rounds=(\\\\d+)\\\\$)?([\\\\.\\\\/a-zA-Z0-9]{1,16})\\\\$(.*)\", to see if it was created by Crypt, but checking the length seems simpler.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730485876/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730495743","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-730495743","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":730495743,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDQ5NTc0Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T16:40:17Z","updated_at":"2020-11-19T16:40:17Z","author_association":"MEMBER","body":"@dlmarion This change seems to have caused a regression. VolumeIT is failing, seemingly due to something related to SetGoalState. I am not sure exactly what is broken, but it could be the use of `FileReader` for arguments passed in as URLs. Some test files may be stored in jars, and my suspicion is that you cannot do `url.toFile()` for these. I'm also seeing errors reading Metrics configuration files, likely due to the same reason, because the config properties are probably contained in a jar, and we need to have a Reader that uses the URL directly, rather than call `toFile()`. This is only a theory at this point.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730495743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730507358","html_url":"https://github.com/apache/accumulo/issues/1794#issuecomment-730507358","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1794","id":730507358,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUwNzM1OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T16:59:39Z","updated_at":"2020-11-19T16:59:39Z","author_association":"MEMBER","body":"Hi @dlmarion ; I created a ticket for this in JIRA awhile back (https://issues.apache.org/jira/browse/ACCUMULO-1483), but marked it as \"Won't Fix\", because it may be obsoleted by the availability of Java modules for exposing API classes/packages.\r\n\r\nAlso, I'm not sure this has much value on its own, because it would involve dynamic loading of the implementation classes from the class path (probably using the Java service loader), and possibly relocating API class names. I remember discussing this during the new 2.0.0 client API's development, and it may have been rejected, because it would have resulted in too much churn.\r\n\r\nDid you have a specific goal in mind here?","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730507358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730520390","html_url":"https://github.com/apache/accumulo/issues/1794#issuecomment-730520390","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1794","id":730520390,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUyMDM5MA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T17:21:33Z","updated_at":"2020-11-19T17:21:33Z","author_association":"CONTRIBUTOR","body":"@ctubbsii - This [comment](https://issues.apache.org/jira/browse/ACCUMULO-1483?focusedCommentId=13674603&page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13674603) from you sums up nicely what I was thinking about:\r\n\r\n> I also want a separate API-only artifact that includes an even more minimal set of dependencies that is just needed to compile against our public API, but that's a separate issue, and may require a whole new client package (to get rid of things like Text).\r\n\r\nI was thinking of a client api jar (that should be mostly, if not all, interfaces) so that I could deprecate the API methods that use Text.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730520390/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730525348","html_url":"https://github.com/apache/accumulo/issues/1794#issuecomment-730525348","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1794","id":730525348,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUyNTM0OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T17:30:15Z","updated_at":"2020-11-19T17:30:15Z","author_association":"MEMBER","body":"I think this kind of thing should be a \"major release\" kind of change, to avoid breaking too many expectations with 2.x. But, I'm not sure it's necessary, if we can get leverage modules. It also may introduce too much API churn, if we rename the packages to match our convention of having package names match artifact names. If we don't rename packages, it can create jar sealing violations or user confusion when trying to locate which jar they need on their class path for a given API.\r\n\r\nThis was originally something I had wanted to do for 2.0.0, but didn't make it in. I think it could be something to consider for 3.0.0.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730525348/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730530216","html_url":"https://github.com/apache/accumulo/issues/1794#issuecomment-730530216","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1794","id":730530216,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDUzMDIxNg==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T17:38:28Z","updated_at":"2020-11-19T17:38:28Z","author_association":"CONTRIBUTOR","body":"For reference, here is some research I did last year about Java Modules: https://github.com/apache/accumulo/issues/1434\r\nTo summarize my findings... it may be possible to use Modules in the future but will require some adoption by our dependencies which is difficult/slow and/or may never happen.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730530216/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730547399","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-730547399","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":730547399,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDU0NzM5OQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T18:10:06Z","updated_at":"2020-11-19T18:10:06Z","author_association":"MEMBER","body":"> @dlmarion This change seems to have caused a regression. VolumeIT is failing, seemingly due to something related to SetGoalState. I am not sure exactly what is broken, but it could be the use of `FileReader` for arguments passed in as URLs. Some test files may be stored in jars, and my suspicion is that you cannot do `url.toFile()` for these. I'm also seeing errors reading Metrics configuration files, likely due to the same reason, because the config properties are probably contained in a jar, and we need to have a Reader that uses the URL directly, rather than call `toFile()`. This is only a theory at this point.\r\n\r\nI believe I have fixed it in #1795 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730547399/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730553970","html_url":"https://github.com/apache/accumulo/pull/1786#issuecomment-730553970","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1786","id":730553970,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDU1Mzk3MA==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T18:22:33Z","updated_at":"2020-11-19T18:22:33Z","author_association":"CONTRIBUTOR","body":"Looks good. Thanks for the assist.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730553970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730647051","html_url":"https://github.com/apache/accumulo/pull/1795#issuecomment-730647051","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1795","id":730647051,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDY0NzA1MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T21:27:16Z","updated_at":"2020-11-19T21:27:16Z","author_association":"MEMBER","body":"Finally figured out the problem. VolumeIT needs to update an existing config file, so it needs to read the old one, update it, then write a new one. The old FileBasedConfigurationBuilder code that was changed in #1786 was not obvious that it needed to both read and write. I have a fix incoming.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730647051/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730664661","html_url":"https://github.com/apache/accumulo/pull/1797#issuecomment-730664661","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1797","id":730664661,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDY2NDY2MQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T22:02:26Z","updated_at":"2020-11-19T22:02:26Z","author_association":"MEMBER","body":"> Would it be worth considering updating the final six to take the -t/--table prefix in order to provide consistency?\r\n\r\nNo, I don't think so. For those commands, the table is a required parameter, because they are specifically operating on a table. It's a little confusing that a command might have the table as a required argument, and another command has it as an option, but I think it's even more confusing when there's both an argument *and* an option.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730664661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730667647","html_url":"https://github.com/apache/accumulo/pull/1797#issuecomment-730667647","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1797","id":730667647,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDY2NzY0Nw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T22:08:06Z","updated_at":"2020-11-19T22:08:06Z","author_association":"MEMBER","body":"It would be good to add your comment above to the original issue (#1797), and to ensure the log message for the commits in this PR only describe what they did in that specific commit. If this PR closes that issue, it should reference it in its log message somewhere with [one of the closing key words](https://docs.github.com/en/enterprise/2.16/user/github/managing-your-work-on-github/closing-issues-using-keywords).","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730667647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730675914","html_url":"https://github.com/apache/accumulo/pull/1796#issuecomment-730675914","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1796","id":730675914,"node_id":"MDEyOklzc3VlQ29tbWVudDczMDY3NTkxNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-19T22:25:57Z","updated_at":"2020-11-19T22:25:57Z","author_association":"CONTRIBUTOR","body":"Running full ITs here: https://github.com/milleruntime/accumulo/actions/runs/373232410","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/730675914/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731150147","html_url":"https://github.com/apache/accumulo/pull/1797#issuecomment-731150147","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1797","id":731150147,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTE1MDE0Nw==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T12:46:28Z","updated_at":"2020-11-20T12:46:28Z","author_association":"CONTRIBUTOR","body":"Updated the original ticket to contain most of the info that was initially in this commit message and trimmed down this commit message to only the work that was done.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731150147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731188588","html_url":"https://github.com/apache/accumulo/pull/1797#issuecomment-731188588","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1797","id":731188588,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTE4ODU4OA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T14:03:53Z","updated_at":"2020-11-20T14:03:53Z","author_association":"MEMBER","body":"> Updated the original ticket to contain most of the info that was initially in this commit message and trimmed down this commit message to only the work that was done.\r\n\r\nI see you edited the description in the ticket, but the commit in the PR still has the longer commit message. You'll want to edit that while merging if you merge from the GitHub website UI.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731188588/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731189333","html_url":"https://github.com/apache/accumulo/pull/1797#issuecomment-731189333","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1797","id":731189333,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTE4OTMzMw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T14:05:22Z","updated_at":"2020-11-20T14:05:22Z","author_association":"MEMBER","body":"For this PR, the best description would be: \"Add table option to shell delete command\"","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731189333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731198138","html_url":"https://github.com/apache/accumulo/issues/1788#issuecomment-731198138","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1788","id":731198138,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTE5ODEzOA==","user":{"login":"BukrosSzabolcs","id":45901354,"node_id":"MDQ6VXNlcjQ1OTAxMzU0","avatar_url":"https://avatars.githubusercontent.com/u/45901354?v=4","gravatar_id":"","url":"https://api.github.com/users/BukrosSzabolcs","html_url":"https://github.com/BukrosSzabolcs","followers_url":"https://api.github.com/users/BukrosSzabolcs/followers","following_url":"https://api.github.com/users/BukrosSzabolcs/following{/other_user}","gists_url":"https://api.github.com/users/BukrosSzabolcs/gists{/gist_id}","starred_url":"https://api.github.com/users/BukrosSzabolcs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BukrosSzabolcs/subscriptions","organizations_url":"https://api.github.com/users/BukrosSzabolcs/orgs","repos_url":"https://api.github.com/users/BukrosSzabolcs/repos","events_url":"https://api.github.com/users/BukrosSzabolcs/events{/privacy}","received_events_url":"https://api.github.com/users/BukrosSzabolcs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T14:21:13Z","updated_at":"2020-11-20T14:21:13Z","author_association":"CONTRIBUTOR","body":"Created  #1798","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731198138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731240094","html_url":"https://github.com/apache/accumulo/issues/1776#issuecomment-731240094","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1776","id":731240094,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI0MDA5NA==","user":{"login":"EdColeman","id":7047700,"node_id":"MDQ6VXNlcjcwNDc3MDA=","avatar_url":"https://avatars.githubusercontent.com/u/7047700?v=4","gravatar_id":"","url":"https://api.github.com/users/EdColeman","html_url":"https://github.com/EdColeman","followers_url":"https://api.github.com/users/EdColeman/followers","following_url":"https://api.github.com/users/EdColeman/following{/other_user}","gists_url":"https://api.github.com/users/EdColeman/gists{/gist_id}","starred_url":"https://api.github.com/users/EdColeman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/EdColeman/subscriptions","organizations_url":"https://api.github.com/users/EdColeman/orgs","repos_url":"https://api.github.com/users/EdColeman/repos","events_url":"https://api.github.com/users/EdColeman/events{/privacy}","received_events_url":"https://api.github.com/users/EdColeman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T15:36:30Z","updated_at":"2020-11-20T15:36:30Z","author_association":"CONTRIBUTOR","body":"Mark, thanks for picking this up - when scripting, needed to switch into a table before being able to run a command was a pain point.  \r\n\r\nAs for then it comes to requiring or having -t as an option on the remaining six - my inclination is to always have -t available so the commands take consistent input rather than needing to remember that those six are outliers.  However, there are two that stand out - clonetable and renametable - they take two table names so if only -t was added it could leave confusion unless there was -t (source?) and -n (destination) or something. Without two switches, what table is specified by -t (I'd assume the source, but...)\r\n\r\nWith these six, the intent is clear that they require a table name, so its fine either way - just wanted to weigh my preference is for consistency over brevity when possible.  For me, the extra typing required if -t was always required is less mental effort than needing to remember when -t not available.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731240094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731244194","html_url":"https://github.com/apache/accumulo/pull/1797#issuecomment-731244194","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1797","id":731244194,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI0NDE5NA==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T15:43:32Z","updated_at":"2020-11-20T15:44:28Z","author_association":"CONTRIBUTOR","body":"@ctubbsii, thanks for catching the missing test cases. Guess I had been using stand alone test scripts and forgot to transfer them over.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731244194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731250543","html_url":"https://github.com/apache/accumulo/pull/1796#issuecomment-731250543","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1796","id":731250543,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI1MDU0Mw==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T15:55:06Z","updated_at":"2020-11-20T15:55:06Z","author_association":"CONTRIBUTOR","body":"I saw the periodic failure in #1574 but the IT passed when I ran it again.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731250543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731251336","html_url":"https://github.com/apache/accumulo/issues/1776#issuecomment-731251336","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1776","id":731251336,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTI1MTMzNg==","user":{"login":"jmark99","id":31573345,"node_id":"MDQ6VXNlcjMxNTczMzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31573345?v=4","gravatar_id":"","url":"https://api.github.com/users/jmark99","html_url":"https://github.com/jmark99","followers_url":"https://api.github.com/users/jmark99/followers","following_url":"https://api.github.com/users/jmark99/following{/other_user}","gists_url":"https://api.github.com/users/jmark99/gists{/gist_id}","starred_url":"https://api.github.com/users/jmark99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jmark99/subscriptions","organizations_url":"https://api.github.com/users/jmark99/orgs","repos_url":"https://api.github.com/users/jmark99/repos","events_url":"https://api.github.com/users/jmark99/events{/privacy}","received_events_url":"https://api.github.com/users/jmark99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T15:56:29Z","updated_at":"2020-11-20T15:56:29Z","author_association":"CONTRIBUTOR","body":"I tend to side with the consistency argument that you present. Granted, with the commands that do not have the option, it is pretty clear that a table name is required. So I can go either way. @ctubbsii commented on the PR with his preference if you would like to take a look. You are correct that the clonetable and renametable would have to be handled slightly differently. Perhaps a few others can weigh in before we decide if we should proceed with additional work. As @ctubbsii pointed out, it could be confusing to have commands that can work without the option as well as taking the option. But it is not unprecedented as eight of the commands already do that.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731251336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731349656","html_url":"https://github.com/apache/accumulo/pull/1799#issuecomment-731349656","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1799","id":731349656,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTM0OTY1Ng==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T18:54:54Z","updated_at":"2020-11-20T18:54:54Z","author_association":"CONTRIBUTOR","body":"This is done but still needs a way to get `Set<TServerInstance> liveTServers`.  So once this is merged I can add method to get the set of live tservers.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731349656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731412675","html_url":"https://github.com/apache/accumulo/pull/1801#issuecomment-731412675","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1801","id":731412675,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQxMjY3NQ==","user":{"login":"dlmarion","id":567911,"node_id":"MDQ6VXNlcjU2NzkxMQ==","avatar_url":"https://avatars.githubusercontent.com/u/567911?v=4","gravatar_id":"","url":"https://api.github.com/users/dlmarion","html_url":"https://github.com/dlmarion","followers_url":"https://api.github.com/users/dlmarion/followers","following_url":"https://api.github.com/users/dlmarion/following{/other_user}","gists_url":"https://api.github.com/users/dlmarion/gists{/gist_id}","starred_url":"https://api.github.com/users/dlmarion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dlmarion/subscriptions","organizations_url":"https://api.github.com/users/dlmarion/orgs","repos_url":"https://api.github.com/users/dlmarion/repos","events_url":"https://api.github.com/users/dlmarion/events{/privacy}","received_events_url":"https://api.github.com/users/dlmarion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T21:19:53Z","updated_at":"2020-11-20T21:19:53Z","author_association":"CONTRIBUTOR","body":"@ericnewton - do you happen to remember anything about this test. Is it important that five tables are created? It seems that this is testing that we read from all the files that are created.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731412675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731464799","html_url":"https://github.com/apache/accumulo/issues/1533#issuecomment-731464799","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1533","id":731464799,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ2NDc5OQ==","user":{"login":"lbschanno","id":52420215,"node_id":"MDQ6VXNlcjUyNDIwMjE1","avatar_url":"https://avatars.githubusercontent.com/u/52420215?v=4","gravatar_id":"","url":"https://api.github.com/users/lbschanno","html_url":"https://github.com/lbschanno","followers_url":"https://api.github.com/users/lbschanno/followers","following_url":"https://api.github.com/users/lbschanno/following{/other_user}","gists_url":"https://api.github.com/users/lbschanno/gists{/gist_id}","starred_url":"https://api.github.com/users/lbschanno/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lbschanno/subscriptions","organizations_url":"https://api.github.com/users/lbschanno/orgs","repos_url":"https://api.github.com/users/lbschanno/repos","events_url":"https://api.github.com/users/lbschanno/events{/privacy}","received_events_url":"https://api.github.com/users/lbschanno/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-20T23:50:04Z","updated_at":"2020-11-20T23:50:04Z","author_association":"CONTRIBUTOR","body":"@plainolneesh has requested that I take over this ticket. I've submitted a PR with the fix.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731464799/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731479435","html_url":"https://github.com/apache/accumulo/issues/1776#issuecomment-731479435","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1776","id":731479435,"node_id":"MDEyOklzc3VlQ29tbWVudDczMTQ3OTQzNQ==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-21T00:58:21Z","updated_at":"2020-11-21T00:58:21Z","author_association":"MEMBER","body":"The main concern with adding the option when it's already a required argument is confusion. A user might not know which to specify. They might specify both. What if the user specified both and they were different?! We'd have to add unnecessary complexity to report errors in those cases that we can avoid by limiting it to just the existing required arguments in those cases. I also prefer consistency, but another way to adhere to consistency is to be consistent between versions, rather than be consistent between commands. For those commands, since the required argument is already present, and it would add confusion and complexity to handle, I'm inclined to prefer consistency with previous versions. The scripting use case already works for these, so there's little compelling reason to at the option to these, in my opinion. But, if they are added, it can be done in a separate PR.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/731479435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732337856","html_url":"https://github.com/apache/accumulo/pull/1676#issuecomment-732337856","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1676","id":732337856,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjMzNzg1Ng==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T18:16:40Z","updated_at":"2020-11-23T18:16:40Z","author_association":"MEMBER","body":"Closing, as this was superseded by #1802 ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732337856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732344630","html_url":"https://github.com/apache/accumulo/pull/1799#issuecomment-732344630","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1799","id":732344630,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM0NDYzMA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T18:28:39Z","updated_at":"2020-11-23T18:28:39Z","author_association":"CONTRIBUTOR","body":"> I'm a little confused by these changes. Are you trying to change the metadata schema to put all the locations in the same column family? I ask because this seems to ensure that the \"location\" column family is fetched when we're loading the \"last\" location... and that doesn't make sense to me, because they are in separate column families today. Same with suspend.\r\n\r\nThis change is motivated by discussion on #1317 .  I added this method to Ample to get the tablet state.  The class where this is done is `TabletLocationState` and requires multiple column families (current, future, last and suspend), all having to do with tablet location.  To make it easier to do this in Ample, I made the `ColumnType.LOCATION` fetch all four because it seemed confusing to fetch the famillies individually when they are all related.  ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732344630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732349773","html_url":"https://github.com/apache/accumulo/pull/1799#issuecomment-732349773","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1799","id":732349773,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM0OTc3Mw==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T18:37:46Z","updated_at":"2020-11-23T18:37:46Z","author_association":"MEMBER","body":"> This change is motivated by discussion on #1317 . I added this method to Ample to get the tablet state. The class where this is done is `TabletLocationState` and requires multiple column families (current, future, last and suspend), all having to do with tablet location. To make it easier to do this in Ample, I made the `ColumnType.LOCATION` fetch all four because it seemed confusing to fetch the famillies individually when they are all related.\r\n\r\nSo, we're already fetching all four column families every time we need a location anyway? The code with the enums kinda seemed to be trying to match up with ensuring the fetching of their respective column families, but your changes removes that matching. It's probably better your way, but I recommend adding a comment to the ensureFetched method (or the enum) to make it clear that when that enum is used, *all* column families for the various locations are fetched.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732349773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732357825","html_url":"https://github.com/apache/accumulo/pull/1799#issuecomment-732357825","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1799","id":732357825,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjM1NzgyNQ==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T18:53:54Z","updated_at":"2020-11-23T18:53:54Z","author_association":"CONTRIBUTOR","body":"> So, we're already fetching all four column families every time we need a location anyway? \r\n\r\nNo the current code fetches current and future if you specify `ColumnType.LOCATION` as one of the columns to fetch.  Instead of adding a new one for suspend and then requiring you to specify 3 different enums to fetch, I made it so `LOCATION` will fetch all 4.\r\n","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732357825/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732422732","html_url":"https://github.com/apache/accumulo/pull/1799#issuecomment-732422732","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1799","id":732422732,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQyMjczMg==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T20:59:32Z","updated_at":"2020-11-23T20:59:32Z","author_association":"MEMBER","body":"> No the current code fetches current and future if you specify `ColumnType.LOCATION` as one of the columns to fetch. Instead of adding a new one for suspend and then requiring you to specify 3 different enums to fetch, I made it so `LOCATION` will fetch all 4.\r\n\r\nOkay. I was confused. I see where you are adding it to the fetched columns list when this enum is set.\r\n\r\nThat said, because this would make all 4 columns fetched every time we want to fetch the CURRENT or FUTURE location, it might be better to leave LAST and create a new SUSPEND enum, so that way we only need to fetch the specific locations we need, and no more. It's a little weird that the LOCATION enum fetches both CURRENT and FUTURE locations, but only one should be set anyway, so it's probably fine.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732422732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732423934","html_url":"https://github.com/apache/accumulo/pull/1799#issuecomment-732423934","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1799","id":732423934,"node_id":"MDEyOklzc3VlQ29tbWVudDczMjQyMzkzNA==","user":{"login":"milleruntime","id":11872539,"node_id":"MDQ6VXNlcjExODcyNTM5","avatar_url":"https://avatars.githubusercontent.com/u/11872539?v=4","gravatar_id":"","url":"https://api.github.com/users/milleruntime","html_url":"https://github.com/milleruntime","followers_url":"https://api.github.com/users/milleruntime/followers","following_url":"https://api.github.com/users/milleruntime/following{/other_user}","gists_url":"https://api.github.com/users/milleruntime/gists{/gist_id}","starred_url":"https://api.github.com/users/milleruntime/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/milleruntime/subscriptions","organizations_url":"https://api.github.com/users/milleruntime/orgs","repos_url":"https://api.github.com/users/milleruntime/repos","events_url":"https://api.github.com/users/milleruntime/events{/privacy}","received_events_url":"https://api.github.com/users/milleruntime/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-23T21:02:01Z","updated_at":"2020-11-23T21:02:01Z","author_association":"CONTRIBUTOR","body":"> That said, because this would make all 4 columns fetched every time we want to fetch the CURRENT or FUTURE location, it might be better to leave LAST and create a new SUSPEND enum, so that way we only need to fetch the specific locations we need, and no more. It's a little weird that the LOCATION enum fetches both CURRENT and FUTURE locations, but only one should be set anyway, so it's probably fine.\r\n\r\nI realize now that LOCATION will only ever return one value from the two fetched columns (current or future).  So I agree, it would be better to keep it that way and add a new type for SUSPEND. ","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/732423934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/733098104","html_url":"https://github.com/apache/accumulo/pull/1803#issuecomment-733098104","issue_url":"https://api.github.com/repos/apache/accumulo/issues/1803","id":733098104,"node_id":"MDEyOklzc3VlQ29tbWVudDczMzA5ODEwNA==","user":{"login":"ctubbsii","id":1280725,"node_id":"MDQ6VXNlcjEyODA3MjU=","avatar_url":"https://avatars.githubusercontent.com/u/1280725?v=4","gravatar_id":"","url":"https://api.github.com/users/ctubbsii","html_url":"https://github.com/ctubbsii","followers_url":"https://api.github.com/users/ctubbsii/followers","following_url":"https://api.github.com/users/ctubbsii/following{/other_user}","gists_url":"https://api.github.com/users/ctubbsii/gists{/gist_id}","starred_url":"https://api.github.com/users/ctubbsii/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ctubbsii/subscriptions","organizations_url":"https://api.github.com/users/ctubbsii/orgs","repos_url":"https://api.github.com/users/ctubbsii/repos","events_url":"https://api.github.com/users/ctubbsii/events{/privacy}","received_events_url":"https://api.github.com/users/ctubbsii/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-11-24T16:40:16Z","updated_at":"2020-11-24T16:40:16Z","author_association":"MEMBER","body":"Thanks for the PR @tynyttie ; It looks like the build is failing due to formatting issues, so the tests aren't being run. Please run `mvn clean package -DskipTests` locally on your branch to format the files, and commit the changes to your branch. Then, we will be able to see the test results from in the PR checks.","reactions":{"url":"https://api.github.com/repos/apache/accumulo/issues/comments/733098104/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]