[{"url":"https://api.github.com/repos/apache/jena/issues/comments/1067876323","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1067876323","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1067876323,"node_id":"IC_kwDOAHF7Ec4_pn_j","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-15T11:24:22Z","updated_at":"2022-03-15T11:24:22Z","author_association":"MEMBER","body":"The HTTP response must be finished. It is a feature of HTTP.  HTTP/1.1 is not a streaming protocol. HTTP/2 is much better but it must be used in the right way - overlaying HTTP/1.1 does not expose the two-flow of data in HTTP/2.\r\n\r\nSometimes, in HTTP/1.1, the client can close the TCP connection and open a new one. It messes up connection polling. TCP connections are expensive. There are client-wide and server-wide problems that arise. We know, it's happened. Jena's own test suite used to have these issues.\r\n\r\nClosing the connection does not cause the client to clear-up at the point of close, nor does the server see a close to clear-up a that moment..  On unloaded machines, it can take 2 minutes; under load the Linux kernel delays reclaim close-waiting connections (it's a GC like task). \r\n\r\nThe effect is either end can run out of file descriptors. \r\n\r\nIn HTTP/2, the situation is both better and worse. Better because there is access to the chunking and flow of chunks but that is only if HTTP/2 specific code is written. Worse because there is only a single TCP connection per host pair which has multiple outstanding requests in-flight and can't be closed. It can lead to head-of-line blocking.\r\n\r\nSee javadoc for `BodySubscribers#ofInputStream()`\r\n\r\nJena needs reliability before performance. And it is the corner cases, not the main/normal usage.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1067876323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1067937613","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1067937613","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1067937613,"node_id":"IC_kwDOAHF7Ec4_p29N","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-15T12:35:35Z","updated_at":"2022-03-15T12:35:35Z","author_association":"MEMBER","body":"> I started looking into this after all - so please don't (re)review the latest changes yet.\r\n\r\n> What is your suggestion?\r\n\r\nIf this is ready now, I will review and make a proposal.\r\n\r\nI'm sorry if discussions seems very cautious but this is a key feature of the Jena. A release is a significant commitment; a big difference to an SaaS platform. Adding APIs is a significant commitment. It much harder to remove or evolve features than add them. \r\n\r\nWe have a lot of users, and that includes many who are data experts, not systems developers.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1067937613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1067979907","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1067979907","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1067979907,"node_id":"IC_kwDOAHF7Ec4_qBSD","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-15T13:19:50Z","updated_at":"2022-03-16T12:50:38Z","author_association":"CONTRIBUTOR","body":"Hi Andy, the current state is ready for review. Without your feedback it doesn't make sense for me to add more tests for features which might be at risk anyway depending on your verdict.\r\n\r\n> I'm sorry if discussions seems very cautious but this is a key feature of the Jena.\r\n\r\nNo worries, I tried to break the architecture down into simple and reasonable components so that all the current concerns and maybe future ones can hopefully be quickly addressed.\r\n\r\nAs for the mentioned issue with `AbstractResultSetTests`: The default behavior of HttpClient is to consume the remaining input when .close() is called in its input stream. Under this perspective the warning is redundant because in this case it is expected behavior. I don't think that any special logic would belong to `RowSetJSONStreaming`. I would suspect that the same warnings would be displayed when streaming xml.\r\n\r\nNeeds more thought how to handle this properly - maybe QueryExecHttp should have a `warnOnRemainingData` option whose value is the number of bytes this class should read before issuing a warning and calling close on the HttpClient-backed InputStream; which may then either consume the remaining data or cut the connection. Closing a query execution early due to a processing error is not so uncommon.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1067979907/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1070984517","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1070984517","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1070984517,"node_id":"IC_kwDOAHF7Ec4_1e1F","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T15:30:17Z","updated_at":"2022-03-17T15:30:17Z","author_association":"MEMBER","body":"https://www.overops.com/blog/the-ultimate-json-library-json-simple-vs-gson-vs-jackson-vs-json/\r\n\r\nNot that raw speed is likely to be the limiting factor streaming at scale (writing is usually slower than reading) but in the 2021 update at the link above, GSON is faster for small and large files.\r\n\r\nYMMV.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1070984517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1071056504","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1071056504","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1071056504,"node_id":"IC_kwDOAHF7Ec4_1wZ4","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T16:32:43Z","updated_at":"2022-03-17T17:12:02Z","author_association":"CONTRIBUTOR","body":"Note that in the PR, the `RowSetJSONStreaming` implementation (which does accumulation and validation) is independent of gson. Well, there are gson-specific static util functions (which might as well be made all private for the time being), but those methods are only used to implement `IteratorRsJSON`'s 'encoder' (there is definitely a better name for it; such as `DeserializationStrategy`) - i.e. the mapper of elements from the json reader to domain events.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1071056504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1071105172","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1071105172","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1071105172,"node_id":"IC_kwDOAHF7Ec4_18SU","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T17:12:20Z","updated_at":"2022-03-17T18:13:32Z","author_association":"MEMBER","body":"GSON is small and has an Apache License 2.0. In terms of adding a new dependency, it is as easy as it gets.\r\n\r\ntitanium-json-ld uses jakarta.json - that's Eclipse Public License which is [category B](https://www.apache.org/legal/resolved.html#category-b). Odd that it isn't the Eclipse Distribution License which is BSD-ish. jena has already added the necessary text into the LICENSE in the distributions (zips). The shade plugin automatically includes all the licenses used by a combined jars.\r\n\r\nJackson is AL2. It's quite a bit bigger.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1071105172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1073283375","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1073283375","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1073283375,"node_id":"IC_kwDOAHF7Ec4_-QEv","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-20T16:13:28Z","updated_at":"2022-03-20T16:23:57Z","author_association":"MEMBER","body":"The implementation certainly streams. I did a test of reading 50 million results with Fuseki and client in one JVM.\r\n\r\nThe CPU was 130% so true parallelism, and the log messages from Fuseki came out at the expected points. \r\nThe heap size was limited to 2Gbytes but the results are much larger (>8G) and there were no heap issues.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1073283375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1073643723","html_url":"https://github.com/apache/jena/pull/1226#issuecomment-1073643723","issue_url":"https://api.github.com/repos/apache/jena/issues/1226","id":1073643723,"node_id":"IC_kwDOAHF7Ec4__oDL","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T08:49:50Z","updated_at":"2022-03-21T08:49:50Z","author_association":"MEMBER","body":"@afs , are you able to answer these two?\r\n\r\n>confirm that the gsp-rw is necessary to upload data\r\n\r\nThe GeoSPARQL example from the documentation doesn't seem to allow uploading data? Or is it a bug in the UI?\r\n\r\n```ttl\r\n<#service> rdf:type fuseki:Service;\r\n    fuseki:name \"geo\";\r\n    fuseki:endpoint [ fuseki:operation fuseki:query; ] ;\r\n    fuseki:dataset <#geo_ds> .\r\n\r\n<#geo_ds> rdf:type geosparql:geosparqlDataset ;\r\n    geosparql:spatialIndexFile     \"DB/spatial.index\";\r\n    geosparql:dataset <#baseDataset> ;\r\n    .\r\n\r\n<#baseDataset> rdf:type tdb2:DatasetTDB2 ;\r\n    tdb2:location \"DB/\" ;\r\n    .\r\n```\r\n\r\n>confirm what is necessary for the edit graph\r\n\r\nSimilar to the previous question, is there a service that must be enabled so that the UI can edit the graph in the UI?\r\n\r\nThanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1073643723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1073774223","html_url":"https://github.com/apache/jena/issues/1228#issuecomment-1073774223","issue_url":"https://api.github.com/repos/apache/jena/issues/1228","id":1073774223,"node_id":"IC_kwDOAHF7Ec5AAH6P","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T11:17:49Z","updated_at":"2022-03-21T11:17:49Z","author_association":"MEMBER","body":"First GitHub issue! :tada: ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1073774223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074227229","html_url":"https://github.com/apache/jena/pull/1225#issuecomment-1074227229","issue_url":"https://api.github.com/repos/apache/jena/issues/1225","id":1074227229,"node_id":"IC_kwDOAHF7Ec5AB2gd","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T17:51:55Z","updated_at":"2022-03-21T17:51:55Z","author_association":"MEMBER","body":"Yes, `IOX.safeWrite` does not copy - the correct recovery action will depend on the situation. Copy risks breaking in some cases. \r\n\r\nIn the situation here, it's a non-cross volume operation of a real file system (`sync` must work for the database!). ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074227229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074227464","html_url":"https://github.com/apache/jena/pull/1225#issuecomment-1074227464","issue_url":"https://api.github.com/repos/apache/jena/issues/1225","id":1074227464,"node_id":"IC_kwDOAHF7Ec5AB2kI","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T17:52:10Z","updated_at":"2022-03-21T17:52:10Z","author_association":"MEMBER","body":"Is this related to, or same as, https://github.com/apache/jena/pull/1204#issuecomment-1062209248?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074227464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074228301","html_url":"https://github.com/apache/jena/pull/1204#issuecomment-1074228301","issue_url":"https://api.github.com/repos/apache/jena/issues/1204","id":1074228301,"node_id":"IC_kwDOAHF7Ec5AB2xN","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T17:53:03Z","updated_at":"2022-03-21T17:53:03Z","author_association":"MEMBER","body":"Is there consensus here? What is the next step here?\r\n\r\nA name that describes exactly what happens looks better to me.\r\n\r\n`GeoSPARQLConfig.setupPrecomputedSpatialIndex(dataset, spatialIndexPath.toFile());`\r\n\r\nThe question is what is its implementation. Is it `setupSpatialIndex(dataset, null, spatialIndexPath.toFile())` or \r\n```\r\n    SpatialIndex si = SpatialIndex.load(spatialIndexFile);\r\n    SpatialIndex.setSpatialIndex(dataset, si);\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074228301/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074668875","html_url":"https://github.com/apache/jena/pull/1226#issuecomment-1074668875","issue_url":"https://api.github.com/repos/apache/jena/issues/1226","id":1074668875,"node_id":"IC_kwDOAHF7Ec5ADiVL","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T02:48:23Z","updated_at":"2022-03-22T02:48:23Z","author_association":"MEMBER","body":"Still not able to edit the data for the GeoSPARQL dataset.\r\n\r\n![image](https://user-images.githubusercontent.com/304786/159397104-5c5418ea-880a-475d-bdec-8dbf520fc8c7.png)\r\n\r\nI guess we also need the `gsp-rw` service enabled for that? If so I will disable the UI when the selected dataset is missing that option.\r\n\r\nThe rest of the UI is looking OK, so I think the change here will fix the issue of the service endpoint. Ready for an initial review, pending some questions/checks.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074668875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074897421","html_url":"https://github.com/apache/jena/pull/1226#issuecomment-1074897421","issue_url":"https://api.github.com/repos/apache/jena/issues/1226","id":1074897421,"node_id":"IC_kwDOAHF7Ec5AEaIN","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T08:55:08Z","updated_at":"2022-03-22T08:58:53Z","author_association":"MEMBER","body":"> confirm that the gsp-rw is necessary to upload data\r\n\r\nYes.\r\n\r\nThe \"gsp-rw\" includes the extension for loading quads.\r\n\r\nThere is another server \"upload\", which is no longer added in the default setup. \"gsp-rw\" calls the \"upload\" functionality when it receives a file without the GSP `?default` and `?graph=` parameters so it is a superset.\r\n\r\nThe GeoSPARQL example is read-only.\r\n\r\n> Similar to the previous question, is there a service that must be enabled so that the UI can edit the graph in the UI?\r\n\r\n\"gsp-rw\" - the edit facility is \"fetch graph, edit locally, put back graph\".\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074897421/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074946264","html_url":"https://github.com/apache/jena/pull/1229#issuecomment-1074946264","issue_url":"https://api.github.com/repos/apache/jena/issues/1229","id":1074946264,"node_id":"IC_kwDOAHF7Ec5AEmDY","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T09:46:41Z","updated_at":"2022-03-22T09:59:24Z","author_association":"MEMBER","body":"`--update` is largely legacy.\r\n\r\n`--update` does not take a value. It is either present or not.\r\n\r\nFor `--loc` a and `--mem`, it isn't necessary and hasn't been for awhile. These have update enabled. If the user wants detailed control, they write a configuration file.\r\n\r\n`--file` defaults to \"read-only\" -- `--file` is \"create in-memory dataset and read file into it\", same as `ja:data` in a configuration file. i.e. it is publishing the file. With `--update`, update is allowed, but changes are not written back, hence the default is read-only.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074946264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074990068","html_url":"https://github.com/apache/jena/pull/1226#issuecomment-1074990068","issue_url":"https://api.github.com/repos/apache/jena/issues/1226","id":1074990068,"node_id":"IC_kwDOAHF7Ec5AEwv0","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T10:20:35Z","updated_at":"2022-03-22T10:20:35Z","author_association":"MEMBER","body":"Perfect, I'll update the Edit view to tell the user when it's not usable due to the missing service. Thanks @afs!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1074990068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1075308694","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1075308694","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1075308694,"node_id":"IC_kwDOAHF7Ec5AF-iW","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T15:13:33Z","updated_at":"2022-03-22T15:13:33Z","author_association":"MEMBER","body":"> What is your suggestion?\r\n\r\nHere is a diff for suggestion of what to do about the more sophisticated error handling. \r\n\r\n[Diff-1218-afs-1.txt](https://github.com/apache/jena/files/8325574/Diff-1218-afs-1.txt)\r\n\r\nThere is a new package `org.apache.jena.riot.rowset.rw.rs_json` with the additional machinery being introduced for JSON result set reading. This leaves `RowSetJSONStreaming` in the `rowset.rw` package.\r\n\r\nIt puts the additional error handler classes there, moving them out of the riot/system package. All the PR code is there without changing the system-wide API, which otherwise would, to me, be promising the facilities are available on other readers which is not the case. In Jena, with long version tail and the number of users, it is easier to add things than remove them.\r\n\r\nThe diff moves some inner classes where they are shared across classes into their own top-level files. There are some scope changes to package/private.\r\n\r\nWe can continue discussing changing the system error handling while still getting the reader capabilities into the codebase.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1075308694/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1075316223","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1075316223","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1075316223,"node_id":"IC_kwDOAHF7Ec5AGAX_","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T15:20:12Z","updated_at":"2022-03-22T15:20:12Z","author_association":"MEMBER","body":"Error handling discussion:\r\n\r\nError handling is trying to communicate the general consequences of some condition. Often, the application code is a long way away from the reader so details of the format are not understood by the application. In Fuseki, they are logged. Error handling and especially \"warning\", overlaps with logging. Even this \"client\" side code would do the same for federated queries.\r\n\r\nIn the parsers, errors generate exceptions so they are not recoverable; there are possibly occasionally exceptions to this, sometimes recovery is possible but the output should now be considered \"wrong\".\r\n\r\nUnfortunately, this isn't a free choice. A warning is something the code notes but will continue to process, an error is serious enough that the results are suspect at best. Turing error into warning changes the contract.\r\n\r\nIn RowSetReaderStream, a situation like \"Encountered bindings as well as boolean result\" is an error. The incoming results JSON is illegal. The fault is at the server end. Any fixup is a decision as to which header to believe and is throwing the other choice away.\r\n\r\nAll the calls to `ErrorHandlers.relay` are serious errors, except, arguably, finding extra elements in the JSON which the reader doesn't understand. (e.g. JSON \"comments\"!!)\r\n\r\nI tried to refactor to centralize error handling so the the processing code call \"error(details)\"  but it became too big a change.\r\n\r\nI think allowing for fine-grained handling would benefit from an explicit error record of an enum \"error kind\", it's classification \"error\"/\"warning\" and the specific message. ValidationSettings enumerates the possible errors as statics.\r\n\r\nThe enum can be used to process the error which as looking up into a table of what is currently called Severity. The Severity class is how the caller wants to treat the issue arising. We need something to reflect the code raising the issue.\r\n\r\nRelated: logging system have \"markers\" to allow related log messages. Jena does not use markers - but the concept seems useful for a more detail error handling extension.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1075316223/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1075320190","html_url":"https://github.com/apache/jena/pull/1226#issuecomment-1075320190","issue_url":"https://api.github.com/repos/apache/jena/issues/1226","id":1075320190,"node_id":"IC_kwDOAHF7Ec5AGBV-","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T15:23:37Z","updated_at":"2022-03-22T15:23:37Z","author_association":"MEMBER","body":"> I think the / endpoint, used as a service for query cannot handle uploads?\r\n\r\nYes, it can. The \"/\" endpoint, by default\" can handle an SPARQL operation. With MIME type and query parameter inspection, there is just enough information to disambiguate request types.\r\n\r\nBut probably better to use the named endpoint.\r\n\r\nA single-use endpoint assumes the operation is correct for type, checks it, and executes it, or returns 4xx. They are slightly more forgiving sometimes. Not much in it.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1075320190/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1076021850","html_url":"https://github.com/apache/jena/issues/1231#issuecomment-1076021850","issue_url":"https://api.github.com/repos/apache/jena/issues/1231","id":1076021850,"node_id":"IC_kwDOAHF7Ec5AIspa","user":{"login":"waixiaoyu","id":17443542,"node_id":"MDQ6VXNlcjE3NDQzNTQy","avatar_url":"https://avatars.githubusercontent.com/u/17443542?v=4","gravatar_id":"","url":"https://api.github.com/users/waixiaoyu","html_url":"https://github.com/waixiaoyu","followers_url":"https://api.github.com/users/waixiaoyu/followers","following_url":"https://api.github.com/users/waixiaoyu/following{/other_user}","gists_url":"https://api.github.com/users/waixiaoyu/gists{/gist_id}","starred_url":"https://api.github.com/users/waixiaoyu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/waixiaoyu/subscriptions","organizations_url":"https://api.github.com/users/waixiaoyu/orgs","repos_url":"https://api.github.com/users/waixiaoyu/repos","events_url":"https://api.github.com/users/waixiaoyu/events{/privacy}","received_events_url":"https://api.github.com/users/waixiaoyu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-23T07:41:18Z","updated_at":"2022-03-23T07:41:18Z","author_association":"NONE","body":"move to jira","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1076021850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1076094586","html_url":"https://github.com/apache/jena/issues/1231#issuecomment-1076094586","issue_url":"https://api.github.com/repos/apache/jena/issues/1231","id":1076094586,"node_id":"IC_kwDOAHF7Ec5AI-Z6","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-23T08:43:25Z","updated_at":"2022-03-23T08:43:25Z","author_association":"MEMBER","body":"Here is fine. Or JIRA. Whichever works best.\r\n\r\nWatchStatementListener is in Jena test code, but it should work.\r\n\r\nDo you have an example of usage because `deleteFrom` executes differently base on the relative sizes of `dstGraph` and `srcGraph`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1076094586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1077353170","html_url":"https://github.com/apache/jena/pull/1204#issuecomment-1077353170","issue_url":"https://api.github.com/repos/apache/jena/issues/1204","id":1077353170,"node_id":"IC_kwDOAHF7Ec5ANxrS","user":{"login":"LorenzBuehmann","id":976029,"node_id":"MDQ6VXNlcjk3NjAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/976029?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzBuehmann","html_url":"https://github.com/LorenzBuehmann","followers_url":"https://api.github.com/users/LorenzBuehmann/followers","following_url":"https://api.github.com/users/LorenzBuehmann/following{/other_user}","gists_url":"https://api.github.com/users/LorenzBuehmann/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzBuehmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzBuehmann/subscriptions","organizations_url":"https://api.github.com/users/LorenzBuehmann/orgs","repos_url":"https://api.github.com/users/LorenzBuehmann/repos","events_url":"https://api.github.com/users/LorenzBuehmann/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzBuehmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T08:16:28Z","updated_at":"2022-03-24T08:16:45Z","author_association":"CONTRIBUTOR","body":"> The question is what is its implementation. Is it `setupSpatialIndex(dataset, null, spatialIndexPath.toFile())`\r\n\r\nwell, this method would work indeed and is currently unused anyways - what we don't want is to call\r\n`GeoSPARQLConfig.setupSpatialIndex(dataset, spatialIndexPath.toFile());` to avoid scanning for SRS URIs again.\r\n\r\nShall I remove my custom method and just use this method with `null` as SRS argument?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1077353170/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1077562630","html_url":"https://github.com/apache/jena/pull/1204#issuecomment-1077562630","issue_url":"https://api.github.com/repos/apache/jena/issues/1204","id":1077562630,"node_id":"IC_kwDOAHF7Ec5AOk0G","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T12:13:02Z","updated_at":"2022-03-24T12:13:02Z","author_association":"MEMBER","body":"As a style consideration, personally, I would keep `setupPrecomputedSpatialIndex` (clear name for an operation, somewhere to put javadoc).\r\n\r\nShall we merge as-is and iterate as people feel there are improvements to make?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1077562630/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1077601265","html_url":"https://github.com/apache/jena/pull/1225#issuecomment-1077601265","issue_url":"https://api.github.com/repos/apache/jena/issues/1225","id":1077601265,"node_id":"IC_kwDOAHF7Ec5AOuPx","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T12:59:27Z","updated_at":"2022-03-24T12:59:27Z","author_association":"MEMBER","body":"Shall we merge this? Then make the use of the temp file safer and not dependent on the system tmp directory.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1077601265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1077911445","html_url":"https://github.com/apache/jena/issues/1233#issuecomment-1077911445","issue_url":"https://api.github.com/repos/apache/jena/issues/1233","id":1077911445,"node_id":"IC_kwDOAHF7Ec5AP5-V","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T18:16:02Z","updated_at":"2022-03-24T20:57:43Z","author_association":"MEMBER","body":"It is wrong - I'll added some tests for digest auth that are missing.\r\n\r\nPlease do submit a PR.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1077911445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078280263","html_url":"https://github.com/apache/jena/pull/1225#issuecomment-1078280263","issue_url":"https://api.github.com/repos/apache/jena/issues/1225","id":1078280263,"node_id":"IC_kwDOAHF7Ec5ARUBH","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T20:58:00Z","updated_at":"2022-03-24T20:58:00Z","author_association":"MEMBER","body":"> Shall we merge this? Then make the use of the temp file safer and not dependent on the system tmp directory.\r\n\r\n+1","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078280263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078431507","html_url":"https://github.com/apache/jena/pull/1225#issuecomment-1078431507","issue_url":"https://api.github.com/repos/apache/jena/issues/1225","id":1078431507,"node_id":"IC_kwDOAHF7Ec5AR48T","user":{"login":"galbiston","id":4662258,"node_id":"MDQ6VXNlcjQ2NjIyNTg=","avatar_url":"https://avatars.githubusercontent.com/u/4662258?v=4","gravatar_id":"","url":"https://api.github.com/users/galbiston","html_url":"https://github.com/galbiston","followers_url":"https://api.github.com/users/galbiston/followers","following_url":"https://api.github.com/users/galbiston/following{/other_user}","gists_url":"https://api.github.com/users/galbiston/gists{/gist_id}","starred_url":"https://api.github.com/users/galbiston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galbiston/subscriptions","organizations_url":"https://api.github.com/users/galbiston/orgs","repos_url":"https://api.github.com/users/galbiston/repos","events_url":"https://api.github.com/users/galbiston/events{/privacy}","received_events_url":"https://api.github.com/users/galbiston/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T22:11:45Z","updated_at":"2022-03-24T22:11:45Z","author_association":"CONTRIBUTOR","body":"> Is this related to, or same as, [#1204 (comment)](https://github.com/apache/jena/pull/1204#issuecomment-1062209248)?\r\n\r\nYes, this is what I was trying to address. Shall I just remove the temp file change?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078431507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078453829","html_url":"https://github.com/apache/jena/pull/1225#issuecomment-1078453829","issue_url":"https://api.github.com/repos/apache/jena/issues/1225","id":1078453829,"node_id":"IC_kwDOAHF7Ec5AR-ZF","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T22:48:46Z","updated_at":"2022-03-24T22:48:46Z","author_association":"MEMBER","body":"As is OK - l'll convert it to a safer write based on [Claus's comment](https://github.com/apache/jena/pull/1225#issuecomment-1066316066) and having it like it is makes it clear what to change.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078453829/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078548669","html_url":"https://github.com/apache/jena/pull/1235#issuecomment-1078548669","issue_url":"https://api.github.com/repos/apache/jena/issues/1235","id":1078548669,"node_id":"IC_kwDOAHF7Ec5ASVi9","user":{"login":"galbiston","id":4662258,"node_id":"MDQ6VXNlcjQ2NjIyNTg=","avatar_url":"https://avatars.githubusercontent.com/u/4662258?v=4","gravatar_id":"","url":"https://api.github.com/users/galbiston","html_url":"https://github.com/galbiston","followers_url":"https://api.github.com/users/galbiston/followers","following_url":"https://api.github.com/users/galbiston/following{/other_user}","gists_url":"https://api.github.com/users/galbiston/gists{/gist_id}","starred_url":"https://api.github.com/users/galbiston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galbiston/subscriptions","organizations_url":"https://api.github.com/users/galbiston/orgs","repos_url":"https://api.github.com/users/galbiston/repos","events_url":"https://api.github.com/users/galbiston/events{/privacy}","received_events_url":"https://api.github.com/users/galbiston/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T00:51:57Z","updated_at":"2022-03-25T00:51:57Z","author_association":"CONTRIBUTOR","body":"Commit history includes PR [#1234](https://github.com/apache/jena/pull/1234) because I'm tired and had forgotten I hadn't based it off `main`. Maybe just easiest to wait for that to go into `main` and then review this.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078548669/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078753447","html_url":"https://github.com/apache/jena/issues/1233#issuecomment-1078753447","issue_url":"https://api.github.com/repos/apache/jena/issues/1233","id":1078753447,"node_id":"IC_kwDOAHF7Ec5ATHin","user":{"login":"costas80","id":8297297,"node_id":"MDQ6VXNlcjgyOTcyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/8297297?v=4","gravatar_id":"","url":"https://api.github.com/users/costas80","html_url":"https://github.com/costas80","followers_url":"https://api.github.com/users/costas80/followers","following_url":"https://api.github.com/users/costas80/following{/other_user}","gists_url":"https://api.github.com/users/costas80/gists{/gist_id}","starred_url":"https://api.github.com/users/costas80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costas80/subscriptions","organizations_url":"https://api.github.com/users/costas80/orgs","repos_url":"https://api.github.com/users/costas80/repos","events_url":"https://api.github.com/users/costas80/events{/privacy}","received_events_url":"https://api.github.com/users/costas80/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T07:58:40Z","updated_at":"2022-03-25T07:58:40Z","author_association":"NONE","body":"PR ready. I would be happy to make the update also for the 4.3.2 release (which I am currently using). To do this do you need to create first a relevant branch in the jena repo?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1078753447/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079035562","html_url":"https://github.com/apache/jena/pull/1235#issuecomment-1079035562","issue_url":"https://api.github.com/repos/apache/jena/issues/1235","id":1079035562,"node_id":"IC_kwDOAHF7Ec5AUMaq","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T13:36:03Z","updated_at":"2022-03-25T13:36:03Z","author_association":"MEMBER","body":"> easiest to wait for that to go into main and then review this.\r\n\r\nI quite understand - too easy to do.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079035562/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079051643","html_url":"https://github.com/apache/jena/issues/1233#issuecomment-1079051643","issue_url":"https://api.github.com/repos/apache/jena/issues/1233","id":1079051643,"node_id":"IC_kwDOAHF7Ec5AUQV7","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T13:55:01Z","updated_at":"2022-03-25T13:55:01Z","author_association":"MEMBER","body":"The project works on a release tick cycle - release every 3-4 months.\r\n\r\nWe have a finite amount of people time. So the community has to decide what they want. Bug fix releases would mean less elsewhere.\r\n\r\nWe have settled on the regular (every 3-4 months) releases and use \\@Deprecated to signal changes rather than run multiple development release branches. Jena isn't in a state of large-scale changes.\r\n\r\n4.3.1 was important because it updates to log4j 2.16.0 and the log4j security issues.\r\n\r\nJena 4.4.0 further updates to log4j 2.17.1. You should be able to use Jena 4.4.0 (and Jena 4.5.0).\r\n\r\nThe fix is now in the code base and the next run of snapshot builds (I've just kicked off a build) will put the development snapshots into: https://repository.apache.org/content/groups/snapshots/org/apache/jena/\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079051643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079054173","html_url":"https://github.com/apache/jena/issues/1233#issuecomment-1079054173","issue_url":"https://api.github.com/repos/apache/jena/issues/1233","id":1079054173,"node_id":"IC_kwDOAHF7Ec5AUQ9d","user":{"login":"costas80","id":8297297,"node_id":"MDQ6VXNlcjgyOTcyOTc=","avatar_url":"https://avatars.githubusercontent.com/u/8297297?v=4","gravatar_id":"","url":"https://api.github.com/users/costas80","html_url":"https://github.com/costas80","followers_url":"https://api.github.com/users/costas80/followers","following_url":"https://api.github.com/users/costas80/following{/other_user}","gists_url":"https://api.github.com/users/costas80/gists{/gist_id}","starred_url":"https://api.github.com/users/costas80/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/costas80/subscriptions","organizations_url":"https://api.github.com/users/costas80/orgs","repos_url":"https://api.github.com/users/costas80/repos","events_url":"https://api.github.com/users/costas80/events{/privacy}","received_events_url":"https://api.github.com/users/costas80/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T13:58:04Z","updated_at":"2022-03-25T13:58:04Z","author_association":"NONE","body":"Thanks @afs . I accept your point on multiple development branches and will plan an upgrade to the latest version.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079054173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079216249","html_url":"https://github.com/apache/jena/pull/1225#issuecomment-1079216249","issue_url":"https://api.github.com/repos/apache/jena/issues/1225","id":1079216249,"node_id":"IC_kwDOAHF7Ec5AU4h5","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T16:54:30Z","updated_at":"2022-03-25T16:54:30Z","author_association":"MEMBER","body":"@galbiston - do you want to keep the commit history? Or I can squash+merge using the GH UI.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079216249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079218670","html_url":"https://github.com/apache/jena/pull/1225#issuecomment-1079218670","issue_url":"https://api.github.com/repos/apache/jena/issues/1225","id":1079218670,"node_id":"IC_kwDOAHF7Ec5AU5Hu","user":{"login":"galbiston","id":4662258,"node_id":"MDQ6VXNlcjQ2NjIyNTg=","avatar_url":"https://avatars.githubusercontent.com/u/4662258?v=4","gravatar_id":"","url":"https://api.github.com/users/galbiston","html_url":"https://github.com/galbiston","followers_url":"https://api.github.com/users/galbiston/followers","following_url":"https://api.github.com/users/galbiston/following{/other_user}","gists_url":"https://api.github.com/users/galbiston/gists{/gist_id}","starred_url":"https://api.github.com/users/galbiston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galbiston/subscriptions","organizations_url":"https://api.github.com/users/galbiston/orgs","repos_url":"https://api.github.com/users/galbiston/repos","events_url":"https://api.github.com/users/galbiston/events{/privacy}","received_events_url":"https://api.github.com/users/galbiston/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T16:57:28Z","updated_at":"2022-03-25T16:57:28Z","author_association":"CONTRIBUTOR","body":"No problem having it squashed.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079218670/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079255508","html_url":"https://github.com/apache/jena/pull/1235#issuecomment-1079255508","issue_url":"https://api.github.com/repos/apache/jena/issues/1235","id":1079255508,"node_id":"IC_kwDOAHF7Ec5AVCHU","user":{"login":"galbiston","id":4662258,"node_id":"MDQ6VXNlcjQ2NjIyNTg=","avatar_url":"https://avatars.githubusercontent.com/u/4662258?v=4","gravatar_id":"","url":"https://api.github.com/users/galbiston","html_url":"https://github.com/galbiston","followers_url":"https://api.github.com/users/galbiston/followers","following_url":"https://api.github.com/users/galbiston/following{/other_user}","gists_url":"https://api.github.com/users/galbiston/gists{/gist_id}","starred_url":"https://api.github.com/users/galbiston/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/galbiston/subscriptions","organizations_url":"https://api.github.com/users/galbiston/orgs","repos_url":"https://api.github.com/users/galbiston/repos","events_url":"https://api.github.com/users/galbiston/events{/privacy}","received_events_url":"https://api.github.com/users/galbiston/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-25T17:39:48Z","updated_at":"2022-03-25T17:39:48Z","author_association":"CONTRIBUTOR","body":"Cheers. It needs unit tests adding as well really. A bit of a gap in coverage.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079255508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079659085","html_url":"https://github.com/apache/jena/issues/1233#issuecomment-1079659085","issue_url":"https://api.github.com/repos/apache/jena/issues/1233","id":1079659085,"node_id":"IC_kwDOAHF7Ec5AWkpN","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-26T10:38:20Z","updated_at":"2022-03-26T10:38:20Z","author_association":"MEMBER","body":"Tests for digest auth added.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1079659085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1081314423","html_url":"https://github.com/apache/jena/pull/1226#issuecomment-1081314423","issue_url":"https://api.github.com/repos/apache/jena/issues/1226","id":1081314423,"node_id":"IC_kwDOAHF7Ec5Ac4x3","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-29T01:44:59Z","updated_at":"2022-03-29T01:44:59Z","author_association":"MEMBER","body":"Using the GeoSPARQL docs dataset, and a normal TDB2 dataset to test. This PR changes `Upload` and `Edit` only. Here's a preview of these views for the two aforementioned datasets.\r\n\r\n![image](https://user-images.githubusercontent.com/304786/160515574-27a3d154-1cd3-4c99-8815-6e6c32d07888.png)\r\n\r\n![image](https://user-images.githubusercontent.com/304786/160515589-7fa9db4b-3793-4e72-b48e-e5669116e25c.png)\r\n\r\n![image](https://user-images.githubusercontent.com/304786/160515618-b940f704-1a51-42f2-b857-c4fd4b8f7c99.png)\r\n\r\n![image](https://user-images.githubusercontent.com/304786/160515639-33641452-2ff1-4c47-937a-6c41e4e16a5c.png)\r\n\r\nThe views do not display the forms when there are no `gsp-rw` graphs configured. @afs all done now, if that's looking OK it should be ready to be merged. Thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1081314423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1084779985","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1084779985","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1084779985,"node_id":"IC_kwDOAHF7Ec5AqG3R","user":{"login":"ajs6f","id":110994,"node_id":"MDQ6VXNlcjExMDk5NA==","avatar_url":"https://avatars.githubusercontent.com/u/110994?v=4","gravatar_id":"","url":"https://api.github.com/users/ajs6f","html_url":"https://github.com/ajs6f","followers_url":"https://api.github.com/users/ajs6f/followers","following_url":"https://api.github.com/users/ajs6f/following{/other_user}","gists_url":"https://api.github.com/users/ajs6f/gists{/gist_id}","starred_url":"https://api.github.com/users/ajs6f/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajs6f/subscriptions","organizations_url":"https://api.github.com/users/ajs6f/orgs","repos_url":"https://api.github.com/users/ajs6f/repos","events_url":"https://api.github.com/users/ajs6f/events{/privacy}","received_events_url":"https://api.github.com/users/ajs6f/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T15:56:07Z","updated_at":"2022-03-31T15:56:07Z","author_association":"MEMBER","body":"If I understand your question correctly, the answer is no. \"Apache Jena Fuseki is a SPARQL server\", as the first sentence in the documentation you linked says. Its entire purpose is to support SPARQL and related services over HTTP. You can certainly use Jena as part of a Java application to use the Model API, but Fuseki does not offer the execution of Java code, by intention. \r\n\r\nPerhaps you can say a bit more about why you need to use Fuseki instead of using Jena's Java APIs directly?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1084779985/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1084934478","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1084934478","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1084934478,"node_id":"IC_kwDOAHF7Ec5AqslO","user":{"login":"chenkuncloud","id":40781280,"node_id":"MDQ6VXNlcjQwNzgxMjgw","avatar_url":"https://avatars.githubusercontent.com/u/40781280?v=4","gravatar_id":"","url":"https://api.github.com/users/chenkuncloud","html_url":"https://github.com/chenkuncloud","followers_url":"https://api.github.com/users/chenkuncloud/followers","following_url":"https://api.github.com/users/chenkuncloud/following{/other_user}","gists_url":"https://api.github.com/users/chenkuncloud/gists{/gist_id}","starred_url":"https://api.github.com/users/chenkuncloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenkuncloud/subscriptions","organizations_url":"https://api.github.com/users/chenkuncloud/orgs","repos_url":"https://api.github.com/users/chenkuncloud/repos","events_url":"https://api.github.com/users/chenkuncloud/events{/privacy}","received_events_url":"https://api.github.com/users/chenkuncloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T18:03:58Z","updated_at":"2022-03-31T18:03:58Z","author_association":"NONE","body":"Hi, @[ajs6f](https://github.com/ajs6f)\r\n\r\nThank you very much for your reply! Your reply is helpful to me.\r\n\r\nI want to use **Fuseki** to store RDF data, possibly **update in real time**, and open up **SPARQL Endpoint** to outside.\r\n\r\nI was also going to use **Jena's Java APIs** , but I found that it can't be accessed by multiple applications at the same time and has no SPARQL Endpoint, which is why I didn't choose TDB directly. As [TDB](https://jena.apache.org/documentation/tdb/index.html) says:\r\n```\r\nIf you wish to share a TDB dataset between multiple applications please use our Fuseki component which provides a SPARQL server that can use TDB for persistent storage and provides the SPARQL protocols for query, update and REST update over HTTP.\r\n```\r\n\r\nAfter your reply, I learned that I had to update Fuseki through SPARQL, but this would involve a lot of escape problems in the text, and it would be complicated to write the code. At the same time, HTTP would also increase the performance overhead.  \r\n\r\nI wonder if I missed something about Jena?\r\n\r\nBest Regards","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1084934478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1084958600","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1084958600","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1084958600,"node_id":"IC_kwDOAHF7Ec5AqyeI","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-31T18:30:10Z","updated_at":"2022-03-31T18:30:10Z","author_association":"MEMBER","body":"Shall we turn this into a GitHub \"discussion\" because it is not an actionable issue?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1084958600/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085340522","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1085340522","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1085340522,"node_id":"IC_kwDOAHF7Ec5AsPtq","user":{"login":"chenkuncloud","id":40781280,"node_id":"MDQ6VXNlcjQwNzgxMjgw","avatar_url":"https://avatars.githubusercontent.com/u/40781280?v=4","gravatar_id":"","url":"https://api.github.com/users/chenkuncloud","html_url":"https://github.com/chenkuncloud","followers_url":"https://api.github.com/users/chenkuncloud/followers","following_url":"https://api.github.com/users/chenkuncloud/following{/other_user}","gists_url":"https://api.github.com/users/chenkuncloud/gists{/gist_id}","starred_url":"https://api.github.com/users/chenkuncloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenkuncloud/subscriptions","organizations_url":"https://api.github.com/users/chenkuncloud/orgs","repos_url":"https://api.github.com/users/chenkuncloud/repos","events_url":"https://api.github.com/users/chenkuncloud/events{/privacy}","received_events_url":"https://api.github.com/users/chenkuncloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T02:24:24Z","updated_at":"2022-04-01T02:24:24Z","author_association":"NONE","body":"Thanks for your reminding, I have moved to the DISCUSSIONS #1246 .","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085340522/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085541236","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1085541236","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1085541236,"node_id":"IC_kwDOAHF7Ec5AtAt0","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T07:42:31Z","updated_at":"2022-04-01T07:42:31Z","author_association":"MEMBER","body":"We have only recently enables the GH issues and discussions features so we're getting used to how best to use them. Many projects on GH don't split \"issues\" and \"discussions\".\r\n\r\n@chenkun19960427  Do you see a \"convert to discussion\" option at the end of the right hand panel at the start of the issue? I'd assumed it was available to at least the issue creator as well as project committers.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085541236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085575792","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1085575792","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1085575792,"node_id":"IC_kwDOAHF7Ec5AtJJw","user":{"login":"chenkuncloud","id":40781280,"node_id":"MDQ6VXNlcjQwNzgxMjgw","avatar_url":"https://avatars.githubusercontent.com/u/40781280?v=4","gravatar_id":"","url":"https://api.github.com/users/chenkuncloud","html_url":"https://github.com/chenkuncloud","followers_url":"https://api.github.com/users/chenkuncloud/followers","following_url":"https://api.github.com/users/chenkuncloud/following{/other_user}","gists_url":"https://api.github.com/users/chenkuncloud/gists{/gist_id}","starred_url":"https://api.github.com/users/chenkuncloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenkuncloud/subscriptions","organizations_url":"https://api.github.com/users/chenkuncloud/orgs","repos_url":"https://api.github.com/users/chenkuncloud/repos","events_url":"https://api.github.com/users/chenkuncloud/events{/privacy}","received_events_url":"https://api.github.com/users/chenkuncloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T08:11:57Z","updated_at":"2022-04-01T08:11:57Z","author_association":"NONE","body":"Hi, @afs \r\nI don't see 'convert to discussion' option at the end of the right hand panel at the start of the issue. I also wonder why there is no 'convert to discussion' option.\r\nBut I see 'Create issue from discussion' at the discussions detail.\r\nThank you for the reminder, If I see 'convert to discussion' next time, I will use it, to publish to discussions & issues at the same time.\r\n\r\n![image](https://user-images.githubusercontent.com/40781280/161222938-e5e18e89-3db8-4cc6-b501-ebd7de97e3b2.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085575792/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085597504","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1085597504","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1085597504,"node_id":"IC_kwDOAHF7Ec5AtOdA","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T08:27:30Z","updated_at":"2022-04-01T08:27:30Z","author_association":"MEMBER","body":"Thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085597504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085677492","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1085677492","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1085677492,"node_id":"IC_kwDOAHF7Ec5Ath-0","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T09:31:04Z","updated_at":"2022-04-01T09:31:04Z","author_association":"MEMBER","body":"Maybe only members of `apache` org can see this option.\r\n\r\n![image](https://user-images.githubusercontent.com/304786/161236774-28986096-c196-45f0-8563-4dbd9e5e1c41.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085677492/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085688753","html_url":"https://github.com/apache/jena/issues/1243#issuecomment-1085688753","issue_url":"https://api.github.com/repos/apache/jena/issues/1243","id":1085688753,"node_id":"IC_kwDOAHF7Ec5Atkux","user":{"login":"chenkuncloud","id":40781280,"node_id":"MDQ6VXNlcjQwNzgxMjgw","avatar_url":"https://avatars.githubusercontent.com/u/40781280?v=4","gravatar_id":"","url":"https://api.github.com/users/chenkuncloud","html_url":"https://github.com/chenkuncloud","followers_url":"https://api.github.com/users/chenkuncloud/followers","following_url":"https://api.github.com/users/chenkuncloud/following{/other_user}","gists_url":"https://api.github.com/users/chenkuncloud/gists{/gist_id}","starred_url":"https://api.github.com/users/chenkuncloud/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenkuncloud/subscriptions","organizations_url":"https://api.github.com/users/chenkuncloud/orgs","repos_url":"https://api.github.com/users/chenkuncloud/repos","events_url":"https://api.github.com/users/chenkuncloud/events{/privacy}","received_events_url":"https://api.github.com/users/chenkuncloud/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T09:44:19Z","updated_at":"2022-04-01T09:44:50Z","author_association":"NONE","body":"The issue has been resolved! See also discussion on issue: https://github.com/apache/jena/discussions/1246","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1085688753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1086153256","html_url":"https://github.com/apache/jena/pull/1247#issuecomment-1086153256","issue_url":"https://api.github.com/repos/apache/jena/issues/1247","id":1086153256,"node_id":"IC_kwDOAHF7Ec5AvWIo","user":{"login":"der","id":805075,"node_id":"MDQ6VXNlcjgwNTA3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/805075?v=4","gravatar_id":"","url":"https://api.github.com/users/der","html_url":"https://github.com/der","followers_url":"https://api.github.com/users/der/followers","following_url":"https://api.github.com/users/der/following{/other_user}","gists_url":"https://api.github.com/users/der/gists{/gist_id}","starred_url":"https://api.github.com/users/der/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/der/subscriptions","organizations_url":"https://api.github.com/users/der/orgs","repos_url":"https://api.github.com/users/der/repos","events_url":"https://api.github.com/users/der/events{/privacy}","received_events_url":"https://api.github.com/users/der/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T17:15:24Z","updated_at":"2022-04-01T17:15:24Z","author_association":"CONTRIBUTOR","body":"Sure, squashed and renamed. Let me know if anything else needs cleaning up.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1086153256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1086163689","html_url":"https://github.com/apache/jena/pull/1247#issuecomment-1086163689","issue_url":"https://api.github.com/repos/apache/jena/issues/1247","id":1086163689,"node_id":"IC_kwDOAHF7Ec5AvYrp","user":{"login":"der","id":805075,"node_id":"MDQ6VXNlcjgwNTA3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/805075?v=4","gravatar_id":"","url":"https://api.github.com/users/der","html_url":"https://github.com/der","followers_url":"https://api.github.com/users/der/followers","following_url":"https://api.github.com/users/der/following{/other_user}","gists_url":"https://api.github.com/users/der/gists{/gist_id}","starred_url":"https://api.github.com/users/der/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/der/subscriptions","organizations_url":"https://api.github.com/users/der/orgs","repos_url":"https://api.github.com/users/der/repos","events_url":"https://api.github.com/users/der/events{/privacy}","received_events_url":"https://api.github.com/users/der/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T17:29:08Z","updated_at":"2022-04-01T17:29:08Z","author_association":"CONTRIBUTOR","body":"Apologies but now seeing test failures, despite being green before. Will fix and update.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1086163689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1086170154","html_url":"https://github.com/apache/jena/pull/1247#issuecomment-1086170154","issue_url":"https://api.github.com/repos/apache/jena/issues/1247","id":1086170154,"node_id":"IC_kwDOAHF7Ec5AvaQq","user":{"login":"der","id":805075,"node_id":"MDQ6VXNlcjgwNTA3NQ==","avatar_url":"https://avatars.githubusercontent.com/u/805075?v=4","gravatar_id":"","url":"https://api.github.com/users/der","html_url":"https://github.com/der","followers_url":"https://api.github.com/users/der/followers","following_url":"https://api.github.com/users/der/following{/other_user}","gists_url":"https://api.github.com/users/der/gists{/gist_id}","starred_url":"https://api.github.com/users/der/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/der/subscriptions","organizations_url":"https://api.github.com/users/der/orgs","repos_url":"https://api.github.com/users/der/repos","events_url":"https://api.github.com/users/der/events{/privacy}","received_events_url":"https://api.github.com/users/der/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-01T17:37:28Z","updated_at":"2022-04-01T17:37:28Z","author_association":"CONTRIBUTOR","body":"> Apologies but now seeing test failures, despite being green before. Will fix and update.\r\n\r\nFixed and resquashed.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1086170154/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1086598290","html_url":"https://github.com/apache/jena/pull/1247#issuecomment-1086598290","issue_url":"https://api.github.com/repos/apache/jena/issues/1247","id":1086598290,"node_id":"IC_kwDOAHF7Ec5AxCyS","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-02T09:15:06Z","updated_at":"2022-04-02T09:15:06Z","author_association":"MEMBER","body":"cc @xristy ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1086598290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1090146623","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1090146623","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1090146623,"node_id":"IC_kwDOAHF7Ec5A-lE_","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-06T11:12:47Z","updated_at":"2022-04-06T11:12:47Z","author_association":"MEMBER","body":"@Aklakan I'd like to get this PR into the codebase with the [diff](https://github.com/apache/jena/files/8325574/Diff-1218-afs-1.txt) applied. This does mean not no further changes.  With the diff, the subsystem is self-contained and so from my POV can go into Jena 4.5.0.\r\n\r\nI can do that and sort out the commits where some are a record of work in progress e.g. like \"Removed debug output\". The downside is that it looses much or all of the recognition of the contribution.\r\n\r\nWhat's the best way to proceed? One way is to squash done to one/a few commits on the PR, then I can pick it up, apply the diff for a new PR, then merge that.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1090146623/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1092077229","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1092077229","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1092077229,"node_id":"IC_kwDOAHF7Ec5BF8at","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-07T18:35:20Z","updated_at":"2022-04-07T18:37:47Z","author_association":"CONTRIBUTOR","body":"The last couple of weeks were so busy - but I finally managed to get educated in the art of rebasing and squashing and it should be done now :)\r\nThe patch is NOT applied yet (or rather, I removed its application again)  because your last message suggested you wanted this as a separate PR from your side.\r\nIt's 3 commits now which should reflect the milestones of this PR.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1092077229/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094036453","html_url":"https://github.com/apache/jena/pull/1253#issuecomment-1094036453","issue_url":"https://api.github.com/repos/apache/jena/issues/1253","id":1094036453,"node_id":"IC_kwDOAHF7Ec5BNavl","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T13:53:11Z","updated_at":"2022-04-09T13:53:11Z","author_association":"MEMBER","body":"See PR #1218.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094036453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094036588","html_url":"https://github.com/apache/jena/pull/1218#issuecomment-1094036588","issue_url":"https://api.github.com/repos/apache/jena/issues/1218","id":1094036588,"node_id":"IC_kwDOAHF7Ec5BNaxs","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T13:53:52Z","updated_at":"2022-04-09T13:53:52Z","author_association":"MEMBER","body":"Thanks for finding the time. And, yes, squash is an \"education\".\r\n\r\nI've added the patch with the JIRA number in the commit message and all four commits will be a single merge.\r\n(also - renamed the only one to `RowSetReaderJSON_V1` and fixed the javadoc about reverting.) I'm assuming we remove it fairly soon, or at least move it somewhere else.\r\n\r\nPR #1253.\r\n\r\nSome magic - this PR gets noted as merged as well.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094036588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094061640","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094061640","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094061640,"node_id":"IC_kwDOAHF7Ec5BNg5I","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T15:02:07Z","updated_at":"2022-04-09T15:02:07Z","author_association":"MEMBER","body":"Hi - Fuseki has a operation for compacting TDB2 databases : `/$/compact/fedora`. \r\n\r\nThe documentation for secoresearch/fuseki/ implies the admin operations are available and are password protected.\r\n\r\nThe `dataSet` mentioned is a java object in the same JVM as the database so it is in Fuseki, not on the client-side.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094061640/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094070366","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094070366","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094070366,"node_id":"IC_kwDOAHF7Ec5BNjBe","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T15:40:50Z","updated_at":"2022-04-09T15:41:09Z","author_association":"NONE","body":"Ok I'll install curl and use the url. And thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094070366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094089851","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094089851","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094089851,"node_id":"IC_kwDOAHF7Ec5BNnx7","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T17:25:27Z","updated_at":"2022-04-09T17:26:25Z","author_association":"NONE","body":"Ok I tried the url and it seems he's stuck somewhere.\r\n\r\n> bash-5.0# pwd\r\n> /fuseki-base/databases/fedora\r\n\r\n> bash-5.0# ls -al\r\n> drwxr-xr-x 2 root root 4096 Apr  6 07:44 Data-0001\r\n> drwxr-xr-x 2 root root 4096 Apr  9 12:32 Data-0002\r\n> -rw-r--r-- 1 root root    2 Apr  8 13:04 tdb.lock\r\n\r\n> bash-5.0# du -h\r\n> 74M     ./Data-0002\r\n> 38G     ./Data-0001\r\n\r\n> bash-5.0# date\r\n> Sat Apr  9 17:24:37 UTC 202\r\n\r\nAnd in the logs:\r\n12:32:23 INFO  Admin           :: [135306] Compact dataset /fedora\r\n12:32:23 INFO  Server          :: Task : 1 : Compact\r\n12:32:23 INFO  Server          :: [Task 1] starts : Compact\r\n12:32:23 INFO  Compact         :: [135306] >>>> Start compact /fedora\r\n\r\nWhat now?\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094089851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094090576","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094090576","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094090576,"node_id":"IC_kwDOAHF7Ec5BNn9Q","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T17:29:16Z","updated_at":"2022-04-09T17:29:16Z","author_association":"MEMBER","body":"Compaction can take some time and there will need to be sufficient space in the container.\r\n\r\nYou can check the Linux process state to see if the Fuseki process, with no requests, is showing as busy.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094090576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094094203","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094094203","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094094203,"node_id":"IC_kwDOAHF7Ec5BNo17","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T17:47:06Z","updated_at":"2022-04-09T17:47:06Z","author_association":"NONE","body":"I guess you need at least 50% of space left for this?\r\n/dev/sde         47G   38G  8.2G  83% /fuseki-base/databases\r\n\r\n![image](https://user-images.githubusercontent.com/279268/162585534-b7df123a-2cba-41bf-adca-759874fab727.png)\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094094203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094096529","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094096529","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094096529,"node_id":"IC_kwDOAHF7Ec5BNpaR","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T17:59:17Z","updated_at":"2022-04-09T17:59:17Z","author_association":"NONE","body":"Ow off course not, the new db in this example would be maybe 10GB.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094096529/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094100619","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094100619","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094100619,"node_id":"IC_kwDOAHF7Ec5BNqaL","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T18:19:54Z","updated_at":"2022-04-09T18:19:54Z","author_association":"MEMBER","body":"There needs to be space for a new DB which is at most the same size.\r\n\r\nThe old DB is not deleted by the compact function but it is no longer needed. You won't see a drop in disk space until you move/compress/delete it (e.g. it can be used as an archive or backup).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094100619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094109528","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094109528","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094109528,"node_id":"IC_kwDOAHF7Ec5BNslY","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T19:13:30Z","updated_at":"2022-04-09T19:13:30Z","author_association":"NONE","body":"So I rebooted the server, it started filling up in `0002` from 74 to 128M. Then I ran the compact url again:\r\n```\r\nbash-5.0# du -h\r\n128M    ./Data-0002\r\n74M     ./Data-0003\r\n38G     ./Data-0001\r\n39G     .\r\n```\r\nHe created a 003 with again 74MB without finishing the command. I'm not sure what to think of this.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094109528/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094110641","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094110641","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094110641,"node_id":"IC_kwDOAHF7Ec5BNs2x","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T19:21:20Z","updated_at":"2022-04-09T19:21:20Z","author_association":"NONE","body":"I rebooted the server yet again, it started filling op the `0003`. I ran the url but with `deleteOld=true` as a request parameter.\r\nNow the compact starts and finishes also without blocking up, in a few seconds. He deleted 0003 and continues with filling up into 0004.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094110641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094111439","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094111439","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094111439,"node_id":"IC_kwDOAHF7Ec5BNtDP","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T19:26:54Z","updated_at":"2022-04-09T19:27:47Z","author_association":"NONE","body":"So he compacted a 38GB db into 74MB? I doubt, the 004 is already 200MB again from filling up with some items.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094111439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094111854","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094111854","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094111854,"node_id":"IC_kwDOAHF7Ec5BNtJu","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T19:29:52Z","updated_at":"2022-04-09T19:29:52Z","author_association":"NONE","body":"Ok sorry for the rant, I did a compact again. `005` turned into 74MB again. With the deleteOld param. But this time it does block again, the compact command, and there's no finish.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094111854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094116680","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1094116680","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1094116680,"node_id":"IC_kwDOAHF7Ec5BNuVI","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-09T20:04:50Z","updated_at":"2022-04-09T20:04:50Z","author_association":"NONE","body":"I discovered the 'tasks' endpoint\r\n```\r\n{ \r\n    \"task\" : \"Compact\" ,\r\n    \"taskId\" : \"2\" ,\r\n    \"started\" : \"2022-04-09T19:28:00.006+00:00\"\r\n  } ,\r\n  { \r\n    \"task\" : \"Compact\" ,\r\n    \"taskId\" : \"1\" ,\r\n    \"started\" : \"2022-04-09T19:18:30.446+00:00\" ,\r\n    \"finished\" : \"2022-04-09T19:18:38.939+00:00\" ,\r\n    \"success\" : true\r\n  }\r\n```\r\nAs you can see indeed the first time I tried that deleteOld parameter , it went through after a few seconds and the server continued. The second call a few minutes later is like the other ones where the server seems to block. Also read calls are being blocked. Maybe a bug?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094116680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094674274","html_url":"https://github.com/apache/jena/pull/1256#issuecomment-1094674274","issue_url":"https://api.github.com/repos/apache/jena/issues/1256","id":1094674274,"node_id":"IC_kwDOAHF7Ec5BP2di","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-11T07:59:47Z","updated_at":"2022-04-11T07:59:47Z","author_association":"CONTRIBUTOR","body":"`ValidationListener` kind of asks for a more generic concept of `Listener` that could handle incoming requests.\r\nWhich would be like a [`ContainerRequestFilter`](https://docs.oracle.com/javaee/7/api/javax/ws/rs/container/ContainerRequestFilter.html) or [`MessageBodyReader`](https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyReader.html) in JAX-RS, but I'm not going to preach that again...","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094674274/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094683899","html_url":"https://github.com/apache/jena/pull/1256#issuecomment-1094683899","issue_url":"https://api.github.com/repos/apache/jena/issues/1256","id":1094683899,"node_id":"IC_kwDOAHF7Ec5BP4z7","user":{"login":"fkleedorfer","id":551624,"node_id":"MDQ6VXNlcjU1MTYyNA==","avatar_url":"https://avatars.githubusercontent.com/u/551624?v=4","gravatar_id":"","url":"https://api.github.com/users/fkleedorfer","html_url":"https://github.com/fkleedorfer","followers_url":"https://api.github.com/users/fkleedorfer/followers","following_url":"https://api.github.com/users/fkleedorfer/following{/other_user}","gists_url":"https://api.github.com/users/fkleedorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/fkleedorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkleedorfer/subscriptions","organizations_url":"https://api.github.com/users/fkleedorfer/orgs","repos_url":"https://api.github.com/users/fkleedorfer/repos","events_url":"https://api.github.com/users/fkleedorfer/events{/privacy}","received_events_url":"https://api.github.com/users/fkleedorfer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-11T08:09:34Z","updated_at":"2022-04-11T08:09:34Z","author_association":"CONTRIBUTOR","body":"> ValidationListener kind of asks for a more generic concept of Listener that could handle incoming requests.\r\nWhich would be like a [ContainerRequestFilter](https://docs.oracle.com/javaee/7/api/javax/ws/rs/container/ContainerRequestFilter.html) or [MessageBodyReader](https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/MessageBodyReader.html) in JAX-RS, but I'm not going to preach that again...\r\n\r\nI am not sure I follow. If this is about the naming, we could rename the thing to `ValidationCallback` (however, I felt that a callback is something that has just one method, whereas a listener may have many). Otherwise, I don't really get it - what are the 'requests' you mention? The SHACL subsystem is quite low-level, depending only on the Graph API, and architecturally is nowhere near any HTTP interface, if I am not mistaken. Could you elaborate/clarify?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094683899/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094686929","html_url":"https://github.com/apache/jena/pull/1256#issuecomment-1094686929","issue_url":"https://api.github.com/repos/apache/jena/issues/1256","id":1094686929,"node_id":"IC_kwDOAHF7Ec5BP5jR","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-11T08:12:31Z","updated_at":"2022-04-11T08:12:31Z","author_association":"CONTRIBUTOR","body":"@fkleedorfer my bad, I thought this was for Fuseki. I don't get how validation is invoked then...","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094686929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094689841","html_url":"https://github.com/apache/jena/pull/1256#issuecomment-1094689841","issue_url":"https://api.github.com/repos/apache/jena/issues/1256","id":1094689841,"node_id":"IC_kwDOAHF7Ec5BP6Qx","user":{"login":"fkleedorfer","id":551624,"node_id":"MDQ6VXNlcjU1MTYyNA==","avatar_url":"https://avatars.githubusercontent.com/u/551624?v=4","gravatar_id":"","url":"https://api.github.com/users/fkleedorfer","html_url":"https://github.com/fkleedorfer","followers_url":"https://api.github.com/users/fkleedorfer/followers","following_url":"https://api.github.com/users/fkleedorfer/following{/other_user}","gists_url":"https://api.github.com/users/fkleedorfer/gists{/gist_id}","starred_url":"https://api.github.com/users/fkleedorfer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fkleedorfer/subscriptions","organizations_url":"https://api.github.com/users/fkleedorfer/orgs","repos_url":"https://api.github.com/users/fkleedorfer/repos","events_url":"https://api.github.com/users/fkleedorfer/events{/privacy}","received_events_url":"https://api.github.com/users/fkleedorfer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-11T08:15:16Z","updated_at":"2022-04-11T08:22:32Z","author_association":"CONTRIBUTOR","body":"oh ok no problem. Maybe I should have been clearer in the PR description. It's a listener that allows to observe the SHACL validation process which is currently totally opaque apart from the ValidationReport that it produces. \r\nEDIT: I haven't looked into the use of SHACL in Fuseki, so I probably have a hard time understanding your remarks as I am lacking context. I assume it plays a role in Fuseki but I have another SHACL-related use case that I need this PR for. ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094689841/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094708711","html_url":"https://github.com/apache/jena/pull/1256#issuecomment-1094708711","issue_url":"https://api.github.com/repos/apache/jena/issues/1256","id":1094708711,"node_id":"IC_kwDOAHF7Ec5BP-3n","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-11T08:33:36Z","updated_at":"2022-04-11T08:33:36Z","author_association":"CONTRIBUTOR","body":"Basic use case in Fuseki would be validating incoming data against SHACL.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1094708711/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1096287680","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1096287680","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1096287680,"node_id":"IC_kwDOAHF7Ec5BWAXA","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-12T07:50:08Z","updated_at":"2022-04-12T07:50:08Z","author_association":"NONE","body":"Update: I have added a @Scheduled in spring boot to trigger the compact every day. So far 2 times successful. I'll update when I notice the compact fails.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1096287680/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100607544","html_url":"https://github.com/apache/jena/issues/1259#issuecomment-1100607544","issue_url":"https://api.github.com/repos/apache/jena/issues/1259","id":1100607544,"node_id":"IC_kwDOAHF7Ec5BmfA4","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T08:33:40Z","updated_at":"2022-04-16T08:33:40Z","author_association":"MEMBER","body":"Hi @LorenzBuehmann ,\r\n\r\nI vaguely (it was a very long time ago!) recall this coming up before. A difference now is that the only site this affects is likely to be wikidata (and then, only for now).\r\n\r\nHere is a MVCE:\r\n```java\r\n    public static void main(String...args) {\r\n        // U00E7\r\n        String qs = \"SELECT ?x { BIND('Curaao' As ?x) }\";\r\n        String qsx = \"SELECT ?x { BIND('Cura\\\\u00E7ao' As ?x) }\";\r\n\r\n        RowSet rowSet = QueryExecHTTP\r\n                .service(\"https://query.wikidata.org/sparql\")\r\n                //.sendMode(QuerySendMode.asPostForm)\r\n                //.sendMode(QuerySendMode.asPost)\r\n                .sendMode(QuerySendMode.asGetAlways)\r\n                .queryString(qs)\r\n                .select();\r\n        RowSetOps.out(rowSet);\r\n    }\r\n```\r\nAfter checking, the corruption is on the request receiving and `qsx` works in all three cases.\r\n\r\nThe three different sendModes give three different results.\r\n\r\n* `asGetAlways` works\r\n* `asPost` is corrupted in a way that looks like UTF-8 read as ISO-8859-?\r\n* `asPostForm` is a different corruption, not sure what and that might be Jena.\r\n\r\nI don't know why ISO-8859 is being used if their servers are Linux (system default). It hints it is a choice in the Blazegraph code.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100607544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100612572","html_url":"https://github.com/apache/jena/issues/1254#issuecomment-1100612572","issue_url":"https://api.github.com/repos/apache/jena/issues/1254","id":1100612572,"node_id":"IC_kwDOAHF7Ec5BmgPc","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T08:57:17Z","updated_at":"2022-04-16T08:57:17Z","author_association":"MEMBER","body":"Hi @fatzh,\r\n\r\nJena uses [jsonld-java](https://github.com/jsonld-java/jsonld-java) for reading JSON-LD 1.0 and uses [titanium-json-ld](https://github.com/filip26/titanium-json-ld) to parse JSON-LD 1.1.\r\n\r\nJena uses jsonld-java for writing JSON-LD (so JSON-LD 1.0). Note - your data does not have \"@ version\" (space added to not name a GH user!)\r\n\r\nWhen I parse the `[ \"book:_B\", \"book:_C\", \"book:_2\", \"book:_1\", \"book:_A\" ]` I get different RDF between JSON-LD 1.0 and 1.1 across json-ld-java and titanium. Same for the JSON-LD playground does the same for JSON-LD 1.0 vs 1.1.\r\n\r\nSee a users@jena thread:\r\nhttps://lists.apache.org/thread/zl0c6jgxnc9ckmc5pvhcoy72ypyr41fp\r\n\r\nSuggestion - could you add a prefix to the data for `book:`? The writer tries to use the prefixes to build the context.\r\n\r\nIt looks like a difference between JSON-LD 1.0 and 1.1.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100612572/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100648404","html_url":"https://github.com/apache/jena/issues/1248#issuecomment-1100648404","issue_url":"https://api.github.com/repos/apache/jena/issues/1248","id":1100648404,"node_id":"IC_kwDOAHF7Ec5Bmo_U","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T11:59:04Z","updated_at":"2022-04-16T11:59:04Z","author_association":"MEMBER","body":"Closed by #1249","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100648404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100686758","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1100686758","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1100686758,"node_id":"IC_kwDOAHF7Ec5BmyWm","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T15:15:52Z","updated_at":"2022-04-16T15:15:52Z","author_association":"MEMBER","body":"> read calls are being blocked\r\n\r\nAt what point? Compaction is a write operation but it does need to take exclusive access to switch the storage databases over. \r\n\r\nTo do the switchover at, it has to (1) stop new requests (2) let existing requests finish. Outstanding reads do mean a longer wait. Although it might be possible to let outstanding reads finish on the old database without block, that interacts with deleting the old database.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100686758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100751582","html_url":"https://github.com/apache/jena/issues/1254#issuecomment-1100751582","issue_url":"https://api.github.com/repos/apache/jena/issues/1254","id":1100751582,"node_id":"IC_kwDOAHF7Ec5BnCLe","user":{"login":"fatzh","id":4059934,"node_id":"MDQ6VXNlcjQwNTk5MzQ=","avatar_url":"https://avatars.githubusercontent.com/u/4059934?v=4","gravatar_id":"","url":"https://api.github.com/users/fatzh","html_url":"https://github.com/fatzh","followers_url":"https://api.github.com/users/fatzh/followers","following_url":"https://api.github.com/users/fatzh/following{/other_user}","gists_url":"https://api.github.com/users/fatzh/gists{/gist_id}","starred_url":"https://api.github.com/users/fatzh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fatzh/subscriptions","organizations_url":"https://api.github.com/users/fatzh/orgs","repos_url":"https://api.github.com/users/fatzh/repos","events_url":"https://api.github.com/users/fatzh/events{/privacy}","received_events_url":"https://api.github.com/users/fatzh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-16T20:38:13Z","updated_at":"2022-04-16T20:38:13Z","author_association":"NONE","body":"hi @afs ! thanks, indeed it seems ok when parsing with `@version: 1.0`. I guess at some point jsonld-java will support 1.1, they seem to be on it.\r\n\r\n> Note - your data does not have \"@ version\"\r\n\r\nthe data is what I get back from Jena, I guess I can live with it for now, but good to know.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1100751582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101141352","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1101141352","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1101141352,"node_id":"IC_kwDOAHF7Ec5BohVo","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T06:32:35Z","updated_at":"2022-04-18T06:35:19Z","author_association":"NONE","body":"We do it now every 4 hours and it shrinks a database of 25GB to 100MB in 15 seconds. Unfortunately Ubuntu doesn't seem to realize that the disc isn't full anymore and fuseki still hangs on a full disc. Sigh ... .\r\n\r\n```\r\nbash-5.0# pwd\r\n/fuseki-base\r\nbash-5.0# du -h\r\n1.2G    ./databases\r\nbash-5.0# df -h\r\nFilesystem      Size  Used Avail Use% Mounted on\r\n/dev/sdi         19G   19G     0 100% /fuseki-base/databases\r\n```\r\n\r\nThe disc itself is a CSI disc in azure.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101141352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101144845","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1101144845","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1101144845,"node_id":"IC_kwDOAHF7Ec5BoiMN","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T06:39:37Z","updated_at":"2022-04-18T06:39:37Z","author_association":"MEMBER","body":">Ubuntu doesn't seem to realize that the disc isn't full anymore and fuseki still hangs on a full disc. Sigh ... .\r\n\r\nThat might be due to the JVM process still running, so the OS holds back on reclaiming the space. You should be able to confirm with `lsof +L1` (``+aL1 <file_system>'' will select unlinked  open  files on the specified file system.)\r\n\r\nYou could try deleting the file descriptors, but I think a better option would be trying to figure out (if confirmed the JVM is the process holding the deleted files) if we could close the files letting the OS reclaim the space.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101144845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101163358","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1101163358","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1101163358,"node_id":"IC_kwDOAHF7Ec5Bomte","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T07:07:46Z","updated_at":"2022-04-18T07:07:46Z","author_association":"NONE","body":"Yes I think so. Sometimes we're lucky and it get's released on time, sometimes not, as you can see. Anyway I need to figure out how to delete those files, is that hard? What do I need to do for that? Or should I wait for an update from fuseki code?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101163358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101166552","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1101166552","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1101166552,"node_id":"IC_kwDOAHF7Ec5BonfY","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T07:12:16Z","updated_at":"2022-04-18T07:12:16Z","author_association":"NONE","body":"Also I still wanted to point out we had previously version 4.1.0, and it didn't have the issue of a growing disc like that. It would stay around a few hundreds of megabytes for day's. Our configuration and workflow remained the same. Just some queries and saving a few triples.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101166552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101180249","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1101180249","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1101180249,"node_id":"IC_kwDOAHF7Ec5Boq1Z","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T07:34:56Z","updated_at":"2022-04-18T07:34:56Z","author_association":"MEMBER","body":"> Yes I think so. Sometimes we're lucky and it get's released on time, sometimes not, as you can see. Anyway I need to figure out how to delete those files, is that hard? \r\n\r\nI'm not 100% sure that's the problem, but that's what I would start investigating.\r\n\r\n>What do I need to do for that? Or should I wait for an update from fuseki code?\r\n\r\nAfter you have compacted the database, and deleted the old files, if the space hasn't been claimed by the OS, then you can try `lsof +L1`, and search for files names to see if you can identify any Fuseki files.\r\n\r\nIf you find any files, share a list here and we can see if there's a file/resource not closed properly in Java.\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101180249/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101210656","html_url":"https://github.com/apache/jena/pull/1262#issuecomment-1101210656","issue_url":"https://api.github.com/repos/apache/jena/issues/1262","id":1101210656,"node_id":"IC_kwDOAHF7Ec5BoyQg","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T08:23:09Z","updated_at":"2022-04-18T08:23:09Z","author_association":"MEMBER","body":"And a security alert on async goes away.\r\n\r\nIt arrived on the working copy of jena on my own account.\r\nForking on GH means that security alerts are not secret.\r\n\r\nAttempting to update eslit didn't work so I left it alone.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101210656/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101211550","html_url":"https://github.com/apache/jena/issues/1261#issuecomment-1101211550","issue_url":"https://api.github.com/repos/apache/jena/issues/1261","id":1101211550,"node_id":"IC_kwDOAHF7Ec5Boyee","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T08:24:19Z","updated_at":"2022-04-18T08:24:19Z","author_association":"MEMBER","body":"Closed by #1262.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101211550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101213638","html_url":"https://github.com/apache/jena/pull/1262#issuecomment-1101213638","issue_url":"https://api.github.com/repos/apache/jena/issues/1262","id":1101213638,"node_id":"IC_kwDOAHF7Ec5Boy_G","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T08:26:57Z","updated_at":"2022-04-18T08:26:57Z","author_association":"MEMBER","body":"I think when you get a dependabot notification the issue is already published, so might be harder to fix it in secret.\r\n\r\nI'm using [Snyk](https://snyk.io/) on another project, and that one appears to find issues that are not yet disclosed (actually quite a lot, and not JS, but Python + Docker). Maybe we can test that on Jena too some day.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101213638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101432801","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1101432801","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1101432801,"node_id":"IC_kwDOAHF7Ec5Bpofh","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T14:03:16Z","updated_at":"2022-04-18T14:03:16Z","author_association":"MEMBER","body":"About 4.1.0 - could the change be that Fuseki UI defaults to creating TDb2 databases whereas at 4.1.0 it was TDB1.\r\n\r\nYou can still use TDB1 - create a config.ttl in run/configuration/_databasename_.ttl or copy the run/ setup from 4.1.0 usage.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101432801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101440442","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1101440442","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1101440442,"node_id":"IC_kwDOAHF7Ec5BpqW6","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T14:13:14Z","updated_at":"2022-04-18T14:13:14Z","author_association":"MEMBER","body":"Summary of compact improvements to consider:\r\n\r\n1. Improve compaction handling across a crash/restart (part written compacted databases)\r\n2. Make sure files are getting closed.\r\n3. (Maybe) allow existing readers to continue on the old database after change over.\r\n\r\nA possible TDB2 improvement for many small updates is to front the database with buffering updates; wait for 10 or 20 updates or a timeout and execute a TDB transaction for all of small updates. Losses the boundaries of old version databases are ever exposed which they aren't currently.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101440442/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101575333","html_url":"https://github.com/apache/jena/issues/1254#issuecomment-1101575333","issue_url":"https://api.github.com/repos/apache/jena/issues/1254","id":1101575333,"node_id":"IC_kwDOAHF7Ec5BqLSl","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T17:11:27Z","updated_at":"2022-04-18T17:11:27Z","author_association":"MEMBER","body":"@gkellogg -- Hi Gregg, the 1.0 and 1.1 playgrounds confirm this difference in behaviour for the \"book:YYY\".\r\n\r\nIf you have a moment, could you point to which of items in https://www.w3.org/TR/json-ld11/#changes-from-10 is causing this?\r\n\r\nSimplified version:\r\n```json\r\n{\r\n  \"@id\" : \"http://example/collection\",\r\n  \"http://example/p\" : [ \"book:ZZZ\" ],\r\n  \"book\" : [ \"book:YYY\" ],\r\n  \"@context\" : {\r\n    \"book\" : {\r\n      \"@id\" : \"http://onbetween.ch/3ms/cms#\",\r\n      \"@type\" : \"@id\"\r\n    }\r\n  }\r\n}\r\n```\r\ngives 1.0 playground:\r\n```nt\r\n<http://example/collection> <http://example/p> \"book:ZZZ\" .\r\n<http://example/collection> <http://onbetween.ch/3ms/cms#> <http://onbetween.ch/3ms/cms#YYY> .\r\n\r\n```\r\nor 1.1 playground:\r\n```nt\r\n<http://example/collection> <http://example/p> \"book:ZZZ\" .\r\n<http://example/collection> <http://onbetween.ch/3ms/cms#> <book:YYY> .\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101575333/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101793606","html_url":"https://github.com/apache/jena/issues/1254#issuecomment-1101793606","issue_url":"https://api.github.com/repos/apache/jena/issues/1254","id":1101793606,"node_id":"IC_kwDOAHF7Ec5BrAlG","user":{"login":"gkellogg","id":46296,"node_id":"MDQ6VXNlcjQ2Mjk2","avatar_url":"https://avatars.githubusercontent.com/u/46296?v=4","gravatar_id":"","url":"https://api.github.com/users/gkellogg","html_url":"https://github.com/gkellogg","followers_url":"https://api.github.com/users/gkellogg/followers","following_url":"https://api.github.com/users/gkellogg/following{/other_user}","gists_url":"https://api.github.com/users/gkellogg/gists{/gist_id}","starred_url":"https://api.github.com/users/gkellogg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gkellogg/subscriptions","organizations_url":"https://api.github.com/users/gkellogg/orgs","repos_url":"https://api.github.com/users/gkellogg/repos","events_url":"https://api.github.com/users/gkellogg/events{/privacy}","received_events_url":"https://api.github.com/users/gkellogg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-18T21:45:52Z","updated_at":"2022-04-18T21:45:52Z","author_association":"NONE","body":"Yes, this was intentional, as terms were used too liberally as prefixes, which caused unintended consequences. The note in the [Changes since 1.0 Recommendation of 16 January 2014](https://www.w3.org/TR/json-ld11-api/#changes-since-1-0-recommendation-of-16-january-2014) says the following:\r\n\r\n> In JSON-LD 1.1, terms will be used as [compact IRI](https://www.w3.org/TR/json-ld11/#dfn-compact-iri) prefixes when compacting only if a [simple term definition](https://www.w3.org/TR/json-ld11/#dfn-simple-term-definition) is used where the value ends with a URI [gen-delim](https://tools.ietf.org/html/rfc3986#section-2.2) character, or if their [expanded term definition](https://www.w3.org/TR/json-ld11/#dfn-expanded-term-definition) contains an @prefix [entry](https://infra.spec.whatwg.org/#map-entry) with the value true. The 1.0 algorithm has been updated to only consider terms that map to a value that ends with a URI [gen-delim](https://tools.ietf.org/html/rfc3986#section-2.2) character.\r\n\r\nThe operative step is Step 10 in the [Create Term Definition Algorithm](https://www.w3.org/TR/json-ld11-api/#algorithm-0)\r\n\r\n> Create a new [term definition](https://www.w3.org/TR/json-ld11/#dfn-term-definition), definition, initializing [prefix flag](https://www.w3.org/TR/json-ld11-api/#dfn-prefix-flag) to false, [protected](https://www.w3.org/TR/json-ld11-api/#dfn-protected) to protected, and [reverse property](https://www.w3.org/TR/json-ld11-api/#dfn-reverse-property) to false.\r\n\r\nAnd step 14.2.5:\r\n\r\n> If term contains neither a colon (:) nor a slash (/), simple term is true, and if the [IRI](https://tools.ietf.org/html/rfc3987#section-2) mapping of definition is either an IRI ending with a [gen-delim](https://tools.ietf.org/html/rfc3986#section-2.2) character, or a [blank node identifier](https://www.w3.org/TR/rdf11-concepts/#dfn-blank-node-identifier), set the [prefix flag](https://www.w3.org/TR/json-ld11-api/#dfn-prefix-flag) in definition to true.\r\n\r\nThe operative bit is that this is not a _simple term_.\r\n\r\nThis can be changed by adding `\"@prefix\": true` to the term definition ([playground link](https://json-ld.org/playground/#startTab=tab-nquads&json-ld=%7B%22%40id%22%3A%22http%3A%2F%2Fexample%2Fcollection%22%2C%22http%3A%2F%2Fexample%2Fp%22%3A%5B%22book%3AZZZ%22%5D%2C%22book%22%3A%5B%22book%3AYYY%22%5D%2C%22%40context%22%3A%7B%22book%22%3A%7B%22%40id%22%3A%22http%3A%2F%2Fonbetween.ch%2F3ms%2Fcms%23%22%2C%22%40type%22%3A%22%40id%22%2C%22%40prefix%22%3Atrue%7D%7D%7D)):\r\n\r\n```json\r\n{\r\n  \"@id\" : \"http://example/collection\",\r\n  \"http://example/p\" : [ \"book:ZZZ\" ],\r\n  \"book\" : [ \"book:YYY\" ],\r\n  \"@context\" : {\r\n    \"book\" : {\r\n      \"@id\" : \"http://onbetween.ch/3ms/cms#\",\r\n      \"@type\" : \"@id\",\r\n      \"@prefix\": true\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1101793606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1102192335","html_url":"https://github.com/apache/jena/issues/1254#issuecomment-1102192335","issue_url":"https://api.github.com/repos/apache/jena/issues/1254","id":1102192335,"node_id":"IC_kwDOAHF7Ec5Bsh7P","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-19T07:24:13Z","updated_at":"2022-04-19T07:24:13Z","author_association":"MEMBER","body":"@gkellogg -- thanks for the details.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1102192335/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1102303513","html_url":"https://github.com/apache/jena/issues/1252#issuecomment-1102303513","issue_url":"https://api.github.com/repos/apache/jena/issues/1252","id":1102303513,"node_id":"IC_kwDOAHF7Ec5Bs9EZ","user":{"login":"kdejaeger","id":279268,"node_id":"MDQ6VXNlcjI3OTI2OA==","avatar_url":"https://avatars.githubusercontent.com/u/279268?v=4","gravatar_id":"","url":"https://api.github.com/users/kdejaeger","html_url":"https://github.com/kdejaeger","followers_url":"https://api.github.com/users/kdejaeger/followers","following_url":"https://api.github.com/users/kdejaeger/following{/other_user}","gists_url":"https://api.github.com/users/kdejaeger/gists{/gist_id}","starred_url":"https://api.github.com/users/kdejaeger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kdejaeger/subscriptions","organizations_url":"https://api.github.com/users/kdejaeger/orgs","repos_url":"https://api.github.com/users/kdejaeger/repos","events_url":"https://api.github.com/users/kdejaeger/events{/privacy}","received_events_url":"https://api.github.com/users/kdejaeger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-19T08:40:35Z","updated_at":"2022-04-21T07:20:07Z","author_association":"NONE","body":"I'm strolling from one issue to the other it seems, now that server that did several compacts gives an error on startup:\r\n```\r\n08:36:45 INFO  System          :: Journal recovery start\r\n08:36:45 ERROR Server          :: Exception in initialization: caught: Failed to read the journal entry data: wanted 24 bytes, got -1\r\n```\r\nI guess the DB is corrupt now and I have to start over?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1102303513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1102664392","html_url":"https://github.com/apache/jena/pull/1262#issuecomment-1102664392","issue_url":"https://api.github.com/repos/apache/jena/issues/1262","id":1102664392,"node_id":"IC_kwDOAHF7Ec5BuVLI","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-19T13:34:42Z","updated_at":"2022-04-19T13:34:42Z","author_association":"MEMBER","body":"You're right - the alerts are on published issues. It's only GH making the alerts private to the project ... when they are so simple to get anyway\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1102664392/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1103643711","html_url":"https://github.com/apache/jena/issues/1259#issuecomment-1103643711","issue_url":"https://api.github.com/repos/apache/jena/issues/1259","id":1103643711,"node_id":"IC_kwDOAHF7Ec5ByEQ_","user":{"login":"LorenzBuehmann","id":976029,"node_id":"MDQ6VXNlcjk3NjAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/976029?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzBuehmann","html_url":"https://github.com/LorenzBuehmann","followers_url":"https://api.github.com/users/LorenzBuehmann/followers","following_url":"https://api.github.com/users/LorenzBuehmann/following{/other_user}","gists_url":"https://api.github.com/users/LorenzBuehmann/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzBuehmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzBuehmann/subscriptions","organizations_url":"https://api.github.com/users/LorenzBuehmann/orgs","repos_url":"https://api.github.com/users/LorenzBuehmann/repos","events_url":"https://api.github.com/users/LorenzBuehmann/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzBuehmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T08:51:39Z","updated_at":"2022-04-20T08:55:51Z","author_association":"CONTRIBUTOR","body":"Hi @afs \r\n\r\nYes, as I expected a limitation on the Wikidata backend or at least their server setup. I was just confused by the different behaviour of Jena 4.1.0 vs the latest versions, and then I remembered that you changed the used HTTP API. \r\n\r\nSee https://github.com/blazegraph/database/blob/master/bigdata-core/bigdata-sails/src/java/com/bigdata/rdf/sail/webapp/QueryServlet.java#L921\r\n\r\n```java\r\n static private String getQueryString(final HttpServletRequest req)\r\n            throws IOException {\r\n        if (RESTServlet.hasMimeType(req, MIME_SPARQL_QUERY)) {\r\n            // return the body of the POST, see trac 711\r\n            return readFully(req.getReader());\r\n        }\r\n        return req.getParameter(ATTR_QUERY) != null ? req\r\n                .getParameter(ATTR_QUERY) : (String) req\r\n                .getAttribute(ATTR_QUERY);\r\n    }\r\n```\r\n\r\nUnfortunately they rely on the old HTTP API and the `HttpServletRequest` sticks to `ISO-8859-` by default if in the HTTP request no encoding is specified - and you can't change the default encoding afaik. The only fix would be to set the encoding on the request object, i.e.  \r\n```java\r\nreq.setCharacterEncoding(\"UTF-8\");\r\n```\r\n\r\nSo not sure how to continue, we'll raise an issue on Blazegraph, but I don't think that fix will even make it to Wikidata setup as they would have to rebuild and redeploy Blazegraph.\r\n\r\nOr they would set the default encoding in their Jetty server if possible.\r\n\r\n----\r\n\r\nRegarding POST Form, via `curl` it works:\r\n\r\n```bash\r\ncurl -X POST --data \"query=SELECT ?x { BIND('Curaao' As ?x) }\" https://query.wikidata.org/sparql\r\n```\r\n\r\n----\r\n\r\nFor Jena I guess we can close this issue (once you got an idea on the POST form issue you mentioned) here and at least have it for reference and documentation as a known limitation. Might affect other users as well.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1103643711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1103846006","html_url":"https://github.com/apache/jena/issues/1259#issuecomment-1103846006","issue_url":"https://api.github.com/repos/apache/jena/issues/1259","id":1103846006,"node_id":"IC_kwDOAHF7Ec5By1p2","user":{"login":"LorenzBuehmann","id":976029,"node_id":"MDQ6VXNlcjk3NjAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/976029?v=4","gravatar_id":"","url":"https://api.github.com/users/LorenzBuehmann","html_url":"https://github.com/LorenzBuehmann","followers_url":"https://api.github.com/users/LorenzBuehmann/followers","following_url":"https://api.github.com/users/LorenzBuehmann/following{/other_user}","gists_url":"https://api.github.com/users/LorenzBuehmann/gists{/gist_id}","starred_url":"https://api.github.com/users/LorenzBuehmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LorenzBuehmann/subscriptions","organizations_url":"https://api.github.com/users/LorenzBuehmann/orgs","repos_url":"https://api.github.com/users/LorenzBuehmann/repos","events_url":"https://api.github.com/users/LorenzBuehmann/events{/privacy}","received_events_url":"https://api.github.com/users/LorenzBuehmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T11:55:21Z","updated_at":"2022-04-20T11:55:21Z","author_association":"CONTRIBUTOR","body":"@afs a follow up issue/question (we could also open another issue for better reference)\r\n\r\nWikidata people argued to use POST form because it works ...\r\n\r\nWe tried to set the `SERVICE` request mode via Fuseki assembler config:\r\n\r\n```\r\nja:context [ ja:cxtName \"arq:httpServiceSendMode\" ;  ja:cxtValue \"asGetWithLimitForm\" ] ;\r\n```\r\n\r\nThis indeed fails, as `Context::get` tries to return an object of the expected type in `Service::chooseQuerySendMode` method which in that case will be `QuerySendMode` and indeed casting a `String` to this type fails.\r\n\r\nA quick fix would workaround the limitation and handle at least the two different types of the context value, i.e. i) `String` coming from an assembler config or ii) a `QuerySendMode` coming from maybe some Java API setup :\r\n\r\n```java\r\nprivate static QuerySendMode chooseQuerySendMode(String serviceURL, Context context, QuerySendMode dftValue) {\r\n        if ( context == null )\r\n            return dftValue;\r\n        Object querySendMode = context.<Object>get(httpServiceSendMode, dftValue);\r\n        if (querySendMode instanceof String) { // handle string type from assembler config\r\n            return QuerySendMode.valueOf((String) querySendMode);\r\n        } else if (querySendMode instanceof QuerySendMode) { // handle enum type from Java API\r\n            return (QuerySendMode) querySendMode;\r\n        }\r\n        // handle null value and other non-supported types\r\n        return context.get(httpServiceSendMode, dftValue);\r\n    }\r\n```\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1103846006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1104476740","html_url":"https://github.com/apache/jena/issues/1264#issuecomment-1104476740","issue_url":"https://api.github.com/repos/apache/jena/issues/1264","id":1104476740,"node_id":"IC_kwDOAHF7Ec5B1PpE","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-20T21:36:06Z","updated_at":"2022-04-20T21:36:06Z","author_association":"MEMBER","body":"Hi @sszuev ,\r\n\r\nThat's a somewhat large example.\r\n\r\nWhat part of  SPARQ target is different between Apache Jena and Topquadrant SHACL?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1104476740/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1104797169","html_url":"https://github.com/apache/jena/issues/1264#issuecomment-1104797169","issue_url":"https://api.github.com/repos/apache/jena/issues/1264","id":1104797169,"node_id":"IC_kwDOAHF7Ec5B2d3x","user":{"login":"sszuev","id":17473366,"node_id":"MDQ6VXNlcjE3NDczMzY2","avatar_url":"https://avatars.githubusercontent.com/u/17473366?v=4","gravatar_id":"","url":"https://api.github.com/users/sszuev","html_url":"https://github.com/sszuev","followers_url":"https://api.github.com/users/sszuev/followers","following_url":"https://api.github.com/users/sszuev/following{/other_user}","gists_url":"https://api.github.com/users/sszuev/gists{/gist_id}","starred_url":"https://api.github.com/users/sszuev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sszuev/subscriptions","organizations_url":"https://api.github.com/users/sszuev/orgs","repos_url":"https://api.github.com/users/sszuev/repos","events_url":"https://api.github.com/users/sszuev/events{/privacy}","received_events_url":"https://api.github.com/users/sszuev/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-21T07:05:58Z","updated_at":"2022-04-21T08:57:37Z","author_association":"CONTRIBUTOR","body":"> That's a somewhat large example.\r\n> \r\n> What part of SPARQ target is different between Apache Jena and Topquadrant SHACL?\r\n\r\nHi, \r\n\r\nThe shacl-rules-graph and the data-graph are identical for both approaches, the difference only in behavior.\r\nHere is the concrete difference:\r\n```java\r\n    private static Model runJenaShaclRules(Model dataModel, Model rules) {\r\n        ValidationReport res = ShaclValidator.get().validate(rules.getGraph(), dataModel.getGraph());\r\n        return res.getModel();\r\n    }\r\n\r\n    private static Model runTopbraidShaclRules(Model dataModel, Model shapesModel) {\r\n        Resource report = org.topbraid.shacl.validation.ValidationUtil.validateModel(dataModel, shapesModel, false);\r\n        return report.getModel();\r\n    }\r\n```\r\nAnother way to reproduce: download and run `simple-shack-for-test.ttl`. It contains all rules and data. For Topquadrant SHACL implementation, Topbraid Composer can be used.\r\n\r\n__________\r\nIt seems Jena fails to handle property predicate `$custom`, which is pointed as `sh:NodeShape ex:custom rdfs:subClassOf`.\r\nEverything works fine If we replace it with `sh:NodeShape sh:select [ a sh:SPARQLConstraint ... ]` where there is no parameter in sparql-body.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1104797169/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1105681624","html_url":"https://github.com/apache/jena/issues/1259#issuecomment-1105681624","issue_url":"https://api.github.com/repos/apache/jena/issues/1259","id":1105681624,"node_id":"IC_kwDOAHF7Ec5B51zY","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-21T19:40:37Z","updated_at":"2022-04-21T19:40:37Z","author_association":"MEMBER","body":"Separate issue and PR please!\r\n\r\nWith error handling.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1105681624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1105683615","html_url":"https://github.com/apache/jena/issues/1259#issuecomment-1105683615","issue_url":"https://api.github.com/repos/apache/jena/issues/1259","id":1105683615,"node_id":"IC_kwDOAHF7Ec5B52Sf","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-21T19:43:03Z","updated_at":"2022-04-22T09:40:22Z","author_association":"MEMBER","body":"We might as well put back the \"charset=utf8\". It didn't seem to cause problems.\r\n\r\nI noticed another problem - GET and POST+form are not encoding as % characters outside printable ASCII.\r\nEverything works, including Wikidata, but strictly it is wrong.\r\n\r\nA fix is quite easy - PR #1269.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1105683615/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/1106441903","html_url":"https://github.com/apache/jena/pull/1256#issuecomment-1106441903","issue_url":"https://api.github.com/repos/apache/jena/issues/1256","id":1106441903,"node_id":"IC_kwDOAHF7Ec5B8vav","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-22T11:56:52Z","updated_at":"2022-04-22T11:56:52Z","author_association":"MEMBER","body":"Looks good - I have tried it a little and got some basic printing working, nothing fancy but it is doing what I would expect\r\n\r\nThe only way I can think of reducing the number of listener calls is to have one \"violated\" method pass in the shape and use the fact hat shapes have visitors. But in doing that it is really only moving the code around. The form in the current PR is fine. Maybe with real use, we'll see a better way but at the moment it would be guessing (equivalently, premature optimization).\r\n\r\n@fkleedorfer  If you want to make this \"ready for review\", it can be merged into the codebase and then will be in Jena 4.5.0. It can still change after that based on experience.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/1106441903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]