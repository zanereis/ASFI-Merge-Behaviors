[{"url":"https://api.github.com/repos/apache/storm/issues/comments/216505586","html_url":"https://github.com/apache/storm/pull/1387#issuecomment-216505586","issue_url":"https://api.github.com/repos/apache/storm/issues/1387","id":216505586,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjUwNTU4Ng==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T11:50:46Z","updated_at":"2016-05-03T11:50:46Z","author_association":"CONTRIBUTOR","body":"Please reopen this issue if you saw intermittent test failure. What I asked is that it's a theory or it occurred some issues.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216505586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903892","html_url":"https://github.com/apache/storm/issues/5591#issuecomment-2612903892","issue_url":"https://api.github.com/repos/apache/storm/issues/5591","id":2612903892,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDM4OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T11:50:47Z","updated_at":"2025-01-24T16:16:50Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1387#issuecomment-216505586\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1387#issuecomment-216505586</a></p>\n\n<p>    Please reopen this issue if you saw intermittent test failure. What I asked is that it's a theory or it occurred some issues.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903000","html_url":"https://github.com/apache/storm/issues/5585#issuecomment-2612903000","issue_url":"https://api.github.com/repos/apache/storm/issues/5585","id":2612903000,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDMwMDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T11:52:24Z","updated_at":"2025-01-24T16:16:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user srdo opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1389\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1389</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1750\" title=\"Report-error-and-die may not kill the worker\" class=\"issue-link\" data-issue-key=\"STORM-1750\"><del>STORM-1750</del></a>: Ensure worker dies when report-error-and-die is called. M…</p>\n\n<p>    …ake zookeeper_state_factory set-data try setting data if node creation fails because the node exists.</p>\n\n<p>    Backport of <a href=\"https://issues.apache.org/jira/browse/STORM-1750\" title=\"Report-error-and-die may not kill the worker\" class=\"issue-link\" data-issue-key=\"STORM-1750\"><del>STORM-1750</del></a></p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/srdo/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1750\" title=\"Report-error-and-die may not kill the worker\" class=\"issue-link\" data-issue-key=\"STORM-1750\"><del>STORM-1750</del></a>-1.x</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1389.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1389.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1389</p>\n\n<hr />\n<p>commit 6e4bdbc8cacd7621c570126a5d9e8da9f599d037<br/>\nAuthor: Stig Rohde Døssing <sdo@it-minds.dk><br/>\nDate:   2016-05-03T11:51:13Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1750\" title=\"Report-error-and-die may not kill the worker\" class=\"issue-link\" data-issue-key=\"STORM-1750\"><del>STORM-1750</del></a>: Ensure worker dies when report-error-and-die is called. Make zookeeper_state_factory set-data try setting data if node creation fails because the node exists</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216508276","html_url":"https://github.com/apache/storm/pull/1387#issuecomment-216508276","issue_url":"https://api.github.com/repos/apache/storm/issues/1387","id":216508276,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjUwODI3Ng==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T12:06:31Z","updated_at":"2016-05-03T12:12:37Z","author_association":"CONTRIBUTOR","body":"I did see OOME due to KafkaServer resources. 8x 130MB byte arrays caused the VM to run out of memory. 130MB is the default value for the log.cleaner.dedupe.buffer.size in Kafka 0.9.0.1. As I said, I can't reproduce it. It's probably not an issue on master when storm-kafka gets downgraded to 0.8.2.1 (here https://github.com/apache/storm/pull/1386), since one of the changes in Kafka 0.9.0.1 was to enable the log cleaner thread by default (and thus allocate some very large byte arrays when starting a server).\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216508276/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903898","html_url":"https://github.com/apache/storm/issues/5591#issuecomment-2612903898","issue_url":"https://api.github.com/repos/apache/storm/issues/5591","id":2612903898,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDM4OTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T12:06:32Z","updated_at":"2025-01-24T16:16:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user srdo commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1387#issuecomment-216508276\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1387#issuecomment-216508276</a></p>\n\n<p>    I did see OOME due to KafkaServer resources. 8x 130MB byte arrays caused the VM to run out of memory. As I said, I can't reproduce it. It's probably not an issue on master when storm-kafka gets downgraded to 0.8.2.1 (here <a href=\"https://github.com/apache/storm/pull/1386\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1386</a>), since one of the changes in Kafka 0.9.0.1 was to enable the log cleaner thread by default (and thus allocate some very large byte arrays when starting a server).</p>\n\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903903","html_url":"https://github.com/apache/storm/issues/5591#issuecomment-2612903903","issue_url":"https://api.github.com/repos/apache/storm/issues/5591","id":2612903903,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDM5MDM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T12:06:32Z","updated_at":"2025-01-24T16:16:51Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user srdo reopened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1387\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1387</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1756\" title=\"Storm-kafka tests leak resources due to retained references to KafkaServer\" class=\"issue-link\" data-issue-key=\"STORM-1756\"><del>STORM-1756</del></a>: Explicitly null KafkaServer reference in KafkaTestBroker …</p>\n\n<p>    …to prevent out of memory on large test classes.</p>\n\n<p>    I'm not clear on whether JUnit keeps the reference for the lifetime of the module test, or whether they're released after all tests in a class have run. Either way, a test class with a KafkaTestBroker field and many tests would likely still run out of memory.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/srdo/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1756\" title=\"Storm-kafka tests leak resources due to retained references to KafkaServer\" class=\"issue-link\" data-issue-key=\"STORM-1756\"><del>STORM-1756</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1387.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1387.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1387</p>\n\n<hr />\n<p>commit 0f760c20f2a5d1376d20f1dcb259bdb000cc1d35<br/>\nAuthor: Stig Rohde Døssing <stigdoessing@gmail.com><br/>\nDate:   2016-05-02T13:07:07Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1756\" title=\"Storm-kafka tests leak resources due to retained references to KafkaServer\" class=\"issue-link\" data-issue-key=\"STORM-1756\"><del>STORM-1756</del></a>: Explicitly null KafkaServer reference in KafkaTestBroker to prevent out of memory on large test classes</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903002","html_url":"https://github.com/apache/storm/issues/5585#issuecomment-2612903002","issue_url":"https://api.github.com/repos/apache/storm/issues/5585","id":2612903002,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDMwMDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T13:05:14Z","updated_at":"2025-01-24T16:16:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user srdo opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1390\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1390</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1750\" title=\"Report-error-and-die may not kill the worker\" class=\"issue-link\" data-issue-key=\"STORM-1750\"><del>STORM-1750</del></a> (0.10.x): Ensure worker dies when report-error-and-die is …</p>\n\n<p>    …called. Make cluster set-data try setting data if node creation fails because the node exists.</p>\n\n<p>    Backport of <a href=\"https://issues.apache.org/jira/browse/STORM-1750\" title=\"Report-error-and-die may not kill the worker\" class=\"issue-link\" data-issue-key=\"STORM-1750\"><del>STORM-1750</del></a></p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/srdo/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/srdo/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1750\" title=\"Report-error-and-die may not kill the worker\" class=\"issue-link\" data-issue-key=\"STORM-1750\"><del>STORM-1750</del></a>-0.10.x</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1390.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1390.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1390</p>\n\n<hr />\n<p>commit aaf3abf1132db1f22789bd58875367ac75216e37<br/>\nAuthor: Stig Rohde Døssing <sdo@it-minds.dk><br/>\nDate:   2016-05-03T13:04:27Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1750\" title=\"Report-error-and-die may not kill the worker\" class=\"issue-link\" data-issue-key=\"STORM-1750\"><del>STORM-1750</del></a> (0.10.x): Ensure worker dies when report-error-and-die is called. Make cluster set-data try setting data if node creation fails because the node exists.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216527257","html_url":"https://github.com/apache/storm/pull/1370#issuecomment-216527257","issue_url":"https://api.github.com/repos/apache/storm/issues/1370","id":216527257,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjUyNzI1Nw==","user":{"login":"ppoulosk","id":4550393,"node_id":"MDQ6VXNlcjQ1NTAzOTM=","avatar_url":"https://avatars.githubusercontent.com/u/4550393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppoulosk","html_url":"https://github.com/ppoulosk","followers_url":"https://api.github.com/users/ppoulosk/followers","following_url":"https://api.github.com/users/ppoulosk/following{/other_user}","gists_url":"https://api.github.com/users/ppoulosk/gists{/gist_id}","starred_url":"https://api.github.com/users/ppoulosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppoulosk/subscriptions","organizations_url":"https://api.github.com/users/ppoulosk/orgs","repos_url":"https://api.github.com/users/ppoulosk/repos","events_url":"https://api.github.com/users/ppoulosk/events{/privacy}","received_events_url":"https://api.github.com/users/ppoulosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T13:27:44Z","updated_at":"2016-05-03T13:27:44Z","author_association":"CONTRIBUTOR","body":"Will do.  Thanks.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216527257/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612896816","html_url":"https://github.com/apache/storm/issues/5542#issuecomment-2612896816","issue_url":"https://api.github.com/repos/apache/storm/issues/5542","id":2612896816,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTY4MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T13:27:45Z","updated_at":"2025-01-24T16:13:30Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ppoulosk commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1370#issuecomment-216527257\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1370#issuecomment-216527257</a></p>\n\n<p>    Will do.  Thanks.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612896816/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216529805","html_url":"https://github.com/apache/storm/pull/1335#issuecomment-216529805","issue_url":"https://api.github.com/repos/apache/storm/issues/1335","id":216529805,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjUyOTgwNQ==","user":{"login":"ppoulosk","id":4550393,"node_id":"MDQ6VXNlcjQ1NTAzOTM=","avatar_url":"https://avatars.githubusercontent.com/u/4550393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppoulosk","html_url":"https://github.com/ppoulosk","followers_url":"https://api.github.com/users/ppoulosk/followers","following_url":"https://api.github.com/users/ppoulosk/following{/other_user}","gists_url":"https://api.github.com/users/ppoulosk/gists{/gist_id}","starred_url":"https://api.github.com/users/ppoulosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppoulosk/subscriptions","organizations_url":"https://api.github.com/users/ppoulosk/orgs","repos_url":"https://api.github.com/users/ppoulosk/repos","events_url":"https://api.github.com/users/ppoulosk/events{/privacy}","received_events_url":"https://api.github.com/users/ppoulosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T13:37:50Z","updated_at":"2016-05-03T13:37:50Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR,\n\nI assumed that because storm-kafka already builds against kafka 0.9 and that the changes to max.block.ms were only in unit test code it would not affect any user compatibility.  Is that wrong?\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216529805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887713","html_url":"https://github.com/apache/storm/issues/5481#issuecomment-2612887713","issue_url":"https://api.github.com/repos/apache/storm/issues/5481","id":2612887713,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODc3MTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T13:37:52Z","updated_at":"2025-01-24T16:09:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ppoulosk commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1335#issuecomment-216529805\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1335#issuecomment-216529805</a></p>\n\n<p>    @HeartSaVioR,</p>\n\n<p>    I assumed that because storm-kafka already builds against kafka 0.9 and that the changes to max.block.ms were only in unit test code it would not affect any user compatibility.  Is that wrong?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887713/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216535715","html_url":"https://github.com/apache/storm/pull/1335#issuecomment-216535715","issue_url":"https://api.github.com/repos/apache/storm/issues/1335","id":216535715,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjUzNTcxNQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T13:57:28Z","updated_at":"2016-05-03T13:57:51Z","author_association":"CONTRIBUTOR","body":"Issue is that some users report that storm-kafka 1.0.0 with 0.9 is not working properly.\n\nPlease refer https://issues.apache.org/jira/browse/STORM-1755 and #1386.\nWhen we adjust the version into 0.8.x, that option becomes useless for test codes, which could incur failures which will be hard to find.\n\nBut using `metadata.fetch.timeout.ms` wouldn't make any issues for Kafka 0.8 and 0.9. And I don't think storm-kafka can support Kafka same or upper than 0.10.0 clearly so no issue for using deprecated property. But this is just my 2 cents and I'd like to hear about other opinions, too.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216535715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887718","html_url":"https://github.com/apache/storm/issues/5481#issuecomment-2612887718","issue_url":"https://api.github.com/repos/apache/storm/issues/5481","id":2612887718,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODc3MTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T13:57:30Z","updated_at":"2025-01-24T16:09:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1335#issuecomment-216535715\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1335#issuecomment-216535715</a></p>\n\n<p>    Issue is that some users report that storm-kafka 1.0.0 with 0.9 is not working properly.</p>\n\n<p>    Please refer <a href=\"https://issues.apache.org/jira/browse/STORM-1755\" class=\"external-link\" rel=\"nofollow\">https://issues.apache.org/jira/browse/STORM-1755</a> and #1386.<br/>\n    When we adjust the version into 0.8.x, that option becomes useless for test codes, which could incur failures which seems hard to find.</p>\n\n<p>    But using `metadata.fetch.timeout.ms` wouldn't make any issues for Kafka 0.8 and 0.9. And I don't think storm-kafka can support Kafka same or upper than 0.10.0 clearly so no issue for using deprecated property. But this is just my 2 cents and I'd like to hear about other opinions, too.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887718/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904236","html_url":"https://github.com/apache/storm/issues/5593#issuecomment-2612904236","issue_url":"https://api.github.com/repos/apache/storm/issues/5593","id":2612904236,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQyMzY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T14:28:31Z","updated_at":"2025-01-24T16:17:00Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>Could you add 'storm.local.hostname: <hostname or ip>' to storm.yaml for each node and see it helps?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904236/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904246","html_url":"https://github.com/apache/storm/issues/5593#issuecomment-2612904246","issue_url":"https://api.github.com/repos/apache/storm/issues/5593","id":2612904246,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQyNDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T14:59:21Z","updated_at":"2025-01-24T16:17:00Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=31z4\">31z4</a>:</i>\n<p>It works. Thanks!</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216558668","html_url":"https://github.com/apache/storm/pull/1386#issuecomment-216558668","issue_url":"https://api.github.com/repos/apache/storm/issues/1386","id":216558668,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU1ODY2OA==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:08:06Z","updated_at":"2016-05-03T15:08:06Z","author_association":"CONTRIBUTOR","body":"Yes. Good thing is storm-kafka doesn't use any api only available in kafka 0.9.x and thus can still run with kafka 0.8.x by simply excluding dependency. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216558668/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903613","html_url":"https://github.com/apache/storm/issues/5590#issuecomment-2612903613","issue_url":"https://api.github.com/repos/apache/storm/issues/5590","id":2612903613,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDM2MTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:08:07Z","updated_at":"2025-01-24T16:16:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1386#issuecomment-216558668\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1386#issuecomment-216558668</a></p>\n\n<p>    Yes. Good thing is storm-kafka doesn't use any api only available in kafka 0.9.x and thus can still run with kafka 0.8.x by simply excluding dependency. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904252","html_url":"https://github.com/apache/storm/issues/5593#issuecomment-2612904252","issue_url":"https://api.github.com/repos/apache/storm/issues/5593","id":2612904252,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQyNTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:10:20Z","updated_at":"2025-01-24T16:17:00Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=31z4\">31z4</a>:</i>\n<p>Actually it's only necessary to add this into the nimbus and supervisor configuration.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904252/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895542","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895542","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895542,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:13:18Z","updated_at":"2025-01-24T16:12:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r61898673\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r61898673</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/filter/FilterByMetricName.java &#8212;<br/>\n    @@ -0,0 +1,93 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.metric.filter;<br/>\n    +<br/>\n    +import com.google.common.base.Function;<br/>\n    +import com.google.common.collect.Iterators;<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.List;<br/>\n    +import java.util.regex.Pattern;<br/>\n    +<br/>\n    +public class FilterByMetricName implements MetricsFilter {<br/>\n    +<br/>\n    +    private List<Pattern> whitelistPattern;<br/>\n    +    private List<Pattern> blacklistPattern;<br/>\n    +    private boolean noneSpecified = false;<br/>\n    +<br/>\n    +    public FilterByMetricName(List<String> whitelistPattern, List<String> blacklistPattern) {<br/>\n    +// guard NPE<br/>\n    +if (whitelistPattern == null) </p>\n{\n    +    this.whitelistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.whitelistPattern = convertPatternStringsToPatternInstances(whitelistPattern);\n    +}\n<p>    +<br/>\n    +// guard NPE<br/>\n    +if (blacklistPattern == null) </p>\n{\n    +    this.blacklistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.blacklistPattern = convertPatternStringsToPatternInstances(blacklistPattern);\n    +}\n<p>    +<br/>\n    +if (this.whitelistPattern.isEmpty() && this.blacklistPattern.isEmpty()) </p>\n{\n    +    noneSpecified = true;\n    +}\n<p> else if (!this.whitelistPattern.isEmpty() && !this.blacklistPattern.isEmpty()) </p>\n{\n    +    throw new IllegalArgumentException(\"You have to specify either includes or excludes, or none.\");\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private ArrayList<Pattern> convertPatternStringsToPatternInstances(List<String> patterns) {<br/>\n    +return Lists.newArrayList(Iterators.transform(patterns.iterator(), new Function<String, Pattern>() {<br/>\n    +    @Override<br/>\n    +    public Pattern apply(String s) </p>\n{\n    +return Pattern.compile(s);\n    +    }\n<p>    +}));<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public boolean apply(IMetricsConsumer.DataPoint dataPoint) {<br/>\n    +if (noneSpecified) </p>\n{\n    +    return true;\n    +}\n<p>    +<br/>\n    +String metricName = dataPoint.name;<br/>\n    +<br/>\n    +if (!whitelistPattern.isEmpty()) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    OK, I personally prefer the latter approach.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895542/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216560931","html_url":"https://github.com/apache/storm/pull/1376#issuecomment-216560931","issue_url":"https://api.github.com/repos/apache/storm/issues/1376","id":216560931,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU2MDkzMQ==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:15:44Z","updated_at":"2016-05-03T15:15:44Z","author_association":"CONTRIBUTOR","body":"This would also break the compatibility of storm 1.0.0 with 0.8.x kafka client API. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216560931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612900916","html_url":"https://github.com/apache/storm/issues/5571#issuecomment-2612900916","issue_url":"https://api.github.com/repos/apache/storm/issues/5571","id":2612900916,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDA5MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:15:46Z","updated_at":"2025-01-24T16:15:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1376#issuecomment-216560931\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1376#issuecomment-216560931</a></p>\n\n<p>    This would also break the compatibility of storm 1.0.0 with 0.8.x kafka client API. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612900916/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895544","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895544","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895544,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1NDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:18:35Z","updated_at":"2025-01-24T16:12:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user unsleepy22 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r61899624\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r61899624</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -47,17 +68,71 @@ public void prepare(Map stormConf, TopologyContext context, OutputCollector coll<br/>\n     }<br/>\n     _metricsConsumer.prepare(stormConf, _registrationArgument, context, collector);<br/>\n     _collector = collector;<br/>\n    +_taskExecuteThread = new Thread(new MetricsHandlerRunnable());<br/>\n    +_taskExecuteThread.setDaemon(true);<br/>\n    +_taskExecuteThread.start();<br/>\n }</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>_metricsConsumer.handleDataPoints((IMetricsConsumer.TaskInfo)input.getValue(0), (Collection)input.getValue(1));<br/>\n    +// remove older tasks if task queue exceeds the max size<br/>\n    +if (_taskQueue.size() > _maxRetainMetricTuples) {<br/>\n    +    while (_taskQueue.size() - 1 > _maxRetainMetricTuples) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I guess we may run into a concurrent issue here, if while statement suffices, it poll one item, while at the same time, metrics consumer consumers one item, anyway, I don't think this matters too much so I'm ok to keep it as is.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895544/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216564619","html_url":"https://github.com/apache/storm/pull/1335#issuecomment-216564619","issue_url":"https://api.github.com/repos/apache/storm/issues/1335","id":216564619,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU2NDYxOQ==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:26:45Z","updated_at":"2016-05-03T15:26:45Z","author_association":"CONTRIBUTOR","body":"storm-kafka will probably support 0.10.0, I believe the Kafka developers version their APIs so new clusters can talk to old clients. That shouldn't affect the choice of configuration parameters though, since any 0.8.x support in 0.10.0 would expect 0.8.x configuration parameters.\n\nSee https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/api/ApiVersion.scala and how it's used in https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/server/KafkaApis.scala if you're interested. The way I understand it is the client indicates which version of the API it wants to use, and then the broker uses that version of the API for requests/responses.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216564619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887726","html_url":"https://github.com/apache/storm/issues/5481#issuecomment-2612887726","issue_url":"https://api.github.com/repos/apache/storm/issues/5481","id":2612887726,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODc3MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:26:46Z","updated_at":"2025-01-24T16:09:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user srdo commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1335#issuecomment-216564619\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1335#issuecomment-216564619</a></p>\n\n<p>    storm-kafka will probably support 0.10.0, I believe the Kafka developers version their APIs so new clusters can talk to old clients. That shouldn't affect the choice of configuration parameters though, since any 0.8.x support in 0.10.0 would expect 0.8.x configuration parameters.</p>\n\n<p>    See <a href=\"https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/api/ApiVersion.scala\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/api/ApiVersion.scala</a> and how it's used in <a href=\"https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/server/KafkaApis.scala\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/kafka/blob/trunk/core/src/main/scala/kafka/server/KafkaApis.scala</a> if you're interested. The way I understand it is the client indicates which version of the API it wants to use, and then the broker uses that version of the API for requests/responses.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887726/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895550","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895550","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895550,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1NTA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:27:04Z","updated_at":"2025-01-24T16:12:56Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r61901102\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r61901102</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -47,17 +68,71 @@ public void prepare(Map stormConf, TopologyContext context, OutputCollector coll<br/>\n     }<br/>\n     _metricsConsumer.prepare(stormConf, _registrationArgument, context, collector);<br/>\n     _collector = collector;<br/>\n    +_taskExecuteThread = new Thread(new MetricsHandlerRunnable());<br/>\n    +_taskExecuteThread.setDaemon(true);<br/>\n    +_taskExecuteThread.start();<br/>\n }</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>_metricsConsumer.handleDataPoints((IMetricsConsumer.TaskInfo)input.getValue(0), (Collection)input.getValue(1));<br/>\n    +// remove older tasks if task queue exceeds the max size<br/>\n    +if (_taskQueue.size() > _maxRetainMetricTuples) {<br/>\n    +    while (_taskQueue.size() - 1 > _maxRetainMetricTuples) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    I guess maybe it could drop one more item but it's not a big deal anyway. Ideally, taskQueue exceeding the max retain metric tuples should not occur.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895550/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216565610","html_url":"https://github.com/apache/storm/pull/1335#issuecomment-216565610","issue_url":"https://api.github.com/repos/apache/storm/issues/1335","id":216565610,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU2NTYxMA==","user":{"login":"ppoulosk","id":4550393,"node_id":"MDQ6VXNlcjQ1NTAzOTM=","avatar_url":"https://avatars.githubusercontent.com/u/4550393?v=4","gravatar_id":"","url":"https://api.github.com/users/ppoulosk","html_url":"https://github.com/ppoulosk","followers_url":"https://api.github.com/users/ppoulosk/followers","following_url":"https://api.github.com/users/ppoulosk/following{/other_user}","gists_url":"https://api.github.com/users/ppoulosk/gists{/gist_id}","starred_url":"https://api.github.com/users/ppoulosk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ppoulosk/subscriptions","organizations_url":"https://api.github.com/users/ppoulosk/orgs","repos_url":"https://api.github.com/users/ppoulosk/repos","events_url":"https://api.github.com/users/ppoulosk/events{/privacy}","received_events_url":"https://api.github.com/users/ppoulosk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:28:50Z","updated_at":"2016-05-03T15:28:50Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation.  Will revert that change.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216565610/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887730","html_url":"https://github.com/apache/storm/issues/5481#issuecomment-2612887730","issue_url":"https://api.github.com/repos/apache/storm/issues/5481","id":2612887730,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODc3MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:28:51Z","updated_at":"2025-01-24T16:09:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user ppoulosk commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1335#issuecomment-216565610\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1335#issuecomment-216565610</a></p>\n\n<p>    Thanks for the explanation.  Will revert that change.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887730/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216573099","html_url":"https://github.com/apache/storm/pull/1335#issuecomment-216573099","issue_url":"https://api.github.com/repos/apache/storm/issues/1335","id":216573099,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU3MzA5OQ==","user":{"login":"srdo","id":4324588,"node_id":"MDQ6VXNlcjQzMjQ1ODg=","avatar_url":"https://avatars.githubusercontent.com/u/4324588?v=4","gravatar_id":"","url":"https://api.github.com/users/srdo","html_url":"https://github.com/srdo","followers_url":"https://api.github.com/users/srdo/followers","following_url":"https://api.github.com/users/srdo/following{/other_user}","gists_url":"https://api.github.com/users/srdo/gists{/gist_id}","starred_url":"https://api.github.com/users/srdo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/srdo/subscriptions","organizations_url":"https://api.github.com/users/srdo/orgs","repos_url":"https://api.github.com/users/srdo/repos","events_url":"https://api.github.com/users/srdo/events{/privacy}","received_events_url":"https://api.github.com/users/srdo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:49:42Z","updated_at":"2016-05-03T15:49:42Z","author_association":"CONTRIBUTOR","body":"I might have been a bit quick on the trigger there. The Kafka coding guidelines target backward compatibility for one release only. So storm-kafka might not support 0.10.0.\n\n(http://kafka.apache.org/coding-guide.html under backwards compatibility)\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216573099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887735","html_url":"https://github.com/apache/storm/issues/5481#issuecomment-2612887735","issue_url":"https://api.github.com/repos/apache/storm/issues/5481","id":2612887735,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODc3MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T15:49:43Z","updated_at":"2025-01-24T16:09:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user srdo commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1335#issuecomment-216573099\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1335#issuecomment-216573099</a></p>\n\n<p>    I might have been a bit quick on the trigger there. The Kafka coding guidelines target backward compatibility for one release only. So storm-kafka might not support 0.10.0.</p>\n\n<p>    (<a href=\"http://kafka.apache.org/coding-guide.html\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://kafka.apache.org/coding-guide.html</a> under backwards compatibility)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216576871","html_url":"https://github.com/apache/storm/pull/1335#issuecomment-216576871","issue_url":"https://api.github.com/repos/apache/storm/issues/1335","id":216576871,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU3Njg3MQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:00:57Z","updated_at":"2016-05-03T16:00:57Z","author_association":"CONTRIBUTOR","body":"Yeah, I guess Kafka doesn't strictly respect semantic versioning, or their major version seems to 2nd number of the version at least before reaching 1.0.0.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216576871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887742","html_url":"https://github.com/apache/storm/issues/5481#issuecomment-2612887742","issue_url":"https://api.github.com/repos/apache/storm/issues/5481","id":2612887742,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4ODc3NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:01:03Z","updated_at":"2025-01-24T16:09:12Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1335#issuecomment-216576871\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1335#issuecomment-216576871</a></p>\n\n<p>    Yeah, I guess Kafka doesn't strictly respect semantic versioning, or their major version seems to 2nd number of the version at least before reaching 1.0.0.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612887742/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216579561","html_url":"https://github.com/apache/storm/pull/1376#issuecomment-216579561","issue_url":"https://api.github.com/repos/apache/storm/issues/1376","id":216579561,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU3OTU2MQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:10:19Z","updated_at":"2016-05-03T16:10:19Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR @abhishekagarwal87 this issues happens with Kafka 0.10 branch. \nYes it does break test compatability with 0.8.x . Keep in mind that KafkaConfig is an internal kafka class that we use to start a in-process kafka broker. We shouldn't be calling it as breaking comptability with client api. Also this change will work with Kafka 0.9.x on wards\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216579561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612900921","html_url":"https://github.com/apache/storm/issues/5571#issuecomment-2612900921","issue_url":"https://api.github.com/repos/apache/storm/issues/5571","id":2612900921,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDA5MjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:10:20Z","updated_at":"2025-01-24T16:15:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1376#issuecomment-216579561\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1376#issuecomment-216579561</a></p>\n\n<p>    @HeartSaVioR @abhishekagarwal87 this issues happens with Kafka 0.10 branch. <br/>\n    Yes it does break test compatability with 0.8.x . Keep in mind that KafkaConfig is an internal kafka class that we use to start a in-process kafka broker. We shouldn't be calling it as breaking comptability with client api. Also this change will work with Kafka 0.9.x on wards</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612900921/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216587066","html_url":"https://github.com/apache/storm/pull/1376#issuecomment-216587066","issue_url":"https://api.github.com/repos/apache/storm/issues/1376","id":216587066,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU4NzA2Ng==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:34:27Z","updated_at":"2016-05-03T16:34:27Z","author_association":"CONTRIBUTOR","body":"@harshach - with this change, test compilation will fail once the #1386 is merged. Since this is the internal class used only in test, do we really need to make it compatible with 0.10 branch? \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216587066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612900926","html_url":"https://github.com/apache/storm/issues/5571#issuecomment-2612900926","issue_url":"https://api.github.com/repos/apache/storm/issues/5571","id":2612900926,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDA5MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:34:29Z","updated_at":"2025-01-24T16:15:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1376#issuecomment-216587066\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1376#issuecomment-216587066</a></p>\n\n<p>    @harshach - with this change, test compilation will fail once the #1386 is merged. Since this is the internal class used only in test, do we really need to make it compatible with 0.10 branch? </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612900926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216590463","html_url":"https://github.com/apache/storm/pull/1386#issuecomment-216590463","issue_url":"https://api.github.com/repos/apache/storm/issues/1386","id":216590463,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU5MDQ2Mw==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:43:50Z","updated_at":"2016-05-03T16:43:50Z","author_association":"CONTRIBUTOR","body":"@abhishekagarwal87 what exactly are we trying to do here. Are we talking about the producer api not being comptabile with 0.8.x? . There was a suggested approach in storm-kafka-client patch where we decided to move producer-api under storm-kafka-client and make that version as 0.9. \n\nIf users are intended to run a storm-kafka bolt with 0.8.x cluster they should be using previous version and we should note this release notes. Just making the verison change here is a temporary fix and also we are removing any potential new features in kafka client api out of user hands , example security.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216590463/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903616","html_url":"https://github.com/apache/storm/issues/5590#issuecomment-2612903616","issue_url":"https://api.github.com/repos/apache/storm/issues/5590","id":2612903616,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDM2MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:43:51Z","updated_at":"2025-01-24T16:16:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1386#issuecomment-216590463\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1386#issuecomment-216590463</a></p>\n\n<p>    @abhishekagarwal87 what exactly are we trying to do here. Are we talking about the producer api not being comptabile with 0.8.x? . There was a suggested approach in storm-kafka-client patch where we decided to move producer-api under storm-kafka-client and make that version as 0.9. </p>\n\n<p>    If users are intended to run a storm-kafka bolt with 0.8.x cluster they should be using previous version and we should note this release notes. Just making the verison change here is a temporary fix and also we are removing any potential new features in kafka client api out of user hands , example security.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216590606","html_url":"https://github.com/apache/storm/pull/1376#issuecomment-216590606","issue_url":"https://api.github.com/repos/apache/storm/issues/1376","id":216590606,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjU5MDYwNg==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:44:04Z","updated_at":"2016-05-03T16:44:04Z","author_association":"CONTRIBUTOR","body":"@abhishekagarwal87 commented on your PR https://github.com/apache/storm/pull/1386 . \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216590606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612900928","html_url":"https://github.com/apache/storm/issues/5571#issuecomment-2612900928","issue_url":"https://api.github.com/repos/apache/storm/issues/5571","id":2612900928,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDA5Mjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T16:44:05Z","updated_at":"2025-01-24T16:15:25Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1376#issuecomment-216590606\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1376#issuecomment-216590606</a></p>\n\n<p>    @abhishekagarwal87 commented on your PR <a href=\"https://github.com/apache/storm/pull/1386\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1386</a> . </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612900928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891835","html_url":"https://github.com/apache/storm/issues/5509#issuecomment-2612891835","issue_url":"https://api.github.com/repos/apache/storm/issues/5509","id":2612891835,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTE4MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T18:28:37Z","updated_at":"2025-01-24T16:11:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mr.robert.hastings@gmail.com\">mr.robert.hastings@gmail.com</a>:</i>\n<p>Sure, in progress.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904000","html_url":"https://github.com/apache/storm/issues/5592#issuecomment-2612904000","issue_url":"https://api.github.com/repos/apache/storm/issues/5592","id":2612904000,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQwMDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T20:15:09Z","updated_at":"2025-01-24T16:16:53Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hmclouro\">hmclouro</a>:</i>\n<p>I also would like to work on this project.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904000/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891842","html_url":"https://github.com/apache/storm/issues/5509#issuecomment-2612891842","issue_url":"https://api.github.com/repos/apache/storm/issues/5509","id":2612891842,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTE4NDI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T20:58:10Z","updated_at":"2025-01-24T16:11:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user moesol opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1391\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1391</a></p>\n\n<p>    (<a href=\"https://issues.apache.org/jira/browse/STORM-1674\" title=\"Idle KafkaSpout consumes more bandwidth than needed\" class=\"issue-link\" data-issue-key=\"STORM-1674\"><del>STORM-1674</del></a>) Idle KafkaSpout consumes more bandwidth than needed</p>\n\n<ul>\n\t<li>Allows minBytes in fetch request to be configured<br/>\n      from KafkaConfig.fetchMinBytes.</li>\n\t<li>Defaults new configuration KafkaConfig.fetchMinBytes to 1.</li>\n\t<li>Defaults fetchMaxWait to 100ms instead of 10000ms.</li>\n</ul>\n\n\n<p>    Discovered 30 megabits of traffic flowing between a set of KafkaSpouts<br/>\n    and our kafka servers even though no Kafka messages were moving.<br/>\n    Using the wireshark kafka dissector, we were able to see that<br/>\n    each FetchRequest had maxWait set to 10000<br/>\n    and minBytes set to 0. When binBytes is set to 0 the kafka server<br/>\n    responds immediately when there are no messages. In turn the KafkaSpout<br/>\n    polls without any delay causing a constant stream of FetchRequest/<br/>\n    FetchResponse messages. Using a non-KafkaSpout client had a similar<br/>\n    traffic pattern with two key differences<br/>\n    1) minBytes was 1<br/>\n    2) maxWait was 100<br/>\n    With these FetchRequest parameters and no messages flowing,<br/>\n    the kafka server delays the FetchResponse by 100 ms. This reduces<br/>\n    the network traffic from megabits to the low kilobits. It also<br/>\n    reduced the CPU utilization of our kafka server from 140% to 2%.</p>\n\n<p>    Hopefully the risk of this change is low because<br/>\n    the old behavior can be restored using the API by setting<br/>\n    KafkaConfig.fetchMaxWait to 10000<br/>\n    KafkaConfig.fetchMinBytes to 0</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/MoebiusSolutions/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/MoebiusSolutions/storm</a> 0.10.x-branch</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1391.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1391.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1391</p>\n\n<hr />\n<p>commit ea1d3189c8113cc2888366fa5b24579776279886<br/>\nAuthor: Robert Hastings <rhastings@moesol.com><br/>\nDate:   2016-03-31T23:14:47Z</p>\n\n<p>    Addresses network flood from KafkaSpout to kafka server.</p>\n\n<ul>\n\t<li>Allows minBytes in fetch request to be configured<br/>\n      from KafkaConfig.fetchMinBytes.</li>\n\t<li>Defaults new configuration KafkaConfig.fetchMinBytes to 1.</li>\n\t<li>Defaults fetchMaxWait to 100ms instead of 10000ms.</li>\n</ul>\n\n\n<p>    Discovered 30 megabits of traffic flowing between a set of KafkaSpouts<br/>\n    and our kafka servers even though no Kafka messages were moving.<br/>\n    Using the wireshark kafka dissector, we were able to see that<br/>\n    each FetchRequest had maxWait set to 10000<br/>\n    and minBytes set to 0. When binBytes is set to 0 the kafka server<br/>\n    responds immediately when there are no messages. In turn the KafkaSpout<br/>\n    polls without any delay causing a constant stream of FetchRequest/<br/>\n    FetchResponse messages. Using a non-KafkaSpout client had a similar<br/>\n    traffic pattern with two key differences<br/>\n    1) minBytes was 1<br/>\n    2) maxWait was 100<br/>\n    With these FetchRequest parameters and no messages flowing,<br/>\n    the kafka server delays the FetchResponse by 100 ms. This reduces<br/>\n    the network traffic from megabits to the low kilobits. It also<br/>\n    reduced the CPU utilization of our kafka server from 140% to 2%.</p>\n\n<p>    Hopefully the risk of this change is low because<br/>\n    the old behavior can be restored using the API by setting<br/>\n    KafkaConfig.fetchMaxWait to 10000<br/>\n    KafkaConfig.fetchMinBytes to 0</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891842/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904493","html_url":"https://github.com/apache/storm/issues/5595#issuecomment-2612904493","issue_url":"https://api.github.com/repos/apache/storm/issues/5595","id":2612904493,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQ0OTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T21:00:17Z","updated_at":"2025-01-24T16:17:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user harshach opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1392\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1392</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1760\" title=\"HiveState should retire idle or old writes with flushAndClose\" class=\"issue-link\" data-issue-key=\"STORM-1760\"><del>STORM-1760</del></a>. HiveState should retire idle or old writes with flushAndClose</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/harshach/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/harshach/incubator-storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1760\" title=\"HiveState should retire idle or old writes with flushAndClose\" class=\"issue-link\" data-issue-key=\"STORM-1760\"><del>STORM-1760</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1392.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1392.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1392</p>\n\n<hr />\n<p>commit 90e3d7078f74655765e564be571ab96e9e844e4e<br/>\nAuthor: Sriharsha Chintalapani <harsha@hortonworks.com><br/>\nDate:   2016-05-03T20:58:46Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1760\" title=\"HiveState should retire idle or old writes with flushAndClose\" class=\"issue-link\" data-issue-key=\"STORM-1760\"><del>STORM-1760</del></a>. HiveState should retire idle or old writes with flushAndClose.</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216663883","html_url":"https://github.com/apache/storm/pull/1391#issuecomment-216663883","issue_url":"https://api.github.com/repos/apache/storm/issues/1391","id":216663883,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjY2Mzg4Mw==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T21:03:23Z","updated_at":"2016-05-03T21:03:23Z","author_association":"CONTRIBUTOR","body":"@moesol there is patch that merged into 1.0 release https://github.com/apache/storm/pull/1309/files . Does that changes work for you. Any reason for the MaxWait to be at 100\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216663883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891849","html_url":"https://github.com/apache/storm/issues/5509#issuecomment-2612891849","issue_url":"https://api.github.com/repos/apache/storm/issues/5509","id":2612891849,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTE4NDk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T21:03:25Z","updated_at":"2025-01-24T16:11:08Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1391#issuecomment-216663883\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1391#issuecomment-216663883</a></p>\n\n<p>    @moesol there is patch that merged into 1.0 release <a href=\"https://github.com/apache/storm/pull/1309/files\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1309/files</a> . Does that changes work for you. Any reason for the MaxWait to be at 100</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216666896","html_url":"https://github.com/apache/storm/pull/1391#issuecomment-216666896","issue_url":"https://api.github.com/repos/apache/storm/issues/1391","id":216666896,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjY2Njg5Ng==","user":{"login":"moesol","id":5385733,"node_id":"MDQ6VXNlcjUzODU3MzM=","avatar_url":"https://avatars.githubusercontent.com/u/5385733?v=4","gravatar_id":"","url":"https://api.github.com/users/moesol","html_url":"https://github.com/moesol","followers_url":"https://api.github.com/users/moesol/followers","following_url":"https://api.github.com/users/moesol/following{/other_user}","gists_url":"https://api.github.com/users/moesol/gists{/gist_id}","starred_url":"https://api.github.com/users/moesol/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/moesol/subscriptions","organizations_url":"https://api.github.com/users/moesol/orgs","repos_url":"https://api.github.com/users/moesol/repos","events_url":"https://api.github.com/users/moesol/events{/privacy}","received_events_url":"https://api.github.com/users/moesol/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T21:15:32Z","updated_at":"2016-05-03T21:15:32Z","author_association":"CONTRIBUTOR","body":"Without the MaxWait being set to 100, it is set to 10000, which means that the bolt will waiting for 10 seconds when no messages are available. On the 1.x branch, I was going to use:\n-    public int fetchMaxWait = FetchRequest.DefaultMaxWait();\n-    public int fetchMinBytes = FetchRequest.DefaultMinBytes();\n\nto get Kafka default behavior of 100/1.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216666896/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891856","html_url":"https://github.com/apache/storm/issues/5509#issuecomment-2612891856","issue_url":"https://api.github.com/repos/apache/storm/issues/5509","id":2612891856,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTE4NTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T21:15:34Z","updated_at":"2025-01-24T16:11:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user moesol commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1391#issuecomment-216666896\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1391#issuecomment-216666896</a></p>\n\n<p>    Without the MaxWait being set to 100, it is set to 10000, which means that the bolt will waiting for 10 seconds when no messages are available. On the 1.x branch, I was going to use:</p>\n\n<p>    +    public int fetchMaxWait = FetchRequest.DefaultMaxWait();<br/>\n    +    public int fetchMinBytes = FetchRequest.DefaultMinBytes();</p>\n\n<p>    to get Kafka default behavior of 100/1.</p>\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891856/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891865","html_url":"https://github.com/apache/storm/issues/5509#issuecomment-2612891865","issue_url":"https://api.github.com/repos/apache/storm/issues/5509","id":2612891865,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTE4NjU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T21:22:15Z","updated_at":"2025-01-24T16:11:09Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user moesol opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1393\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1393</a></p>\n\n<p>    (<a href=\"https://issues.apache.org/jira/browse/STORM-1674\" title=\"Idle KafkaSpout consumes more bandwidth than needed\" class=\"issue-link\" data-issue-key=\"STORM-1674\"><del>STORM-1674</del></a>) Idle KafkaSpout consumes more bandwidth than needed</p>\n\n<ul>\n\t<li>Allows minBytes in fetch request to be configured<br/>\n  from KafkaConfig.fetchMinBytes.</li>\n\t<li>Defaults new configuration KafkaConfig.fetchMinBytes to 1.</li>\n\t<li>Defaults fetchMaxWait to 100ms instead of 10000ms.</li>\n</ul>\n\n\n<p>Discovered 30 megabits of traffic flowing between a set of KafkaSpouts<br/>\nand our kafka servers even though no Kafka messages were moving.<br/>\nUsing the wireshark kafka dissector, we were able to see that<br/>\neach FetchRequest had maxWait set to 10000<br/>\nand minBytes set to 0. When binBytes is set to 0 the kafka server<br/>\nresponds immediately when there are no messages. In turn the KafkaSpout<br/>\npolls without any delay causing a constant stream of FetchRequest/<br/>\nFetchResponse messages. Using a non-KafkaSpout client had a similar<br/>\ntraffic pattern with two key differences<br/>\n1) minBytes was 1<br/>\n2) maxWait was 100<br/>\nWith these FetchRequest parameters and no messages flowing,<br/>\nthe kafka server delays the FetchResponse by 100 ms. This reduces<br/>\nthe network traffic from megabits to the low kilobits. It also<br/>\nreduced the CPU utilization of our kafka server from 140% to 2%.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/MoebiusSolutions/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/MoebiusSolutions/storm</a> 1.x-branch</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1393.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1393.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1393</p>\n\n<hr />\n<p>commit ff43309e39fb1db2bf2ae5a3d7d0972440880dca<br/>\nAuthor: Robert Hastings <rhastings@moesol.com><br/>\nDate:   2016-05-03T20:40:56Z</p>\n\n<p>    Addresses network flood from KafkaSpout to kafka server.</p>\n\n<ul>\n\t<li>Allows minBytes in fetch request to be configured<br/>\n      from KafkaConfig.fetchMinBytes.</li>\n\t<li>Defaults new configuration KafkaConfig.fetchMinBytes to 1.</li>\n\t<li>Defaults fetchMaxWait to 100ms instead of 10000ms.</li>\n</ul>\n\n\n<p>    Discovered 30 megabits of traffic flowing between a set of KafkaSpouts<br/>\n    and our kafka servers even though no Kafka messages were moving.<br/>\n    Using the wireshark kafka dissector, we were able to see that<br/>\n    each FetchRequest had maxWait set to 10000<br/>\n    and minBytes set to 0. When binBytes is set to 0 the kafka server<br/>\n    responds immediately when there are no messages. In turn the KafkaSpout<br/>\n    polls without any delay causing a constant stream of FetchRequest/<br/>\n    FetchResponse messages. Using a non-KafkaSpout client had a similar<br/>\n    traffic pattern with two key differences<br/>\n    1) minBytes was 1<br/>\n    2) maxWait was 100<br/>\n    With these FetchRequest parameters and no messages flowing,<br/>\n    the kafka server delays the FetchResponse by 100 ms. This reduces<br/>\n    the network traffic from megabits to the low kilobits. It also<br/>\n    reduced the CPU utilization of our kafka server from 140% to 2%.</p>\n\n<p>    Hopefully the risk of this change is low because<br/>\n    the old behavior can be restored using the API by setting<br/>\n    KafkaConfig.fetchMaxWait to 10000<br/>\n    KafkaConfig.fetchMinBytes to 0</p>\n\n<p>    Conflicts:<br/>\n    \texternal/storm-kafka/src/jvm/storm/kafka/KafkaConfig.java<br/>\n    \texternal/storm-kafka/src/jvm/storm/kafka/KafkaUtils.java</p>\n\n<p>commit d936ad78169283fcd8e0b8923eefc4063b59f074<br/>\nAuthor: Robert Hastings <rhastings@moesol.com><br/>\nDate:   2016-05-03T21:19:21Z</p>\n\n<p>    Merge remote-tracking branch 'apache/1.x-branch' into 1.x-branch</p>\n\n<p>    Conflicts:<br/>\n    \texternal/storm-kafka/src/jvm/org/apache/storm/kafka/KafkaUtils.java</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612891865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904616","html_url":"https://github.com/apache/storm/issues/5596#issuecomment-2612904616","issue_url":"https://api.github.com/repos/apache/storm/issues/5596","id":2612904616,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQ2MTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-03T23:36:45Z","updated_at":"2025-01-24T16:17:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user hmcl opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1394\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1394</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1761\" title=\"Storm-Solr Example Throws ArrayIndexOutOfBoundsException in Remote Cluster Mode\" class=\"issue-link\" data-issue-key=\"STORM-1761\"><del>STORM-1761</del></a>: Storm-Solr Example Throws ArrayIndexOutOfBoundsException in Remote Cluster Mode</p>\n\n<p>    Please cherry-pick this patch into 0.10.x-branch and 1.x-branch as well.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/hmcl/storm-apache\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/hmcl/storm-apache</a> master_<a href=\"https://issues.apache.org/jira/browse/STORM-1761\" title=\"Storm-Solr Example Throws ArrayIndexOutOfBoundsException in Remote Cluster Mode\" class=\"issue-link\" data-issue-key=\"STORM-1761\"><del>STORM-1761</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1394.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1394.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1394</p>\n\n<hr />\n<p>commit 514b932c2f2b643e6865fd82bc6d720acecfa301<br/>\nAuthor: Hugo Louro <hmclouro@gmail.com><br/>\nDate:   2016-05-03T23:32:45Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1761\" title=\"Storm-Solr Example Throws ArrayIndexOutOfBoundsException in Remote Cluster Mode\" class=\"issue-link\" data-issue-key=\"STORM-1761\"><del>STORM-1761</del></a>: Storm-Solr Example Throws ArrayIndexOutOfBoundsException in Remote Cluster Mode</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904004","html_url":"https://github.com/apache/storm/issues/5592#issuecomment-2612904004","issue_url":"https://api.github.com/repos/apache/storm/issues/5592","id":2612904004,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQwMDQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T00:04:56Z","updated_at":"2025-01-24T16:16:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jerrypeng\">jerrypeng</a>:</i>\n<p>I think this would be a worth while project.  The google dataflow API  is very well thought out.  We could potentially increase the user base of Storm by doing this.  There is also demand within Yahoo for this feature</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904006","html_url":"https://github.com/apache/storm/issues/5592#issuecomment-2612904006","issue_url":"https://api.github.com/repos/apache/storm/issues/5592","id":2612904006,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQwMDY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T00:16:56Z","updated_at":"2025-01-24T16:16:54Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ptgoetz\">ptgoetz</a>:</i>\n<p>My initial thoughts:</p>\n\n<p>I asked on the beam ml early on where this should be developed, and there was a lot of support for doing so at beam.</p>\n\n<p>The more I think about, the more I lean toward doing it here, with the possibility that it might someday be transferred. We just have a lot more collective knowledge of Storm, and are probably better suited to collaborate on an implementation.</p>\n\n<p>My other thought is related to timing. It seems prudent to wait until the beam API has settled and there is a release to target, but I'm not opposed to getting started now.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216712023","html_url":"https://github.com/apache/storm/pull/1394#issuecomment-216712023","issue_url":"https://api.github.com/repos/apache/storm/issues/1394","id":216712023,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjcxMjAyMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T00:52:30Z","updated_at":"2016-05-04T00:58:27Z","author_association":"CONTRIBUTOR","body":"+1 Nice finding.\nBtw, I guess it's due to inconsistencies between sample / test topologies, one argument for only specifying topology name, or two arguments which one is \"remote\" and next one is topology name.\n(I guess this topology follows latter but it doesn't explain and it also doesn't check that arguments are two.)\nI don't have strong opinion but it would be better to have unified way to run.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216712023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904619","html_url":"https://github.com/apache/storm/issues/5596#issuecomment-2612904619","issue_url":"https://api.github.com/repos/apache/storm/issues/5596","id":2612904619,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQ2MTk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T00:52:36Z","updated_at":"2025-01-24T16:17:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1394#issuecomment-216712023\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1394#issuecomment-216712023</a></p>\n\n<p>    +1 Nice finding.<br/>\n    Btw, I guess it's due to inconsistencies between sample / test topologies, one argument for only specifying topology name, or two arguments which one is \"remote\" and next one is topology name.<br/>\n    I don't have strong opinion but it would be better to have unified way to run.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904624","html_url":"https://github.com/apache/storm/issues/5596#issuecomment-2612904624","issue_url":"https://api.github.com/repos/apache/storm/issues/5596","id":2612904624,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQ2MjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T00:54:45Z","updated_at":"2025-01-24T16:17:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kabhwan\">kabhwan</a>:</i>\n<p>We marked as 'Resolved' when all related pull requests are merged to respective branches.<br/>\nSince patch is submitted, 'In Progress' makes sense. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216716374","html_url":"https://github.com/apache/storm/pull/1394#issuecomment-216716374","issue_url":"https://api.github.com/repos/apache/storm/issues/1394","id":216716374,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjcxNjM3NA==","user":{"login":"hustfxj","id":7270212,"node_id":"MDQ6VXNlcjcyNzAyMTI=","avatar_url":"https://avatars.githubusercontent.com/u/7270212?v=4","gravatar_id":"","url":"https://api.github.com/users/hustfxj","html_url":"https://github.com/hustfxj","followers_url":"https://api.github.com/users/hustfxj/followers","following_url":"https://api.github.com/users/hustfxj/following{/other_user}","gists_url":"https://api.github.com/users/hustfxj/gists{/gist_id}","starred_url":"https://api.github.com/users/hustfxj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hustfxj/subscriptions","organizations_url":"https://api.github.com/users/hustfxj/orgs","repos_url":"https://api.github.com/users/hustfxj/repos","events_url":"https://api.github.com/users/hustfxj/events{/privacy}","received_events_url":"https://api.github.com/users/hustfxj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T01:26:19Z","updated_at":"2016-05-04T01:26:19Z","author_association":"CONTRIBUTOR","body":"+1\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216716374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904627","html_url":"https://github.com/apache/storm/issues/5596#issuecomment-2612904627","issue_url":"https://api.github.com/repos/apache/storm/issues/5596","id":2612904627,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQ2Mjc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T01:26:21Z","updated_at":"2025-01-24T16:17:11Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user hustfxj commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1394#issuecomment-216716374\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1394#issuecomment-216716374</a></p>\n\n<p>    +1</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904627/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216717573","html_url":"https://github.com/apache/storm/pull/1388#issuecomment-216717573","issue_url":"https://api.github.com/repos/apache/storm/issues/1388","id":216717573,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjcxNzU3Mw==","user":{"login":"lujinhong","id":5511758,"node_id":"MDQ6VXNlcjU1MTE3NTg=","avatar_url":"https://avatars.githubusercontent.com/u/5511758?v=4","gravatar_id":"","url":"https://api.github.com/users/lujinhong","html_url":"https://github.com/lujinhong","followers_url":"https://api.github.com/users/lujinhong/followers","following_url":"https://api.github.com/users/lujinhong/following{/other_user}","gists_url":"https://api.github.com/users/lujinhong/gists{/gist_id}","starred_url":"https://api.github.com/users/lujinhong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lujinhong/subscriptions","organizations_url":"https://api.github.com/users/lujinhong/orgs","repos_url":"https://api.github.com/users/lujinhong/repos","events_url":"https://api.github.com/users/lujinhong/events{/privacy}","received_events_url":"https://api.github.com/users/lujinhong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T01:38:08Z","updated_at":"2016-05-04T01:38:08Z","author_association":"CONTRIBUTOR","body":"sorry, please check https://github.com/apache/storm/pull/1395\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216717573/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216742378","html_url":"https://github.com/apache/storm/pull/1396#issuecomment-216742378","issue_url":"https://api.github.com/repos/apache/storm/issues/1396","id":216742378,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjc0MjM3OA==","user":{"login":"sweetest","id":6868049,"node_id":"MDQ6VXNlcjY4NjgwNDk=","avatar_url":"https://avatars.githubusercontent.com/u/6868049?v=4","gravatar_id":"","url":"https://api.github.com/users/sweetest","html_url":"https://github.com/sweetest","followers_url":"https://api.github.com/users/sweetest/followers","following_url":"https://api.github.com/users/sweetest/following{/other_user}","gists_url":"https://api.github.com/users/sweetest/gists{/gist_id}","starred_url":"https://api.github.com/users/sweetest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sweetest/subscriptions","organizations_url":"https://api.github.com/users/sweetest/orgs","repos_url":"https://api.github.com/users/sweetest/repos","events_url":"https://api.github.com/users/sweetest/events{/privacy}","received_events_url":"https://api.github.com/users/sweetest/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T04:50:09Z","updated_at":"2016-05-04T04:50:09Z","author_association":"CONTRIBUTOR","body":"I was also doing similar work, code change is almost the same. Looks good to me!\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216742378/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904498","html_url":"https://github.com/apache/storm/issues/5595#issuecomment-2612904498","issue_url":"https://api.github.com/repos/apache/storm/issues/5595","id":2612904498,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQ0OTg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T05:01:26Z","updated_at":"2025-01-24T16:17:07Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1392\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1392</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904498/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216762280","html_url":"https://github.com/apache/storm/pull/1386#issuecomment-216762280","issue_url":"https://api.github.com/repos/apache/storm/issues/1386","id":216762280,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjc2MjI4MA==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T07:06:14Z","updated_at":"2016-05-04T07:06:14Z","author_association":"CONTRIBUTOR","body":"It's about both the consumer and producer api. 0.9.x client (producer + consumer) is not backward compatible with 0.8.x broker. \n\nReverting this version change has two purposes- \n1. Upgrading to new version of storm-kafka will work with 0.8.x cluster without any surprises like \nhttps://mail-archives.apache.org/mod_mbox/storm-user/201605.mbox/%3CCAFwSPC1072CkOWsGB48HBOoMx%3D5h88AJ22sCBcJ31cB1Uqg52w%40mail.gmail.com%3E. \n1. More importantly, by explicitly setting version to 0.8.x, we will ensure that in future no changes are made to storm-kafka which are not compatible with older kafka client (since compilation itself will fail). In fact, I will also add this comment in the storm-kafka pom so that kafka version is not upgraded in future. \n\nBy the way, version is being reverted only for storm-kafka module. The new kafka client for storm (storm-kafka-client) still uses 0.9.x. I think we should encourage the use of this module if user need features specific to 0.9.x version. We already have the consumer api available there. we can do the same for producer api. Happy to take it up. \n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216762280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903622","html_url":"https://github.com/apache/storm/issues/5590#issuecomment-2612903622","issue_url":"https://api.github.com/repos/apache/storm/issues/5590","id":2612903622,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDM2MjI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T07:06:16Z","updated_at":"2025-01-24T16:16:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1386#issuecomment-216762280\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1386#issuecomment-216762280</a></p>\n\n<p>    It's about both the consumer and producer api. 0.9.x client (producer + consumer) is not backward compatible with 0.8.x broker. </p>\n\n<p>    Reverting this version change has two purposes- <br/>\n    1. Upgrading to new version of storm-kafka will work with 0.8.x cluster without any surprises like <br/>\n    <a href=\"https://mail-archives.apache.org/mod_mbox/storm-user/201605.mbox/%3CCAFwSPC1072CkOWsGB48HBOoMx%3D5h88AJ22sCBcJ31cB1Uqg52w%40mail.gmail.com%3E\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://mail-archives.apache.org/mod_mbox/storm-user/201605.mbox/%3CCAFwSPC1072CkOWsGB48HBOoMx%3D5h88AJ22sCBcJ31cB1Uqg52w%40mail.gmail.com%3E</a>. </p>\n\n<p>    2. More importantly, by explicitly setting version to 0.8.x, we will ensure that in future no changes are made to storm-kafka which are not compatible with older kafka client (since compilation itself will fail). In fact, I will also add this comment in the storm-kafka pom so that kafka version is not upgraded in future. </p>\n\n<p>    By the way, version is being reverted only for storm-kafka module. The new kafka client for storm (storm-kafka-client) still uses 0.9.x. I think we should encourage the use of this module if user need features specific to 0.9.x version. We already have the consumer api available there. we can do the same for producer api. Happy to take it up. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904731","html_url":"https://github.com/apache/storm/issues/5597#issuecomment-2612904731","issue_url":"https://api.github.com/repos/apache/storm/issues/5597","id":2612904731,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQ3MzE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T07:16:15Z","updated_at":"2025-01-24T16:17:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xianglz\">xianglz</a>:</i>\n<p>storm/pom.xml and storm/storm-core/pom.xml patch file which is generated by git diff</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904731/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895554","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895554","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895554,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1NTQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:22:57Z","updated_at":"2025-01-24T16:12:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62011050\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62011050</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/daemon/common.clj &#8212;<br/>\n    @@ -42,17 +42,17 @@</p>\n\n<p>     (defmacro defserverfn <span class=\"error\">&#91;name & body&#93;</span><br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    does this class contain only formatting changes?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895563","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895563","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895563,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1NjM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:27:22Z","updated_at":"2025-01-24T16:12:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62011597\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62011597</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -47,17 +68,71 @@ public void prepare(Map stormConf, TopologyContext context, OutputCollector coll<br/>\n     }<br/>\n     _metricsConsumer.prepare(stormConf, _registrationArgument, context, collector);<br/>\n     _collector = collector;<br/>\n    +_taskExecuteThread = new Thread(new MetricsHandlerRunnable());<br/>\n    +_taskExecuteThread.setDaemon(true);<br/>\n    +_taskExecuteThread.start();<br/>\n }</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>_metricsConsumer.handleDataPoints((IMetricsConsumer.TaskInfo)input.getValue(0), (Collection)input.getValue(1));<br/>\n    +// remove older tasks if task queue exceeds the max size<br/>\n    +if (_taskQueue.size() > _maxRetainMetricTuples) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +    while (_taskQueue.size() - 1 > _maxRetainMetricTuples) {\n    +_taskQueue.poll();\n    +    }    +}</span> </div>\n<p>    +<br/>\n    +IMetricsConsumer.TaskInfo taskInfo = (IMetricsConsumer.TaskInfo) input.getValue(0);<br/>\n    +Collection<IMetricsConsumer.DataPoint> dataPoints = (Collection)input.getValue(1);<br/>\n    +List<IMetricsConsumer.DataPoint> filteredDataPoints = getFilteredDataPoints(dataPoints);<br/>\n    +_taskQueue.add(new MetricsTask(taskInfo, filteredDataPoints));<br/>\n     _collector.ack(input);<br/>\n }</p></li>\n</ul>\n\n\n<p>    +    private List<IMetricsConsumer.DataPoint> getFilteredDataPoints(Collection<IMetricsConsumer.DataPoint> dataPoints) </p>\n{\n    +return Lists.newArrayList(Iterables.filter(dataPoints, _filterPredicate));\n    +    }\n<p>    +<br/>\n @Override<br/>\n public void cleanup() </p>\n{\n    +_running = false;\n     _metricsConsumer.cleanup();\n    +_taskExecuteThread.interrupt();\n }\n<ul class=\"alternate\" type=\"square\">\n\t<li><p>    +<br/>\n    +    class MetricsTask {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    This could be a static class. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895567","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895567","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895567,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1Njc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:28:58Z","updated_at":"2025-01-24T16:12:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62011803\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62011803</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -47,17 +68,71 @@ public void prepare(Map stormConf, TopologyContext context, OutputCollector coll<br/>\n     }<br/>\n     _metricsConsumer.prepare(stormConf, _registrationArgument, context, collector);<br/>\n     _collector = collector;<br/>\n    +_taskExecuteThread = new Thread(new MetricsHandlerRunnable());<br/>\n    +_taskExecuteThread.setDaemon(true);<br/>\n    +_taskExecuteThread.start();<br/>\n }</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>_metricsConsumer.handleDataPoints((IMetricsConsumer.TaskInfo)input.getValue(0), (Collection)input.getValue(1));<br/>\n    +// remove older tasks if task queue exceeds the max size<br/>\n    +if (_taskQueue.size() > _maxRetainMetricTuples) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +    while (_taskQueue.size() - 1 > _maxRetainMetricTuples) {\n    +_taskQueue.poll();\n    +    }    +}</span> </div>\n<p>    +<br/>\n    +IMetricsConsumer.TaskInfo taskInfo = (IMetricsConsumer.TaskInfo) input.getValue(0);<br/>\n    +Collection<IMetricsConsumer.DataPoint> dataPoints = (Collection)input.getValue(1);</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Minor. space after (Collection)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895567/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895579","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895579","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895579,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1Nzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:39:49Z","updated_at":"2025-01-24T16:12:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62013085\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62013085</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -17,24 +17,45 @@<br/>\n      */<br/>\n     package org.apache.storm.metric;</p>\n\n<p>    +import com.google.common.base.Predicate;<br/>\n    +import com.google.common.collect.Iterables;<br/>\n    +import com.google.common.collect.Lists;<br/>\n     import org.apache.storm.Config;<br/>\n     import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n     import org.apache.storm.task.IBolt;<br/>\n     import org.apache.storm.task.OutputCollector;<br/>\n     import org.apache.storm.task.TopologyContext;<br/>\n     import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n     import java.util.Collection;<br/>\n    +import java.util.List;<br/>\n     import java.util.Map;<br/>\n    +import java.util.concurrent.BlockingQueue;<br/>\n    +import java.util.concurrent.LinkedBlockingDeque;</p>\n\n<p>     public class MetricsConsumerBolt implements IBolt {<br/>\n    +    public static final Logger LOG = LoggerFactory.getLogger(MetricsConsumerBolt.class);<br/>\n    +<br/>\n IMetricsConsumer _metricsConsumer;<br/>\n String _consumerClassName;<br/>\n OutputCollector _collector;<br/>\n Object _registrationArgument;<br/>\n    +    private final int _maxRetainMetricTuples;<br/>\n    +    private Predicate<IMetricsConsumer.DataPoint> _filterPredicate;<br/>\n    +<br/>\n    +    private final BlockingQueue<MetricsTask> _taskQueue = new LinkedBlockingDeque<>();<br/>\n    +    private Thread _taskExecuteThread;<br/>\n    +    private volatile boolean _running = true;<br/>\n    +<br/>\n    +    public MetricsConsumerBolt(String consumerClassName, Object registrationArgument, int maxRetainMetricTuples,<br/>\n    +       Predicate<IMetricsConsumer.DataPoint> filterPredicate) {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public MetricsConsumerBolt(String consumerClassName, Object registrationArgument) {<br/>\n     _consumerClassName = consumerClassName;<br/>\n     _registrationArgument = registrationArgument;<br/>\n    +_maxRetainMetricTuples = maxRetainMetricTuples;\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    we can put some sanity check on this argument. ( > 0)</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895583","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895583","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895583,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1ODM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:40:42Z","updated_at":"2025-01-24T16:12:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62013191\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62013191</a></p>\n\n<p>    &#8212; Diff: conf/storm.yaml.example &#8212;<br/>\n    @@ -41,8 +41,10 @@</p>\n<ol>\n\t<li>\n\t<ol>\n\t\t<li>Metrics Consumers</li>\n\t</ol>\n\t</li>\n\t<li>topology.metrics.consumer.register:</li>\n\t<li>- class: \"org.apache.storm.metric.LoggingMetricsConsumer\"<br/>\n    +#     max.retain.metric.tuples: 100</li>\n\t<li>parallelism.hint: 1</li>\n\t<li>- class: \"org.mycompany.MyMetricsConsumer\"<br/>\n    +#     max.retain.metric.tuples: 100\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ol>\n\n\n<p>    duplicate entry</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895583/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895587","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895587","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895587,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1ODc=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:41:13Z","updated_at":"2025-01-24T16:12:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62013271\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62013271</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/daemon/StormCommon.java &#8212;<br/>\n    @@ -383,10 +384,16 @@ public static void addEventLogger(Map conf, StormTopology topology) {<br/>\n for (Map<String, Object> info : registerInfo) {<br/>\n     String className = (String) info.get(\"class\");<br/>\n     Object argument = info.get(\"argument\");<br/>\n    +Integer maxRetainMetricTuples = Utils.getInt(info.get(\"max.retain.metric.tuples\"), 100);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    let the default come from defaults.yaml</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895592","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895592","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895592,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU1OTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:42:47Z","updated_at":"2025-01-24T16:12:57Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62013486\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62013486</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -47,17 +68,71 @@ public void prepare(Map stormConf, TopologyContext context, OutputCollector coll<br/>\n     }<br/>\n     _metricsConsumer.prepare(stormConf, _registrationArgument, context, collector);<br/>\n     _collector = collector;<br/>\n    +_taskExecuteThread = new Thread(new MetricsHandlerRunnable());<br/>\n    +_taskExecuteThread.setDaemon(true);<br/>\n    +_taskExecuteThread.start();<br/>\n }</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>_metricsConsumer.handleDataPoints((IMetricsConsumer.TaskInfo)input.getValue(0), (Collection)input.getValue(1));<br/>\n    +// remove older tasks if task queue exceeds the max size<br/>\n    +if (_taskQueue.size() > _maxRetainMetricTuples) {<br/>\n    +    while (_taskQueue.size() - 1 > _maxRetainMetricTuples) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    can we initialize the taskQueue with the capacity? This code will change to<br/>\n    ```<br/>\n    while (! _taskQueue.offer(metricTask))<br/>\n _taskQueue.poll()<br/>\n    ```</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895600","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895600","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895600,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2MDA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:46:41Z","updated_at":"2025-01-24T16:12:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62013983\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62013983</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/filter/FilterByMetricName.java &#8212;<br/>\n    @@ -0,0 +1,110 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.metric.filter;<br/>\n    +<br/>\n    +import com.google.common.base.Function;<br/>\n    +import com.google.common.cache.Cache;<br/>\n    +import com.google.common.cache.CacheBuilder;<br/>\n    +import com.google.common.collect.Iterators;<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.List;<br/>\n    +import java.util.regex.Pattern;<br/>\n    +<br/>\n    +public class FilterByMetricName implements MetricsFilter {<br/>\n    +    private final Cache<String, Boolean> filterCache;<br/>\n    +    private final List<Pattern> whitelistPattern;<br/>\n    +    private final List<Pattern> blacklistPattern;<br/>\n    +    private boolean noneSpecified = false;<br/>\n    +<br/>\n    +    public FilterByMetricName(List<String> whitelistPattern, List<String> blacklistPattern) {<br/>\n    +// guard NPE<br/>\n    +if (whitelistPattern == null) </p>\n{\n    +    this.whitelistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.whitelistPattern = convertPatternStringsToPatternInstances(whitelistPattern);\n    +}\n<p>    +<br/>\n    +// guard NPE<br/>\n    +if (blacklistPattern == null) </p>\n{\n    +    this.blacklistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.blacklistPattern = convertPatternStringsToPatternInstances(blacklistPattern);\n    +}\n<p>    +<br/>\n    +if (this.whitelistPattern.isEmpty() && this.blacklistPattern.isEmpty()) </p>\n{\n    +    noneSpecified = true;\n    +}\n<p> else if (!this.whitelistPattern.isEmpty() && !this.blacklistPattern.isEmpty()) </p>\n{\n    +    throw new IllegalArgumentException(\"You have to specify either includes or excludes, or none.\");\n    +}\n<p>    +<br/>\n    +filterCache = CacheBuilder.newBuilder()<br/>\n    +.maximumSize(1000)<br/>\n    +.build();<br/>\n    +    }<br/>\n    +<br/>\n    +    private ArrayList<Pattern> convertPatternStringsToPatternInstances(List<String> patterns) {<br/>\n    +return Lists.newArrayList(Iterators.transform(patterns.iterator(), new Function<String, Pattern>() {<br/>\n    +    @Override<br/>\n    +    public Pattern apply(String s) </p>\n{\n    +return Pattern.compile(s);\n    +    }\n<p>    +}));<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public boolean apply(IMetricsConsumer.DataPoint dataPoint) {<br/>\n    +String metricName = dataPoint.name;<br/>\n    +<br/>\n    +Boolean cachedFilteredIn = filterCache.getIfPresent(metricName);<br/>\n    +if (cachedFilteredIn != null) </p>\n{\n    +    return cachedFilteredIn;\n    +}\n<p> else </p>\n{\n    +    boolean filteredIn = isFilteredIn(metricName);\n    +    filterCache.put(metricName, filteredIn);\n    +    return filteredIn;\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private boolean isFilteredIn(String metricName) {<br/>\n    +if (noneSpecified) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    should this be moved/copied to apply function?</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895608","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895608","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895608,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2MDg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:52:21Z","updated_at":"2025-01-24T16:12:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62014727\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62014727</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/daemon/StormCommon.java &#8212;<br/>\n    @@ -383,10 +384,16 @@ public static void addEventLogger(Map conf, StormTopology topology) {<br/>\n for (Map<String, Object> info : registerInfo) {<br/>\n     String className = (String) info.get(\"class\");<br/>\n     Object argument = info.get(\"argument\");<br/>\n    +Integer maxRetainMetricTuples = Utils.getInt(info.get(\"max.retain.metric.tuples\"), 100);<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Ahh. it is a per bolt conf. Please ignore the above comment. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895612","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895612","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895612,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2MTI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:54:51Z","updated_at":"2025-01-24T16:12:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62015047\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62015047</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -47,17 +68,71 @@ public void prepare(Map stormConf, TopologyContext context, OutputCollector coll<br/>\n     }<br/>\n     _metricsConsumer.prepare(stormConf, _registrationArgument, context, collector);<br/>\n     _collector = collector;<br/>\n    +_taskExecuteThread = new Thread(new MetricsHandlerRunnable());<br/>\n    +_taskExecuteThread.setDaemon(true);<br/>\n    +_taskExecuteThread.start();<br/>\n }</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>_metricsConsumer.handleDataPoints((IMetricsConsumer.TaskInfo)input.getValue(0), (Collection)input.getValue(1));<br/>\n    +// remove older tasks if task queue exceeds the max size<br/>\n    +if (_taskQueue.size() > _maxRetainMetricTuples) {<br/>\n    +    while (_taskQueue.size() - 1 > _maxRetainMetricTuples) {\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Sure, missed while applying restriction of queue size. I'll address it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895620","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895620","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895620,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2MjA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:56:27Z","updated_at":"2025-01-24T16:12:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62015307\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62015307</a></p>\n\n<p>    &#8212; Diff: storm-core/src/clj/org/apache/storm/daemon/common.clj &#8212;<br/>\n    @@ -42,17 +42,17 @@</p>\n\n<p>     (defmacro defserverfn <span class=\"error\">&#91;name & body&#93;</span><br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    @abhishekagarwal87 <br/>\n    I didn't intend but it's better to fix it. I'll address it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895620/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895626","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895626","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895626,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2MjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T09:58:53Z","updated_at":"2025-01-24T16:12:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62015528\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62015528</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -47,17 +68,71 @@ public void prepare(Map stormConf, TopologyContext context, OutputCollector coll<br/>\n     }<br/>\n     _metricsConsumer.prepare(stormConf, _registrationArgument, context, collector);<br/>\n     _collector = collector;<br/>\n    +_taskExecuteThread = new Thread(new MetricsHandlerRunnable());<br/>\n    +_taskExecuteThread.setDaemon(true);<br/>\n    +_taskExecuteThread.start();<br/>\n }</p>\n\n<p> @Override<br/>\n public void execute(Tuple input) {</p>\n<ul class=\"alternate\" type=\"square\">\n\t<li>_metricsConsumer.handleDataPoints((IMetricsConsumer.TaskInfo)input.getValue(0), (Collection)input.getValue(1));<br/>\n    +// remove older tasks if task queue exceeds the max size<br/>\n    +if (_taskQueue.size() > _maxRetainMetricTuples) \n<div class=\"error\"><span class=\"error\">Unknown macro: {    +    while (_taskQueue.size() - 1 > _maxRetainMetricTuples) {\n    +_taskQueue.poll();\n    +    }    +}</span> </div>\n<p>    +<br/>\n    +IMetricsConsumer.TaskInfo taskInfo = (IMetricsConsumer.TaskInfo) input.getValue(0);<br/>\n    +Collection<IMetricsConsumer.DataPoint> dataPoints = (Collection)input.getValue(1);<br/>\n    +List<IMetricsConsumer.DataPoint> filteredDataPoints = getFilteredDataPoints(dataPoints);<br/>\n    +_taskQueue.add(new MetricsTask(taskInfo, filteredDataPoints));<br/>\n     _collector.ack(input);<br/>\n }</p></li>\n</ul>\n\n\n<p>    +    private List<IMetricsConsumer.DataPoint> getFilteredDataPoints(Collection<IMetricsConsumer.DataPoint> dataPoints) </p>\n{\n    +return Lists.newArrayList(Iterables.filter(dataPoints, _filterPredicate));\n    +    }\n<p>    +<br/>\n @Override<br/>\n public void cleanup() </p>\n{\n    +_running = false;\n     _metricsConsumer.cleanup();\n    +_taskExecuteThread.interrupt();\n }\n<ul class=\"alternate\" type=\"square\">\n\t<li><p>    +<br/>\n    +    class MetricsTask {</p>\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Yes I think that would be clearer. I'll address it. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895626/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895629","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895629","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895629,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2Mjk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T10:00:10Z","updated_at":"2025-01-24T16:12:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62015672\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62015672</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -17,24 +17,45 @@<br/>\n      */<br/>\n     package org.apache.storm.metric;</p>\n\n<p>    +import com.google.common.base.Predicate;<br/>\n    +import com.google.common.collect.Iterables;<br/>\n    +import com.google.common.collect.Lists;<br/>\n     import org.apache.storm.Config;<br/>\n     import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n     import org.apache.storm.task.IBolt;<br/>\n     import org.apache.storm.task.OutputCollector;<br/>\n     import org.apache.storm.task.TopologyContext;<br/>\n     import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n     import java.util.Collection;<br/>\n    +import java.util.List;<br/>\n     import java.util.Map;<br/>\n    +import java.util.concurrent.BlockingQueue;<br/>\n    +import java.util.concurrent.LinkedBlockingDeque;</p>\n\n<p>     public class MetricsConsumerBolt implements IBolt {<br/>\n    +    public static final Logger LOG = LoggerFactory.getLogger(MetricsConsumerBolt.class);<br/>\n    +<br/>\n IMetricsConsumer _metricsConsumer;<br/>\n String _consumerClassName;<br/>\n OutputCollector _collector;<br/>\n Object _registrationArgument;<br/>\n    +    private final int _maxRetainMetricTuples;<br/>\n    +    private Predicate<IMetricsConsumer.DataPoint> _filterPredicate;<br/>\n    +<br/>\n    +    private final BlockingQueue<MetricsTask> _taskQueue = new LinkedBlockingDeque<>();<br/>\n    +    private Thread _taskExecuteThread;<br/>\n    +    private volatile boolean _running = true;<br/>\n    +<br/>\n    +    public MetricsConsumerBolt(String consumerClassName, Object registrationArgument, int maxRetainMetricTuples,<br/>\n    +       Predicate<IMetricsConsumer.DataPoint> filterPredicate) {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public MetricsConsumerBolt(String consumerClassName, Object registrationArgument) {<br/>\n     _consumerClassName = consumerClassName;<br/>\n     _registrationArgument = registrationArgument;<br/>\n    +_maxRetainMetricTuples = maxRetainMetricTuples;\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    OK. We could even just set queue unbounded when it's lower than 0. I'll address it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895629/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895634","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895634","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895634,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2MzQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T10:04:07Z","updated_at":"2025-01-24T16:12:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62016078\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62016078</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/filter/FilterByMetricName.java &#8212;<br/>\n    @@ -0,0 +1,110 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.metric.filter;<br/>\n    +<br/>\n    +import com.google.common.base.Function;<br/>\n    +import com.google.common.cache.Cache;<br/>\n    +import com.google.common.cache.CacheBuilder;<br/>\n    +import com.google.common.collect.Iterators;<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.List;<br/>\n    +import java.util.regex.Pattern;<br/>\n    +<br/>\n    +public class FilterByMetricName implements MetricsFilter {<br/>\n    +    private final Cache<String, Boolean> filterCache;<br/>\n    +    private final List<Pattern> whitelistPattern;<br/>\n    +    private final List<Pattern> blacklistPattern;<br/>\n    +    private boolean noneSpecified = false;<br/>\n    +<br/>\n    +    public FilterByMetricName(List<String> whitelistPattern, List<String> blacklistPattern) {<br/>\n    +// guard NPE<br/>\n    +if (whitelistPattern == null) </p>\n{\n    +    this.whitelistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.whitelistPattern = convertPatternStringsToPatternInstances(whitelistPattern);\n    +}\n<p>    +<br/>\n    +// guard NPE<br/>\n    +if (blacklistPattern == null) </p>\n{\n    +    this.blacklistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.blacklistPattern = convertPatternStringsToPatternInstances(blacklistPattern);\n    +}\n<p>    +<br/>\n    +if (this.whitelistPattern.isEmpty() && this.blacklistPattern.isEmpty()) </p>\n{\n    +    noneSpecified = true;\n    +}\n<p> else if (!this.whitelistPattern.isEmpty() && !this.blacklistPattern.isEmpty()) </p>\n{\n    +    throw new IllegalArgumentException(\"You have to specify either includes or excludes, or none.\");\n    +}\n<p>    +<br/>\n    +filterCache = CacheBuilder.newBuilder()<br/>\n    +.maximumSize(1000)<br/>\n    +.build();<br/>\n    +    }<br/>\n    +<br/>\n    +    private ArrayList<Pattern> convertPatternStringsToPatternInstances(List<String> patterns) {<br/>\n    +return Lists.newArrayList(Iterators.transform(patterns.iterator(), new Function<String, Pattern>() {<br/>\n    +    @Override<br/>\n    +    public Pattern apply(String s) </p>\n{\n    +return Pattern.compile(s);\n    +    }\n<p>    +}));<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public boolean apply(IMetricsConsumer.DataPoint dataPoint) {<br/>\n    +String metricName = dataPoint.name;<br/>\n    +<br/>\n    +Boolean cachedFilteredIn = filterCache.getIfPresent(metricName);<br/>\n    +if (cachedFilteredIn != null) </p>\n{\n    +    return cachedFilteredIn;\n    +}\n<p> else </p>\n{\n    +    boolean filteredIn = isFilteredIn(metricName);\n    +    filterCache.put(metricName, filteredIn);\n    +    return filteredIn;\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private boolean isFilteredIn(String metricName) {<br/>\n    +if (noneSpecified) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    For optimization it should be moved at the first line of apply, but logically this check would be good to be close to filtering logic. What do you think?<br/>\n    I don't have strong opinion about this, so I'm also OK to move to apply().</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895634/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612896441","html_url":"https://github.com/apache/storm/issues/5540#issuecomment-2612896441","issue_url":"https://api.github.com/repos/apache/storm/issues/5540","id":2612896441,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTY0NDE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T10:38:09Z","updated_at":"2025-01-24T16:13:19Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1331#discussion_r62019251\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1331#discussion_r62019251</a></p>\n\n<p>    &#8212; Diff: external/storm-kafka/src/jvm/org/apache/storm/kafka/PartitionManager.java &#8212;<br/>\n    @@ -46,6 +46,9 @@<br/>\n private final CountMetric _fetchAPIMessageCount;<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    Agree that constructor is somewhat bloated. The whole class can use some refactoring. can we do it in a separate PR? </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612896441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895639","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895639","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895639,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2Mzk=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T12:18:57Z","updated_at":"2025-01-24T16:12:58Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62028820\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62028820</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -17,24 +17,45 @@<br/>\n      */<br/>\n     package org.apache.storm.metric;</p>\n\n<p>    +import com.google.common.base.Predicate;<br/>\n    +import com.google.common.collect.Iterables;<br/>\n    +import com.google.common.collect.Lists;<br/>\n     import org.apache.storm.Config;<br/>\n     import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n     import org.apache.storm.task.IBolt;<br/>\n     import org.apache.storm.task.OutputCollector;<br/>\n     import org.apache.storm.task.TopologyContext;<br/>\n     import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n     import java.util.Collection;<br/>\n    +import java.util.List;<br/>\n     import java.util.Map;<br/>\n    +import java.util.concurrent.BlockingQueue;<br/>\n    +import java.util.concurrent.LinkedBlockingDeque;</p>\n\n<p>     public class MetricsConsumerBolt implements IBolt {<br/>\n    +    public static final Logger LOG = LoggerFactory.getLogger(MetricsConsumerBolt.class);<br/>\n    +<br/>\n IMetricsConsumer _metricsConsumer;<br/>\n String _consumerClassName;<br/>\n OutputCollector _collector;<br/>\n Object _registrationArgument;<br/>\n    +    private final int _maxRetainMetricTuples;<br/>\n    +    private Predicate<IMetricsConsumer.DataPoint> _filterPredicate;<br/>\n    +<br/>\n    +    private final BlockingQueue<MetricsTask> _taskQueue = new LinkedBlockingDeque<>();<br/>\n    +    private Thread _taskExecuteThread;<br/>\n    +    private volatile boolean _running = true;<br/>\n    +<br/>\n    +    public MetricsConsumerBolt(String consumerClassName, Object registrationArgument, int maxRetainMetricTuples,<br/>\n    +       Predicate<IMetricsConsumer.DataPoint> filterPredicate) {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public MetricsConsumerBolt(String consumerClassName, Object registrationArgument) {<br/>\n     _consumerClassName = consumerClassName;<br/>\n     _registrationArgument = registrationArgument;<br/>\n    +_maxRetainMetricTuples = maxRetainMetricTuples;\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Sounds good given that default value is a positive number. </p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895645","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895645","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895645,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2NDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T12:22:57Z","updated_at":"2025-01-24T16:12:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62029239\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62029239</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/filter/FilterByMetricName.java &#8212;<br/>\n    @@ -0,0 +1,110 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.metric.filter;<br/>\n    +<br/>\n    +import com.google.common.base.Function;<br/>\n    +import com.google.common.cache.Cache;<br/>\n    +import com.google.common.cache.CacheBuilder;<br/>\n    +import com.google.common.collect.Iterators;<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.List;<br/>\n    +import java.util.regex.Pattern;<br/>\n    +<br/>\n    +public class FilterByMetricName implements MetricsFilter {<br/>\n    +    private final Cache<String, Boolean> filterCache;<br/>\n    +    private final List<Pattern> whitelistPattern;<br/>\n    +    private final List<Pattern> blacklistPattern;<br/>\n    +    private boolean noneSpecified = false;<br/>\n    +<br/>\n    +    public FilterByMetricName(List<String> whitelistPattern, List<String> blacklistPattern) {<br/>\n    +// guard NPE<br/>\n    +if (whitelistPattern == null) </p>\n{\n    +    this.whitelistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.whitelistPattern = convertPatternStringsToPatternInstances(whitelistPattern);\n    +}\n<p>    +<br/>\n    +// guard NPE<br/>\n    +if (blacklistPattern == null) </p>\n{\n    +    this.blacklistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.blacklistPattern = convertPatternStringsToPatternInstances(blacklistPattern);\n    +}\n<p>    +<br/>\n    +if (this.whitelistPattern.isEmpty() && this.blacklistPattern.isEmpty()) </p>\n{\n    +    noneSpecified = true;\n    +}\n<p> else if (!this.whitelistPattern.isEmpty() && !this.blacklistPattern.isEmpty()) </p>\n{\n    +    throw new IllegalArgumentException(\"You have to specify either includes or excludes, or none.\");\n    +}\n<p>    +<br/>\n    +filterCache = CacheBuilder.newBuilder()<br/>\n    +.maximumSize(1000)<br/>\n    +.build();<br/>\n    +    }<br/>\n    +<br/>\n    +    private ArrayList<Pattern> convertPatternStringsToPatternInstances(List<String> patterns) {<br/>\n    +return Lists.newArrayList(Iterators.transform(patterns.iterator(), new Function<String, Pattern>() {<br/>\n    +    @Override<br/>\n    +    public Pattern apply(String s) </p>\n{\n    +return Pattern.compile(s);\n    +    }\n<p>    +}));<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public boolean apply(IMetricsConsumer.DataPoint dataPoint) {<br/>\n    +String metricName = dataPoint.name;<br/>\n    +<br/>\n    +Boolean cachedFilteredIn = filterCache.getIfPresent(metricName);<br/>\n    +if (cachedFilteredIn != null) </p>\n{\n    +    return cachedFilteredIn;\n    +}\n<p> else </p>\n{\n    +    boolean filteredIn = isFilteredIn(metricName);\n    +    filterCache.put(metricName, filteredIn);\n    +    return filteredIn;\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private boolean isFilteredIn(String metricName) {<br/>\n    +if (noneSpecified) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    I think lots of redundant get/put will be avoided if it is moved.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895645/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895653","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895653","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895653,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2NTM=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T13:13:10Z","updated_at":"2025-01-24T16:12:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62035668\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62035668</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/filter/FilterByMetricName.java &#8212;<br/>\n    @@ -0,0 +1,110 @@<br/>\n    +/**<br/>\n    + * Licensed to the Apache Software Foundation (ASF) under one<br/>\n    + * or more contributor license agreements.  See the NOTICE file<br/>\n    + * distributed with this work for additional information<br/>\n    + * regarding copyright ownership.  The ASF licenses this file<br/>\n    + * to you under the Apache License, Version 2.0 (the<br/>\n    + * \"License\"); you may not use this file except in compliance<br/>\n    + * with the License.  You may obtain a copy of the License at<br/>\n    + *<br/>\n    + * <a href=\"http://www.apache.org/licenses/LICENSE-2.0\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">http://www.apache.org/licenses/LICENSE-2.0</a><br/>\n    + *<br/>\n    + * Unless required by applicable law or agreed to in writing, software<br/>\n    + * distributed under the License is distributed on an \"AS IS\" BASIS,<br/>\n    + * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.<br/>\n    + * See the License for the specific language governing permissions and<br/>\n    + * limitations under the License.<br/>\n    + */<br/>\n    +package org.apache.storm.metric.filter;<br/>\n    +<br/>\n    +import com.google.common.base.Function;<br/>\n    +import com.google.common.cache.Cache;<br/>\n    +import com.google.common.cache.CacheBuilder;<br/>\n    +import com.google.common.collect.Iterators;<br/>\n    +import com.google.common.collect.Lists;<br/>\n    +import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n    +<br/>\n    +import java.util.ArrayList;<br/>\n    +import java.util.Collections;<br/>\n    +import java.util.List;<br/>\n    +import java.util.regex.Pattern;<br/>\n    +<br/>\n    +public class FilterByMetricName implements MetricsFilter {<br/>\n    +    private final Cache<String, Boolean> filterCache;<br/>\n    +    private final List<Pattern> whitelistPattern;<br/>\n    +    private final List<Pattern> blacklistPattern;<br/>\n    +    private boolean noneSpecified = false;<br/>\n    +<br/>\n    +    public FilterByMetricName(List<String> whitelistPattern, List<String> blacklistPattern) {<br/>\n    +// guard NPE<br/>\n    +if (whitelistPattern == null) </p>\n{\n    +    this.whitelistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.whitelistPattern = convertPatternStringsToPatternInstances(whitelistPattern);\n    +}\n<p>    +<br/>\n    +// guard NPE<br/>\n    +if (blacklistPattern == null) </p>\n{\n    +    this.blacklistPattern = Collections.emptyList();\n    +}\n<p> else </p>\n{\n    +    this.blacklistPattern = convertPatternStringsToPatternInstances(blacklistPattern);\n    +}\n<p>    +<br/>\n    +if (this.whitelistPattern.isEmpty() && this.blacklistPattern.isEmpty()) </p>\n{\n    +    noneSpecified = true;\n    +}\n<p> else if (!this.whitelistPattern.isEmpty() && !this.blacklistPattern.isEmpty()) </p>\n{\n    +    throw new IllegalArgumentException(\"You have to specify either includes or excludes, or none.\");\n    +}\n<p>    +<br/>\n    +filterCache = CacheBuilder.newBuilder()<br/>\n    +.maximumSize(1000)<br/>\n    +.build();<br/>\n    +    }<br/>\n    +<br/>\n    +    private ArrayList<Pattern> convertPatternStringsToPatternInstances(List<String> patterns) {<br/>\n    +return Lists.newArrayList(Iterators.transform(patterns.iterator(), new Function<String, Pattern>() {<br/>\n    +    @Override<br/>\n    +    public Pattern apply(String s) </p>\n{\n    +return Pattern.compile(s);\n    +    }\n<p>    +}));<br/>\n    +    }<br/>\n    +<br/>\n    +    @Override<br/>\n    +    public boolean apply(IMetricsConsumer.DataPoint dataPoint) {<br/>\n    +String metricName = dataPoint.name;<br/>\n    +<br/>\n    +Boolean cachedFilteredIn = filterCache.getIfPresent(metricName);<br/>\n    +if (cachedFilteredIn != null) </p>\n{\n    +    return cachedFilteredIn;\n    +}\n<p> else </p>\n{\n    +    boolean filteredIn = isFilteredIn(metricName);\n    +    filterCache.put(metricName, filteredIn);\n    +    return filteredIn;\n    +}\n<p>    +    }<br/>\n    +<br/>\n    +    private boolean isFilteredIn(String metricName) {<br/>\n    +if (noneSpecified) {<br/>\n    &#8212; End diff &#8211;</p>\n\n<p>    It avoids lookup with filterCache, but not more than since filter results are cached. Anyway looking up filterCache is also redundant so I'll move it to first line of apply().</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895653/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216858178","html_url":"https://github.com/apache/storm/pull/1396#issuecomment-216858178","issue_url":"https://api.github.com/repos/apache/storm/issues/1396","id":216858178,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg1ODE3OA==","user":{"login":"dossett","id":7207582,"node_id":"MDQ6VXNlcjcyMDc1ODI=","avatar_url":"https://avatars.githubusercontent.com/u/7207582?v=4","gravatar_id":"","url":"https://api.github.com/users/dossett","html_url":"https://github.com/dossett","followers_url":"https://api.github.com/users/dossett/followers","following_url":"https://api.github.com/users/dossett/following{/other_user}","gists_url":"https://api.github.com/users/dossett/gists{/gist_id}","starred_url":"https://api.github.com/users/dossett/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dossett/subscriptions","organizations_url":"https://api.github.com/users/dossett/orgs","repos_url":"https://api.github.com/users/dossett/repos","events_url":"https://api.github.com/users/dossett/events{/privacy}","received_events_url":"https://api.github.com/users/dossett/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T13:13:33Z","updated_at":"2016-05-04T13:13:33Z","author_association":"CONTRIBUTOR","body":"I have a similar PR (https://github.com/apache/storm/pull/1337) that keeps Elastic 1.x and 2.x side by side to support both.  Elastic Search 1.7 was released just a few months ago so I think Storm should continue to support 1.X.  That said, there are big drawbacks to duplicated code, etc. required to support both.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216858178/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895661","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895661","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895661,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2NjE=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T13:14:04Z","updated_at":"2025-01-24T16:12:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on a diff in the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#discussion_r62035816\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#discussion_r62035816</a></p>\n\n<p>    &#8212; Diff: storm-core/src/jvm/org/apache/storm/metric/MetricsConsumerBolt.java &#8212;<br/>\n    @@ -17,24 +17,45 @@<br/>\n      */<br/>\n     package org.apache.storm.metric;</p>\n\n<p>    +import com.google.common.base.Predicate;<br/>\n    +import com.google.common.collect.Iterables;<br/>\n    +import com.google.common.collect.Lists;<br/>\n     import org.apache.storm.Config;<br/>\n     import org.apache.storm.metric.api.IMetricsConsumer;<br/>\n     import org.apache.storm.task.IBolt;<br/>\n     import org.apache.storm.task.OutputCollector;<br/>\n     import org.apache.storm.task.TopologyContext;<br/>\n     import org.apache.storm.tuple.Tuple;<br/>\n    +import org.slf4j.Logger;<br/>\n    +import org.slf4j.LoggerFactory;<br/>\n    +<br/>\n     import java.util.Collection;<br/>\n    +import java.util.List;<br/>\n     import java.util.Map;<br/>\n    +import java.util.concurrent.BlockingQueue;<br/>\n    +import java.util.concurrent.LinkedBlockingDeque;</p>\n\n<p>     public class MetricsConsumerBolt implements IBolt {<br/>\n    +    public static final Logger LOG = LoggerFactory.getLogger(MetricsConsumerBolt.class);<br/>\n    +<br/>\n IMetricsConsumer _metricsConsumer;<br/>\n String _consumerClassName;<br/>\n OutputCollector _collector;<br/>\n Object _registrationArgument;<br/>\n    +    private final int _maxRetainMetricTuples;<br/>\n    +    private Predicate<IMetricsConsumer.DataPoint> _filterPredicate;<br/>\n    +<br/>\n    +    private final BlockingQueue<MetricsTask> _taskQueue = new LinkedBlockingDeque<>();<br/>\n    +    private Thread _taskExecuteThread;<br/>\n    +    private volatile boolean _running = true;<br/>\n    +<br/>\n    +    public MetricsConsumerBolt(String consumerClassName, Object registrationArgument, int maxRetainMetricTuples,<br/>\n    +       Predicate<IMetricsConsumer.DataPoint> filterPredicate) {</p>\n\n<ul class=\"alternate\" type=\"square\">\n\t<li>public MetricsConsumerBolt(String consumerClassName, Object registrationArgument) {<br/>\n     _consumerClassName = consumerClassName;<br/>\n     _registrationArgument = registrationArgument;<br/>\n    +_maxRetainMetricTuples = maxRetainMetricTuples;\n\t<ul class=\"alternate\" type=\"square\">\n\t\t<li>\n\t\t<ul class=\"alternate\" type=\"square\">\n\t\t\t<li>End diff &#8211;</li>\n\t\t</ul>\n\t\t</li>\n\t</ul>\n\t</li>\n</ul>\n\n\n<p>    Sure, and behavior should be documented. I'll address it.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895661/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216878732","html_url":"https://github.com/apache/storm/pull/1324#issuecomment-216878732","issue_url":"https://api.github.com/repos/apache/storm/issues/1324","id":216878732,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg3ODczMg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:16:26Z","updated_at":"2016-05-04T14:16:44Z","author_association":"CONTRIBUTOR","body":"NOTE: I'll assume STORM-1698 and STORM-1700 can be merged in this pull request (I mean in this branch) since most of review comments are left here, and addressing comments to STORM-1698 requires STORM-1700 to rebase and resolve conflicts.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216878732/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895664","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895664","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895664,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2NjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:16:29Z","updated_at":"2025-01-24T16:12:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#issuecomment-216878732\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#issuecomment-216878732</a></p>\n\n<p>    NOTE: I'll assume <a href=\"https://issues.apache.org/jira/browse/STORM-1698\" title=\"Asynchronous MetricsConsumerBolt\" class=\"issue-link\" data-issue-key=\"STORM-1698\"><del>STORM-1698</del></a> and <a href=\"https://issues.apache.org/jira/browse/STORM-1700\" title=\"Introduce &#39;whitelist&#39; / &#39;blacklist&#39; option to MetricsConsumer\" class=\"issue-link\" data-issue-key=\"STORM-1700\"><del>STORM-1700</del></a> can be merged in this pull request since most of review comments are left here, and addressing comments to <a href=\"https://issues.apache.org/jira/browse/STORM-1698\" title=\"Asynchronous MetricsConsumerBolt\" class=\"issue-link\" data-issue-key=\"STORM-1698\"><del>STORM-1698</del></a> requires <a href=\"https://issues.apache.org/jira/browse/STORM-1700\" title=\"Introduce &#39;whitelist&#39; / &#39;blacklist&#39; option to MetricsConsumer\" class=\"issue-link\" data-issue-key=\"STORM-1700\"><del>STORM-1700</del></a> to rebase and resolve conflicts.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895664/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216879633","html_url":"https://github.com/apache/storm/pull/1323#issuecomment-216879633","issue_url":"https://api.github.com/repos/apache/storm/issues/1323","id":216879633,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg3OTYzMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:19:26Z","updated_at":"2016-05-04T14:19:26Z","author_association":"CONTRIBUTOR","body":"Will be also addressed in #1325, closing.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216879633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895256","html_url":"https://github.com/apache/storm/issues/5533#issuecomment-2612895256","issue_url":"https://api.github.com/repos/apache/storm/issues/5533","id":2612895256,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTUyNTY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:19:27Z","updated_at":"2025-01-24T16:12:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1323#issuecomment-216879633\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1323#issuecomment-216879633</a></p>\n\n<p>    Will be also addressed in #1325, closing.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895264","html_url":"https://github.com/apache/storm/issues/5533#issuecomment-2612895264","issue_url":"https://api.github.com/repos/apache/storm/issues/5533","id":2612895264,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTUyNjQ=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:19:29Z","updated_at":"2025-01-24T16:12:48Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1323\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1323</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895264/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216879711","html_url":"https://github.com/apache/storm/pull/1322#issuecomment-216879711","issue_url":"https://api.github.com/repos/apache/storm/issues/1322","id":216879711,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg3OTcxMQ==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:19:42Z","updated_at":"2016-05-04T14:19:42Z","author_association":"CONTRIBUTOR","body":"Will be also addressed in #1324, closing.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216879711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895268","html_url":"https://github.com/apache/storm/issues/5533#issuecomment-2612895268","issue_url":"https://api.github.com/repos/apache/storm/issues/5533","id":2612895268,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTUyNjg=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:19:43Z","updated_at":"2025-01-24T16:12:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1322#issuecomment-216879711\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1322#issuecomment-216879711</a></p>\n\n<p>    Will be also addressed in #1324, closing.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895268/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895272","html_url":"https://github.com/apache/storm/issues/5533#issuecomment-2612895272","issue_url":"https://api.github.com/repos/apache/storm/issues/5533","id":2612895272,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTUyNzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:19:44Z","updated_at":"2025-01-24T16:12:49Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR closed the pull request at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1322\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1322</a></p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895272/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216888290","html_url":"https://github.com/apache/storm/pull/1324#issuecomment-216888290","issue_url":"https://api.github.com/repos/apache/storm/issues/1324","id":216888290,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjg4ODI5MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:47:52Z","updated_at":"2016-05-04T14:47:52Z","author_association":"CONTRIBUTOR","body":"Addressed comments.\nActually most of comments are for STORM-1698 but I just set title to STORM-1700 to new commit. It will be mixed up anyway when rebasing so I'll leave as it is.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216888290/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895672","html_url":"https://github.com/apache/storm/issues/5535#issuecomment-2612895672","issue_url":"https://api.github.com/repos/apache/storm/issues/5535","id":2612895672,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI4OTU2NzI=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T14:47:53Z","updated_at":"2025-01-24T16:12:59Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user HeartSaVioR commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1324#issuecomment-216888290\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1324#issuecomment-216888290</a></p>\n\n<p>    Addressed comments.<br/>\n    Actually most of comments are for <a href=\"https://issues.apache.org/jira/browse/STORM-1698\" title=\"Asynchronous MetricsConsumerBolt\" class=\"issue-link\" data-issue-key=\"STORM-1698\"><del>STORM-1698</del></a> but I just set title to <a href=\"https://issues.apache.org/jira/browse/STORM-1700\" title=\"Introduce &#39;whitelist&#39; / &#39;blacklist&#39; option to MetricsConsumer\" class=\"issue-link\" data-issue-key=\"STORM-1700\"><del>STORM-1700</del></a> to new commit. It will be mixed up anyway when rebasing so I'll leave as it is.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612895672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904966","html_url":"https://github.com/apache/storm/issues/5599#issuecomment-2612904966","issue_url":"https://api.github.com/repos/apache/storm/issues/5599","id":2612904966,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDQ5NjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T16:06:11Z","updated_at":"2025-01-24T16:17:21Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user knusbaum opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1397\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1397</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1764\" title=\"Pacemaker is throwing some stack traces\" class=\"issue-link\" data-issue-key=\"STORM-1764\"><del>STORM-1764</del></a>: Pacemaker is throwing some stack traces</p>\n\n<p>    Pacemaker throws a handful of stack traces when the occasional weird thing happens. This fixes an IndexOutOfBounds exception, a very strange IllegalStateException, and a NullPointerException.</p>\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/knusbaum/incubator-storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/knusbaum/incubator-storm</a> master</p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1397.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1397.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1397</p>\n\n<hr />\n<p>commit 9c2ac7df68753835454a8abb5c6efcabb4c9370c<br/>\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com><br/>\nDate:   2016-05-02T19:29:06Z</p>\n\n<p>    Test Pacemaker Fix</p>\n\n<p>commit 2fa4d255bc44cbf31bae577551bfe406626a68ef<br/>\nAuthor: Kyle Nusbaum <kylejnusbaum@gmail.com><br/>\nDate:   2016-05-04T16:00:51Z</p>\n\n<p>    Bit of cleanup</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612904966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216930761","html_url":"https://github.com/apache/storm/pull/1386#issuecomment-216930761","issue_url":"https://api.github.com/repos/apache/storm/issues/1386","id":216930761,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjkzMDc2MQ==","user":{"login":"harshach","id":38649,"node_id":"MDQ6VXNlcjM4NjQ5","avatar_url":"https://avatars.githubusercontent.com/u/38649?v=4","gravatar_id":"","url":"https://api.github.com/users/harshach","html_url":"https://github.com/harshach","followers_url":"https://api.github.com/users/harshach/followers","following_url":"https://api.github.com/users/harshach/following{/other_user}","gists_url":"https://api.github.com/users/harshach/gists{/gist_id}","starred_url":"https://api.github.com/users/harshach/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/harshach/subscriptions","organizations_url":"https://api.github.com/users/harshach/orgs","repos_url":"https://api.github.com/users/harshach/repos","events_url":"https://api.github.com/users/harshach/events{/privacy}","received_events_url":"https://api.github.com/users/harshach/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T16:55:59Z","updated_at":"2016-05-04T16:55:59Z","author_association":"CONTRIBUTOR","body":"@abhishekagarwal87 how is consumer api is relevant here. We are using simpleConsumer which is old api and it didn't changed from 0.8.x release onwards.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216930761/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903630","html_url":"https://github.com/apache/storm/issues/5590#issuecomment-2612903630","issue_url":"https://api.github.com/repos/apache/storm/issues/5590","id":2612903630,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDM2MzA=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T16:56:00Z","updated_at":"2025-01-24T16:16:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user harshach commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1386#issuecomment-216930761\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1386#issuecomment-216930761</a></p>\n\n<p>    @abhishekagarwal87 how is consumer api is relevant here. We are using simpleConsumer which is old api and it didn't changed from 0.8.x release onwards.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/216932592","html_url":"https://github.com/apache/storm/pull/1386#issuecomment-216932592","issue_url":"https://api.github.com/repos/apache/storm/issues/1386","id":216932592,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNjkzMjU5Mg==","user":{"login":"abhishekagarwal87","id":1477457,"node_id":"MDQ6VXNlcjE0Nzc0NTc=","avatar_url":"https://avatars.githubusercontent.com/u/1477457?v=4","gravatar_id":"","url":"https://api.github.com/users/abhishekagarwal87","html_url":"https://github.com/abhishekagarwal87","followers_url":"https://api.github.com/users/abhishekagarwal87/followers","following_url":"https://api.github.com/users/abhishekagarwal87/following{/other_user}","gists_url":"https://api.github.com/users/abhishekagarwal87/gists{/gist_id}","starred_url":"https://api.github.com/users/abhishekagarwal87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/abhishekagarwal87/subscriptions","organizations_url":"https://api.github.com/users/abhishekagarwal87/orgs","repos_url":"https://api.github.com/users/abhishekagarwal87/repos","events_url":"https://api.github.com/users/abhishekagarwal87/events{/privacy}","received_events_url":"https://api.github.com/users/abhishekagarwal87/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T17:02:23Z","updated_at":"2016-05-04T17:02:23Z","author_association":"CONTRIBUTOR","body":"@harshach - simple consumer api may not have changed but there is a change in protocol. Using storm-kafka 1.0.0 with 0.9.x kafka cluster causes the illegalArgumentException mentioned in the storm mailing list link I pasted.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/216932592/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903635","html_url":"https://github.com/apache/storm/issues/5590#issuecomment-2612903635","issue_url":"https://api.github.com/repos/apache/storm/issues/5590","id":2612903635,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDM2MzU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T17:02:25Z","updated_at":"2025-01-24T16:16:43Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>Github user abhishekagarwal87 commented on the pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1386#issuecomment-216932592\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1386#issuecomment-216932592</a></p>\n\n<p>    @harshach - simple consumer api may not have changed but there is a change in protocol. Using storm-kafka 1.0.0 with 0.9.x kafka cluster causes the illegalArgumentException mentioned in the storm mailing list link I pasted.</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612903635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612604226","html_url":"https://github.com/apache/storm/issues/4903#issuecomment-2612604226","issue_url":"https://api.github.com/repos/apache/storm/issues/4903","id":2612604226,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI2MDQyMjY=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T21:29:03Z","updated_at":"2025-01-24T14:02:14Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=saran_vt\">saran_vt</a>:</i>\n<p>Has this issue been fixed in any of the releases. Please confirm</p>","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612604226/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612905345","html_url":"https://github.com/apache/storm/issues/5601#issuecomment-2612905345","issue_url":"https://api.github.com/repos/apache/storm/issues/5601","id":2612905345,"node_id":"MDEyOklzc3VlQ29tbWVudDI2MTI5MDUzNDU=","user":{"login":"jira-importer","id":99357308,"node_id":"U_kgDOBewSfA","avatar_url":"https://avatars.githubusercontent.com/u/99357308?v=4","gravatar_id":"","url":"https://api.github.com/users/jira-importer","html_url":"https://github.com/jira-importer","followers_url":"https://api.github.com/users/jira-importer/followers","following_url":"https://api.github.com/users/jira-importer/following{/other_user}","gists_url":"https://api.github.com/users/jira-importer/gists{/gist_id}","starred_url":"https://api.github.com/users/jira-importer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jira-importer/subscriptions","organizations_url":"https://api.github.com/users/jira-importer/orgs","repos_url":"https://api.github.com/users/jira-importer/repos","events_url":"https://api.github.com/users/jira-importer/events{/privacy}","received_events_url":"https://api.github.com/users/jira-importer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T22:11:36Z","updated_at":"2025-01-24T16:17:32Z","author_association":"COLLABORATOR","body":"<i><a href=\"https://issues.apache.org/jira/secure/ViewProfile.jspa?name=githubbot\">githubbot</a>:</i>\n<p>GitHub user jerrypeng opened a pull request:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1398\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1398</a></p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1766\" title=\"A better algorithm server rack selection for RAS\" class=\"issue-link\" data-issue-key=\"STORM-1766\"><del>STORM-1766</del></a> - A better algorithm server rack selection for RAS</p>\n\n\n\n<p>You can merge this pull request into a Git repository by running:</p>\n\n<p>    $ git pull <a href=\"https://github.com/jerrypeng/storm\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/jerrypeng/storm</a> <a href=\"https://issues.apache.org/jira/browse/STORM-1766\" title=\"A better algorithm server rack selection for RAS\" class=\"issue-link\" data-issue-key=\"STORM-1766\"><del>STORM-1766</del></a></p>\n\n<p>Alternatively you can review and apply these changes as the patch at:</p>\n\n<p>    <a href=\"https://github.com/apache/storm/pull/1398.patch\" class=\"external-link\" target=\"_blank\" rel=\"nofollow noopener\">https://github.com/apache/storm/pull/1398.patch</a></p>\n\n<p>To close this pull request, make a commit to your master/trunk branch<br/>\nwith (at least) the following in the commit message:</p>\n\n<p>    This closes #1398</p>\n\n<hr />\n<p>commit 848ef21df184d046ac6617ea2bce1efc00e13a13<br/>\nAuthor: Boyang Jerry Peng <jerrypeng@yahoo-inc.com><br/>\nDate:   2016-05-04T22:08:57Z</p>\n\n<p>    <a href=\"https://issues.apache.org/jira/browse/STORM-1766\" title=\"A better algorithm server rack selection for RAS\" class=\"issue-link\" data-issue-key=\"STORM-1766\"><del>STORM-1766</del></a> - A better algorithm server rack selection for RAS</p>\n\n<hr />","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/2612905345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/storm/issues/comments/217026345","html_url":"https://github.com/apache/storm/pull/236#issuecomment-217026345","issue_url":"https://api.github.com/repos/apache/storm/issues/236","id":217026345,"node_id":"MDEyOklzc3VlQ29tbWVudDIxNzAyNjM0NQ==","user":{"login":"erikdw","id":1111441,"node_id":"MDQ6VXNlcjExMTE0NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1111441?v=4","gravatar_id":"","url":"https://api.github.com/users/erikdw","html_url":"https://github.com/erikdw","followers_url":"https://api.github.com/users/erikdw/followers","following_url":"https://api.github.com/users/erikdw/following{/other_user}","gists_url":"https://api.github.com/users/erikdw/gists{/gist_id}","starred_url":"https://api.github.com/users/erikdw/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/erikdw/subscriptions","organizations_url":"https://api.github.com/users/erikdw/orgs","repos_url":"https://api.github.com/users/erikdw/repos","events_url":"https://api.github.com/users/erikdw/events{/privacy}","received_events_url":"https://api.github.com/users/erikdw/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-05-04T22:45:57Z","updated_at":"2016-05-04T22:45:57Z","author_association":"CONTRIBUTOR","body":"@knusbaum : I see you closed this.  Are you planning to open a new PR for publishing these stats?  It would be a big help to us, we often wonder at various behaviors we witness from our users' topologies, and the only mechanism we have right now for getting visibility into the queue depths seems to be getting every topology owner to use a custom metrics consumer to publish the metrics which we would then need to provide fancy aggregation on top of.  Having it in the Storm UI and also in the API stats would be very very helpful.\n","reactions":{"url":"https://api.github.com/repos/apache/storm/issues/comments/217026345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]