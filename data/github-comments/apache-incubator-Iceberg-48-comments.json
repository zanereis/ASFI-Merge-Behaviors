[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689124103","html_url":"https://github.com/apache/iceberg/issues/1416#issuecomment-689124103","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1416","id":689124103,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTEyNDEwMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T20:40:54Z","updated_at":"2020-09-08T20:40:54Z","author_association":"CONTRIBUTOR","body":"I think we need to address this. Tests should not be timezone dependent. I'll try to take a look.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689124103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689126675","html_url":"https://github.com/apache/iceberg/pull/1432#issuecomment-689126675","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1432","id":689126675,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTEyNjY3NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T20:45:59Z","updated_at":"2020-09-08T20:45:59Z","author_association":"CONTRIBUTOR","body":"Thanks, @HeartSaVioR! I think the behavior you're proposing is an improvement.\r\n\r\nHave you considered implementing this by using cached tables underneath metadata tables? So instead of refreshing each metadata table with a different `Table` instance for the same table, use the same cached `Table` instance for all metadata tables? That seems simpler than using notifications.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689126675/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689127017","html_url":"https://github.com/apache/iceberg/pull/1399#issuecomment-689127017","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1399","id":689127017,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTEyNzAxNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T20:46:40Z","updated_at":"2020-09-08T20:46:40Z","author_association":"CONTRIBUTOR","body":"Thanks for pinging me, @edgarRd. I'm back from a long weekend off and I'll look as soon as I have time.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689127017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689166450","html_url":"https://github.com/apache/iceberg/pull/1432#issuecomment-689166450","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1432","id":689166450,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTE2NjQ1MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-08T22:20:07Z","updated_at":"2020-09-08T22:20:07Z","author_association":"CONTRIBUTOR","body":"> Have you considered implementing this by using cached tables underneath metadata tables? So instead of refreshing each metadata table with a different Table instance for the same table, use the same cached Table instance for all metadata tables? That seems simpler than using notifications.\r\n\r\nI haven't thought about that approach, as I was trying to find less invasive changes, like CachingCatalog still doesn't know about the details on the metadata tables, though it knows the relation of the 'identifier' between base table and metadata tables. I agree your suggestion would be pretty much simpler than relying on the listener - I couldn't think of other approach on receiving updates on the base table in CachingCatalog, and your suggestion even doesn't need to make CachingCatalog be aware of updates.\r\n\r\nIf I understand correctly, you're suggesting that all metadata tables share the cached base table instance (probably tableOps as well). That seems to make CachingCatalog no longer blindly delegate to the catalog on loading metadata tables, because CachingCatalog should retrieve the Table instance (+ TableOperation instance underneath) of the base table instead, and cache it, and construct the Table instance for metadata table. Is my understanding correct?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689166450/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689227758","html_url":"https://github.com/apache/iceberg/pull/1346#issuecomment-689227758","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1346","id":689227758,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTIyNzc1OA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T00:40:07Z","updated_at":"2020-09-09T00:40:07Z","author_association":"CONTRIBUTOR","body":"Is this one next to review?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689227758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689253802","html_url":"https://github.com/apache/iceberg/pull/1346#issuecomment-689253802","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1346","id":689253802,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTI1MzgwMg==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T02:09:18Z","updated_at":"2020-09-09T02:09:18Z","author_association":"CONTRIBUTOR","body":"> Is this one next to review?\r\n\r\nYes~","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689253802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689291386","html_url":"https://github.com/apache/iceberg/issues/1434#issuecomment-689291386","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1434","id":689291386,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTI5MTM4Ng==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T04:19:50Z","updated_at":"2020-09-09T04:19:50Z","author_association":"MEMBER","body":"The patch #1435 fixed the crash issue, here is the verification. \r\n\r\n```sql\r\nFlink SQL> create catalog hadoop_catalog with(\r\n>   'type'='iceberg',\r\n>   'catalog-type'='hadoop',\r\n>   'warehouse'='file:///Users/openinx/Downloads',\r\n>   'property-version'='1'\r\n> );\r\n[INFO] Catalog has been created.\r\n\r\nFlink SQL> use catalog hadoop_catalog;\r\n\r\nFlink SQL> show tables; \r\n[INFO] Result was empty.\r\n\r\nFlink SQL> show databases; \r\ndefault\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689291386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689313980","html_url":"https://github.com/apache/iceberg/pull/1432#issuecomment-689313980","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1432","id":689313980,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTMxMzk4MA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T05:31:09Z","updated_at":"2020-09-09T05:31:09Z","author_association":"CONTRIBUTOR","body":"Reflected the suggestion. Table instance can't be shared across the metadata tables (due to the full table name), but TableOperations instance can, so I modified the suggestion a bit to share TableOperations instance among tables.\r\n\r\nPlease take a look again. Thanks in advance!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689313980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689441843","html_url":"https://github.com/apache/iceberg/pull/1404#issuecomment-689441843","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1404","id":689441843,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTQ0MTg0Mw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T09:22:40Z","updated_at":"2020-09-09T09:22:40Z","author_association":"MEMBER","body":"Ping @rdblue ,  @JingsongLi @stevenzwu  ,   any other concern ? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689441843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689673810","html_url":"https://github.com/apache/iceberg/pull/723#issuecomment-689673810","issue_url":"https://api.github.com/repos/apache/iceberg/issues/723","id":689673810,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTY3MzgxMA==","user":{"login":"baibaichen","id":3688732,"node_id":"MDQ6VXNlcjM2ODg3MzI=","avatar_url":"https://avatars.githubusercontent.com/u/3688732?v=4","gravatar_id":"","url":"https://api.github.com/users/baibaichen","html_url":"https://github.com/baibaichen","followers_url":"https://api.github.com/users/baibaichen/followers","following_url":"https://api.github.com/users/baibaichen/following{/other_user}","gists_url":"https://api.github.com/users/baibaichen/gists{/gist_id}","starred_url":"https://api.github.com/users/baibaichen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baibaichen/subscriptions","organizations_url":"https://api.github.com/users/baibaichen/orgs","repos_url":"https://api.github.com/users/baibaichen/repos","events_url":"https://api.github.com/users/baibaichen/events{/privacy}","received_events_url":"https://api.github.com/users/baibaichen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T16:26:45Z","updated_at":"2020-09-09T16:26:45Z","author_association":"NONE","body":"@samarthjain \r\n\r\nIs there any design documentation about reading parquet into Arrow format?  I found iceberg rewrite parquet vector reader, what is the reason?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689673810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689878417","html_url":"https://github.com/apache/iceberg/pull/1432#issuecomment-689878417","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1432","id":689878417,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTg3ODQxNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T23:33:04Z","updated_at":"2020-09-09T23:33:04Z","author_association":"CONTRIBUTOR","body":"@HeartSaVioR, I think your summary of my suggestion is correct. Another benefit is that when a user runs `REFRESH TABLE`, all of the metadata tables are refreshed as well becuase they all use the same `Table` instance.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689878417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689881787","html_url":"https://github.com/apache/iceberg/pull/1432#issuecomment-689881787","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1432","id":689881787,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTg4MTc4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T23:44:00Z","updated_at":"2020-09-09T23:44:00Z","author_association":"CONTRIBUTOR","body":"Overall, this looks like the right direction. Just a few minor things to fix. Thanks @HeartSaVioR!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689881787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689883556","html_url":"https://github.com/apache/iceberg/pull/1429#issuecomment-689883556","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1429","id":689883556,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTg4MzU1Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T23:49:51Z","updated_at":"2020-09-09T23:49:51Z","author_association":"CONTRIBUTOR","body":"Merged! Thanks for this fix, @HeartSaVioR. It's been annoying me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689883556/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689883874","html_url":"https://github.com/apache/iceberg/pull/1423#issuecomment-689883874","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1423","id":689883874,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTg4Mzg3NA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-09T23:50:49Z","updated_at":"2020-09-09T23:50:49Z","author_association":"CONTRIBUTOR","body":"@kbendick, should this be labelled `build`? The label isn't there, so maybe we're missing `build.gradle` in the config?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689883874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689894270","html_url":"https://github.com/apache/iceberg/pull/1389#issuecomment-689894270","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1389","id":689894270,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTg5NDI3MA==","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T00:23:23Z","updated_at":"2020-09-10T00:23:23Z","author_association":"MEMBER","body":"If there is production use case for a manual clock ingested into table operations, I can rename `TestClock` to `ManualClock` and move it from test to prod.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689894270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689906228","html_url":"https://github.com/apache/iceberg/pull/1432#issuecomment-689906228","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1432","id":689906228,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTkwNjIyOA==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T01:00:53Z","updated_at":"2020-09-10T01:00:53Z","author_association":"CONTRIBUTOR","body":"Thanks for the review! Updated the PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689906228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689906582","html_url":"https://github.com/apache/iceberg/pull/1429#issuecomment-689906582","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1429","id":689906582,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTkwNjU4Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T01:01:46Z","updated_at":"2020-09-10T01:01:46Z","author_association":"CONTRIBUTOR","body":"Thanks all for reviewing and merging!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689906582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689977302","html_url":"https://github.com/apache/iceberg/pull/1404#issuecomment-689977302","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1404","id":689977302,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTk3NzMwMg==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T04:44:44Z","updated_at":"2020-09-10T04:44:53Z","author_association":"CONTRIBUTOR","body":"@openinx LGTM for the scope. Added a few minor comments.\r\n\r\nSince this is still early stage, I would image we will have incompatible state change in the future, e.g. if we decide to go with the manifest file checkpoint approach.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689977302/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689982800","html_url":"https://github.com/apache/iceberg/pull/1436#issuecomment-689982800","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1436","id":689982800,"node_id":"MDEyOklzc3VlQ29tbWVudDY4OTk4MjgwMA==","user":{"login":"wangmiao1981","id":5033592,"node_id":"MDQ6VXNlcjUwMzM1OTI=","avatar_url":"https://avatars.githubusercontent.com/u/5033592?v=4","gravatar_id":"","url":"https://api.github.com/users/wangmiao1981","html_url":"https://github.com/wangmiao1981","followers_url":"https://api.github.com/users/wangmiao1981/followers","following_url":"https://api.github.com/users/wangmiao1981/following{/other_user}","gists_url":"https://api.github.com/users/wangmiao1981/gists{/gist_id}","starred_url":"https://api.github.com/users/wangmiao1981/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangmiao1981/subscriptions","organizations_url":"https://api.github.com/users/wangmiao1981/orgs","repos_url":"https://api.github.com/users/wangmiao1981/repos","events_url":"https://api.github.com/users/wangmiao1981/events{/privacy}","received_events_url":"https://api.github.com/users/wangmiao1981/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T05:01:43Z","updated_at":"2020-09-10T05:01:43Z","author_association":"CONTRIBUTOR","body":"Not necessary.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/689982800/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690335642","html_url":"https://github.com/apache/iceberg/pull/1427#issuecomment-690335642","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1427","id":690335642,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDMzNTY0Mg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T14:42:02Z","updated_at":"2020-09-10T14:42:02Z","author_association":"MEMBER","body":"@rdblue I was going to fix more warnings in future tickets, but I think the biggest thing to decide is whether we want to disable the RawTypes error-prone check added by Palantir. This isn't one of the base google ones and we have a lot of violations but I don't think there is a lot of value to fixing them.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690335642/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690601946","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-690601946","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":690601946,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDYwMTk0Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T18:26:59Z","updated_at":"2020-09-10T18:26:59Z","author_association":"CONTRIBUTOR","body":"Table should not be serializable. That would leak the requirement to external connectors.\r\n\r\nThis is happening when restoring from checkpoint state written by a different version, right? If that's the case, can we serialize checkpoint state with something more reliable than Java serialization?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690601946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690741263","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-690741263","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":690741263,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDc0MTI2Mw==","user":{"login":"shangxinli","id":31421745,"node_id":"MDQ6VXNlcjMxNDIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31421745?v=4","gravatar_id":"","url":"https://api.github.com/users/shangxinli","html_url":"https://github.com/shangxinli","followers_url":"https://api.github.com/users/shangxinli/followers","following_url":"https://api.github.com/users/shangxinli/following{/other_user}","gists_url":"https://api.github.com/users/shangxinli/gists{/gist_id}","starred_url":"https://api.github.com/users/shangxinli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangxinli/subscriptions","organizations_url":"https://api.github.com/users/shangxinli/orgs","repos_url":"https://api.github.com/users/shangxinli/repos","events_url":"https://api.github.com/users/shangxinli/events{/privacy}","received_events_url":"https://api.github.com/users/shangxinli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T21:26:55Z","updated_at":"2020-09-10T21:26:55Z","author_association":"CONTRIBUTOR","body":"@rdblue, idToAlias could be null. In that case, how do we find the field name which is required by the following Parquet API(FilterApi)? \r\n\r\nBTW, how do you resolve the imports of 'relocated' in Intellij? I am able to Gradle build in the terminal but Intellij keeps complaining those relocated imports like below. This blocks me to run unit test in Intellij. \r\n\r\nimport org.apache.iceberg.relocated.com.google.common.collect.ImmutableList;\r\nimport org.apache.iceberg.relocated.com.google.common.collect.ImmutableMap;","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690741263/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690752279","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-690752279","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":690752279,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDc1MjI3OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T21:54:01Z","updated_at":"2020-09-10T21:54:01Z","author_association":"CONTRIBUTOR","body":"`idToAlias` is not null when the schema was converted from a Parquet schema. So you just have to ensure that the schema you're using was converted from the schema of the file you're working with.\r\n\r\nTry building the gradle bundle through IntelliJ's gradle plugin. That usually fixes it for me.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690752279/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690755345","html_url":"https://github.com/apache/iceberg/pull/1432#issuecomment-690755345","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1432","id":690755345,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDc1NTM0NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T22:02:02Z","updated_at":"2020-09-10T22:02:02Z","author_association":"CONTRIBUTOR","body":"Thanks @HeartSaVioR! Looks good.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690755345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690757420","html_url":"https://github.com/apache/iceberg/pull/1417#issuecomment-690757420","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1417","id":690757420,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDc1NzQyMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T22:07:00Z","updated_at":"2020-09-10T22:07:00Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing @guilload! It sounds like we should definitely take your suggestion and update this. I think the tests I was suggesting should catch those cases, too. It would be good to add those tests and confirm that the existing PR fails and then incorporate your work to fix it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690757420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690758285","html_url":"https://github.com/apache/iceberg/pull/1389#issuecomment-690758285","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1389","id":690758285,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDc1ODI4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T22:09:17Z","updated_at":"2020-09-10T22:09:17Z","author_association":"CONTRIBUTOR","body":"We discussed this last night since there was a thread on the mailing list about using timestamps for incremental table consumption. What we concluded was that even with an easy way to inject timestamps like this, it would still be unreliable. That makes me less inclined to add a `Clock` to `TableOperations` because people may start to use it to inject timestamps, even though there are still commit issues.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690758285/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690759006","html_url":"https://github.com/apache/iceberg/pull/1432#issuecomment-690759006","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1432","id":690759006,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDc1OTAwNg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T22:11:08Z","updated_at":"2020-09-10T22:11:08Z","author_association":"CONTRIBUTOR","body":"Thanks for the quick review and merge!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690759006/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690760494","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-690760494","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":690760494,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDc2MDQ5NA==","user":{"login":"shangxinli","id":31421745,"node_id":"MDQ6VXNlcjMxNDIxNzQ1","avatar_url":"https://avatars.githubusercontent.com/u/31421745?v=4","gravatar_id":"","url":"https://api.github.com/users/shangxinli","html_url":"https://github.com/shangxinli","followers_url":"https://api.github.com/users/shangxinli/followers","following_url":"https://api.github.com/users/shangxinli/following{/other_user}","gists_url":"https://api.github.com/users/shangxinli/gists{/gist_id}","starred_url":"https://api.github.com/users/shangxinli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/shangxinli/subscriptions","organizations_url":"https://api.github.com/users/shangxinli/orgs","repos_url":"https://api.github.com/users/shangxinli/repos","events_url":"https://api.github.com/users/shangxinli/events{/privacy}","received_events_url":"https://api.github.com/users/shangxinli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T22:15:02Z","updated_at":"2020-09-11T20:37:05Z","author_association":"CONTRIBUTOR","body":"It shows null to me when I do a simple writing/reading as below. \r\nDataset<Row> df = ....\r\ndf.write().format(\"iceberg\").mode(\"overwrite\").save(path_name);\r\nspark.read().format(\"iceberg\").load(path_name);  <<<----- This will trigger the issue that idToAlias is null. \r\n\r\nIt is null because the 2nd constructor public Schema(List<NestedField> columns) () is called from https://github.com/apache/iceberg/blob/master/core/src/main/java/org/apache/iceberg/SchemaParser.java#L240","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690760494/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690836103","html_url":"https://github.com/apache/iceberg/pull/1389#issuecomment-690836103","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1389","id":690836103,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDgzNjEwMw==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T02:30:40Z","updated_at":"2020-09-11T02:41:35Z","author_association":"CONTRIBUTOR","body":"In general, manual clock like this is widely used for testing and I see it very helpful, but according to the changeset it looks to affect just a couple of tests which looks to be very minor, compared to the impact of the change performed to the source side. Places I see using manual clocks are testing timer/timeout functionality, which would add multi-seconds or minutes which aren't what we really want to actually sleep to wait. Here the test just busy-waits for 1 ms per each, which is trivial to just wait.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690836103/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690845933","html_url":"https://github.com/apache/iceberg/pull/1389#issuecomment-690845933","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1389","id":690845933,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDg0NTkzMw==","user":{"login":"jzhuge","id":1883812,"node_id":"MDQ6VXNlcjE4ODM4MTI=","avatar_url":"https://avatars.githubusercontent.com/u/1883812?v=4","gravatar_id":"","url":"https://api.github.com/users/jzhuge","html_url":"https://github.com/jzhuge","followers_url":"https://api.github.com/users/jzhuge/followers","following_url":"https://api.github.com/users/jzhuge/following{/other_user}","gists_url":"https://api.github.com/users/jzhuge/gists{/gist_id}","starred_url":"https://api.github.com/users/jzhuge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jzhuge/subscriptions","organizations_url":"https://api.github.com/users/jzhuge/orgs","repos_url":"https://api.github.com/users/jzhuge/repos","events_url":"https://api.github.com/users/jzhuge/events{/privacy}","received_events_url":"https://api.github.com/users/jzhuge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T03:06:45Z","updated_at":"2020-09-11T03:06:45Z","author_association":"MEMBER","body":"Yes @HeartSaVioR, this change has a very limited scope. Unfortunately there is no clean way to ingest the clock other than going through table operations or a bunch of constructors.\r\n\r\nClose the PR.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690845933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690845980","html_url":"https://github.com/apache/iceberg/issues/1414#issuecomment-690845980","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1414","id":690845980,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDg0NTk4MA==","user":{"login":"zixi0825","id":10829956,"node_id":"MDQ6VXNlcjEwODI5OTU2","avatar_url":"https://avatars.githubusercontent.com/u/10829956?v=4","gravatar_id":"","url":"https://api.github.com/users/zixi0825","html_url":"https://github.com/zixi0825","followers_url":"https://api.github.com/users/zixi0825/followers","following_url":"https://api.github.com/users/zixi0825/following{/other_user}","gists_url":"https://api.github.com/users/zixi0825/gists{/gist_id}","starred_url":"https://api.github.com/users/zixi0825/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zixi0825/subscriptions","organizations_url":"https://api.github.com/users/zixi0825/orgs","repos_url":"https://api.github.com/users/zixi0825/repos","events_url":"https://api.github.com/users/zixi0825/events{/privacy}","received_events_url":"https://api.github.com/users/zixi0825/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T03:06:54Z","updated_at":"2020-09-11T03:06:54Z","author_association":"MEMBER","body":"+1","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690845980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690847513","html_url":"https://github.com/apache/iceberg/issues/1414#issuecomment-690847513","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1414","id":690847513,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDg0NzUxMw==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T03:12:42Z","updated_at":"2020-09-11T03:12:42Z","author_association":"COLLABORATOR","body":"@Muyoo @zixi0825 , I guess you guys may be interested in this PR: https://github.com/apache/iceberg/pull/1423.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690847513/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690933303","html_url":"https://github.com/apache/iceberg/pull/1407#issuecomment-690933303","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1407","id":690933303,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDkzMzMwMw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T07:43:18Z","updated_at":"2020-09-11T07:47:03Z","author_association":"CONTRIBUTOR","body":"The current status of the PR:\r\n\r\n**Open questions:**\r\n- Waiting for #1430 _API: Fix Metrics serialization_ to be approved, so I can get rid of the extra _SerializableMetrics_ class\r\n- Should every task write a _.committed_ file, or just the task in the last phase of the job - Decision needed what is the main goal, performance or generality. Current solution is more performance friendly\r\n- Do we need to handle other Iceberg constructs than _newAppend()_ for adding data to the table? If I understand everything correctly this should be enough to handle inserts started from Hive\r\n\r\n**Postponed:**\r\n- Finding a better place for the configuration\r\n\r\n**Non-goals:**\r\n- Updates/Deletes\r\n- Insert overwrites\r\n- Partitioned Iceberg table handling\r\n- Complex structures (Map / List / Struct)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/690933303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691206230","html_url":"https://github.com/apache/iceberg/pull/1444#issuecomment-691206230","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1444","id":691206230,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTIwNjIzMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T16:55:40Z","updated_at":"2020-09-11T16:55:40Z","author_association":"CONTRIBUTOR","body":"FYI @openinx, @JingsongLi, @prodeezy, @rymurr","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691206230/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691335791","html_url":"https://github.com/apache/iceberg/issues/1445#issuecomment-691335791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1445","id":691335791,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTMzNTc5MQ==","user":{"login":"omalley","id":206536,"node_id":"MDQ6VXNlcjIwNjUzNg==","avatar_url":"https://avatars.githubusercontent.com/u/206536?v=4","gravatar_id":"","url":"https://api.github.com/users/omalley","html_url":"https://github.com/omalley","followers_url":"https://api.github.com/users/omalley/followers","following_url":"https://api.github.com/users/omalley/following{/other_user}","gists_url":"https://api.github.com/users/omalley/gists{/gist_id}","starred_url":"https://api.github.com/users/omalley/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/omalley/subscriptions","organizations_url":"https://api.github.com/users/omalley/orgs","repos_url":"https://api.github.com/users/omalley/repos","events_url":"https://api.github.com/users/omalley/events{/privacy}","received_events_url":"https://api.github.com/users/omalley/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T22:17:44Z","updated_at":"2020-09-11T22:17:44Z","author_association":"CONTRIBUTOR","body":"I thought Hive only lowercases the top level column names. Does it also lowercase the fields in structs?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691335791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691348013","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-691348013","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":691348013,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTM0ODAxMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T23:07:01Z","updated_at":"2020-09-11T23:07:01Z","author_association":"CONTRIBUTOR","body":"Now that the sink is in, should we close this? @waterlx, @openinx","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691348013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691348182","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-691348182","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":691348182,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTM0ODE4Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-11T23:07:46Z","updated_at":"2020-09-11T23:07:46Z","author_association":"CONTRIBUTOR","body":"Oops. I clicked \"close and comment\" instead of \"comment\". I think it should be closed anyway, so I'll leave it as is. Feel free to reopen if this still has outstanding work. Thanks for all the great work!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691348182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691416873","html_url":"https://github.com/apache/iceberg/issues/1445#issuecomment-691416873","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1445","id":691416873,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTQxNjg3Mw==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-12T05:38:24Z","updated_at":"2020-09-12T05:38:24Z","author_association":"CONTRIBUTOR","body":"> I thought Hive only lowercases the top level column names. Does it also lowercase the fields in structs?\r\n\r\nMaybe this is because we use the lowercase config when we start the TableScan, and this config might lowercase the struct fields too?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691416873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691597676","html_url":"https://github.com/apache/iceberg/pull/1427#issuecomment-691597676","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1427","id":691597676,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTU5NzY3Ng==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T02:47:00Z","updated_at":"2020-09-13T02:47:00Z","author_association":"MEMBER","body":"@kbendick the FormatMethod import is not actually referenced at runtime, that's why it's a compile only dependency. So we shouldn't include it or package it for distribution as it shouldn't be on the class path at all at execution time.\r\n\r\nSee the Build file modification","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691597676/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691689215","html_url":"https://github.com/apache/iceberg/pull/796#issuecomment-691689215","issue_url":"https://api.github.com/repos/apache/iceberg/issues/796","id":691689215,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTY4OTIxNQ==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T15:56:16Z","updated_at":"2020-09-13T15:56:16Z","author_association":"MEMBER","body":"I have a general question about the micro batch approach, I'm fairly new to this code but I was wondering if it makes sense to have a batch which only contains some of the manifests in a snapshot? Seems like this would be a state of the table that wouldn't actually ever be visible from the normal api?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691689215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691722525","html_url":"https://github.com/apache/iceberg/pull/1423#issuecomment-691722525","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1423","id":691722525,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTcyMjUyNQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T20:41:33Z","updated_at":"2020-09-13T21:39:27Z","author_association":"CONTRIBUTOR","body":"> @kbendick, should this be labelled `build`? The label isn't there, so maybe we're missing `build.gradle` in the config?\r\n\r\nHmm yes it definitely should be. I have `**gradle**` under BUILD, but I realize now that it should be `*gradle*`. I will open an issue and then submit a PR. I'm also opening an issue and PR for proactively adding `flink-runtime` to the `flink` label @rdblue ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691722525/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691728558","html_url":"https://github.com/apache/iceberg/pull/1450#issuecomment-691728558","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1450","id":691728558,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTcyODU1OA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T21:32:05Z","updated_at":"2020-09-13T21:39:54Z","author_association":"CONTRIBUTOR","body":"cc @openinx as you are the one who is adding the `flink-runtime` module in the PR mentioned, but it's not currently labeled `flink`.\r\n\r\ncc @rdblue (sorry that you probably get CC'd on like 75% of PRs), as you were the one who noticed the original bug on the above mentioned `flink-runtime` PR as it didn't properly tag the updates to `build.gradle` with the `build` label. I figured I'd proactively add `flink-runtime` to flink while I was making these changes.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691728558/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691734491","html_url":"https://github.com/apache/iceberg/pull/1449#issuecomment-691734491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1449","id":691734491,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTczNDQ5MQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T22:29:37Z","updated_at":"2020-09-13T22:29:37Z","author_association":"CONTRIBUTOR","body":"For anybody who looked at the demo PRs in my peronal repo, notw that 've already overwritten the master branch to match the apache master. In order for the tags to be applied, the autolabeler config needs to be updated first and then changes will show up (they can't typically be intermixed in the same PR like the PRs in my personal repo make it look).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691734491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691737008","html_url":"https://github.com/apache/iceberg/pull/1449#issuecomment-691737008","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1449","id":691737008,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTczNzAwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T22:54:36Z","updated_at":"2020-09-13T22:54:36Z","author_association":"CONTRIBUTOR","body":"Thanks, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691737008/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691737310","html_url":"https://github.com/apache/iceberg/pull/1450#issuecomment-691737310","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1450","id":691737310,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTczNzMxMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T22:57:06Z","updated_at":"2020-09-13T22:57:06Z","author_association":"CONTRIBUTOR","body":"I'm merging this now, since it doesn't depend on #1423. Thanks for fixing this, @kbendick!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691737310/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691741265","html_url":"https://github.com/apache/iceberg/issues/1448#issuecomment-691741265","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1448","id":691741265,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc0MTI2NQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T23:29:27Z","updated_at":"2020-09-13T23:29:27Z","author_association":"CONTRIBUTOR","body":"Closing this issue as the PR has been merged. I believe once another push happens against #1423 that the autolabeler _might_ run again, though it's possible it only runs on PR creation.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691741265/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691741491","html_url":"https://github.com/apache/iceberg/pull/1450#issuecomment-691741491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1450","id":691741491,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc0MTQ5MQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T23:31:26Z","updated_at":"2020-09-13T23:31:26Z","author_association":"CONTRIBUTOR","body":"> I'm merging this now, since it doesn't depend on #1423. Thanks for fixing this, @kbendick!\r\n\r\nI'm not 100% sure if the labels will be added to that PR once another push is made or if the autolabeler only runs on PR opening. Either way, it will add the `flink` label to anything that goes in the upcoming `flink-runtime` directory going forward. As always, happy to be able to contribute any way that I can @rdblue.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691741491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691741631","html_url":"https://github.com/apache/iceberg/pull/1449#issuecomment-691741631","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1449","id":691741631,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc0MTYzMQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T23:32:36Z","updated_at":"2020-09-13T23:32:36Z","author_association":"CONTRIBUTOR","body":"> Thanks, @kbendick!\r\n\r\nNo problem. Thank you for noticing this bug and tagging me!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691741631/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691742419","html_url":"https://github.com/apache/iceberg/issues/1447#issuecomment-691742419","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1447","id":691742419,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc0MjQxOQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T23:39:27Z","updated_at":"2020-09-13T23:39:27Z","author_association":"CONTRIBUTOR","body":"Closing this issue as the PR has been merged and I tested it in my local repo.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691742419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691743395","html_url":"https://github.com/apache/iceberg/pull/1390#issuecomment-691743395","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1390","id":691743395,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc0MzM5NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-13T23:47:37Z","updated_at":"2020-09-13T23:47:37Z","author_association":"CONTRIBUTOR","body":"Thanks, @HeartSaVioR! I'm merging this and will follow up with a PR to better explain how to load a table.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691743395/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691749089","html_url":"https://github.com/apache/iceberg/pull/1227#issuecomment-691749089","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1227","id":691749089,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc0OTA4OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T00:25:37Z","updated_at":"2020-09-14T00:25:37Z","author_association":"CONTRIBUTOR","body":"I just tried running this locally, but it failed with this error: `fatal: pathspec 'bdp-iceberg' did not match any files`\r\n\r\nIt looks like the list operation can introduce files or directories that aren't tracked by git and will cause the command to fail.\r\n\r\nThe idea behind using `git archive` with a list was to ensure that the local copy doesn't leak into the archive so you can have extra files and folders that are automatically ignored. If we committed this, then a release manager would need to fix their local copy before running the script.\r\n\r\nCan we fix this by getting the listing from `git` instead?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691749089/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691752808","html_url":"https://github.com/apache/iceberg/pull/1399#issuecomment-691752808","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1399","id":691752808,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc1MjgwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T00:46:36Z","updated_at":"2020-09-14T00:46:36Z","author_association":"CONTRIBUTOR","body":"Great work, @edgarRd! Everything looks good, except for changing the default behavior. Let's separate that out and discuss how we want to do it. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691752808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691757552","html_url":"https://github.com/apache/iceberg/pull/1390#issuecomment-691757552","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1390","id":691757552,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc1NzU1Mg==","user":{"login":"HeartSaVioR","id":1317309,"node_id":"MDQ6VXNlcjEzMTczMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1317309?v=4","gravatar_id":"","url":"https://api.github.com/users/HeartSaVioR","html_url":"https://github.com/HeartSaVioR","followers_url":"https://api.github.com/users/HeartSaVioR/followers","following_url":"https://api.github.com/users/HeartSaVioR/following{/other_user}","gists_url":"https://api.github.com/users/HeartSaVioR/gists{/gist_id}","starred_url":"https://api.github.com/users/HeartSaVioR/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HeartSaVioR/subscriptions","organizations_url":"https://api.github.com/users/HeartSaVioR/orgs","repos_url":"https://api.github.com/users/HeartSaVioR/repos","events_url":"https://api.github.com/users/HeartSaVioR/events{/privacy}","received_events_url":"https://api.github.com/users/HeartSaVioR/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T01:09:10Z","updated_at":"2020-09-14T01:09:10Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing and merging!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691757552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691768273","html_url":"https://github.com/apache/iceberg/pull/1452#issuecomment-691768273","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1452","id":691768273,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc2ODI3Mw==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T01:56:44Z","updated_at":"2020-09-14T01:56:44Z","author_association":"CONTRIBUTOR","body":"I should note that currently the varargs constructor is unused according to my IDE, so we might also have the option of simply removing it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691768273/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691793978","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-691793978","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":691793978,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTc5Mzk3OA==","user":{"login":"chenjunjiedada","id":3960228,"node_id":"MDQ6VXNlcjM5NjAyMjg=","avatar_url":"https://avatars.githubusercontent.com/u/3960228?v=4","gravatar_id":"","url":"https://api.github.com/users/chenjunjiedada","html_url":"https://github.com/chenjunjiedada","followers_url":"https://api.github.com/users/chenjunjiedada/followers","following_url":"https://api.github.com/users/chenjunjiedada/following{/other_user}","gists_url":"https://api.github.com/users/chenjunjiedada/gists{/gist_id}","starred_url":"https://api.github.com/users/chenjunjiedada/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chenjunjiedada/subscriptions","organizations_url":"https://api.github.com/users/chenjunjiedada/orgs","repos_url":"https://api.github.com/users/chenjunjiedada/repos","events_url":"https://api.github.com/users/chenjunjiedada/events{/privacy}","received_events_url":"https://api.github.com/users/chenjunjiedada/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T03:46:10Z","updated_at":"2020-09-14T03:46:10Z","author_association":"COLLABORATOR","body":"This can happen when restoring from checkpoint/savepoint state. This can also happen when Flink cluster upgraded with existing user applications as pointed out by @JingsongLi [here](https://github.com/apache/iceberg/pull/1346#discussion_r476981455) and might happen when user wants to try out newly released iceberg-flink-runtime on the Flink cluster.\r\n\r\nFlink is using Kryo for state serialization according to [this](https://ci.apache.org/projects/flink/flink-docs-stable/dev/types_serialization.html#general-class-types). But, Flink uses java serialization to transport messages and programs through RPC according to [doc](https://flink.apache.org/contributing/code-style-and-quality-java.html#java-serialization). So I guess serializable classes in operator would be serialized and transfer to tasks via Java serialization and as a consequence, we have to define `serialVersionUID`. \r\n\r\n@openinx @JingsongLi, Any comment?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691793978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691811328","html_url":"https://github.com/apache/iceberg/pull/1227#issuecomment-691811328","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1227","id":691811328,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTgxMTMyOA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T05:01:24Z","updated_at":"2020-09-14T05:01:24Z","author_association":"CONTRIBUTOR","body":"> I just tried running this locally, but it failed with this error: `fatal: pathspec 'bdp-iceberg' did not match any files`\r\n> \r\n> It looks like the list operation can introduce files or directories that aren't tracked by git and will cause the command to fail.\r\n> \r\n> The idea behind using `git archive` with a list was to ensure that the local copy doesn't leak into the archive so you can have extra files and folders that are automatically ignored. If we committed this, then a release manager would need to fix their local copy before running the script.\r\n> \r\n> Can we fix this by getting the listing from `git` instead?\r\n\r\nYeah we can definitely fix this by getting a list from `git ls-tree`. We've already worked on some changes, but I think I might have a fix for the last problem (some weird issue with using the assigned `archives` variable as a shell variable).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691811328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691876728","html_url":"https://github.com/apache/iceberg/pull/1454#issuecomment-691876728","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1454","id":691876728,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg3NjcyOA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:34:32Z","updated_at":"2020-09-14T07:34:32Z","author_association":"CONTRIBUTOR","body":"Woops. I opened this in the wrong repo. I meant to open it in my own personal fork, for testing purposes before merging it in upstream. My bad y'all!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691876728/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691883788","html_url":"https://github.com/apache/iceberg/pull/1456#issuecomment-691883788","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1456","id":691883788,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg4Mzc4OA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:48:06Z","updated_at":"2020-09-14T07:48:06Z","author_association":"CONTRIBUTOR","body":"For some reason gitatttributes, according to the documentation, wont recursively check inside of a directory. So while this current set up ignored the contents of the directories, it still added empty directories here (which I imagine we don't want).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691883788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691884176","html_url":"https://github.com/apache/iceberg/pull/1456#issuecomment-691884176","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1456","id":691884176,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTg4NDE3Ng==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T07:48:52Z","updated_at":"2020-09-14T07:48:52Z","author_association":"CONTRIBUTOR","body":"Woops, once again I attempted to make this PR against my own local fork and made against the upstream (as github chooses that as the default). This is what I get for working so late. Sorry y'all!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691884176/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691923423","html_url":"https://github.com/apache/iceberg/pull/1459#issuecomment-691923423","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1459","id":691923423,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTkyMzQyMw==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T09:04:26Z","updated_at":"2020-09-14T09:04:26Z","author_association":"CONTRIBUTOR","body":"cc @rdblue This PR, and the one that comes before it https://www.github.com/apache/iceberg/pull/1457, are the culmination of my research into simplifying and making the attempt to automatically detect the archive list work from the older PR https://github.com/apache/iceberg/pull/1227, which I was unable to get working without extensive (and arguably hacky) shell scripting.\r\n\r\nI feel this solution is ideal as it relies on a built-in git primitive, the `.gitattribute` file, which should be familiar to release managers.\r\n\r\nWe can also add a comment above the `git archive` line mentioning that the added flag is used to pick up the tagged fies / directories from the .gitattributes file. If we wanted to, we could also still log out a debug log of the excludes (though I don't think that's necessary).\r\n\r\nPlease let me know if there's any changes you'd like to see before we can merge in https://github.com/apache/iceberg/pull/1457 and then this PR!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691923423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691930140","html_url":"https://github.com/apache/iceberg/pull/1455#issuecomment-691930140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1455","id":691930140,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MTkzMDE0MA==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T09:15:38Z","updated_at":"2020-09-14T09:15:38Z","author_association":"CONTRIBUTOR","body":"Hi @marton-bod! I appreciate your taking an interest in the Iceberg project.\r\n\r\nI wanted to mention that, as far as I know, Flink does not have any requirements on the hive version. Somebody please correct me if I'm wrong. cc @JingsongLi @openinx \r\n\r\nAdditionally, likely many companies are running on Hive 1.x or 2.x given how long Hive has existed and how short that Hive 3 has existed relatively speaking (and how much shorter support for Hive 3 has existed in these tools). Somebody please correct me if I'm wrong.\r\n\r\nAdditionally, there's currently no EMR release with Flink and Hive 3 and EMR is likely a common place to be running Flink (though that's not where I run it personally, it is one of the simpler options if somebody is on AWS already).\r\n\r\nAre we sure we want to be dictating the version of Hive that is used by either Hive users or Flink users? Would it be impossible to run iceberg as it exists currently with Hive 3, or would it just utilize potentially deprecated APIs?\r\n\r\nI think that this is a great start, but I can't help but wonder if this should be discussed on the dev (or even user) mailing list before moving forward.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/691930140/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692016228","html_url":"https://github.com/apache/iceberg/pull/1455#issuecomment-692016228","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1455","id":692016228,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjAxNjIyOA==","user":{"login":"pvary","id":19705742,"node_id":"MDQ6VXNlcjE5NzA1NzQy","avatar_url":"https://avatars.githubusercontent.com/u/19705742?v=4","gravatar_id":"","url":"https://api.github.com/users/pvary","html_url":"https://github.com/pvary","followers_url":"https://api.github.com/users/pvary/followers","following_url":"https://api.github.com/users/pvary/following{/other_user}","gists_url":"https://api.github.com/users/pvary/gists{/gist_id}","starred_url":"https://api.github.com/users/pvary/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pvary/subscriptions","organizations_url":"https://api.github.com/users/pvary/orgs","repos_url":"https://api.github.com/users/pvary/repos","events_url":"https://api.github.com/users/pvary/events{/privacy}","received_events_url":"https://api.github.com/users/pvary/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T12:20:33Z","updated_at":"2020-09-14T12:20:33Z","author_association":"CONTRIBUTOR","body":"> Are we sure we want to be dictating the version of Hive that is used by either Hive users or Flink users? Would it be impossible to run iceberg as it exists currently with Hive 3, or would it just utilize potentially deprecated APIs?\r\n\r\n@marton-bod has other tasks currently so I try to answer the questions to move forward this process in the meantime.\r\n\r\nOur internal tests show that the current HiveCatalog/MR implementation does not work with Hive3. That is why the changes in the PR are requested. These are backward compatible changes so in my opinion this is more about adding the possibility to run Iceberg-Hive integration / tests with Hive 3 too, and very-very importantly keeping the Hive 2 capabilities / tests intact.\r\n\r\n> I think that this is a great start, but I can't help but wonder if this should be discussed on the dev (or even user) mailing list before moving forward.\r\n\r\n@marton-bod already started that conversation but it was suggested to create a PR so it is easier to understand the required changes. See: https://lists.apache.org/thread.html/r72e8e7f6d4bdf30e5a460b14ad4a8b0892c15d9426205288c312df16%40%3Cdev.iceberg.apache.org%3E\r\nFeel free to participate in the conversation in a way that is most convenient for you.\r\n\r\nThanks for taking the time to check the PR!\r\nPeter\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692016228/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692175845","html_url":"https://github.com/apache/iceberg/pull/1455#issuecomment-692175845","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1455","id":692175845,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjE3NTg0NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T16:41:33Z","updated_at":"2020-09-14T16:41:33Z","author_association":"CONTRIBUTOR","body":"Thanks for working on this, @marton-bod! It looks to me like we can find ways to share the same code between Hive 2 and 3. That would be ideal. We'll also need to make sure we test both Hive 2 and 3 in CI.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692175845/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692188393","html_url":"https://github.com/apache/iceberg/pull/1443#issuecomment-692188393","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1443","id":692188393,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjE4ODM5Mw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T17:04:07Z","updated_at":"2020-09-14T17:04:07Z","author_association":"CONTRIBUTOR","body":"Thanks @pvary! I merged this and we can put further improvements in follow-ups.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692188393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692244861","html_url":"https://github.com/apache/iceberg/issues/1445#issuecomment-692244861","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1445","id":692244861,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjI0NDg2MQ==","user":{"login":"HotSushi","id":6441597,"node_id":"MDQ6VXNlcjY0NDE1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6441597?v=4","gravatar_id":"","url":"https://api.github.com/users/HotSushi","html_url":"https://github.com/HotSushi","followers_url":"https://api.github.com/users/HotSushi/followers","following_url":"https://api.github.com/users/HotSushi/following{/other_user}","gists_url":"https://api.github.com/users/HotSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/HotSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HotSushi/subscriptions","organizations_url":"https://api.github.com/users/HotSushi/orgs","repos_url":"https://api.github.com/users/HotSushi/repos","events_url":"https://api.github.com/users/HotSushi/events{/privacy}","received_events_url":"https://api.github.com/users/HotSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-14T18:51:01Z","updated_at":"2020-09-14T18:51:01Z","author_association":"CONTRIBUTOR","body":"@pvary This error occurs even before InputSplits are formed, so TableScan is not yet configured. This error seems to occur during query compile time when it's trying to construct Select operator for Column[Data]\r\n\r\n@omalley I think it's the other way round. If I run \"select Data.Case1 from table\", Hive tries to create select operator for \"Column[Data].case1\". So top lower columns are proper-cased but fields in structs are lowercased\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692244861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692387408","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-692387408","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":692387408,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjM4NzQwOA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T00:24:31Z","updated_at":"2020-09-15T00:24:31Z","author_association":"CONTRIBUTOR","body":"@openinx, @JingsongLi, I think that this is an important problem to address before the next release. I'm concerned about trying to maintain compatibility across Iceberg versions using Java serialization, especially if serialization is automatic. We discussed this in the Iceberg sync and most people there tended to agree that Java serialization is not a good candidate for serialization across library versions.\r\n\r\nIs there an option to serialize checkpoint state using something not based on the Java classes? What about using a JSON format that we can control?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692387408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692390785","html_url":"https://github.com/apache/iceberg/issues/193#issuecomment-692390785","issue_url":"https://api.github.com/repos/apache/iceberg/issues/193","id":692390785,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjM5MDc4NQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T00:35:57Z","updated_at":"2020-09-15T00:35:57Z","author_association":"CONTRIBUTOR","body":"@shangxinli, I wouldn't expect an alias map when getting a schema from that path. If you're parsing the schema from Iceberg metadata, then there are no aliases. We only set them when the schema is created by converting a Parquet MessageType to Iceberg Schema.\r\n\r\nWhen converting to the Parquet FilterApi, the aliases must come from a Schema instance that was created from the MessageType of the file you're pushing filters to. Otherwise, the aliases might not match the file because the file may have been written with different column names.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692390785/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692393500","html_url":"https://github.com/apache/iceberg/pull/1459#issuecomment-692393500","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1459","id":692393500,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjM5MzUwMA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T00:46:22Z","updated_at":"2020-09-15T00:46:22Z","author_association":"CONTRIBUTOR","body":"Thanks @kbendick! I merged this and #1457.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692393500/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692393823","html_url":"https://github.com/apache/iceberg/pull/1227#issuecomment-692393823","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1227","id":692393823,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjM5MzgyMw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T00:47:35Z","updated_at":"2020-09-15T00:47:35Z","author_association":"CONTRIBUTOR","body":"I merged #1457 and #1459 to address this using .gitattributes, since that seems like a better solution than trying to do too much on the command line. Thanks for working on this, @waterlx! I think the current master should fix the problem for you.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692393823/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692394134","html_url":"https://github.com/apache/iceberg/pull/1430#issuecomment-692394134","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1430","id":692394134,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjM5NDEzNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T00:48:49Z","updated_at":"2020-09-15T00:48:49Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @pvary!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692394134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692425245","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-692425245","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":692425245,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjQyNTI0NQ==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T02:33:34Z","updated_at":"2020-09-15T02:33:34Z","author_association":"CONTRIBUTOR","body":"Hi, I think there are two cases:\r\n1. Restoring Flink job from checkpoint/savepoint state.\r\n2. Flink cluster upgraded with existing user applications.\r\n\r\nIn Flink, for serializing checkpoint state:\r\n- For known objects, such as POJO, List, etc., Flink uses handwritten serializers.\r\n- For unknown objects, Flink uses Kryo serializer. [1]\r\n\r\nSo actually, Flink not use Java serialization to serialize checkpoint state. So I think case 1 may not be a valid problem. (If Iceberg objects are good to upgrade using Kryo)\r\n\r\nCase 2 is indeed a problem, From another perspective, can we consider customizing the Java serializer of `RowDataTaskWriterFactory`?\r\n\r\n[1]https://ci.apache.org/projects/flink/flink-docs-master/dev/types_serialization.html#general-class-types","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692425245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692441577","html_url":"https://github.com/apache/iceberg/issues/1416#issuecomment-692441577","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1416","id":692441577,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjQ0MTU3Nw==","user":{"login":"pan3793","id":26535726,"node_id":"MDQ6VXNlcjI2NTM1NzI2","avatar_url":"https://avatars.githubusercontent.com/u/26535726?v=4","gravatar_id":"","url":"https://api.github.com/users/pan3793","html_url":"https://github.com/pan3793","followers_url":"https://api.github.com/users/pan3793/followers","following_url":"https://api.github.com/users/pan3793/following{/other_user}","gists_url":"https://api.github.com/users/pan3793/gists{/gist_id}","starred_url":"https://api.github.com/users/pan3793/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pan3793/subscriptions","organizations_url":"https://api.github.com/users/pan3793/orgs","repos_url":"https://api.github.com/users/pan3793/repos","events_url":"https://api.github.com/users/pan3793/events{/privacy}","received_events_url":"https://api.github.com/users/pan3793/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T03:32:14Z","updated_at":"2020-09-15T03:32:14Z","author_association":"MEMBER","body":"`java.util.Date` and any class derived from it include `java.sql.Date` always keep epoch and timezone internal.\r\n\r\n`java.sql.Date.valueOf(\"2015-11-12\")` actually return a \"offset date\" at system default zone offset, but hive `SearchArgument` is build by it's epoch, this is equivalent to convert it to GMT date, then the test case should be failed in any GMT+x timezone. I think the solution is construct a GMT `java.sql.Date` to avoid this timezone dependent. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692441577/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692632336","html_url":"https://github.com/apache/iceberg/issues/1461#issuecomment-692632336","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1461","id":692632336,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjYzMjMzNg==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T10:41:37Z","updated_at":"2020-09-15T10:41:37Z","author_association":"NONE","body":"I want to compile iceberg in the windows environment, but I find that I cannot recognize that iceberg is a gradle project，please help me","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692632336/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692642641","html_url":"https://github.com/apache/iceberg/issues/1461#issuecomment-692642641","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1461","id":692642641,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MjY0MjY0MQ==","user":{"login":"liujinhui1994","id":25769285,"node_id":"MDQ6VXNlcjI1NzY5Mjg1","avatar_url":"https://avatars.githubusercontent.com/u/25769285?v=4","gravatar_id":"","url":"https://api.github.com/users/liujinhui1994","html_url":"https://github.com/liujinhui1994","followers_url":"https://api.github.com/users/liujinhui1994/followers","following_url":"https://api.github.com/users/liujinhui1994/following{/other_user}","gists_url":"https://api.github.com/users/liujinhui1994/gists{/gist_id}","starred_url":"https://api.github.com/users/liujinhui1994/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liujinhui1994/subscriptions","organizations_url":"https://api.github.com/users/liujinhui1994/orgs","repos_url":"https://api.github.com/users/liujinhui1994/repos","events_url":"https://api.github.com/users/liujinhui1994/events{/privacy}","received_events_url":"https://api.github.com/users/liujinhui1994/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T11:02:23Z","updated_at":"2020-09-15T11:02:23Z","author_association":"NONE","body":"![image](https://user-images.githubusercontent.com/25769285/93202849-fa48af80-f785-11ea-8ee9-5682f95b156e.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692642641/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692848877","html_url":"https://github.com/apache/iceberg/pull/1446#issuecomment-692848877","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1446","id":692848877,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg0ODg3Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:05:14Z","updated_at":"2020-09-15T17:05:14Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, everyone. I'm going to merge this to avoid test failures.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692848877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692851021","html_url":"https://github.com/apache/iceberg/pull/1460#issuecomment-692851021","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1460","id":692851021,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg1MTAyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:09:21Z","updated_at":"2020-09-15T17:09:21Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing this, @pan3793! I agree with your assessment here. I'm glad the use of `Date.valueOf` was only in tests!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692851021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692855087","html_url":"https://github.com/apache/iceberg/pull/1452#issuecomment-692855087","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1452","id":692855087,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg1NTA4Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:17:15Z","updated_at":"2020-09-15T17:17:15Z","author_association":"CONTRIBUTOR","body":"After thinking about this a little more, I think we should remove the other constructor. The problem with it is that it doesn't copy the incoming array, so the contents of the split could be modified afterwards. We could add `Arrays.copyOf` to fix it, but since this constructor is unused, we should just remove it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692855087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692873721","html_url":"https://github.com/apache/iceberg/pull/1440#issuecomment-692873721","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1440","id":692873721,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg3MzcyMQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:47:54Z","updated_at":"2020-09-15T17:47:54Z","author_association":"CONTRIBUTOR","body":"@kbendick, sounds like there are two concerns:\r\n1. Using `Iterables.transform` rather than `Lists.transform`\r\n2. Using `Iterables` instead of streams\r\n\r\nFor the first, the fix here is to create an `Iterable` using a lambda, to delay reading the file contents until the task runs in another thread. Because that `Iterable` is not a list, we can't use `Lists.transform`. We do use `Lists.transform` when transforming a list into another list, but it isn't needed here after the change. We could have used it before the change, but we need an `Iterable`, not a `List`, so it doesn't really matter.\r\n\r\nFor the second concern, this needs to pass an `Iterable` into `ParallelIterable` so we can't really use a stream unless we convert to stream, transform, and convert back to a collection. Mixing streams and iterables like that tends to just make the code more complicated because it requires extra steps (collecting to a list) rather than just transforming.\r\n\r\nLastly, using `Iterable` / `Iterator` allows more obvious control over when files are actually opened because everything is done by pulling records from the final result.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692873721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692879407","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-692879407","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":692879407,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjg3OTQwNw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T17:58:32Z","updated_at":"2020-09-15T17:58:32Z","author_association":"CONTRIBUTOR","body":"My understanding is that Kryo has the same general compatibility problems as Java serialization, it is just a bit faster. According to the Kryo docs, [compatibility is not guaranteed and varies across serializers](https://github.com/EsotericSoftware/kryo#compatibility). And the serializer that this would use, `FieldSerializer`, has guarantees similar to Java serialization:\r\n\r\n> [FieldSerializer] does not support adding, removing, or changing the type of fields without invalidating previously serialized bytes.\r\n\r\nThat's why I think that anything that is serialized and later read by different versions of Iceberg should not use default Java or Kryo serialization. I think that means we need to have a format for Flink checkpoint and savepoint state. We should also have serialization tests.\r\n\r\nFor the second case, I'm not sure I understand what the concern is. Are the tasks themselves serialized and not just the checkpoint state in this case?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692879407/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692968192","html_url":"https://github.com/apache/iceberg/pull/1368#issuecomment-692968192","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1368","id":692968192,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk2ODE5Mg==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T20:43:01Z","updated_at":"2020-09-15T20:43:01Z","author_association":"CONTRIBUTOR","body":"@zhangdove, I brought up this PR at the last Iceberg sync to talk through the possible effects with the broader community. The general consensus was that it isn't a good idea to parameterize the date/time transforms. The main concern was that this would appear to be correct, but daylight savings time would unexpectedly result in a different required offset and we would have the same problem.\r\n\r\nWe came up with a few alternatives:\r\n* Use hourly partitioning to ensure you can drop data at any hour boundary\r\n* Add the ability to register custom partition functions\r\n* Use v2 tables and delete files to avoid the need to align deletes or overwrites with a partitions. This option seems like the best in the long term, but it isn't very helpful right now\r\n\r\nI think that those are good alternatives to parameterizing these functions. What do you think? Would any of those work? The last two options will require some work, but I think would be better solutions in the long term. If you want to discuss this more, maybe you could start a thread on the dev list to discuss any issues that you see with these options. I think it would be great to have a wider discussion on this, since I found the comments during the sync to be valuable.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692968192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692993115","html_url":"https://github.com/apache/iceberg/issues/1445#issuecomment-692993115","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1445","id":692993115,"node_id":"MDEyOklzc3VlQ29tbWVudDY5Mjk5MzExNQ==","user":{"login":"HotSushi","id":6441597,"node_id":"MDQ6VXNlcjY0NDE1OTc=","avatar_url":"https://avatars.githubusercontent.com/u/6441597?v=4","gravatar_id":"","url":"https://api.github.com/users/HotSushi","html_url":"https://github.com/HotSushi","followers_url":"https://api.github.com/users/HotSushi/followers","following_url":"https://api.github.com/users/HotSushi/following{/other_user}","gists_url":"https://api.github.com/users/HotSushi/gists{/gist_id}","starred_url":"https://api.github.com/users/HotSushi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/HotSushi/subscriptions","organizations_url":"https://api.github.com/users/HotSushi/orgs","repos_url":"https://api.github.com/users/HotSushi/repos","events_url":"https://api.github.com/users/HotSushi/events{/privacy}","received_events_url":"https://api.github.com/users/HotSushi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T21:37:00Z","updated_at":"2020-09-15T21:37:00Z","author_association":"CONTRIBUTOR","body":"@edgarRd @guilload @cmathiesen  Any thoughts? \r\n\r\nSeems like [StructField](https://github.com/apache/hive/blob/master/serde/src/java/org/apache/hadoop/hive/serde2/objectinspector/StructField.java#L33) implementation requires getFieldName() to return lowercase name (unlike what we are doing [here](https://github.com/apache/iceberg/blob/master/mr/src/main/java/org/apache/iceberg/mr/hive/serde/objectinspector/IcebergRecordObjectInspector.java#L128)).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/692993115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693008830","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-693008830","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":693008830,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAwODgzMA==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:16:56Z","updated_at":"2020-09-15T22:41:36Z","author_association":"CONTRIBUTOR","body":"> Are the tasks themselves serialized and not just the checkpoint state in this case?\r\n\r\n@rdblue  Flink jobmanager (driver) serializes the tasks and ships them to taskmanagers (workers) to execute the tasks. Any final member of operator class needs to be serializable. \r\n\r\nIt is actually unclear to me what kind of serializable guarantee that Flink provides. Does it guarantee compatibility with different binary versions in the same Flink cluster (like in rolling upgrade case)? @JingsongLi any comment?\r\n\r\n@chenjunjiedada were you doing a rolling upgrade of the flink/iceberg version when running into the serializable problem? We probably dodged the problem because we always do red/black deployment with standalone cluster mode. In another world, we never have different versions of binaries for a Flink cluster.\r\n\r\nI took a look at `RowDataTaskWriterFactory` class. \r\n\r\n-  It contains a final member of `FileAppenderFactory` interface, which doesn't extend from `Serializable`. It seems that `GenericAppenderFactory` impl class is actually serializable. I am not sure about `SparkAppenderFactory`. @rdblue should `FileAppenderFactory` interface be serializable?\r\n-  It also contains final members for many other serializable Iceberg classes, like PartitionSpec, Schema, FileIO, EncryptionManager. I thought the error msg was complaining about the serialVersionUID  change for `org.apache.iceberg.PartitionSpec` class. @JingsongLi By custom serializer for `RowDataTaskWriterFactory`, you also mean custom serializer for all the Iceberg classes as the final members for `RowDataTaskWriterFactory`, right? \r\n\r\n@openinx @JingsongLi This does remind me the potential problem of using Iceberg DataFile interface for transmission between writer and committer. With the new unaligned checkpoints feature, those Kryo serialized bytes in network buffer can be included in the checkpoints/savepoints. if we restore the checkpoint/savepoint with a new Iceberg version, we may have a problem. I probably shouldn't depend on Kryo serializer for `DataFile`. We may need a `FlinkDataFile` class to guarantee/control the compatibility. I believe this is the concern Ryan has.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693008830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693014457","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-693014457","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":693014457,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAxNDQ1Nw==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:32:57Z","updated_at":"2020-09-15T22:34:00Z","author_association":"CONTRIBUTOR","body":"@stevenzwu, I meant across versions, not within a running application. I'm concerned about cases where Iceberg is upgraded and can no longer read older state. I thought that was limited to checkpoint state, but there appears to be a second case.\r\n\r\nIs the second case a rolling deployment? That would make sense and would be a problem when updating Iceberg for many more classes than just checkpoint state.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693014457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693015076","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-693015076","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":693015076,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzAxNTA3Ng==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-15T22:34:47Z","updated_at":"2020-09-15T22:34:47Z","author_association":"CONTRIBUTOR","body":"`FileAppenderFactory` should not be `Serializable` because that requirement is for Flink but not other engines.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693015076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693139777","html_url":"https://github.com/apache/iceberg/pull/1440#issuecomment-693139777","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1440","id":693139777,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzEzOTc3Nw==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T02:57:43Z","updated_at":"2020-09-16T02:57:43Z","author_association":"CONTRIBUTOR","body":"> @kbendick, sounds like there are two concerns:\r\n> \r\n> 1. Using `Iterables.transform` rather than `Lists.transform`\r\n> 2. Using `Iterables` instead of streams\r\n> \r\n> For the first, the fix here is to create an `Iterable` using a lambda, to delay reading the file contents until the task runs in another thread. Because that `Iterable` is not a list, we can't use `Lists.transform`. We do use `Lists.transform` when transforming a list into another list, but it isn't needed here after the change. We could have used it before the change, but we need an `Iterable`, not a `List`, so it doesn't really matter.\r\n> \r\n> For the second concern, this needs to pass an `Iterable` into `ParallelIterable` so we can't really use a stream unless we convert to stream, transform, and convert back to a collection. Mixing streams and iterables like that tends to just make the code more complicated because it requires extra steps (collecting to a list) rather than just transforming.\r\n> \r\n> Lastly, using `Iterable` / `Iterator` allows more obvious control over when files are actually opened because everything is done by pulling records from the final result.\r\n\r\nCool. Thanks for the clarification. I'm not typically a java developer by day (scala, python, go, nodejs, and various flavors of automation \"languages\" and scripting with some architectural support and code reviews provided in java and _occasionally_ library support provided in java), so I appreciate you taking the time to help clear up the differences for me. I'm not used to needing so many additional libs (eg Guava, commons libraries, etc) for what is provided out of the box often times in scala.\r\n\r\nOne of my goals when choosing to join this project was to get more hands on experience with practical java, so as always I greatly appreciate you taking the time to clarify my question @rdblue 👍 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693139777/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693140232","html_url":"https://github.com/apache/iceberg/pull/1440#issuecomment-693140232","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1440","id":693140232,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE0MDIzMg==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T02:59:15Z","updated_at":"2020-09-16T02:59:15Z","author_association":"CONTRIBUTOR","body":"Oh additionally, my review still stands. Once I had fresh eyes and saw bright as the sun the check for `isDone` I realized my original concerns were very much unfounded 😅. That's what I get for working when I couldn't sleep. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693140232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693140815","html_url":"https://github.com/apache/iceberg/pull/1368#issuecomment-693140815","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1368","id":693140815,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE0MDgxNQ==","user":{"login":"zhangdove","id":25578853,"node_id":"MDQ6VXNlcjI1NTc4ODUz","avatar_url":"https://avatars.githubusercontent.com/u/25578853?v=4","gravatar_id":"","url":"https://api.github.com/users/zhangdove","html_url":"https://github.com/zhangdove","followers_url":"https://api.github.com/users/zhangdove/followers","following_url":"https://api.github.com/users/zhangdove/following{/other_user}","gists_url":"https://api.github.com/users/zhangdove/gists{/gist_id}","starred_url":"https://api.github.com/users/zhangdove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zhangdove/subscriptions","organizations_url":"https://api.github.com/users/zhangdove/orgs","repos_url":"https://api.github.com/users/zhangdove/repos","events_url":"https://api.github.com/users/zhangdove/events{/privacy}","received_events_url":"https://api.github.com/users/zhangdove/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T03:01:15Z","updated_at":"2020-09-16T03:01:15Z","author_association":"CONTRIBUTOR","body":"@rdblue Thanks for your replay. I also noticed that you recently mentioned iceberg sync in the dev list.\r\n\r\n> but daylight savings time would unexpectedly result in a different required offset and we would have the same problem.\r\n\r\nI just want to make sure. Would it also be abnormal for users in two different time zones to write data to the same iceberg table(created by day partition)? it's so bad and it does seem that way.\r\n\r\nI thought about it for a moment, and I couldn't think of some application scenario tha users in two different time zones to write data to same iceberg table(created by day partition).Perhaps we can suggest that different users write their data into different iceberg tables? Just some simple ideas of mine.\r\n\r\nI'm not particularly sure if the second solution will solve the problem, but I'd rather see the third solution implemented by the community.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693140815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693144323","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-693144323","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":693144323,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE0NDMyMw==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T03:13:59Z","updated_at":"2020-09-16T03:13:59Z","author_association":"CONTRIBUTOR","body":"## State compatibility\r\nLet's focus @rdblue 's concern first: where Iceberg is upgraded and can no longer read older state.\r\nCurrently, as @stevenzwu said, only the `DataFile` is in Flink state. And it is serialized by Kryo. \r\nAlthough Kryo can avoid `serialVersionUID`, adding or reducing fields will also cause compatibility problems.\r\n\r\nHere I suggest that we need to implement Flink serializer for `DataFile`.\r\nhttps://ci.apache.org/projects/flink/flink-docs-master/dev/stream/state/custom_serialization.html#state-serializers-and-schema-evolution\r\nWhen restoring from savepoints, Flink allows changing the serializers used to read and write previously registered state, so that users are not locked in to any specific serialization schema.\r\n\r\n## Job Topology compatibility\r\nThis means we want to upgrade an existing Flink Job to a new Iceberg version. As @stevenzwu said, premise is that we have different versions of binaries for a Flink cluster. I don't think this is very important, but, if we want to solve it, we can define custom serializer for all the Iceberg classes as the final members for `RowDataTaskWriterFactory`. But it's going to be a little cumbersome. @stevenzwu \r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693144323/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693144547","html_url":"https://github.com/apache/iceberg/pull/856#issuecomment-693144547","issue_url":"https://api.github.com/repos/apache/iceberg/issues/856","id":693144547,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE0NDU0Nw==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T03:14:58Z","updated_at":"2020-09-16T03:14:58Z","author_association":"MEMBER","body":"I think it's time to close now,  I will take a look to this wip PR again and update the improvement issue [here](https://github.com/apache/iceberg/issues/1403)  if there's anything we've missed. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693144547/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693151678","html_url":"https://github.com/apache/iceberg/issues/1437#issuecomment-693151678","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1437","id":693151678,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE1MTY3OA==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T03:44:06Z","updated_at":"2020-09-16T03:44:06Z","author_association":"CONTRIBUTOR","body":"Yes, we should consider `hive-site.xml` too. `HadoopUtils` only consider `core-site.xml` and `hdfs-site.xml` for file system accessing.\r\nSpark also respect `hive-site.xml`: https://issues.apache.org/jira/browse/SPARK-31170\r\nMaybe we can expose a `hive-conf-dir` like Flink Hive integration doing: https://ci.apache.org/projects/flink/flink-docs-master/dev/table/hive/hive_catalog.html#step-2-configure-flink-cluster-and-sql-cli","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693151678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693152801","html_url":"https://github.com/apache/iceberg/issues/1462#issuecomment-693152801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1462","id":693152801,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE1MjgwMQ==","user":{"login":"JingsongLi","id":9601882,"node_id":"MDQ6VXNlcjk2MDE4ODI=","avatar_url":"https://avatars.githubusercontent.com/u/9601882?v=4","gravatar_id":"","url":"https://api.github.com/users/JingsongLi","html_url":"https://github.com/JingsongLi","followers_url":"https://api.github.com/users/JingsongLi/followers","following_url":"https://api.github.com/users/JingsongLi/following{/other_user}","gists_url":"https://api.github.com/users/JingsongLi/gists{/gist_id}","starred_url":"https://api.github.com/users/JingsongLi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JingsongLi/subscriptions","organizations_url":"https://api.github.com/users/JingsongLi/orgs","repos_url":"https://api.github.com/users/JingsongLi/repos","events_url":"https://api.github.com/users/JingsongLi/events{/privacy}","received_events_url":"https://api.github.com/users/JingsongLi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T03:49:12Z","updated_at":"2020-09-16T03:49:12Z","author_association":"CONTRIBUTOR","body":"Thanks @kbendick for start this discussion. \r\nI think we don't need change this to shaded class.\r\nActually, Flink-iceberg is not relevant to Flink-hive, they just reuse some hive dependencies. We don't have to tie them up.\r\nAnd Flink cluster already contains `org.apache.flink.runtime.util.HadoopUtils` in lib. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693152801/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693159649","html_url":"https://github.com/apache/iceberg/issues/1462#issuecomment-693159649","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1462","id":693159649,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzE1OTY0OQ==","user":{"login":"kbendick","id":9833362,"node_id":"MDQ6VXNlcjk4MzMzNjI=","avatar_url":"https://avatars.githubusercontent.com/u/9833362?v=4","gravatar_id":"","url":"https://api.github.com/users/kbendick","html_url":"https://github.com/kbendick","followers_url":"https://api.github.com/users/kbendick/followers","following_url":"https://api.github.com/users/kbendick/following{/other_user}","gists_url":"https://api.github.com/users/kbendick/gists{/gist_id}","starred_url":"https://api.github.com/users/kbendick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kbendick/subscriptions","organizations_url":"https://api.github.com/users/kbendick/orgs","repos_url":"https://api.github.com/users/kbendick/repos","events_url":"https://api.github.com/users/kbendick/events{/privacy}","received_events_url":"https://api.github.com/users/kbendick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T04:17:39Z","updated_at":"2020-09-16T04:17:39Z","author_association":"CONTRIBUTOR","body":"Cool. Thanks for letting me know. I wasn't sure if the flink cluster would contain the shaded or non-shaded library based on what I saw. I figured I could either spend a good amount of time looking into it or simply tag you since you were the one that added shading @JingsongLi. \r\n\r\nI appreciate you taking the time to let me know and for getting back to me so promptly. I'll close this issue now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693159649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693200249","html_url":"https://github.com/apache/iceberg/pull/1404#issuecomment-693200249","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1404","id":693200249,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzIwMDI0OQ==","user":{"login":"openinx","id":5028729,"node_id":"MDQ6VXNlcjUwMjg3Mjk=","avatar_url":"https://avatars.githubusercontent.com/u/5028729?v=4","gravatar_id":"","url":"https://api.github.com/users/openinx","html_url":"https://github.com/openinx","followers_url":"https://api.github.com/users/openinx/followers","following_url":"https://api.github.com/users/openinx/following{/other_user}","gists_url":"https://api.github.com/users/openinx/gists{/gist_id}","starred_url":"https://api.github.com/users/openinx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/openinx/subscriptions","organizations_url":"https://api.github.com/users/openinx/orgs","repos_url":"https://api.github.com/users/openinx/repos","events_url":"https://api.github.com/users/openinx/events{/privacy}","received_events_url":"https://api.github.com/users/openinx/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T06:23:56Z","updated_at":"2020-09-16T06:23:56Z","author_association":"MEMBER","body":"Ping @rdblue @stevenzwu , Other concerns ?   I think we'd better to include this patch in the next release, thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693200249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693407801","html_url":"https://github.com/apache/iceberg/pull/1417#issuecomment-693407801","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1417","id":693407801,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzQwNzgwMQ==","user":{"login":"cmathiesen","id":32553472,"node_id":"MDQ6VXNlcjMyNTUzNDcy","avatar_url":"https://avatars.githubusercontent.com/u/32553472?v=4","gravatar_id":"","url":"https://api.github.com/users/cmathiesen","html_url":"https://github.com/cmathiesen","followers_url":"https://api.github.com/users/cmathiesen/followers","following_url":"https://api.github.com/users/cmathiesen/following{/other_user}","gists_url":"https://api.github.com/users/cmathiesen/gists{/gist_id}","starred_url":"https://api.github.com/users/cmathiesen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cmathiesen/subscriptions","organizations_url":"https://api.github.com/users/cmathiesen/orgs","repos_url":"https://api.github.com/users/cmathiesen/repos","events_url":"https://api.github.com/users/cmathiesen/events{/privacy}","received_events_url":"https://api.github.com/users/cmathiesen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T13:32:34Z","updated_at":"2020-09-16T13:33:35Z","author_association":"CONTRIBUTOR","body":"Apologies for the delay! I've now updated this with changes that @guilload shared which fails all of the tests that create a local MR job (and select columns) because of the mismatch between the OI and the returned records from Iceberg. I'm also trying to find a solution but haven't come up with anything yet. I'm seeing the same problem as Adrien where the Hive property isn't set when the SerDe is initiated ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693407801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693478254","html_url":"https://github.com/apache/iceberg/issues/1463#issuecomment-693478254","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1463","id":693478254,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzQ3ODI1NA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T15:21:30Z","updated_at":"2020-09-16T15:21:42Z","author_association":"MEMBER","body":"Repo'd this, running tests checking to see what the issue is","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693478254/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693500660","html_url":"https://github.com/apache/iceberg/issues/1463#issuecomment-693500660","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1463","id":693500660,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUwMDY2MA==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T15:56:40Z","updated_at":"2020-09-16T16:14:27Z","author_association":"MEMBER","body":"Ok unfortunate thing here. \r\n\r\nIf you use \"table\" in your read command it will ignore all other options passed to the builder. \r\nSo \r\n`spark.read.option(\"snapshot-id\", 628886310322778010L).table(\"hadoop_prod.ice.icetest\")` is equivalent to \r\n`spark.table(\"hadoop_prod.ice.icetest\")`\r\n\r\nSee\r\nhttps://github.com/apache/spark/blob/v3.0.1/sql/core/src/main/scala/org/apache/spark/sql/DataFrameReader.scala#L795-L798\r\n\r\nBUT Good news!\r\nThis is fixed in master, the fix version is marked as 3.1.0\r\nhttps://issues.apache.org/jira/browse/SPARK-32592\r\n\r\nhttps://github.com/apache/spark/blob/56ae95053df4afa9764df3f1d88f300896ca0183/sql/core/src/main/scala/org/apache/spark/sql/DataFrameReader.scala#L832-L838\r\n\r\n\r\nFor now you'll need to use the catalog free pathway to load from a snapshot, I'll try to see if there is another approach but \r\n\r\n`spark.read.format(\"iceberg\").option(\"snapshot-id\", \"6159119813997540061\").load(\"/tmp/ice/icetest\")` // tmp was my warehouse dir\r\n\r\nWorks","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693500660/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693505432","html_url":"https://github.com/apache/iceberg/issues/1463#issuecomment-693505432","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1463","id":693505432,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUwNTQzMg==","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T16:04:18Z","updated_at":"2020-09-16T16:25:05Z","author_association":"MEMBER","body":"@rdblue we'll need to modify the docs [here](https://iceberg.apache.org/spark/#time-travel ) since the examples given will not work. Also something I was mentioning internally, it would be great if we had unit tests for all pieces of example code  in the docs to catch things like this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693505432/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693518355","html_url":"https://github.com/apache/iceberg/issues/1438#issuecomment-693518355","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1438","id":693518355,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzUxODM1NQ==","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T16:27:04Z","updated_at":"2020-09-16T16:27:04Z","author_association":"CONTRIBUTOR","body":"Regarding `DataFile`, in addition to the TypeSerializer (for state) we also need to implement the custom Kryo Serializers for the network transfer btw writer and committer, since the network buffer can be included in the checkpoints due to unaligned checkpoints.\r\n\r\nOnce @chenjunjiedada confirmed that it is a rolling upgrade case, maybe we should bring this to the Flink community and see if Flink provides any serialization compatibility guarantee for that operation mode. As @JingsongLi mentioned, It is cumbersome to implement custom serializers for all the Iceberg classes. It would be nice to avoid it.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693518355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693578224","html_url":"https://github.com/apache/iceberg/issues/1463#issuecomment-693578224","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1463","id":693578224,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzU3ODIyNA==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T18:20:24Z","updated_at":"2020-09-16T18:20:24Z","author_association":"CONTRIBUTOR","body":"Yeah, we should update this to use `load` instead of `table`. It's too bad because that goes through the `IcebergSource` rather than a catalog.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693578224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693578359","html_url":"https://github.com/apache/iceberg/pull/1423#issuecomment-693578359","issue_url":"https://api.github.com/repos/apache/iceberg/issues/1423","id":693578359,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzU3ODM1OQ==","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T18:20:42Z","updated_at":"2020-09-16T18:20:42Z","author_association":"CONTRIBUTOR","body":"Thanks, @openinx! Looks good now.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/693578359/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]