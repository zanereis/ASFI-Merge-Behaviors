[{"url":"https://api.github.com/repos/apache/jena/issues/comments/581984607","html_url":"https://github.com/apache/jena/pull/669#issuecomment-581984607","issue_url":"https://api.github.com/repos/apache/jena/issues/669","id":581984607,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MTk4NDYwNw==","user":{"login":"osma","id":1132830,"node_id":"MDQ6VXNlcjExMzI4MzA=","avatar_url":"https://avatars.githubusercontent.com/u/1132830?v=4","gravatar_id":"","url":"https://api.github.com/users/osma","html_url":"https://github.com/osma","followers_url":"https://api.github.com/users/osma/followers","following_url":"https://api.github.com/users/osma/following{/other_user}","gists_url":"https://api.github.com/users/osma/gists{/gist_id}","starred_url":"https://api.github.com/users/osma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/osma/subscriptions","organizations_url":"https://api.github.com/users/osma/orgs","repos_url":"https://api.github.com/users/osma/repos","events_url":"https://api.github.com/users/osma/events{/privacy}","received_events_url":"https://api.github.com/users/osma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-04T16:09:36Z","updated_at":"2020-02-04T16:09:36Z","author_association":"CONTRIBUTOR","body":"I'm not very familiar with `SurroundQueryParser` as I haven't used it myself, but I take it that making it possible to set the `maxBasicQueries` parameter is important to some class of users. So I will just make a few general comments:\r\n\r\n1. I think we need a corresponding Jira issue on issues.apache.org to keep track of this enhancement and the release it appears in - could you open one @DamienFontaine please?\r\n2. You should add unit tests that exercise the new sections of code. At a minimum, the positive case should be tested, i.e. setting maxBasicQueries to some non-default value and verifying that the value actually gets passed to the BasicQueryFactory.\r\n3. The new parameter should be mentioned in the [jena-text documentation](https://jena.apache.org/documentation/query/text-query.html), probably somewhere within the section on alternate query parsers that mentions SurroundQueryParser.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/581984607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/582386821","html_url":"https://github.com/apache/jena/pull/687#issuecomment-582386821","issue_url":"https://api.github.com/repos/apache/jena/issues/687","id":582386821,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjM4NjgyMQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T12:34:22Z","updated_at":"2020-02-05T12:34:22Z","author_association":"MEMBER","body":"Good to hear you saw it.\r\n\r\nOn another project (much smaller), I have enabled `dependabot` which sends PRs for upgrades.  It works for simple cases, including use of property `ver.shiro`.\r\n\r\nThe second Shiro-related alert looks like a secondary effect. `jena-permissions` uses `<scope>provided`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/582386821/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/582469549","html_url":"https://github.com/apache/jena/pull/686#issuecomment-582469549","issue_url":"https://api.github.com/repos/apache/jena/issues/686","id":582469549,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MjQ2OTU0OQ==","user":{"login":"superfell","id":399098,"node_id":"MDQ6VXNlcjM5OTA5OA==","avatar_url":"https://avatars.githubusercontent.com/u/399098?v=4","gravatar_id":"","url":"https://api.github.com/users/superfell","html_url":"https://github.com/superfell","followers_url":"https://api.github.com/users/superfell/followers","following_url":"https://api.github.com/users/superfell/following{/other_user}","gists_url":"https://api.github.com/users/superfell/gists{/gist_id}","starred_url":"https://api.github.com/users/superfell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/superfell/subscriptions","organizations_url":"https://api.github.com/users/superfell/orgs","repos_url":"https://api.github.com/users/superfell/repos","events_url":"https://api.github.com/users/superfell/events{/privacy}","received_events_url":"https://api.github.com/users/superfell/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-05T15:43:12Z","updated_at":"2020-02-05T15:43:12Z","author_association":"CONTRIBUTOR","body":"@afs My Jira username is sfell","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/582469549/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/583721224","html_url":"https://github.com/apache/jena/pull/688#issuecomment-583721224","issue_url":"https://api.github.com/repos/apache/jena/issues/688","id":583721224,"node_id":"MDEyOklzc3VlQ29tbWVudDU4MzcyMTIyNA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-08T09:48:22Z","updated_at":"2020-02-08T09:48:22Z","author_association":"MEMBER","body":"I have tried running `TestAbbreviationPerformance` with lots of different values for the performance test of `FastAbbreviatingPrefixMap`. In all cases, up to 100k prefixes, the usual prefix map, with reverse URI lookup is faster.\r\n\r\nThe DBOE prefix maps don't implement the caching reverse lookup (yet?). Managing the cache invalidation with the storage layering means the base level storage of prefixes has to do it.\r\n\r\nThe Turtle family of writers copy the prefixes from the graph to a `PrefixMapStd` (which does have the reverse lookup cache). Writing is not the general case - the data isn't being updated while a writer is active so copy works.  For small numbers of prefixes (10s-100), this startup-time copy isn't significant compared to the work of writing.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/583721224/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/590892980","html_url":"https://github.com/apache/jena/pull/698#issuecomment-590892980","issue_url":"https://api.github.com/repos/apache/jena/issues/698","id":590892980,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MDg5Mjk4MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-25T14:27:35Z","updated_at":"2020-02-25T14:27:35Z","author_association":"MEMBER","body":"When it's in a dev build, I'll ask users@ if that is what is needed. It does not have a setup mechanism and only uses the natural defaults, based on Barry's request.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/590892980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/591973460","html_url":"https://github.com/apache/jena/pull/699#issuecomment-591973460","issue_url":"https://api.github.com/repos/apache/jena/issues/699","id":591973460,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MTk3MzQ2MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T13:35:11Z","updated_at":"2020-02-27T13:35:11Z","author_association":"MEMBER","body":"@Claudenw - I tried to use Shiro 1.5.0 in Fuseki but got shading errors as well as warnings running Fuseki's tests.\r\n\r\nTo make all versions consistent, I've set the ver.shiro in /pom.xml to 1.2.6 (as it has been for Fuseki for a while). jena-permissions was using 1.5.0. As a usecase for jena-permissions is in a Fuseki, same version seems important.\r\n\r\nIs 1.2.6 for jena-permissions?\r\n(It can be overridden in jena-permissions/pom.xml but that seems to be delaying the potential problems to downstream).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/591973460/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/592043004","html_url":"https://github.com/apache/jena/pull/699#issuecomment-592043004","issue_url":"https://api.github.com/repos/apache/jena/issues/699","id":592043004,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjA0MzAwNA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-27T16:13:52Z","updated_at":"2020-02-27T16:13:52Z","author_association":"MEMBER","body":"Shiro 1.5.0 is needed (JENA-1836) so fixes needed first.\r\nDon't understand how the use of 1.2.6 isn't flagged.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/592043004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/592562847","html_url":"https://github.com/apache/jena/pull/700#issuecomment-592562847","issue_url":"https://api.github.com/repos/apache/jena/issues/700","id":592562847,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MjU2Mjg0Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-02-28T15:27:37Z","updated_at":"2020-02-28T15:27:37Z","author_association":"MEMBER","body":"shiro: This includes shiro 1.5.0 for Fuseki Full. Pre Shiro 1.4.2 has a CVE against it CVE-2019-12422.\r\n\r\nBut the build o is made messy:\r\n\r\n- The jars are packed wrongly and shading jena-fuseki-fulljar generates a large block of warnings about overlapping classes. Looks to me like the same bytecode, copied into the shiro-core jar. (They modify the published shiro-core for some OSGi reason).\r\n- The fuseki-webapp tests generate warnings about configuration. Shiro uses reflection to do some initialization and with duplicate code in jars, initialization is called twice on `IniRealm`.\r\n\r\nThe warnings look safe as far as I can tell.\r\n\r\nSo the choice is messy build or explore excluding dependencies of shiro-core. In theory, this is due to be fixed but it has been around for a few versions now.\r\n\r\nThis PR leaves it as \"messy build\".","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/592562847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/593541482","html_url":"https://github.com/apache/jena/pull/669#issuecomment-593541482","issue_url":"https://api.github.com/repos/apache/jena/issues/669","id":593541482,"node_id":"MDEyOklzc3VlQ29tbWVudDU5MzU0MTQ4Mg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-02T18:15:02Z","updated_at":"2020-03-02T18:16:03Z","author_association":"MEMBER","body":"[JENA-1837](https://issues.apache.org/jira/browse/JENA-1837)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/593541482/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/597619538","html_url":"https://github.com/apache/jena/pull/707#issuecomment-597619538","issue_url":"https://api.github.com/repos/apache/jena/issues/707","id":597619538,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NzYxOTUzOA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-11T13:04:50Z","updated_at":"2020-03-11T13:04:50Z","author_association":"MEMBER","body":"@ajs6f - Good news! \r\n\r\nI think this is the only case of an \"access\" operation missing an in-transaction test.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/597619538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/599087715","html_url":"https://github.com/apache/jena/pull/709#issuecomment-599087715","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":599087715,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTA4NzcxNQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-14T16:09:51Z","updated_at":"2020-03-14T16:09:51Z","author_association":"MEMBER","body":"This isn't the full case of creating a unique singleton. If it were, a volatile would be needed.\r\n\r\nIt is ensuring there is late initialization so the protected methods can be overridden but any object generated by `generateAcceptedParams()` is valid.\r\n\r\nIt does not have to be a uniquely created object - in that way, it differs from the singleton pattern.\r\nAll the code does is create several objects, all of which are valid, and keeps one (the last assignment) eventually. It does not matter which on it keeps. It does not matter if threads use an object that will be dropped by a later or overlapping assignment. All the object are \"same value\" which is all that matters for a set.\r\n\r\n```\r\n    // Does not matter about race condition here because the same Set should be\r\n    // created on any call to generateAcceptedParams.\r\n```\r\n\r\nA set is \"the same\" if it has the same values in it.\r\n\r\nIf two happen and overlap, then one pointer will overwrite the other but it's overwriting with an equivalent object and assignment of object references is atomic in Java.\r\n\r\nIn the singleton pattern, it is a stronger condition - trying to create a single object once and the singleton may have varying state (e.g a cache).\r\n\r\nThanks for checking!\r\n\r\nIs there a way to make the comments clearer?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/599087715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/599111184","html_url":"https://github.com/apache/jena/pull/709#issuecomment-599111184","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":599111184,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTExMTE4NA==","user":{"login":"intrigus-lgtm","id":60750685,"node_id":"MDQ6VXNlcjYwNzUwNjg1","avatar_url":"https://avatars.githubusercontent.com/u/60750685?v=4","gravatar_id":"","url":"https://api.github.com/users/intrigus-lgtm","html_url":"https://github.com/intrigus-lgtm","followers_url":"https://api.github.com/users/intrigus-lgtm/followers","following_url":"https://api.github.com/users/intrigus-lgtm/following{/other_user}","gists_url":"https://api.github.com/users/intrigus-lgtm/gists{/gist_id}","starred_url":"https://api.github.com/users/intrigus-lgtm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/intrigus-lgtm/subscriptions","organizations_url":"https://api.github.com/users/intrigus-lgtm/orgs","repos_url":"https://api.github.com/users/intrigus-lgtm/repos","events_url":"https://api.github.com/users/intrigus-lgtm/events{/privacy}","received_events_url":"https://api.github.com/users/intrigus-lgtm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-14T18:01:10Z","updated_at":"2020-03-14T18:01:10Z","author_association":"CONTRIBUTOR","body":"The problem with the current code is this:\r\nEven if we write to `acceptedParams_` [here](https://github.com/apache/jena/pull/709/files#diff-f3592fdcfd01af694d9a604a977a972fL102),\r\nhttps://github.com/apache/jena/pull/709/files#diff-f3592fdcfd01af694d9a604a977a972fL105 can **still** return `null`.\r\nThe Java Memory Model (JMM) evaluates every read in isolation, such that\r\nif there are two reads, the first read could see a non-null value and the second read could see a null value.\r\nSo consider this:\r\n(Time progresses from 1 to 4)\r\nThread 1\r\n1. calls `acceptedParams(action)`\r\n2. writes to `acceptedParams_`\r\nThread 2\r\n3. Calls `acceptedParams(action)`\r\n4. Sees that `acceptedParams_` is not null and returns it\r\n\r\nThe thread 2 then may **still not** see a completely initialized Set.\r\nJust because thread 2 sees `acceptedParams` being not null, it does not have to see any of the stores, that add the values to the Set.\r\n\r\nThis can only be fixed by adding volatiles or using one of the methods detailed [here](https://shipilev.net/blog/2014/safe-public-construction/#_safe_publication).\r\n\r\n**Caveat: I'm no JMM expert, so take everything I say with some caution**","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/599111184/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/599228455","html_url":"https://github.com/apache/jena/pull/709#issuecomment-599228455","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":599228455,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTIyODQ1NQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-15T15:56:16Z","updated_at":"2020-03-15T15:56:42Z","author_association":"MEMBER","body":"I'm not a JMM expert either - it's good to thrash out the details. We both learn - the code is better. Unit testing concurrent code is insufficient - thinking and talking about concurrent code is needed.\r\n\r\n> The thread 2 then may still not see a completely initialized Set.\r\n\r\nmeaning the set object from thread 1 is not visible properly yet? OK - I can see that now.\r\n\r\nMaking `acceptedParams_` volatile puts in a happens-before point (write to a volatile). \r\nI was hoping to avoid a volatile - more a style thing, the code is trying to create an immutable object while allowing `fusekiParams()` or `customParams()` to be overridden. That's feature not currently used but is there to allow additional params to be added by customizations.\r\n\r\nThe fact that two objects can be created does not matter. If thread 1 creates a set, and uses it, and thread 2 sees null still, creates its own object and uses it, eventually overwriting `acceptedParams_` is not a problem (it is always the same set contents).\r\n\r\nIs there a better way to achieve subclass overrides to provide `customParams()`? If it weren't for that, everything could be done in class statics.\r\n\r\nOtherwise, volatile it is.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/599228455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/599233677","html_url":"https://github.com/apache/jena/pull/709#issuecomment-599233677","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":599233677,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTIzMzY3Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-15T16:35:03Z","updated_at":"2020-03-15T16:35:03Z","author_association":"MEMBER","body":"As a thought experiment, do you think this would work? A two step setting of the eventual `params_`: the volatile assignment will cause a \"happens-before\", it is then assigned to the class member which is used for the on-entry test:\r\n\r\n    private volatile Set<String> paramsv_ = null;\r\n    private Set<String> params_ = null;\r\n    protected Collection<String> delayedParams() {\r\n        if ( params_ != null )\r\n            return params_;\r\n        synchronized(this) {\r\n            if ( paramsv_ == null )\r\n                paramsv_ = generateAcceptedParams();\r\n            params_ = paramsv_;\r\n            return paramsv_;\r\n        }\r\n    }\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/599233677/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/599237130","html_url":"https://github.com/apache/jena/pull/709#issuecomment-599237130","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":599237130,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTIzNzEzMA==","user":{"login":"intrigus-lgtm","id":60750685,"node_id":"MDQ6VXNlcjYwNzUwNjg1","avatar_url":"https://avatars.githubusercontent.com/u/60750685?v=4","gravatar_id":"","url":"https://api.github.com/users/intrigus-lgtm","html_url":"https://github.com/intrigus-lgtm","followers_url":"https://api.github.com/users/intrigus-lgtm/followers","following_url":"https://api.github.com/users/intrigus-lgtm/following{/other_user}","gists_url":"https://api.github.com/users/intrigus-lgtm/gists{/gist_id}","starred_url":"https://api.github.com/users/intrigus-lgtm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/intrigus-lgtm/subscriptions","organizations_url":"https://api.github.com/users/intrigus-lgtm/orgs","repos_url":"https://api.github.com/users/intrigus-lgtm/repos","events_url":"https://api.github.com/users/intrigus-lgtm/events{/privacy}","received_events_url":"https://api.github.com/users/intrigus-lgtm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-15T17:03:16Z","updated_at":"2020-03-15T17:03:16Z","author_association":"CONTRIBUTOR","body":"I like this code the most, it should also be the fastest:\r\n(This should also work with subclasses overriding `fusekiParams()` or `customParams()`, I think)\r\n````java\r\nprotected Collection<String> acceptedParams(HttpAction action) {\r\n    return Holder.instance;\r\n}\r\n\r\nprivate static class Holder {\r\n    public static final Set<String> instance = generateAcceptedParams();\r\n}\r\n````\r\n\r\nExplanation by [Aleksey ShipilÃ«v](https://shipilev.net/):\r\n> This is how it works spec-wise:\r\n>\r\n> 1. Class initialization is done under the lock, as per JLS 12.4.2. Class initialization lock provides the mutual exclusion during the class initialization, that is, only a single thread can initialize the static fields.\r\n>\r\n> 2. The release of class initialization lock plays the necessary role in establishing the happens-before relationships between the actions in static initializers and any users of the static fields. Naively speaking, the propagation of memory effects requires any reader of static field to acquire the class initialization lock first, but JLS allows to elide that locking, if the memory effects are still maintained. Indeed, modern VMs do this optimization routinely.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/599237130/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/599424818","html_url":"https://github.com/apache/jena/pull/709#issuecomment-599424818","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":599424818,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTQyNDgxOA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T09:12:06Z","updated_at":"2020-03-16T09:12:25Z","author_association":"MEMBER","body":"Class intialization does not work in this case. `generateAcceptedParams` is calling object methods so `static class` doesn't compile. The protected override that makes this different.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/599424818/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/599796918","html_url":"https://github.com/apache/jena/pull/709#issuecomment-599796918","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":599796918,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTc5NjkxOA==","user":{"login":"intrigus-lgtm","id":60750685,"node_id":"MDQ6VXNlcjYwNzUwNjg1","avatar_url":"https://avatars.githubusercontent.com/u/60750685?v=4","gravatar_id":"","url":"https://api.github.com/users/intrigus-lgtm","html_url":"https://github.com/intrigus-lgtm","followers_url":"https://api.github.com/users/intrigus-lgtm/followers","following_url":"https://api.github.com/users/intrigus-lgtm/following{/other_user}","gists_url":"https://api.github.com/users/intrigus-lgtm/gists{/gist_id}","starred_url":"https://api.github.com/users/intrigus-lgtm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/intrigus-lgtm/subscriptions","organizations_url":"https://api.github.com/users/intrigus-lgtm/orgs","repos_url":"https://api.github.com/users/intrigus-lgtm/repos","events_url":"https://api.github.com/users/intrigus-lgtm/events{/privacy}","received_events_url":"https://api.github.com/users/intrigus-lgtm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-16T23:05:07Z","updated_at":"2020-03-16T23:05:07Z","author_association":"CONTRIBUTOR","body":"My bad.\r\n(Didn't try it)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/599796918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/599960212","html_url":"https://github.com/apache/jena/pull/709#issuecomment-599960212","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":599960212,"node_id":"MDEyOklzc3VlQ29tbWVudDU5OTk2MDIxMg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T09:11:14Z","updated_at":"2020-03-17T09:11:14Z","author_association":"MEMBER","body":"@intrigus-lgtm - did you observe a problem happening for real? If so, is there a characteristic to the Fuskei usage that pushed it into problems?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/599960212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/601076282","html_url":"https://github.com/apache/jena/pull/704#issuecomment-601076282","issue_url":"https://api.github.com/repos/apache/jena/issues/704","id":601076282,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTA3NjI4Mg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T09:26:44Z","updated_at":"2020-03-19T09:26:44Z","author_association":"MEMBER","body":"@Claudenw - you good to merge this? It's easier to get it in before the logging changes and clean-up PRs. I can then rebase/fixup #710 and #711 (they touch a lot fo files) -- probably cleaner and easier for me to fixup the later PRs than the other way round.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/601076282/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/601080212","html_url":"https://github.com/apache/jena/pull/709#issuecomment-601080212","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":601080212,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTA4MDIxMg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T09:36:14Z","updated_at":"2020-03-19T09:36:14Z","author_association":"MEMBER","body":"[JENA-1866](https://issues.apache.org/jira/browse/JENA-1866)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/601080212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/601082232","html_url":"https://github.com/apache/jena/pull/704#issuecomment-601082232","issue_url":"https://api.github.com/repos/apache/jena/issues/704","id":601082232,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTA4MjIzMg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T09:40:11Z","updated_at":"2020-03-19T09:40:11Z","author_association":"MEMBER","body":"Thanks! (I've marked the JIRA ticket as \"resolved\")","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/601082232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/601110659","html_url":"https://github.com/apache/jena/pull/709#issuecomment-601110659","issue_url":"https://api.github.com/repos/apache/jena/issues/709","id":601110659,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTExMDY1OQ==","user":{"login":"intrigus-lgtm","id":60750685,"node_id":"MDQ6VXNlcjYwNzUwNjg1","avatar_url":"https://avatars.githubusercontent.com/u/60750685?v=4","gravatar_id":"","url":"https://api.github.com/users/intrigus-lgtm","html_url":"https://github.com/intrigus-lgtm","followers_url":"https://api.github.com/users/intrigus-lgtm/followers","following_url":"https://api.github.com/users/intrigus-lgtm/following{/other_user}","gists_url":"https://api.github.com/users/intrigus-lgtm/gists{/gist_id}","starred_url":"https://api.github.com/users/intrigus-lgtm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/intrigus-lgtm/subscriptions","organizations_url":"https://api.github.com/users/intrigus-lgtm/orgs","repos_url":"https://api.github.com/users/intrigus-lgtm/repos","events_url":"https://api.github.com/users/intrigus-lgtm/events{/privacy}","received_events_url":"https://api.github.com/users/intrigus-lgtm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T10:44:10Z","updated_at":"2020-03-19T10:44:10Z","author_association":"CONTRIBUTOR","body":"Thank you!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/601110659/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/601113896","html_url":"https://github.com/apache/jena/pull/711#issuecomment-601113896","issue_url":"https://api.github.com/repos/apache/jena/issues/711","id":601113896,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTExMzg5Ng==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-19T10:52:00Z","updated_at":"2020-03-19T10:52:00Z","author_association":"MEMBER","body":"Yes,the logging commit is PR#710.\r\n\r\nWhat this adds over that is the clean-up. It is an entry in the \"most boring PR\" competition.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/601113896/reactions","total_count":1,"+1":0,"-1":0,"laugh":1,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/601662371","html_url":"https://github.com/apache/jena/pull/712#issuecomment-601662371","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":601662371,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMTY2MjM3MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-20T11:54:48Z","updated_at":"2020-03-20T11:54:48Z","author_association":"MEMBER","body":"I'll review ASAP especially the skipped tests.\r\n\r\nThere is a significant code update as we switch to log4j2 - this should not have any impact here but with so many files touched in some minor way, the PR may not be still merge-clean.\r\n\r\nAlso, as @rvesse is aware, the project has some other matter it needs to attend to.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/601662371/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/602194877","html_url":"https://github.com/apache/jena/pull/712#issuecomment-602194877","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":602194877,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjE5NDg3Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T12:46:50Z","updated_at":"2020-03-22T12:46:50Z","author_association":"MEMBER","body":"From [JENA-1862](https://issues.apache.org/jira/browse/JENA-1862):\r\n\r\n> Query.valueDataBlock is not copied by QueryTransformOps - probably\r\n> this should be done; maybe wrapping it as an ElementData passing it\r\n> through the given ElementTransformer?\r\n\r\nYes, it should be transformed and that way seems better than any that adds a public method to `Query`. I had thought of a change `Query` from a `TableData` to using an `ElementData`, then call the transform on `ElementData`, `QueryTransformOp.transformat(Query,...)` which already processes projects etc. But seems to need `Query` to have new methods to get/set it.\r\n\r\n> QueryTransformOps has a statement that says that the top level\r\n> element is always a ElementGroup - however the 4 excluded test\r\n> case files parse into a Query with a ElementSubQuery as the top\r\n> level object. What behavior is preferred in this case?\r\n\r\nThe comment isn't quite right - it can be an `ElementSubQuery`. There is a special syntax case because it does not need to be nested in { } -- it already prints them as it does when it's part of a group.\r\n\r\nThere is a bug somewhere:\r\n\r\n```\r\nPREFIX : <http://example/> \r\nSELECT * {\r\n   ?x ?y ?z \r\n   { SELECT ?s { ?s ?p ?o } }\r\n }\r\n```\r\n\r\nwhen new-cloned and printed becomes \r\n\r\n```\r\nPREFIX  :     <http://example/>\r\n\r\nSELECT  *\r\nWHERE\r\n  { ?x  ?y  ?z\r\n    { PREFIX  :     <http://example/>\r\n      \r\n      SELECT  ?s\r\n      WHERE\r\n        { ?s  ?p  ?o }\r\n    }\r\n  }\r\n\r\n```\r\nThe prefixes have leaked into the sub-query.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/602194877/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/602217879","html_url":"https://github.com/apache/jena/pull/712#issuecomment-602217879","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":602217879,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMjIxNzg3OQ==","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-22T14:38:45Z","updated_at":"2020-03-22T14:39:32Z","author_association":"CONTRIBUTOR","body":"Oh, I haven't noticed the prefix leaking in testing this code, but I have seen it happen before. IIRC it may be related to a PrefixMapping2 (the one with local / global maps) getting [copied into a PrefixMappingImpl](https://github.com/apache/jena/blob/9d0689680f17a71167fd9553cc6146e8e9965ca6/jena-arq/src/main/java/org/apache/jena/sparql/syntax/syntaxtransform/QueryTransformOps.java#L180). Maybe PrefixMapping needs a clone method too?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/602217879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/604561396","html_url":"https://github.com/apache/jena/pull/713#issuecomment-604561396","issue_url":"https://api.github.com/repos/apache/jena/issues/713","id":604561396,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDU2MTM5Ng==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T17:21:43Z","updated_at":"2020-03-26T17:21:43Z","author_association":"MEMBER","body":"PR #714 addresses this issue.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/604561396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/604693910","html_url":"https://github.com/apache/jena/pull/712#issuecomment-604693910","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":604693910,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNDY5MzkxMA==","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-26T21:22:38Z","updated_at":"2020-03-26T21:23:11Z","author_association":"CONTRIBUTOR","body":"Hi Andy, is there anything more I can do to support on this PR?\r\n\r\n* The `ElementSubQuery` case can be handled by just adding it to the if statement below the incorrect comment `Top level is always a group.`\r\n* As for wrapping the valueDataBlock with an ElementData: This seems reasonable, however an element transform may yield another element instead. While this is valid for in-pattern ElementData blocks, this is not the case for a valueDataBlock. On the other hand, if one really wanted to transform a valueDataBlock to another element, one could just use a pre-transform to move the ElementData into an ElementGroup pattern.\r\n* As for the prefixes I could have another look.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/604693910/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/605308084","html_url":"https://github.com/apache/jena/pull/712#issuecomment-605308084","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":605308084,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNTMwODA4NA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-27T20:47:12Z","updated_at":"2020-03-29T16:47:29Z","author_association":"MEMBER","body":"ElementSubQuery: Agreed\r\n\r\nElementData: Seems reason to assume ElementData to ElementData at least for the trailing part of  a query. That can't be anything else. Bundling using a temporary ElementData is fine as well.\r\n\r\nPrefixes: I now think the best solution is to clear the prefixes during query parsing. The subquery does carry round the prefixes of the outer query. Subquery code predates SPARQL 1.1 - mayb the intent was subquery scoped prefixes.  Far too long ago to know.\r\n\r\nThe parser can clear them after finishing the sub-query element, or maybe it does not need them at all. I'll investigate.\r\n\r\n---\r\n\r\nInvestigation: the parser does not use the prefixmap/base from the subquery, nor does printing query. The prologue can be set empty when the parser makes the inner query.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/605308084/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/607336207","html_url":"https://github.com/apache/jena/pull/712#issuecomment-607336207","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":607336207,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzMzNjIwNw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T15:58:30Z","updated_at":"2020-04-01T15:58:30Z","author_association":"MEMBER","body":"Hi Claus,\r\n\r\nYou OK for doing ElementSubQuery and ElementData? If those are done, I'll add the prefixes fixes.\r\n\r\nPrefix change:\r\nhttps://github.com/afs/jena/commit/5e16f6717e293dd21e9221d57b76002017454cc0\r\nand a small cleanup\r\nhttps://github.com/afs/jena/commit/6dd354b697855dbf4ab7f9556815d1133101b78a\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/607336207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/608042870","html_url":"https://github.com/apache/jena/pull/721#issuecomment-608042870","issue_url":"https://api.github.com/repos/apache/jena/issues/721","id":608042870,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODA0Mjg3MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T18:55:12Z","updated_at":"2020-04-02T18:55:12Z","author_association":"MEMBER","body":"@DavidFichtmueller  - thanks!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/608042870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/608106665","html_url":"https://github.com/apache/jena/pull/712#issuecomment-608106665","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":608106665,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODEwNjY2NQ==","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T21:44:56Z","updated_at":"2020-04-02T21:44:56Z","author_association":"CONTRIBUTOR","body":"Hi Andy, I will add ElementSubQuery and ElementData over the weekend","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/608106665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/610034513","html_url":"https://github.com/apache/jena/pull/712#issuecomment-610034513","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":610034513,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDAzNDUxMw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T21:01:14Z","updated_at":"2020-04-06T21:01:14Z","author_association":"MEMBER","body":"I've run into the fact that GH knows where repos are cloned from originally and haven't worked out how to have two+ clones of Jena on my account.\r\n\r\nHere is a diff to not have prefixes when parsing a sub-select:\r\n\r\n```\r\ndiff --git a/jena-arq/src/main/java/org/apache/jena/sparql/lang/SPARQLParserBase.java b/jena-arq/src/main/java/org/apache/jena/sparql/lang/SPARQLParserBase.java\r\nindex d3fcd7b55f..274342f90d 100644\r\n--- a/jena-arq/src/main/java/org/apache/jena/sparql/lang/SPARQLParserBase.java\r\n+++ b/jena-arq/src/main/java/org/apache/jena/sparql/lang/SPARQLParserBase.java\r\n@@ -221,12 +221,12 @@ public class SPARQLParserBase extends ParserBase\r\n     protected void startSubSelect(int line, int col)\r\n     {\r\n         pushQuery();\r\n-        query = newSubQuery(getPrologue()) ;\r\n+        query = newSubQuery() ;\r\n     }\r\n     \r\n-    protected Query newSubQuery(Prologue progloue)\r\n+    protected Query newSubQuery()\r\n     {\r\n-        return new Query(getPrologue());\r\n+        return new Query();\r\n     }\r\n     \r\n     protected void popQuery()\r\n```\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/610034513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/612022329","html_url":"https://github.com/apache/jena/pull/724#issuecomment-612022329","issue_url":"https://api.github.com/repos/apache/jena/issues/724","id":612022329,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMjAyMjMyOQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-10T13:12:28Z","updated_at":"2020-04-10T13:12:28Z","author_association":"MEMBER","body":"This will get revised again when RDF* support is introduced.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/612022329/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/614063788","html_url":"https://github.com/apache/jena/pull/712#issuecomment-614063788","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":614063788,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDA2Mzc4OA==","user":{"login":"Aklakan","id":839608,"node_id":"MDQ6VXNlcjgzOTYwOA==","avatar_url":"https://avatars.githubusercontent.com/u/839608?v=4","gravatar_id":"","url":"https://api.github.com/users/Aklakan","html_url":"https://github.com/Aklakan","followers_url":"https://api.github.com/users/Aklakan/followers","following_url":"https://api.github.com/users/Aklakan/following{/other_user}","gists_url":"https://api.github.com/users/Aklakan/gists{/gist_id}","starred_url":"https://api.github.com/users/Aklakan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aklakan/subscriptions","organizations_url":"https://api.github.com/users/Aklakan/orgs","repos_url":"https://api.github.com/users/Aklakan/repos","events_url":"https://api.github.com/users/Aklakan/events{/privacy}","received_events_url":"https://api.github.com/users/Aklakan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-15T14:10:56Z","updated_at":"2020-04-15T14:12:09Z","author_association":"CONTRIBUTOR","body":"Whoa, already 2 weeks have passed - anyway, the ElementSubQuery and ElementData implementation is ready for review. Note, that binding objects are not cloned in the process. Probably a clone of bindings is not desired anyway, as for all practical purposes, once they are constructed, they should be considered immutable anyway (the Binding interface does not provide modification methods).\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/614063788/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/614389607","html_url":"https://github.com/apache/jena/pull/725#issuecomment-614389607","issue_url":"https://api.github.com/repos/apache/jena/issues/725","id":614389607,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDM4OTYwNw==","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T03:07:11Z","updated_at":"2020-04-16T03:07:11Z","author_association":"MEMBER","body":"Running Fuseki on this branch now. @afs , my SPARQL-Fu is quite rusty, so could you help me with a simple test query?\r\n\r\nI'm using the `books.ttl` shipped with Jena source code. After reading the paper (at least the abstract and intro, without delving into the details), I came up with a query that I think should be use reification.\r\n\r\n```sparql\r\nprefix purl: <http://purl.org/dc/elements/1.1/>\r\nprefix vcard: <http://www.w3.org/2001/vcard-rdf/3.0#>\r\nprefix dc: <http://purl.org/dc/elements/1.1/>\r\nprefix : <http://example.org/book/>\r\n\r\nSELECT ?authorFamilyName ?bookName\r\nWHERE {\r\n  ?book dc:title ?bookName ;\r\n        dc:creator ?author .\r\n  ?author vcard:N ?authorName .\r\n  ?authorName vcard:Family ?authorFamilyName .          \r\n}\r\nLIMIT 25\r\n```\r\n\r\nThen my plan was to replace the reification by RDF*. But Fuseki is failing the following query with \"[2020-04-16 15:02:57] Fuseki     WARN  [34] RC = 500 : Attempt to hash something strange: << ?book @dc:creator ?author >>\".\r\n\r\n```sparql\r\nprefix purl: <http://purl.org/dc/elements/1.1/>\r\nprefix vcard: <http://www.w3.org/2001/vcard-rdf/3.0#>\r\nprefix dc: <http://purl.org/dc/elements/1.1/>\r\nprefix : <http://example.org/book/>\r\n\r\nSELECT ?authorFamilyName ?bookName\r\nWHERE {\r\n  ?book dc:title ?bookName .\r\n  <<?book dc:creator ?author>> vcard:N ?authorName .\r\n  ?authorName vcard:Family ?authorFamilyName .          \r\n}\r\nLIMIT 25\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/614389607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/614496393","html_url":"https://github.com/apache/jena/pull/725#issuecomment-614496393","issue_url":"https://api.github.com/repos/apache/jena/issues/725","id":614496393,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDQ5NjM5Mw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T08:27:26Z","updated_at":"2020-04-16T08:27:26Z","author_association":"MEMBER","body":"First point: `Attempt to hash something strange`. That means it is going to TDB and TDB is not yet supported. Only in-memory datasets. Starting `fuseki --mem /ds` (either full or main).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/614496393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/614502286","html_url":"https://github.com/apache/jena/pull/725#issuecomment-614502286","issue_url":"https://api.github.com/repos/apache/jena/issues/725","id":614502286,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDUwMjI4Ng==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T08:38:21Z","updated_at":"2020-04-16T08:41:56Z","author_association":"MEMBER","body":"Example:\r\nComplete files: https://gist.github.com/afs/f7afc2ad3a912ae59f1914c6a56918cc\r\n\r\nLet's add some triples about triples:\r\n\r\nAdd this data to books.ttl:\r\n```ttl\r\n<< :book1 dc:creator  \"J.K. Rowling\" >> dc:source \"Bruno\" .\r\n\r\n<< :book5 dc:creator  \"J.K. Rowling\" >> dc:source \"Andy\" .\r\n```\r\nTwo triples about triples already in the data.\r\n\r\nThen ask a query about sources:\r\n\r\nQuery:\r\n```sparql\r\nSELECT ?source ?title\r\nWHERE {\r\n  <<?book dc:creator ?author>> dc:source ?source .\r\n  ?book dc:title ?title .\r\n}\r\n```\r\nRun (other window):\r\n```\r\nfuseki --file books.ttl /ds\r\n```\r\nExecute: (query in \"Q.arq\")\r\n```\r\ns-query --service http://localhost:3030/ds --output text  --file Q.arq\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/614502286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/614586524","html_url":"https://github.com/apache/jena/pull/725#issuecomment-614586524","issue_url":"https://api.github.com/repos/apache/jena/issues/725","id":614586524,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDU4NjUyNA==","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T11:14:19Z","updated_at":"2020-04-16T11:14:19Z","author_association":"MEMBER","body":"Worked like a charm!!! Thanks @afs ! Learned a bit about RDF* :rocket:","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/614586524/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/614702099","html_url":"https://github.com/apache/jena/pull/712#issuecomment-614702099","issue_url":"https://api.github.com/repos/apache/jena/issues/712","id":614702099,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDcwMjA5OQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T14:51:12Z","updated_at":"2020-04-16T14:51:12Z","author_association":"MEMBER","body":"Time flies :-)\r\n\r\nI ran the code, together with prefixes patch, and there is one test failure: `TestSyntaxTransform.subst_query_10`. This is good! It expected a subquery nested with `{{ }}` and now `{ }` is used.\r\n\r\nAlso, I chekced the prinint of queries with my previous investigation code.\r\n\r\nAll looks good!\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/614702099/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/614861043","html_url":"https://github.com/apache/jena/pull/727#issuecomment-614861043","issue_url":"https://api.github.com/repos/apache/jena/issues/727","id":614861043,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNDg2MTA0Mw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-16T19:50:52Z","updated_at":"2020-04-16T19:50:52Z","author_association":"MEMBER","body":"Wrong JIRA number.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/614861043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/617368874","html_url":"https://github.com/apache/jena/pull/731#issuecomment-617368874","issue_url":"https://api.github.com/repos/apache/jena/issues/731","id":617368874,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzM2ODg3NA==","user":{"login":"acoburn","id":1265883,"node_id":"MDQ6VXNlcjEyNjU4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/1265883?v=4","gravatar_id":"","url":"https://api.github.com/users/acoburn","html_url":"https://github.com/acoburn","followers_url":"https://api.github.com/users/acoburn/followers","following_url":"https://api.github.com/users/acoburn/following{/other_user}","gists_url":"https://api.github.com/users/acoburn/gists{/gist_id}","starred_url":"https://api.github.com/users/acoburn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acoburn/subscriptions","organizations_url":"https://api.github.com/users/acoburn/orgs","repos_url":"https://api.github.com/users/acoburn/repos","events_url":"https://api.github.com/users/acoburn/events{/privacy}","received_events_url":"https://api.github.com/users/acoburn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-21T19:32:24Z","updated_at":"2020-04-21T19:32:24Z","author_association":"MEMBER","body":"I looked a little deeper into this. The issue is related to the `org.apache.logging.log4j.core` package, which isn't exported by the pax-logger implementation that is part of the newer Karaf platforms. (Running `package:exports | grep -i log4j` in the different versions of Karaf will give you this information).\r\n\r\nThe simple work-around is to just install the required bundle:\r\n\r\n```\r\nbundle:install -s mvn:org.apache.logging.log4j/log4j-core/2.13.1\r\n```\r\n\r\n(or the equivalent in a downstream features file).\r\n\r\nEither way, it seems that this PR is _not_ the right approach, and this should not be merged. The open question is just whether this dependency should be added to the Jena-provided features.xml file or just leave things as they currently are, but documenting how this works.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/617368874/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/617602698","html_url":"https://github.com/apache/jena/pull/731#issuecomment-617602698","issue_url":"https://api.github.com/repos/apache/jena/issues/731","id":617602698,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzYwMjY5OA==","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T07:28:24Z","updated_at":"2020-04-22T07:28:24Z","author_association":"MEMBER","body":"@acoburn just random question, would it be possible to use Jenkins/Travis/GH actions/etc to start a container with Karaf, build Jena from sources, deploy and test to see if any change broke OSGi? Or is it something that needs manually testing and reviewing the dependencies (only read about OSGi, and had very little contact while using jboss/wildfly).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/617602698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/617727676","html_url":"https://github.com/apache/jena/pull/731#issuecomment-617727676","issue_url":"https://api.github.com/repos/apache/jena/issues/731","id":617727676,"node_id":"MDEyOklzc3VlQ29tbWVudDYxNzcyNzY3Ng==","user":{"login":"acoburn","id":1265883,"node_id":"MDQ6VXNlcjEyNjU4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/1265883?v=4","gravatar_id":"","url":"https://api.github.com/users/acoburn","html_url":"https://github.com/acoburn","followers_url":"https://api.github.com/users/acoburn/followers","following_url":"https://api.github.com/users/acoburn/following{/other_user}","gists_url":"https://api.github.com/users/acoburn/gists{/gist_id}","starred_url":"https://api.github.com/users/acoburn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acoburn/subscriptions","organizations_url":"https://api.github.com/users/acoburn/orgs","repos_url":"https://api.github.com/users/acoburn/repos","events_url":"https://api.github.com/users/acoburn/events{/privacy}","received_events_url":"https://api.github.com/users/acoburn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T11:46:16Z","updated_at":"2020-04-22T11:46:16Z","author_association":"MEMBER","body":"@kinow yes, there are ways to automate the testing of OSGi. Typically, one uses [pax-exam](https://ops4j1.jira.com/wiki/spaces/PAXEXAM4/overview) for this. In fact, there is already [some code](https://github.com/apache/jena/blob/master/apache-jena-osgi/jena-osgi-test/src/test/java/org/apache/jena/osgi/test/JenaOSGITest.java) in the Jena source tree that uses pax-exam for this sort of test. That test code, however, is not currently enabled, and it is a bit out-of-date, but it would be quite possible to restructure that a bit to automate the OSGi testing.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/617727676/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/618072699","html_url":"https://github.com/apache/jena/pull/731#issuecomment-618072699","issue_url":"https://api.github.com/repos/apache/jena/issues/731","id":618072699,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODA3MjY5OQ==","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-22T22:27:11Z","updated_at":"2020-04-22T22:27:11Z","author_association":"MEMBER","body":"> @kinow yes, there are ways to automate the testing of OSGi. Typically, one uses [pax-exam](https://ops4j1.jira.com/wiki/spaces/PAXEXAM4/overview) for this. In fact, there is already [some code](https://github.com/apache/jena/blob/master/apache-jena-osgi/jena-osgi-test/src/test/java/org/apache/jena/osgi/test/JenaOSGITest.java) in the Jena source tree that uses pax-exam for this sort of test.\r\n\r\nFirst time I heard about pax-exam, looks interesting, thanks @acoburn . \r\n\r\n>That test code, however, is not currently enabled, and it is a bit out-of-date, but it would be quite possible to restructure that a bit to automate the OSGi testing.\r\n\r\nShould we create a JIRA ticket for that? Maybe one of us could work re-enabling it later, and make it easier to spot and fix issues with OSGi.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/618072699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/618384775","html_url":"https://github.com/apache/jena/pull/731#issuecomment-618384775","issue_url":"https://api.github.com/repos/apache/jena/issues/731","id":618384775,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODM4NDc3NQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T12:51:55Z","updated_at":"2020-04-23T12:51:55Z","author_association":"MEMBER","body":"JENA-913 \"mvn clean verify\" did not work but I can't understand the thread and links to know what the problem really was. \r\n\r\nAh - maybe - the preflight jenkins job \"Jena_Development_Test\" - and jena-osgi only works off installed, not built-in-job, artifacts which i think \"mvn verify\" normally does.\r\n\r\nAnother option would to run a separate job that checks OSGi and get it to run after a successful build.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/618384775/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/618423925","html_url":"https://github.com/apache/jena/pull/733#issuecomment-618423925","issue_url":"https://api.github.com/repos/apache/jena/issues/733","id":618423925,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODQyMzkyNQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T14:23:12Z","updated_at":"2020-04-23T14:23:12Z","author_association":"MEMBER","body":"\r\n@Claudenw - FYI - added some \"setResultVars\" to query builder as it finishes a query. These should make no difference.\r\n\r\nI would do the same for this PR (i.e. call \"setResultVars\" as parsing finishes ) but it disturbs the syntax transform tests. It is the tranfsormation or tests (which use the parser) that are at fault and this is spun off into [JENA-1889](https://issues.apache.org/jira/browse/JENA-1889).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/618423925/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/618680477","html_url":"https://github.com/apache/jena/pull/734#issuecomment-618680477","issue_url":"https://api.github.com/repos/apache/jena/issues/734","id":618680477,"node_id":"MDEyOklzc3VlQ29tbWVudDYxODY4MDQ3Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-23T21:25:21Z","updated_at":"2020-04-23T21:25:21Z","author_association":"MEMBER","body":"Includes PR #733 ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/618680477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/619441709","html_url":"https://github.com/apache/jena/pull/731#issuecomment-619441709","issue_url":"https://api.github.com/repos/apache/jena/issues/731","id":619441709,"node_id":"MDEyOklzc3VlQ29tbWVudDYxOTQ0MTcwOQ==","user":{"login":"acoburn","id":1265883,"node_id":"MDQ6VXNlcjEyNjU4ODM=","avatar_url":"https://avatars.githubusercontent.com/u/1265883?v=4","gravatar_id":"","url":"https://api.github.com/users/acoburn","html_url":"https://github.com/acoburn","followers_url":"https://api.github.com/users/acoburn/followers","following_url":"https://api.github.com/users/acoburn/following{/other_user}","gists_url":"https://api.github.com/users/acoburn/gists{/gist_id}","starred_url":"https://api.github.com/users/acoburn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acoburn/subscriptions","organizations_url":"https://api.github.com/users/acoburn/orgs","repos_url":"https://api.github.com/users/acoburn/repos","events_url":"https://api.github.com/users/acoburn/events{/privacy}","received_events_url":"https://api.github.com/users/acoburn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-25T21:15:42Z","updated_at":"2020-04-25T21:15:42Z","author_association":"MEMBER","body":"I spent some time familiarizing myself with the log4j2 code dependency in jena-base. Because log4j-api and log4j-core are marked as optional in that module's pom.xml (and given how the code is structured in LogCtl.java), it seems more correct for those OSGi imports to be marked as optional. To me, this seems like a better solution than excluding the imports; plus, it mirrors the dependency structure of jena-base itself.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/619441709/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/621862521","html_url":"https://github.com/apache/jena/pull/669#issuecomment-621862521","issue_url":"https://api.github.com/repos/apache/jena/issues/669","id":621862521,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTg2MjUyMQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T13:45:37Z","updated_at":"2020-04-30T13:45:37Z","author_association":"MEMBER","body":"I suggest we incorporate this into the codebase in time for 3.15.0 - it looks like a change that does not have wider consequences.\r\n\r\nUnless I hear otherwise I will merge it, and also make a change to provide a default value setting to cover code use with an assembler (see https://github.com/apache/jena/pull/669#discussion_r418014959).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/621862521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/621918663","html_url":"https://github.com/apache/jena/pull/669#issuecomment-621918663","issue_url":"https://api.github.com/repos/apache/jena/issues/669","id":621918663,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTkxODY2Mw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T15:15:06Z","updated_at":"2020-04-30T15:15:06Z","author_association":"MEMBER","body":"1024 it shall be.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/621918663/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/621924164","html_url":"https://github.com/apache/jena/pull/737#issuecomment-621924164","issue_url":"https://api.github.com/repos/apache/jena/issues/737","id":621924164,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMTkyNDE2NA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-30T15:24:14Z","updated_at":"2020-04-30T15:24:14Z","author_association":"MEMBER","body":"Branch label is wrong.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/621924164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/622386297","html_url":"https://github.com/apache/jena/pull/738#issuecomment-622386297","issue_url":"https://api.github.com/repos/apache/jena/issues/738","id":622386297,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjM4NjI5Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T13:23:48Z","updated_at":"2020-05-01T13:23:48Z","author_association":"MEMBER","body":"Closed in favour of #739.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/622386297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/622406678","html_url":"https://github.com/apache/jena/pull/669#issuecomment-622406678","issue_url":"https://api.github.com/repos/apache/jena/issues/669","id":622406678,"node_id":"MDEyOklzc3VlQ29tbWVudDYyMjQwNjY3OA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-01T14:18:53Z","updated_at":"2020-05-01T14:18:53Z","author_association":"MEMBER","body":"@DamienFontaine  - thank you!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/622406678/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/635977480","html_url":"https://github.com/apache/jena/pull/749#issuecomment-635977480","issue_url":"https://api.github.com/repos/apache/jena/issues/749","id":635977480,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNTk3NzQ4MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T13:38:40Z","updated_at":"2020-05-29T13:38:40Z","author_association":"MEMBER","body":"> Is this worth a bugfix release?\r\n\r\nYes, while leaving some time for any other problems to get reported.\r\n\r\nWhile there is workaround to this issue, this isn't the only problem with 3.15.0 so if the PMC has the energy, I think we should do a fairly quick release cycle for 3.16.0.  \r\n\r\nRDF* is working for TDB1 and TDB2 now (even if I can now see a better way to do SPARQL* for all situations ... but it is a deeper, intrusive change to query execution so should not be rushed).\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/635977480/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/636110372","html_url":"https://github.com/apache/jena/pull/750#issuecomment-636110372","issue_url":"https://api.github.com/repos/apache/jena/issues/750","id":636110372,"node_id":"MDEyOklzc3VlQ29tbWVudDYzNjExMDM3Mg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-05-29T18:07:18Z","updated_at":"2020-05-29T18:07:18Z","author_association":"MEMBER","body":"@dacasals -- Thank you!","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/636110372/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/640061607","html_url":"https://github.com/apache/jena/pull/753#issuecomment-640061607","issue_url":"https://api.github.com/repos/apache/jena/issues/753","id":640061607,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDA2MTYwNw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-06T13:31:02Z","updated_at":"2020-06-06T13:31:02Z","author_association":"MEMBER","body":"Many of the file changes are due to a rename of `LogCtl.setCmdLogging` to `LogCtl.setLogging` (with deprecation of the old name).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/640061607/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/640197125","html_url":"https://github.com/apache/jena/pull/755#issuecomment-640197125","issue_url":"https://api.github.com/repos/apache/jena/issues/755","id":640197125,"node_id":"MDEyOklzc3VlQ29tbWVudDY0MDE5NzEyNQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-07T10:52:22Z","updated_at":"2020-06-07T10:52:22Z","author_association":"MEMBER","body":"Better information, same style output in each server. Better handling of bad syntax.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/640197125/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/644788479","html_url":"https://github.com/apache/jena/pull/759#issuecomment-644788479","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":644788479,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NDc4ODQ3OQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-16T14:06:16Z","updated_at":"2020-06-16T14:06:16Z","author_association":"MEMBER","body":"That's right.\r\n\r\nThe FileManager functionality of finding resources and remapping names is in StreamManager (in RIOT), and there is AdapterFileManager to turn a StreamManager into a FileManager. \r\n\r\nThat makes the ontology document manager continue to work in jena-core along (tests!) and in normal use with all the Jena jars files on the classpath.\r\n\r\nThe deprecations on loadModel and readModel operations - I've just seen I can do the rename as \"internal\", then put back the old operation deprecated, to rename all Jena's internal uses of loadModel and readModel that don't have access to RDFDataMgr (mostly in jena-core tests).\r\n\r\nI'm also checking the documentation and will put in a PR for that.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/644788479/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/645985487","html_url":"https://github.com/apache/jena/pull/760#issuecomment-645985487","issue_url":"https://api.github.com/repos/apache/jena/issues/760","id":645985487,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NTk4NTQ4Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-18T12:27:11Z","updated_at":"2020-06-18T12:27:11Z","author_association":"MEMBER","body":"(rebased against latest master)","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/645985487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/647453117","html_url":"https://github.com/apache/jena/pull/763#issuecomment-647453117","issue_url":"https://api.github.com/repos/apache/jena/issues/763","id":647453117,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzQ1MzExNw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-22T11:18:05Z","updated_at":"2020-06-22T11:18:05Z","author_association":"MEMBER","body":"This is a precursor to [JENA-1992](https://issues.apache.org/jira/browse/JENA-1922).\r\nA separate PR will include the changes that are significant.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/647453117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/649525440","html_url":"https://github.com/apache/jena/pull/759#issuecomment-649525440","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":649525440,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTUyNTQ0MA==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T13:00:46Z","updated_at":"2020-06-25T13:01:03Z","author_association":"CONTRIBUTOR","body":"@afs why does `FileManagerImpl()` have no public constructor anymore?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/649525440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/649527613","html_url":"https://github.com/apache/jena/pull/759#issuecomment-649527613","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":649527613,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTUyNzYxMw==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T13:04:43Z","updated_at":"2020-06-25T13:04:43Z","author_association":"CONTRIBUTOR","body":"So `RDFDataMgr` is now supposed to be used instead of `FileManager`, right? But `RDFDataMgr` does not support location mapping, correct? So how is that an alternative?\r\n\r\nMoreover all the `RDFDataMgr` methods are static, which makes it impossible to override them.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/649527613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/649533404","html_url":"https://github.com/apache/jena/pull/759#issuecomment-649533404","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":649533404,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTUzMzQwNA==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T13:14:45Z","updated_at":"2020-06-25T13:14:45Z","author_association":"MEMBER","body":"@namedgraph [`StreamManager`](https://jena.apache.org/documentation/javadoc/arq/org/apache/jena/riot/system/stream/StreamManager.html) now provides the mapping pieces, so you'd do something like:\r\n\r\n```\r\ntry (TypedInputStream input = RDFDataMgr.open(filenameOrUri, yourStreamManager)) {\r\n  Model model = new YourDesiredModelImpl();\r\n  Lang lang = RDFDataMgr.determineLang(filenameOrUri, input.getContentType(), fallbackLang);\r\n  return RDFDataMgr.read(model, input, input.getBaseURI(), lang);\r\n}\r\n```","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/649533404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/649589404","html_url":"https://github.com/apache/jena/pull/759#issuecomment-649589404","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":649589404,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTU4OTQwNA==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T14:35:20Z","updated_at":"2020-06-25T14:35:20Z","author_association":"CONTRIBUTOR","body":"@rvesse OK, good to have an example. I think this is missing in the documentation.\r\n\r\nSo if I want to plug in our own HTTP access (using Jersey Client), should this be done by extending  `LocatorHTTP` and replacing the default `LocatorHTTP` instance in `StreamManager`?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/649589404/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/649706945","html_url":"https://github.com/apache/jena/pull/759#issuecomment-649706945","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":649706945,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTcwNjk0NQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T17:07:28Z","updated_at":"2020-06-25T17:07:28Z","author_association":"MEMBER","body":"`RDFDataMgr` uses the global `StreamManager` if no other is specified. There is always a `StreamManger`\r\n\r\nThe most detailed configuration is to use `RDFParser` builder:\r\n\r\n```\r\nRDFParser.create()\r\n    .streamManager\r\n    .httpAccept\r\n    .lang\r\n    .source\r\n    ...\r\n    .parse(...)\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/649706945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/649841496","html_url":"https://github.com/apache/jena/pull/765#issuecomment-649841496","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":649841496,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTg0MTQ5Ng==","user":{"login":"kinow","id":304786,"node_id":"MDQ6VXNlcjMwNDc4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/304786?v=4","gravatar_id":"","url":"https://api.github.com/users/kinow","html_url":"https://github.com/kinow","followers_url":"https://api.github.com/users/kinow/followers","following_url":"https://api.github.com/users/kinow/following{/other_user}","gists_url":"https://api.github.com/users/kinow/gists{/gist_id}","starred_url":"https://api.github.com/users/kinow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kinow/subscriptions","organizations_url":"https://api.github.com/users/kinow/orgs","repos_url":"https://api.github.com/users/kinow/repos","events_url":"https://api.github.com/users/kinow/events{/privacy}","received_events_url":"https://api.github.com/users/kinow/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T22:06:19Z","updated_at":"2020-06-25T22:06:19Z","author_association":"MEMBER","body":"I think that was intentional @namedgraph, to make that class more for internal use. Wouldn't this work for you?\r\n\r\n```java\r\nFileManager fm = FileManager.get();\r\n```\r\n\r\nAnd then later fix the deprecated warning and maybe use `RDFDataMgr` or `StreamManager` depending on what you used FileManager for I think?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/649841496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/649847681","html_url":"https://github.com/apache/jena/pull/759#issuecomment-649847681","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":649847681,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTg0NzY4MQ==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T22:23:13Z","updated_at":"2020-06-25T22:23:13Z","author_association":"CONTRIBUTOR","body":"I still think that RDF parsing and HTTP access are orthogonal matters. And that there are higher-level HTTP client/server APIs that could be used. But I guess that ship has sailed.\r\n\r\nBut considering that:\r\n* we want to use our own HTTP API across the board, including `OntDocumentManager`\r\n* `OntDocumentManager` uses `FileManager` internally\r\n\r\nWhat other options are there rather than extending `AdapterFileManager` or `FileManagerImpl`? Why should `FileManager` become deprecated if it's still in use, and internal if it's an extensibility point? ","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/649847681/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/649851286","html_url":"https://github.com/apache/jena/pull/765#issuecomment-649851286","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":649851286,"node_id":"MDEyOklzc3VlQ29tbWVudDY0OTg1MTI4Ng==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-25T22:34:22Z","updated_at":"2020-06-25T22:34:22Z","author_association":"CONTRIBUTOR","body":"@kinow the `PrefixMapper.initFromPath()` code was copied (long time ago) verbatim from `org.apache.jena.util.LocationMapper`:\r\nhttps://github.com/afs/jena/blob/master/jena-core/src/main/java/org/apache/jena/util/LocationMapper.java#L148\r\n\r\nI can try `FileManager.get()`, and it probably will work. But in general I think the recent Jena's \"internalization\" has become too extreme.\r\nE.g. `LocationMapper` is meant to be a pluggable class, with 3rd party implementations. So if Jena's `LocationMapper` implementation uses `FileManagerImpl`, why shouldn't the 3rd party implementations have access to it? The `LocationMapper` is only \"lucky\" to have `protected` visibility because it's in the same package as the `FileManagerImpl`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/649851286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/650069313","html_url":"https://github.com/apache/jena/pull/766#issuecomment-650069313","issue_url":"https://api.github.com/repos/apache/jena/issues/766","id":650069313,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDA2OTMxMw==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T08:55:25Z","updated_at":"2020-06-26T08:55:25Z","author_association":"MEMBER","body":"There's probably more places this could be added but this covers the key errors currently called out on the TDB FAQs page\r\n\r\nSee also related PR apache/jena-site#13","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/650069313/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/650282671","html_url":"https://github.com/apache/jena/pull/765#issuecomment-650282671","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":650282671,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDI4MjY3MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-26T16:49:47Z","updated_at":"2020-06-26T16:49:47Z","author_association":"MEMBER","body":"There is `FileManager.create()` that provides a new file manager. It is deprecated and should not be considered long-term stable, but making `FileManagerImpl` public would not make it any more stable.\r\n\r\nDoes `FileManager.create()` work? Looking at the code: it does, but so also would switching to a `StreamManager`. \r\n\r\nThere are `LocationMapper` for `StreamManager` in `org.apache.jena.riot.system.stream` including one for classpath.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/650282671/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/650824442","html_url":"https://github.com/apache/jena/pull/759#issuecomment-650824442","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":650824442,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDgyNDQ0Mg==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T21:30:15Z","updated_at":"2020-06-28T21:30:15Z","author_association":"CONTRIBUTOR","body":"@afs am I missing something?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/650824442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/650826684","html_url":"https://github.com/apache/jena/pull/666#issuecomment-650826684","issue_url":"https://api.github.com/repos/apache/jena/issues/666","id":650826684,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MDgyNjY4NA==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-28T21:51:48Z","updated_at":"2020-06-28T21:53:07Z","author_association":"CONTRIBUTOR","body":"@afs this is another change I do not agree with, just like #759 \r\n\r\n`DatasetAccessor` is now surely used in a bunch of depending libraries.\r\nBut more importantly, it is a conceptually sound interface, representing GSP operations -- they are not going away nor are they changing any time soon. Now all kinds of RDF access is being lumped together into the `RDFConnection`, while modular and composable interfaces like the `DatasetAccessor` are being deprecated.\r\n\r\nI mean, why can't `RDFConnection` simply extend `DatasetAccessor`, what is the problem with that? The end result is exactly the same.\r\n\r\nDo I need to join the dev team to protest changes like this before it's too late?..","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/650826684/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651018679","html_url":"https://github.com/apache/jena/pull/666#issuecomment-651018679","issue_url":"https://api.github.com/repos/apache/jena/issues/666","id":651018679,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTAxODY3OQ==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T08:38:40Z","updated_at":"2020-06-29T08:38:40Z","author_association":"MEMBER","body":"https://jena.apache.org/documentation/javadoc/rdfconnection/org/apache/jena/rdfconnection/RDFConnectionModular.html\r\n\r\n`RDFConnection` is already composed of modular interfaces and there is even a concrete implementation that can be composed as such","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651018679/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651020753","html_url":"https://github.com/apache/jena/pull/666#issuecomment-651020753","issue_url":"https://api.github.com/repos/apache/jena/issues/666","id":651020753,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTAyMDc1Mw==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T08:42:23Z","updated_at":"2020-06-29T08:42:23Z","author_association":"CONTRIBUTOR","body":"@rvesse OK. So `RDFDatasetConnection` replaces `DatasetAccessor`? If it does the same thing, why couldn't `DatasetAccessor` be used?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651020753/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651092649","html_url":"https://github.com/apache/jena/pull/666#issuecomment-651092649","issue_url":"https://api.github.com/repos/apache/jena/issues/666","id":651092649,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTA5MjY0OQ==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T12:40:41Z","updated_at":"2020-06-29T12:40:41Z","author_association":"MEMBER","body":"Well actually `RDFDatasetConnection` is a generalised RDF access abstraction whereas `DatasetAccessor` was a HTTP specific interface.  As the [documentation](https://jena.apache.org/documentation/rdfconnection/) says:\r\n\r\n> RDFConnection provides a unified set of operations for working on RDF with SPARQL operations. It provides SPARQL Query, SPARQL Update and the SPARQL Graph Store operations. The interface is uniform - the same interface applies to local data and to remote data using HTTP and the SPARQL protocols ( SPARQL protocol and SPARQL Graph Store Protocol).\r\n\r\nSo `RdfDatasetConnection` is more capable than the API it replaces","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651092649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651104758","html_url":"https://github.com/apache/jena/pull/666#issuecomment-651104758","issue_url":"https://api.github.com/repos/apache/jena/issues/666","id":651104758,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTEwNDc1OA==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T13:01:12Z","updated_at":"2020-06-29T13:03:17Z","author_association":"CONTRIBUTOR","body":"More capable as in having more methods?\r\n\r\n@rvesse I am talking about conceptually sound, uniform interfaces that both the server and the client can share and that represent a certain specification (GSP, SPARQL query/update etc.).\r\n\r\nFor example, GSP spec supports 4 methods for the default graph and 5 (with `HEAD`) for the named graph. 9 methods total - that is what `DatasetAccessor` has.\r\n\r\nDoes GSP support adding quads i.e. `Dataset`s? No. Does it specify anything re. closing connections? No.\r\n\r\nSo why start adding implementation details to a clean interface? And if quad support is necessary, why can't it have its own interface? Like this:\r\nhttps://github.com/AtomGraph/Core/blob/master/src/main/java/com/atomgraph/core/model/DatasetQuadAccessor.java\r\n\r\nImplementation-specific interfaces can always extend the basic interface.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651104758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651154292","html_url":"https://github.com/apache/jena/pull/759#issuecomment-651154292","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":651154292,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTE1NDI5Mg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T14:21:36Z","updated_at":"2020-06-29T14:21:36Z","author_association":"MEMBER","body":"> am I missing something?\r\n\r\n`RDFParser` is not limited to HTTP.\r\n\r\nRDF parsing is a process of fetching syntax bytes and converting to RDF. There are several steps in doing that.\r\n\r\nThe user/application task should be simple and natural. `RDFDataMgr` provides single function calls for the majority of use cases and provides convenience. The main set of functions are around \"Get RDF from URI\" - for files and HTTP.\r\n\r\nIt calls `RDFParser`, hiding the details.\r\n\r\nIf the application wants control it can:\r\n\r\n* Use `RDFParser` directly - the builder pattern makes setting the many aspects of a request much easier that APIs for every variation.\r\n* Provide some steps itself, for example, get the InputStream and determine the syntax then pass to a parser (bytes to triples)\r\n* Do something else.\r\n\r\n> we want to use our own HTTP API across the board, including `OntDocumentManager`\r\n\r\nIf you mean JAX-RS, it is a whole application approach and runtime. It is remote only. Not everyone will want to their applications done that way.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651154292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651215891","html_url":"https://github.com/apache/jena/pull/666#issuecomment-651215891","issue_url":"https://api.github.com/repos/apache/jena/issues/666","id":651215891,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTIxNTg5MQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T16:06:51Z","updated_at":"2020-06-29T16:06:51Z","author_association":"MEMBER","body":"`DatasetAccessor` is missing some things. Learning happens.\r\n\r\nFor example, data has to be in-memory to upload it, there is no \"send a file\" - the application writer hase to read into memory, and then it is serializes which is a burden on application writer and the system. The task is load a file.\r\n\r\nTriples vs quads is really confusing.  It's HTTP, not just GSP, that matters.\r\n\r\nI don't know how much it is used - no data one way or the other. Some change to use `RDFConnection` - and to simplify, Jena because there is limited development resource but it's hardly a radically different interface. Deprecation is the way of signalling evolution.\r\n\r\n`RDFConnection` is focusing on user/application tasks combining all the SPARQL things, and HTTP quads, that can be performed on a store (local or remote). Placing single steps in isolation is to ask the application writer to stitch things together - and is a barrier for transactions.\r\n\r\n----\r\n\r\nYou could look at ideas-in-progress:\r\n\r\nhttps://github.com/afs/jena-http\r\n\r\nwhich:\r\n* uses Java11 using `java.net.http` (which is, at heart, an asynchronous layer with websockets and HTTP/2.\r\n* provdes a specific GSP client if you want to go direct.\r\n* Provides graph and model levels of (`RDFConnection/`RDFLink`) and the modular interfaces.\r\n* Preserves `RDFConnection`.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651215891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651238442","html_url":"https://github.com/apache/jena/pull/765#issuecomment-651238442","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":651238442,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTIzODQ0Mg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T16:49:29Z","updated_at":"2020-06-29T16:49:29Z","author_association":"MEMBER","body":"Ping.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651238442/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651369961","html_url":"https://github.com/apache/jena/pull/666#issuecomment-651369961","issue_url":"https://api.github.com/repos/apache/jena/issues/666","id":651369961,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTM2OTk2MQ==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T21:13:28Z","updated_at":"2020-06-29T21:16:10Z","author_association":"CONTRIBUTOR","body":"I just would very much prefer keeping specification-level and implementation-level methods separate. So that the former could potentially have multiple implementations (even if there is none in Jena) and the latter could extend them. So that we would have a stable, reusable set of \"canonical\" interfaces for RDF specs. If Jena is not doing that, then we'll do it ourselves.\r\n\r\n I like the direction of jena-http but frankly this is very much what [Core](https://github.com/AtomGraph/Core) has been doing. For example the [GSP client](https://github.com/AtomGraph/Core/blob/master/src/main/java/com/atomgraph/core/client/GraphStoreClient.java) looks _very_ similar. There are other clients in that folder.\r\n\r\nThe advantage being that `GraphStoreClient` and friends are JAX-RS compatible, while jena-http is a singular API on its own.\r\nGiven Linked Data = RDF x HTTP, a Jena x JAX-RS implementation makes _more_ than total sense to me. Both are respective \"canonical\" Java frameworks.\r\n\r\nCan you take a look at Core - doesn't it do what you want jena-http to do?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651369961/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651375066","html_url":"https://github.com/apache/jena/pull/765#issuecomment-651375066","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":651375066,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTM3NTA2Ng==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T21:22:51Z","updated_at":"2020-06-29T21:22:51Z","author_association":"CONTRIBUTOR","body":"`FileManager.create()` compiles after I've changed Java source version to 1.8.\r\nCan't tell right now if it works because of the `ConcurrentModificationException` thing, but will check later.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651375066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651384954","html_url":"https://github.com/apache/jena/pull/765#issuecomment-651384954","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":651384954,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTM4NDk1NA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T21:43:20Z","updated_at":"2020-06-29T21:43:20Z","author_association":"MEMBER","body":"Compiles with which version? We compile with 8,11,12,13,14,15 targetting java8 as set in the POM.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651384954/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651385464","html_url":"https://github.com/apache/jena/pull/765#issuecomment-651385464","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":651385464,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTM4NTQ2NA==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-29T21:44:30Z","updated_at":"2020-06-29T21:44:30Z","author_association":"CONTRIBUTOR","body":"Sorry, with 3.16.0-SNAPSHOT.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651385464/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651628576","html_url":"https://github.com/apache/jena/pull/765#issuecomment-651628576","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":651628576,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTYyODU3Ng==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T08:08:39Z","updated_at":"2020-06-30T08:08:39Z","author_association":"CONTRIBUTOR","body":"`PrefixMapper` seems to work with `FileManager.create()`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651628576/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651639158","html_url":"https://github.com/apache/jena/pull/759#issuecomment-651639158","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":651639158,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTYzOTE1OA==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T08:24:52Z","updated_at":"2020-06-30T12:55:47Z","author_association":"CONTRIBUTOR","body":"I understand the utility of `RDFParser` and `RDFDataMgr`.\r\n\r\nWe don't want to force JAX-RS on Jena core, but we want Jena to be flexible enough to override all HTTP access.\r\nBTW JAX-RS is not remote only (if you mean client API) - it is a server/client framework and supports the REST [uniform constraint interface](https://eclipse-ee4j.github.io/jersey.github.io/documentation/latest/client.html#d0e4210):\r\n> Many existing Java-based client APIs, such as the Apache HTTP client API or `HttpUrlConnection` supplied with the JDK place too much focus on the Client-Server constraint for the exchanges of request and responses rather than a resource, identified by a URI, and the use of a fixed set of HTTP methods.\r\n\r\nSeems very much Linked Data-compatible. Jena could benefit from that as its HTTP APIs are very \"ad hoc\".\r\n\r\nBut more on the `FileManager` point: as long as it is used in `OntDocumentManager`, it should be a valid extension point. And as such it should not be deprecated nor can it really be internal. 3rd parties might need to supply their own implementations - as we do in order to override the HTTP access. Does it make sense?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651639158/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651762722","html_url":"https://github.com/apache/jena/pull/765#issuecomment-651762722","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":651762722,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc2MjcyMg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:35:02Z","updated_at":"2020-06-30T12:35:02Z","author_association":"MEMBER","body":"As I under is, `FileManager.create()` meets the requirement to make new `FileManger` using the legacy. If so,is this PR relevant? If it is then it needs updating because GH says there is a branch conflict.\r\n\r\n(Note: `AdapterFileManager` for a `StreamManager`  gets injected so in normal operation the global FileManager is the global `StreamManager`).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651762722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651765185","html_url":"https://github.com/apache/jena/pull/765#issuecomment-651765185","issue_url":"https://api.github.com/repos/apache/jena/issues/765","id":651765185,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTc2NTE4NQ==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T12:40:29Z","updated_at":"2020-06-30T12:40:58Z","author_association":"CONTRIBUTOR","body":"This is rather minor, so we can close this. The more major argument I have re. `FileManager` is in #759.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651765185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/651832535","html_url":"https://github.com/apache/jena/pull/759#issuecomment-651832535","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":651832535,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MTgzMjUzNQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-30T14:33:15Z","updated_at":"2020-06-30T14:33:15Z","author_association":"MEMBER","body":"Please enumerate the requirements for such flexibility. Pointing to a large amount of other code is opaque.\r\n\r\nJena's APIs are not HTTP specific - they include files.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/651832535/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/653479384","html_url":"https://github.com/apache/jena/pull/759#issuecomment-653479384","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":653479384,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzQ3OTM4NA==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T10:37:16Z","updated_at":"2020-07-03T11:36:34Z","author_association":"CONTRIBUTOR","body":"### Requirements\r\nProvide (retain) Java interfaces for HTTP-based RDF specifications (Linked Data, SPARQL Protocol, Graph Store Protocol) that satisfy the REST [Uniform Interface constraint](https://www.ics.uci.edu/~fielding/pubs/dissertation/rest_arch_style.htm#sec_5_1_5), i.e. that the interface on both the client and server side should be the same.\r\n\r\nThat makes implementation of components such as proxies trivial:\r\n\r\n    class GSPProxyServer implements DatasetAccessor\r\n    {\r\n\r\n        public Response get()\r\n        {\r\n            return getBackend().getClient().get();\r\n        }\r\n\r\n        public Response post(Model model)\r\n        {\r\n            return getBackend().getClient().post(model);\r\n        }\r\n\r\n        ...\r\n\r\n    }\r\n    \r\n    class GraphStoreClient implements DatasetAccessor\r\n    {\r\n        public Response get()\r\n        {\r\n            return ClientBuilder.newClient().target(getURI())....get();\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nServer- or client-specific interfaces can naturally extend the uniform interfaces.\r\nIt should work with `StreamRDF` as well.\r\n\r\n### Compatibility\r\nIMO a great strategic advantage would be making these interfaces JAX-RS compatible. `javax.ws.rs-api` is used by almost 2500 artifacts according to Maven central.\r\nJena does not need to depend on Jersey or another JAX-RS implementation, it should be possible to depend on the [javax.ws.rs-api](https://mvnrepository.com/artifact/javax.ws.rs/javax.ws.rs-api) only. However Jersey is probably the primary JAX-RS implementation.\r\nA weaker compatibility would be reusing the JAX-RS API under Jena's namespace, making it a drop-in replacement.\r\n\r\n### Prior work\r\nThis approach is implemented in [AtomGraph Core](https://github.com/AtomGraph/Core) using Jersey. We are willing to contribute its code - it is Apache-licensed already.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/653479384/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/653480239","html_url":"https://github.com/apache/jena/pull/759#issuecomment-653480239","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":653480239,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzQ4MDIzOQ==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T10:39:16Z","updated_at":"2020-07-03T10:39:16Z","author_association":"CONTRIBUTOR","body":"Re. my other point - I can't seem to get an answer on why `FileManager` is being deprecated while it's still used in `OntDocumentManager`.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/653480239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/653550180","html_url":"https://github.com/apache/jena/pull/759#issuecomment-653550180","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":653550180,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzU1MDE4MA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-03T13:30:42Z","updated_at":"2020-07-03T13:30:42Z","author_association":"MEMBER","body":"I asked what requirements it places on Jena for the flexibility for there to be a JAX RS API module.\r\n\r\nAs that exists in AtomGraph, it is clearly possible.\r\n\r\nThe rest seems to be able stability of specific interfaces, accentuated by jumping from Jena 3.0.1 to Jena current.\r\n\r\n> Provide (retain) Java interfaces \r\n\r\nNothing is being removed.\r\n\r\n`DatasetAccessor` is still there.\r\n\r\nThere is a better IMO interface than `DatasetAccessor` in `RDFDatasetConnection extends RDFDatasetAccessConnection`. It reflects experience with `DatasetAccessor`. \r\n\r\nThere is a split into \"read\" and \"read-write\" so that \"read\" can be provided on its own. Compile time robustness not \"UnsupportedOperationException\".\r\n\r\nBetter names to be task focused. \"fetch\" because \"get\" is more common as getter in Java and some IDE tools do rely on that.\r\nRemove the unnecessary \"Model\".\r\n`add` -> `load` -- hopefully clearer because it has been a source of questions. YMMV.\r\n\r\nThe conversion of `DatasetAccessor` to `RDFDatasetConnection`::\r\n```\r\n    @Override public default Model getModel() { return fetch();}\r\n    @Override public default Model getModel(String graphName) { return fetch(graphName);}\r\n    @Override public default boolean containsModel(String graphName) { return true; }\r\n    @Override public default void putModel(Model model) { put(model); }\r\n    @Override public default void putModel(String name, Model model) { put(name, model); }\r\n    @Override public default void deleteDefault() { delete(); }\r\n    @Override public default void deleteModel(String name) { delete(name); }\r\n    @Override public default void add(Model model) { load(model); }\r\n    @Override public default void add(String name, Model model) { load(name, model); }\r\n```\r\n\r\n> why FileManager is being deprecated\r\n\r\nIt's not. Some operations are deprecated.\r\n\r\nIt's still in `OntDocumentManager` because of the Jena module structure (i.e. legacy).\r\n\r\nAt runtime, the global `FileManager` is actually an `AdapterFileManager` and the machinery is a `StreamManager`.\r\n\r\n> We are willing to contribute its code\r\n\r\nGreat but as I asked last time, what advantage is there in making it part of Jena? It has a cost - it has to be maintained and it slows Jena evolution down. Does it have it's own community around the code to support it? Is there a community of users to become contributors?\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/653550180/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/653735763","html_url":"https://github.com/apache/jena/pull/759#issuecomment-653735763","issue_url":"https://api.github.com/repos/apache/jena/issues/759","id":653735763,"node_id":"MDEyOklzc3VlQ29tbWVudDY1MzczNTc2Mw==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-04T07:56:16Z","updated_at":"2020-07-04T07:56:53Z","author_association":"CONTRIBUTOR","body":"Sorry I misread about the requirements...\r\n\r\nI can't think of any requirements for Jena's flexibility except having modular interfaces that conceptually represent RDF specs and satisfy the UIC (can be shared by the server and the client).\r\n\r\nWhat I don't like about `RDFDatasetConnection` is the \"connection\"-focus. I think \"accessor\" made more sense. And then `close()` and `isClosed()` got added which are implementation-specific and not conceptual, as [I was trying to explain to Rob](https://github.com/apache/jena/pull/666#issuecomment-651104758).\r\n\r\nCore does not have a community around it. But there are other Linked Data frameworks that cross Jena with JAX-RS - e.g. [Apache Clerezza](https://clerezza.apache.org/) and I think there were more. Just like frameworks rely on Jena for well-established RDF API, they do so on JAX-RS for an HTTP API.\r\n\r\nThe motivation behind Core seems to be similar to https://github.com/afs/jena-http. But IMO depending on JAX-RS should not slow the development. Quite the opposite - having constraints such as an existing standard API lets us focus on features rather than API design.\r\n\r\nIf you don't agree, it's OK. We will continue as we have done. I don't want to use more of our time on this topic.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/653735763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/660174795","html_url":"https://github.com/apache/jena/pull/775#issuecomment-660174795","issue_url":"https://api.github.com/repos/apache/jena/issues/775","id":660174795,"node_id":"MDEyOklzc3VlQ29tbWVudDY2MDE3NDc5NQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-07-17T15:36:13Z","updated_at":"2020-07-17T15:36:13Z","author_association":"MEMBER","body":"> Which I believe confirms SHACLC is being correctly interpreted in Jena \r\n\r\nThat shows it can be read and executed. To see the writer in action, the SHACL parser command has a (not yet documented) `--out=` argument:\r\n\r\n```\r\nshacl print --out=compact shc.shc\r\n```\r\nand it should read in compact syntax, generating a shapes tree, then write out the shapes tree in compact syntax.\r\n\r\nIt does not have to be compact syntax input, so it acts as a converter as well.\r\n\r\nThe SHACL reader outputs a graph, which is then parser to the shapes tree. (i.e. it's not direct compact syntax to internal evaluation shapes tree).\r\n\r\nThe output options are\r\n\r\n- \"text\" - the internal present of shapes\r\n- \"RDF\" - Turtle, actually this is the RDF graph output by compact syntax parser (of the input graph is rdf input).\r\n- \"compact\" - SHCAL Compact Syntax.\r\n- \"all\" - all three forms.\r\n\r\nBut the full RDF syntax can include shapes (e.g. SPARQL constraints) that can't be written in compact syntax.\r\n\r\nWhile the writer covers all the valid compact shapes from the working group note and community group material in its test suite, there isn't a formal algorithm for what can and can't be written so I have deduced one. It won't write things it shouldn't, but may miss things it could.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/660174795/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/669056810","html_url":"https://github.com/apache/jena/pull/779#issuecomment-669056810","issue_url":"https://api.github.com/repos/apache/jena/issues/779","id":669056810,"node_id":"MDEyOklzc3VlQ29tbWVudDY2OTA1NjgxMA==","user":{"login":"rvesse","id":2104864,"node_id":"MDQ6VXNlcjIxMDQ4NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/2104864?v=4","gravatar_id":"","url":"https://api.github.com/users/rvesse","html_url":"https://github.com/rvesse","followers_url":"https://api.github.com/users/rvesse/followers","following_url":"https://api.github.com/users/rvesse/following{/other_user}","gists_url":"https://api.github.com/users/rvesse/gists{/gist_id}","starred_url":"https://api.github.com/users/rvesse/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rvesse/subscriptions","organizations_url":"https://api.github.com/users/rvesse/orgs","repos_url":"https://api.github.com/users/rvesse/repos","events_url":"https://api.github.com/users/rvesse/events{/privacy}","received_events_url":"https://api.github.com/users/rvesse/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-05T08:25:16Z","updated_at":"2020-08-05T08:25:16Z","author_association":"MEMBER","body":"This LGTM as far as I can tell, been a long time since I looked at the JDBC stuff","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/669056810/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/675059012","html_url":"https://github.com/apache/jena/pull/781#issuecomment-675059012","issue_url":"https://api.github.com/repos/apache/jena/issues/781","id":675059012,"node_id":"MDEyOklzc3VlQ29tbWVudDY3NTA1OTAxMg==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-17T19:06:35Z","updated_at":"2020-08-17T19:06:35Z","author_association":"MEMBER","body":"Got it running locally! :+1:","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/675059012/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/682576967","html_url":"https://github.com/apache/jena/pull/787#issuecomment-682576967","issue_url":"https://api.github.com/repos/apache/jena/issues/787","id":682576967,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MjU3Njk2Nw==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-28T13:31:38Z","updated_at":"2020-08-28T13:31:38Z","author_association":"MEMBER","body":"Full dependency changes in jena-arq:\r\n```\r\n[INFO] +- org.graalvm.js:js:jar:20.2.0:compile\r\n[INFO] |  +- org.graalvm.regex:regex:jar:20.2.0:compile\r\n[INFO] |  +- org.graalvm.truffle:truffle-api:jar:20.2.0:compile\r\n[INFO] |  +- org.graalvm.sdk:graal-sdk:jar:20.2.0:compile\r\n[INFO] |  +- org.ow2.asm:asm:jar:7.1:compile\r\n[INFO] |  +- org.ow2.asm:asm-tree:jar:7.1:compile\r\n[INFO] |  +- org.ow2.asm:asm-analysis:jar:7.1:compile\r\n[INFO] |  +- org.ow2.asm:asm-commons:jar:7.1:compile\r\n[INFO] |  +- org.ow2.asm:asm-util:jar:7.1:compile\r\n[INFO] |  \\- com.ibm.icu:icu4j:jar:67.1:compile\r\n[INFO] +- org.graalvm.js:js-scriptengine:jar:20.2.0:compile\r\n```\r\nThe return of icu4j!  icu4j is 13M.\r\n\r\njena-fuseki-server goes from 28.3Mbytes to 51Mbytes.\r\n(at some time, we'll lose the \"nashhorn\" cost -- in java8, nashhorn.jar is 3M).","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/682576967/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/683444298","html_url":"https://github.com/apache/jena/pull/790#issuecomment-683444298","issue_url":"https://api.github.com/repos/apache/jena/issues/790","id":683444298,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzQ0NDI5OA==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-30T16:59:26Z","updated_at":"2020-08-30T16:59:26Z","author_association":"MEMBER","body":"Added a variant of a variant.","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/683444298/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/683686129","html_url":"https://github.com/apache/jena/pull/787#issuecomment-683686129","issue_url":"https://api.github.com/repos/apache/jena/issues/787","id":683686129,"node_id":"MDEyOklzc3VlQ29tbWVudDY4MzY4NjEyOQ==","user":{"login":"afs","id":101362,"node_id":"MDQ6VXNlcjEwMTM2Mg==","avatar_url":"https://avatars.githubusercontent.com/u/101362?v=4","gravatar_id":"","url":"https://api.github.com/users/afs","html_url":"https://github.com/afs","followers_url":"https://api.github.com/users/afs/followers","following_url":"https://api.github.com/users/afs/following{/other_user}","gists_url":"https://api.github.com/users/afs/gists{/gist_id}","starred_url":"https://api.github.com/users/afs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/afs/subscriptions","organizations_url":"https://api.github.com/users/afs/orgs","repos_url":"https://api.github.com/users/afs/repos","events_url":"https://api.github.com/users/afs/events{/privacy}","received_events_url":"https://api.github.com/users/afs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-08-31T10:01:54Z","updated_at":"2020-08-31T10:01:54Z","author_association":"MEMBER","body":"`org.ow2` is a [3-clause BSD-style license](https://gitlab.ow2.org/asm/asm/-/blob/master/LICENSE.txt) - redistributions must include the copyright, T&Cs, and the disclaimer. This would go into a NOTICE for any binaries which redistribute it (and not in the source repo).\r\n\r\n`com.ibm.icu` licensing is long but all the part look OK.  [ICU4J License](https://github.com/unicode-org/icu/blob/master/icu4j/main/shared/licenses/LICENSE) with a need to pass notices.\r\n","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/683686129/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/jena/issues/comments/686042608","html_url":"https://github.com/apache/jena/pull/786#issuecomment-686042608","issue_url":"https://api.github.com/repos/apache/jena/issues/786","id":686042608,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjA0MjYwOA==","user":{"login":"namedgraph","id":849526,"node_id":"MDQ6VXNlcjg0OTUyNg==","avatar_url":"https://avatars.githubusercontent.com/u/849526?v=4","gravatar_id":"","url":"https://api.github.com/users/namedgraph","html_url":"https://github.com/namedgraph","followers_url":"https://api.github.com/users/namedgraph/followers","following_url":"https://api.github.com/users/namedgraph/following{/other_user}","gists_url":"https://api.github.com/users/namedgraph/gists{/gist_id}","starred_url":"https://api.github.com/users/namedgraph/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/namedgraph/subscriptions","organizations_url":"https://api.github.com/users/namedgraph/orgs","repos_url":"https://api.github.com/users/namedgraph/repos","events_url":"https://api.github.com/users/namedgraph/events{/privacy}","received_events_url":"https://api.github.com/users/namedgraph/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T21:36:46Z","updated_at":"2020-09-02T21:36:46Z","author_association":"CONTRIBUTOR","body":"And what's the plan with Docker Hub?","reactions":{"url":"https://api.github.com/repos/apache/jena/issues/comments/686042608/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]