[{"url":"https://api.github.com/repos/apache/pinot/issues/comments/492910673","html_url":"https://github.com/apache/pinot/pull/4208#issuecomment-492910673","issue_url":"https://api.github.com/repos/apache/pinot/issues/4208","id":492910673,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjkxMDY3Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T04:19:53Z","updated_at":"2019-05-16T04:19:53Z","author_association":"MEMBER","body":"I dont understand why someone would be fetching 100k group by values with Pinot. It's definitely not the right use of Pinot.\r\n\r\nHow about making it configurable and override it as needed. Let's leave the default as it is at 100k for inner and maybe 200k for inter?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/492910673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493120950","html_url":"https://github.com/apache/pinot/pull/4208#issuecomment-493120950","issue_url":"https://api.github.com/repos/apache/pinot/issues/4208","id":493120950,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzEyMDk1MA==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T15:41:25Z","updated_at":"2019-05-16T15:41:25Z","author_association":"CONTRIBUTOR","body":"@kishoreg I don't believe that users are fetching >100k groups. But given the current implementation, its possible that incorrect group-by results are returned because many groups are not considered. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493120950/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493142436","html_url":"https://github.com/apache/pinot/pull/4208#issuecomment-493142436","issue_url":"https://api.github.com/repos/apache/pinot/issues/4208","id":493142436,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzE0MjQzNg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T16:38:31Z","updated_at":"2019-05-16T16:38:31Z","author_association":"MEMBER","body":"@sunithabeeram I didn't follow that comment, do you have a concrete example. Let's say user does group by x,y,z. the max cardinality of the group by keys is cardinality(x) * cardinality(y) * cardinality(z).\r\nSo the only time we reach this limit is the unique group by keys cross 100k within the segment and 200k across segments.\r\n\r\n If our goal is to consider all groups then the only solution is to remove all limits but then we risk one bad query crashing the system. \r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493142436/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493201195","html_url":"https://github.com/apache/pinot/pull/4208#issuecomment-493201195","issue_url":"https://api.github.com/repos/apache/pinot/issues/4208","id":493201195,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzIwMTE5NQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T19:29:31Z","updated_at":"2019-05-16T19:29:31Z","author_association":"CONTRIBUTOR","body":"@kishoreg It's not about fetching 100k groups, it's about there are more than 100k unique groups inside the segment, and we only keep the first 100k unique groups in the memory. The heuristic here is that if the group is not in the first 100k groups, then it's not important and we can drop it. GROUP BY some id can easily reach this limit.\r\nAdding inter-segment limit is unnecessary for most cases, but I can use 2*inner-segment limit for extreme corner cases.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493201195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493235065","html_url":"https://github.com/apache/pinot/pull/4208#issuecomment-493235065","issue_url":"https://api.github.com/repos/apache/pinot/issues/4208","id":493235065,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzIzNTA2NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T21:16:49Z","updated_at":"2019-05-16T21:16:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4208?src=pr&el=h1) Report\n> Merging [#4208](https://codecov.io/gh/apache/incubator-pinot/pull/4208?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3cca15fe810b5e01fc76cc94de92749e73d656ba?src=pr&el=desc) will **increase** coverage by `0.01%`.\n> The diff coverage is `66.66%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4208/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4208?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4208      +/-   ##\n============================================\n+ Coverage     67.11%   67.13%   +0.01%     \n  Complexity       20       20              \n============================================\n  Files          1035     1035              \n  Lines         51520    51520              \n  Branches       7220     7220              \n============================================\n+ Hits          34577    34587      +10     \n+ Misses        14569    14562       -7     \n+ Partials       2374     2371       -3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4208?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...pinot/core/plan/maker/InstancePlanMakerImplV2.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL21ha2VyL0luc3RhbmNlUGxhbk1ha2VySW1wbFYyLmphdmE=) | `95.71% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...va/org/apache/pinot/core/plan/CombinePlanNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9wbGFuL0NvbWJpbmVQbGFuTm9kZS5qYXZh) | `75% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...he/pinot/core/operator/CombineGroupByOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9Db21iaW5lR3JvdXBCeU9wZXJhdG9yLmphdmE=) | `75.58% <66.66%> (-1.17%)` | `0 <0> (ø)` | |\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `50% <0%> (-31.25%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `65.45% <0%> (-7.28%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.22% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/BaseOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvQmFzZU9mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `81.03% <0%> (-2.88%)` | `0% <0%> (ø)` | |\n| [...manager/realtime/HLRealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvSExSZWFsdGltZVNlZ21lbnREYXRhTWFuYWdlci5qYXZh) | `78.35% <0%> (-2.58%)` | `0% <0%> (ø)` | |\n| [...ot/core/query/pruner/ColumnValueSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvQ29sdW1uVmFsdWVTZWdtZW50UHJ1bmVyLmphdmE=) | `87.32% <0%> (-1.41%)` | `0% <0%> (ø)` | |\n| ... and [14 more](https://codecov.io/gh/apache/incubator-pinot/pull/4208/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4208?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4208?src=pr&el=footer). Last update [3cca15f...f48abe7](https://codecov.io/gh/apache/incubator-pinot/pull/4208?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493235065/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493255237","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-493255237","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":493255237,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzI1NTIzNw==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T22:37:17Z","updated_at":"2019-05-16T22:37:17Z","author_association":"CONTRIBUTOR","body":"I had a similar PR a while back to filter out zero-length byte array (that represented null values for TDigest in that PR). But based on some offline concerns from @kishoreg that I don't recall right now, I had retracted the PR. Tagging @kishoreg to comment.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493255237/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493260672","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-493260672","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":493260672,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzI2MDY3Mg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T23:05:42Z","updated_at":"2019-05-16T23:05:42Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4214?src=pr&el=h1) Report\n> Merging [#4214](https://codecov.io/gh/apache/incubator-pinot/pull/4214?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3cca15fe810b5e01fc76cc94de92749e73d656ba?src=pr&el=desc) will **increase** coverage by `0.31%`.\n> The diff coverage is `55.03%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4214/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4214?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4214      +/-   ##\n============================================\n+ Coverage     67.11%   67.43%   +0.31%     \n  Complexity       20       20              \n============================================\n  Files          1035     1035              \n  Lines         51520    51572      +52     \n  Branches       7220     7245      +25     \n============================================\n+ Hits          34577    34775     +198     \n+ Misses        14569    14395     -174     \n- Partials       2374     2402      +28\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4214?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../function/DistinctCountHLLAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9EaXN0aW5jdENvdW50SExMQWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `35.91% <30.76%> (+5.48%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ion/function/PercentileEstAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlRXN0QWdncmVnYXRpb25GdW5jdGlvbi5qYXZh) | `61.72% <36.36%> (+8.48%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ta/aggregator/DistinctCountHLLValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvRGlzdGluY3RDb3VudEhMTFZhbHVlQWdncmVnYXRvci5qYXZh) | `76.47% <50%> (-9.25%)` | `0 <0> (ø)` | |\n| [...re/data/aggregator/MinMaxRangeValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvTWluTWF4UmFuZ2VWYWx1ZUFnZ3JlZ2F0b3IuamF2YQ==) | `88% <57.14%> (-12%)` | `0 <0> (ø)` | |\n| [...pinot/core/data/aggregator/AvgValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvQXZnVmFsdWVBZ2dyZWdhdG9yLmphdmE=) | `86.95% <57.14%> (-13.05%)` | `0 <0> (ø)` | |\n| [...function/PercentileTDigestAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9QZXJjZW50aWxlVERpZ2VzdEFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `66.26% <61.9%> (+2.97%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../data/aggregator/PercentileEstValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvUGVyY2VudGlsZUVzdFZhbHVlQWdncmVnYXRvci5qYXZh) | `87.5% <63.63%> (-12.5%)` | `0 <0> (ø)` | |\n| [...ation/function/MinMaxRangeAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9NaW5NYXhSYW5nZUFnZ3JlZ2F0aW9uRnVuY3Rpb24uamF2YQ==) | `74.44% <63.63%> (+1.18%)` | `0 <0> (ø)` | :arrow_down: |\n| [...y/aggregation/function/AvgAggregationFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9BdmdBZ2dyZWdhdGlvbkZ1bmN0aW9uLmphdmE=) | `80.45% <63.63%> (-0.27%)` | `0 <0> (ø)` | |\n| [...a/aggregator/PercentileTDigestValueAggregator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL2FnZ3JlZ2F0b3IvUGVyY2VudGlsZVREaWdlc3RWYWx1ZUFnZ3JlZ2F0b3IuamF2YQ==) | `87.5% <66.66%> (-12.5%)` | `0 <0> (ø)` | |\n| ... and [39 more](https://codecov.io/gh/apache/incubator-pinot/pull/4214/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4214?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4214?src=pr&el=footer). Last update [3cca15f...c8169e4](https://codecov.io/gh/apache/incubator-pinot/pull/4214?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493260672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493322889","html_url":"https://github.com/apache/pinot/pull/4215#issuecomment-493322889","issue_url":"https://api.github.com/repos/apache/pinot/issues/4215","id":493322889,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzMyMjg4OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T05:16:32Z","updated_at":"2019-05-17T05:16:32Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4215?src=pr&el=h1) Report\n> Merging [#4215](https://codecov.io/gh/apache/incubator-pinot/pull/4215?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/3e6733f820d8f3b0482849abe6e1705da38e18a9?src=pr&el=desc) will **decrease** coverage by `0.23%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4215/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4215?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4215      +/-   ##\n============================================\n- Coverage     67.35%   67.12%   -0.24%     \n  Complexity       20       20              \n============================================\n  Files          1036     1036              \n  Lines         51535    51536       +1     \n  Branches       7220     7220              \n============================================\n- Hits          34712    34593     -119     \n- Misses        14438    14573     +135     \n+ Partials       2385     2370      -15\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4215?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ore/startree/v2/builder/BaseSingleTreeBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9zdGFydHJlZS92Mi9idWlsZGVyL0Jhc2VTaW5nbGVUcmVlQnVpbGRlci5qYXZh) | `95.26% <100%> (+0.02%)` | `0 <0> (ø)` | :arrow_down: |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `20.28% <0%> (-59.43%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.46% <0%> (-50.65%)` | `0% <0%> (ø)` | |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `43.33% <0%> (-41.67%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `55.55% <0%> (-8.34%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `87.27% <0%> (-5.46%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...org/apache/pinot/common/metrics/MetricsHelper.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9NZXRyaWNzSGVscGVyLmphdmE=) | `72.5% <0%> (-2.5%)` | `0% <0%> (ø)` | |\n| [...inot/core/operator/docidsets/AndBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvQW5kQmxvY2tEb2NJZFNldC5qYXZh) | `55.55% <0%> (-2.09%)` | `0% <0%> (ø)` | |\n| ... and [17 more](https://codecov.io/gh/apache/incubator-pinot/pull/4215/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4215?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4215?src=pr&el=footer). Last update [3e6733f...b27799e](https://codecov.io/gh/apache/incubator-pinot/pull/4215?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493322889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493376612","html_url":"https://github.com/apache/pinot/pull/4216#issuecomment-493376612","issue_url":"https://api.github.com/repos/apache/pinot/issues/4216","id":493376612,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzM3NjYxMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T08:52:43Z","updated_at":"2019-06-12T16:34:09Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4216?src=pr&el=h1) Report\n> Merging [#4216](https://codecov.io/gh/apache/incubator-pinot/pull/4216?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/f608b38d40394be616c1c36f808403b1c8d1a695?src=pr&el=desc) will **increase** coverage by `19.49%`.\n> The diff coverage is `28.92%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4216/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4216?src=pr&el=tree)\n\n```diff\n@@              Coverage Diff              @@\n##             master    #4216       +/-   ##\n=============================================\n+ Coverage     45.95%   65.44%   +19.49%     \n- Complexity        0       20       +20     \n=============================================\n  Files          1040     1052       +12     \n  Lines         51662    54590     +2928     \n  Branches       7238     7771      +533     \n=============================================\n+ Hits          23739    35725    +11986     \n+ Misses        25892    16299     -9593     \n- Partials       2031     2566      +535\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4216?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...e/pinot/pql/parsers/pql2/ast/PredicateAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9QcmVkaWNhdGVBc3ROb2RlLmphdmE=) | `50% <ø> (+25%)` | `0 <0> (ø)` | :arrow_down: |\n| [...che/pinot/common/request/HavingFilterQueryMap.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9IYXZpbmdGaWx0ZXJRdWVyeU1hcC5qYXZh) | `14.7% <ø> (+14.7%)` | `0 <0> (ø)` | :arrow_down: |\n| [...rg/apache/pinot/common/request/FilterQueryMap.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9GaWx0ZXJRdWVyeU1hcC5qYXZh) | `43.34% <ø> (+1.97%)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/org/apache/pinot/common/request/QuerySource.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9RdWVyeVNvdXJjZS5qYXZh) | `37.34% <ø> (+1.8%)` | `0 <0> (ø)` | :arrow_down: |\n| [...rg/apache/pinot/common/request/FilterOperator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9GaWx0ZXJPcGVyYXRvci5qYXZh) | `87.5% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/pql/parsers/pql2/ast/BooleanOperatorAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9Cb29sZWFuT3BlcmF0b3JBc3ROb2RlLmphdmE=) | `27.77% <0%> (+2.77%)` | `0 <0> (ø)` | :arrow_down: |\n| [...che/pinot/common/response/ProcessingException.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvUHJvY2Vzc2luZ0V4Y2VwdGlvbi5qYXZh) | `24.67% <0%> (+4.76%)` | `0 <0> (ø)` | :arrow_down: |\n| [...g/apache/pinot/common/request/AggregationInfo.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9BZ2dyZWdhdGlvbkluZm8uamF2YQ==) | `35.18% <0%> (+3.08%)` | `0 <0> (ø)` | :arrow_down: |\n| [...apache/pinot/common/request/HavingFilterQuery.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9IYXZpbmdGaWx0ZXJRdWVyeS5qYXZh) | `11.6% <0%> (+11.6%)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/org/apache/pinot/common/request/FilterQuery.java](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVxdWVzdC9GaWx0ZXJRdWVyeS5qYXZh) | `34.11% <0%> (+4.02%)` | `0 <0> (ø)` | :arrow_down: |\n| ... and [600 more](https://codecov.io/gh/apache/incubator-pinot/pull/4216/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4216?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4216?src=pr&el=footer). Last update [f608b38...6812ff0](https://codecov.io/gh/apache/incubator-pinot/pull/4216?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493376612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493449805","html_url":"https://github.com/apache/pinot/pull/4216#issuecomment-493449805","issue_url":"https://api.github.com/repos/apache/pinot/issues/4216","id":493449805,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzQ0OTgwNQ==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T13:16:58Z","updated_at":"2019-05-17T13:16:58Z","author_association":"CONTRIBUTOR","body":"I see that existing tests pass, but are there any backwards compatibility implications with this change?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493449805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493478353","html_url":"https://github.com/apache/pinot/pull/4216#issuecomment-493478353","issue_url":"https://api.github.com/repos/apache/pinot/issues/4216","id":493478353,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzQ3ODM1Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T14:40:10Z","updated_at":"2019-05-17T14:40:10Z","author_association":"MEMBER","body":"We dint handle HAVING clause in the new code path. having is not used anywhere and implemented poorly and dint feel like replicating it. We can implement it properly when we move to full sql support. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493478353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493596443","html_url":"https://github.com/apache/pinot/pull/4218#issuecomment-493596443","issue_url":"https://api.github.com/repos/apache/pinot/issues/4218","id":493596443,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzU5NjQ0Mw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T20:54:34Z","updated_at":"2019-05-30T19:36:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4218?src=pr&el=h1) Report\n> Merging [#4218](https://codecov.io/gh/apache/incubator-pinot/pull/4218?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/45a8430bc3d981b44e2d8e242c75480d7dc593e6?src=pr&el=desc) will **increase** coverage by `0.05%`.\n> The diff coverage is `33.84%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4218/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4218?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4218      +/-   ##\n============================================\n+ Coverage     67.24%   67.29%   +0.05%     \n  Complexity       20       20              \n============================================\n  Files          1041     1041              \n  Lines         51514    51564      +50     \n  Branches       7216     7229      +13     \n============================================\n+ Hits          34640    34700      +60     \n+ Misses        14506    14480      -26     \n- Partials       2368     2384      +16\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4218?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `45.65% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...g/apache/pinot/common/config/TableNameBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1RhYmxlTmFtZUJ1aWxkZXIuamF2YQ==) | `92.3% <0%> (-3.7%)` | `0 <0> (ø)` | |\n| [...a/org/apache/pinot/common/utils/ServiceStatus.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvU2VydmljZVN0YXR1cy5qYXZh) | `75% <0%> (-8.96%)` | `0 <0> (ø)` | |\n| [...pinot/server/starter/helix/HelixServerStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeFNlcnZlclN0YXJ0ZXIuamF2YQ==) | `44.91% <44.11%> (-0.98%)` | `0 <0> (ø)` | |\n| [.../pinot/broker/broker/helix/HelixBrokerStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0hlbGl4QnJva2VyU3RhcnRlci5qYXZh) | `73.15% <53.84%> (-2.56%)` | `0 <0> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `75% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...ot/core/realtime/stream/PartitionCountFetcher.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vUGFydGl0aW9uQ291bnRGZXRjaGVyLmphdmE=) | `54.16% <0%> (-20.84%)` | `0% <0%> (ø)` | |\n| [.../pinot/controller/ControllerLeadershipManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyTGVhZGVyc2hpcE1hbmFnZXIuamF2YQ==) | `74.41% <0%> (-15.59%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-13.05%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `89.28% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| ... and [38 more](https://codecov.io/gh/apache/incubator-pinot/pull/4218/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4218?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4218?src=pr&el=footer). Last update [45a8430...b8daebb](https://codecov.io/gh/apache/incubator-pinot/pull/4218?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493596443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493618571","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-493618571","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":493618571,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzYxODU3MQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T22:37:21Z","updated_at":"2019-05-17T22:37:21Z","author_association":"CONTRIBUTOR","body":"Suggest changing Enhanced Broker Request to Pinot Query to make them totally separate from each other. No need to nest them IMO.\r\n\r\nFor steps of migration:\r\n1. Implement PQL -> Pinot Query and Pinot Query -> Broker Request\r\n2. Support Pinot Query in Execution Layer (probably through a separate endpoint)\r\n3. Implement SQL -> Pinot Query\r\n4. (Optional) Remove PQL and Broker Request\r\n\r\n![Migration Steps](https://user-images.githubusercontent.com/17555551/57959496-f8808a80-78b8-11e9-82cd-2d687c0f08de.png)\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493618571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493623478","html_url":"https://github.com/apache/pinot/pull/4220#issuecomment-493623478","issue_url":"https://api.github.com/repos/apache/pinot/issues/4220","id":493623478,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzYyMzQ3OA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T23:08:26Z","updated_at":"2019-05-21T07:44:49Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4220?src=pr&el=h1) Report\n> Merging [#4220](https://codecov.io/gh/apache/incubator-pinot/pull/4220?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fc51fdc01d2b93836346c723107ccbcd5dbc6cdc?src=pr&el=desc) will **decrease** coverage by `0.09%`.\n> The diff coverage is `88.88%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4220/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4220?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master    #4220     +/-   ##\n===========================================\n- Coverage     67.47%   67.38%   -0.1%     \n  Complexity       20       20             \n===========================================\n  Files          1040     1041      +1     \n  Lines         51474    51482      +8     \n  Branches       7206     7207      +1     \n===========================================\n- Hits          34732    34690     -42     \n- Misses        14357    14419     +62     \n+ Partials       2385     2373     -12\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4220?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../core/data/partition/PartitionFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3BhcnRpdGlvbi9QYXJ0aXRpb25GdW5jdGlvbkZhY3RvcnkuamF2YQ==) | `68.42% <100%> (+1.75%)` | `0 <0> (ø)` | :arrow_down: |\n| [...core/data/partition/HashCodePartitionFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3BhcnRpdGlvbi9IYXNoQ29kZVBhcnRpdGlvbkZ1bmN0aW9uLmphdmE=) | `85.71% <85.71%> (ø)` | `0 <0> (?)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `29.87% <0%> (-54.55%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `43.47% <0%> (-36.24%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `66.07% <0%> (-12.5%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `74.72% <0%> (-7.7%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `76.08% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [...core/query/executor/ServerQueryExecutorV1Impl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9leGVjdXRvci9TZXJ2ZXJRdWVyeUV4ZWN1dG9yVjFJbXBsLmphdmE=) | `76.55% <0%> (-4.14%)` | `0% <0%> (ø)` | |\n| ... and [27 more](https://codecov.io/gh/apache/incubator-pinot/pull/4220/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4220?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4220?src=pr&el=footer). Last update [fc51fdc...61042da](https://codecov.io/gh/apache/incubator-pinot/pull/4220?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493623478/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493645566","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-493645566","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":493645566,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzY0NTU2Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-18T03:49:52Z","updated_at":"2019-05-18T03:50:16Z","author_association":"MEMBER","body":"@Jackie-Jiang yes, I would love to do this and this was how I started. The problem was that brokerrequest was very widely used in the code and it was very hard to replace it with pinot query in one shot.\r\n\r\nThat's why we put pinotquery inside brokerrequest which kind of makes sense if you think request consisting of query, debugoptions etc. \r\n\r\nOne key goal was to never have something like this in the query execution code.\r\n```if(brokerrequest) {\r\n//use broker request\r\n} else {\r\n  //pinot query\r\n}\r\n```\r\n\r\nIf we keep old fields (selection, aggInfoList etc) and pinotQuery in the brokerRequest, we can migrate to pinotQuery in steps - operator by operator. For e.g. solve only the selection operator then transform operator and so on.\r\n\r\nI agree with you only doubling the size of brokerRequest until we migrate the execution layer to use brokerrequest.pinotquery at which point we can delete the references to Selection, etc. I don't think this will add significant overhead in terms of network or cpu usage. We have the validation flag to test this easily. \r\n\r\nFinal Structure of BrokerRequest will be as follows \r\n\r\n```BrokerRequest {\r\n  PinotQuery pinotQuery;\r\n  bool enableTrace;\r\n  Map<String,String> requestOptions;\r\n}```\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493645566/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493711423","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-493711423","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":493711423,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzcxMTQyMw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-18T22:22:51Z","updated_at":"2019-05-18T22:22:51Z","author_association":"CONTRIBUTOR","body":"@kishoreg Short term wise, we can nest PinotQuery into BrokerRequest so we can support the functionalities step by step if the overhead is not an issue. Long term wise, I'll still suggest replacing BrokerRequest with PinotQuery once all the functionalities are supported. **enableTrace** should be inside the debugOptions, and requestOptions should be part of queryOptions from PinotQuery.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493711423/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493717771","html_url":"https://github.com/apache/pinot/pull/4222#issuecomment-493717771","issue_url":"https://api.github.com/repos/apache/pinot/issues/4222","id":493717771,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzcxNzc3MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-19T00:49:48Z","updated_at":"2019-05-22T03:26:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4222?src=pr&el=h1) Report\n> Merging [#4222](https://codecov.io/gh/apache/incubator-pinot/pull/4222?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/866289cf2671316d73195434c5aabd8e315ba18f?src=pr&el=desc) will **decrease** coverage by `0.01%`.\n> The diff coverage is `28.91%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4222/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4222?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4222      +/-   ##\n============================================\n- Coverage     67.46%   67.45%   -0.02%     \n  Complexity       20       20              \n============================================\n  Files          1041     1041              \n  Lines         51482    51466      -16     \n  Branches       7207     7210       +3     \n============================================\n- Hits          34734    34716      -18     \n- Misses        14370    14384      +14     \n+ Partials       2378     2366      -12\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4222?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/pinot/common/utils/CommonConstants.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvQ29tbW9uQ29uc3RhbnRzLmphdmE=) | `45.65% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...pinot/server/starter/helix/HelixServerStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3Qtc2VydmVyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9zZXJ2ZXIvc3RhcnRlci9oZWxpeC9IZWxpeFNlcnZlclN0YXJ0ZXIuamF2YQ==) | `45.88% <28.91%> (-9.1%)` | `0 <0> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-50%)` | `0% <0%> (ø)` | |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `43.33% <0%> (-40.01%)` | `0% <0%> (ø)` | |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `47.22% <0%> (-11.12%)` | `0% <0%> (ø)` | |\n| [...ore/query/scheduler/resources/ResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvcmVzb3VyY2VzL1Jlc291cmNlTWFuYWdlci5qYXZh) | `85.71% <0%> (-10.72%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `73.62% <0%> (-7.7%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `89.13% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| ... and [35 more](https://codecov.io/gh/apache/incubator-pinot/pull/4222/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4222?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4222?src=pr&el=footer). Last update [866289c...2122dbf](https://codecov.io/gh/apache/incubator-pinot/pull/4222?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493717771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493857725","html_url":"https://github.com/apache/pinot/issues/4223#issuecomment-493857725","issue_url":"https://api.github.com/repos/apache/pinot/issues/4223","id":493857725,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzg1NzcyNQ==","user":{"login":"ananthdurai","id":12244730,"node_id":"MDQ6VXNlcjEyMjQ0NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12244730?v=4","gravatar_id":"","url":"https://api.github.com/users/ananthdurai","html_url":"https://github.com/ananthdurai","followers_url":"https://api.github.com/users/ananthdurai/followers","following_url":"https://api.github.com/users/ananthdurai/following{/other_user}","gists_url":"https://api.github.com/users/ananthdurai/gists{/gist_id}","starred_url":"https://api.github.com/users/ananthdurai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ananthdurai/subscriptions","organizations_url":"https://api.github.com/users/ananthdurai/orgs","repos_url":"https://api.github.com/users/ananthdurai/repos","events_url":"https://api.github.com/users/ananthdurai/events{/privacy}","received_events_url":"https://api.github.com/users/ananthdurai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T06:42:25Z","updated_at":"2019-05-20T06:42:25Z","author_association":"CONTRIBUTOR","body":"Closing the issue as found it is a duplicate of https://github.com/apache/incubator-pinot/issues/3998","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493857725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493858043","html_url":"https://github.com/apache/pinot/issues/3998#issuecomment-493858043","issue_url":"https://api.github.com/repos/apache/pinot/issues/3998","id":493858043,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mzg1ODA0Mw==","user":{"login":"ananthdurai","id":12244730,"node_id":"MDQ6VXNlcjEyMjQ0NzMw","avatar_url":"https://avatars.githubusercontent.com/u/12244730?v=4","gravatar_id":"","url":"https://api.github.com/users/ananthdurai","html_url":"https://github.com/ananthdurai","followers_url":"https://api.github.com/users/ananthdurai/followers","following_url":"https://api.github.com/users/ananthdurai/following{/other_user}","gists_url":"https://api.github.com/users/ananthdurai/gists{/gist_id}","starred_url":"https://api.github.com/users/ananthdurai/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ananthdurai/subscriptions","organizations_url":"https://api.github.com/users/ananthdurai/orgs","repos_url":"https://api.github.com/users/ananthdurai/repos","events_url":"https://api.github.com/users/ananthdurai/events{/privacy}","received_events_url":"https://api.github.com/users/ananthdurai/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T06:43:50Z","updated_at":"2019-05-20T06:43:50Z","author_association":"CONTRIBUTOR","body":"👋 Hi, any update on the Kafka 2.X support? We are running a different version of Kafka to maintain Pinot, would like to move along with the rest of the infrastructure.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/493858043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494039960","html_url":"https://github.com/apache/pinot/pull/4133#issuecomment-494039960","issue_url":"https://api.github.com/repos/apache/pinot/issues/4133","id":494039960,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDAzOTk2MA==","user":{"login":"xilu-wang","id":15312906,"node_id":"MDQ6VXNlcjE1MzEyOTA2","avatar_url":"https://avatars.githubusercontent.com/u/15312906?v=4","gravatar_id":"","url":"https://api.github.com/users/xilu-wang","html_url":"https://github.com/xilu-wang","followers_url":"https://api.github.com/users/xilu-wang/followers","following_url":"https://api.github.com/users/xilu-wang/following{/other_user}","gists_url":"https://api.github.com/users/xilu-wang/gists{/gist_id}","starred_url":"https://api.github.com/users/xilu-wang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xilu-wang/subscriptions","organizations_url":"https://api.github.com/users/xilu-wang/orgs","repos_url":"https://api.github.com/users/xilu-wang/repos","events_url":"https://api.github.com/users/xilu-wang/events{/privacy}","received_events_url":"https://api.github.com/users/xilu-wang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T15:37:29Z","updated_at":"2019-05-20T15:37:29Z","author_association":"CONTRIBUTOR","body":"@kishoreg @Jackie-Jiang Looks like all the tests have passed. Can we merge this change? If anything needs to change please let me know.\r\n\r\nThanks","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494039960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494091417","html_url":"https://github.com/apache/pinot/pull/4218#issuecomment-494091417","issue_url":"https://api.github.com/repos/apache/pinot/issues/4218","id":494091417,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDA5MTQxNw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T18:03:41Z","updated_at":"2019-05-20T18:03:41Z","author_association":"CONTRIBUTOR","body":"lgtm, @Jackie-Jiang had some comments on class hierarchy.  I am neutral on that.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494091417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494096953","html_url":"https://github.com/apache/pinot/pull/4218#issuecomment-494096953","issue_url":"https://api.github.com/repos/apache/pinot/issues/4218","id":494096953,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDA5Njk1Mw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T18:20:11Z","updated_at":"2019-05-20T18:20:11Z","author_association":"MEMBER","body":"@npawar  I have a few questions. \r\n\r\nWhat is the impact on the latency and when does it kick in and for what kind of use cases? \r\nHow will the user know whats the right wait-time? We might still see the same issue if the server has not caught up within the wait time right?\r\n\r\nOne of the concerns here is that we stop the entire server from serving any other segment.\r\n\r\nLooks like we need two things\r\n- limit the number of threads for consumption so that it does not hog all the cpu during bootstrap/server startup\r\n-  Have the logic in the state transition for OFFLINE -> CONSUMING to not ack Helix until it's caught up. This has the added benefit that query results are up to date across all replicas.\r\n\r\nI am ok with the temporary fix but was wondering what would be the right fix that requires minimal configuration from the user.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494096953/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494139930","html_url":"https://github.com/apache/pinot/pull/4218#issuecomment-494139930","issue_url":"https://api.github.com/repos/apache/pinot/issues/4218","id":494139930,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDEzOTkzMA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T20:32:23Z","updated_at":"2019-05-20T20:32:23Z","author_association":"CONTRIBUTOR","body":"> @npawar I have a few questions.\r\n> \r\n> What is the impact on the latency and when does it kick in and for what kind of use cases?\r\n> How will the user know whats the right wait-time? We might still see the same issue if the server has not caught up within the wait time right?\r\n> \r\n> One of the concerns here is that we stop the entire server from serving any other segment.\r\n> \r\n> Looks like we need two things\r\n> \r\n> * limit the number of threads for consumption so that it does not hog all the cpu during bootstrap/server startup\r\n> * Have the logic in the state transition for OFFLINE -> CONSUMING to not ack Helix until it's caught up. This has the added benefit that query results are up to date across all replicas.\r\n> \r\n> I am ok with the temporary fix but was wondering what would be the right fix that requires minimal configuration from the user.\r\n\r\nThe impact we've observed is usually for high ingestion rate realtime tables. The tables can usually take 2-3 minutes to completely catchup after server restart. During this time, we not only see high latencies/slow queries/timeouts because of cpu bottleneck, but also the results returned by that server will not be in sync with what other replicas return. \r\n\r\nWe decided to have a simple approach of static wait time to begin with, until we can get more information about the consumption rate. Yes we will still see the issue if the server has not caught up in the configured time. \r\nWe plan to include consumption rate related stats in server stats. Once we have those, we will remove the static wait. We will then wait until consumption rate stabilizes to the average rate or until idle.\r\n\r\nI can make the static wait to default 0 if having the default 5 is a problem?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494139930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494150493","html_url":"https://github.com/apache/pinot/issues/4225#issuecomment-494150493","issue_url":"https://api.github.com/repos/apache/pinot/issues/4225","id":494150493,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE1MDQ5Mw==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T21:04:23Z","updated_at":"2019-05-20T21:04:23Z","author_association":"CONTRIBUTOR","body":"We could also explore dynamically adding virtual columns to provide default values, to the consuming segments as well. Is there a fundamental reason why that is not possible/hard for consuming segments, that I couldn't gather from #151?\r\n\r\n@Jackie-Jiang What do you think about the virtual columns approach? Or if you have any other ideas?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494150493/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494152235","html_url":"https://github.com/apache/pinot/issues/4225#issuecomment-494152235","issue_url":"https://api.github.com/repos/apache/pinot/issues/4225","id":494152235,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE1MjIzNQ==","user":{"login":"mayankshriv","id":12615885,"node_id":"MDQ6VXNlcjEyNjE1ODg1","avatar_url":"https://avatars.githubusercontent.com/u/12615885?v=4","gravatar_id":"","url":"https://api.github.com/users/mayankshriv","html_url":"https://github.com/mayankshriv","followers_url":"https://api.github.com/users/mayankshriv/followers","following_url":"https://api.github.com/users/mayankshriv/following{/other_user}","gists_url":"https://api.github.com/users/mayankshriv/gists{/gist_id}","starred_url":"https://api.github.com/users/mayankshriv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mayankshriv/subscriptions","organizations_url":"https://api.github.com/users/mayankshriv/orgs","repos_url":"https://api.github.com/users/mayankshriv/repos","events_url":"https://api.github.com/users/mayankshriv/events{/privacy}","received_events_url":"https://api.github.com/users/mayankshriv/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T21:09:56Z","updated_at":"2019-05-20T21:09:56Z","author_association":"CONTRIBUTOR","body":"Just to clarify, I don't mean the virtual column semantics as they are defined today, but leverage parts of that solution to dynamically add a column that provides default values without having to generate one entry per row of the same value.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494152235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494162310","html_url":"https://github.com/apache/pinot/pull/4226#issuecomment-494162310","issue_url":"https://api.github.com/repos/apache/pinot/issues/4226","id":494162310,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE2MjMxMA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T21:45:26Z","updated_at":"2019-05-20T21:45:26Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4226?src=pr&el=h1) Report\n> Merging [#4226](https://codecov.io/gh/apache/incubator-pinot/pull/4226?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/d2087b365859c215a55900a47b3f9a9355808157?src=pr&el=desc) will **decrease** coverage by `0.06%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4226/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4226?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4226      +/-   ##\n============================================\n- Coverage     67.15%   67.08%   -0.07%     \n  Complexity       20       20              \n============================================\n  Files          1036     1036              \n  Lines         51536    51536              \n  Branches       7220     7220              \n============================================\n- Hits          34607    34571      -36     \n- Misses        14557    14591      +34     \n- Partials       2372     2374       +2\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4226?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `43.33% <0%> (-15%)` | `0% <0%> (ø)` | |\n| [...esthandler/ConnectionPoolBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQ29ubmVjdGlvblBvb2xCcm9rZXJSZXF1ZXN0SGFuZGxlci5qYXZh) | `77.63% <0%> (-10.56%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `73.62% <0%> (-8.8%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `75.55% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `87.27% <0%> (-3.64%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...ot/core/query/pruner/ColumnValueSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvQ29sdW1uVmFsdWVTZWdtZW50UHJ1bmVyLmphdmE=) | `87.32% <0%> (-2.82%)` | `0% <0%> (ø)` | |\n| [...broker/broker/helix/LiveInstanceChangeHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0xpdmVJbnN0YW5jZUNoYW5nZUhhbmRsZXIuamF2YQ==) | `57.44% <0%> (-2.13%)` | `0% <0%> (ø)` | |\n| [...inot/core/operator/docidsets/AndBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvQW5kQmxvY2tEb2NJZFNldC5qYXZh) | `55.55% <0%> (-2.09%)` | `0% <0%> (ø)` | |\n| ... and [19 more](https://codecov.io/gh/apache/incubator-pinot/pull/4226/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4226?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4226?src=pr&el=footer). Last update [d2087b3...f2cd602](https://codecov.io/gh/apache/incubator-pinot/pull/4226?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494162310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494163400","html_url":"https://github.com/apache/pinot/issues/4225#issuecomment-494163400","issue_url":"https://api.github.com/repos/apache/pinot/issues/4225","id":494163400,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE2MzQwMA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T21:49:12Z","updated_at":"2019-05-20T21:49:12Z","author_association":"CONTRIBUTOR","body":"@icefury71 Have you tried the reload table option? You don't need to restart the server, and it allows you to reload only one single table without impacting other tables.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494163400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494164063","html_url":"https://github.com/apache/pinot/issues/4225#issuecomment-494164063","issue_url":"https://api.github.com/repos/apache/pinot/issues/4225","id":494164063,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE2NDA2Mw==","user":{"login":"icefury71","id":728023,"node_id":"MDQ6VXNlcjcyODAyMw==","avatar_url":"https://avatars.githubusercontent.com/u/728023?v=4","gravatar_id":"","url":"https://api.github.com/users/icefury71","html_url":"https://github.com/icefury71","followers_url":"https://api.github.com/users/icefury71/followers","following_url":"https://api.github.com/users/icefury71/following{/other_user}","gists_url":"https://api.github.com/users/icefury71/gists{/gist_id}","starred_url":"https://api.github.com/users/icefury71/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/icefury71/subscriptions","organizations_url":"https://api.github.com/users/icefury71/orgs","repos_url":"https://api.github.com/users/icefury71/repos","events_url":"https://api.github.com/users/icefury71/events{/privacy}","received_events_url":"https://api.github.com/users/icefury71/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T21:51:32Z","updated_at":"2019-05-20T21:51:32Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang We haven't benchmarked that yet - will do that. The initial suspicion was reloading segments will also take a non-trivial amount of time. But yes, will update this thread with some numbers.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494164063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494164396","html_url":"https://github.com/apache/pinot/issues/74#issuecomment-494164396","issue_url":"https://api.github.com/repos/apache/pinot/issues/74","id":494164396,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE2NDM5Ng==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T21:52:46Z","updated_at":"2019-05-20T21:52:46Z","author_association":"CONTRIBUTOR","body":"You may use the reload API: **{controllerHost:port}/tables/{tableName}/segments/{segmentName}/reload** for single segment reload or **{controllerHost:port}/tables/{tableName}/segments/reload** for whole table reload.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494164396/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494165508","html_url":"https://github.com/apache/pinot/issues/4225#issuecomment-494165508","issue_url":"https://api.github.com/repos/apache/pinot/issues/4225","id":494165508,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE2NTUwOA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T21:57:10Z","updated_at":"2019-05-20T21:57:10Z","author_association":"CONTRIBUTOR","body":"@icefury71 The reload should be quite fast without impacting other tables. Please give it a try. I would not recommend generating the columns on the fly as all the columns in the schema are supposed to exist physically.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494165508/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494184960","html_url":"https://github.com/apache/pinot/pull/4208#issuecomment-494184960","issue_url":"https://api.github.com/repos/apache/pinot/issues/4208","id":494184960,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE4NDk2MA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T23:28:23Z","updated_at":"2019-05-20T23:28:23Z","author_association":"CONTRIBUTOR","body":"@kishoreg Can you have another look on the PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494184960/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494185128","html_url":"https://github.com/apache/pinot/pull/4218#issuecomment-494185128","issue_url":"https://api.github.com/repos/apache/pinot/issues/4218","id":494185128,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE4NTEyOA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T23:29:11Z","updated_at":"2019-05-20T23:29:11Z","author_association":"MEMBER","body":"Agree with providing a simple wait for now but let's keep the default to 0 and allow users to override if needed.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494185128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494199425","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494199425","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494199425,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE5OTQyNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T00:52:28Z","updated_at":"2019-05-21T00:52:28Z","author_association":"MEMBER","body":"Can you point us to a concrete query/usecase where this PR would help? What would be the behavior without this PR.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494199425/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494201220","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494201220","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494201220,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDIwMTIyMA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T01:03:41Z","updated_at":"2019-05-21T01:12:15Z","author_association":"CONTRIBUTOR","body":"@kishoreg Without this PR, in order to create default columns for serialized Object such as HyperLogLog, TDigest etc., user needs to serialize the default Object (empty HyperLogLog or TDigest) in order to get the default value and then put it into the schema. The default values are quite long for these Objects (HyperLogLog: \"00000008000000ac00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\"; QDigest: \"3fa999999999999a0000000000000000000000000004b9467fffffffffffffff800000000000000000000000\"; TDigest: \"000000017ff0000000000000fff0000000000000405900000000000000000000\").\r\nWith this PR, we directly treat empty byte array as null, so user doesn't need to specify such default values.\r\n\r\nBesides, this PR allows user to put empty byte array to skip a value which can save storage and reduce computation cost. E.g. for a HyperLogLog column, if there is no value inside, user can simply put an empty array instead of the serialized byte array.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494201220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494230068","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494230068","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494230068,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDIzMDA2OA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T03:56:52Z","updated_at":"2019-05-21T03:56:52Z","author_association":"MEMBER","body":"This is equivalent of supporting NULL for BYTES column right?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494230068/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494252208","html_url":"https://github.com/apache/pinot/pull/4228#issuecomment-494252208","issue_url":"https://api.github.com/repos/apache/pinot/issues/4228","id":494252208,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDI1MjIwOA==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T06:04:59Z","updated_at":"2019-05-21T06:09:16Z","author_association":"CONTRIBUTOR","body":"Before change\r\n```\r\n❯ ~/workspace/pinot/pinot-tools/target/pinot-tools-pkg/bin/pinot-admin.sh\r\nERROR StatusLogger File not found in file system or classpath: /Users/snlee/workspace/pinot/pinot-tools/target/pinot-tools-pkg/conf/pinot-admin-log4j2.xml\r\nERROR StatusLogger Reconfiguration failed: No configuration found for '728938a9' at 'null' in 'null'\r\n```\r\n\r\n\r\nAfter change\r\n```\r\n❯ ~/workspace/pinot/pinot-tools/target/pinot-tools-pkg/bin/pinot-admin.sh\r\nUsage: pinot-admin.sh <subCommand>\r\nValid subCommands are:\r\n\tGenerateData\t<Generate random data as per the provided scema>\r\n\tCreateSegment\t<Create pinot segments from provided avro/csv/json input data.>\r\n\tStartZookeeper\t<Start the Zookeeper process at the specified port.>\r\n\tStartKafka\t<Start Kafka at the specified port.>\r\n\tStreamAvroIntoKafka\t<Stream the specified Avro file into a Kafka topic, which can be read by Pinot\r\nby using org.apache.pinot.core.realtime.impl.kafka.KafkaJSONMessageDecoder as the\r\nmessage decoder class name (stream.kafka.decoder.class.name).>\r\n\tStartController\t<Start the Pinot Controller Process at the specified port.>\r\n\tStartBroker\t<Start the Pinot Broker process at the specified port>\r\n\tStartServer\t<Start the Pinot Server process at the specified port.>\r\n\tAddTable\t<Add table specified in the json file, to the controller.>\r\n\tChangeTableState\t<Change the state (enable|disable|drop) of Pinot table>\r\n\tAddTenant\t<Add tenant as per the specification provided.>\r\n\tAddSchema\t<Add schema specified in the schema file to the controller>\r\n\tUploadSegment\t<Upload the Pinot segments.>\r\n\tPostQuery\t<Query the uploaded Pinot segments.>\r\n\tStopProcess\t<Stop the specified processes.>\r\n\tDeleteCluster\t<Remove the Pinot Cluster from Helix.>\r\n\tShowClusterInfo\t<Show Pinot Cluster information.>\r\n\tAvroSchemaToPinotSchema\t<Extracting Pinot schema file from Avro schema or data file.>\r\n\tRebalanceTable\t<Rebalance segments for a single table or all tables belonging to a tenant. This is run after adding new nodes to rebalance the segments>\r\n\tChangeNumReplicas\t<Re-writes idealState to reflect the value of numReplicas in table config>\r\n\tValidateConfig\t<Validate configs on the specified Zookeeper.>\r\n\tVerifySegmentState\t<Compares helix IdealState and ExternalView for specified table prefixes>\r\n\tConvertPinotSegment\t<Convert Pinot segments to another format such as AVRO/CSV/JSON.>\r\n\tMoveReplicaGroup\t<Move complete set of segment replica from source servers to tagged servers in cluster>\r\n\tBackfillSegmentColumn\t<Backfill a column in segments of a pinot table, with a millis value corresponding to the time column>\r\n\tVerifyClusterState\t<Verify cluster's state after shutting down several nodes randomly.>\r\n\tApplyTableConfig\t<Applies the given table configuration to a cluster.>\r\n\tRealtimeProvisioningHelper\t<Given the table config, partitions, retention and a sample completed segment for a realtime table to be setup, this tool will provide memory used by each host and an optimal segment size for various combinations of hours to consume and hosts>\r\n\tMergeSegments\t<Create the merged segment using concatenation>\r\n\tCheckOfflineSegmentIntervals\t<Prints out offline segments with invalid time intervals>\r\nFor other crud operations, please refer to ${ControllerAddress}/help.\r\n```","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494252208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494260769","html_url":"https://github.com/apache/pinot/pull/4228#issuecomment-494260769","issue_url":"https://api.github.com/repos/apache/pinot/issues/4228","id":494260769,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDI2MDc2OQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T06:42:06Z","updated_at":"2019-05-21T06:42:06Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4228?src=pr&el=h1) Report\n> Merging [#4228](https://codecov.io/gh/apache/incubator-pinot/pull/4228?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fc51fdc01d2b93836346c723107ccbcd5dbc6cdc?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4228/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4228?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4228      +/-   ##\n============================================\n+ Coverage     67.47%   67.48%   +<.01%     \n  Complexity       20       20              \n============================================\n  Files          1040     1040              \n  Lines         51474    51474              \n  Branches       7206     7206              \n============================================\n+ Hits          34732    34735       +3     \n- Misses        14357    14370      +13     \n+ Partials       2385     2369      -16\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4228?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `50% <0%> (-31.25%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `72.72% <0%> (-11.69%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `73.62% <0%> (-8.8%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `55.55% <0%> (-5.56%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `73.21% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...not/broker/requesthandler/RangeMergeOptimizer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvUmFuZ2VNZXJnZU9wdGltaXplci5qYXZh) | `89.7% <0%> (-1.48%)` | `0% <0%> (ø)` | |\n| [...g/apache/pinot/common/metrics/AbstractMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9BYnN0cmFjdE1ldHJpY3MuamF2YQ==) | `74% <0%> (-1.34%)` | `0% <0%> (ø)` | |\n| [...ache/pinot/common/metadata/ZKMetadataProvider.java](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0YWRhdGEvWktNZXRhZGF0YVByb3ZpZGVyLmphdmE=) | `67.03% <0%> (-1.1%)` | `0% <0%> (ø)` | |\n| ... and [19 more](https://codecov.io/gh/apache/incubator-pinot/pull/4228/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4228?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4228?src=pr&el=footer). Last update [fc51fdc...bbe0e8b](https://codecov.io/gh/apache/incubator-pinot/pull/4228?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494260769/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494460413","html_url":"https://github.com/apache/pinot/pull/3899#issuecomment-494460413","issue_url":"https://api.github.com/repos/apache/pinot/issues/3899","id":494460413,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ2MDQxMw==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T16:20:30Z","updated_at":"2019-05-21T16:20:30Z","author_association":"MEMBER","body":"@agrawaldevesh what do you want to do with this PR?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494460413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494469365","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-494469365","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":494469365,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDQ2OTM2NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T16:45:28Z","updated_at":"2019-05-21T16:45:28Z","author_association":"MEMBER","body":"@Jackie-Jiang, yes once we migrate the execution layer to work on PinotQuery, we can definitely move over to PinotQuery if needed. \r\n\r\nThe way I see it is broker takes in a bunch of request params - pql, enableTrace, debugOptions and we will add few more things in the future. The brokerRequest we have today makes sense because it captures everything. The only difference is that while enableTrace and debugOptions have 1:1 mapping in brokerRequest, pql is split into many different fields. Adding PinotQuery will encapsulate all elements of the pql/sql within it. \r\n\r\nAnyways, we can revisit this when we refactor the execution layer to use PinotQuery. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494469365/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494505085","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494505085","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494505085,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwNTA4NQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:27:56Z","updated_at":"2019-05-21T18:27:56Z","author_association":"CONTRIBUTOR","body":"@kishoreg Yes, and we treat empty byte array as NULL for BYTES.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494505085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494508908","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494508908","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494508908,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDUwODkwOA==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T18:38:55Z","updated_at":"2019-05-21T18:38:55Z","author_association":"MEMBER","body":"ok. It's better to support NULL as first-class instead of checking for NULL every row right?. Generate a NULL bitmap for this column and filter it out in the filter phase. \r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494508908/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494562461","html_url":"https://github.com/apache/pinot/issues/4007#issuecomment-494562461","issue_url":"https://api.github.com/repos/apache/pinot/issues/4007","id":494562461,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDU2MjQ2MQ==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T21:18:20Z","updated_at":"2019-05-21T21:18:20Z","author_association":"CONTRIBUTOR","body":"More formal discussion around tracking Freshness can be found here: https://cwiki.apache.org/confluence/display/PINOT/Pinot+Freshness+Metric","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494562461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494578331","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494578331","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494578331,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDU3ODMzMQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T22:12:25Z","updated_at":"2019-05-21T22:12:25Z","author_association":"MEMBER","body":"Let’s create an issue for supporting null and point to this PR. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494578331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494578632","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494578632","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494578632,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDU3ODYzMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T22:13:34Z","updated_at":"2019-05-21T22:13:34Z","author_association":"CONTRIBUTOR","body":"@kishoreg It cannot be done in filter phase because for each document, there is no guarantee that all metrics are null. We can filter them out in data fetching phase though. I think we need to add a new index type or reserve some dictId for null. Will create the issue.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494578632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494581187","html_url":"https://github.com/apache/pinot/issues/3998#issuecomment-494581187","issue_url":"https://api.github.com/repos/apache/pinot/issues/3998","id":494581187,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDU4MTE4Nw==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T22:23:18Z","updated_at":"2019-05-21T22:23:29Z","author_association":"CONTRIBUTOR","body":"We're planning to work on this issue this quarter. We (@mcvsubbu  and I) will do some refactoring, such that the kafka code will be separated out as a stream plug in. This will make it easier for folks to plug in the versions of kafka they wish to use. \r\n\r\nHere's the tentative steps we plan to take:\r\n1) Many of our tests are using kafka related classes. We plan to introduce a fake stream, which can be used in all tests. This will help us remove dependency of kafka related classes in all tests. \r\n2) There are 2 implementations of PartitionFunction, which are using kafka libraries. We plan to abstract those out, and make the stream implementation provide stream specific partition functions.\r\n3)  After completion of above 2 steps, we should be able to pull out kafka related classes into a separate module, say \"pinot-kafka-0.9.0.1\". This should let us remove kafka dependency from all other modules (i think pinot-common, pinot-core, pinot-controller have kafka as a dependency in their pom).\r\n4) We can then decide whether to keep \"pinot-kafka-0.9.0.1\" as a module in pinot, or separate it out to another open source repo. This module will serve as an example of exactly what needs to be done to add a plug in)\r\nWill add more details as we iron things out.\r\n\r\n\r\nAfter this is completed, you will be able to plug-in your implementations for other kafka versions. @ananthdurai @kishoreg @s-sahay ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494581187/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494582841","html_url":"https://github.com/apache/pinot/issues/3998#issuecomment-494582841","issue_url":"https://api.github.com/repos/apache/pinot/issues/3998","id":494582841,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDU4Mjg0MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T22:30:01Z","updated_at":"2019-05-21T22:30:01Z","author_association":"CONTRIBUTOR","body":"@ananthdurai can you contribute towards this effort (esp after step 2)?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494582841/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494583232","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494583232","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494583232,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDU4MzIzMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T22:31:45Z","updated_at":"2019-05-21T22:31:45Z","author_association":"MEMBER","body":"NULL value is per column. Also, I think I now remember the discussion with Mayank. This will be backward incompatible change when we add NULL support. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494583232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494584656","html_url":"https://github.com/apache/pinot/issues/3998#issuecomment-494584656","issue_url":"https://api.github.com/repos/apache/pinot/issues/3998","id":494584656,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDU4NDY1Ng==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T22:37:30Z","updated_at":"2019-05-21T22:37:30Z","author_association":"MEMBER","body":"@npawar Is there a way to skip the initial steps of adding Fake stream?  Let’s try to abstract the module first. We can keep the dependency for some more time. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494584656/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494596106","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494596106","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494596106,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDU5NjEwNg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T23:29:08Z","updated_at":"2019-05-21T23:29:08Z","author_association":"CONTRIBUTOR","body":"@kishoreg I understand that NULL value is per column, but for example: SELECT SUM(A), SUM(B) FROM table, for the same document, column A might have NULL value while column B does not. We cannot apply an extra filter in such case.\r\nCan you describe why this will be backward incompatible (forward incompatible maybe as we don't have NULL support yet)?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494596106/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494600143","html_url":"https://github.com/apache/pinot/pull/4222#issuecomment-494600143","issue_url":"https://api.github.com/repos/apache/pinot/issues/4222","id":494600143,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYwMDE0Mw==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T23:49:44Z","updated_at":"2019-05-21T23:49:44Z","author_association":"CONTRIBUTOR","body":"@sunithabeeram Updated the PR description for the behavior changes.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494600143/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494609408","html_url":"https://github.com/apache/pinot/pull/4214#issuecomment-494609408","issue_url":"https://api.github.com/repos/apache/pinot/issues/4214","id":494609408,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYwOTQwOA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T00:42:21Z","updated_at":"2019-05-22T00:42:21Z","author_association":"CONTRIBUTOR","body":"Discussed with @kishoreg offline. Will hold on this PR and see how much effort it takes to support real NULL values, and then decide which route to take. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494609408/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494615947","html_url":"https://github.com/apache/pinot/pull/4222#issuecomment-494615947","issue_url":"https://api.github.com/repos/apache/pinot/issues/4222","id":494615947,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYxNTk0Nw==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T01:22:01Z","updated_at":"2019-05-22T01:22:01Z","author_association":"CONTRIBUTOR","body":"Just remembered one thing that might be good to keep in mind: the reason a shutdown resource check was added was to handle the case of ZK/Helix slowness where the broker's EV was lagging. At the time, @kishoreg had suggested that waiting at shutdown time is better as its a stronger guarantee than at startup (if Broker's view is lagging, it may continue to - esp if the instance-config update processing is lagging).\r\nThis change flips the argument somewhat. We'll still need a startup wait because of the latency issues noted. We might have to keep a closer on the following deployments as we now have the resource offline check turned off.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494615947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494624812","html_url":"https://github.com/apache/pinot/pull/4222#issuecomment-494624812","issue_url":"https://api.github.com/repos/apache/pinot/issues/4222","id":494624812,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYyNDgxMg==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T02:11:34Z","updated_at":"2019-05-22T02:11:34Z","author_association":"CONTRIBUTOR","body":"> Just remembered one thing that might be good to keep in mind: the reason a shutdown resource check was added was to handle the case of ZK/Helix slowness where the broker's EV was lagging. At the time, @kishoreg had suggested that waiting at shutdown time is better as its a stronger guarantee than at startup (if Broker's view is lagging, it may continue to - esp if the instance-config update processing is lagging).\r\n> This change flips the argument somewhat. We'll still need a startup wait because of the latency issues noted. We might have to keep a closer on the following deployments as we now have the resource offline check turned off.\r\n\r\nBoth shutdown/startup check needs to wait for controller to pickup the current state changes and put them into external view, thus shutdown check won't give stronger guarantee. I'll monitor the following deployments and see if we need to tune the default behavior (that's why I keep everything configurable)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494624812/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494654304","html_url":"https://github.com/apache/pinot/pull/4229#issuecomment-494654304","issue_url":"https://api.github.com/repos/apache/pinot/issues/4229","id":494654304,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDY1NDMwNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T05:09:58Z","updated_at":"2019-05-22T05:34:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4229?src=pr&el=h1) Report\n> Merging [#4229](https://codecov.io/gh/apache/incubator-pinot/pull/4229?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/866289cf2671316d73195434c5aabd8e315ba18f?src=pr&el=desc) will **decrease** coverage by `0.21%`.\n> The diff coverage is `94.73%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4229/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4229?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4229      +/-   ##\n============================================\n- Coverage     67.46%   67.25%   -0.22%     \n  Complexity       20       20              \n============================================\n  Files          1041     1041              \n  Lines         51482    51473       -9     \n  Branches       7207     7210       +3     \n============================================\n- Hits          34734    34617     -117     \n- Misses        14370    14497     +127     \n+ Partials       2378     2359      -19\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4229?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...t/common/response/broker/BrokerResponseNative.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vcmVzcG9uc2UvYnJva2VyL0Jyb2tlclJlc3BvbnNlTmF0aXZlLmphdmE=) | `91.3% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/org/apache/pinot/common/metrics/BrokerTimer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Ccm9rZXJUaW1lci5qYXZh) | `90% <100%> (+1.11%)` | `0 <0> (ø)` | :arrow_down: |\n| [...che/pinot/core/query/scheduler/QueryScheduler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9zY2hlZHVsZXIvUXVlcnlTY2hlZHVsZXIuamF2YQ==) | `78.57% <100%> (+0.91%)` | `0 <0> (ø)` | :arrow_down: |\n| [...core/query/executor/ServerQueryExecutorV1Impl.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9leGVjdXRvci9TZXJ2ZXJRdWVyeUV4ZWN1dG9yVjFJbXBsLmphdmE=) | `81.37% <100%> (-0.69%)` | `0 <0> (ø)` | |\n| [...roker/requesthandler/BaseBrokerRequestHandler.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvQmFzZUJyb2tlclJlcXVlc3RIYW5kbGVyLmphdmE=) | `77.21% <100%> (+0.09%)` | `0 <0> (ø)` | :arrow_down: |\n| [...e/pinot/core/query/reduce/BrokerReduceService.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9yZWR1Y2UvQnJva2VyUmVkdWNlU2VydmljZS5qYXZh) | `80.15% <83.33%> (+0.45%)` | `0 <0> (ø)` | :arrow_down: |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `20.28% <0%> (-59.43%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `29.87% <0%> (-41.56%)` | `0% <0%> (ø)` | |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `43.33% <0%> (-40.01%)` | `0% <0%> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `75% <0%> (-25%)` | `0% <0%> (ø)` | |\n| ... and [34 more](https://codecov.io/gh/apache/incubator-pinot/pull/4229/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4229?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4229?src=pr&el=footer). Last update [866289c...704b346](https://codecov.io/gh/apache/incubator-pinot/pull/4229?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494654304/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494858747","html_url":"https://github.com/apache/pinot/pull/4222#issuecomment-494858747","issue_url":"https://api.github.com/repos/apache/pinot/issues/4222","id":494858747,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDg1ODc0Nw==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T15:42:43Z","updated_at":"2019-05-22T15:42:43Z","author_association":"CONTRIBUTOR","body":"Does it make sense to return a 'shutting down' code from the server when it gets a broker request? The broker can then stop sending more requests to the server.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494858747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494903984","html_url":"https://github.com/apache/pinot/issues/3998#issuecomment-494903984","issue_url":"https://api.github.com/repos/apache/pinot/issues/3998","id":494903984,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDkwMzk4NA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T17:56:11Z","updated_at":"2019-05-22T17:56:11Z","author_association":"CONTRIBUTOR","body":"I tried that @kishoreg . I first moved all Kafka related classes into a pinot-kafka-0.9 module. pinot-kafka-0.9 needed pinot-core  as dependency. And pinot-core and pinot-common needed pinot-kafka-0.9 as test dependency. I encountered errors like \"Annotation processing not supported with cyclic module dependencies\"\r\nI don't think it should be too much to add a fake stream and change the tests. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494903984/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494906808","html_url":"https://github.com/apache/pinot/pull/4222#issuecomment-494906808","issue_url":"https://api.github.com/repos/apache/pinot/issues/4222","id":494906808,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDkwNjgwOA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T18:06:07Z","updated_at":"2019-05-22T18:06:07Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu That's possible, but server also need to send a 'startting up' to broker in order to get new requests. Right now we rely on the 'shutDownInProgress' flag in the instance config.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494906808/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494917701","html_url":"https://github.com/apache/pinot/issues/3998#issuecomment-494917701","issue_url":"https://api.github.com/repos/apache/pinot/issues/3998","id":494917701,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDkxNzcwMQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T18:42:46Z","updated_at":"2019-05-22T18:42:46Z","author_association":"CONTRIBUTOR","body":"Had some discussion with @snleee @sunithabeeram  and @mcvsubbu \r\n1) For tests, we will let pinot-integration-tests have a dependency on pinot-kafka-0.9.0.1. No need to change those tests. For all other tests in pinot-core, pinot-common, pinot-controller, will clean those up to not depend on kafka (some simply are referring to class names), and use FakeStream if needed.\r\n2) @snleee confirmed that we don't need to depend on kafka for Murmur PartitionFunction, and that function can be simply copied over. For ByteArrayPartitionFunction, we will either delete it, or translate the scala code. That way, we will remove kafka dependencies from PartitionFunction.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494917701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494992325","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-494992325","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":494992325,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDk5MjMyNQ==","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T22:07:21Z","updated_at":"2019-05-22T22:07:21Z","author_association":"CONTRIBUTOR","body":"Hi here, I was mostly a user for pinot but pretty new to the development - really glad to see that Pinot is adopting ANSI SQL through Calcite.\r\n\r\nOne question: based on the design description, seems like only the parser phase of the Calcite project is being considered here (Stringify SQL -> SQLNode); is there any plan to consider adopting more of the Calcite capacity, e.g. the optimizer? ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/494992325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495011317","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-495011317","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":495011317,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxMTMxNw==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:28:16Z","updated_at":"2019-05-22T23:28:16Z","author_association":"CONTRIBUTOR","body":"@kishoreg - I missed seeing this issue earlier. It will be good to see the reasons for going the Calcite route. Based on internal discussions, it appears that leveraging Calcite for just parsing wouldn't yield a lot of benefit and infact might be harder to maintain than the corresponding antlr grammar based one.\r\n\r\nAlso, it will be good define how close to sql compliance we want to get and how PQL will evolve - will everything have to fit into sql parlance?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495011317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495014513","html_url":"https://github.com/apache/pinot/pull/4233#issuecomment-495014513","issue_url":"https://api.github.com/repos/apache/pinot/issues/4233","id":495014513,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxNDUxMw==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:43:55Z","updated_at":"2019-05-28T17:13:51Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4233?src=pr&el=h1) Report\n> Merging [#4233](https://codecov.io/gh/apache/incubator-pinot/pull/4233?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/91e4679f7b9fa338f6060ee019da22f3029e8b33?src=pr&el=desc) will **decrease** coverage by `0.06%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4233/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4233?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4233      +/-   ##\n============================================\n- Coverage     67.43%   67.36%   -0.07%     \n  Complexity       20       20              \n============================================\n  Files          1041     1041              \n  Lines         51473    51514      +41     \n  Branches       7210     7216       +6     \n============================================\n- Hits          34709    34704       -5     \n- Misses        14383    14447      +64     \n+ Partials       2381     2363      -18\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4233?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `29.87% <0%> (-54.55%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `43.47% <0%> (-36.24%)` | `0% <0%> (ø)` | |\n| [...egation/function/customobject/MinMaxRangePair.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvTWluTWF4UmFuZ2VQYWlyLmphdmE=) | `75.86% <0%> (-24.14%)` | `0% <0%> (ø)` | |\n| [...ot/core/realtime/stream/PartitionCountFetcher.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vUGFydGl0aW9uQ291bnRGZXRjaGVyLmphdmE=) | `54.16% <0%> (-20.84%)` | `0% <0%> (ø)` | |\n| [...lix/EmptyBrokerOnlineOfflineStateModelFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9FbXB0eUJyb2tlck9ubGluZU9mZmxpbmVTdGF0ZU1vZGVsRmFjdG9yeS5qYXZh) | `86.66% <0%> (-13.34%)` | `0% <0%> (ø)` | |\n| [...ore/data/partition/ByteArrayPartitionFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3BhcnRpdGlvbi9CeXRlQXJyYXlQYXJ0aXRpb25GdW5jdGlvbi5qYXZh) | `75% <0%> (-12.5%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `55.55% <0%> (-8.34%)` | `0% <0%> (ø)` | |\n| [...he/pinot/controller/util/SegmentIntervalUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci91dGlsL1NlZ21lbnRJbnRlcnZhbFV0aWxzLmphdmE=) | `0% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [...roller/helix/core/PinotTableIdealStateBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90VGFibGVJZGVhbFN0YXRlQnVpbGRlci5qYXZh) | `80.45% <0%> (-4.6%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/BitmapDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9CaXRtYXBEb2NJZEl0ZXJhdG9yLmphdmE=) | `60.71% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| ... and [37 more](https://codecov.io/gh/apache/incubator-pinot/pull/4233/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4233?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4233?src=pr&el=footer). Last update [91e4679...f79eccf](https://codecov.io/gh/apache/incubator-pinot/pull/4233?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495014513/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495017157","html_url":"https://github.com/apache/pinot/pull/4234#issuecomment-495017157","issue_url":"https://api.github.com/repos/apache/pinot/issues/4234","id":495017157,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxNzE1Nw==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:57:46Z","updated_at":"2019-05-22T23:57:46Z","author_association":"CONTRIBUTOR","body":"I think that it would be good if we can add some unit tests for `Murmur` partitioner with pre-computed result with kafka util.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495017157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495018459","html_url":"https://github.com/apache/pinot/pull/4234#issuecomment-495018459","issue_url":"https://api.github.com/repos/apache/pinot/issues/4234","id":495018459,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxODQ1OQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T00:04:23Z","updated_at":"2019-05-23T00:04:23Z","author_association":"CONTRIBUTOR","body":"I would run the existing Kafka partition function on a few random strings (perhaps generated with some seed), record the answers, then run them with the newly coded functions, just to be sure.\r\nThis (or a subset) can then become the unit test sample.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495018459/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495022246","html_url":"https://github.com/apache/pinot/pull/4234#issuecomment-495022246","issue_url":"https://api.github.com/repos/apache/pinot/issues/4234","id":495022246,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAyMjI0Ng==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T00:26:08Z","updated_at":"2019-05-23T17:40:07Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4234?src=pr&el=h1) Report\n> Merging [#4234](https://codecov.io/gh/apache/incubator-pinot/pull/4234?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/91e4679f7b9fa338f6060ee019da22f3029e8b33?src=pr&el=desc) will **increase** coverage by `0.07%`.\n> The diff coverage is `96.15%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4234/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4234?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master   #4234      +/-   ##\n===========================================\n+ Coverage     67.43%   67.5%   +0.07%     \n  Complexity       20      20              \n===========================================\n  Files          1041    1041              \n  Lines         51473   51505      +32     \n  Branches       7210    7216       +6     \n===========================================\n+ Hits          34709   34767      +58     \n+ Misses        14383   14366      -17     \n+ Partials       2381    2372       -9\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4234?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [.../core/data/partition/PartitionFunctionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3BhcnRpdGlvbi9QYXJ0aXRpb25GdW5jdGlvbkZhY3RvcnkuamF2YQ==) | `68.42% <ø> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [...t/core/data/partition/MurmurPartitionFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3BhcnRpdGlvbi9NdXJtdXJQYXJ0aXRpb25GdW5jdGlvbi5qYXZh) | `93.54% <100%> (+18.54%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ore/data/partition/ByteArrayPartitionFunction.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL3BhcnRpdGlvbi9CeXRlQXJyYXlQYXJ0aXRpb25GdW5jdGlvbi5qYXZh) | `75% <50%> (-12.5%)` | `0 <0> (ø)` | |\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `25% <0%> (-56.25%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `83.92% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...troller/helix/core/retention/RetentionManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JldGVudGlvbi9SZXRlbnRpb25NYW5hZ2VyLmphdmE=) | `75% <0%> (-4.17%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/BitmapDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9CaXRtYXBEb2NJZEl0ZXJhdG9yLmphdmE=) | `60.71% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...a/org/apache/pinot/common/config/Deserializer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL0Rlc2VyaWFsaXplci5qYXZh) | `54.86% <0%> (-2.28%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `71.42% <0%> (-1.79%)` | `0% <0%> (ø)` | |\n| ... and [25 more](https://codecov.io/gh/apache/incubator-pinot/pull/4234/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4234?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4234?src=pr&el=footer). Last update [91e4679...a53cd8c](https://codecov.io/gh/apache/incubator-pinot/pull/4234?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495022246/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495022959","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-495022959","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":495022959,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAyMjk1OQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T00:30:11Z","updated_at":"2019-05-23T00:30:11Z","author_association":"MEMBER","body":"@walterddr the plan is to only use the parser phase of calcite. I don't see using the optimizers in calcite will provide any value because of the following \r\n-  Most of the optimizers in calcite optimize the logical plan (suitable for complex joins/nested queries etc). We cannot leverage them since Pinot does not support joins and nested queries\r\n- Pinot comes up with per segment optimized physical plan based on each segment's metadata.  Calcite does not support this.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495022959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495023965","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-495023965","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":495023965,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAyMzk2NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T00:35:56Z","updated_at":"2019-05-23T00:35:56Z","author_association":"MEMBER","body":"@sunithabeeram Yes, we are planning to use calcite just for parsing. I had the same opinion but I realized that it is more flexible and complete than the PQL grammar. Every feature we need to add in Pinot, we end up touching the grammar, the parser, and the execution layer. For e.g. supporting regex, expression, alias, map syntax etc. It's just a distraction and additional code to maintain.\r\nWe already tried converting sqlNode to BrokerRequest and it worked well for all the queries we have. The only exception is the options we have in Pinot and we will have to handle that separately.\r\nCalcite is widely adopted and supporting those queries will allow us Pinot to be used easily with other UI tools.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495023965/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495289210","html_url":"https://github.com/apache/pinot/pull/4234#issuecomment-495289210","issue_url":"https://api.github.com/repos/apache/pinot/issues/4234","id":495289210,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTI4OTIxMA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T16:24:39Z","updated_at":"2019-05-23T16:24:39Z","author_association":"CONTRIBUTOR","body":"> I think that it would be good if we can add some unit tests for `Murmur` partitioner with pre-computed result with kafka util.\r\n\r\nI've added a tests to check equivalence of results of previous implementation with the new implementation. Please take a look @snleee ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495289210/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495304994","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-495304994","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":495304994,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTMwNDk5NA==","user":{"login":"walterddr","id":3581352,"node_id":"MDQ6VXNlcjM1ODEzNTI=","avatar_url":"https://avatars.githubusercontent.com/u/3581352?v=4","gravatar_id":"","url":"https://api.github.com/users/walterddr","html_url":"https://github.com/walterddr","followers_url":"https://api.github.com/users/walterddr/followers","following_url":"https://api.github.com/users/walterddr/following{/other_user}","gists_url":"https://api.github.com/users/walterddr/gists{/gist_id}","starred_url":"https://api.github.com/users/walterddr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/walterddr/subscriptions","organizations_url":"https://api.github.com/users/walterddr/orgs","repos_url":"https://api.github.com/users/walterddr/repos","events_url":"https://api.github.com/users/walterddr/events{/privacy}","received_events_url":"https://api.github.com/users/walterddr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T17:10:56Z","updated_at":"2019-05-23T17:10:56Z","author_association":"CONTRIBUTOR","body":"Thanks for the explanation @kishoreg . Yeah I agree that many of the optimizations might not work for Pinot and can understand why this could be a good idea to separate the grammar changes from the other core changes. \r\n\r\nOne of advantages, as you also mentioned, is the optimizer's capability to simplify and optimize logical plan. This might open up some possibilities when writing standard SQL: for example, nested queries that are more readable, but ultimately can be compiled as a simple query. \r\n\r\nRegarding metadata support, I wounldn't say there's no support on calcite but I think this is definitely a limitation. Similar problem has been raised in Flink's calcite metadata handler as well: https://issues.apache.org/jira/browse/FLINK-11822. ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495304994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495322946","html_url":"https://github.com/apache/pinot/issues/3957#issuecomment-495322946","issue_url":"https://api.github.com/repos/apache/pinot/issues/3957","id":495322946,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTMyMjk0Ng==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T18:00:44Z","updated_at":"2019-05-23T18:00:44Z","author_association":"MEMBER","body":"This is the PR for adding lead controller resource (disabled): https://github.com/apache/incubator-pinot/pull/4047\r\nTest plans:\r\n1. Testing dual mode controller:\r\n* Start Zookeeper.\r\n* Start 2 dual mode controllers.\r\n* Start broker.\r\n* Start server.\r\n* Add table (succeeded).\r\n* Upload segment(succeeded).\r\n* Query table(succeeded).\r\n* Enable lead controller resource(all dual-mode controllers become masters/slaves in lead controller resource).\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495322946/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495334092","html_url":"https://github.com/apache/pinot/pull/4235#issuecomment-495334092","issue_url":"https://api.github.com/repos/apache/pinot/issues/4235","id":495334092,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTMzNDA5Mg==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T18:33:05Z","updated_at":"2019-05-23T18:33:05Z","author_association":"CONTRIBUTOR","body":"Also, please change the LLCRealtimeCluster test to work with this disabled setting","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495334092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495346836","html_url":"https://github.com/apache/pinot/pull/4236#issuecomment-495346836","issue_url":"https://api.github.com/repos/apache/pinot/issues/4236","id":495346836,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM0NjgzNg==","user":{"login":"jackjlli","id":35080149,"node_id":"MDQ6VXNlcjM1MDgwMTQ5","avatar_url":"https://avatars.githubusercontent.com/u/35080149?v=4","gravatar_id":"","url":"https://api.github.com/users/jackjlli","html_url":"https://github.com/jackjlli","followers_url":"https://api.github.com/users/jackjlli/followers","following_url":"https://api.github.com/users/jackjlli/following{/other_user}","gists_url":"https://api.github.com/users/jackjlli/gists{/gist_id}","starred_url":"https://api.github.com/users/jackjlli/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackjlli/subscriptions","organizations_url":"https://api.github.com/users/jackjlli/orgs","repos_url":"https://api.github.com/users/jackjlli/repos","events_url":"https://api.github.com/users/jackjlli/events{/privacy}","received_events_url":"https://api.github.com/users/jackjlli/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T19:08:48Z","updated_at":"2019-05-23T19:08:48Z","author_association":"MEMBER","body":"@mcvsubbu Log messages added.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495346836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495353334","html_url":"https://github.com/apache/pinot/pull/4236#issuecomment-495353334","issue_url":"https://api.github.com/repos/apache/pinot/issues/4236","id":495353334,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM1MzMzNA==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T19:28:38Z","updated_at":"2019-05-23T19:28:38Z","author_association":"CONTRIBUTOR","body":"> @mcvsubbu Log messages added.\r\n\r\nThank you!","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495353334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495359721","html_url":"https://github.com/apache/pinot/pull/4216#issuecomment-495359721","issue_url":"https://api.github.com/repos/apache/pinot/issues/4216","id":495359721,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM1OTcyMQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T19:47:14Z","updated_at":"2019-05-23T19:47:14Z","author_association":"CONTRIBUTOR","body":"We should make sure that the existing built-in virtual columns translate correctly to the execution layer. I think we have $segment, $row, etc. (not sure about the exact names)","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495359721/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495384360","html_url":"https://github.com/apache/pinot/pull/4236#issuecomment-495384360","issue_url":"https://api.github.com/repos/apache/pinot/issues/4236","id":495384360,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM4NDM2MA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T21:04:03Z","updated_at":"2019-05-23T21:04:03Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4236?src=pr&el=h1) Report\n> Merging [#4236](https://codecov.io/gh/apache/incubator-pinot/pull/4236?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/cb7dab4be3a5d1425c9ceb1875f5417193b3f2fb?src=pr&el=desc) will **increase** coverage by `0.1%`.\n> The diff coverage is `100%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4236/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4236?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master    #4236     +/-   ##\n===========================================\n+ Coverage     67.35%   67.46%   +0.1%     \n  Complexity       20       20             \n===========================================\n  Files          1041     1041             \n  Lines         51482    51491      +9     \n  Branches       7214     7214             \n===========================================\n+ Hits          34676    34737     +61     \n+ Misses        14445    14384     -61     \n- Partials       2361     2370      +9\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4236?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/pinot/common/metrics/ControllerGauge.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9Db250cm9sbGVyR2F1Z2UuamF2YQ==) | `96.15% <100%> (+0.15%)` | `0 <0> (ø)` | :arrow_down: |\n| [...org/apache/pinot/controller/ControllerStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyU3RhcnRlci5qYXZh) | `68.92% <100%> (ø)` | `0 <0> (ø)` | :arrow_down: |\n| [.../pinot/controller/ControllerLeadershipManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyTGVhZGVyc2hpcE1hbmFnZXIuamF2YQ==) | `90% <100%> (+2.5%)` | `0 <0> (ø)` | :arrow_down: |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `75% <0%> (-25%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-13.05%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `83.92% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/MVScanDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9NVlNjYW5Eb2NJZEl0ZXJhdG9yLmphdmE=) | `59.09% <0%> (-4.55%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/BitmapDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9CaXRtYXBEb2NJZEl0ZXJhdG9yLmphdmE=) | `60.71% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `73.21% <0%> (-3.58%)` | `0% <0%> (ø)` | |\n| [...not/broker/requesthandler/RangeMergeOptimizer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcmVxdWVzdGhhbmRsZXIvUmFuZ2VNZXJnZU9wdGltaXplci5qYXZh) | `89.7% <0%> (-1.48%)` | `0% <0%> (ø)` | |\n| ... and [19 more](https://codecov.io/gh/apache/incubator-pinot/pull/4236/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4236?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4236?src=pr&el=footer). Last update [cb7dab4...9b0f51b](https://codecov.io/gh/apache/incubator-pinot/pull/4236?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495384360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495399394","html_url":"https://github.com/apache/pinot/pull/4237#issuecomment-495399394","issue_url":"https://api.github.com/repos/apache/pinot/issues/4237","id":495399394,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM5OTM5NA==","user":{"login":"jihaozh","id":36778437,"node_id":"MDQ6VXNlcjM2Nzc4NDM3","avatar_url":"https://avatars.githubusercontent.com/u/36778437?v=4","gravatar_id":"","url":"https://api.github.com/users/jihaozh","html_url":"https://github.com/jihaozh","followers_url":"https://api.github.com/users/jihaozh/followers","following_url":"https://api.github.com/users/jihaozh/following{/other_user}","gists_url":"https://api.github.com/users/jihaozh/gists{/gist_id}","starred_url":"https://api.github.com/users/jihaozh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jihaozh/subscriptions","organizations_url":"https://api.github.com/users/jihaozh/orgs","repos_url":"https://api.github.com/users/jihaozh/repos","events_url":"https://api.github.com/users/jihaozh/events{/privacy}","received_events_url":"https://api.github.com/users/jihaozh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T21:55:42Z","updated_at":"2019-05-23T21:55:42Z","author_association":"MEMBER","body":"As discussed offline, in the dropdown on Edit Alert, could you use make it into two separate sections to show subscribed groups and all other groups? Probably that's the most flexible design. This should be doable in ember power select component. https://ember-power-select.com/docs/groups","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495399394/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495409581","html_url":"https://github.com/apache/pinot/pull/4222#issuecomment-495409581","issue_url":"https://api.github.com/repos/apache/pinot/issues/4222","id":495409581,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQwOTU4MQ==","user":{"login":"mcvsubbu","id":2279037,"node_id":"MDQ6VXNlcjIyNzkwMzc=","avatar_url":"https://avatars.githubusercontent.com/u/2279037?v=4","gravatar_id":"","url":"https://api.github.com/users/mcvsubbu","html_url":"https://github.com/mcvsubbu","followers_url":"https://api.github.com/users/mcvsubbu/followers","following_url":"https://api.github.com/users/mcvsubbu/following{/other_user}","gists_url":"https://api.github.com/users/mcvsubbu/gists{/gist_id}","starred_url":"https://api.github.com/users/mcvsubbu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcvsubbu/subscriptions","organizations_url":"https://api.github.com/users/mcvsubbu/orgs","repos_url":"https://api.github.com/users/mcvsubbu/repos","events_url":"https://api.github.com/users/mcvsubbu/events{/privacy}","received_events_url":"https://api.github.com/users/mcvsubbu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T22:37:30Z","updated_at":"2019-05-23T22:37:30Z","author_association":"CONTRIBUTOR","body":"@Jackie-Jiang  we don't need to implement the 'starting up' part at all. When the broker sends a query to the server, it can do one of:\r\n* send query response (either partial or complete)\r\n* send a boolean flag (or, an exception, not sure) saying it is shutting down. The broker can record this as if the server went off from externalview\r\n* timeout\r\n\r\nOn startup, the broker can use the same logic as checking the EV  change. Of course, we will need to account for the conditions where EV change can happen due to some other server (maybe broker should check instance config for 'isShuttingDown' before including a new server in the routing table). ","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495409581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495410600","html_url":"https://github.com/apache/pinot/pull/4222#issuecomment-495410600","issue_url":"https://api.github.com/repos/apache/pinot/issues/4222","id":495410600,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQxMDYwMA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T22:42:35Z","updated_at":"2019-05-23T22:42:35Z","author_association":"CONTRIBUTOR","body":"@mcvsubbu In ideal case, broker should get the \"isShuttingDown\" change immediately. If that is not the case, we can implement your proposal, but there will be plenty of corner cases we need to handle.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495410600/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495443116","html_url":"https://github.com/apache/pinot/pull/4233#issuecomment-495443116","issue_url":"https://api.github.com/repos/apache/pinot/issues/4233","id":495443116,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQ0MzExNg==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T01:46:13Z","updated_at":"2019-05-24T01:46:13Z","author_association":"CONTRIBUTOR","body":"> Can we try not to hard-code the number of partitions to 2?? Each test should be able to start with as many partitions as needed? I do run the tests with different number of partitions on my desktop to test sometimes.\r\n\r\nFixed. The numPartitions can now be provided via the StreamConfig property. The StreamConfig can be created using `StreamConfig streamConfig = FakeStreamConfigUtils::getDefaultLowLevelStreamConfig(int num partitions)`","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495443116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495467698","html_url":"https://github.com/apache/pinot/pull/4216#issuecomment-495467698","issue_url":"https://api.github.com/repos/apache/pinot/issues/4216","id":495467698,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQ2NzY5OA==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T04:25:09Z","updated_at":"2019-05-24T04:25:09Z","author_association":"CONTRIBUTOR","body":"@fx19880617 Sorry I didn't realize the auto-generated code was not auto-reformatted yet, which is causing lots of unrelated changes. Can you submit an auto-reformatting only PR and rebase this on that?","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495467698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495476049","html_url":"https://github.com/apache/pinot/pull/4216#issuecomment-495476049","issue_url":"https://api.github.com/repos/apache/pinot/issues/4216","id":495476049,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQ3NjA0OQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T05:20:40Z","updated_at":"2019-05-24T05:20:40Z","author_association":"CONTRIBUTOR","body":"I actually prefer to have `https://github.com/apache/incubator-pinot/pull/3723` merged to auto-gen java files from thrift.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495476049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495722312","html_url":"https://github.com/apache/pinot/issues/4219#issuecomment-495722312","issue_url":"https://api.github.com/repos/apache/pinot/issues/4219","id":495722312,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTcyMjMxMg==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T17:31:54Z","updated_at":"2019-05-24T17:31:54Z","author_association":"MEMBER","body":"@walterddr I looked at the Jira link. If my understanding is right, I think the metadata it refers to is global and not per segment. In the case of Pinot, the physical plan is optimized on a per segment basis based on its metadata (cardinality, indexing, star-tree, dictionary etc)\r\n\r\nHaving said that, in future if we start supporting nested queries and look up joins, we might consider using the optimizers that come with calcite.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495722312/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495729649","html_url":"https://github.com/apache/pinot/pull/4216#issuecomment-495729649","issue_url":"https://api.github.com/repos/apache/pinot/issues/4216","id":495729649,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTcyOTY0OQ==","user":{"login":"Jackie-Jiang","id":17555551,"node_id":"MDQ6VXNlcjE3NTU1NTUx","avatar_url":"https://avatars.githubusercontent.com/u/17555551?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackie-Jiang","html_url":"https://github.com/Jackie-Jiang","followers_url":"https://api.github.com/users/Jackie-Jiang/followers","following_url":"https://api.github.com/users/Jackie-Jiang/following{/other_user}","gists_url":"https://api.github.com/users/Jackie-Jiang/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackie-Jiang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackie-Jiang/subscriptions","organizations_url":"https://api.github.com/users/Jackie-Jiang/orgs","repos_url":"https://api.github.com/users/Jackie-Jiang/repos","events_url":"https://api.github.com/users/Jackie-Jiang/events{/privacy}","received_events_url":"https://api.github.com/users/Jackie-Jiang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T17:50:31Z","updated_at":"2019-05-24T17:50:31Z","author_association":"CONTRIBUTOR","body":"@fx19880617 Yes, that is definitely better","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495729649/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495733441","html_url":"https://github.com/apache/pinot/pull/3723#issuecomment-495733441","issue_url":"https://api.github.com/repos/apache/pinot/issues/3723","id":495733441,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTczMzQ0MQ==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:00:19Z","updated_at":"2019-05-24T18:00:19Z","author_association":"CONTRIBUTOR","body":"> This is great! @snleee do we need to add extra license for the new dependency?\r\n\r\n@Jackie-Jiang `thrift` is an apache project so there is no issue. We will clean up `LICENSE` when we do the next release.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495733441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495746485","html_url":"https://github.com/apache/pinot/pull/3723#issuecomment-495746485","issue_url":"https://api.github.com/repos/apache/pinot/issues/3723","id":495746485,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTc0NjQ4NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:34:04Z","updated_at":"2019-05-24T18:34:52Z","author_association":"MEMBER","body":"There are a couple of things we need to consider here\r\n\r\n1. we will have to modify Travis script to install thrift before triggering the build (this is not hard, we can use thrift docker images)\r\n2. Adds the additional step of installing thrift ( one-time) in order to build Pinot locally. We will have to update the build instructions.\r\n\r\nThe only way to avoid the above steps is to migrate to Avro or Protobuf but that will be a bigger change.\r\n\r\nIf there are no concerns, we can add the steps to install thrift to Travis script.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495746485/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495823638","html_url":"https://github.com/apache/pinot/pull/4218#issuecomment-495823638","issue_url":"https://api.github.com/repos/apache/pinot/issues/4218","id":495823638,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgyMzYzOA==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-25T01:24:34Z","updated_at":"2019-05-25T01:24:34Z","author_association":"CONTRIBUTOR","body":"Fixed suggestions @sunithabeeram \r\n\r\n@mcvsubbu I have refactored it such that we are not making the call to getResourcesInCluster and getResourceIdealState in every constructor. It is now happening only in 1 constructor.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495823638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495985716","html_url":"https://github.com/apache/pinot/pull/3723#issuecomment-495985716","issue_url":"https://api.github.com/repos/apache/pinot/issues/3723","id":495985716,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTk4NTcxNg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-26T10:05:01Z","updated_at":"2019-05-28T20:54:11Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/3723?src=pr&el=h1) Report\n> Merging [#3723](https://codecov.io/gh/apache/incubator-pinot/pull/3723?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/4694f67d45c99e27ee5757da077cbee27f6eaf54?src=pr&el=desc) will **increase** coverage by `4.58%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/3723/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/3723?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #3723      +/-   ##\n============================================\n+ Coverage     67.27%   71.85%   +4.58%     \n  Complexity       20       20              \n============================================\n  Files          1041     1027      -14     \n  Lines         51514    46385    -5129     \n  Branches       7216     6192    -1024     \n============================================\n- Hits          34657    33331    -1326     \n+ Misses        14501    10855    -3646     \n+ Partials       2356     2199     -157\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/3723?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `25% <0%> (-56.25%)` | `0% <0%> (ø)` | |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...e/operator/dociditerators/SortedDocIdIterator.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZGl0ZXJhdG9ycy9Tb3J0ZWREb2NJZEl0ZXJhdG9yLmphdmE=) | `55.55% <0%> (-8.34%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `87.5% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `76.08% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `89.28% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `79.77% <0%> (-3.38%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `29.87% <0%> (-2.6%)` | `0% <0%> (ø)` | |\n| ... and [28 more](https://codecov.io/gh/apache/incubator-pinot/pull/3723/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/3723?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/3723?src=pr&el=footer). Last update [4694f67...3522e64](https://codecov.io/gh/apache/incubator-pinot/pull/3723?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/495985716/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496019805","html_url":"https://github.com/apache/pinot/issues/4230#issuecomment-496019805","issue_url":"https://api.github.com/repos/apache/pinot/issues/4230","id":496019805,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjAxOTgwNQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-26T18:05:53Z","updated_at":"2019-05-26T18:05:53Z","author_association":"MEMBER","body":"Here is the high-level idea\r\n\r\n- add isNullable=true/false in the FieldSpec\r\n- if isNullable set to true, we can generate a presence vector or null vector. I think presence vector is better than null vector since the query will mostly be x != NULL. Having a presence vector means we don't have to invert the bitmap for every query\r\n- Add presence bit vector to DataSource (similar to bloom filter etc)\r\n- Nothing changes in the forward index for now. we will still use the default value. \r\n- We have two options during query execution 1. users explicitly add x != NULL in the query or we automatically add x != NULL if we see column x as part of the group by or aggregation function.\r\n\r\nOne open question is, should we restrict generating presence vector to segment creation phase or allow generating them on the fly when we load the segment (similar to inverted index). Generating them on the fly means we need to generate presence vector from the forward index. We can't do this as we represent NULL using the defaultValue in fieldSpec. One workaround is to treat the default value in the forward index as NULL. I think this might work but not 100% sure. Does anyone see any issues with treating default value in forward index implies NULL? \r\n   \r\nFor the first phase, I think restricting it to segment generation phase should be good enough.\r\n\r\nThoughts?\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496019805/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496027439","html_url":"https://github.com/apache/pinot/pull/3723#issuecomment-496027439","issue_url":"https://api.github.com/repos/apache/pinot/issues/3723","id":496027439,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjAyNzQzOQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-26T20:04:53Z","updated_at":"2019-05-26T20:04:53Z","author_association":"CONTRIBUTOR","body":"This is for just for Ubuntu travis image. We should point people to thrift page(https://thrift.apache.org/docs/install/) for build instruction based on their OS.\n\nSent from my iPhone\n\n> On May 26, 2019, at 10:37, Kishore Gopalakrishna <notifications@github.com> wrote:\n> \n> @kishoreg commented on this pull request.\n> \n> Nice to see the build pass. Let us update the build instructions as well.\n> \n> @Jackie-Jiang, does this look ok?\n> \n> In .travis.yml:\n> \n> > @@ -20,6 +20,13 @@ cache:\n>  addons:\n>    firefox: latest\n>  \n> +before_install:\n> +  - sudo apt-get update -qq\n> Will this be part of build instructions as well. If so, should we move these into install_thrift.sh script?\n> \n> —\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496027439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496096212","html_url":"https://github.com/apache/pinot/pull/4200#issuecomment-496096212","issue_url":"https://api.github.com/repos/apache/pinot/issues/4200","id":496096212,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjA5NjIxMg==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-27T06:36:01Z","updated_at":"2019-06-12T21:43:55Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4200?src=pr&el=h1) Report\n> Merging [#4200](https://codecov.io/gh/apache/incubator-pinot/pull/4200?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/9f3fe4e4ac42db2a39115cc4fe9a4ed7cd7599b1?src=pr&el=desc) will **increase** coverage by `1.79%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4200/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4200?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4200      +/-   ##\n============================================\n+ Coverage     65.42%   67.21%   +1.79%     \n  Complexity       20       20              \n============================================\n  Files          1052     1041      -11     \n  Lines         54590    51518    -3072     \n  Branches       7771     7217     -554     \n============================================\n- Hits          35714    34628    -1086     \n+ Misses        16319    14521    -1798     \n+ Partials       2557     2369     -188\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4200?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `20.28% <0%> (-55.06%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `32.46% <0%> (-40.61%)` | `0% <0%> (ø)` | |\n| [...egation/function/customobject/MinMaxRangePair.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9hZ2dyZWdhdGlvbi9mdW5jdGlvbi9jdXN0b21vYmplY3QvTWluTWF4UmFuZ2VQYWlyLmphdmE=) | `75.86% <0%> (-24.14%)` | `0% <0%> (ø)` | |\n| [...ot/controller/helix/core/util/HelixSetupUtils.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3V0aWwvSGVsaXhTZXR1cFV0aWxzLmphdmE=) | `62.31% <0%> (-20.59%)` | `0% <0%> (ø)` | |\n| [...ot/pql/parsers/pql2/ast/IntegerLiteralAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9JbnRlZ2VyTGl0ZXJhbEFzdE5vZGUuamF2YQ==) | `66.66% <0%> (-16.67%)` | `0% <0%> (ø)` | |\n| [.../parsers/pql2/ast/FloatingPointLiteralAstNode.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9wcWwvcGFyc2Vycy9wcWwyL2FzdC9GbG9hdGluZ1BvaW50TGl0ZXJhbEFzdE5vZGUuamF2YQ==) | `66.66% <0%> (-16.67%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `69.56% <0%> (-13.05%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `82.6% <0%> (-13.05%)` | `0% <0%> (ø)` | |\n| [.../pinot/controller/ControllerLeadershipManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyTGVhZGVyc2hpcE1hbmFnZXIuamF2YQ==) | `74.41% <0%> (-9.31%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/FloatOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPbkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `82.6% <0%> (-8.7%)` | `0% <0%> (ø)` | |\n| ... and [155 more](https://codecov.io/gh/apache/incubator-pinot/pull/4200/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4200?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4200?src=pr&el=footer). Last update [9f3fe4e...ba8dd0d](https://codecov.io/gh/apache/incubator-pinot/pull/4200?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496096212/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496490217","html_url":"https://github.com/apache/pinot/pull/4243#issuecomment-496490217","issue_url":"https://api.github.com/repos/apache/pinot/issues/4243","id":496490217,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjQ5MDIxNw==","user":{"login":"jitendratheta","id":1000026,"node_id":"MDQ6VXNlcjEwMDAwMjY=","avatar_url":"https://avatars.githubusercontent.com/u/1000026?v=4","gravatar_id":"","url":"https://api.github.com/users/jitendratheta","html_url":"https://github.com/jitendratheta","followers_url":"https://api.github.com/users/jitendratheta/followers","following_url":"https://api.github.com/users/jitendratheta/following{/other_user}","gists_url":"https://api.github.com/users/jitendratheta/gists{/gist_id}","starred_url":"https://api.github.com/users/jitendratheta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jitendratheta/subscriptions","organizations_url":"https://api.github.com/users/jitendratheta/orgs","repos_url":"https://api.github.com/users/jitendratheta/repos","events_url":"https://api.github.com/users/jitendratheta/events{/privacy}","received_events_url":"https://api.github.com/users/jitendratheta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T12:11:35Z","updated_at":"2019-05-28T12:11:35Z","author_association":"CONTRIBUTOR","body":"@npawar @mcvsubbu Can you please review this diff.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496490217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496501504","html_url":"https://github.com/apache/pinot/pull/4243#issuecomment-496501504","issue_url":"https://api.github.com/repos/apache/pinot/issues/4243","id":496501504,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjUwMTUwNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T12:46:49Z","updated_at":"2019-06-04T09:24:42Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4243?src=pr&el=h1) Report\n> Merging [#4243](https://codecov.io/gh/apache/incubator-pinot/pull/4243?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/45a8430bc3d981b44e2d8e242c75480d7dc593e6?src=pr&el=desc) will **decrease** coverage by `0.06%`.\n> The diff coverage is `71.42%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4243/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4243?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4243      +/-   ##\n============================================\n- Coverage     67.24%   67.17%   -0.07%     \n  Complexity       20       20              \n============================================\n  Files          1041     1040       -1     \n  Lines         51514    51544      +30     \n  Branches       7216     7229      +13     \n============================================\n- Hits          34640    34627      -13     \n- Misses        14506    14545      +39     \n- Partials       2368     2372       +4\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4243?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...ache/pinot/client/PinotClientTransportFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvUGlub3RDbGllbnRUcmFuc3BvcnRGYWN0b3J5LmphdmE=) | `100% <100%> (ø)` | `0 <0> (?)` | |\n| [...ient/JsonAsyncHttpPinotClientTransportFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvSnNvbkFzeW5jSHR0cFBpbm90Q2xpZW50VHJhbnNwb3J0RmFjdG9yeS5qYXZh) | `66.66% <100%> (-33.34%)` | `0 <0> (ø)` | |\n| [...inot/client/JsonAsyncHttpPinotClientTransport.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvSnNvbkFzeW5jSHR0cFBpbm90Q2xpZW50VHJhbnNwb3J0LmphdmE=) | `63.41% <62.5%> (-2.3%)` | `0 <0> (ø)` | |\n| [...ava/org/apache/pinot/client/ConnectionFactory.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtYXBpL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jbGllbnQvQ29ubmVjdGlvbkZhY3RvcnkuamF2YQ==) | `45.45% <75%> (+5.45%)` | `0 <0> (ø)` | :arrow_down: |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `43.33% <0%> (-36.67%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `20.28% <0%> (-23.19%)` | `0% <0%> (ø)` | |\n| [...ot/core/realtime/stream/PartitionCountFetcher.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9zdHJlYW0vUGFydGl0aW9uQ291bnRGZXRjaGVyLmphdmE=) | `54.16% <0%> (-20.84%)` | `0% <0%> (ø)` | |\n| [.../pinot/controller/ControllerLeadershipManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyTGVhZGVyc2hpcE1hbmFnZXIuamF2YQ==) | `74.41% <0%> (-15.59%)` | `0% <0%> (ø)` | |\n| [...a/org/apache/pinot/common/utils/ServiceStatus.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vdXRpbHMvU2VydmljZVN0YXR1cy5qYXZh) | `75% <0%> (-8.96%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `85.71% <0%> (-8.93%)` | `0% <0%> (ø)` | |\n| ... and [75 more](https://codecov.io/gh/apache/incubator-pinot/pull/4243/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4243?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4243?src=pr&el=footer). Last update [45a8430...2f5ae2c](https://codecov.io/gh/apache/incubator-pinot/pull/4243?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496501504/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496535251","html_url":"https://github.com/apache/pinot/pull/4242#issuecomment-496535251","issue_url":"https://api.github.com/repos/apache/pinot/issues/4242","id":496535251,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjUzNTI1MQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T14:14:47Z","updated_at":"2019-05-28T14:14:47Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4242?src=pr&el=h1) Report\n> Merging [#4242](https://codecov.io/gh/apache/incubator-pinot/pull/4242?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/45a8430bc3d981b44e2d8e242c75480d7dc593e6?src=pr&el=desc) will **decrease** coverage by `0.11%`.\n> The diff coverage is `33.09%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4242/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4242?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4242      +/-   ##\n============================================\n- Coverage     67.24%   67.12%   -0.12%     \n  Complexity       20       20              \n============================================\n  Files          1041     1042       +1     \n  Lines         51514    51649     +135     \n  Branches       7216     7246      +30     \n============================================\n+ Hits          34640    34670      +30     \n- Misses        14506    14614     +108     \n+ Partials       2368     2365       -3\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4242?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...g/apache/pinot/common/data/DateTimeFormatSpec.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YS9EYXRlVGltZUZvcm1hdFNwZWMuamF2YQ==) | `82.85% <100%> (+0.76%)` | `0 <0> (ø)` | :arrow_down: |\n| [.../transformer/datetime/BaseDateTimeTransformer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vdHJhbnNmb3JtZXIvZGF0ZXRpbWUvQmFzZURhdGVUaW1lVHJhbnNmb3JtZXIuamF2YQ==) | `95% <100%> (+1.06%)` | `0 <0> (ø)` | :arrow_down: |\n| [...rator/transform/transformer/datetime/Truncate.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci90cmFuc2Zvcm0vdHJhbnNmb3JtZXIvZGF0ZXRpbWUvVHJ1bmNhdGUuamF2YQ==) | `22.03% <22.03%> (ø)` | `0 <0> (?)` | |\n| [...e/pinot/common/data/DateTimeFormatPatternSpec.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YS9EYXRlVGltZUZvcm1hdFBhdHRlcm5TcGVjLmphdmE=) | `71.79% <85.71%> (+3.04%)` | `0 <0> (ø)` | :arrow_down: |\n| [...r/validation/RealtimeSegmentValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL1JlYWx0aW1lU2VnbWVudFZhbGlkYXRpb25NYW5hZ2VyLmphdmE=) | `43.33% <0%> (-36.67%)` | `0% <0%> (ø)` | |\n| [...apache/pinot/common/metrics/ValidationMetrics.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vbWV0cmljcy9WYWxpZGF0aW9uTWV0cmljcy5qYXZh) | `20.28% <0%> (-23.19%)` | `0% <0%> (ø)` | |\n| [...e/impl/dictionary/LongOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09uSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `89.13% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `89.28% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [.../org/apache/pinot/transport/netty/NettyServer.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtdHJhbnNwb3J0L3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC90cmFuc3BvcnQvbmV0dHkvTmV0dHlTZXJ2ZXIuamF2YQ==) | `80.8% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| [...der/HighLevelConsumerBasedRoutingTableBuilder.java](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvcm91dGluZy9idWlsZGVyL0hpZ2hMZXZlbENvbnN1bWVyQmFzZWRSb3V0aW5nVGFibGVCdWlsZGVyLmphdmE=) | `90.9% <0%> (-3.04%)` | `0% <0%> (ø)` | |\n| ... and [18 more](https://codecov.io/gh/apache/incubator-pinot/pull/4242/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4242?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4242?src=pr&el=footer). Last update [45a8430...f737522](https://codecov.io/gh/apache/incubator-pinot/pull/4242?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496535251/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496588574","html_url":"https://github.com/apache/pinot/issues/4230#issuecomment-496588574","issue_url":"https://api.github.com/repos/apache/pinot/issues/4230","id":496588574,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjU4ODU3NA==","user":{"login":"sunithabeeram","id":3123798,"node_id":"MDQ6VXNlcjMxMjM3OTg=","avatar_url":"https://avatars.githubusercontent.com/u/3123798?v=4","gravatar_id":"","url":"https://api.github.com/users/sunithabeeram","html_url":"https://github.com/sunithabeeram","followers_url":"https://api.github.com/users/sunithabeeram/followers","following_url":"https://api.github.com/users/sunithabeeram/following{/other_user}","gists_url":"https://api.github.com/users/sunithabeeram/gists{/gist_id}","starred_url":"https://api.github.com/users/sunithabeeram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sunithabeeram/subscriptions","organizations_url":"https://api.github.com/users/sunithabeeram/orgs","repos_url":"https://api.github.com/users/sunithabeeram/repos","events_url":"https://api.github.com/users/sunithabeeram/events{/privacy}","received_events_url":"https://api.github.com/users/sunithabeeram/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T16:23:26Z","updated_at":"2019-05-28T16:35:58Z","author_association":"CONTRIBUTOR","body":"Few thoughts:\r\n1. How would defaultValue and isNullable in the FieldSpec work? Does one take precedence over the other?\r\n2. Although I like the idea of presence vector, would it be better to have it a bit more dynamic by allowing for a metadata field that says whether it indicates the presence or absence depending on the type of data? This is an interesting consideration from storage pov (as we can use whatever results in better storage representation), but would make execution a bit non-straight forward.\r\n3. Do we want to generate the bit vector for metric fields?\r\n4. Regarding the open question, if we don't allow on the fly generation, how would this work with older segments? I think interpreting existing default values to generate the bit vector sounds ok to me.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496588574/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496604095","html_url":"https://github.com/apache/pinot/issues/4230#issuecomment-496604095","issue_url":"https://api.github.com/repos/apache/pinot/issues/4230","id":496604095,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjYwNDA5NQ==","user":{"login":"kishoreg","id":850791,"node_id":"MDQ6VXNlcjg1MDc5MQ==","avatar_url":"https://avatars.githubusercontent.com/u/850791?v=4","gravatar_id":"","url":"https://api.github.com/users/kishoreg","html_url":"https://github.com/kishoreg","followers_url":"https://api.github.com/users/kishoreg/followers","following_url":"https://api.github.com/users/kishoreg/following{/other_user}","gists_url":"https://api.github.com/users/kishoreg/gists{/gist_id}","starred_url":"https://api.github.com/users/kishoreg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kishoreg/subscriptions","organizations_url":"https://api.github.com/users/kishoreg/orgs","repos_url":"https://api.github.com/users/kishoreg/repos","events_url":"https://api.github.com/users/kishoreg/events{/privacy}","received_events_url":"https://api.github.com/users/kishoreg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T17:05:31Z","updated_at":"2019-05-28T17:05:31Z","author_association":"MEMBER","body":"@sunithabeeram Changed bullet to the numbered list.\r\n1. When an input column value is NULL, there are two things we need to consider a. what do we store in the forward index b. How do we support x != NULL in the query without generating inverted index for every unique value. We need defaultValue to support a and this issues is about supporting second scenario.\r\n2. Not sure if ithe saving in storage space ts worth the complexity, the presence bit vector should be small. This is equivalent of storing one additional posting list. \r\n3. Yes, metric columns will benefit a lot from this feature\r\n4. Older segments will continue to use the default values during aggregation and assume that nothing is NULL. If the user is ok with considering defaultValue as NULL, we can support old segments as well by generating NULL vector on the fly.\r\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496604095/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496610121","html_url":"https://github.com/apache/pinot/pull/4233#issuecomment-496610121","issue_url":"https://api.github.com/repos/apache/pinot/issues/4233","id":496610121,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjYxMDEyMQ==","user":{"login":"npawar","id":19693933,"node_id":"MDQ6VXNlcjE5NjkzOTMz","avatar_url":"https://avatars.githubusercontent.com/u/19693933?v=4","gravatar_id":"","url":"https://api.github.com/users/npawar","html_url":"https://github.com/npawar","followers_url":"https://api.github.com/users/npawar/followers","following_url":"https://api.github.com/users/npawar/following{/other_user}","gists_url":"https://api.github.com/users/npawar/gists{/gist_id}","starred_url":"https://api.github.com/users/npawar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/npawar/subscriptions","organizations_url":"https://api.github.com/users/npawar/orgs","repos_url":"https://api.github.com/users/npawar/repos","events_url":"https://api.github.com/users/npawar/events{/privacy}","received_events_url":"https://api.github.com/users/npawar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T17:22:22Z","updated_at":"2019-05-28T17:22:22Z","author_association":"CONTRIBUTOR","body":"> Don't you need to change BaseClusterIntegrationTest to not start kafka etc. Or, is that a different PR?\r\n\r\nWe will let the integration tests run on the kafka implementation (pinot-integration-tests can still have a dependency on pinot-kafka-0.9.x). If we decide to remove the pinot-kafka module entirely out of the  pinot repo, then we can move it to use fakestream.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496610121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496622057","html_url":"https://github.com/apache/pinot/pull/3723#issuecomment-496622057","issue_url":"https://api.github.com/repos/apache/pinot/issues/3723","id":496622057,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjYyMjA1Nw==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T17:54:21Z","updated_at":"2019-05-28T17:54:21Z","author_association":"CONTRIBUTOR","body":"Upgraded libthrift to 0.12.0 so we could compile the java code generated by thrift 0.12.0.\r\nTested backward-compatibility that new libthrift could compile the java code generated by thrift 0.9.x.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496622057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496632786","html_url":"https://github.com/apache/pinot/pull/3723#issuecomment-496632786","issue_url":"https://api.github.com/repos/apache/pinot/issues/3723","id":496632786,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjYzMjc4Ng==","user":{"login":"snleee","id":27253407,"node_id":"MDQ6VXNlcjI3MjUzNDA3","avatar_url":"https://avatars.githubusercontent.com/u/27253407?v=4","gravatar_id":"","url":"https://api.github.com/users/snleee","html_url":"https://github.com/snleee","followers_url":"https://api.github.com/users/snleee/followers","following_url":"https://api.github.com/users/snleee/following{/other_user}","gists_url":"https://api.github.com/users/snleee/gists{/gist_id}","starred_url":"https://api.github.com/users/snleee/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snleee/subscriptions","organizations_url":"https://api.github.com/users/snleee/orgs","repos_url":"https://api.github.com/users/snleee/repos","events_url":"https://api.github.com/users/snleee/events{/privacy}","received_events_url":"https://api.github.com/users/snleee/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T18:23:30Z","updated_at":"2019-05-28T18:23:30Z","author_association":"CONTRIBUTOR","body":"@fx19880617 \r\nDoes `mvn clean` removes java files that are created and copied? \r\nAlso, please wait until we make sure that our internal tool supports installing thrift (I'm not sure if we can use `sudo` there). I will get back to you.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496632786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496634004","html_url":"https://github.com/apache/pinot/pull/4244#issuecomment-496634004","issue_url":"https://api.github.com/repos/apache/pinot/issues/4244","id":496634004,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjYzNDAwNA==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T18:26:33Z","updated_at":"2019-05-28T18:26:33Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4244?src=pr&el=h1) Report\n> Merging [#4244](https://codecov.io/gh/apache/incubator-pinot/pull/4244?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/fcfcd88266c163270169a1ffcfca3d61869c8e59?src=pr&el=desc) will **increase** coverage by `<.01%`.\n> The diff coverage is `n/a`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4244/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4244?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff              @@\n##             master    #4244      +/-   ##\n============================================\n+ Coverage     67.27%   67.28%   +<.01%     \n  Complexity       20       20              \n============================================\n  Files          1041     1041              \n  Lines         51514    51514              \n  Branches       7216     7216              \n============================================\n+ Hits          34657    34660       +3     \n- Misses        14501    14503       +2     \n+ Partials       2356     2351       -5\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4244?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...er/validation/BrokerResourceValidationManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL0Jyb2tlclJlc291cmNlVmFsaWRhdGlvbk1hbmFnZXIuamF2YQ==) | `25% <0%> (-56.25%)` | `0% <0%> (ø)` | |\n| [...he/pinot/core/query/pruner/ValidSegmentPruner.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9xdWVyeS9wcnVuZXIvVmFsaWRTZWdtZW50UHJ1bmVyLmphdmE=) | `57.14% <0%> (-28.58%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `69.56% <0%> (-13.05%)` | `0% <0%> (ø)` | |\n| [...pache/pinot/core/util/SortedRangeIntersection.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS91dGlsL1NvcnRlZFJhbmdlSW50ZXJzZWN0aW9uLmphdmE=) | `83.82% <0%> (-7.36%)` | `0% <0%> (ø)` | |\n| [.../impl/dictionary/LongOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvTG9uZ09mZkhlYXBNdXRhYmxlRGljdGlvbmFyeS5qYXZh) | `89.28% <0%> (-5.36%)` | `0% <0%> (ø)` | |\n| [...not/broker/broker/helix/ClusterChangeMediator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtYnJva2VyL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9icm9rZXIvYnJva2VyL2hlbGl4L0NsdXN0ZXJDaGFuZ2VNZWRpYXRvci5qYXZh) | `79.77% <0%> (-3.38%)` | `0% <0%> (ø)` | |\n| [...ller/validation/OfflineSegmentIntervalChecker.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci92YWxpZGF0aW9uL09mZmxpbmVTZWdtZW50SW50ZXJ2YWxDaGVja2VyLmphdmE=) | `29.87% <0%> (-2.6%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `73.21% <0%> (-1.79%)` | `0% <0%> (ø)` | |\n| [...va/org/apache/pinot/common/data/TimeFieldSpec.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vZGF0YS9UaW1lRmllbGRTcGVjLmphdmE=) | `92.59% <0%> (-1.24%)` | `0% <0%> (ø)` | |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `63.14% <0%> (-0.76%)` | `0% <0%> (ø)` | |\n| ... and [17 more](https://codecov.io/gh/apache/incubator-pinot/pull/4244/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4244?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4244?src=pr&el=footer). Last update [fcfcd88...27545ba](https://codecov.io/gh/apache/incubator-pinot/pull/4244?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496634004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496643715","html_url":"https://github.com/apache/pinot/pull/3723#issuecomment-496643715","issue_url":"https://api.github.com/repos/apache/pinot/issues/3723","id":496643715,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjY0MzcxNQ==","user":{"login":"xiangfu0","id":1202120,"node_id":"MDQ6VXNlcjEyMDIxMjA=","avatar_url":"https://avatars.githubusercontent.com/u/1202120?v=4","gravatar_id":"","url":"https://api.github.com/users/xiangfu0","html_url":"https://github.com/xiangfu0","followers_url":"https://api.github.com/users/xiangfu0/followers","following_url":"https://api.github.com/users/xiangfu0/following{/other_user}","gists_url":"https://api.github.com/users/xiangfu0/gists{/gist_id}","starred_url":"https://api.github.com/users/xiangfu0/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiangfu0/subscriptions","organizations_url":"https://api.github.com/users/xiangfu0/orgs","repos_url":"https://api.github.com/users/xiangfu0/repos","events_url":"https://api.github.com/users/xiangfu0/events{/privacy}","received_events_url":"https://api.github.com/users/xiangfu0/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T18:54:00Z","updated_at":"2019-05-28T18:59:47Z","author_association":"CONTRIBUTOR","body":"`mvn clean` will remove the generated java files, which means that it won't compile with `mvn clean install`. One option is to remove the thrift generation activation required property buildthrift.","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496643715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496646145","html_url":"https://github.com/apache/pinot/pull/4235#issuecomment-496646145","issue_url":"https://api.github.com/repos/apache/pinot/issues/4235","id":496646145,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjY0NjE0NQ==","user":{"login":"codecov-io","id":8655789,"node_id":"MDQ6VXNlcjg2NTU3ODk=","avatar_url":"https://avatars.githubusercontent.com/u/8655789?v=4","gravatar_id":"","url":"https://api.github.com/users/codecov-io","html_url":"https://github.com/codecov-io","followers_url":"https://api.github.com/users/codecov-io/followers","following_url":"https://api.github.com/users/codecov-io/following{/other_user}","gists_url":"https://api.github.com/users/codecov-io/gists{/gist_id}","starred_url":"https://api.github.com/users/codecov-io/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/codecov-io/subscriptions","organizations_url":"https://api.github.com/users/codecov-io/orgs","repos_url":"https://api.github.com/users/codecov-io/repos","events_url":"https://api.github.com/users/codecov-io/events{/privacy}","received_events_url":"https://api.github.com/users/codecov-io/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T19:01:08Z","updated_at":"2019-05-28T23:27:41Z","author_association":"NONE","body":"# [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4235?src=pr&el=h1) Report\n> Merging [#4235](https://codecov.io/gh/apache/incubator-pinot/pull/4235?src=pr&el=desc) into [master](https://codecov.io/gh/apache/incubator-pinot/commit/106c5a071c3cdffabf2d48c4c2de2255ca72038f?src=pr&el=desc) will **decrease** coverage by `0.07%`.\n> The diff coverage is `87.5%`.\n\n[![Impacted file tree graph](https://codecov.io/gh/apache/incubator-pinot/pull/4235/graphs/tree.svg?width=650&token=4ibza2ugkz&height=150&src=pr)](https://codecov.io/gh/apache/incubator-pinot/pull/4235?src=pr&el=tree)\n\n```diff\n@@             Coverage Diff             @@\n##             master   #4235      +/-   ##\n===========================================\n- Coverage     67.38%   67.3%   -0.08%     \n  Complexity       20      20              \n===========================================\n  Files          1041    1041              \n  Lines         51518   51534      +16     \n  Branches       7217    7220       +3     \n===========================================\n- Hits          34713   34687      -26     \n- Misses        14445   14479      +34     \n- Partials       2360    2368       +8\n```\n\n\n| [Impacted Files](https://codecov.io/gh/apache/incubator-pinot/pull/4235?src=pr&el=tree) | Coverage Δ | Complexity Δ | |\n|---|---|---|---|\n| [...org/apache/pinot/controller/ControllerStarter.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyU3RhcnRlci5qYXZh) | `68.09% <100%> (+0.63%)` | `0 <0> (ø)` | :arrow_down: |\n| [...va/org/apache/pinot/controller/ControllerConf.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9Db250cm9sbGVyQ29uZi5qYXZh) | `46.85% <100%> (+0.78%)` | `0 <0> (ø)` | :arrow_down: |\n| [...ntroller/helix/core/PinotHelixResourceManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL1Bpbm90SGVsaXhSZXNvdXJjZU1hbmFnZXIuamF2YQ==) | `63.33% <75%> (-0.2%)` | `0 <0> (ø)` | |\n| [...a/manager/realtime/RealtimeSegmentDataManager.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9kYXRhL21hbmFnZXIvcmVhbHRpbWUvUmVhbHRpbWVTZWdtZW50RGF0YU1hbmFnZXIuamF2YQ==) | `50% <0%> (-50%)` | `0% <0%> (ø)` | |\n| [...mpl/dictionary/DoubleOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT2ZmSGVhcE11dGFibGVEaWN0aW9uYXJ5LmphdmE=) | `66.07% <0%> (-17.86%)` | `0% <0%> (ø)` | |\n| [...pinot/core/operator/docidsets/OrBlockDocIdSet.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9vcGVyYXRvci9kb2NpZHNldHMvT3JCbG9ja0RvY0lkU2V0LmphdmE=) | `84.9% <0%> (-9.44%)` | `0% <0%> (ø)` | |\n| [...elix/core/relocation/RealtimeSegmentRelocator.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29udHJvbGxlci9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29udHJvbGxlci9oZWxpeC9jb3JlL3JlbG9jYXRpb24vUmVhbHRpbWVTZWdtZW50UmVsb2NhdG9yLmphdmE=) | `73.62% <0%> (-8.8%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/FloatOffHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRmxvYXRPZmZIZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `83.92% <0%> (-7.15%)` | `0% <0%> (ø)` | |\n| [.../apache/pinot/common/config/RealtimeTagConfig.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29tbW9uL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS9waW5vdC9jb21tb24vY29uZmlnL1JlYWx0aW1lVGFnQ29uZmlnLmphdmE=) | `93.33% <0%> (-6.67%)` | `0% <0%> (ø)` | |\n| [...impl/dictionary/DoubleOnHeapMutableDictionary.java](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree#diff-cGlub3QtY29yZS9zcmMvbWFpbi9qYXZhL29yZy9hcGFjaGUvcGlub3QvY29yZS9yZWFsdGltZS9pbXBsL2RpY3Rpb25hcnkvRG91YmxlT25IZWFwTXV0YWJsZURpY3Rpb25hcnkuamF2YQ==) | `69.56% <0%> (-6.53%)` | `0% <0%> (ø)` | |\n| ... and [22 more](https://codecov.io/gh/apache/incubator-pinot/pull/4235/diff?src=pr&el=tree-more) | |\n\n------\n\n[Continue to review full report at Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4235?src=pr&el=continue).\n> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)\n> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`\n> Powered by [Codecov](https://codecov.io/gh/apache/incubator-pinot/pull/4235?src=pr&el=footer). Last update [106c5a0...c002068](https://codecov.io/gh/apache/incubator-pinot/pull/4235?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).\n","reactions":{"url":"https://api.github.com/repos/apache/pinot/issues/comments/496646145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]