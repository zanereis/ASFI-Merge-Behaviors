[{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1486813735","html_url":"https://github.com/apache/iceberg/pull/7146#issuecomment-1486813735","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7146","id":1486813735,"node_id":"IC_kwDOCW7NX85Ynvon","user":{"login":"ajantha-bhat","id":5889404,"node_id":"MDQ6VXNlcjU4ODk0MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5889404?v=4","gravatar_id":"","url":"https://api.github.com/users/ajantha-bhat","html_url":"https://github.com/ajantha-bhat","followers_url":"https://api.github.com/users/ajantha-bhat/followers","following_url":"https://api.github.com/users/ajantha-bhat/following{/other_user}","gists_url":"https://api.github.com/users/ajantha-bhat/gists{/gist_id}","starred_url":"https://api.github.com/users/ajantha-bhat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ajantha-bhat/subscriptions","organizations_url":"https://api.github.com/users/ajantha-bhat/orgs","repos_url":"https://api.github.com/users/ajantha-bhat/repos","events_url":"https://api.github.com/users/ajantha-bhat/events{/privacy}","received_events_url":"https://api.github.com/users/ajantha-bhat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T12:39:09Z","updated_at":"2023-03-28T12:39:09Z","author_association":"MEMBER","body":"cc: @nastra, @Fokko  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1486813735/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1486818330","html_url":"https://github.com/apache/iceberg/pull/7146#issuecomment-1486818330","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7146","id":1486818330,"node_id":"IC_kwDOCW7NX85Ynwwa","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T12:42:30Z","updated_at":"2023-03-28T12:42:30Z","author_association":"CONTRIBUTOR","body":"I think we should first merge https://github.com/apache/iceberg/pull/7061 before getting this one in","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1486818330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1486913762","html_url":"https://github.com/apache/iceberg/issues/7225#issuecomment-1486913762","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7225","id":1486913762,"node_id":"IC_kwDOCW7NX85YoIDi","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T13:41:52Z","updated_at":"2023-03-28T13:41:52Z","author_association":"MEMBER","body":"1. Directories are not the source of truth for partition values . We only use the information from metadata.\n\n2. I believe this is already supported. I forget if we have a flag for enabling the behavior but we support it in imported files.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1486913762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1486964683","html_url":"https://github.com/apache/iceberg/pull/7144#issuecomment-1486964683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7144","id":1486964683,"node_id":"IC_kwDOCW7NX85YoUfL","user":{"login":"wangyinsheng","id":13392313,"node_id":"MDQ6VXNlcjEzMzkyMzEz","avatar_url":"https://avatars.githubusercontent.com/u/13392313?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyinsheng","html_url":"https://github.com/wangyinsheng","followers_url":"https://api.github.com/users/wangyinsheng/followers","following_url":"https://api.github.com/users/wangyinsheng/following{/other_user}","gists_url":"https://api.github.com/users/wangyinsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyinsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyinsheng/subscriptions","organizations_url":"https://api.github.com/users/wangyinsheng/orgs","repos_url":"https://api.github.com/users/wangyinsheng/repos","events_url":"https://api.github.com/users/wangyinsheng/events{/privacy}","received_events_url":"https://api.github.com/users/wangyinsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T14:07:50Z","updated_at":"2023-03-28T14:07:50Z","author_association":"CONTRIBUTOR","body":"> I did take another look and I don't think we need the changes in `TestTables`, because the tests will pass without those.\r\n\r\nyou're right, it not necessary. I used to compare the metadata between origin table and serializable table, then it will be needed. I have removed the changes, PTAL @nastra ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1486964683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487082622","html_url":"https://github.com/apache/iceberg/issues/6368#issuecomment-1487082622","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6368","id":1487082622,"node_id":"IC_kwDOCW7NX85YoxR-","user":{"login":"mcgray","id":1321966,"node_id":"MDQ6VXNlcjEzMjE5NjY=","avatar_url":"https://avatars.githubusercontent.com/u/1321966?v=4","gravatar_id":"","url":"https://api.github.com/users/mcgray","html_url":"https://github.com/mcgray","followers_url":"https://api.github.com/users/mcgray/followers","following_url":"https://api.github.com/users/mcgray/following{/other_user}","gists_url":"https://api.github.com/users/mcgray/gists{/gist_id}","starred_url":"https://api.github.com/users/mcgray/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mcgray/subscriptions","organizations_url":"https://api.github.com/users/mcgray/orgs","repos_url":"https://api.github.com/users/mcgray/repos","events_url":"https://api.github.com/users/mcgray/events{/privacy}","received_events_url":"https://api.github.com/users/mcgray/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T15:13:43Z","updated_at":"2023-03-28T15:13:43Z","author_association":"NONE","body":"We can still reproduce the issue even on 1.2.0.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487082622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487219851","html_url":"https://github.com/apache/iceberg/pull/7228#issuecomment-1487219851","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7228","id":1487219851,"node_id":"IC_kwDOCW7NX85YpSyL","user":{"login":"dpaani","id":5696806,"node_id":"MDQ6VXNlcjU2OTY4MDY=","avatar_url":"https://avatars.githubusercontent.com/u/5696806?v=4","gravatar_id":"","url":"https://api.github.com/users/dpaani","html_url":"https://github.com/dpaani","followers_url":"https://api.github.com/users/dpaani/followers","following_url":"https://api.github.com/users/dpaani/following{/other_user}","gists_url":"https://api.github.com/users/dpaani/gists{/gist_id}","starred_url":"https://api.github.com/users/dpaani/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dpaani/subscriptions","organizations_url":"https://api.github.com/users/dpaani/orgs","repos_url":"https://api.github.com/users/dpaani/repos","events_url":"https://api.github.com/users/dpaani/events{/privacy}","received_events_url":"https://api.github.com/users/dpaani/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T16:11:46Z","updated_at":"2023-03-28T16:11:46Z","author_association":"CONTRIBUTOR","body":"Hi Team,\r\n  Could you please help to review this PR. TIA\r\n\r\ncc : @flyrain @anuragmantri @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487219851/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487369017","html_url":"https://github.com/apache/iceberg/pull/7229#issuecomment-1487369017","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7229","id":1487369017,"node_id":"IC_kwDOCW7NX85Yp3M5","user":{"login":"haizhou-zhao","id":6187287,"node_id":"MDQ6VXNlcjYxODcyODc=","avatar_url":"https://avatars.githubusercontent.com/u/6187287?v=4","gravatar_id":"","url":"https://api.github.com/users/haizhou-zhao","html_url":"https://github.com/haizhou-zhao","followers_url":"https://api.github.com/users/haizhou-zhao/followers","following_url":"https://api.github.com/users/haizhou-zhao/following{/other_user}","gists_url":"https://api.github.com/users/haizhou-zhao/gists{/gist_id}","starred_url":"https://api.github.com/users/haizhou-zhao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/haizhou-zhao/subscriptions","organizations_url":"https://api.github.com/users/haizhou-zhao/orgs","repos_url":"https://api.github.com/users/haizhou-zhao/repos","events_url":"https://api.github.com/users/haizhou-zhao/events{/privacy}","received_events_url":"https://api.github.com/users/haizhou-zhao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T17:58:24Z","updated_at":"2023-03-28T17:58:24Z","author_association":"CONTRIBUTOR","body":"@Fokko Would be great if you can help review. Thank you!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487369017/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487569817","html_url":"https://github.com/apache/iceberg/pull/7223#issuecomment-1487569817","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7223","id":1487569817,"node_id":"IC_kwDOCW7NX85YqoOZ","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T20:45:49Z","updated_at":"2023-03-28T20:45:49Z","author_association":"MEMBER","body":"Thanks @nastra For cleaning that up!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487569817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487665688","html_url":"https://github.com/apache/iceberg/pull/6369#issuecomment-1487665688","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6369","id":1487665688,"node_id":"IC_kwDOCW7NX85Yq_oY","user":{"login":"ayushtkn","id":25608848,"node_id":"MDQ6VXNlcjI1NjA4ODQ4","avatar_url":"https://avatars.githubusercontent.com/u/25608848?v=4","gravatar_id":"","url":"https://api.github.com/users/ayushtkn","html_url":"https://github.com/ayushtkn","followers_url":"https://api.github.com/users/ayushtkn/followers","following_url":"https://api.github.com/users/ayushtkn/following{/other_user}","gists_url":"https://api.github.com/users/ayushtkn/gists{/gist_id}","starred_url":"https://api.github.com/users/ayushtkn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ayushtkn/subscriptions","organizations_url":"https://api.github.com/users/ayushtkn/orgs","repos_url":"https://api.github.com/users/ayushtkn/repos","events_url":"https://api.github.com/users/ayushtkn/events{/privacy}","received_events_url":"https://api.github.com/users/ayushtkn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T22:15:15Z","updated_at":"2023-03-28T22:15:15Z","author_association":"MEMBER","body":"I think you created : https://github.com/apache/iceberg/issues/7221\r\nSimilar to my previous one here:\r\nhttps://github.com/apache/iceberg/issues/6368\r\nMy first take was to bump this number up to 10k which I felt a safe number and was in a way inline with Hive limits, but the approach had concerns that it might be risky thing to do. I did validated couple of stuff but not in a state to say, ‘I guarantee it can’t cause any issue’ for folks migrating/upgrading from the version having older limits","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487665688/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487699994","html_url":"https://github.com/apache/iceberg/pull/7229#issuecomment-1487699994","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7229","id":1487699994,"node_id":"IC_kwDOCW7NX85YrIAa","user":{"login":"dramaticlly","id":5961173,"node_id":"MDQ6VXNlcjU5NjExNzM=","avatar_url":"https://avatars.githubusercontent.com/u/5961173?v=4","gravatar_id":"","url":"https://api.github.com/users/dramaticlly","html_url":"https://github.com/dramaticlly","followers_url":"https://api.github.com/users/dramaticlly/followers","following_url":"https://api.github.com/users/dramaticlly/following{/other_user}","gists_url":"https://api.github.com/users/dramaticlly/gists{/gist_id}","starred_url":"https://api.github.com/users/dramaticlly/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dramaticlly/subscriptions","organizations_url":"https://api.github.com/users/dramaticlly/orgs","repos_url":"https://api.github.com/users/dramaticlly/repos","events_url":"https://api.github.com/users/dramaticlly/events{/privacy}","received_events_url":"https://api.github.com/users/dramaticlly/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T22:44:47Z","updated_at":"2023-03-28T22:44:47Z","author_association":"CONTRIBUTOR","body":"Looks like we also did similar change in #4366, @rdblue and @danielcweeks if you can help review","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487699994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487722124","html_url":"https://github.com/apache/iceberg/issues/6564#issuecomment-1487722124","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6564","id":1487722124,"node_id":"IC_kwDOCW7NX85YrNaM","user":{"login":"corleyma","id":2080732,"node_id":"MDQ6VXNlcjIwODA3MzI=","avatar_url":"https://avatars.githubusercontent.com/u/2080732?v=4","gravatar_id":"","url":"https://api.github.com/users/corleyma","html_url":"https://github.com/corleyma","followers_url":"https://api.github.com/users/corleyma/followers","following_url":"https://api.github.com/users/corleyma/following{/other_user}","gists_url":"https://api.github.com/users/corleyma/gists{/gist_id}","starred_url":"https://api.github.com/users/corleyma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/corleyma/subscriptions","organizations_url":"https://api.github.com/users/corleyma/orgs","repos_url":"https://api.github.com/users/corleyma/repos","events_url":"https://api.github.com/users/corleyma/events{/privacy}","received_events_url":"https://api.github.com/users/corleyma/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T23:10:00Z","updated_at":"2023-03-28T23:10:00Z","author_association":"NONE","body":"> One thing we can use is directly leverage Java APIs using PY4J or JYPE to call the underlying API. This will reduce the maintenance at two places.\r\n\r\nFrom my perspective at least, any solution that makes the JVM a dependency for users of the Python API is a poor solution.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487722124/reactions","total_count":16,"+1":16,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487767835","html_url":"https://github.com/apache/iceberg/issues/5882#issuecomment-1487767835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5882","id":1487767835,"node_id":"IC_kwDOCW7NX85YrYkb","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T00:13:22Z","updated_at":"2023-03-29T00:13:22Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487767835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487767861","html_url":"https://github.com/apache/iceberg/issues/5876#issuecomment-1487767861","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5876","id":1487767861,"node_id":"IC_kwDOCW7NX85YrYk1","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T00:13:25Z","updated_at":"2023-03-29T00:13:25Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487767861/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487767880","html_url":"https://github.com/apache/iceberg/issues/5871#issuecomment-1487767880","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5871","id":1487767880,"node_id":"IC_kwDOCW7NX85YrYlI","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T00:13:27Z","updated_at":"2023-03-29T00:13:27Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1487767880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488001749","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1488001749","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1488001749,"node_id":"IC_kwDOCW7NX85YsRrV","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T06:11:42Z","updated_at":"2023-03-29T06:11:42Z","author_association":"CONTRIBUTOR","body":"@nastra benchmark results at [here](https://github.com/ConeyLiu/iceberg/actions/runs/4549932541)\r\n```\r\nBenchmark                                                                  Mode  Cnt  Score   Error  Units\r\nVectorizedReadFlatParquetDataBenchmark.readBigDecimalsIcebergVectorized5k    ss    5  9.512 ± 0.092   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readBigDecimalsSparkVectorized5k      ss    5  9.206 ± 0.145   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readDatesIcebergVectorized5k          ss    5  2.482 ± 0.187   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readDatesSparkVectorized5k            ss    5  2.492 ± 0.139   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readDecimalsIcebergVectorized5k       ss    5  5.154 ± 0.169   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readDecimalsSparkVectorized5k         ss    5  4.057 ± 0.079   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readDoublesIcebergVectorized5k        ss    5  4.546 ± 0.342   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readDoublesSparkVectorized5k          ss    5  3.897 ± 0.113   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readFloatsIcebergVectorized5k         ss    5  3.803 ± 0.096   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readFloatsSparkVectorized5k           ss    5  3.735 ± 0.185   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readIntegersIcebergVectorized5k       ss    5  4.021 ± 0.144   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readIntegersSparkVectorized5k         ss    5  3.493 ± 0.095   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readLongsIcebergVectorized5k          ss    5  4.056 ± 0.321   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readLongsSparkVectorized5k            ss    5  3.177 ± 0.214   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readStringsIcebergVectorized5k        ss    5  5.387 ± 0.089   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readStringsSparkVectorized5k          ss    5  6.683 ± 0.130   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readTimestampsIcebergVectorized5k     ss    5  2.283 ± 0.136   s/op\r\nVectorizedReadFlatParquetDataBenchmark.readTimestampsSparkVectorized5k       ss    5  2.208 ± 0.091   s/op\r\n```\r\n\r\n```\r\nBenchmark                                                                        Mode  Cnt   Score   Error  Units\r\nVectorizedReadParquetDecimalBenchmark.readDecimalsIcebergVectorized5k              ss    5  12.878 ± 0.512   s/op\r\nVectorizedReadParquetDecimalBenchmark.readDecimalsSparkVectorized5k                ss    5  11.764 ± 0.654   s/op\r\nVectorizedReadParquetDecimalBenchmark.readIntBackedDecimalsIcebergVectorized5k     ss    5   2.711 ± 0.214   s/op\r\nVectorizedReadParquetDecimalBenchmark.readIntBackedDecimalsSparkVectorized5k       ss    5   2.698 ± 0.165   s/op\r\nVectorizedReadParquetDecimalBenchmark.readLongBackedDecimalsIcebergVectorized5k    ss    5   4.728 ± 0.310   s/op\r\nVectorizedReadParquetDecimalBenchmark.readLongBackedDecimalsSparkVectorized5k      ss    5   5.356 ± 0.320   s/op\r\n```\r\n\r\n> can we remove IntBackedDecimalBatchReader / LongBackedDecimalBatchReader / FixedLengthDecimalBatchReader / IntBackedDecimalPageReader / LongBackedDecimalPageReader?\r\n\r\nThose methods/classes are public, is it safe to delete them? Or mark them as deprecated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488001749/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488030849","html_url":"https://github.com/apache/iceberg/pull/6440#issuecomment-1488030849","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6440","id":1488030849,"node_id":"IC_kwDOCW7NX85YsYyB","user":{"login":"xwmr-max","id":61017037,"node_id":"MDQ6VXNlcjYxMDE3MDM3","avatar_url":"https://avatars.githubusercontent.com/u/61017037?v=4","gravatar_id":"","url":"https://api.github.com/users/xwmr-max","html_url":"https://github.com/xwmr-max","followers_url":"https://api.github.com/users/xwmr-max/followers","following_url":"https://api.github.com/users/xwmr-max/following{/other_user}","gists_url":"https://api.github.com/users/xwmr-max/gists{/gist_id}","starred_url":"https://api.github.com/users/xwmr-max/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xwmr-max/subscriptions","organizations_url":"https://api.github.com/users/xwmr-max/orgs","repos_url":"https://api.github.com/users/xwmr-max/repos","events_url":"https://api.github.com/users/xwmr-max/events{/privacy}","received_events_url":"https://api.github.com/users/xwmr-max/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T06:45:54Z","updated_at":"2023-03-29T06:45:54Z","author_association":"CONTRIBUTOR","body":"please review @szehon-ho ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488030849/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488056139","html_url":"https://github.com/apache/iceberg/issues/5882#issuecomment-1488056139","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5882","id":1488056139,"node_id":"IC_kwDOCW7NX85Yse9L","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T07:07:53Z","updated_at":"2023-03-29T07:07:53Z","author_association":"COLLABORATOR","body":"Merged by #6074 ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488056139/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488097053","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1488097053","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1488097053,"node_id":"IC_kwDOCW7NX85Yso8d","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T07:43:07Z","updated_at":"2023-03-29T07:43:07Z","author_association":"CONTRIBUTOR","body":"Those classes should be safe to delete. Also there are no API guarantees on `iceberg-arrow`, but just in case we could deprecate them and remove them in the next minor release, wdyt @jackye1995?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488097053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488170491","html_url":"https://github.com/apache/iceberg/issues/7221#issuecomment-1488170491","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7221","id":1488170491,"node_id":"IC_kwDOCW7NX85Ys637","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T08:38:21Z","updated_at":"2023-03-29T08:38:21Z","author_association":"COLLABORATOR","body":"I believe this is a duplicate of https://github.com/apache/iceberg/issues/6368\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488170491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488539049","html_url":"https://github.com/apache/iceberg/pull/5837#issuecomment-1488539049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5837","id":1488539049,"node_id":"IC_kwDOCW7NX85YuU2p","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T12:46:45Z","updated_at":"2023-03-29T12:46:45Z","author_association":"COLLABORATOR","body":"Oops, I did a rebase with master and accidentally closed this PR. Let me re-open","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488539049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488591357","html_url":"https://github.com/apache/iceberg/pull/6962#issuecomment-1488591357","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6962","id":1488591357,"node_id":"IC_kwDOCW7NX85Yuhn9","user":{"login":"yabola","id":31469905,"node_id":"MDQ6VXNlcjMxNDY5OTA1","avatar_url":"https://avatars.githubusercontent.com/u/31469905?v=4","gravatar_id":"","url":"https://api.github.com/users/yabola","html_url":"https://github.com/yabola","followers_url":"https://api.github.com/users/yabola/followers","following_url":"https://api.github.com/users/yabola/following{/other_user}","gists_url":"https://api.github.com/users/yabola/gists{/gist_id}","starred_url":"https://api.github.com/users/yabola/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yabola/subscriptions","organizations_url":"https://api.github.com/users/yabola/orgs","repos_url":"https://api.github.com/users/yabola/repos","events_url":"https://api.github.com/users/yabola/events{/privacy}","received_events_url":"https://api.github.com/users/yabola/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T13:15:41Z","updated_at":"2023-03-29T13:15:41Z","author_association":"CONTRIBUTOR","body":"@nastra emmm, looks like there are no more comments, could you help take a look again?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488591357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488724330","html_url":"https://github.com/apache/iceberg/pull/5837#issuecomment-1488724330","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5837","id":1488724330,"node_id":"IC_kwDOCW7NX85YvCFq","user":{"login":"gaborkaszab","id":29145491,"node_id":"MDQ6VXNlcjI5MTQ1NDkx","avatar_url":"https://avatars.githubusercontent.com/u/29145491?v=4","gravatar_id":"","url":"https://api.github.com/users/gaborkaszab","html_url":"https://github.com/gaborkaszab","followers_url":"https://api.github.com/users/gaborkaszab/followers","following_url":"https://api.github.com/users/gaborkaszab/following{/other_user}","gists_url":"https://api.github.com/users/gaborkaszab/gists{/gist_id}","starred_url":"https://api.github.com/users/gaborkaszab/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gaborkaszab/subscriptions","organizations_url":"https://api.github.com/users/gaborkaszab/orgs","repos_url":"https://api.github.com/users/gaborkaszab/repos","events_url":"https://api.github.com/users/gaborkaszab/events{/privacy}","received_events_url":"https://api.github.com/users/gaborkaszab/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T14:22:50Z","updated_at":"2023-03-29T14:22:50Z","author_association":"COLLABORATOR","body":"I did a rebase because there has been some conflicts. Could we somehow get this PR going? @nastra already took a look few months ago. @rdblue @danielcweeks Could you please take a look?\r\n\r\nJust looping in more committers, hoping that someone might have some spare cycles, cc @pvary @szehon-ho @RussellSpitzer ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488724330/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488735040","html_url":"https://github.com/apache/iceberg/issues/7237#issuecomment-1488735040","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7237","id":1488735040,"node_id":"IC_kwDOCW7NX85YvEtA","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T14:28:46Z","updated_at":"2023-03-29T14:28:46Z","author_association":"MEMBER","body":"What files did you expect to be rewritten? Did you check the docs? For example there are several parameters that effect whether or not a partition will have files rewritten. See\r\n\r\nhttps://iceberg.apache.org/javadoc/1.2.0/org/apache/iceberg/actions/BinPackStrategy.html#field.summary","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488735040/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488761636","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1488761636","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1488761636,"node_id":"IC_kwDOCW7NX85YvLMk","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T14:43:03Z","updated_at":"2023-03-29T14:43:03Z","author_association":"CONTRIBUTOR","body":"Yes I agree, we can just mark it as deprecated and remove it after the next release just to follow the process","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488761636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488774635","html_url":"https://github.com/apache/iceberg/issues/7237#issuecomment-1488774635","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7237","id":1488774635,"node_id":"IC_kwDOCW7NX85YvOXr","user":{"login":"liuzx8888","id":10862577,"node_id":"MDQ6VXNlcjEwODYyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/10862577?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzx8888","html_url":"https://github.com/liuzx8888","followers_url":"https://api.github.com/users/liuzx8888/followers","following_url":"https://api.github.com/users/liuzx8888/following{/other_user}","gists_url":"https://api.github.com/users/liuzx8888/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzx8888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzx8888/subscriptions","organizations_url":"https://api.github.com/users/liuzx8888/orgs","repos_url":"https://api.github.com/users/liuzx8888/repos","events_url":"https://api.github.com/users/liuzx8888/events{/privacy}","received_events_url":"https://api.github.com/users/liuzx8888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T14:50:16Z","updated_at":"2023-03-29T14:50:16Z","author_association":"NONE","body":"@RussellSpitzer \r\nI came with reference to this document [https://iceberg.apache.org/docs/latest/spark-procedures/](url)\r\n\r\n`CALL catalog_name.system.remove_orphan_files(table => 'db.sample', location => 'tablelocation/data')`\r\n\r\n![image](https://user-images.githubusercontent.com/10862577/228577888-bd6bddbf-ad92-4413-b54a-656473e62880.png)\r\n\r\n\r\nMy understanding is that after executing this script, the corresponding table file will be sorted according to Zorder to regenerate new file data and metadata, but I looked at the file corresponding to hdfs, the file time has not changed, I am new to Iceberg, maybe there is something I did not understand?\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488774635/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488787624","html_url":"https://github.com/apache/iceberg/issues/7237#issuecomment-1488787624","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7237","id":1488787624,"node_id":"IC_kwDOCW7NX85YvRio","user":{"login":"RussellSpitzer","id":413025,"node_id":"MDQ6VXNlcjQxMzAyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/413025?v=4","gravatar_id":"","url":"https://api.github.com/users/RussellSpitzer","html_url":"https://github.com/RussellSpitzer","followers_url":"https://api.github.com/users/RussellSpitzer/followers","following_url":"https://api.github.com/users/RussellSpitzer/following{/other_user}","gists_url":"https://api.github.com/users/RussellSpitzer/gists{/gist_id}","starred_url":"https://api.github.com/users/RussellSpitzer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussellSpitzer/subscriptions","organizations_url":"https://api.github.com/users/RussellSpitzer/orgs","repos_url":"https://api.github.com/users/RussellSpitzer/repos","events_url":"https://api.github.com/users/RussellSpitzer/events{/privacy}","received_events_url":"https://api.github.com/users/RussellSpitzer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T14:56:30Z","updated_at":"2023-03-29T14:56:30Z","author_association":"MEMBER","body":"Yes, right below that table is a list of classes and all of their other options. By default, none of the optimize commands will rewrite the entire table. They only touch files which pass their filters, please read the link I added above. \r\n\r\nIf you want to rewrite_all, look carefully and you will see that is one of the options.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488787624/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488860601","html_url":"https://github.com/apache/iceberg/pull/7108#issuecomment-1488860601","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7108","id":1488860601,"node_id":"IC_kwDOCW7NX85YvjW5","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T15:38:56Z","updated_at":"2023-03-29T15:38:56Z","author_association":"CONTRIBUTOR","body":"> Continue to use the gen-files plugin to generate documentation pages automatically, but exclude Python files without docstrings or ones that are not significant (such as zstd, which you mentioned).\r\n\r\nhas my strong preference, doing it manually is not a scalable solution :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488860601/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488904049","html_url":"https://github.com/apache/iceberg/issues/7237#issuecomment-1488904049","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7237","id":1488904049,"node_id":"IC_kwDOCW7NX85Yvt9x","user":{"login":"liuzx8888","id":10862577,"node_id":"MDQ6VXNlcjEwODYyNTc3","avatar_url":"https://avatars.githubusercontent.com/u/10862577?v=4","gravatar_id":"","url":"https://api.github.com/users/liuzx8888","html_url":"https://github.com/liuzx8888","followers_url":"https://api.github.com/users/liuzx8888/followers","following_url":"https://api.github.com/users/liuzx8888/following{/other_user}","gists_url":"https://api.github.com/users/liuzx8888/gists{/gist_id}","starred_url":"https://api.github.com/users/liuzx8888/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liuzx8888/subscriptions","organizations_url":"https://api.github.com/users/liuzx8888/orgs","repos_url":"https://api.github.com/users/liuzx8888/repos","events_url":"https://api.github.com/users/liuzx8888/events{/privacy}","received_events_url":"https://api.github.com/users/liuzx8888/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T16:10:08Z","updated_at":"2023-03-29T16:10:08Z","author_association":"NONE","body":"@RussellSpitzer  Thank you very much,add option it can work","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1488904049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489168643","html_url":"https://github.com/apache/iceberg/pull/6919#issuecomment-1489168643","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6919","id":1489168643,"node_id":"IC_kwDOCW7NX85YwukD","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T19:18:05Z","updated_at":"2023-03-29T19:18:05Z","author_association":"CONTRIBUTOR","body":"Thank you, @karuppayya! Thanks for reviewing, @nastra!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489168643/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489170083","html_url":"https://github.com/apache/iceberg/pull/7177#issuecomment-1489170083","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7177","id":1489170083,"node_id":"IC_kwDOCW7NX85Ywu6j","user":{"login":"aokolnychyi","id":6235869,"node_id":"MDQ6VXNlcjYyMzU4Njk=","avatar_url":"https://avatars.githubusercontent.com/u/6235869?v=4","gravatar_id":"","url":"https://api.github.com/users/aokolnychyi","html_url":"https://github.com/aokolnychyi","followers_url":"https://api.github.com/users/aokolnychyi/followers","following_url":"https://api.github.com/users/aokolnychyi/following{/other_user}","gists_url":"https://api.github.com/users/aokolnychyi/gists{/gist_id}","starred_url":"https://api.github.com/users/aokolnychyi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/aokolnychyi/subscriptions","organizations_url":"https://api.github.com/users/aokolnychyi/orgs","repos_url":"https://api.github.com/users/aokolnychyi/repos","events_url":"https://api.github.com/users/aokolnychyi/events{/privacy}","received_events_url":"https://api.github.com/users/aokolnychyi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-29T19:19:20Z","updated_at":"2023-03-29T19:19:20Z","author_association":"CONTRIBUTOR","body":"Thanks for reviewing, @flyrain @amogh-jahagirdar!","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489170083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489507866","html_url":"https://github.com/apache/iceberg/issues/5892#issuecomment-1489507866","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5892","id":1489507866,"node_id":"IC_kwDOCW7NX85YyBYa","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T00:11:41Z","updated_at":"2023-03-30T00:11:41Z","author_association":"NONE","body":"This issue has been automatically marked as stale because it has been open for 180 days with no activity. It will be closed in next 14 days if no further activity occurs. To permanently prevent this issue from being considered stale, add the label 'not-stale', but commenting on the issue is preferred when possible.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489507866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489513438","html_url":"https://github.com/apache/iceberg/pull/7004#issuecomment-1489513438","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7004","id":1489513438,"node_id":"IC_kwDOCW7NX85YyCve","user":{"login":"manisin","id":21346391,"node_id":"MDQ6VXNlcjIxMzQ2Mzkx","avatar_url":"https://avatars.githubusercontent.com/u/21346391?v=4","gravatar_id":"","url":"https://api.github.com/users/manisin","html_url":"https://github.com/manisin","followers_url":"https://api.github.com/users/manisin/followers","following_url":"https://api.github.com/users/manisin/following{/other_user}","gists_url":"https://api.github.com/users/manisin/gists{/gist_id}","starred_url":"https://api.github.com/users/manisin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manisin/subscriptions","organizations_url":"https://api.github.com/users/manisin/orgs","repos_url":"https://api.github.com/users/manisin/repos","events_url":"https://api.github.com/users/manisin/events{/privacy}","received_events_url":"https://api.github.com/users/manisin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T00:20:22Z","updated_at":"2023-03-30T00:20:22Z","author_association":"CONTRIBUTOR","body":"> @danielcweeks could you review this one please?\r\n\r\n@danielcweeks , gentle ping to review this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489513438/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489513710","html_url":"https://github.com/apache/iceberg/pull/7176#issuecomment-1489513710","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7176","id":1489513710,"node_id":"IC_kwDOCW7NX85YyCzu","user":{"login":"manisin","id":21346391,"node_id":"MDQ6VXNlcjIxMzQ2Mzkx","avatar_url":"https://avatars.githubusercontent.com/u/21346391?v=4","gravatar_id":"","url":"https://api.github.com/users/manisin","html_url":"https://github.com/manisin","followers_url":"https://api.github.com/users/manisin/followers","following_url":"https://api.github.com/users/manisin/following{/other_user}","gists_url":"https://api.github.com/users/manisin/gists{/gist_id}","starred_url":"https://api.github.com/users/manisin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/manisin/subscriptions","organizations_url":"https://api.github.com/users/manisin/orgs","repos_url":"https://api.github.com/users/manisin/repos","events_url":"https://api.github.com/users/manisin/events{/privacy}","received_events_url":"https://api.github.com/users/manisin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T00:20:51Z","updated_at":"2023-03-30T00:20:51Z","author_association":"CONTRIBUTOR","body":"@danielcweeks  gentle ping to review this","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489513710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489527262","html_url":"https://github.com/apache/iceberg/pull/7144#issuecomment-1489527262","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7144","id":1489527262,"node_id":"IC_kwDOCW7NX85YyGHe","user":{"login":"wangyinsheng","id":13392313,"node_id":"MDQ6VXNlcjEzMzkyMzEz","avatar_url":"https://avatars.githubusercontent.com/u/13392313?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyinsheng","html_url":"https://github.com/wangyinsheng","followers_url":"https://api.github.com/users/wangyinsheng/followers","following_url":"https://api.github.com/users/wangyinsheng/following{/other_user}","gists_url":"https://api.github.com/users/wangyinsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyinsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyinsheng/subscriptions","organizations_url":"https://api.github.com/users/wangyinsheng/orgs","repos_url":"https://api.github.com/users/wangyinsheng/repos","events_url":"https://api.github.com/users/wangyinsheng/events{/privacy}","received_events_url":"https://api.github.com/users/wangyinsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T00:45:32Z","updated_at":"2023-03-30T00:45:32Z","author_association":"CONTRIBUTOR","body":"PTAL @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489527262/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489590286","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1489590286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1489590286,"node_id":"IC_kwDOCW7NX85YyVgO","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T02:22:49Z","updated_at":"2023-03-30T02:22:49Z","author_association":"CONTRIBUTOR","body":"Thanks, @nastra @jackye1995 for your time. Those public methods/classes are marked as deprecated.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489590286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489598133","html_url":"https://github.com/apache/iceberg/issues/5515#issuecomment-1489598133","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5515","id":1489598133,"node_id":"IC_kwDOCW7NX85YyXa1","user":{"login":"xiongliang1989","id":24448931,"node_id":"MDQ6VXNlcjI0NDQ4OTMx","avatar_url":"https://avatars.githubusercontent.com/u/24448931?v=4","gravatar_id":"","url":"https://api.github.com/users/xiongliang1989","html_url":"https://github.com/xiongliang1989","followers_url":"https://api.github.com/users/xiongliang1989/followers","following_url":"https://api.github.com/users/xiongliang1989/following{/other_user}","gists_url":"https://api.github.com/users/xiongliang1989/gists{/gist_id}","starred_url":"https://api.github.com/users/xiongliang1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xiongliang1989/subscriptions","organizations_url":"https://api.github.com/users/xiongliang1989/orgs","repos_url":"https://api.github.com/users/xiongliang1989/repos","events_url":"https://api.github.com/users/xiongliang1989/events{/privacy}","received_events_url":"https://api.github.com/users/xiongliang1989/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T02:35:46Z","updated_at":"2023-03-30T02:59:25Z","author_association":"NONE","body":"Query engine\r\nSpark 3.1.1, Iceberg 1.2.0\r\n\r\nQuestion\r\nHi all.\r\nI created iceberg table using hadoop catalog by java code like this:\r\n```\r\n//  get sparkSession；\r\nSparkSession session = SparkSession\r\n\t.builder()\r\n\t.appName(\"spark-iceberg\")\r\n\t.config(\"spark.sql.extensions\", \"org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\")\r\n\t.config(\"spark.sql.catalog.local\", \"org.apache.iceberg.spark.SparkCatalog\")\r\n\t.config(\"spark.sql.catalog.local.type\", \"hadoop\")\r\n\t.config(\"spark.sql.catalog.local.warehouse\", \"hdfs://bigdata/bigdata/warehouse\")\r\n\t.master(\"local[1]\")\r\n\t.getOrCreate();\r\nConfiguration hadoopConf = new Configuration();\r\nHadoopCatalog catalog = new HadoopCatalog(hadoopConf, \"hdfs://bigdata/bigdata/warehouse\");\r\nTableIdentifier name = TableIdentifier.of(\"db\", \"n1_log\");\r\n// create table\r\nif (!catalog.tableExists(name)) {\r\nsession.sql(\"CREATE table local.db.n1_log (ran_ip string, ran_port int, amf_ip string, amf_port int, procedure_id int, procedure_bitmap int,cause_type int, cause_value int, ue_id_type  int, ue_id string, start_time long,end_time long, ran_ue_ngap_id string, amf_ue_ngap_id string, switch_off int, date_time string) USING iceberg PARTITIONED BY (date_time) TBLPROPERTIES ('write.metadata.delete-after-commit.enabled'='true', 'write.metadata.previous-versions-max'='1')\");\r\n}\r\n// get Data source\r\nDataset<Row> data = session.readStream()\r\n\t.format(\"kafka\")\r\n\t.option(\"kafka.bootstrap.servers\", \"127.0.0.1:9092\")\r\n\t.option(\"kafka.group.id\", \"groupId\")\r\n\t.option(\"startingOffsets\", \"latest\")\r\n\t.option(\"failOnDataLoss\", \"false\")\r\n\t.option(\"maxOffsetsPerTrigger\", \"15000000\")\r\n\t.option(\"subscribe\", \"n1_log\")\r\n\t.load()\r\n\t.selectExpr(\"CAST(value AS STRING)\")\r\n\t.toDF(\"data\")\r\n\t.map(new N1LogMapFunction(),\r\n\t\t\tEncoders.bean(N1Log.class))\r\n\t.select(\"ranIp\", \"ranPort\", \"amfIp\", \"amfPort\", \"procedureId\", \"procedureBitmap\", \"causeType\", \"causeValue\", \"ueIdType\", \"ueId\", \"startTime\", \"endTime\", \"ranUeNgapId\", \"amfUeNgapId\", \"switchOff\", \"dateTime\")\r\n\t.toDF(\"ran_ip\", \"ran_port\", \"amf_ip\", \"amf_port\", \"procedure_id\", \"procedure_bitmap\", \"cause_type\", \"cause_value\", \"ue_id_type\", \"ue_id\", \"start_time\", \"end_time\", \"ran_ue_ngap_id\", \"amf_ue_ngap_id\", \"switch_off\", \"date_time\");\r\n// write\r\nStreamingQuery query = data.writeStream()\r\n\t.format(\"iceberg\")\r\n\t.outputMode(\"append\")\r\n\t.partitionBy(\"date_time\")\r\n\t.trigger(Trigger.ProcessingTime(60, TimeUnit.SECONDS))\r\n\t.option(\"path\", \"hdfs://bigdata/bigdata/warehouse/db/n1_log\")\r\n\t.option(\"checkpointLocation\", \"hdfs://bigdata/bigdata/checkpointLocation/n1_log\")\r\n\t.start();\r\nquery.awaitTermination();\r\nquery.stop();\r\n```\r\n\r\nI can query data from iceberg table; But I use the small file merge function, get some error;\r\n```\r\nSparkSession session = SparkSession\r\n\t\t.builder()\r\n\t\t.appName(\"spark-iceberg\")\r\n\t\t.config(\"spark.sql.extensions\", \"org.apache.iceberg.spark.extensions.IcebergSparkSessionExtensions\")\r\n\t\t.config(\"spark.sql.iceberg.handle-timestamp-without-timezone\", \"true\")\r\n\t\t.config(\"spark.sql.catalog.local\", \"org.apache.iceberg.spark.SparkCatalog\")\r\n\t\t.config(\"spark.sql.catalog.local.type\", \"hadoop\")\r\n\t\t.config(\"spark.sql.catalog.local.warehouse\", \"hdfs://bigdata/bigdata/warehouse\")\r\n\t\t.master(\"local[1]\")\r\n\t\t.getOrCreate();\r\nHadoopCatalog hadoopCatalog = new HadoopCatalog(new Configuration(), \"hdfs://bigdata/bigdata/warehouse\");\r\nTable table = hadoopCatalog.loadTable(TableIdentifier.of(\"db\", \"n1_log\"));\r\nSparkActions.get(session)\r\n\t\t\t.rewriteDataFiles(table)\r\n\t\t\t.filter(Expressions.equal(\"date_time\", \"2023-03-30\"))\r\n\t\t\t.option(\"target-file-size-bytes\", Long.toString(500 * 1024 * 1024))\r\n\t\t\t.execute();\r\n```\r\n\r\nAfter I run the code, get the error:\r\n```\r\n23/03/30 10:32:38 WARN Query: Query for candidates of org.apache.hadoop.hive.metastore.model.MPartitionColumnStatistics and subclasses resulted in no possible candidates\r\nRequired table missing : \"CDS\" in Catalog \"\" Schema \"\". DataNucleus requires this table to perform its persistence operations. Either your MetaData is incorrect, or you need to enable \"datanucleus.schema.autoCreateTables\"\r\norg.datanucleus.store.rdbms.exceptions.MissingTableException: Required table missing : \"CDS\" in Catalog \"\" Schema \"\". DataNucleus requires this table to perform its persistence operations. Either your MetaData is incorrect, or you need to enable \"datanucleus.schema.autoCreateTables\"\r\n\r\n23/03/30 10:32:38 WARN MetaStoreDirectSql: Self-test query [select \"DB_ID\" from \"DBS\"] failed; direct SQL is disabled\r\njavax.jdo.JDODataStoreException: Error executing SQL query \"select \"DB_ID\" from \"DBS\"\".\r\n\r\nNestedThrowablesStackTrace:\r\njava.sql.SQLSyntaxErrorException: Table/View 'DBS' does not exist.\r\n```\r\nCould you give me some help?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489598133/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489665872","html_url":"https://github.com/apache/iceberg/pull/7240#issuecomment-1489665872","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7240","id":1489665872,"node_id":"IC_kwDOCW7NX85Yyn9Q","user":{"login":"xloya","id":26177232,"node_id":"MDQ6VXNlcjI2MTc3MjMy","avatar_url":"https://avatars.githubusercontent.com/u/26177232?v=4","gravatar_id":"","url":"https://api.github.com/users/xloya","html_url":"https://github.com/xloya","followers_url":"https://api.github.com/users/xloya/followers","following_url":"https://api.github.com/users/xloya/following{/other_user}","gists_url":"https://api.github.com/users/xloya/gists{/gist_id}","starred_url":"https://api.github.com/users/xloya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xloya/subscriptions","organizations_url":"https://api.github.com/users/xloya/orgs","repos_url":"https://api.github.com/users/xloya/repos","events_url":"https://api.github.com/users/xloya/events{/privacy}","received_events_url":"https://api.github.com/users/xloya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T04:16:33Z","updated_at":"2023-03-30T04:18:10Z","author_association":"CONTRIBUTOR","body":"Another improve method is to close it only in the **CALL Procedure**, because a new thread pool is created every time in the **Procedure** like this:  \r\n```\r\n  protected ExecutorService executorService(int threadPoolSize, String nameFormat) {\r\n    Preconditions.checkArgument(\r\n        executorService == null, \"Cannot create a new executor service, one already exists.\");\r\n    Preconditions.checkArgument(\r\n        nameFormat != null, \"Cannot create a service with null nameFormat arg\");\r\n    this.executorService =\r\n        MoreExecutors.getExitingExecutorService(\r\n            (ThreadPoolExecutor)\r\n                Executors.newFixedThreadPool(\r\n                    threadPoolSize,\r\n                    new ThreadFactoryBuilder()\r\n                        .setDaemon(true)\r\n                        .setNameFormat(nameFormat + \"-%d\")\r\n                        .build()));\r\n\r\n    return executorService;\r\n  }\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489665872/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489762138","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1489762138","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1489762138,"node_id":"IC_kwDOCW7NX85Yy_da","user":{"login":"gong","id":9883232,"node_id":"MDQ6VXNlcjk4ODMyMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9883232?v=4","gravatar_id":"","url":"https://api.github.com/users/gong","html_url":"https://github.com/gong","followers_url":"https://api.github.com/users/gong/followers","following_url":"https://api.github.com/users/gong/following{/other_user}","gists_url":"https://api.github.com/users/gong/gists{/gist_id}","starred_url":"https://api.github.com/users/gong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gong/subscriptions","organizations_url":"https://api.github.com/users/gong/orgs","repos_url":"https://api.github.com/users/gong/repos","events_url":"https://api.github.com/users/gong/events{/privacy}","received_events_url":"https://api.github.com/users/gong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T06:25:06Z","updated_at":"2023-03-30T06:25:06Z","author_association":"NONE","body":"@openinx hello, could you help me review it ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489762138/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489927382","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1489927382","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1489927382,"node_id":"IC_kwDOCW7NX85YznzW","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T08:46:21Z","updated_at":"2023-03-30T08:46:21Z","author_association":"CONTRIBUTOR","body":"@ConeyLiu I think we should also deprecate ` IntBackedDecimalPageReader / LongBackedDecimalPageReader`","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489927382/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489933400","html_url":"https://github.com/apache/iceberg/issues/7110#issuecomment-1489933400","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7110","id":1489933400,"node_id":"IC_kwDOCW7NX85YzpRY","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T08:50:36Z","updated_at":"2023-03-30T08:50:36Z","author_association":"CONTRIBUTOR","body":"This is useful, and we can try to implement it.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489933400/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489977446","html_url":"https://github.com/apache/iceberg/pull/7240#issuecomment-1489977446","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7240","id":1489977446,"node_id":"IC_kwDOCW7NX85Yz0Bm","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T09:21:53Z","updated_at":"2023-03-30T09:21:53Z","author_association":"CONTRIBUTOR","body":"Nice catch.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1489977446/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490104289","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1490104289","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1490104289,"node_id":"IC_kwDOCW7NX85Y0S_h","user":{"login":"denniean","id":1141643,"node_id":"MDQ6VXNlcjExNDE2NDM=","avatar_url":"https://avatars.githubusercontent.com/u/1141643?v=4","gravatar_id":"","url":"https://api.github.com/users/denniean","html_url":"https://github.com/denniean","followers_url":"https://api.github.com/users/denniean/followers","following_url":"https://api.github.com/users/denniean/following{/other_user}","gists_url":"https://api.github.com/users/denniean/gists{/gist_id}","starred_url":"https://api.github.com/users/denniean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denniean/subscriptions","organizations_url":"https://api.github.com/users/denniean/orgs","repos_url":"https://api.github.com/users/denniean/repos","events_url":"https://api.github.com/users/denniean/events{/privacy}","received_events_url":"https://api.github.com/users/denniean/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T11:01:10Z","updated_at":"2023-03-30T11:01:10Z","author_association":"NONE","body":"+1 for Rust SDK. Are there any plans for it already in the Iceberg's roadmap? I could join someone and put some effort into working on it. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490104289/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490106497","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1490106497","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1490106497,"node_id":"IC_kwDOCW7NX85Y0TiB","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T11:02:55Z","updated_at":"2023-03-30T11:02:55Z","author_association":"CONTRIBUTOR","body":"@nastra updated, and also deprecate `FixedLengthDecimalPageReader`.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490106497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490141983","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1490141983","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1490141983,"node_id":"IC_kwDOCW7NX85Y0cMf","user":{"login":"JanKaul","id":19823005,"node_id":"MDQ6VXNlcjE5ODIzMDA1","avatar_url":"https://avatars.githubusercontent.com/u/19823005?v=4","gravatar_id":"","url":"https://api.github.com/users/JanKaul","html_url":"https://github.com/JanKaul","followers_url":"https://api.github.com/users/JanKaul/followers","following_url":"https://api.github.com/users/JanKaul/following{/other_user}","gists_url":"https://api.github.com/users/JanKaul/gists{/gist_id}","starred_url":"https://api.github.com/users/JanKaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JanKaul/subscriptions","organizations_url":"https://api.github.com/users/JanKaul/orgs","repos_url":"https://api.github.com/users/JanKaul/repos","events_url":"https://api.github.com/users/JanKaul/events{/privacy}","received_events_url":"https://api.github.com/users/JanKaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T11:31:23Z","updated_at":"2023-03-30T11:33:06Z","author_association":"NONE","body":"I have created a new repo https://github.com/JanKaul/iceberg-rust that I'm actively working on. It supports reading and writing of metadata, manifest and data files as well as preliminary read support for Datafusion.\n\nFor those interested in a C++ SDK, I created C bindings for the rust SDK at https://github.com/JanKaul/iceberg-rust/blob/main/iceberg-c/README.md.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490141983/reactions","total_count":6,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":5,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490151218","html_url":"https://github.com/apache/iceberg/issues/6488#issuecomment-1490151218","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6488","id":1490151218,"node_id":"IC_kwDOCW7NX85Y0ecy","user":{"login":"e-rudic","id":93654714,"node_id":"U_kgDOBZUOug","avatar_url":"https://avatars.githubusercontent.com/u/93654714?v=4","gravatar_id":"","url":"https://api.github.com/users/e-rudic","html_url":"https://github.com/e-rudic","followers_url":"https://api.github.com/users/e-rudic/followers","following_url":"https://api.github.com/users/e-rudic/following{/other_user}","gists_url":"https://api.github.com/users/e-rudic/gists{/gist_id}","starred_url":"https://api.github.com/users/e-rudic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/e-rudic/subscriptions","organizations_url":"https://api.github.com/users/e-rudic/orgs","repos_url":"https://api.github.com/users/e-rudic/repos","events_url":"https://api.github.com/users/e-rudic/events{/privacy}","received_events_url":"https://api.github.com/users/e-rudic/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T11:39:00Z","updated_at":"2023-03-30T11:39:00Z","author_association":"NONE","body":"Thank you very much! Comments answer my question so I'm closing this.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490151218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490200044","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1490200044","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1490200044,"node_id":"IC_kwDOCW7NX85Y0qXs","user":{"login":"gong","id":9883232,"node_id":"MDQ6VXNlcjk4ODMyMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9883232?v=4","gravatar_id":"","url":"https://api.github.com/users/gong","html_url":"https://github.com/gong","followers_url":"https://api.github.com/users/gong/followers","following_url":"https://api.github.com/users/gong/following{/other_user}","gists_url":"https://api.github.com/users/gong/gists{/gist_id}","starred_url":"https://api.github.com/users/gong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gong/subscriptions","organizations_url":"https://api.github.com/users/gong/orgs","repos_url":"https://api.github.com/users/gong/repos","events_url":"https://api.github.com/users/gong/events{/privacy}","received_events_url":"https://api.github.com/users/gong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T12:14:19Z","updated_at":"2023-03-30T12:14:19Z","author_association":"NONE","body":"> How many partitions do you have approximately? Can you try adding write.distribution-mode=hash to distribute the data of the same partition to one writer? We can’t just remove the wirter, if it’s no longer needed, we need to close it properly.\r\n\r\npartition is too much. Snapshot data is partitioned by yyyy-mm-dd  format of create_time field. I set 5 parallelisms and checkpoint interval is 1 min. I had used write.distribution-mode=hash. But taskmanager oom and dump show writers object consumes 2G memory. It will cause what problem if remove writer. @hililiwei ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490200044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490261743","html_url":"https://github.com/apache/iceberg/pull/7194#issuecomment-1490261743","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7194","id":1490261743,"node_id":"IC_kwDOCW7NX85Y05bv","user":{"login":"rajarshisarkar","id":4561678,"node_id":"MDQ6VXNlcjQ1NjE2Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4561678?v=4","gravatar_id":"","url":"https://api.github.com/users/rajarshisarkar","html_url":"https://github.com/rajarshisarkar","followers_url":"https://api.github.com/users/rajarshisarkar/followers","following_url":"https://api.github.com/users/rajarshisarkar/following{/other_user}","gists_url":"https://api.github.com/users/rajarshisarkar/gists{/gist_id}","starred_url":"https://api.github.com/users/rajarshisarkar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rajarshisarkar/subscriptions","organizations_url":"https://api.github.com/users/rajarshisarkar/orgs","repos_url":"https://api.github.com/users/rajarshisarkar/repos","events_url":"https://api.github.com/users/rajarshisarkar/events{/privacy}","received_events_url":"https://api.github.com/users/rajarshisarkar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T12:59:08Z","updated_at":"2023-03-30T13:15:50Z","author_association":"CONTRIBUTOR","body":"> One of the problems with the proposed approach is that optimizations are being triggered as an immediate result of a commit. The implication is that whatever happens in the metric report consumer needs to happen in a way that doesn't affect the commit path. For example, failures in the consumer should not lead to commit failures.\r\nAdditionally, every single commit triggers additional workload, so I think consuming a metrics report and actually performing some workload should be completely decoupled from one another.\r\n\r\nThis is an opt-in feature and would be helpful in scenarios where the users would not like to maintain different optimisations as scheduled pipelines. This feature would actually take away the operational overhead from the users in terms of maintaining the extra pipelines. Yes, the consumer should not affect the commit path (for the incoming commits) which makes it suitable for batch workloads. Regarding additional workload, every commit would just do some basic threshold checks on the table history only when the user opts-in for auto optimisation. We can arrange the thresholds in a way that the quickest threshold checks are done earlier so that we exit early, if possible. As the approach is suitable for batch workloads so the user shouldn't mind this latency after the commit. Thoughts?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490261743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490391078","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1490391078","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1490391078,"node_id":"IC_kwDOCW7NX85Y1ZAm","user":{"login":"denniean","id":1141643,"node_id":"MDQ6VXNlcjExNDE2NDM=","avatar_url":"https://avatars.githubusercontent.com/u/1141643?v=4","gravatar_id":"","url":"https://api.github.com/users/denniean","html_url":"https://github.com/denniean","followers_url":"https://api.github.com/users/denniean/followers","following_url":"https://api.github.com/users/denniean/following{/other_user}","gists_url":"https://api.github.com/users/denniean/gists{/gist_id}","starred_url":"https://api.github.com/users/denniean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/denniean/subscriptions","organizations_url":"https://api.github.com/users/denniean/orgs","repos_url":"https://api.github.com/users/denniean/repos","events_url":"https://api.github.com/users/denniean/events{/privacy}","received_events_url":"https://api.github.com/users/denniean/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T14:18:35Z","updated_at":"2023-03-30T14:18:35Z","author_association":"NONE","body":"@JanKaul thanks for your endeavors🙏🏻 if you will need additional help please feel free to reach me out ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490391078/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490478561","html_url":"https://github.com/apache/iceberg/pull/7235#issuecomment-1490478561","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7235","id":1490478561,"node_id":"IC_kwDOCW7NX85Y1uXh","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T15:10:50Z","updated_at":"2023-03-30T15:10:50Z","author_association":"CONTRIBUTOR","body":"Thanks @nastra !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490478561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490668854","html_url":"https://github.com/apache/iceberg/pull/7241#issuecomment-1490668854","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7241","id":1490668854,"node_id":"IC_kwDOCW7NX85Y2c02","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T17:27:48Z","updated_at":"2023-03-30T17:27:48Z","author_association":"CONTRIBUTOR","body":"@pulparindo could you please write up a short description as it's not clear what problem this PR is trying to solve/address","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490668854/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490738762","html_url":"https://github.com/apache/iceberg/pull/7194#issuecomment-1490738762","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7194","id":1490738762,"node_id":"IC_kwDOCW7NX85Y2t5K","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-30T18:25:49Z","updated_at":"2023-03-30T18:25:49Z","author_association":"CONTRIBUTOR","body":"> > this is introducing something that we don't do in the Iceberg project: Invoke an external provider to perform operations on behalf of the library.\r\n> \r\n> Yes I 100% agree with that. But first of all this is within the aws module which is an external provider integration. And secondly, without this PR, we will likely also contribute things like CloudWatch, SQS and SNS metrics reporter.\r\n> \r\n> So the questions maybe you could help share your opinions are that:\r\n> \r\n> 1. would it work if we contribute CloudWatch, SQS and SNS metrics reporters, such that these compaction actions could be triggered from that point, which is outside the Iceberg library\r\n> 2. would it be okay with the community if we publish a separated open source repository for metrics reporters like this, such that they will be a part of the EMR distribution, and users can plug it into a catalog if necessary.\r\n> 3. we could also develop a metrics reporter for a specific engine like Spark, and we contact the Spark endpoint to submit such a job instead of doing it through an external service provider's API. Would that be a viable approach?\r\n\r\nI think we should clarify that the `iceberg-aws` module was originally introduced to integrate the storage aspects of AWS S3 with Iceberg (similar to GCP, etc.) since cloud provides are ubiquitous for data warehousing and that aligns well with the requirements to use Iceberg.  The existence of the module isn't justification to include anything AWS related.  We should focus on things that are highly aligned and generalizable.\r\n\r\nFor items 1 and 2 above, I would lean towards publishing them separately since they are pluggable and can be integrated with other AWS libraries and tools.\r\n\r\nFor number 3, I think invocations and automatic callbacks into systems takes us out of the format+integration space and starts down the path of defining the runtime activity, which is where we've historically said we draw the line on what should, or should not be part of Iceberg.\r\n\r\nThis is very much a slippery slope because if we allow vendor solutions or hooks like this (regardless of how convenient/optional it may be) we would need to be open to the same contributions from all vendors (cloud or otherwise).  ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1490738762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491139791","html_url":"https://github.com/apache/iceberg/pull/7144#issuecomment-1491139791","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7144","id":1491139791,"node_id":"IC_kwDOCW7NX85Y4PzP","user":{"login":"wangyinsheng","id":13392313,"node_id":"MDQ6VXNlcjEzMzkyMzEz","avatar_url":"https://avatars.githubusercontent.com/u/13392313?v=4","gravatar_id":"","url":"https://api.github.com/users/wangyinsheng","html_url":"https://github.com/wangyinsheng","followers_url":"https://api.github.com/users/wangyinsheng/followers","following_url":"https://api.github.com/users/wangyinsheng/following{/other_user}","gists_url":"https://api.github.com/users/wangyinsheng/gists{/gist_id}","starred_url":"https://api.github.com/users/wangyinsheng/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wangyinsheng/subscriptions","organizations_url":"https://api.github.com/users/wangyinsheng/orgs","repos_url":"https://api.github.com/users/wangyinsheng/repos","events_url":"https://api.github.com/users/wangyinsheng/events{/privacy}","received_events_url":"https://api.github.com/users/wangyinsheng/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T00:43:36Z","updated_at":"2023-03-31T00:43:36Z","author_association":"CONTRIBUTOR","body":"PTAL @aokolnychyi ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491139791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491161839","html_url":"https://github.com/apache/iceberg/pull/7240#issuecomment-1491161839","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7240","id":1491161839,"node_id":"IC_kwDOCW7NX85Y4VLv","user":{"login":"xloya","id":26177232,"node_id":"MDQ6VXNlcjI2MTc3MjMy","avatar_url":"https://avatars.githubusercontent.com/u/26177232?v=4","gravatar_id":"","url":"https://api.github.com/users/xloya","html_url":"https://github.com/xloya","followers_url":"https://api.github.com/users/xloya/followers","following_url":"https://api.github.com/users/xloya/following{/other_user}","gists_url":"https://api.github.com/users/xloya/gists{/gist_id}","starred_url":"https://api.github.com/users/xloya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xloya/subscriptions","organizations_url":"https://api.github.com/users/xloya/orgs","repos_url":"https://api.github.com/users/xloya/repos","events_url":"https://api.github.com/users/xloya/events{/privacy}","received_events_url":"https://api.github.com/users/xloya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T01:22:01Z","updated_at":"2023-03-31T01:22:01Z","author_association":"CONTRIBUTOR","body":"> I think you should not shutdown the executor service within the SparkActions. The reason being that the ExecutorService is passed by the user. The user may reuse that same ExecutorService in other places of their code. For Instance, a user might create an ExecutorService object, pass it to the DeleteOrphanFilesSparkAction, once that is finished, pass the same exact ExecutorService object to another ExpireSnapshotsSparkAction. But if you shutdown the Executor service that the user passed within the DeleteOrphanFilesSparkAction itself, then the subsequent ExpireSnapshotsSparkAction will fail. We should give the user the flexibility to reuse their ExecutorService Object.\r\n> \r\n> Like you alluded to in the PR, you should instead shutdown the executor service with in the spark procedure's code. There a new executor service is being created every time a procedure is being called.\r\n> \r\n> But I am still confused about one thing. Why are you seeing a sharp spike in number of threads when the driver executes a large number of DeleteOrphanFilesAction? How are you calling the action? Are you using the RemoveOrphanFiles Procedure or are you using the Java API to call the DeleteOrphanFilesSparkAction?\r\n> \r\n> I would imagine that if you are using the procedure, then the ExecutorService object created within the procedure's code will get automatically garbage collected, thereby shutting down the thread pool within that object. Probably you are seeing the spike between garbage collections. That is a valid problem and shutting down the Executor service within the procedure will address it. On the other hand, if you are using the JAVA API, it is the responsibility of the user to ensure that their Executor Services are shutdown after the SparkAction is complete.\r\n> \r\n> One other thing to check. Are you passing a custom deleteFunc and/or is your underlying file system doesn't support BulkOperations? If you did not pass a deleteFunc and if your underlying fileSystem supports BulkOperations, then the ExecutorService is never created within the procedure. Instead the delete operations are handled by the underlying IO api. In case of S3FileIo(see\r\n> \r\n> https://github.com/apache/iceberg/blob/5e40182d954f17d825c6d3fca889acab989acd7f/aws/src/main/java/org/apache/iceberg/aws/s3/S3FileIO.java#L333\r\n> \r\n> ) and HadoopFileIo(see\r\n> https://github.com/apache/iceberg/blob/5e40182d954f17d825c6d3fca889acab989acd7f/core/src/main/java/org/apache/iceberg/hadoop/HadoopFileIO.java#L194\r\n> \r\n> ) both create their own Executor Services, which should be shut down in that code rather than than the procedure's code.\r\n\r\nYes, I also think it's a bit inappropriate to close it directly in Action, I'll close the threads pool later in Procedure. In addition, we did see spikes in the thread after a large number of Procedure calls in a resident Driver. For us internally, there was a limit to thread spikes, which resulted in a scheduled Kill. I think it's also a programming specification for programs to turn off thread pools after using it in code. In addition, we haven't incorporated the PR of BulkOperations you mentioned into the internal, so we haven't considered this modification, but I can add the change later.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491161839/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491169835","html_url":"https://github.com/apache/iceberg/pull/7240#issuecomment-1491169835","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7240","id":1491169835,"node_id":"IC_kwDOCW7NX85Y4XIr","user":{"login":"xloya","id":26177232,"node_id":"MDQ6VXNlcjI2MTc3MjMy","avatar_url":"https://avatars.githubusercontent.com/u/26177232?v=4","gravatar_id":"","url":"https://api.github.com/users/xloya","html_url":"https://github.com/xloya","followers_url":"https://api.github.com/users/xloya/followers","following_url":"https://api.github.com/users/xloya/following{/other_user}","gists_url":"https://api.github.com/users/xloya/gists{/gist_id}","starred_url":"https://api.github.com/users/xloya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xloya/subscriptions","organizations_url":"https://api.github.com/users/xloya/orgs","repos_url":"https://api.github.com/users/xloya/repos","events_url":"https://api.github.com/users/xloya/events{/privacy}","received_events_url":"https://api.github.com/users/xloya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T01:36:44Z","updated_at":"2023-03-31T01:36:44Z","author_association":"CONTRIBUTOR","body":"@sririshindra @RussellSpitzer FYI, thanks.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491169835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491191109","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1491191109","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1491191109,"node_id":"IC_kwDOCW7NX85Y4cVF","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T02:14:42Z","updated_at":"2023-03-31T02:14:42Z","author_association":"CONTRIBUTOR","body":"When you do not close the writer, but only remove it, your data will be lost. This is a fatal flaw.\r\nThis can be easily verified by setting your capacity to 1, for example. Of course, this PR also needs UT, I hope you can supplement it.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491191109/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491197805","html_url":"https://github.com/apache/iceberg/issues/7239#issuecomment-1491197805","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7239","id":1491197805,"node_id":"IC_kwDOCW7NX85Y4d9t","user":{"login":"jack-o-hara","id":129125202,"node_id":"U_kgDOB7JLUg","avatar_url":"https://avatars.githubusercontent.com/u/129125202?v=4","gravatar_id":"","url":"https://api.github.com/users/jack-o-hara","html_url":"https://github.com/jack-o-hara","followers_url":"https://api.github.com/users/jack-o-hara/followers","following_url":"https://api.github.com/users/jack-o-hara/following{/other_user}","gists_url":"https://api.github.com/users/jack-o-hara/gists{/gist_id}","starred_url":"https://api.github.com/users/jack-o-hara/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jack-o-hara/subscriptions","organizations_url":"https://api.github.com/users/jack-o-hara/orgs","repos_url":"https://api.github.com/users/jack-o-hara/repos","events_url":"https://api.github.com/users/jack-o-hara/events{/privacy}","received_events_url":"https://api.github.com/users/jack-o-hara/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T02:24:15Z","updated_at":"2023-03-31T02:24:15Z","author_association":"NONE","body":"This was caused by this commit \r\n\r\nhttps://github.com/apache/iceberg/commit/fc501f33761ae35a48f257d6d973d835fccd6da7#diff-d278772fd3dc1431367d81a075a79404d9e1acff28fab611ad4e3d1343133596R148","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491197805/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491198790","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1491198790","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1491198790,"node_id":"IC_kwDOCW7NX85Y4eNG","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T02:24:57Z","updated_at":"2023-03-31T02:32:42Z","author_association":"CONTRIBUTOR","body":"> partition is too much. Snapshot data is partitioned by yyyy-mm-dd format of create_time field. I set 5 parallelisms and checkpoint interval is 1 min. \r\n\r\nSounds like it's a streaming job? Do you receive very many different partitions (days) in one checkpoint cycle (1 min)? In my experience, it's usually in single digits. I'm a little confused about that.\r\n\r\nOf course, I'm not against using LRU, just curious about your case.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491198790/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491224830","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1491224830","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1491224830,"node_id":"IC_kwDOCW7NX85Y4kj-","user":{"login":"stevenzwu","id":1545663,"node_id":"MDQ6VXNlcjE1NDU2NjM=","avatar_url":"https://avatars.githubusercontent.com/u/1545663?v=4","gravatar_id":"","url":"https://api.github.com/users/stevenzwu","html_url":"https://github.com/stevenzwu","followers_url":"https://api.github.com/users/stevenzwu/followers","following_url":"https://api.github.com/users/stevenzwu/following{/other_user}","gists_url":"https://api.github.com/users/stevenzwu/gists{/gist_id}","starred_url":"https://api.github.com/users/stevenzwu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevenzwu/subscriptions","organizations_url":"https://api.github.com/users/stevenzwu/orgs","repos_url":"https://api.github.com/users/stevenzwu/repos","events_url":"https://api.github.com/users/stevenzwu/events{/privacy}","received_events_url":"https://api.github.com/users/stevenzwu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T03:02:45Z","updated_at":"2023-03-31T03:46:24Z","author_association":"CONTRIBUTOR","body":"@gong it may work for you for your use cases. but I don't think we would adopt this change as a generally applicable solution. we can live out the hard-coded threshold for now. Capping the number of concurrent writers can help with limiting the memory footprint. But it will create another serious problem. Now sink can constantly open and close many small files all the time.\r\n\r\n2 GB memory footprint is really not that big for Parquet writer. you may just want to increase the memory allocation. you can also reduce the Parquet row group size to reduce memory footprint. or switch to Avro file format to reduce memory footprint.\r\n\r\nif you have bucket partitioning, you can try out this PR that my colleague created recently: https://github.com/apache/iceberg/pull/7161 \r\n\r\nWe are also working on a more general range partitioner that can work with skewed distributions (like event time): https://github.com/apache/iceberg/issues/6303","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491224830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491240764","html_url":"https://github.com/apache/iceberg/pull/7099#issuecomment-1491240764","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7099","id":1491240764,"node_id":"IC_kwDOCW7NX85Y4oc8","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T03:33:19Z","updated_at":"2023-03-31T03:33:19Z","author_association":"CONTRIBUTOR","body":"thank you guys, @Fokko @stevenzwu .","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491240764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491280580","html_url":"https://github.com/apache/iceberg/pull/6962#issuecomment-1491280580","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6962","id":1491280580,"node_id":"IC_kwDOCW7NX85Y4yLE","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T04:44:42Z","updated_at":"2023-03-31T04:44:42Z","author_association":"CONTRIBUTOR","body":"sorry for the lack of reviews, I will take a look during the weekend","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491280580/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491283839","html_url":"https://github.com/apache/iceberg/pull/7146#issuecomment-1491283839","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7146","id":1491283839,"node_id":"IC_kwDOCW7NX85Y4y9_","user":{"login":"dimas-b","id":40603221,"node_id":"MDQ6VXNlcjQwNjAzMjIx","avatar_url":"https://avatars.githubusercontent.com/u/40603221?v=4","gravatar_id":"","url":"https://api.github.com/users/dimas-b","html_url":"https://github.com/dimas-b","followers_url":"https://api.github.com/users/dimas-b/followers","following_url":"https://api.github.com/users/dimas-b/following{/other_user}","gists_url":"https://api.github.com/users/dimas-b/gists{/gist_id}","starred_url":"https://api.github.com/users/dimas-b/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dimas-b/subscriptions","organizations_url":"https://api.github.com/users/dimas-b/orgs","repos_url":"https://api.github.com/users/dimas-b/repos","events_url":"https://api.github.com/users/dimas-b/events{/privacy}","received_events_url":"https://api.github.com/users/dimas-b/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T04:50:27Z","updated_at":"2023-03-31T04:50:27Z","author_association":"CONTRIBUTOR","body":"Thanks for fixing the commit message, @Fokko ! :)","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491283839/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491304386","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1491304386","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1491304386,"node_id":"IC_kwDOCW7NX85Y43_C","user":{"login":"JanKaul","id":19823005,"node_id":"MDQ6VXNlcjE5ODIzMDA1","avatar_url":"https://avatars.githubusercontent.com/u/19823005?v=4","gravatar_id":"","url":"https://api.github.com/users/JanKaul","html_url":"https://github.com/JanKaul","followers_url":"https://api.github.com/users/JanKaul/followers","following_url":"https://api.github.com/users/JanKaul/following{/other_user}","gists_url":"https://api.github.com/users/JanKaul/gists{/gist_id}","starred_url":"https://api.github.com/users/JanKaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JanKaul/subscriptions","organizations_url":"https://api.github.com/users/JanKaul/orgs","repos_url":"https://api.github.com/users/JanKaul/repos","events_url":"https://api.github.com/users/JanKaul/events{/privacy}","received_events_url":"https://api.github.com/users/JanKaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T05:08:45Z","updated_at":"2023-03-31T05:08:45Z","author_association":"NONE","body":"If I may ask: what query engine would you like to use with iceberg?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491304386/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491357747","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1491357747","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1491357747,"node_id":"IC_kwDOCW7NX85Y5FAz","user":{"login":"jackye1995","id":29823233,"node_id":"MDQ6VXNlcjI5ODIzMjMz","avatar_url":"https://avatars.githubusercontent.com/u/29823233?v=4","gravatar_id":"","url":"https://api.github.com/users/jackye1995","html_url":"https://github.com/jackye1995","followers_url":"https://api.github.com/users/jackye1995/followers","following_url":"https://api.github.com/users/jackye1995/following{/other_user}","gists_url":"https://api.github.com/users/jackye1995/gists{/gist_id}","starred_url":"https://api.github.com/users/jackye1995/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackye1995/subscriptions","organizations_url":"https://api.github.com/users/jackye1995/orgs","repos_url":"https://api.github.com/users/jackye1995/repos","events_url":"https://api.github.com/users/jackye1995/events{/privacy}","received_events_url":"https://api.github.com/users/jackye1995/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T06:18:10Z","updated_at":"2023-03-31T06:18:10Z","author_association":"CONTRIBUTOR","body":"Thanks for the contribution! Thanks for the review @nastra !","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491357747/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491511083","html_url":"https://github.com/apache/iceberg/pull/3249#issuecomment-1491511083","issue_url":"https://api.github.com/repos/apache/iceberg/issues/3249","id":1491511083,"node_id":"IC_kwDOCW7NX85Y5qcr","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T08:19:10Z","updated_at":"2023-03-31T08:19:10Z","author_association":"CONTRIBUTOR","body":"Thanks all.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491511083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491531379","html_url":"https://github.com/apache/iceberg/pull/7171#issuecomment-1491531379","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7171","id":1491531379,"node_id":"IC_kwDOCW7NX85Y5vZz","user":{"login":"ConeyLiu","id":12733256,"node_id":"MDQ6VXNlcjEyNzMzMjU2","avatar_url":"https://avatars.githubusercontent.com/u/12733256?v=4","gravatar_id":"","url":"https://api.github.com/users/ConeyLiu","html_url":"https://github.com/ConeyLiu","followers_url":"https://api.github.com/users/ConeyLiu/followers","following_url":"https://api.github.com/users/ConeyLiu/following{/other_user}","gists_url":"https://api.github.com/users/ConeyLiu/gists{/gist_id}","starred_url":"https://api.github.com/users/ConeyLiu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ConeyLiu/subscriptions","organizations_url":"https://api.github.com/users/ConeyLiu/orgs","repos_url":"https://api.github.com/users/ConeyLiu/repos","events_url":"https://api.github.com/users/ConeyLiu/events{/privacy}","received_events_url":"https://api.github.com/users/ConeyLiu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T08:35:25Z","updated_at":"2023-03-31T08:35:25Z","author_association":"CONTRIBUTOR","body":"Thanks @hililiwei, comment has been addressed. Pls take another look.\r\nAlso CC @jackye1995 @nastra @Fokko, could you take a look when you are free? Thanks in advance","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491531379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491632140","html_url":"https://github.com/apache/iceberg/issues/6564#issuecomment-1491632140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6564","id":1491632140,"node_id":"IC_kwDOCW7NX85Y6IAM","user":{"login":"Matthieusalor","id":38275669,"node_id":"MDQ6VXNlcjM4Mjc1NjY5","avatar_url":"https://avatars.githubusercontent.com/u/38275669?v=4","gravatar_id":"","url":"https://api.github.com/users/Matthieusalor","html_url":"https://github.com/Matthieusalor","followers_url":"https://api.github.com/users/Matthieusalor/followers","following_url":"https://api.github.com/users/Matthieusalor/following{/other_user}","gists_url":"https://api.github.com/users/Matthieusalor/gists{/gist_id}","starred_url":"https://api.github.com/users/Matthieusalor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Matthieusalor/subscriptions","organizations_url":"https://api.github.com/users/Matthieusalor/orgs","repos_url":"https://api.github.com/users/Matthieusalor/repos","events_url":"https://api.github.com/users/Matthieusalor/events{/privacy}","received_events_url":"https://api.github.com/users/Matthieusalor/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T09:34:41Z","updated_at":"2023-03-31T09:37:04Z","author_association":"NONE","body":"Regarding statistics of written files, the write_to_dataset and write_dataset functions of pyarrow are providing a file_visitor argument that allows to retrieve the path and metadata of each written file.\r\nhttps://arrow.apache.org/docs/python/generated/pyarrow.parquet.write_to_dataset.html\r\n\r\nThe metadata object is https://arrow.apache.org/docs/python/generated/pyarrow.parquet.FileMetaData.html \r\nIt allows to retrieve each row group metadata https://arrow.apache.org/docs/python/generated/pyarrow.parquet.RowGroupMetaData.html#pyarrow.parquet.RowGroupMetaData\r\n\r\nAllowing to retrieve each column chunk metadata (including statistics) https://arrow.apache.org/docs/python/generated/pyarrow.parquet.ColumnChunkMetaData.html#pyarrow.parquet.ColumnChunkMetaData\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491632140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491647368","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1491647368","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1491647368,"node_id":"IC_kwDOCW7NX85Y6LuI","user":{"login":"snth","id":652285,"node_id":"MDQ6VXNlcjY1MjI4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/652285?v=4","gravatar_id":"","url":"https://api.github.com/users/snth","html_url":"https://github.com/snth","followers_url":"https://api.github.com/users/snth/followers","following_url":"https://api.github.com/users/snth/following{/other_user}","gists_url":"https://api.github.com/users/snth/gists{/gist_id}","starred_url":"https://api.github.com/users/snth/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/snth/subscriptions","organizations_url":"https://api.github.com/users/snth/orgs","repos_url":"https://api.github.com/users/snth/repos","events_url":"https://api.github.com/users/snth/events{/privacy}","received_events_url":"https://api.github.com/users/snth/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T09:46:53Z","updated_at":"2023-03-31T09:46:53Z","author_association":"NONE","body":"I personally think DataFusion is great. I'd also like to see DuckDB (I believe this may be coming from their side).\r\n\r\n@JanKaul what's still missing from your project? If I start with a bunch of csv files, what do I need in addition to iceberg-rust to get a small iceberg service up and running? I'm guessing an object store like Minio, and apart from that? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491647368/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491688996","html_url":"https://github.com/apache/iceberg/issues/6564#issuecomment-1491688996","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6564","id":1491688996,"node_id":"IC_kwDOCW7NX85Y6V4k","user":{"login":"Fokko","id":1134248,"node_id":"MDQ6VXNlcjExMzQyNDg=","avatar_url":"https://avatars.githubusercontent.com/u/1134248?v=4","gravatar_id":"","url":"https://api.github.com/users/Fokko","html_url":"https://github.com/Fokko","followers_url":"https://api.github.com/users/Fokko/followers","following_url":"https://api.github.com/users/Fokko/following{/other_user}","gists_url":"https://api.github.com/users/Fokko/gists{/gist_id}","starred_url":"https://api.github.com/users/Fokko/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fokko/subscriptions","organizations_url":"https://api.github.com/users/Fokko/orgs","repos_url":"https://api.github.com/users/Fokko/repos","events_url":"https://api.github.com/users/Fokko/events{/privacy}","received_events_url":"https://api.github.com/users/Fokko/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T10:19:59Z","updated_at":"2023-03-31T10:19:59Z","author_association":"CONTRIBUTOR","body":"@Matthieusalor Thanks for the suggestion. I was looking into the `metadata_collector`: https://arrow.apache.org/docs/python/generated/pyarrow.parquet.write_metadata.html It looks like we can leverage this to collect the metadata during the write.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491688996/reactions","total_count":8,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":6,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491689683","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1491689683","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1491689683,"node_id":"IC_kwDOCW7NX85Y6WDT","user":{"login":"gong","id":9883232,"node_id":"MDQ6VXNlcjk4ODMyMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9883232?v=4","gravatar_id":"","url":"https://api.github.com/users/gong","html_url":"https://github.com/gong","followers_url":"https://api.github.com/users/gong/followers","following_url":"https://api.github.com/users/gong/following{/other_user}","gists_url":"https://api.github.com/users/gong/gists{/gist_id}","starred_url":"https://api.github.com/users/gong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gong/subscriptions","organizations_url":"https://api.github.com/users/gong/orgs","repos_url":"https://api.github.com/users/gong/repos","events_url":"https://api.github.com/users/gong/events{/privacy}","received_events_url":"https://api.github.com/users/gong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T10:20:37Z","updated_at":"2023-03-31T10:20:37Z","author_association":"NONE","body":"> When you do not close the writer, but only remove it, your data will be lost. This is a fatal flaw. This can be easily verified by setting your capacity to 1, for example. Of course, this PR also needs UT, I hope you can supplement it.\r\n\r\n@hililiwei Thanks for your suggestion","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491689683/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491690906","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1491690906","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1491690906,"node_id":"IC_kwDOCW7NX85Y6WWa","user":{"login":"gong","id":9883232,"node_id":"MDQ6VXNlcjk4ODMyMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9883232?v=4","gravatar_id":"","url":"https://api.github.com/users/gong","html_url":"https://github.com/gong","followers_url":"https://api.github.com/users/gong/followers","following_url":"https://api.github.com/users/gong/following{/other_user}","gists_url":"https://api.github.com/users/gong/gists{/gist_id}","starred_url":"https://api.github.com/users/gong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gong/subscriptions","organizations_url":"https://api.github.com/users/gong/orgs","repos_url":"https://api.github.com/users/gong/repos","events_url":"https://api.github.com/users/gong/events{/privacy}","received_events_url":"https://api.github.com/users/gong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T10:21:46Z","updated_at":"2023-03-31T10:21:46Z","author_association":"NONE","body":"> \r\n\r\n@stevenzwu Thanks for your suggestion","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491690906/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491700573","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1491700573","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1491700573,"node_id":"IC_kwDOCW7NX85Y6Ytd","user":{"login":"JanKaul","id":19823005,"node_id":"MDQ6VXNlcjE5ODIzMDA1","avatar_url":"https://avatars.githubusercontent.com/u/19823005?v=4","gravatar_id":"","url":"https://api.github.com/users/JanKaul","html_url":"https://github.com/JanKaul","followers_url":"https://api.github.com/users/JanKaul/followers","following_url":"https://api.github.com/users/JanKaul/following{/other_user}","gists_url":"https://api.github.com/users/JanKaul/gists{/gist_id}","starred_url":"https://api.github.com/users/JanKaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JanKaul/subscriptions","organizations_url":"https://api.github.com/users/JanKaul/orgs","repos_url":"https://api.github.com/users/JanKaul/repos","events_url":"https://api.github.com/users/JanKaul/events{/privacy}","received_events_url":"https://api.github.com/users/JanKaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T10:30:05Z","updated_at":"2023-03-31T10:30:05Z","author_association":"NONE","body":"The biggest missing piece in iceberg-rust is writing to iceberg. I will try to work on this in the next days.\n\nRegarding your storage backend you can use an object-store like S3, minio or use a local filesystem.\n\nIf you want to use an object-store like S3 or minio you should use an iceberg catalog to register your tables. At the moment there is preliminary support for the rest catalog.\n\nI will try to get an example working and will share it here.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491700573/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491709587","html_url":"https://github.com/apache/iceberg/pull/7254#issuecomment-1491709587","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7254","id":1491709587,"node_id":"IC_kwDOCW7NX85Y6a6T","user":{"login":"hililiwei","id":59213263,"node_id":"MDQ6VXNlcjU5MjEzMjYz","avatar_url":"https://avatars.githubusercontent.com/u/59213263?v=4","gravatar_id":"","url":"https://api.github.com/users/hililiwei","html_url":"https://github.com/hililiwei","followers_url":"https://api.github.com/users/hililiwei/followers","following_url":"https://api.github.com/users/hililiwei/following{/other_user}","gists_url":"https://api.github.com/users/hililiwei/gists{/gist_id}","starred_url":"https://api.github.com/users/hililiwei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hililiwei/subscriptions","organizations_url":"https://api.github.com/users/hililiwei/orgs","repos_url":"https://api.github.com/users/hililiwei/repos","events_url":"https://api.github.com/users/hililiwei/events{/privacy}","received_events_url":"https://api.github.com/users/hililiwei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T10:37:59Z","updated_at":"2023-03-31T10:37:59Z","author_association":"CONTRIBUTOR","body":"I'm not sure why approval is needed to execute UT. @stevenzwu Could you please help to review it?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491709587/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":1,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491718888","html_url":"https://github.com/apache/iceberg/issues/7040#issuecomment-1491718888","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7040","id":1491718888,"node_id":"IC_kwDOCW7NX85Y6dLo","user":{"login":"tobehardest","id":88612778,"node_id":"MDQ6VXNlcjg4NjEyNzc4","avatar_url":"https://avatars.githubusercontent.com/u/88612778?v=4","gravatar_id":"","url":"https://api.github.com/users/tobehardest","html_url":"https://github.com/tobehardest","followers_url":"https://api.github.com/users/tobehardest/followers","following_url":"https://api.github.com/users/tobehardest/following{/other_user}","gists_url":"https://api.github.com/users/tobehardest/gists{/gist_id}","starred_url":"https://api.github.com/users/tobehardest/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tobehardest/subscriptions","organizations_url":"https://api.github.com/users/tobehardest/orgs","repos_url":"https://api.github.com/users/tobehardest/repos","events_url":"https://api.github.com/users/tobehardest/events{/privacy}","received_events_url":"https://api.github.com/users/tobehardest/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T10:43:11Z","updated_at":"2023-03-31T10:43:11Z","author_association":"NONE","body":"Can you assign this task to me? ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491718888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491728798","html_url":"https://github.com/apache/iceberg/issues/7040#issuecomment-1491728798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7040","id":1491728798,"node_id":"IC_kwDOCW7NX85Y6fme","user":{"login":"nastra","id":271029,"node_id":"MDQ6VXNlcjI3MTAyOQ==","avatar_url":"https://avatars.githubusercontent.com/u/271029?v=4","gravatar_id":"","url":"https://api.github.com/users/nastra","html_url":"https://github.com/nastra","followers_url":"https://api.github.com/users/nastra/followers","following_url":"https://api.github.com/users/nastra/following{/other_user}","gists_url":"https://api.github.com/users/nastra/gists{/gist_id}","starred_url":"https://api.github.com/users/nastra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nastra/subscriptions","organizations_url":"https://api.github.com/users/nastra/orgs","repos_url":"https://api.github.com/users/nastra/repos","events_url":"https://api.github.com/users/nastra/events{/privacy}","received_events_url":"https://api.github.com/users/nastra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T10:48:25Z","updated_at":"2023-03-31T10:48:25Z","author_association":"CONTRIBUTOR","body":"thanks for taking this @tobehardest","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491728798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491954019","html_url":"https://github.com/apache/iceberg/issues/7256#issuecomment-1491954019","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7256","id":1491954019,"node_id":"IC_kwDOCW7NX85Y7Wlj","user":{"login":"ggbaro","id":46573388,"node_id":"MDQ6VXNlcjQ2NTczMzg4","avatar_url":"https://avatars.githubusercontent.com/u/46573388?v=4","gravatar_id":"","url":"https://api.github.com/users/ggbaro","html_url":"https://github.com/ggbaro","followers_url":"https://api.github.com/users/ggbaro/followers","following_url":"https://api.github.com/users/ggbaro/following{/other_user}","gists_url":"https://api.github.com/users/ggbaro/gists{/gist_id}","starred_url":"https://api.github.com/users/ggbaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggbaro/subscriptions","organizations_url":"https://api.github.com/users/ggbaro/orgs","repos_url":"https://api.github.com/users/ggbaro/repos","events_url":"https://api.github.com/users/ggbaro/events{/privacy}","received_events_url":"https://api.github.com/users/ggbaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T13:48:17Z","updated_at":"2023-03-31T13:48:17Z","author_association":"NONE","body":"@dariocurr @emanueledomingo @giacomorebecchi @enryls","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491954019/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491954215","html_url":"https://github.com/apache/iceberg/issues/7255#issuecomment-1491954215","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7255","id":1491954215,"node_id":"IC_kwDOCW7NX85Y7Won","user":{"login":"ggbaro","id":46573388,"node_id":"MDQ6VXNlcjQ2NTczMzg4","avatar_url":"https://avatars.githubusercontent.com/u/46573388?v=4","gravatar_id":"","url":"https://api.github.com/users/ggbaro","html_url":"https://github.com/ggbaro","followers_url":"https://api.github.com/users/ggbaro/followers","following_url":"https://api.github.com/users/ggbaro/following{/other_user}","gists_url":"https://api.github.com/users/ggbaro/gists{/gist_id}","starred_url":"https://api.github.com/users/ggbaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggbaro/subscriptions","organizations_url":"https://api.github.com/users/ggbaro/orgs","repos_url":"https://api.github.com/users/ggbaro/repos","events_url":"https://api.github.com/users/ggbaro/events{/privacy}","received_events_url":"https://api.github.com/users/ggbaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T13:48:24Z","updated_at":"2023-03-31T13:48:24Z","author_association":"NONE","body":"@dariocurr @emanueledomingo @enryls","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491954215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491954437","html_url":"https://github.com/apache/iceberg/issues/7257#issuecomment-1491954437","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7257","id":1491954437,"node_id":"IC_kwDOCW7NX85Y7WsF","user":{"login":"ggbaro","id":46573388,"node_id":"MDQ6VXNlcjQ2NTczMzg4","avatar_url":"https://avatars.githubusercontent.com/u/46573388?v=4","gravatar_id":"","url":"https://api.github.com/users/ggbaro","html_url":"https://github.com/ggbaro","followers_url":"https://api.github.com/users/ggbaro/followers","following_url":"https://api.github.com/users/ggbaro/following{/other_user}","gists_url":"https://api.github.com/users/ggbaro/gists{/gist_id}","starred_url":"https://api.github.com/users/ggbaro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ggbaro/subscriptions","organizations_url":"https://api.github.com/users/ggbaro/orgs","repos_url":"https://api.github.com/users/ggbaro/repos","events_url":"https://api.github.com/users/ggbaro/events{/privacy}","received_events_url":"https://api.github.com/users/ggbaro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T13:48:34Z","updated_at":"2023-03-31T13:48:34Z","author_association":"NONE","body":"@dariocurr @emanueledomingo @enryls","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491954437/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491958230","html_url":"https://github.com/apache/iceberg/issues/7238#issuecomment-1491958230","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7238","id":1491958230,"node_id":"IC_kwDOCW7NX85Y7XnW","user":{"login":"karuppayya","id":5082742,"node_id":"MDQ6VXNlcjUwODI3NDI=","avatar_url":"https://avatars.githubusercontent.com/u/5082742?v=4","gravatar_id":"","url":"https://api.github.com/users/karuppayya","html_url":"https://github.com/karuppayya","followers_url":"https://api.github.com/users/karuppayya/followers","following_url":"https://api.github.com/users/karuppayya/following{/other_user}","gists_url":"https://api.github.com/users/karuppayya/gists{/gist_id}","starred_url":"https://api.github.com/users/karuppayya/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/karuppayya/subscriptions","organizations_url":"https://api.github.com/users/karuppayya/orgs","repos_url":"https://api.github.com/users/karuppayya/repos","events_url":"https://api.github.com/users/karuppayya/events{/privacy}","received_events_url":"https://api.github.com/users/karuppayya/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T13:51:25Z","updated_at":"2023-03-31T13:51:25Z","author_association":"CONTRIBUTOR","body":"Thanks @szehon-ho for creating this issue, I will try to add some validations in the create/alter and remove orphan files flows.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491958230/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491977140","html_url":"https://github.com/apache/iceberg/pull/7218#issuecomment-1491977140","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7218","id":1491977140,"node_id":"IC_kwDOCW7NX85Y7cO0","user":{"login":"linyanghao","id":51444992,"node_id":"MDQ6VXNlcjUxNDQ0OTky","avatar_url":"https://avatars.githubusercontent.com/u/51444992?v=4","gravatar_id":"","url":"https://api.github.com/users/linyanghao","html_url":"https://github.com/linyanghao","followers_url":"https://api.github.com/users/linyanghao/followers","following_url":"https://api.github.com/users/linyanghao/following{/other_user}","gists_url":"https://api.github.com/users/linyanghao/gists{/gist_id}","starred_url":"https://api.github.com/users/linyanghao/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linyanghao/subscriptions","organizations_url":"https://api.github.com/users/linyanghao/orgs","repos_url":"https://api.github.com/users/linyanghao/repos","events_url":"https://api.github.com/users/linyanghao/events{/privacy}","received_events_url":"https://api.github.com/users/linyanghao/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T14:04:11Z","updated_at":"2023-03-31T14:04:11Z","author_association":"CONTRIBUTOR","body":"> Can you add UT for this?\r\n\r\nAdded a UT.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1491977140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492215087","html_url":"https://github.com/apache/iceberg/pull/7047#issuecomment-1492215087","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7047","id":1492215087,"node_id":"IC_kwDOCW7NX85Y8WUv","user":{"login":"danielcweeks","id":4925077,"node_id":"MDQ6VXNlcjQ5MjUwNzc=","avatar_url":"https://avatars.githubusercontent.com/u/4925077?v=4","gravatar_id":"","url":"https://api.github.com/users/danielcweeks","html_url":"https://github.com/danielcweeks","followers_url":"https://api.github.com/users/danielcweeks/followers","following_url":"https://api.github.com/users/danielcweeks/following{/other_user}","gists_url":"https://api.github.com/users/danielcweeks/gists{/gist_id}","starred_url":"https://api.github.com/users/danielcweeks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/danielcweeks/subscriptions","organizations_url":"https://api.github.com/users/danielcweeks/orgs","repos_url":"https://api.github.com/users/danielcweeks/repos","events_url":"https://api.github.com/users/danielcweeks/events{/privacy}","received_events_url":"https://api.github.com/users/danielcweeks/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T16:15:13Z","updated_at":"2023-03-31T16:15:13Z","author_association":"CONTRIBUTOR","body":"@jackye1995  The reason for the scale factor was to trigger the list paging behavior and test the boundaries.  That doesn't happen if we reduce it to 500.  We could make the max results for list configurable, but that seems overcomplicated (unless we can do it just in the test case and not have to plumb the properties through and further complicate AwsProperties.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492215087/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492419394","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1492419394","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1492419394,"node_id":"IC_kwDOCW7NX85Y9INC","user":{"login":"alexey-milovidov","id":18581488,"node_id":"MDQ6VXNlcjE4NTgxNDg4","avatar_url":"https://avatars.githubusercontent.com/u/18581488?v=4","gravatar_id":"","url":"https://api.github.com/users/alexey-milovidov","html_url":"https://github.com/alexey-milovidov","followers_url":"https://api.github.com/users/alexey-milovidov/followers","following_url":"https://api.github.com/users/alexey-milovidov/following{/other_user}","gists_url":"https://api.github.com/users/alexey-milovidov/gists{/gist_id}","starred_url":"https://api.github.com/users/alexey-milovidov/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alexey-milovidov/subscriptions","organizations_url":"https://api.github.com/users/alexey-milovidov/orgs","repos_url":"https://api.github.com/users/alexey-milovidov/repos","events_url":"https://api.github.com/users/alexey-milovidov/events{/privacy}","received_events_url":"https://api.github.com/users/alexey-milovidov/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T18:28:46Z","updated_at":"2023-03-31T18:28:46Z","author_association":"NONE","body":"We have added support for Iceberg to ClickHouse, without the SDK, but it is quite limited - no updates and the metadata support is sketchy. The SDK, either C++ or Rust will help a lot.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492419394/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492666578","html_url":"https://github.com/apache/iceberg/pull/5327#issuecomment-1492666578","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5327","id":1492666578,"node_id":"IC_kwDOCW7NX85Y-EjS","user":{"login":"GabeChurch","id":31358000,"node_id":"MDQ6VXNlcjMxMzU4MDAw","avatar_url":"https://avatars.githubusercontent.com/u/31358000?v=4","gravatar_id":"","url":"https://api.github.com/users/GabeChurch","html_url":"https://github.com/GabeChurch","followers_url":"https://api.github.com/users/GabeChurch/followers","following_url":"https://api.github.com/users/GabeChurch/following{/other_user}","gists_url":"https://api.github.com/users/GabeChurch/gists{/gist_id}","starred_url":"https://api.github.com/users/GabeChurch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabeChurch/subscriptions","organizations_url":"https://api.github.com/users/GabeChurch/orgs","repos_url":"https://api.github.com/users/GabeChurch/repos","events_url":"https://api.github.com/users/GabeChurch/events{/privacy}","received_events_url":"https://api.github.com/users/GabeChurch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-31T22:07:43Z","updated_at":"2023-03-31T22:17:09Z","author_association":"NONE","body":"I'm going to bump this as well. \r\n\r\nIt is potentially extremely helpful in cases where users want to \"extend-read-only\" s3-access to an iceberg table across environments, but have a separate hive metastores. For instance -- say users have a sandbox environment where they want to make a table from a production environment accessible that doesn't depend on atomicity, extending read-only access would save a HUGE expense in replication. \r\n\r\nWith the existing procedure the only option is to force drop the table before re-registering a new metafile, which can break other things attempting to access the table. It would be much better to maintain a lock on the table until the metadata has changed (drop+register at API level) so that other queries do not fail if they attempt to query while new metadata is being written via the force option mentioned. \r\n\r\nIf we can't add a \"force\" option to the \"iceberg.system.register_table\" we should add a new \"non-storage-level-invasive\" method to update metadata without requiring end users to drop a table via another system process -- maybe something like \"iceberg.system.override_registered_table\"\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492666578/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492784798","html_url":"https://github.com/apache/iceberg/pull/7127#issuecomment-1492784798","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7127","id":1492784798,"node_id":"IC_kwDOCW7NX85Y-hae","user":{"login":"sririshindra","id":9795421,"node_id":"MDQ6VXNlcjk3OTU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/9795421?v=4","gravatar_id":"","url":"https://api.github.com/users/sririshindra","html_url":"https://github.com/sririshindra","followers_url":"https://api.github.com/users/sririshindra/followers","following_url":"https://api.github.com/users/sririshindra/following{/other_user}","gists_url":"https://api.github.com/users/sririshindra/gists{/gist_id}","starred_url":"https://api.github.com/users/sririshindra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sririshindra/subscriptions","organizations_url":"https://api.github.com/users/sririshindra/orgs","repos_url":"https://api.github.com/users/sririshindra/repos","events_url":"https://api.github.com/users/sririshindra/events{/privacy}","received_events_url":"https://api.github.com/users/sririshindra/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T01:49:49Z","updated_at":"2023-04-01T01:49:49Z","author_association":"CONTRIBUTOR","body":"> > One of the common causes of delete failure in the public cloud is hitting the API quotas and unnecessary re-runs of the delete action\r\n> \r\n> Not really. What size of pages are you issuing delete requests to S3? Each object, even in a bulk delete, is one Write IOP; if you send a full 1000 entry list then under certain conditions the sleep and retry of that request is it's own thundering herd. Since [HADOOP-16823](https://issues.apache.org/jira/browse/HADOOP-16823) we've had a default page size of 200 and nobody complains about 503-triggered deletion failures, even when partition rebalancing operations massively reduce IO capacity . If you are seeing problems the S3A connector then complain. If you are seeing it in your own code -why not fix it there rather than expose the failure to apps?\r\n\r\nHi Steve, I am partially summarizing our offline conversation here. Maybe the statement that \"causes of delete failure in the public cloud is hitting the API quotas\" is wrong, but I think this PR still adds value.\r\n\r\nWhen a remove orphan files procedure is called, currently a list of files that were supposed to be deleted are displayed, but that procedure doesn't give nay information about whether those files were in fact deleted. This PR simply displays the status of the delete file along with the delete file itself. If a failure occurs for some reason, the exception message is also displayed. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492784798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492838339","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1492838339","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1492838339,"node_id":"IC_kwDOCW7NX85Y-ufD","user":{"login":"gong","id":9883232,"node_id":"MDQ6VXNlcjk4ODMyMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9883232?v=4","gravatar_id":"","url":"https://api.github.com/users/gong","html_url":"https://github.com/gong","followers_url":"https://api.github.com/users/gong/followers","following_url":"https://api.github.com/users/gong/following{/other_user}","gists_url":"https://api.github.com/users/gong/gists{/gist_id}","starred_url":"https://api.github.com/users/gong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gong/subscriptions","organizations_url":"https://api.github.com/users/gong/orgs","repos_url":"https://api.github.com/users/gong/repos","events_url":"https://api.github.com/users/gong/events{/privacy}","received_events_url":"https://api.github.com/users/gong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T05:24:51Z","updated_at":"2023-04-01T08:47:56Z","author_association":"NONE","body":"> > partition is too much. Snapshot data is partitioned by yyyy-mm-dd format of create_time field. I set 5 parallelisms and checkpoint interval is 1 min.\r\n> \r\n> Sounds like it's a streaming job? Do you receive very many different partitions (days) in one checkpoint cycle (1 min)? In my experience, it's usually in single digits. I'm a little confused about that.\r\n> \r\n> Of course, I'm not against using LRU, just curious about your case.\r\n\r\n@hililiwei Partition field data is discrete when read snapshot phase. I write a defective code when use LRU map. Beacause I don't close writer. Thanks for your suggestion. I increase memory to avoid oom but checkpoint time is too long. I think cost many time to close writer. I increase checkpoint interval to avoid frequently close writer. Do you have any suggestion?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492838339/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492881770","html_url":"https://github.com/apache/iceberg/pull/7217#issuecomment-1492881770","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7217","id":1492881770,"node_id":"IC_kwDOCW7NX85Y-5Fq","user":{"login":"gong","id":9883232,"node_id":"MDQ6VXNlcjk4ODMyMzI=","avatar_url":"https://avatars.githubusercontent.com/u/9883232?v=4","gravatar_id":"","url":"https://api.github.com/users/gong","html_url":"https://github.com/gong","followers_url":"https://api.github.com/users/gong/followers","following_url":"https://api.github.com/users/gong/following{/other_user}","gists_url":"https://api.github.com/users/gong/gists{/gist_id}","starred_url":"https://api.github.com/users/gong/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gong/subscriptions","organizations_url":"https://api.github.com/users/gong/orgs","repos_url":"https://api.github.com/users/gong/repos","events_url":"https://api.github.com/users/gong/events{/privacy}","received_events_url":"https://api.github.com/users/gong/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T08:52:00Z","updated_at":"2023-04-01T08:52:00Z","author_association":"NONE","body":"> > > partition is too much. Snapshot data is partitioned by yyyy-mm-dd format of create_time field. I set 5 parallelisms and checkpoint interval is 1 min.\r\n> > \r\n> > \r\n> > Sounds like it's a streaming job? Do you receive very many different partitions (days) in one checkpoint cycle (1 min)? In my experience, it's usually in single digits. I'm a little confused about that.\r\n> > Of course, I'm not against using LRU, just curious about your case.\r\n> \r\n> @hililiwei Partition field data is discrete when read snapshot phase. I write a defective code when use LRU map. Beacause I don't close writer. Thanks for your suggestion. I increase memory to avoid oom but checkpoint time is too long. I think cost many time to close writer. I increase checkpoint interval to avoid frequently close writer. Do you have any suggestion?\r\n\r\n@hililiwei I modify PartitionedDeltaWriter#close method to paralle close. It can reduce checkpoint time.\r\n```java\r\n Tasks.foreach(writers.values())\r\n                    .throwFailureWhenFinished()\r\n                    .noRetry()\r\n                    .executeWith(EXECUTOR_SERVICE) // set a ExecutorService object\r\n                    .run(RowDataDeltaWriter::close, IOException.class);\r\n```","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492881770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492954913","html_url":"https://github.com/apache/iceberg/issues/5122#issuecomment-1492954913","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5122","id":1492954913,"node_id":"IC_kwDOCW7NX85Y_K8h","user":{"login":"JanKaul","id":19823005,"node_id":"MDQ6VXNlcjE5ODIzMDA1","avatar_url":"https://avatars.githubusercontent.com/u/19823005?v=4","gravatar_id":"","url":"https://api.github.com/users/JanKaul","html_url":"https://github.com/JanKaul","followers_url":"https://api.github.com/users/JanKaul/followers","following_url":"https://api.github.com/users/JanKaul/following{/other_user}","gists_url":"https://api.github.com/users/JanKaul/gists{/gist_id}","starred_url":"https://api.github.com/users/JanKaul/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JanKaul/subscriptions","organizations_url":"https://api.github.com/users/JanKaul/orgs","repos_url":"https://api.github.com/users/JanKaul/repos","events_url":"https://api.github.com/users/JanKaul/events{/privacy}","received_events_url":"https://api.github.com/users/JanKaul/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-01T12:16:05Z","updated_at":"2023-04-01T12:16:05Z","author_association":"NONE","body":"You probably wrote the iceberg engine in C++, right? It would be great if we could somehow combine the effort.\r\n\r\nTo be honest iceberg-rust is also missing a lot of features. Updates, compaction, ... is all not supported at the moment.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1492954913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493209299","html_url":"https://github.com/apache/iceberg/issues/7239#issuecomment-1493209299","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7239","id":1493209299,"node_id":"IC_kwDOCW7NX85ZAJDT","user":{"login":"amogh-jahagirdar","id":87500546,"node_id":"MDQ6VXNlcjg3NTAwNTQ2","avatar_url":"https://avatars.githubusercontent.com/u/87500546?v=4","gravatar_id":"","url":"https://api.github.com/users/amogh-jahagirdar","html_url":"https://github.com/amogh-jahagirdar","followers_url":"https://api.github.com/users/amogh-jahagirdar/followers","following_url":"https://api.github.com/users/amogh-jahagirdar/following{/other_user}","gists_url":"https://api.github.com/users/amogh-jahagirdar/gists{/gist_id}","starred_url":"https://api.github.com/users/amogh-jahagirdar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amogh-jahagirdar/subscriptions","organizations_url":"https://api.github.com/users/amogh-jahagirdar/orgs","repos_url":"https://api.github.com/users/amogh-jahagirdar/repos","events_url":"https://api.github.com/users/amogh-jahagirdar/events{/privacy}","received_events_url":"https://api.github.com/users/amogh-jahagirdar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T03:04:44Z","updated_at":"2023-04-02T03:08:00Z","author_association":"CONTRIBUTOR","body":"I just verified this as well, I think we may want to revert the [change](https://github.com/apache/iceberg/commit/fc501f33761ae35a48f257d6d973d835fccd6da7#diff-d278772fd3dc1431367d81a075a79404d9e1acff28fab611ad4e3d1343133596R148) because `name()` is a public API whose behavior is relied upon as we can see in this `SHOW CREATE TABLE` use case. To achieve the nice Spark UI improvements for observability for Iceberg tables, I think we should either leverage another API if one exists or add a new one in Spark and leverage that in our Dsv2 implementation. \r\n\r\nThoughts @aokolnychyi @sumeetgajjar @szehon-ho @RussellSpitzer @singhpk234 @jackye1995 ?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493209299/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493224105","html_url":"https://github.com/apache/iceberg/pull/7085#issuecomment-1493224105","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7085","id":1493224105,"node_id":"IC_kwDOCW7NX85ZAMqp","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T04:58:12Z","updated_at":"2023-04-02T04:58:12Z","author_association":"CONTRIBUTOR","body":"Superseded by #7264.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493224105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493224219","html_url":"https://github.com/apache/iceberg/pull/7140#issuecomment-1493224219","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7140","id":1493224219,"node_id":"IC_kwDOCW7NX85ZAMsb","user":{"login":"dependabot[bot]","id":49699333,"node_id":"MDM6Qm90NDk2OTkzMzM=","avatar_url":"https://avatars.githubusercontent.com/in/29110?v=4","gravatar_id":"","url":"https://api.github.com/users/dependabot%5Bbot%5D","html_url":"https://github.com/apps/dependabot","followers_url":"https://api.github.com/users/dependabot%5Bbot%5D/followers","following_url":"https://api.github.com/users/dependabot%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/dependabot%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/dependabot%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dependabot%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/dependabot%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/dependabot%5Bbot%5D/repos","events_url":"https://api.github.com/users/dependabot%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/dependabot%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T04:58:58Z","updated_at":"2023-04-02T04:58:58Z","author_association":"CONTRIBUTOR","body":"Superseded by #7265.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493224219/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493252959","html_url":"https://github.com/apache/iceberg/issues/7258#issuecomment-1493252959","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7258","id":1493252959,"node_id":"IC_kwDOCW7NX85ZATtf","user":{"login":"BorisTheB1ad3","id":33499826,"node_id":"MDQ6VXNlcjMzNDk5ODI2","avatar_url":"https://avatars.githubusercontent.com/u/33499826?v=4","gravatar_id":"","url":"https://api.github.com/users/BorisTheB1ad3","html_url":"https://github.com/BorisTheB1ad3","followers_url":"https://api.github.com/users/BorisTheB1ad3/followers","following_url":"https://api.github.com/users/BorisTheB1ad3/following{/other_user}","gists_url":"https://api.github.com/users/BorisTheB1ad3/gists{/gist_id}","starred_url":"https://api.github.com/users/BorisTheB1ad3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BorisTheB1ad3/subscriptions","organizations_url":"https://api.github.com/users/BorisTheB1ad3/orgs","repos_url":"https://api.github.com/users/BorisTheB1ad3/repos","events_url":"https://api.github.com/users/BorisTheB1ad3/events{/privacy}","received_events_url":"https://api.github.com/users/BorisTheB1ad3/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T07:22:08Z","updated_at":"2023-04-02T07:22:08Z","author_association":"NONE","body":"Found out that there was already created [issue and MR](https://github.com/apache/iceberg/pull/7228) for fix. ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493252959/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493286778","html_url":"https://github.com/apache/iceberg/issues/6420#issuecomment-1493286778","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6420","id":1493286778,"node_id":"IC_kwDOCW7NX85ZAb96","user":{"login":"wmoustafa","id":10084105,"node_id":"MDQ6VXNlcjEwMDg0MTA1","avatar_url":"https://avatars.githubusercontent.com/u/10084105?v=4","gravatar_id":"","url":"https://api.github.com/users/wmoustafa","html_url":"https://github.com/wmoustafa","followers_url":"https://api.github.com/users/wmoustafa/followers","following_url":"https://api.github.com/users/wmoustafa/following{/other_user}","gists_url":"https://api.github.com/users/wmoustafa/gists{/gist_id}","starred_url":"https://api.github.com/users/wmoustafa/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wmoustafa/subscriptions","organizations_url":"https://api.github.com/users/wmoustafa/orgs","repos_url":"https://api.github.com/users/wmoustafa/repos","events_url":"https://api.github.com/users/wmoustafa/events{/privacy}","received_events_url":"https://api.github.com/users/wmoustafa/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T10:07:51Z","updated_at":"2023-04-02T10:07:51Z","author_association":"CONTRIBUTOR","body":"I do not think the Iceberg metadata should \"point back\" to the catalog IDs (first option). What is the disadvantage of just going with the location of the storage table (last option, but without the protocol part)?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493286778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493398586","html_url":"https://github.com/apache/iceberg/pull/7262#issuecomment-1493398586","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7262","id":1493398586,"node_id":"IC_kwDOCW7NX85ZA3Q6","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T17:34:53Z","updated_at":"2023-04-02T17:34:53Z","author_association":"CONTRIBUTOR","body":"Thanks @bryanck, this is great find and fix !\r\n\r\none doubt will it cause issue when we switch back the client from apache to url-connection (let's say via table props) considering this was not a issue with url-connection client ? \r\n\r\nAlso do we need this in 1.2.1 considering 1.2.0 was still shipped with url-connection as default http client ? The regression commit is still in master [commit](https://github.com/apache/iceberg/commit/053028ceb6d3bc04c223a521600b053235bf344a). ","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493398586/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493400555","html_url":"https://github.com/apache/iceberg/pull/7262#issuecomment-1493400555","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7262","id":1493400555,"node_id":"IC_kwDOCW7NX85ZA3vr","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T17:44:47Z","updated_at":"2023-04-02T17:52:23Z","author_association":"CONTRIBUTOR","body":"@singhpk234 The `abort()` is a no-op with the URL connection client, so it should behave mostly the same as before when using that client (except with the added read for the EOS check).\r\n\r\nI thought we wanted to get https://github.com/apache/iceberg/pull/7119 into 1.2.1, is that still the case @danielcweeks @nastra ? Without that, it becomes more cumbersome to configure when using the AWS bundle, as including the URL connection client on the classpath then requires the default AWS http client be set also (e.g. via system properties).","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493400555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493407286","html_url":"https://github.com/apache/iceberg/pull/6699#issuecomment-1493407286","issue_url":"https://api.github.com/repos/apache/iceberg/issues/6699","id":1493407286,"node_id":"IC_kwDOCW7NX85ZA5Y2","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T18:17:38Z","updated_at":"2023-04-02T18:17:38Z","author_association":"CONTRIBUTOR","body":"@snazy, this is just moving the types around and doesn't introduce any other changes, right?","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493407286/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493408082","html_url":"https://github.com/apache/iceberg/pull/7262#issuecomment-1493408082","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7262","id":1493408082,"node_id":"IC_kwDOCW7NX85ZA5lS","user":{"login":"singhpk234","id":35593236,"node_id":"MDQ6VXNlcjM1NTkzMjM2","avatar_url":"https://avatars.githubusercontent.com/u/35593236?v=4","gravatar_id":"","url":"https://api.github.com/users/singhpk234","html_url":"https://github.com/singhpk234","followers_url":"https://api.github.com/users/singhpk234/followers","following_url":"https://api.github.com/users/singhpk234/following{/other_user}","gists_url":"https://api.github.com/users/singhpk234/gists{/gist_id}","starred_url":"https://api.github.com/users/singhpk234/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/singhpk234/subscriptions","organizations_url":"https://api.github.com/users/singhpk234/orgs","repos_url":"https://api.github.com/users/singhpk234/repos","events_url":"https://api.github.com/users/singhpk234/events{/privacy}","received_events_url":"https://api.github.com/users/singhpk234/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T18:21:43Z","updated_at":"2023-04-02T18:21:43Z","author_association":"CONTRIBUTOR","body":"@bryanck apologies, as per my understanding, I thought it's other way round, based on this file [UrlConnectionHttpClient.java](https://github.com/aws/aws-sdk-java-v2/blob/master/http-clients/url-connection-client/src/main/java/software/amazon/awssdk/http/urlconnection/UrlConnectionHttpClient.java#L432-L434) `abort()` actually disconnects the connection and in the close it's a no-op [close()](https://github.com/aws/aws-sdk-java-v2/blob/master/http-clients/url-connection-client/src/main/java/software/amazon/awssdk/http/urlconnection/UrlConnectionHttpClient.java#L143-L145)\r\n\r\nI am also very curious about this statement from the [doc](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/ResponseInputStream.html) as well :\r\n \r\n\"Input stream that provides access to the unmarshalled POJO response returned by the service in addition to the streamed contents. This input stream should be closed to release the underlying connection back to the connection pool.\r\n\r\nIf it is not desired to read remaining data from the stream, you can explicitly abort the connection via [abort()](https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/core/ResponseInputStream.html#abort()). Note that this will close the underlying connection and require establishing an HTTP connection which may outweigh the cost of reading the additional data.\"\r\n\r\nIf we go by the last paragraph and IIUC, it says calling abort will not let the connection being re-used and the connection pool will have to establish a new http connection, can it cause regression in some scenario ?\r\n\r\nI am just trying to clear my understanding here. \r\n\r\n\r\n-----\r\n\r\n> I thought we wanted to get https://github.com/apache/iceberg/pull/7119 into 1.2.1, is that still the case\r\n\r\nMy understanding was 1.2.1 was only for bug fixes for 1.2.0 release.\r\n","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493408082/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493410320","html_url":"https://github.com/apache/iceberg/pull/2639#issuecomment-1493410320","issue_url":"https://api.github.com/repos/apache/iceberg/issues/2639","id":1493410320,"node_id":"IC_kwDOCW7NX85ZA6IQ","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T18:33:03Z","updated_at":"2023-04-02T18:33:03Z","author_association":"CONTRIBUTOR","body":"@ggershinsky this looks close. Just style and naming issues left.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493410320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493425388","html_url":"https://github.com/apache/iceberg/pull/7262#issuecomment-1493425388","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7262","id":1493425388,"node_id":"IC_kwDOCW7NX85ZA9zs","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T19:51:11Z","updated_at":"2023-04-02T19:51:11Z","author_association":"CONTRIBUTOR","body":"@singhpk234 `abort()` is being called on the stream, in this case it is a `ResponseInputStream`, rather than on the client. You are correct that calling `abort()` will render the connection not reusable, so there is a trade off. I tried to balance that by checking for EOS and only aborting if we aren't at the EOS, so in cases we are we can reuse the connection. The trade off is reading a bunch of data unnecessarily vs reusing the connection.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493425388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493425941","html_url":"https://github.com/apache/iceberg/pull/7262#issuecomment-1493425941","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7262","id":1493425941,"node_id":"IC_kwDOCW7NX85ZA98V","user":{"login":"bryanck","id":5475421,"node_id":"MDQ6VXNlcjU0NzU0MjE=","avatar_url":"https://avatars.githubusercontent.com/u/5475421?v=4","gravatar_id":"","url":"https://api.github.com/users/bryanck","html_url":"https://github.com/bryanck","followers_url":"https://api.github.com/users/bryanck/followers","following_url":"https://api.github.com/users/bryanck/following{/other_user}","gists_url":"https://api.github.com/users/bryanck/gists{/gist_id}","starred_url":"https://api.github.com/users/bryanck/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bryanck/subscriptions","organizations_url":"https://api.github.com/users/bryanck/orgs","repos_url":"https://api.github.com/users/bryanck/repos","events_url":"https://api.github.com/users/bryanck/events{/privacy}","received_events_url":"https://api.github.com/users/bryanck/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T19:54:20Z","updated_at":"2023-04-02T19:58:15Z","author_association":"CONTRIBUTOR","body":"I ran the TPC-DS benchmark with and without the changes in this PR using the Apache HTTP client. Without this change, the result was ~2x slower (as a result of reading far more data). With this change, the result was the same as with URL connection client (and the amount of data transferred was also the same). Closing the stream opened by URL connection client won't read to EOS like with the Apache HTTP client, so with this PR the behavior should be better aligned.","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493425941/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493471281","html_url":"https://github.com/apache/iceberg/pull/7128#issuecomment-1493471281","issue_url":"https://api.github.com/repos/apache/iceberg/issues/7128","id":1493471281,"node_id":"IC_kwDOCW7NX85ZBJAx","user":{"login":"rdblue","id":87915,"node_id":"MDQ6VXNlcjg3OTE1","avatar_url":"https://avatars.githubusercontent.com/u/87915?v=4","gravatar_id":"","url":"https://api.github.com/users/rdblue","html_url":"https://github.com/rdblue","followers_url":"https://api.github.com/users/rdblue/followers","following_url":"https://api.github.com/users/rdblue/following{/other_user}","gists_url":"https://api.github.com/users/rdblue/gists{/gist_id}","starred_url":"https://api.github.com/users/rdblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rdblue/subscriptions","organizations_url":"https://api.github.com/users/rdblue/orgs","repos_url":"https://api.github.com/users/rdblue/repos","events_url":"https://api.github.com/users/rdblue/events{/privacy}","received_events_url":"https://api.github.com/users/rdblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-02T23:50:07Z","updated_at":"2023-04-02T23:50:07Z","author_association":"CONTRIBUTOR","body":"@singhpk234, I opened a PR against your branch to fix a few remaining issues, like unnecessary object allocation and to improve the number of bits we get out of the hash. I think this is ready once that's merged: https://github.com/singhpk234/iceberg/pull/57","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493471281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493480334","html_url":"https://github.com/apache/iceberg/issues/5790#issuecomment-1493480334","issue_url":"https://api.github.com/repos/apache/iceberg/issues/5790","id":1493480334,"node_id":"IC_kwDOCW7NX85ZBLOO","user":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"created_at":"2023-04-03T00:11:03Z","updated_at":"2023-04-03T00:11:03Z","author_association":"NONE","body":"This issue has been closed because it has not received any activity in the last 14 days since being marked as 'stale'","reactions":{"url":"https://api.github.com/repos/apache/iceberg/issues/comments/1493480334/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]