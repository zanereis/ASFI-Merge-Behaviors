[{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490666062","html_url":"https://github.com/apache/madlib/pull/385#issuecomment-490666062","issue_url":"https://api.github.com/repos/apache/madlib/issues/385","id":490666062,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDY2NjA2Mg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T21:58:17Z","updated_at":"2019-05-08T21:58:17Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/890/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490666062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490671127","html_url":"https://github.com/apache/madlib/pull/382#issuecomment-490671127","issue_url":"https://api.github.com/repos/apache/madlib/issues/382","id":490671127,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDY3MTEyNw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T22:18:02Z","updated_at":"2019-05-08T22:18:02Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/891/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490671127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490680764","html_url":"https://github.com/apache/madlib/pull/382#issuecomment-490680764","issue_url":"https://api.github.com/repos/apache/madlib/issues/382","id":490680764,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDY4MDc2NA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T22:53:33Z","updated_at":"2019-05-08T22:53:33Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/892/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490680764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490684945","html_url":"https://github.com/apache/madlib/pull/382#issuecomment-490684945","issue_url":"https://api.github.com/repos/apache/madlib/issues/382","id":490684945,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDY4NDk0NQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-08T23:13:22Z","updated_at":"2019-05-08T23:13:22Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/893/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490684945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490705673","html_url":"https://github.com/apache/madlib/pull/387#issuecomment-490705673","issue_url":"https://api.github.com/repos/apache/madlib/issues/387","id":490705673,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDcwNTY3Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T01:09:57Z","updated_at":"2019-05-09T01:09:57Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/894/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/490705673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491007967","html_url":"https://github.com/apache/madlib/pull/388#issuecomment-491007967","issue_url":"https://api.github.com/repos/apache/madlib/issues/388","id":491007967,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTAwNzk2Nw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T18:08:06Z","updated_at":"2019-05-09T18:08:06Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/895/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491007967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491381652","html_url":"https://github.com/apache/madlib/pull/389#issuecomment-491381652","issue_url":"https://api.github.com/repos/apache/madlib/issues/389","id":491381652,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTM4MTY1Mg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T18:09:19Z","updated_at":"2019-05-10T18:09:19Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/896/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491381652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491443083","html_url":"https://github.com/apache/madlib/pull/389#issuecomment-491443083","issue_url":"https://api.github.com/repos/apache/madlib/issues/389","id":491443083,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTQ0MzA4Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-10T22:03:32Z","updated_at":"2019-05-10T22:03:32Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/897/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491443083/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491540303","html_url":"https://github.com/apache/madlib/pull/385#issuecomment-491540303","issue_url":"https://api.github.com/repos/apache/madlib/issues/385","id":491540303,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTU0MDMwMw==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-11T20:09:57Z","updated_at":"2019-05-11T20:15:44Z","author_association":"NONE","body":"I guess I am not clear on what are mandatory/optional params for compile and fit, and how errors are handled.  Can you please list this out so I know what to look for?  In general, I would have thought we ought to reflect what are mandatory/optional params as keras sees them.   Maybe we are doing that but it's not clear to me.\r\n\r\n(1)\r\nregular test\r\n```\r\nDROP TABLE IF EXISTS model1, model1_summary;\r\nSELECT madlib.madlib_keras_fit('mnist_train_packed',  -- source_table\r\n                               'model1', -- model\r\n                               'dependent_var',\r\n                               'independent_var',\r\n                               'model_arch_library',  -- model_arch_table\r\n                               1,  -- model_arch_id\r\n                               $$ loss='categorical_crossentropy', optimizer='adam', metrics=['acc'] $$,  -- compile_params\r\n                               $$ batch_size=128, epochs=4 $$,  -- fit_params\r\n                               5,  -- num_iterations\r\n                               0,  -- gpus per host\r\n                               NULL,  -- validation_table\r\n                               'Frank',  -- name\r\n                               'A test model'  -- description\r\n                              );\r\n\r\nINFO:  Processed 30000 images: Fit took 4.37503194809 sec, Total was 5.91591286659 sec  (seg0 slice1 10.128.0.41:40000 pid=2400)\r\nCONTEXT:  PL/Python function \"fit_transition\"\r\nINFO:  Processed 30000 images: Fit took 4.39241290092 sec, Total was 5.95022010803 sec  (seg1 slice1 10.128.0.41:40001 pid=2401)\r\nCONTEXT:  PL/Python function \"fit_transition\"\r\nINFO:  Time for iteration 5: 8.3350250721 sec\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nINFO:  Average loss after training iteration 5: 0.0441886410117\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nINFO:  Average accuracy after training iteration 5: 0.986333310604\r\n```\r\nOK\r\n\r\n(2)\r\nno metrics param\r\n```\r\nDROP TABLE IF EXISTS model1, model1_summary;\r\nSELECT madlib.madlib_keras_fit('mnist_train_packed',  -- source_table\r\n                               'model1', -- model\r\n                               'dependent_var',  -- dependent_varname\r\n                               'independent_var',  -- independent_varname\r\n                               'model_arch_library',  -- model_arch_table\r\n                               1,  -- model_arch_id\r\n                               $$ loss='categorical_crossentropy', optimizer='adam' $$,  -- compile_params\r\n                               $$ batch_size=128, epochs=4 $$,  -- fit_params\r\n                               1,  -- num_iterations\r\n                               0,  -- gpus per host\r\n                               NULL,  -- validation_table\r\n                               'Frank',  -- name\r\n                               'A test model'  -- description\r\n                              );\r\n\r\nINFO:  Model architecture size: 1KB\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nINFO:  Model state (serialized) size: 0MB\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nERROR:  plpy.SPIError: KeyError: 'acc' (plpython.c:5038)  (seg1 slice1 10.128.0.41:40001 pid=3000) (plpython.c:5038)\r\nDETAIL:  \r\nTraceback (most recent call last):\r\n  PL/Python function \"fit_transition\", line 6, in <module>\r\n    return madlib_keras.fit_transition(**globals())\r\n  PL/Python function \"fit_transition\", line 431, in fit_transition\r\nPL/Python function \"fit_transition\"\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_fit\", line 21, in <module>\r\n    madlib_keras.fit(**globals())\r\n  PL/Python function \"madlib_keras_fit\", line 173, in fit\r\nPL/Python function \"madlib_keras_fit\"                          \r\n```\r\nIs this the right error?\r\n\r\n\r\n(3)\r\nno loss param\r\n```\r\nDROP TABLE IF EXISTS model1, model1_summary;\r\nSELECT madlib.madlib_keras_fit('mnist_train_packed',  -- source_table\r\n                               'model1', -- model\r\n                               'dependent_var',\r\n                               'independent_var',\r\n                               'model_arch_library',  -- model_arch_table\r\n                               1,  -- model_arch_id\r\n                               $$ optimizer='adam', metrics=['acc'] $$,  -- compile_params\r\n                               $$ batch_size=128, epochs=4 $$,  -- fit_params\r\n                               5,  -- num_iterations\r\n                               0,  -- gpus per host\r\n                               NULL,  -- validation_table\r\n                               'Frank',  -- name\r\n                               'A test model'  -- description\r\n                              );\r\n\r\nINFO:  Model architecture size: 1KB\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nINFO:  Model state (serialized) size: 0MB\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nERROR:  plpy.SPIError: plpy.Error: loss is a required parameter for compile (plpython.c:5038)  (seg0 slice1 10.128.0.41:40000 pid=3238) (plpython.c:5038)\r\nDETAIL:  \r\nTraceback (most recent call last):\r\n  PL/Python function \"fit_transition\", line 6, in <module>\r\n    return madlib_keras.fit_transition(**globals())\r\n  PL/Python function \"fit_transition\", line 408, in fit_transition\r\n  PL/Python function \"fit_transition\", line 101, in compile_and_set_weights\r\n  PL/Python function \"fit_transition\", line 274, in compile_model\r\n  PL/Python function \"fit_transition\", line 175, in parse_and_validate_compile_params\r\n  PL/Python function \"fit_transition\", line 96, in _assert\r\nPL/Python function \"fit_transition\"\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_fit\", line 21, in <module>\r\n    madlib_keras.fit(**globals())\r\n  PL/Python function \"madlib_keras_fit\", line 173, in fit\r\nPL/Python function \"madlib_keras_fit\"\r\n```\r\nIs this the right error to throw\r\n\r\n(4)\r\nNo fit params\r\n\r\n```\r\nDROP TABLE IF EXISTS model1, model1_summary;\r\nSELECT madlib.madlib_keras_fit('mnist_train_packed',  -- source_table\r\n                               'model1', -- model\r\n                               'dependent_var',\r\n                               'independent_var',\r\n                               'model_arch_library',  -- model_arch_table\r\n                               1,  -- model_arch_id\r\n                               $$ loss='categorical_crossentropy', optimizer='adam', metrics=['acc'] $$,  -- compile_params\r\n                               NULL,  -- fit_params\r\n                               5,  -- num_iterations\r\n                               0,  -- gpus per host\r\n                               NULL,  -- validation_table\r\n                               'Frank',  -- name\r\n                               'A test model'  -- description\r\n                              );\r\n\r\nERROR:  TypeError: cannot concatenate 'str' and 'NoneType' objects (plpython.c:5038)\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_fit\", line 21, in <module>\r\n    madlib_keras.fit(**globals())\r\n  PL/Python function \"madlib_keras_fit\", line 142, in fit\r\nPL/Python function \"madlib_keras_fit\"\r\n```\r\nI would have thought that defaults would be used.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491540303/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491932066","html_url":"https://github.com/apache/madlib/pull/385#issuecomment-491932066","issue_url":"https://api.github.com/repos/apache/madlib/issues/385","id":491932066,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTkzMjA2Ng==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T18:21:07Z","updated_at":"2019-05-13T18:21:07Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/898/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491932066/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491939768","html_url":"https://github.com/apache/madlib/pull/390#issuecomment-491939768","issue_url":"https://api.github.com/repos/apache/madlib/issues/390","id":491939768,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTkzOTc2OA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T18:43:58Z","updated_at":"2019-05-13T18:43:58Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/899/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491939768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491946222","html_url":"https://github.com/apache/madlib/pull/388#issuecomment-491946222","issue_url":"https://api.github.com/repos/apache/madlib/issues/388","id":491946222,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk0NjIyMg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T19:03:11Z","updated_at":"2019-05-13T19:03:11Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/900/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491946222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491951786","html_url":"https://github.com/apache/madlib/pull/388#issuecomment-491951786","issue_url":"https://api.github.com/repos/apache/madlib/issues/388","id":491951786,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk1MTc4Ng==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T19:20:22Z","updated_at":"2019-05-13T19:20:22Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/901/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491951786/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491957238","html_url":"https://github.com/apache/madlib/pull/388#issuecomment-491957238","issue_url":"https://api.github.com/repos/apache/madlib/issues/388","id":491957238,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk1NzIzOA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T19:37:49Z","updated_at":"2019-05-13T19:37:49Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/902/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491957238/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491962764","html_url":"https://github.com/apache/madlib/pull/389#issuecomment-491962764","issue_url":"https://api.github.com/repos/apache/madlib/issues/389","id":491962764,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk2Mjc2NA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T19:55:00Z","updated_at":"2019-05-13T19:55:00Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/903/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491962764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491970864","html_url":"https://github.com/apache/madlib/pull/389#issuecomment-491970864","issue_url":"https://api.github.com/repos/apache/madlib/issues/389","id":491970864,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk3MDg2NA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T20:19:26Z","updated_at":"2019-05-13T20:19:26Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/904/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491970864/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491978326","html_url":"https://github.com/apache/madlib/pull/388#issuecomment-491978326","issue_url":"https://api.github.com/repos/apache/madlib/issues/388","id":491978326,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk3ODMyNg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T20:42:11Z","updated_at":"2019-05-13T20:42:11Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/905/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491978326/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491984889","html_url":"https://github.com/apache/madlib/pull/385#issuecomment-491984889","issue_url":"https://api.github.com/repos/apache/madlib/issues/385","id":491984889,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk4NDg4OQ==","user":{"login":"orhankislal","id":9490520,"node_id":"MDQ6VXNlcjk0OTA1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/9490520?v=4","gravatar_id":"","url":"https://api.github.com/users/orhankislal","html_url":"https://github.com/orhankislal","followers_url":"https://api.github.com/users/orhankislal/followers","following_url":"https://api.github.com/users/orhankislal/following{/other_user}","gists_url":"https://api.github.com/users/orhankislal/gists{/gist_id}","starred_url":"https://api.github.com/users/orhankislal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/orhankislal/subscriptions","organizations_url":"https://api.github.com/users/orhankislal/orgs","repos_url":"https://api.github.com/users/orhankislal/repos","events_url":"https://api.github.com/users/orhankislal/events{/privacy}","received_events_url":"https://api.github.com/users/orhankislal/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T21:00:36Z","updated_at":"2019-05-13T21:00:36Z","author_association":"CONTRIBUTOR","body":"@fmcquillan99 Thanks for the comments. The scope of this PR has changed a bit. I changed the title to reflect it. \r\n1. no metrics: The parsing code allows dropping the metrics parameter but a different part of the code still requires it. A future PR will drop that requirement which will fix the issue. Currently, we do require a metric.\r\n1. no loss: The error message is correct.\r\n1. no fit: There was a minor bug which should be fixed now. We will allow both NULL and an empty string for fit_params.","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491984889/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491986539","html_url":"https://github.com/apache/madlib/pull/388#issuecomment-491986539","issue_url":"https://api.github.com/repos/apache/madlib/issues/388","id":491986539,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk4NjUzOQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T21:05:14Z","updated_at":"2019-05-13T21:05:14Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/906/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491986539/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491993883","html_url":"https://github.com/apache/madlib/pull/389#issuecomment-491993883","issue_url":"https://api.github.com/repos/apache/madlib/issues/389","id":491993883,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MTk5Mzg4Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T21:28:45Z","updated_at":"2019-05-13T21:28:45Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/907/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/491993883/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492000602","html_url":"https://github.com/apache/madlib/pull/389#issuecomment-492000602","issue_url":"https://api.github.com/repos/apache/madlib/issues/389","id":492000602,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjAwMDYwMg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T21:51:52Z","updated_at":"2019-05-13T21:51:52Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/908/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492000602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492006619","html_url":"https://github.com/apache/madlib/pull/388#issuecomment-492006619","issue_url":"https://api.github.com/repos/apache/madlib/issues/388","id":492006619,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjAwNjYxOQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T22:14:31Z","updated_at":"2019-05-13T22:14:31Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/909/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492006619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492012027","html_url":"https://github.com/apache/madlib/pull/385#issuecomment-492012027","issue_url":"https://api.github.com/repos/apache/madlib/issues/385","id":492012027,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjAxMjAyNw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-13T22:37:13Z","updated_at":"2019-05-13T22:37:13Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/910/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492012027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492332372","html_url":"https://github.com/apache/madlib/pull/385#issuecomment-492332372","issue_url":"https://api.github.com/repos/apache/madlib/issues/385","id":492332372,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjMzMjM3Mg==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-14T17:27:34Z","updated_at":"2019-05-14T17:27:34Z","author_association":"NONE","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492332372/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492436843","html_url":"https://github.com/apache/madlib/pull/388#issuecomment-492436843","issue_url":"https://api.github.com/repos/apache/madlib/issues/388","id":492436843,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MjQzNjg0Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-14T22:38:45Z","updated_at":"2019-05-14T22:38:45Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/911/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492436843/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492868063","html_url":"https://github.com/apache/madlib/pull/391#issuecomment-492868063","issue_url":"https://api.github.com/repos/apache/madlib/issues/391","id":492868063,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Mjg2ODA2Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T00:09:55Z","updated_at":"2019-05-16T00:09:55Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/912/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/492868063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/493569021","html_url":"https://github.com/apache/madlib/pull/392#issuecomment-493569021","issue_url":"https://api.github.com/repos/apache/madlib/issues/392","id":493569021,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzU2OTAyMQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T19:18:20Z","updated_at":"2019-05-17T19:18:20Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/913/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/493569021/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/493611256","html_url":"https://github.com/apache/madlib/pull/392#issuecomment-493611256","issue_url":"https://api.github.com/repos/apache/madlib/issues/392","id":493611256,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzYxMTI1Ng==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T21:58:14Z","updated_at":"2019-05-17T21:58:14Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/914/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/493611256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/493622426","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-493622426","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":493622426,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzYyMjQyNg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T23:01:38Z","updated_at":"2019-05-17T23:01:38Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/915/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/493622426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/493625820","html_url":"https://github.com/apache/madlib/pull/394#issuecomment-493625820","issue_url":"https://api.github.com/repos/apache/madlib/issues/394","id":493625820,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MzYyNTgyMA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-17T23:24:15Z","updated_at":"2019-05-17T23:24:15Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/916/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/493625820/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494173773","html_url":"https://github.com/apache/madlib/pull/392#issuecomment-494173773","issue_url":"https://api.github.com/repos/apache/madlib/issues/392","id":494173773,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE3Mzc3Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T22:32:52Z","updated_at":"2019-05-20T22:32:52Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/917/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494173773/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494178652","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-494178652","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":494178652,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDE3ODY1Mg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-20T22:56:21Z","updated_at":"2019-05-20T22:56:21Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/918/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494178652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494200991","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-494200991","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":494200991,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDIwMDk5MQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T01:02:14Z","updated_at":"2019-05-21T01:02:14Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/919/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494200991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494201060","html_url":"https://github.com/apache/madlib/pull/392#issuecomment-494201060","issue_url":"https://api.github.com/repos/apache/madlib/issues/392","id":494201060,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDIwMTA2MA==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T01:02:44Z","updated_at":"2019-05-21T01:02:44Z","author_association":"NONE","body":"LGTM\r\n\r\n(0) timings on a 2 segment GP5 cluster on CPU\r\n```\r\n10K predictions\r\nTime: 6077.533 ms\r\n\r\n50K predictions\r\nTime: 26784.859 ms\r\n```\r\nThis is much better than before, so looks OK for now.\r\n\r\n\r\n(1) response\r\n\r\n```\r\nDROP TABLE IF EXISTS mnist_test_prediction;\r\n\r\nSELECT madlib.madlib_keras_predict('model1', -- model\r\n                                   'mnist_test',  -- test_table\r\n                                   'id',  -- id column\r\n                                   'x', -- independent var\r\n                                   'mnist_test_prediction'  -- output table\r\n                                   );\r\n\r\nSELECT round(count(*)*100/10000.0,2) as test_accuracy_percent from\r\n    (select mnist_test.y as actual, mnist_test_prediction.estimated_y as estimated\r\n     from mnist_test_prediction inner join mnist_test\r\n     on mnist_test.id=mnist_test_prediction.id) q\r\nWHERE q.actual=q.estimated;\r\n\r\n test_accuracy_percent\r\n-----------------------\r\n                 97.18\r\n(1 row)\r\n```\r\nOK, accuracy as expected\r\n\r\n\r\n(2) prob\r\n```\r\nDROP TABLE IF EXISTS mnist_test_prediction;\r\n\r\nSELECT madlib.madlib_keras_predict('model1', -- model\r\n                                   'mnist_test',  -- test_table\r\n                                   'id',  -- id column\r\n                                   'x', -- independent var\r\n                                   'mnist_test_prediction',  -- output table\r\n                                   'prob'\r\n                                   );\r\n\r\nSELECT * FROM mnist_test_prediction LIMIT 10;\r\n\r\n id |    prob_0     |     prob_1     |    prob_2     |    prob_3     |    prob_4     |    prob_5     |     prob_6     |    prob_7     |    prob_8     |     prob_9\r\n----+---------------+----------------+---------------+---------------+---------------+---------------+----------------+---------------+---------------+----------------\r\n  2 |  9.880677e-07 |   0.0010419372 |     0.9986218 |   6.84927e-05 | 1.2382638e-12 | 0.00024825096 |   6.948901e-07 | 6.1711205e-13 | 1.7804521e-05 |  6.0889234e-14\r\n  4 |     0.9999366 |  2.8256621e-09 | 6.6410103e-06 | 8.4593694e-07 | 7.4489925e-08 | 3.2383898e-05 |  2.9831072e-06 |  9.729254e-06 |  5.108415e-08 | 1.07344185e-05\r\n 12 |  0.0011051608 |  4.6904443e-08 |  3.491906e-05 | 2.4090486e-05 | 2.4900895e-05 |  0.0010728389 |     0.99681705 | 1.4937936e-07 | 0.00092049537 |  2.8245486e-07\r\n 14 |     0.9999608 |  1.6933312e-08 |  3.732735e-06 | 5.4127717e-08 | 9.5467556e-08 | 4.5280945e-06 |   3.560989e-06 | 4.5551647e-06 |  2.301657e-06 |  2.0342342e-05\r\n 20 | 2.2352947e-07 |    9.69698e-09 | 1.6347584e-06 |  1.932719e-06 |     0.9992822 | 3.8802187e-05 |  4.0969678e-07 |  3.759048e-05 | 3.6773997e-06 |   0.0006335543\r\n 22 | 4.0293417e-05 |   6.249896e-09 | 2.8016773e-06 |  7.212842e-07 | 4.9328148e-05 |  0.0026104918 |      0.9971624 | 1.2448003e-08 | 0.00012794712 |  5.9117415e-06\r\n 26 |     0.9999931 | 1.24117915e-14 | 2.2590778e-09 | 1.8620958e-12 |  6.718903e-08 | 2.8648715e-11 |   5.973386e-06 | 4.3913162e-10 | 2.1172746e-09 |  8.0753307e-07\r\n 28 |  1.634239e-07 |   3.018619e-10 |  3.811128e-06 |  7.628142e-08 |     0.9992101 |  5.254892e-05 |  1.4238293e-06 |  5.970224e-06 | 3.5786666e-06 |   0.0007222573\r\n 34 |   0.033928625 | 1.19020935e-08 |  7.676703e-05 | 1.4824612e-07 |    0.94482905 |  0.0005254827 |    0.020210627 | 0.00023137043 |  7.968004e-05 |  0.00011828837\r\n 36 | 2.8703305e-06 |   0.0022232432 |     0.9966936 |  0.0010433431 |  5.737119e-11 | 1.1605422e-05 | 1.04220526e-08 | 3.3659873e-08 | 2.5263162e-05 |   8.308043e-09\r\n(10 rows)\r\n```\r\nOK\r\n\r\n(3) ask for a GPU but there isn't one avail\r\n```\r\nDROP TABLE IF EXISTS mnist_test_prediction;\r\n\r\nSELECT madlib.madlib_keras_predict('model1', -- model\r\n                                   'mnist_test',  -- test_table\r\n                                   'id',  -- id column\r\n                                   'x', -- independent var\r\n                                   'mnist_test_prediction',  -- output table\r\n                                   NULL,\r\n                                   1 -- GPU's per segment host\r\n                                   );\r\n\r\nERROR:  plpy.SPIError: plpy.Error: Cannot assign a device for operation Placeholder: node Placeholder (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:2464) was explicitly assigned to /device:GPU:0 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:XLA_CPU:0 ]. Make sure the device specification refers to a valid device. The requested device appears to be a GPU, but CUDA is not enabled. (plpython.c:5038)  (seg1 slice1 10.128.0.41:40001 pid=14544) (plpython.c:5038)\r\nDETAIL:\r\n\r\n\t [[node Placeholder (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:2464) ]]\r\n\r\nCaused by op u'Placeholder', defined at:\r\n  File \"<string>\", line 1, in <module>\r\n  File \"<string>\", line 8, in __plpython_procedure_internal_keras_predict_66207\r\n  File \"/home/gpadmin/madlib/build/src/ports/greenplum/5/modules/deep_learning/madlib_keras_predict.py\", line 165, in internal_keras_predict\r\n    set_model_weights(model, device_name, model_data, model_shapes)\r\n  File \"/home/gpadmin/madlib/build/src/ports/greenplum/5/modu\r\nTraceback (most recent call last):\r\n  PL/Python function \"internal_keras_predict\", line 7, in <module>\r\n    return madlib_keras_predict.internal_keras_predict(**globals())\r\n  PL/Python function \"internal_keras_predict\", line 210, in internal_keras_predict\r\nPL/Python function \"internal_keras_predict\"\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_predict\", line 28, in <module>\r\n    gpus_per_host)\r\n  PL/Python function \"madlib_keras_predict\", line 112, in predict\r\nPL/Python function \"madlib_keras_predict\"\r\n```\r\nOK\r\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494201060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494217060","html_url":"https://github.com/apache/madlib/pull/394#issuecomment-494217060","issue_url":"https://api.github.com/repos/apache/madlib/issues/394","id":494217060,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDIxNzA2MA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T02:35:46Z","updated_at":"2019-05-21T02:35:46Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/920/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494217060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494221121","html_url":"https://github.com/apache/madlib/pull/392#issuecomment-494221121","issue_url":"https://api.github.com/repos/apache/madlib/issues/392","id":494221121,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDIyMTEyMQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-21T02:59:57Z","updated_at":"2019-05-21T02:59:57Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/921/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494221121/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494609700","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-494609700","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":494609700,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYwOTcwMA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T00:44:18Z","updated_at":"2019-05-22T00:44:18Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/922/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494609700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494612353","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-494612353","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":494612353,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYxMjM1Mw==","user":{"login":"kaknikhil","id":11729207,"node_id":"MDQ6VXNlcjExNzI5MjA3","avatar_url":"https://avatars.githubusercontent.com/u/11729207?v=4","gravatar_id":"","url":"https://api.github.com/users/kaknikhil","html_url":"https://github.com/kaknikhil","followers_url":"https://api.github.com/users/kaknikhil/followers","following_url":"https://api.github.com/users/kaknikhil/following{/other_user}","gists_url":"https://api.github.com/users/kaknikhil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaknikhil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaknikhil/subscriptions","organizations_url":"https://api.github.com/users/kaknikhil/orgs","repos_url":"https://api.github.com/users/kaknikhil/repos","events_url":"https://api.github.com/users/kaknikhil/events{/privacy}","received_events_url":"https://api.github.com/users/kaknikhil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T01:00:08Z","updated_at":"2019-05-22T01:00:08Z","author_association":"CONTRIBUTOR","body":"What do we output in the metric column of the summary table if metric is not passed in ? Is it 0 or null ?","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494612353/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494616052","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-494616052","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":494616052,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYxNjA1Mg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T01:22:37Z","updated_at":"2019-05-22T01:22:37Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/923/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494616052/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494618171","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-494618171","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":494618171,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYxODE3MQ==","user":{"login":"jingyimei","id":10500670,"node_id":"MDQ6VXNlcjEwNTAwNjcw","avatar_url":"https://avatars.githubusercontent.com/u/10500670?v=4","gravatar_id":"","url":"https://api.github.com/users/jingyimei","html_url":"https://github.com/jingyimei","followers_url":"https://api.github.com/users/jingyimei/followers","following_url":"https://api.github.com/users/jingyimei/following{/other_user}","gists_url":"https://api.github.com/users/jingyimei/gists{/gist_id}","starred_url":"https://api.github.com/users/jingyimei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jingyimei/subscriptions","organizations_url":"https://api.github.com/users/jingyimei/orgs","repos_url":"https://api.github.com/users/jingyimei/repos","events_url":"https://api.github.com/users/jingyimei/events{/privacy}","received_events_url":"https://api.github.com/users/jingyimei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T01:34:47Z","updated_at":"2019-05-22T01:34:47Z","author_association":"NONE","body":"> What do we output in the metric column of the summary table if metric is not passed in ? Is it 0 or null ?\r\n\r\n@kaknikhil for now, we leave it as 0, we will take care of it in a future PR.","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494618171/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494635547","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-494635547","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":494635547,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDYzNTU0Nw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T03:12:34Z","updated_at":"2019-05-22T03:12:34Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/924/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494635547/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494924352","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-494924352","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":494924352,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDkyNDM1Mg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T18:58:37Z","updated_at":"2019-05-22T18:58:37Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/925/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494924352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494993053","html_url":"https://github.com/apache/madlib/pull/396#issuecomment-494993053","issue_url":"https://api.github.com/repos/apache/madlib/issues/396","id":494993053,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDk5MzA1Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T22:10:18Z","updated_at":"2019-05-22T22:10:18Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/926/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494993053/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494997881","html_url":"https://github.com/apache/madlib/pull/393#issuecomment-494997881","issue_url":"https://api.github.com/repos/apache/madlib/issues/393","id":494997881,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NDk5Nzg4MQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T22:29:20Z","updated_at":"2019-05-22T22:29:20Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/927/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/494997881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495008969","html_url":"https://github.com/apache/madlib/pull/396#issuecomment-495008969","issue_url":"https://api.github.com/repos/apache/madlib/issues/396","id":495008969,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAwODk2OQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:17:12Z","updated_at":"2019-05-22T23:17:12Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/928/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495008969/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495013325","html_url":"https://github.com/apache/madlib/pull/396#issuecomment-495013325","issue_url":"https://api.github.com/repos/apache/madlib/issues/396","id":495013325,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxMzMyNQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:38:05Z","updated_at":"2019-05-22T23:38:05Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/929/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495013325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495013991","html_url":"https://github.com/apache/madlib/pull/396#issuecomment-495013991","issue_url":"https://api.github.com/repos/apache/madlib/issues/396","id":495013991,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTAxMzk5MQ==","user":{"login":"kaknikhil","id":11729207,"node_id":"MDQ6VXNlcjExNzI5MjA3","avatar_url":"https://avatars.githubusercontent.com/u/11729207?v=4","gravatar_id":"","url":"https://api.github.com/users/kaknikhil","html_url":"https://github.com/kaknikhil","followers_url":"https://api.github.com/users/kaknikhil/followers","following_url":"https://api.github.com/users/kaknikhil/following{/other_user}","gists_url":"https://api.github.com/users/kaknikhil/gists{/gist_id}","starred_url":"https://api.github.com/users/kaknikhil/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kaknikhil/subscriptions","organizations_url":"https://api.github.com/users/kaknikhil/orgs","repos_url":"https://api.github.com/users/kaknikhil/repos","events_url":"https://api.github.com/users/kaknikhil/events{/privacy}","received_events_url":"https://api.github.com/users/kaknikhil/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-22T23:41:19Z","updated_at":"2019-05-22T23:41:19Z","author_association":"CONTRIBUTOR","body":"Closing this PR since we have to make some changes after rebasing","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495013991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495351377","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-495351377","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":495351377,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM1MTM3Nw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T19:22:26Z","updated_at":"2019-05-23T19:22:26Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/930/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495351377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495394363","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-495394363","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":495394363,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTM5NDM2Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T21:37:39Z","updated_at":"2019-05-23T21:37:39Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/931/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495394363/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495401208","html_url":"https://github.com/apache/madlib/pull/397#issuecomment-495401208","issue_url":"https://api.github.com/repos/apache/madlib/issues/397","id":495401208,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQwMTIwOA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T22:02:31Z","updated_at":"2019-05-23T22:02:31Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/932/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495401208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495421266","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-495421266","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":495421266,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTQyMTI2Ng==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-23T23:34:59Z","updated_at":"2019-05-23T23:34:59Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/933/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495421266/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495748292","html_url":"https://github.com/apache/madlib/pull/398#issuecomment-495748292","issue_url":"https://api.github.com/repos/apache/madlib/issues/398","id":495748292,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTc0ODI5Mg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:38:51Z","updated_at":"2019-05-24T18:38:51Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/934/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495748292/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495748933","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-495748933","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":495748933,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTc0ODkzMw==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T18:40:38Z","updated_at":"2019-05-24T18:40:38Z","author_association":"NONE","body":"\r\n(1)\r\nhappy path\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_validate;\r\n\r\nSELECT madlib.madlib_keras_evaluate('iris_model',    -- model\r\n                                   'iris_test',     -- test table\r\n                                   'class_text',    -- dependent var\r\n                                   'attributes',    -- independent var\r\n                                   'iris_validate'  -- output table\r\n                                   );\r\n\r\nWARNING:  column \"attributes\" does not exist\r\nCONTEXT:  PL/Python function \"madlib_keras_evaluate\"\r\n\r\nERROR:  plpy.Error: madlib_keras_evaluate error: invalid independent_varname ('attributes') for test table (iris_test_packed). (plpython.c:5038)\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_evaluate\", line 21, in <module>\r\n    return madlib_keras.evaluate(**globals())\r\n  PL/Python function \"madlib_keras_evaluate\", line 524, in evaluate\r\n  PL/Python function \"madlib_keras_evaluate\", line 95, in __init__\r\n  PL/Python function \"madlib_keras_evaluate\", line 103, in _validate_input_args\r\n  PL/Python function \"madlib_keras_evaluate\", line 127, in _validate_test_tbl_cols\r\n  PL/Python function \"madlib_keras_evaluate\", line 96, in _assert\r\nPL/Python function \"madlib_keras_evaluate\"\r\n```\r\n\r\nLike with `fit()` you should be able to use the original validate column names and not have to use `dependent_var` and `independent_var` : \r\n\r\n```\r\nDROP TABLE IF EXISTS iris_validate;\r\n\r\nSELECT madlib.madlib_keras_evaluate('iris_model',    -- model\r\n                                   'iris_test_packed',     -- test table\r\n                                   'dependent_var',    -- XXX \r\n                                   'independent_var',    -- XXX\r\n                                   'iris_validate'  -- output table\r\n                                   );\r\nNOTICE:  Table doesn't have 'DISTRIBUTED BY' clause -- Using column(s) named 'loss' as the Greenplum Database data distribution key for this table.\r\nHINT:  The 'DISTRIBUTED BY' clause determines the distribution of data. Make sure column(s) chosen are the optimal data distribution key to minimize skew.\r\nCONTEXT:  SQL statement \"\r\n        CREATE TABLE iris_validate AS\r\n        SELECT $1 as loss, $2 as metric\"\r\nPL/Python function \"madlib_keras_evaluate\"\r\n madlib_keras_evaluate \r\n-----------------------\r\n \r\n(1 row)\r\n\r\nTime: 2009.115 ms\r\n```\r\n\r\nAlso need to suppress the verbose output.\r\n\r\n\r\n(2)\r\npass in table that has not been mini-batched\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_validate;\r\n\r\nSELECT madlib.madlib_keras_evaluate('iris_model',    -- model\r\n                                   'iris_test',     -- test table\r\n                                   'dependent_var',    -- XXX \r\n                                   'independent_var',    -- XXX\r\n                                   'iris_validate'  -- output table\r\n                                   );\r\nERROR:  plpy.SPIError: function array_length(character varying, integer) does not exist\r\nLINE 1:  SELECT gp_segment_id, SUM(ARRAY_LENGTH(class_text, 1)) AS i...\r\n                                   ^\r\nHINT:  No function matches the given name and argument types. You might need to add explicit type casts.\r\nQUERY:   SELECT gp_segment_id, SUM(ARRAY_LENGTH(class_text, 1)) AS images_per_seg\r\n                FROM iris_test\r\n                GROUP BY gp_segment_id\r\n            \r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_evaluate\", line 21, in <module>\r\n    return madlib_keras.evaluate(**globals())\r\n  PL/Python function \"madlib_keras_evaluate\", line 541, in evaluate\r\n  PL/Python function \"madlib_keras_evaluate\", line 384, in get_images_per_seg\r\nPL/Python function \"madlib_keras_evaluate\"\r\n\r\n```\r\n\r\nThis will be a common mistake, I'm not sure if the message above is affect by #1 but can we provide a better message what says you need to mini-batch first?  When did the same with `fit()` I got: \r\n\r\n```\r\nDROP TABLE IF EXISTS iris_model, iris_model_summary;\r\n\r\nSELECT madlib.madlib_keras_fit('iris_train',   -- source table\r\n                               'iris_model',          -- model output table\r\n                               'model_arch_library',  -- model arch table\r\n                                1,                    -- model arch id\r\n                                $$ loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'] $$,  -- compile_params\r\n                                $$ batch_size=5, epochs=3 $$,  -- fit_params\r\n                                3                    -- num_iterations\r\n                              );\r\nERROR:  plpy.Error: madlib_keras_fit error: Input table 'iris_train_summary' does not exist (plpython.c:5038)\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_fit\", line 21, in <module>\r\n    madlib_keras.fit(**globals())\r\n  PL/Python function \"madlib_keras_fit\", line 92, in fit\r\n  PL/Python function \"madlib_keras_fit\", line 192, in __init__\r\n  PL/Python function \"madlib_keras_fit\", line 223, in _validate_input_args\r\n  PL/Python function \"madlib_keras_fit\", line 670, in input_tbl_valid\r\nPL/Python function \"madlib_keras_fit\"\r\n```\r\n\r\nwhich I guess is better but not that explicit.\r\n\r\n\r\n\r\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495748933/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495806031","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-495806031","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":495806031,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgwNjAzMQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-24T22:38:22Z","updated_at":"2019-05-24T22:38:22Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/935/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495806031/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495820456","html_url":"https://github.com/apache/madlib/pull/399#issuecomment-495820456","issue_url":"https://api.github.com/repos/apache/madlib/issues/399","id":495820456,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgyMDQ1Ng==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-25T00:40:57Z","updated_at":"2019-05-25T00:40:57Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/936/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495820456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495827991","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-495827991","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":495827991,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgyNzk5MQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-25T02:14:54Z","updated_at":"2019-05-25T02:14:54Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/937/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495827991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495829755","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-495829755","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":495829755,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NTgyOTc1NQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-25T02:36:40Z","updated_at":"2019-05-25T02:36:40Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/938/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/495829755/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/496725431","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-496725431","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":496725431,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NjcyNTQzMQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-28T23:20:48Z","updated_at":"2019-05-28T23:20:48Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/939/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/496725431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/496745917","html_url":"https://github.com/apache/madlib/pull/397#issuecomment-496745917","issue_url":"https://api.github.com/repos/apache/madlib/issues/397","id":496745917,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Njc0NTkxNw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T01:11:07Z","updated_at":"2019-05-29T01:11:07Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/940/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/496745917/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497018072","html_url":"https://github.com/apache/madlib/pull/398#issuecomment-497018072","issue_url":"https://api.github.com/repos/apache/madlib/issues/398","id":497018072,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzAxODA3Mg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T16:47:59Z","updated_at":"2019-05-29T16:47:59Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/941/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497018072/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497067588","html_url":"https://github.com/apache/madlib/pull/397#issuecomment-497067588","issue_url":"https://api.github.com/repos/apache/madlib/issues/397","id":497067588,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzA2NzU4OA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T19:00:06Z","updated_at":"2019-05-29T19:00:06Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/942/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497067588/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497087920","html_url":"https://github.com/apache/madlib/pull/399#issuecomment-497087920","issue_url":"https://api.github.com/repos/apache/madlib/issues/399","id":497087920,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzA4NzkyMA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T20:01:28Z","updated_at":"2019-05-29T20:01:28Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/943/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497087920/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497112763","html_url":"https://github.com/apache/madlib/pull/399#issuecomment-497112763","issue_url":"https://api.github.com/repos/apache/madlib/issues/399","id":497112763,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzExMjc2Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T21:18:06Z","updated_at":"2019-05-29T21:18:06Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/944/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497112763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497140343","html_url":"https://github.com/apache/madlib/pull/400#issuecomment-497140343","issue_url":"https://api.github.com/repos/apache/madlib/issues/400","id":497140343,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzE0MDM0Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T23:07:02Z","updated_at":"2019-05-29T23:07:02Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/945/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497140343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497150387","html_url":"https://github.com/apache/madlib/pull/398#issuecomment-497150387","issue_url":"https://api.github.com/repos/apache/madlib/issues/398","id":497150387,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzE1MDM4Nw==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T23:58:33Z","updated_at":"2019-05-29T23:58:33Z","author_association":"NONE","body":"No tolerance :\r\n\r\n```\r\nmadlib=# SELECT madlib.mlp_classification(\r\nmadlib(#     'iris_data',      -- Source table\r\nmadlib(#     'mlp_model',      -- Destination table\r\nmadlib(#     'attributes',     -- Input features\r\nmadlib(#     'class_text',     -- Label\r\nmadlib(#     ARRAY[5],         -- Number of units per layer\r\nmadlib(#     'learning_rate_init=0.003,\r\nmadlib'#     n_iterations=25,\r\nmadlib'#     tolerance=0',     -- Optimizer params\r\nmadlib(#     'tanh',           -- Activation function\r\nmadlib(#     NULL,             -- Default weight (1)\r\nmadlib(#     FALSE,            -- No warm start\r\nmadlib(#     TRUE             -- Not verbose\r\nmadlib(# );\r\nINFO:  Iteration: 1, Loss: <1.57403083382>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 2, Loss: <1.18209701678>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 3, Loss: <0.805838101786>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 4, Loss: <0.456743716108>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 5, Loss: <0.269013324379>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 6, Loss: <0.176825519276>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 7, Loss: <0.12831471301>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 8, Loss: <0.0995580174594>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 9, Loss: <0.0808205589525>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 10, Loss: <0.0679497236685>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 11, Loss: <0.058451236734>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 12, Loss: <0.0510716510938>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 13, Loss: <0.0453356242116>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 14, Loss: <0.040657636203>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 15, Loss: <0.0368149574231>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 16, Loss: <0.0336085514468>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 17, Loss: <0.0309155266308>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 18, Loss: <0.0286056560803>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 19, Loss: <0.0266028934429>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 20, Loss: <0.0248412801724>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 21, Loss: <0.023296777543>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 22, Loss: <0.0219201410755>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 23, Loss: <0.0206909609214>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 24, Loss: <0.0195874516687>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\n mlp_classification \r\n--------------------\r\n \r\n(1 row)\r\n```\r\n\r\n\r\ntolerance=0.1 :\r\n\r\n```\r\nmadlib=# SELECT madlib.mlp_classification(\r\nmadlib(#     'iris_data',      -- Source table\r\nmadlib(#     'mlp_model',      -- Destination table\r\nmadlib(#     'attributes',     -- Input features\r\nmadlib(#     'class_text',     -- Label\r\nmadlib(#     ARRAY[5],         -- Number of units per layer\r\nmadlib(#     'learning_rate_init=0.003,\r\nmadlib'#     n_iterations=25,\r\nmadlib'#     tolerance=0.1',     -- Optimizer params\r\nmadlib(#     'tanh',           -- Activation function\r\nmadlib(#     NULL,             -- Default weight (1)\r\nmadlib(#     FALSE,            -- No warm start\r\nmadlib(#     TRUE             -- Not verbose\r\nmadlib(# );\r\nINFO:  Iteration: 1, Loss: <1.47220611074>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 2, Loss: <1.24578776394>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 3, Loss: <0.887573516227>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 4, Loss: <0.530981965126>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 5, Loss: <0.306411380721>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\nINFO:  Iteration: 6, Loss: <0.195035410704>\r\nCONTEXT:  PL/Python function \"mlp_classification\"\r\n mlp_classification \r\n--------------------\r\n \r\n(1 row)\r\n```\r\n\r\nLGTM\r\n\r\n@hpandeycodeit @njayaram2   Just to confirm:  in the case of grouping, all groups must meet the tolerance threshold before training is ended?\r\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497150387/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497154507","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-497154507","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":497154507,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzE1NDUwNw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-30T00:20:30Z","updated_at":"2019-05-30T00:20:30Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/946/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497154507/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497163888","html_url":"https://github.com/apache/madlib/pull/401#issuecomment-497163888","issue_url":"https://api.github.com/repos/apache/madlib/issues/401","id":497163888,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzE2Mzg4OA==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-30T01:15:05Z","updated_at":"2019-05-30T01:15:05Z","author_association":"NONE","body":"That's a good catch.","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497163888/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497165044","html_url":"https://github.com/apache/madlib/pull/401#issuecomment-497165044","issue_url":"https://api.github.com/repos/apache/madlib/issues/401","id":497165044,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzE2NTA0NA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-30T01:21:32Z","updated_at":"2019-05-30T01:21:32Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/947/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497165044/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497431090","html_url":"https://github.com/apache/madlib/pull/400#issuecomment-497431090","issue_url":"https://api.github.com/repos/apache/madlib/issues/400","id":497431090,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzQzMTA5MA==","user":{"login":"reductionista","id":2644901,"node_id":"MDQ6VXNlcjI2NDQ5MDE=","avatar_url":"https://avatars.githubusercontent.com/u/2644901?v=4","gravatar_id":"","url":"https://api.github.com/users/reductionista","html_url":"https://github.com/reductionista","followers_url":"https://api.github.com/users/reductionista/followers","following_url":"https://api.github.com/users/reductionista/following{/other_user}","gists_url":"https://api.github.com/users/reductionista/gists{/gist_id}","starred_url":"https://api.github.com/users/reductionista/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reductionista/subscriptions","organizations_url":"https://api.github.com/users/reductionista/orgs","repos_url":"https://api.github.com/users/reductionista/repos","events_url":"https://api.github.com/users/reductionista/events{/privacy}","received_events_url":"https://api.github.com/users/reductionista/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-30T18:19:22Z","updated_at":"2019-05-30T18:19:22Z","author_association":"CONTRIBUTOR","body":"LGTM","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497431090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497456938","html_url":"https://github.com/apache/madlib/pull/401#issuecomment-497456938","issue_url":"https://api.github.com/repos/apache/madlib/issues/401","id":497456938,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzQ1NjkzOA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-30T19:35:19Z","updated_at":"2019-05-30T19:35:19Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/948/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497456938/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497474308","html_url":"https://github.com/apache/madlib/pull/401#issuecomment-497474308","issue_url":"https://api.github.com/repos/apache/madlib/issues/401","id":497474308,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzQ3NDMwOA==","user":{"login":"reductionista","id":2644901,"node_id":"MDQ6VXNlcjI2NDQ5MDE=","avatar_url":"https://avatars.githubusercontent.com/u/2644901?v=4","gravatar_id":"","url":"https://api.github.com/users/reductionista","html_url":"https://github.com/reductionista","followers_url":"https://api.github.com/users/reductionista/followers","following_url":"https://api.github.com/users/reductionista/following{/other_user}","gists_url":"https://api.github.com/users/reductionista/gists{/gist_id}","starred_url":"https://api.github.com/users/reductionista/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reductionista/subscriptions","organizations_url":"https://api.github.com/users/reductionista/orgs","repos_url":"https://api.github.com/users/reductionista/repos","events_url":"https://api.github.com/users/reductionista/events{/privacy}","received_events_url":"https://api.github.com/users/reductionista/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-30T20:28:37Z","updated_at":"2019-05-30T20:29:09Z","author_association":"CONTRIBUTOR","body":"I just want to comment that we should make sure this is tested for 16-bit and 8-bit data types.  If the logic is just based on the size being < 1GB then it will crash whenever there are more than 134217728 elements in the batched array.  (134217728 is the hardcoded maximum number of elements that can be in any array for all of postgres/greenplum).  For 32-bit data types, that ends up being the same as the < 1GB requirement, but for 16-bit it's < 512MB, and for 8-bit it's < 256MB. \r\n\r\nI don't think we can close  this JIRA (https://issues.apache.org/jira/browse/MADLIB-1340) until we're sure both of these issues are handled properly, as there may be two different bugs here.","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497474308/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497530830","html_url":"https://github.com/apache/madlib/pull/400#issuecomment-497530830","issue_url":"https://api.github.com/repos/apache/madlib/issues/400","id":497530830,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzUzMDgzMA==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-31T00:19:12Z","updated_at":"2019-05-31T00:28:41Z","author_association":"NONE","body":"When we say `assume the last dense layer contains the right num_classes` do we have confidence this is the general way to do it?\r\n\r\nsee comment on `layer.output_shape` in \r\nhttps://stackoverflow.com/questions/49527159/how-to-get-the-output-shape-of-a-layer-in-keras\r\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497530830/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497537325","html_url":"https://github.com/apache/madlib/pull/402#issuecomment-497537325","issue_url":"https://api.github.com/repos/apache/madlib/issues/402","id":497537325,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzUzNzMyNQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-31T00:59:06Z","updated_at":"2019-05-31T00:59:06Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/949/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497537325/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497796214","html_url":"https://github.com/apache/madlib/pull/400#issuecomment-497796214","issue_url":"https://api.github.com/repos/apache/madlib/issues/400","id":497796214,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Nzc5NjIxNA==","user":{"login":"jingyimei","id":10500670,"node_id":"MDQ6VXNlcjEwNTAwNjcw","avatar_url":"https://avatars.githubusercontent.com/u/10500670?v=4","gravatar_id":"","url":"https://api.github.com/users/jingyimei","html_url":"https://github.com/jingyimei","followers_url":"https://api.github.com/users/jingyimei/followers","following_url":"https://api.github.com/users/jingyimei/following{/other_user}","gists_url":"https://api.github.com/users/jingyimei/gists{/gist_id}","starred_url":"https://api.github.com/users/jingyimei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jingyimei/subscriptions","organizations_url":"https://api.github.com/users/jingyimei/orgs","repos_url":"https://api.github.com/users/jingyimei/repos","events_url":"https://api.github.com/users/jingyimei/events{/privacy}","received_events_url":"https://api.github.com/users/jingyimei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-31T17:33:25Z","updated_at":"2019-05-31T17:35:10Z","author_association":"NONE","body":"> When we say `assume the last dense layer contains the right num_classes` do we have confidence this is the general way to do it?\r\n> \r\n> see comment on `layer.output_shape` in\r\n> https://stackoverflow.com/questions/49527159/how-to-get-the-output-shape-of-a-layer-in-keras\r\n\r\n@fmcquillan99 For the stackoverflow page, we can get the shape by calling layers.output_shape, but still don't know which one is the last dense layer. After discussion we believe the current solution is the best we can do for now to get the right number.","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497796214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497798192","html_url":"https://github.com/apache/madlib/pull/401#issuecomment-497798192","issue_url":"https://api.github.com/repos/apache/madlib/issues/401","id":497798192,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Nzc5ODE5Mg==","user":{"login":"jingyimei","id":10500670,"node_id":"MDQ6VXNlcjEwNTAwNjcw","avatar_url":"https://avatars.githubusercontent.com/u/10500670?v=4","gravatar_id":"","url":"https://api.github.com/users/jingyimei","html_url":"https://github.com/jingyimei","followers_url":"https://api.github.com/users/jingyimei/followers","following_url":"https://api.github.com/users/jingyimei/following{/other_user}","gists_url":"https://api.github.com/users/jingyimei/gists{/gist_id}","starred_url":"https://api.github.com/users/jingyimei/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jingyimei/subscriptions","organizations_url":"https://api.github.com/users/jingyimei/orgs","repos_url":"https://api.github.com/users/jingyimei/repos","events_url":"https://api.github.com/users/jingyimei/events{/privacy}","received_events_url":"https://api.github.com/users/jingyimei/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-31T17:39:29Z","updated_at":"2019-05-31T17:39:29Z","author_association":"NONE","body":"> I just want to comment that we should make sure this is tested for 16-bit and 8-bit data types. If the logic is just based on the size being < 1GB then it will crash whenever there are more than 134217728 elements in the batched array. (134217728 is the hardcoded maximum number of elements that can be in any array for all of postgres/greenplum). For 32-bit data types, that ends up being the same as the < 1GB requirement, but for 16-bit it's < 512MB, and for 8-bit it's < 256MB.\r\n> \r\n> I don't think we can close this JIRA (https://issues.apache.org/jira/browse/MADLIB-1340) until we're sure both of these issues are handled properly, as there may be two different bugs here.\r\n\r\n@reductionista That's good point. Let's merge this pr first, since it still improves robustness, and raise another PR to address different bits maximum number of elements issue later.","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497798192/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497816869","html_url":"https://github.com/apache/madlib/pull/401#issuecomment-497816869","issue_url":"https://api.github.com/repos/apache/madlib/issues/401","id":497816869,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzgxNjg2OQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-31T18:35:28Z","updated_at":"2019-05-31T18:35:28Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/950/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497816869/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497829990","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-497829990","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":497829990,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzgyOTk5MA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-31T19:17:35Z","updated_at":"2019-05-31T19:17:35Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/951/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497829990/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497890456","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-497890456","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":497890456,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Nzg5MDQ1Ng==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-31T23:37:50Z","updated_at":"2019-05-31T23:57:21Z","author_association":"NONE","body":"Please have a look at (4) and (5) below:\r\n(4) please provide a better warning\r\n(5) better message will be in a later commit\r\n\r\n\r\n(0)\r\ninterface\r\n\r\n```\r\nCREATE OR REPLACE FUNCTION MADLIB_SCHEMA.madlib_keras_evaluate(\r\n    model_table             VARCHAR,\r\n    test_table              VARCHAR,\r\n    output_table            VARCHAR,\r\n    gpus_per_host           INTEGER\r\n```\r\n\r\n\r\n(1)\r\ntrain a model\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_model, iris_model_summary;\r\n\r\nSELECT madlib.madlib_keras_fit('iris_train_packed',   -- source table\r\n                               'iris_model',          -- model output table\r\n                               'model_arch_library',  -- model arch table\r\n                                1,                    -- model arch id\r\n                                $$ loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'] $$,  -- compile_params\r\n                                $$ batch_size=5, epochs=3 $$,  -- fit_params\r\n                                20                    -- num_iterations\r\n                              );\r\n\r\nDROP TABLE IF EXISTS iris_model, iris_model_summary;\r\n\r\nSELECT madlib.madlib_keras_fit('iris_train_packed',   -- source table\r\n                               'iris_model',          -- model output table\r\n                               'model_arch_library',  -- model arch table\r\n                                1,                    -- model arch id\r\n                                $$ loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'] $$,  -- compile_params\r\n                                $$ batch_size=5, epochs=3 $$,  -- fit_params\r\n                                20,                   -- num_iterations\r\n                                0,                    -- GPUs per host\r\n                                'iris_test_packed'   -- validation dataset\r\n                              );\r\n\r\n\r\nINFO:  Training set metric after iteration 20: 0.975000023842.\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nINFO:  Training set loss after iteration 20: 0.222917750478.\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nINFO:  Validation set metric after iteration 20: 0.966666638851.\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\nINFO:  Validation set loss after iteration 20: 0.176595017314.\r\nCONTEXT:  PL/Python function \"madlib_keras_fit\"\r\n```\r\n\r\n\r\n(2)\r\nevaluate the training set\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_validate;\r\n\r\nSELECT madlib.madlib_keras_evaluate('iris_model',    -- model\r\n                                   'iris_train_packed',     -- training table\r\n                                   'iris_validate'  -- output table\r\n                                   );\r\nSELECT * FROM iris_validate;\r\n       loss        |      metric       | metrics_type\r\n-------------------+-------------------+--------------\r\n 0.222917750477791 | 0.975000023841858 | {accuracy}\r\n(1 row)\r\n```\r\n\r\nOK, evaluate loss and accuracy match the fit\r\n\r\nnow manually count accuracy via predict:\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_predict;\r\n\r\nSELECT madlib.madlib_keras_predict('iris_model', -- model\r\n                                   'iris_train',  -- train_table\r\n                                   'id',  -- id column\r\n                                   'attributes', -- independent var\r\n                                   'iris_predict'  -- output table\r\n                                   );\r\n\r\nSELECT round(count(*)*100/(150.0*0.8),2) as train_accuracy_percent from\r\n    (select iris_train.class_text as actual, iris_predict.estimated_class_text as estimated\r\n     from iris_predict inner join iris_train\r\n     on iris_train.id=iris_predict.id) q\r\nWHERE q.actual=q.estimated;\r\n\r\n train_accuracy_percent\r\n------------------------\r\n                  97.50\r\n```\r\n\r\nOK, evaluate loss and accuracy match predict\r\n\r\n\r\n(3)\r\nevaluate the test set\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_validate;\r\n\r\nSELECT madlib.madlib_keras_evaluate('iris_model',    -- model\r\n                                   'iris_test_packed',     -- training table\r\n                                   'iris_validate'  -- output table\r\n                                   );\r\n       loss        |      metric       | metrics_type\r\n-------------------+-------------------+--------------\r\n 0.176595017313957 | 0.966666638851166 | {accuracy}\r\n\r\n(1 row)\r\n```\r\n\r\nOK, evaluate loss and accuracy match the fit above\r\n\r\nnow manually count accuracy via predict:\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_predict;\r\n\r\nSELECT madlib.madlib_keras_predict('iris_model', -- model\r\n                                   'iris_test',  -- test_table\r\n                                   'id',  -- id column\r\n                                   'attributes', -- independent var\r\n                                   'iris_predict'  -- output table\r\n                                   );\r\n\r\nSELECT round(count(*)*100/(150.0*0.2),2) as test_accuracy_percent from\r\n    (select iris_test.class_text as actual, iris_predict.estimated_class_text as estimated\r\n     from iris_predict inner join iris_test\r\n     on iris_test.id=iris_predict.id) q\r\nWHERE q.actual=q.estimated;\r\n\r\n test_accuracy_percent\r\n-----------------------\r\n                 96.67\r\n(1 row)\r\n```\r\nOK, evaluate loss and accuracy match predict\r\n\r\n\r\n(4)\r\npass in table that has not been mini-batched\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_validate;\r\n\r\nSELECT madlib.madlib_keras_evaluate('iris_model',    -- model\r\n                                   'iris_test',     -- test table\r\n                                   'iris_validate'  -- output table\r\n                                   );\r\nWARNING:  column \"independent_var\" does not exist\r\nCONTEXT:  PL/Python function \"madlib_keras_evaluate\"\r\nERROR:  plpy.Error: madlib_keras_evaluate error: invalid independent_varname ('independent_var') for test table (iris_test). (plpython.c:5038)\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_evaluate\", line 21, in <module>\r\n    return madlib_keras.evaluate(**globals())\r\n  PL/Python function \"madlib_keras_evaluate\", line 547, in evaluate\r\n  PL/Python function \"madlib_keras_evaluate\", line 155, in __init__\r\n  PL/Python function \"madlib_keras_evaluate\", line 99, in __init__\r\n  PL/Python function \"madlib_keras_evaluate\", line 158, in _validate_input_args\r\n  PL/Python function \"madlib_keras_evaluate\", line 107, in _validate_input_args\r\n  PL/Python function \"madlib_keras_evaluate\", line 132, in _validate_test_tbl_cols\r\n  PL/Python function \"madlib_keras_evaluate\", line 96, in _assert\r\nPL/Python function \"madlib_keras_evaluate\"\r\n```\r\n\r\nThis will be a common mistake, I'm not sure if the message above is the best.\r\n\r\n\r\n(5)\r\nask for gpu when none avail\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_validate;\r\n\r\nSELECT madlib.madlib_keras_evaluate('iris_model',    -- model\r\n                                   'iris_test_packed',     -- training table\r\n                                   'iris_validate',  -- output table\r\n                                   1 -- gpus per host\r\n                                   );\r\n\r\nWARNING:  The number of gpus per host is less than the number of segments per host. The support for this case is experimental and it may fail.\r\nCONTEXT:  PL/Python function \"madlib_keras_evaluate\"\r\nERROR:  plpy.SPIError: tensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device for operation Adam/iterations: node Adam/iterations (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:402) was explicitly assigned to /device:GPU:0 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:XLA_CPU:0 ]. Make sure the device specification refers to a valid device. The requested device appears to be a GPU, but CUDA is not enabled. (plpython.c:5038)  (seg1 slice1 10.128.0.41:40001 pid=20148) (plpython.c:5038)\r\nDETAIL:\r\n\r\n\t [[node Adam/iterations (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:402) ]]\r\n\r\nCaused by op u'Adam/iterations', defined at:\r\n  File \"<string>\", line 1, in <module>\r\n  File \"<string>\", line 7, in __plpython_procedure_internal_keras_eval_transition_110195\r\n  File \"/home/gpadmin/madlib/build/src/ports/greenplum/5/modules/deep_learning/madlib_keras.py\", line 644, in internal_keras_eval_transition\r\n    serialized_weights)\r\n  File \"/home/gpadmin/madlib/build/src/ports/greenplum/5/modules/deep_learning/madlib_keras_wrapper.py\", line 109, in compile_and_set_weights\r\n    compile_model(segment_model, compile_params)\r\n  File \"/home/gpadmin/madlib/build/src/ports/greenplum/5/modules/deep_learning/madlib_keras_wrapper.py\", line 309, in compile_model\r\n    model.compile(**compile_dict)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/engine/training.py\", line 96, in compile\r\n    self.optimizer = optimizers.get(optimizer)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/optimizers.py\", line 796, in get\r\n    return deserialize(config)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/optimizers.py\", line 768, in deserialize\r\n    printable_module_name='optimizer')\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/utils/generic_utils.py\", line 147, in deserialize_keras_object\r\n    return cls.from_config(config['config'])\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/optimizers.py\", line 154, in from_config\r\n    return cls(**config)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/optimizers.py\", line 462, in __init__\r\n    self.iterations = K.variable(0, dtype='int64', name='iterations')\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 402, in variable\r\n    v = tf.Variable(value, dtype=tf.as_dtype(dtype), name=name)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 213, in __call__\r\n    return cls._variable_v1_call(*args, **kwargs)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 176, in _variable_v1_call\r\n    aggregation=aggregation)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 155, in <lambda>\r\n    previous_getter = lambda **kwargs: default_variable_creator(None, **kwargs)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 2495, in default_variable_creator\r\n    expected_shape=expected_shape, import_scope=import_scope)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 217, in __call__\r\n    return super(VariableMetaclass, cls).__call__(*args, **kwargs)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 1395, in __init__\r\n    constraint=constraint)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 1531, in _init_from_args\r\n    name=name)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/state_ops.py\", line 79, in variable_op_v2\r\n    shared_name=shared_name)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 1425, in variable_v2\r\n    shared_name=shared_name, name=name)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 788, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/util/deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 3300, in create_op\r\n    op_def=op_def)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1801, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): Cannot assign a device for operation Adam/iterations: node Adam/iterations (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:402) was explicitly assigned to /device:GPU:0 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:XLA_CPU:0 ]. Make sure the device specification refers to a valid device. The requested device appears to be a GPU, but CUDA is not enabled.\r\n\t [[node Adam/iterations (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:402) ]]\r\nTraceback (most recent call last):\r\n  PL/Python function \"internal_keras_eval_transition\", line 6, in <module>\r\n    return madlib_keras.internal_keras_eval_transition(**globals())\r\n  PL/Python function \"internal_keras_eval_transition\", line 643, in internal_keras_eval_transition\r\n  PL/Python function \"internal_keras_eval_transition\", line 111, in compile_and_set_weights\r\n  PL/Python function \"internal_keras_eval_transition\", line 507, in set_weights\r\n  PL/Python function \"internal_keras_eval_transition\", line 2469, in batch_set_value\r\n  PL/Python function \"internal_keras_eval_transition\", line 198, in get_session\r\n  PL/Python function \"internal_keras_eval_transition\", line 928, in run\r\n  PL/Python function \"internal_keras_eval_transition\", line 1151, in _run\r\n  PL/Python function \"internal_keras_eval_transition\", line 1327, in _do_run\r\n  PL/Python function \"internal_keras_eval_transition\", line 1347, in _do_call\r\nPL/Python function \"internal_keras_eval_transition\"\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_evaluate\", line 21, in <module>\r\n    return madlib_keras.evaluate(**globals())\r\n  PL/Python function \"madlib_keras_evaluate\", line 582, in evaluate\r\n  PL/Python function \"madlib_keras_evaluate\", line 625, in get_loss_metric_from_keras_eval\r\nPL/Python function \"madlib_keras_evaluate\"\r\n```\r\n\r\nIs this ^^^ the right message to throw and stack trace that we want?\r\n\r\n```\r\nDROP TABLE IF EXISTS iris_validate;\r\n\r\nSELECT madlib.madlib_keras_evaluate('iris_model',    -- model\r\n                                   'iris_test_packed',     -- training table\r\n                                   'iris_validate',  -- output table\r\n                                   5 -- gpus per host\r\n                                   );\r\n\r\nERROR:  plpy.SPIError: tensorflow.python.framework.errors_impl.InvalidArgumentError: Cannot assign a device for operation Adam/iterations: node Adam/iterations (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:402) was explicitly assigned to /device:GPU:0 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:XLA_CPU:0 ]. Make sure the device specification refers to a valid device. The requested device appears to be a GPU, but CUDA is not enabled. (plpython.c:5038)  (seg0 slice1 10.128.0.41:40000 pid=20691) (plpython.c:5038)\r\nDETAIL:\r\n\r\n\t [[node Adam/iterations (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:402) ]]\r\n\r\nCaused by op u'Adam/iterations', defined at:\r\n  File \"<string>\", line 1, in <module>\r\n  File \"<string>\", line 7, in __plpython_procedure_internal_keras_eval_transition_110195\r\n  File \"/home/gpadmin/madlib/build/src/ports/greenplum/5/modules/deep_learning/madlib_keras.py\", line 644, in internal_keras_eval_transition\r\n    serialized_weights)\r\n  File \"/home/gpadmin/madlib/build/src/ports/greenplum/5/modules/deep_learning/madlib_keras_wrapper.py\", line 109, in compile_and_set_weights\r\n    compile_model(segment_model, compile_params)\r\n  File \"/home/gpadmin/madlib/build/src/ports/greenplum/5/modules/deep_learning/madlib_keras_wrapper.py\", line 309, in compile_model\r\n    model.compile(**compile_dict)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/engine/training.py\", line 96, in compile\r\n    self.optimizer = optimizers.get(optimizer)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/optimizers.py\", line 796, in get\r\n    return deserialize(config)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/optimizers.py\", line 768, in deserialize\r\n    printable_module_name='optimizer')\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/utils/generic_utils.py\", line 147, in deserialize_keras_object\r\n    return cls.from_config(config['config'])\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/optimizers.py\", line 154, in from_config\r\n    return cls(**config)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/optimizers.py\", line 462, in __init__\r\n    self.iterations = K.variable(0, dtype='int64', name='iterations')\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py\", line 402, in variable\r\n    v = tf.Variable(value, dtype=tf.as_dtype(dtype), name=name)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 213, in __call__\r\n    return cls._variable_v1_call(*args, **kwargs)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 176, in _variable_v1_call\r\n    aggregation=aggregation)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 155, in <lambda>\r\n    previous_getter = lambda **kwargs: default_variable_creator(None, **kwargs)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variable_scope.py\", line 2495, in default_variable_creator\r\n    expected_shape=expected_shape, import_scope=import_scope)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 217, in __call__\r\n    return super(VariableMetaclass, cls).__call__(*args, **kwargs)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 1395, in __init__\r\n    constraint=constraint)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/variables.py\", line 1531, in _init_from_args\r\n    name=name)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/state_ops.py\", line 79, in variable_op_v2\r\n    shared_name=shared_name)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/ops/gen_state_ops.py\", line 1425, in variable_v2\r\n    shared_name=shared_name, name=name)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/framework/op_def_library.py\", line 788, in _apply_op_helper\r\n    op_def=op_def)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/util/deprecation.py\", line 507, in new_func\r\n    return func(*args, **kwargs)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 3300, in create_op\r\n    op_def=op_def)\r\n  File \"/home/gpadmin/.local/lib/python2.7/site-packages/tensorflow/python/framework/ops.py\", line 1801, in __init__\r\n    self._traceback = tf_stack.extract_stack()\r\n\r\nInvalidArgumentError (see above for traceback): Cannot assign a device for operation Adam/iterations: node Adam/iterations (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:402) was explicitly assigned to /device:GPU:0 but available devices are [ /job:localhost/replica:0/task:0/device:CPU:0, /job:localhost/replica:0/task:0/device:XLA_CPU:0 ]. Make sure the device specification refers to a valid device. The requested device appears to be a GPU, but CUDA is not enabled.\r\n\t [[node Adam/iterations (defined at /home/gpadmin/.local/lib/python2.7/site-packages/keras/backend/tensorflow_backend.py:402) ]]\r\nTraceback (most recent call last):\r\n  PL/Python function \"internal_keras_eval_transition\", line 6, in <module>\r\n    return madlib_keras.internal_keras_eval_transition(**globals())\r\n  PL/Python function \"internal_keras_eval_transition\", line 643, in internal_keras_eval_transition\r\n  PL/Python function \"internal_keras_eval_transition\", line 111, in compile_and_set_weights\r\n  PL/Python function \"internal_keras_eval_transition\", line 507, in set_weights\r\n  PL/Python function \"internal_keras_eval_transition\", line 2469, in batch_set_value\r\n  PL/Python function \"internal_keras_eval_transition\", line 198, in get_session\r\n  PL/Python function \"internal_keras_eval_transition\", line 928, in run\r\n  PL/Python function \"internal_keras_eval_transition\", line 1151, in _run\r\n  PL/Python function \"internal_keras_eval_transition\", line 1327, in _do_run\r\n  PL/Python function \"internal_keras_eval_transition\", line 1347, in _do_call\r\nPL/Python function \"internal_keras_eval_transition\"\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_evaluate\", line 21, in <module>\r\n    return madlib_keras.evaluate(**globals())\r\n  PL/Python function \"madlib_keras_evaluate\", line 582, in evaluate\r\n  PL/Python function \"madlib_keras_evaluate\", line 625, in get_loss_metric_from_keras_eval\r\nPL/Python function \"madlib_keras_evaluate\"\r\n```\r\n\r\nIs this ^^^ the right message to throw and stack trace that we want?\r\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497890456/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497897531","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-497897531","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":497897531,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Nzg5NzUzMQ==","user":{"login":"khannaekta","id":15749573,"node_id":"MDQ6VXNlcjE1NzQ5NTcz","avatar_url":"https://avatars.githubusercontent.com/u/15749573?v=4","gravatar_id":"","url":"https://api.github.com/users/khannaekta","html_url":"https://github.com/khannaekta","followers_url":"https://api.github.com/users/khannaekta/followers","following_url":"https://api.github.com/users/khannaekta/following{/other_user}","gists_url":"https://api.github.com/users/khannaekta/gists{/gist_id}","starred_url":"https://api.github.com/users/khannaekta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/khannaekta/subscriptions","organizations_url":"https://api.github.com/users/khannaekta/orgs","repos_url":"https://api.github.com/users/khannaekta/repos","events_url":"https://api.github.com/users/khannaekta/events{/privacy}","received_events_url":"https://api.github.com/users/khannaekta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-01T00:38:16Z","updated_at":"2019-06-01T00:38:16Z","author_association":"CONTRIBUTOR","body":"Addressed comment (4) above to error out with a similar error as `madlib_keras_fit()` when passed in a non-minibatched input table","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497897531/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497897898","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-497897898","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":497897898,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Nzg5Nzg5OA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-01T00:42:08Z","updated_at":"2019-06-01T00:42:08Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/952/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497897898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497898299","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-497898299","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":497898299,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5Nzg5ODI5OQ==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-01T00:46:08Z","updated_at":"2019-06-01T00:46:08Z","author_association":"NONE","body":"When I tried (4) again I got\r\n```\r\nERROR:  plpy.Error: madlib_keras_evaluate error: Input table 'iris_test_summary' does not exist (plpython.c:5038)\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"madlib_keras_evaluate\", line 21, in <module>\r\n    return madlib_keras.evaluate(**globals())\r\n  PL/Python function \"madlib_keras_evaluate\", line 547, in evaluate\r\n  PL/Python function \"madlib_keras_evaluate\", line 156, in __init__\r\n  PL/Python function \"madlib_keras_evaluate\", line 99, in __init__\r\n  PL/Python function \"madlib_keras_evaluate\", line 159, in _validate_input_args\r\n  PL/Python function \"madlib_keras_evaluate\", line 671, in input_tbl_valid\r\nPL/Python function \"madlib_keras_evaluate\"\r\n```\r\n\r\nwhich is a better message. \r\n\r\nLGTM","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/497898299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498347468","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-498347468","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":498347468,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODM0NzQ2OA==","user":{"login":"khannaekta","id":15749573,"node_id":"MDQ6VXNlcjE1NzQ5NTcz","avatar_url":"https://avatars.githubusercontent.com/u/15749573?v=4","gravatar_id":"","url":"https://api.github.com/users/khannaekta","html_url":"https://github.com/khannaekta","followers_url":"https://api.github.com/users/khannaekta/followers","following_url":"https://api.github.com/users/khannaekta/following{/other_user}","gists_url":"https://api.github.com/users/khannaekta/gists{/gist_id}","starred_url":"https://api.github.com/users/khannaekta/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/khannaekta/subscriptions","organizations_url":"https://api.github.com/users/khannaekta/orgs","repos_url":"https://api.github.com/users/khannaekta/repos","events_url":"https://api.github.com/users/khannaekta/events{/privacy}","received_events_url":"https://api.github.com/users/khannaekta/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T17:18:47Z","updated_at":"2019-06-03T17:18:47Z","author_association":"CONTRIBUTOR","body":"Jenkins ok to test","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498347468/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498352780","html_url":"https://github.com/apache/madlib/pull/402#issuecomment-498352780","issue_url":"https://api.github.com/repos/apache/madlib/issues/402","id":498352780,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODM1Mjc4MA==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T17:33:20Z","updated_at":"2019-06-03T17:33:57Z","author_association":"NONE","body":"(1)\r\ntrain for 3 iterations\r\n```\r\nDROP TABLE IF EXISTS iris_model, iris_model_summary;\r\n\r\nSELECT madlib.madlib_keras_fit('iris_train_packed',   -- source table\r\n                               'iris_model',          -- model output table\r\n                               'model_arch_library',  -- model arch table\r\n                                1,                    -- model arch id\r\n                                $$ loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'] $$,  -- compile_params\r\n                                $$ batch_size=5, epochs=3 $$,  -- fit_params\r\n                                3,                   -- num_iterations\r\n                                0,                    -- GPUs per host\r\n                                'iris_test_packed',   -- validation dataset\r\n                                1                    -- metrics compute frequency\r\n                              );\r\n\r\nSELECT * FROM iris_model_summary;\r\n\r\n-[ RECORD 1 ]-------------+--------------------------------------------------------------------------\r\nsource_table              | iris_train_packed\r\nmodel                     | iris_model\r\ndependent_varname         | class_text\r\nindependent_varname       | attributes\r\nmodel_arch_table          | model_arch_library\r\nmodel_arch_id             | 1\r\ncompile_params            |  loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy']\r\nfit_params                |  batch_size=5, epochs=3\r\nnum_iterations            | 3\r\nvalidation_table          | iris_test_packed\r\nmetrics_compute_frequency | 1\r\nname                      |\r\ndescription               |\r\nmodel_type                | madlib_keras\r\nmodel_size                | 0.7900390625\r\nstart_training_time       | 2019-06-03 17:18:58.692221\r\nend_training_time         | 2019-06-03 17:19:04.165636\r\nmetrics_elapsed_time      | {2.97064995765686,4.35413503646851,5.47341108322144}\r\nmadlib_version            | 1.16-dev\r\nnum_classes               | 3\r\nclass_values              | {Iris-setosa,Iris-versicolor,Iris-virginica}\r\ndependent_vartype         | character varying\r\nnormalizing_const         | 1\r\nmetrics_type              | {accuracy}\r\ntraining_metrics_final    | 0.833333313465\r\ntraining_loss_final       | 0.578077852726\r\ntraining_metrics          | {0.666666686534882,0.708333313465118,0.833333313465118}\r\ntraining_loss             | {0.75943660736084,0.655552685260773,0.578077852725983}\r\nvalidation_metrics_final  | 0.833333313465\r\nvalidation_loss_final     | 0.574034750462\r\nvalidation_metrics        | {0.666666686534882,0.666666686534882,0.833333313465118}\r\nvalidation_loss           | {0.756515920162201,0.653064906597137,0.574034750461578}\r\nmetrics_iters             | {1,2,3}\r\n```\r\n\r\n\r\n(2)\r\ndo warm start 2 times\r\n```\r\nSELECT madlib.madlib_keras_fit('iris_train_packed',   -- source table\r\n                               'iris_model',          -- model output table\r\n                               'model_arch_library',  -- model arch table\r\n                                1,                    -- model arch id\r\n                                $$ loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'] $$,  -- compile_params\r\n                                $$ batch_size=5, epochs=3 $$,  -- fit_params\r\n                                3,                   -- num_iterations\r\n                                0,                    -- GPUs per host\r\n                                'iris_test_packed',   -- validation dataset\r\n                                1,                    -- metrics compute frequency\r\n                                TRUE                  -- warm start\r\n                              );\r\n```\r\n\r\nfrom orig fit\r\n```\r\ntraining_metrics_final    | 0.833333313465\r\ntraining_loss_final       | 0.578077852726\r\ntraining_metrics          | {0.666666686534882,0.708333313465118,0.833333313465118}\r\ntraining_loss             | {0.75943660736084,0.655552685260773,0.578077852725983}\r\nvalidation_metrics_final  | 0.833333313465\r\nvalidation_loss_final     | 0.574034750462\r\nvalidation_metrics        | {0.666666686534882,0.666666686534882,0.833333313465118}\r\nvalidation_loss           | {0.756515920162201,0.653064906597137,0.574034750461578}\r\nmetrics_iters             | {1,2,3}\r\n```\r\n\r\n\r\nwarm start 1:\r\n```\r\ntraining_metrics_final    | 0.891666650772\r\ntraining_loss_final       | 0.430346846581\r\ntraining_metrics          | {0.841666638851166,0.899999976158142,0.891666650772095}\r\ntraining_loss             | {0.514156401157379,0.466687709093094,0.430346846580505}\r\nvalidation_metrics_final  | 0.966666638851\r\nvalidation_loss_final     | 0.421454459429\r\nvalidation_metrics        | {0.866666674613953,0.966666638851166,0.966666638851166}\r\nvalidation_loss           | {0.509902536869049,0.459847092628479,0.421454459428787}\r\nmetrics_iters             | {1,2,3}\r\n```\r\n\r\n\r\nwarm start 2:\r\n```\r\ntraining_metrics_final    | 0.941666662693\r\ntraining_loss_final       | 0.362128138542\r\ntraining_metrics          | {0.933333337306976,0.941666662693024,0.941666662693024}\r\ntraining_loss             | {0.402873665094376,0.381914019584656,0.362128138542175}\r\nvalidation_metrics_final  | 1\r\nvalidation_loss_final     | 0.345562160015\r\nvalidation_metrics        | {1,1,1}\r\nvalidation_loss           | {0.391709893941879,0.367107719182968,0.345562160015106}\r\nmetrics_iters             | {1,2,3}\r\n```\r\n\r\nOK, looks like both metric and loss carry on from where they left off\r\n\r\n\r\n(3)\r\nwarm start and change model_id\r\n```\r\nSELECT madlib.madlib_keras_fit('iris_train_packed',   -- source table\r\n                               'iris_model',          -- model output table\r\n                               'model_arch_library',  -- model arch table\r\n                                2,                    -- model arch id\r\n                                $$ loss='categorical_crossentropy', optimizer='adam', metrics=['accuracy'] $$,  -- compile_params\r\n                                $$ batch_size=5, epochs=3 $$,  -- fit_params\r\n                                3,                   -- num_iterations\r\n                                0,                    -- GPUs per host\r\n                                'iris_test_packed',   -- validation dataset\r\n                                1,                    -- metrics compute frequency\r\n                                TRUE                  -- warm start\r\n                              );\r\n\r\ntraining_metrics_final    | 0.958333313465\r\ntraining_loss_final       | 0.313535839319\r\ntraining_metrics          | {0.958333313465118,0.958333313465118,0.958333313465118}\r\ntraining_loss             | {0.345191985368729,0.328865617513657,0.313535839319229}\r\nvalidation_metrics_final  | 1\r\nvalidation_loss_final     | 0.2869117558\r\nvalidation_metrics        | {1,1,1}\r\nvalidation_loss           | {0.325278729200363,0.306510925292969,0.286911755800247}\r\nmetrics_iters             | {1,2,3}\r\n```\r\n\r\nOK, carries on from where it left off\r\n\r\nLGTM","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498352780/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498359662","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-498359662","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":498359662,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODM1OTY2Mg==","user":{"login":"njayaram2","id":17437260,"node_id":"MDQ6VXNlcjE3NDM3MjYw","avatar_url":"https://avatars.githubusercontent.com/u/17437260?v=4","gravatar_id":"","url":"https://api.github.com/users/njayaram2","html_url":"https://github.com/njayaram2","followers_url":"https://api.github.com/users/njayaram2/followers","following_url":"https://api.github.com/users/njayaram2/following{/other_user}","gists_url":"https://api.github.com/users/njayaram2/gists{/gist_id}","starred_url":"https://api.github.com/users/njayaram2/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/njayaram2/subscriptions","organizations_url":"https://api.github.com/users/njayaram2/orgs","repos_url":"https://api.github.com/users/njayaram2/repos","events_url":"https://api.github.com/users/njayaram2/events{/privacy}","received_events_url":"https://api.github.com/users/njayaram2/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T17:53:08Z","updated_at":"2019-06-03T17:53:08Z","author_association":"CONTRIBUTOR","body":"Jenkins, ok to test.","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498359662/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498371027","html_url":"https://github.com/apache/madlib/pull/402#issuecomment-498371027","issue_url":"https://api.github.com/repos/apache/madlib/issues/402","id":498371027,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODM3MTAyNw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T18:24:36Z","updated_at":"2019-06-03T18:24:36Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/953/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498371027/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498379802","html_url":"https://github.com/apache/madlib/pull/395#issuecomment-498379802","issue_url":"https://api.github.com/repos/apache/madlib/issues/395","id":498379802,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODM3OTgwMg==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T18:49:51Z","updated_at":"2019-06-03T18:49:51Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/954/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498379802/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498394967","html_url":"https://github.com/apache/madlib/pull/403#issuecomment-498394967","issue_url":"https://api.github.com/repos/apache/madlib/issues/403","id":498394967,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODM5NDk2Nw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T19:33:09Z","updated_at":"2019-06-03T19:33:09Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/955/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498394967/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498402198","html_url":"https://github.com/apache/madlib/pull/402#issuecomment-498402198","issue_url":"https://api.github.com/repos/apache/madlib/issues/402","id":498402198,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODQwMjE5OA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T19:54:43Z","updated_at":"2019-06-03T19:54:43Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/956/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498402198/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498412809","html_url":"https://github.com/apache/madlib/pull/402#issuecomment-498412809","issue_url":"https://api.github.com/repos/apache/madlib/issues/402","id":498412809,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODQxMjgwOQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-03T20:25:22Z","updated_at":"2019-06-03T20:25:22Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/957/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498412809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498878145","html_url":"https://github.com/apache/madlib/pull/404#issuecomment-498878145","issue_url":"https://api.github.com/repos/apache/madlib/issues/404","id":498878145,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODg3ODE0NQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-04T23:18:33Z","updated_at":"2019-06-04T23:18:33Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/958/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498878145/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498887783","html_url":"https://github.com/apache/madlib/pull/404#issuecomment-498887783","issue_url":"https://api.github.com/repos/apache/madlib/issues/404","id":498887783,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODg4Nzc4Mw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T00:05:13Z","updated_at":"2019-06-05T00:05:13Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/959/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/498887783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499226945","html_url":"https://github.com/apache/madlib/pull/405#issuecomment-499226945","issue_url":"https://api.github.com/repos/apache/madlib/issues/405","id":499226945,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTIyNjk0NQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T19:42:32Z","updated_at":"2019-06-05T19:42:32Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/960/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499226945/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499276413","html_url":"https://github.com/apache/madlib/pull/406#issuecomment-499276413","issue_url":"https://api.github.com/repos/apache/madlib/issues/406","id":499276413,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTI3NjQxMw==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T22:17:47Z","updated_at":"2019-06-05T22:17:47Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/961/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499276413/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499281819","html_url":"https://github.com/apache/madlib/pull/406#issuecomment-499281819","issue_url":"https://api.github.com/repos/apache/madlib/issues/406","id":499281819,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTI4MTgxOQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T22:38:52Z","updated_at":"2019-06-05T22:38:52Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/962/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499281819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499288758","html_url":"https://github.com/apache/madlib/pull/403#issuecomment-499288758","issue_url":"https://api.github.com/repos/apache/madlib/issues/403","id":499288758,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTI4ODc1OA==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-05T23:09:29Z","updated_at":"2019-06-05T23:10:24Z","author_association":"NONE","body":"```\r\nDROP TABLE IF EXISTS houses;\r\nCREATE TABLE houses (id INT, tax INT, bedroom INT, bath FLOAT, price INT,\r\n            size INT, lot INT, price2 TEXT);\r\nINSERT INTO houses VALUES\r\n  (1 ,  590 ,       2 ,    1 ,  50000 ,  770 , 22100, 'lt100k'),\r\n  (2 , 1050 ,       3 ,    2 ,  85000 , 1410 , 12000, 'lt100k'),\r\n  (3 ,   20 ,       3 ,    1 ,  22500 , 1060 ,  3500, 'lt100k'),\r\n  (4 ,  870 ,       2 ,    2 ,  90000 , 1300 , 17500, 'lt100k'),\r\n  (5 , 1320 ,       3 ,    2 , 133000 , 1500 , 30000, 'gt100k'),\r\n  (6 , 1350 ,       2 ,    1 ,  90500 ,  820 , 25700, 'lt100k'),\r\n  (7 , 2790 ,       3 ,  2.5 , 260000 , 2130 , 25000, 'gt100k'),\r\n  (8 ,  680 ,       2 ,    1 , 142500 , 1170 , 22000, 'gt100k'),\r\n  (9 , 1840 ,       3 ,    2 , 160000 , 1500 , 19000, 'gt100k'),\r\n (10 , 3680 ,       4 ,    2 , 240000 , 2790 , 20000, 'gt100k'),\r\n (11 , 1660 ,       3 ,    1 ,  87000 , 1030 , 17500, 'lt100k'),\r\n (12 , 1620 ,       3 ,    2 , 118600 , 1250 , 20000, 'gt100k'),\r\n (13 , 3100 ,       3 ,    2 , 140000 , 1760 , 38000, 'gt100k'),\r\n (14 , 2070 ,       2 ,    3 , 148000 , 1550 , 14000, 'gt100k'),\r\n (15 ,  650 ,       3 ,  1.5 ,  65000 , 1450 , 12000, 'lt100k');\r\n```\r\n\r\n```\r\nDROP TABLE IF EXISTS houses_svm_gaussian, houses_svm_gaussian_summary, houses_svm_gaussian_random;\r\nSELECT madlib.svm_classification( 'houses',\r\n                                  'houses_svm_gaussian',\r\n                                  'price < 150000',\r\n                                  'ARRAY[1, tax, bath, size]',\r\n                                  'gaussian',\r\n                                  'n_components=10',\r\n                                  '',\r\n                                  'init_stepsize=1, max_iter=200, class_weight=balanced'\r\n                           );\r\n\\x on\r\nSELECT * FROM houses_svm_gaussian;\r\n\r\n-[ RECORD 1 ]------+-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ncoef               | {0.714844965488907,0.250318127518095,-2.38928383420753,0.496511319241991,-0.732968736678418,0.405804203439028,-0.382933445051466,1.03493605457998,1.36269794687058,1.34976308449158}\r\nloss               | 0.573568156888657\r\nnorm_of_gradient   | 1.31262747172053\r\nnum_iterations     | 176\r\nnum_rows_processed | 15\r\nnum_rows_skipped   | 0\r\ndep_var_mapping    | {f,t}\r\n```\r\n\r\n```\r\nDROP TABLE IF EXISTS houses_svm_gaussian, houses_svm_gaussian_summary, houses_svm_gaussian_random;\r\nSELECT madlib.svm_classification( 'houses',\r\n                                  'houses_svm_gaussian',\r\n                                  'price < 150000',\r\n                                  'ARRAY[1, tax, bath, size]',\r\n                                  'gaussian',\r\n                                  'n_components=10',\r\n                                  '',\r\n                                  'init_stepsize=1, max_iter=200, class_weight={true:1, false:3}'\r\n                           );\r\n\\x on\r\nSELECT * FROM houses_svm_gaussian;\r\n\r\n-[ RECORD 1 ]------+------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ncoef               | {0.930683028668259,0.505925477275442,-2.56846778339476,0.556405030919901,-1.07556735802439,0.325697706517631,-0.872494815785118,1.39148131884382,1.41452211430188,2.02648079470983}\r\nloss               | 0.526907702801827\r\nnorm_of_gradient   | 1.73625539167368\r\nnum_iterations     | 148\r\nnum_rows_processed | 15\r\nnum_rows_skipped   | 0\r\ndep_var_mapping    | {f,t}\r\n```\r\n\r\n```\r\nDROP TABLE IF EXISTS houses_svm_gaussian, houses_svm_gaussian_summary, houses_svm_gaussian_random;\r\nSELECT madlib.svm_classification( 'houses',\r\n                                  'houses_svm_gaussian',\r\n                                  'price < 150000',\r\n                                  'ARRAY[1, tax, bath, size]',\r\n                                  'gaussian',\r\n                                  'n_components=10',\r\n                                  '',\r\n                                  'init_stepsize=1, max_iter=200, class_weight={false:3}'\r\n                           );\r\n\\x on\r\nSELECT * FROM houses_svm_gaussian;\r\n\r\n-[ RECORD 1 ]------+----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ncoef               | {0.812714358084175,0.516611089846274,-2.65310766450326,0.67665375700828,-1.1073276109641,0.303844438423391,-0.958238313229976,1.30096201645626,1.44218799133577,2.20663265611754}\r\nloss               | 0.518638591961475\r\nnorm_of_gradient   | 1.45988195776794\r\nnum_iterations     | 183\r\nnum_rows_processed | 15\r\nnum_rows_skipped   | 0\r\ndep_var_mapping    | {f,t}\r\n```\r\n\r\n```\r\nDROP TABLE IF EXISTS houses_svm_gaussian, houses_svm_gaussian_summary, houses_svm_gaussian_random;\r\nSELECT madlib.svm_classification( 'houses',\r\n                                  'houses_svm_gaussian',\r\n                                  'price2',\r\n                                  'ARRAY[1, tax, bath, size]',\r\n                                  'gaussian',\r\n                                  'n_components=10',\r\n                                  '',\r\n                                  'init_stepsize=1, max_iter=200, class_weight={gt100k:1, lt100k:3}'\r\n                           );\r\n\\x on\r\nSELECT * FROM houses_svm_gaussian;\r\n\r\n-[ RECORD 1 ]------+--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------\r\ncoef               | {-1.88839942488571,1.99106255876569,-0.795671096255553,2.1633019248309,2.92527682698349,-0.168696166478298,2.5589349412574,3.40128219835538,0.860916227855357,3.07703136724834}\r\nloss               | 0\r\nnorm_of_gradient   | 0\r\nnum_iterations     | 200\r\nnum_rows_processed | 15\r\nnum_rows_skipped   | 0\r\ndep_var_mapping    | {gt100k,lt100k}\r\n```\r\n\r\n```\r\nDROP TABLE IF EXISTS houses_svm_gaussian, houses_svm_gaussian_summary, houses_svm_gaussian_random;\r\nSELECT madlib.svm_classification( 'houses',\r\n                                  'houses_svm_gaussian',\r\n                                  'price2',\r\n                                  'ARRAY[1, tax, bath, size]',\r\n                                  'gaussian',\r\n                                  'n_components=10',\r\n                                  '',\r\n                                  'init_stepsize=1, max_iter=200, class_weight={qqq:1, lt100k:3}'\r\n                           );\r\n\\x on\r\nSELECT * FROM houses_svm_gaussian;\r\n\r\nERROR:  plpy.Error: SVM: Key 'qqq' in '{qqq:1, lt100k:3}' is not a valid class label. (plpython.c:5038)\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"svm_classification\", line 24, in <module>\r\n    return svm.svm(**globals())\r\n  PL/Python function \"svm_classification\", line 816, in svm\r\n  PL/Python function \"svm_classification\", line 1068, in _svm_parsed_params\r\n  PL/Python function \"svm_classification\", line 982, in _compute_class_weight_sql\r\n  PL/Python function \"svm_classification\", line 96, in _assert\r\nPL/Python function \"svm_classification\"\r\nmadlib=# \\x on\r\nExpanded display is on.\r\nmadlib=# SELECT * FROM houses_svm_gaussian;\r\nERROR:  relation \"houses_svm_gaussian\" does not exist\r\nLINE 1: SELECT * FROM houses_svm_gaussian;\r\n```\r\n\r\n```\r\nDROP TABLE IF EXISTS houses_svm_gaussian, houses_svm_gaussian_summary, houses_svm_gaussian_random;\r\nSELECT madlib.svm_classification( 'houses',\r\n                                  'houses_svm_gaussian',\r\n                                  'price2',\r\n                                  'ARRAY[1, tax, bath, size]',\r\n                                  'gaussian',\r\n                                  'n_components=10',\r\n                                  '',\r\n                                  'init_stepsize=1, max_iter=200, class_weight={gt100k:1, lt100k:3, qqq:2}'\r\n                           );\r\n\\x on\r\nSELECT * FROM houses_svm_gaussian;\r\n\r\nERROR:  plpy.Error: SVM: Only binary classification is supported. The class_weight param should have at least one and at most two labels in it. (plpython.c:5038)\r\nCONTEXT:  Traceback (most recent call last):\r\n  PL/Python function \"svm_classification\", line 24, in <module>\r\n    return svm.svm(**globals())\r\n  PL/Python function \"svm_classification\", line 816, in svm\r\n  PL/Python function \"svm_classification\", line 1068, in _svm_parsed_params\r\n  PL/Python function \"svm_classification\", line 966, in _compute_class_weight_sql\r\n  PL/Python function \"svm_classification\", line 96, in _assert\r\nPL/Python function \"svm_classification\"\r\nmadlib=# \\x on\r\nExpanded display is on.\r\nmadlib=# SELECT * FROM houses_svm_gaussian;\r\nERROR:  relation \"houses_svm_gaussian\" does not exist\r\nLINE 1: SELECT * FROM houses_svm_gaussian;\r\n```\r\n\r\nLGTM","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499288758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499709009","html_url":"https://github.com/apache/madlib/pull/406#issuecomment-499709009","issue_url":"https://api.github.com/repos/apache/madlib/issues/406","id":499709009,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTcwOTAwOQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-06T23:48:22Z","updated_at":"2019-06-06T23:48:22Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/963/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499709009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499942895","html_url":"https://github.com/apache/madlib/pull/406#issuecomment-499942895","issue_url":"https://api.github.com/repos/apache/madlib/issues/406","id":499942895,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTk0Mjg5NQ==","user":{"login":"fmcquillan99","id":10538173,"node_id":"MDQ6VXNlcjEwNTM4MTcz","avatar_url":"https://avatars.githubusercontent.com/u/10538173?v=4","gravatar_id":"","url":"https://api.github.com/users/fmcquillan99","html_url":"https://github.com/fmcquillan99","followers_url":"https://api.github.com/users/fmcquillan99/followers","following_url":"https://api.github.com/users/fmcquillan99/following{/other_user}","gists_url":"https://api.github.com/users/fmcquillan99/gists{/gist_id}","starred_url":"https://api.github.com/users/fmcquillan99/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fmcquillan99/subscriptions","organizations_url":"https://api.github.com/users/fmcquillan99/orgs","repos_url":"https://api.github.com/users/fmcquillan99/repos","events_url":"https://api.github.com/users/fmcquillan99/events{/privacy}","received_events_url":"https://api.github.com/users/fmcquillan99/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T16:02:24Z","updated_at":"2019-06-07T16:02:24Z","author_association":"NONE","body":"Thanks @orhankislal I updated with your suggestions.","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499942895/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499952680","html_url":"https://github.com/apache/madlib/pull/406#issuecomment-499952680","issue_url":"https://api.github.com/repos/apache/madlib/issues/406","id":499952680,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTk1MjY4MA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T16:32:25Z","updated_at":"2019-06-07T16:32:25Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/964/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499952680/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499972518","html_url":"https://github.com/apache/madlib/pull/407#issuecomment-499972518","issue_url":"https://api.github.com/repos/apache/madlib/issues/407","id":499972518,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5OTk3MjUxOA==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T17:32:50Z","updated_at":"2019-06-07T17:32:50Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/965/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/499972518/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/apache/madlib/issues/comments/500052931","html_url":"https://github.com/apache/madlib/pull/408#issuecomment-500052931","issue_url":"https://api.github.com/repos/apache/madlib/issues/408","id":500052931,"node_id":"MDEyOklzc3VlQ29tbWVudDUwMDA1MjkzMQ==","user":{"login":"asfgit","id":1341245,"node_id":"MDQ6VXNlcjEzNDEyNDU=","avatar_url":"https://avatars.githubusercontent.com/u/1341245?v=4","gravatar_id":"","url":"https://api.github.com/users/asfgit","html_url":"https://github.com/asfgit","followers_url":"https://api.github.com/users/asfgit/followers","following_url":"https://api.github.com/users/asfgit/following{/other_user}","gists_url":"https://api.github.com/users/asfgit/gists{/gist_id}","starred_url":"https://api.github.com/users/asfgit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/asfgit/subscriptions","organizations_url":"https://api.github.com/users/asfgit/orgs","repos_url":"https://api.github.com/users/asfgit/repos","events_url":"https://api.github.com/users/asfgit/events{/privacy}","received_events_url":"https://api.github.com/users/asfgit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-06-07T22:01:02Z","updated_at":"2019-06-07T22:01:02Z","author_association":"NONE","body":"\nRefer to this link for build results (access rights to CI server needed): \nhttps://builds.apache.org/job/madlib-pr-build/966/\n","reactions":{"url":"https://api.github.com/repos/apache/madlib/issues/comments/500052931/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]